/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
import{r as i,c as t,h as s,H as l,g as o,a as h}from"./p-8bbb13df.js";import{D as n,S as e,I as d}from"./p-15e79606.js";function c(i,t){const s=document.createElement("calcite-tooltip");return s.innerHTML=i,s.style.setProperty("opacity","1"),void 0!==t&&(s.referenceElement=t),document.body.appendChild(s),s}function a(i){return null==i||i.remove(),null}const v=class{constructor(s){i(this,s),this.arcgisChartsDefaultActionSelect=t(this,"arcgisChartsDefaultActionSelect",7),this.arcgisChartsActionBarToggle=t(this,"arcgisChartsActionBarToggle",7),this.expandAction=null,this.handleDefaultActionClick=i=>{const t=i.target,s={actionId:t.id,actionActive:!1};switch(t.id){case n.Legend:this.activateLegend=!1===this.activateLegend,s.actionActive=this.activateLegend;break;case n.RotateChart:this.activateRotateChart=!1===this.activateRotateChart,s.actionActive=this.activateRotateChart;break;case n.FilterBySelection:this.activateFilterBySelection=!1===this.activateFilterBySelection,s.actionActive=this.activateFilterBySelection;break;case n.FilterByExtent:this.activateFilterByExtent=!1===this.activateFilterByExtent,s.actionActive=this.activateFilterByExtent;break;case n.Selection:this.activateSelection=!0,this.activateZoom=!1,s.actionActive=this.activateSelection;break;case n.Zoom:this.activateSelection=!1,this.activateZoom=!0,s.actionActive=this.activateZoom;break;case n.ClearSelection:this.disableClearSelection=!0,s.actionActive=this.activateClearSelection}this.arcgisChartsDefaultActionSelect.emit(s)},this.handleCalciteActionBarToggle=()=>{this.expanded=this.calciteActionBar.expanded,this.setCustomActionsExpanded(),this.arcgisChartsActionBarToggle.emit(this.expanded)},this.handleMouseOver=i=>{if(!1===this.calciteActionBar.expanded){const t=i.target;let s;void 0!==this.actionTooltip&&(this.actionTooltip=a(this.actionTooltip)),"CALCITE-ACTION"===(null==t?void 0:t.tagName)?s=t:"DIV"===(null==t?void 0:t.tagName)&&(s=t.firstChild),void 0!==s&&(this.actionTooltip=c(s.text,s),this.actionTooltip.open=!0)}else this.actionTooltip=a(this.actionTooltip)},this.handleMouseOut=()=>{null!==this.actionTooltip&&(this.actionTooltip=a(this.actionTooltip))},this.handleSlotChange=i=>{const t=i.target.assignedElements();for(const i of t)i.onmouseover=this.handleMouseOver},this.forceDisableActions=!1,this.activateLegend=!1,this.disableLegend=!1,this.legendTitle=void 0,this.activateRotateChart=!1,this.disableRotateChart=!1,this.rotateChartTitle=void 0,this.activateFilterBySelection=!1,this.disableFilterBySelection=!0,this.filterBySelectionTitle=void 0,this.activateFilterByExtent=!1,this.disableFilterByExtent=!1,this.filterByExtentTitle=void 0,this.activateSelection=!1,this.disableSelection=!1,this.selectionTitle=void 0,this.activateZoom=!1,this.disableZoom=!1,this.zoomTitle=void 0,this.activateFullExtent=!1,this.disableFullExtent=!1,this.fullExtentTitle=void 0,this.activateClearSelection=!1,this.disableClearSelection=!1,this.clearSelectionTitle=void 0,this.activateSwitchSelection=!1,this.disableSwitchSelection=!1,this.switchSelectionTitle=void 0,this.expanded=!1,this.actionBarHideActionsProps=void 0,this.actionTooltip=null}renderDefaultActions(){var i,t,l,o,h,e,d,c,a,v,u,r,b,g,f,p,x,m,k,C,O,M,A,D,w,I,T,y,S,E,j,B,L,R,z,H;return[!0!==(null===(i=this.actionBarHideActionsProps)||void 0===i?void 0:i.hideLegend)||!0!==(null===(t=this.actionBarHideActionsProps)||void 0===t?void 0:t.hideRotateChart)?s("calcite-action-group",null,!0!==(null===(l=this.actionBarHideActionsProps)||void 0===l?void 0:l.hideLegend)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.Legend,text:null!==(o=this.legendTitle)&&void 0!==o?o:null===(h=this.strings)||void 0===h?void 0:h.legend,active:this.activateLegend,disabled:this.disableLegend||this.forceDisableActions,onClick:this.handleDefaultActionClick},s("calcite-icon",{icon:"legend",scale:"s",flipRtl:!0}))):null,!0!==(null===(e=this.actionBarHideActionsProps)||void 0===e?void 0:e.hideRotateChart)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.RotateChart,icon:"rotate",text:null!==(d=this.rotateChartTitle)&&void 0!==d?d:null===(c=this.strings)||void 0===c?void 0:c.rotateChart,active:this.activateRotateChart,disabled:this.disableRotateChart||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null,!0!==(null===(a=this.actionBarHideActionsProps)||void 0===a?void 0:a.hideFilterBySelection)||!0!==(null===(v=this.actionBarHideActionsProps)||void 0===v?void 0:v.hideFilterByExtent)?s("calcite-action-group",null,!0!==(null===(u=this.actionBarHideActionsProps)||void 0===u?void 0:u.hideFilterBySelection)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.FilterBySelection,icon:"selection-filter",text:null!==(r=this.filterBySelectionTitle)&&void 0!==r?r:null===(b=this.strings)||void 0===b?void 0:b.filterBySelection,active:this.activateFilterBySelection,disabled:this.disableFilterBySelection||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==(null===(g=this.actionBarHideActionsProps)||void 0===g?void 0:g.hideFilterByExtent)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.FilterByExtent,icon:"extent-filter",text:null!==(f=this.filterByExtentTitle)&&void 0!==f?f:null===(p=this.strings)||void 0===p?void 0:p.filterByExtent,active:this.activateFilterByExtent,disabled:this.disableFilterByExtent||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null,!0!==(null===(x=this.actionBarHideActionsProps)||void 0===x?void 0:x.hideSelection)||!0!==(null===(m=this.actionBarHideActionsProps)||void 0===m?void 0:m.hideZoom)||!0!==(null===(k=this.actionBarHideActionsProps)||void 0===k?void 0:k.hideFullExtent)||!0!==(null===(C=this.actionBarHideActionsProps)||void 0===C?void 0:C.hideClearSelection)||!0!==(null===(O=this.actionBarHideActionsProps)||void 0===O?void 0:O.hideSwitchSelection)?s("calcite-action-group",null,!0!==(null===(M=this.actionBarHideActionsProps)||void 0===M?void 0:M.hideZoom)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.Zoom,icon:"magnifying-glass",text:null!==(A=this.zoomTitle)&&void 0!==A?A:null===(D=this.strings)||void 0===D?void 0:D.zoom,active:this.activateZoom,disabled:this.disableZoom||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==(null===(w=this.actionBarHideActionsProps)||void 0===w?void 0:w.hideSelection)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.Selection,icon:"cursor-selection",text:null!==(I=this.selectionTitle)&&void 0!==I?I:null===(T=this.strings)||void 0===T?void 0:T.selection,active:this.activateSelection,disabled:this.disableSelection||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==(null===(y=this.actionBarHideActionsProps)||void 0===y?void 0:y.hideClearSelection)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.ClearSelection,icon:"erase",text:null!==(S=this.clearSelectionTitle)&&void 0!==S?S:null===(E=this.strings)||void 0===E?void 0:E.clearSelection,active:this.activateClearSelection,disabled:this.disableClearSelection||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==(null===(j=this.actionBarHideActionsProps)||void 0===j?void 0:j.hideFullExtent)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.FullExtent,icon:"zoom-out-fixed",text:null!==(B=this.fullExtentTitle)&&void 0!==B?B:null===(L=this.strings)||void 0===L?void 0:L.fullExtent,active:this.activateFullExtent,disabled:this.disableFullExtent||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null,!0!==(null===(R=this.actionBarHideActionsProps)||void 0===R?void 0:R.hideSwitchSelection)?s("div",{onMouseOver:this.handleMouseOver},s("calcite-action",{id:n.SwitchSelection,icon:"arrow-right-left",text:null!==(z=this.switchSelectionTitle)&&void 0!==z?z:null===(H=this.strings)||void 0===H?void 0:H.switchSelection,active:this.activateSwitchSelection,disabled:this.disableSwitchSelection||this.forceDisableActions,onClick:this.handleDefaultActionClick})):null):null]}setCustomActionsExpanded(){this.el.querySelectorAll("calcite-action").forEach((i=>{i.textEnabled=this.expanded}))}render(){return s(l,null,s("calcite-action-bar",{class:"action-bar",onCalciteActionBarToggle:this.handleCalciteActionBarToggle,onMouseOut:this.handleMouseOut,expanded:this.expanded,ref:i=>{this.calciteActionBar=i},messageOverrides:{expand:this.strings.expand,collapse:this.strings.collapse},"overflow-actions-disabled":!0},s("slot",{name:e.customActionTop,onSlotchange:this.handleSlotChange}),this.renderDefaultActions(),s("slot",{name:e.customActionBelow,onSlotchange:this.handleSlotChange})))}async componentWillLoad(){({strings:this.strings}=await d(this.el,o(".")))}componentDidRender(){this.handleExpandTooltip()}disconnectedCallback(){var i;null===(i=this.actionTooltip)||void 0===i||i.remove()}handleExpandTooltip(){var i,t;null===this.expandAction&&(this.expandAction=null!==(t=null===(i=this.calciteActionBar.shadowRoot)||void 0===i?void 0:i.querySelector("calcite-action"))&&void 0!==t?t:null,null!==this.expandAction&&(this.expandAction.addEventListener("mouseenter",(()=>{var i;!1===(null===(i=this.calciteActionBar)||void 0===i?void 0:i.expanded)&&null!==this.expandAction&&!1===document.body.contains(this.actionTooltip)&&(this.actionTooltip=c(this.strings.expand,this.expandAction),this.actionTooltip.open=!0)})),this.expandAction.addEventListener("mouseleave",(()=>{var i;!1===(null===(i=this.calciteActionBar)||void 0===i?void 0:i.expanded)&&null!==this.actionTooltip&&(this.actionTooltip=a(this.actionTooltip))})),this.expandAction.addEventListener("click",(()=>{var i;!0===(null===(i=this.calciteActionBar)||void 0===i?void 0:i.expanded)&&null!==this.actionTooltip&&(this.actionTooltip=a(this.actionTooltip))}))))}static get assetsDirs(){return["t9n"]}get el(){return h(this)}};v.style=".action-bar{display:flex;flex-direction:column;height:100%;border-right:1px solid var(--calcite-ui-border-2);overflow-x:hidden}";export{v as A}