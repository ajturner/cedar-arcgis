/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
import"@arcgis/core/request";import r from"@arcgis/core/rest/support/FeatureSet";import e from"@arcgis/core/layers/support/Field";import t from"@arcgis/core/layers/FeatureLayer";import*as a from"@arcgis/core/geometry/support/jsonUtils";import*as i from"@arcgis/core/renderers/support/jsonUtils";import"@arcgis/core/portal/Portal";import"@arcgis/core/core/promiseUtils";import"@arcgis/core/rest/support/Query";import"@arcgis/core/rest/support/StatisticDefinition";import"@arcgis/core/TimeExtent";const n="class-breaks",o="lineSeries",s="barSeries",u="comboLineAndBarSeries",f="same",l="newer";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function d(r,e,t,a){return new(t||(t=Promise))((function(i,n){function o(r){try{u(a.next(r))}catch(r){n(r)}}function s(r){try{u(a.throw(r))}catch(r){n(r)}}function u(r){var e;r.done?i(r.value):(e=r.value,e instanceof t?e:new t((function(r){r(e)}))).then(o,s)}u((a=a.apply(r,e||[])).next())}))}var c="object"==typeof global&&global&&global.Object===Object&&global,v="object"==typeof self&&self&&self.Object===Object&&self,m=c||v||Function("return this")(),h=m.Symbol,p=Object.prototype,g=p.hasOwnProperty,y=p.toString,b=h?h.toStringTag:void 0,w=Object.prototype.toString,E=h?h.toStringTag:void 0;function j(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":E&&E in Object(r)?function(r){var e=g.call(r,b),t=r[b];try{r[b]=void 0;var a=!0}catch(r){}var i=y.call(r);return a&&(e?r[b]=t:delete r[b]),i}(r):function(r){return w.call(r)}(r)}function x(r){return null!=r&&"object"==typeof r}function k(r,e){for(var t=-1,a=null==r?0:r.length,i=Array(a);++t<a;)i[t]=e(r[t],t,r);return i}var F=Array.isArray,P=h?h.prototype:void 0,$=P?P.toString:void 0;function O(r){if("string"==typeof r)return r;if(F(r))return k(r,O)+"";if(function(r){return"symbol"==typeof r||x(r)&&"[object Symbol]"==j(r)}(r))return $?$.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e}function S(r){var e=typeof r;return null!=r&&("object"==e||"function"==e)}function D(r){return r}function _(r){if(!S(r))return!1;var e=j(r);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var z,A=m["__core-js_shared__"],I=(z=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",C=Function.prototype.toString;function R(r){if(null!=r){try{return C.call(r)}catch(r){}try{return r+""}catch(r){}}return""}var N=/^\[object .+?Constructor\]$/,T=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function V(r,e){var t=function(r,e){return null==r?void 0:r[e]}(r,e);return function(r){return!(!S(r)||(e=r,I&&I in e))&&(_(r)?T:N).test(R(r));var e}(t)?t:void 0}var q=V(m,"WeakMap");function B(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}var M=Date.now,L=function(){try{var r=V(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),U=L,H=U?function(r,e){return U(r,"toString",{configurable:!0,enumerable:!1,value:(t=e,function(){return t}),writable:!0});var t}:D,J=function(r){var e=0,t=0;return function(){var a=M(),i=16-(a-t);if(t=a,i>0){if(++e>=800)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}(H),K=J,W=/^(?:0|[1-9]\d*)$/;function Z(r,e){var t=typeof r;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&W.test(r))&&r>-1&&r%1==0&&r<e}function Q(r,e,t){"__proto__"==e&&U?U(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}function G(r,e){return r===e||r!=r&&e!=e}var X=Object.prototype.hasOwnProperty;function Y(r,e,t){var a=r[e];X.call(r,e)&&G(a,t)&&(void 0!==t||e in r)||Q(r,e,t)}var rr=Math.max;function er(r,e){return K(function(r,e,t){return e=rr(void 0===e?r.length-1:e,0),function(){for(var a=arguments,i=-1,n=rr(a.length-e,0),o=Array(n);++i<n;)o[i]=a[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=a[i];return s[e]=t(o),B(r,this,s)}}(r,e,D),r+"")}function tr(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991}function ar(r){return null!=r&&tr(r.length)&&!_(r)}function ir(r,e,t){if(!S(t))return!1;var a=typeof e;return!!("number"==a?ar(t)&&Z(e,t.length):"string"==a&&e in t)&&G(t[e],r)}var nr=Object.prototype;function or(r){var e=r&&r.constructor;return r===("function"==typeof e&&e.prototype||nr)}function sr(r){return x(r)&&"[object Arguments]"==j(r)}var ur=Object.prototype,fr=ur.hasOwnProperty,lr=ur.propertyIsEnumerable,dr=sr(function(){return arguments}())?sr:function(r){return x(r)&&fr.call(r,"callee")&&!lr.call(r,"callee")},cr="object"==typeof exports&&exports&&!exports.nodeType&&exports,vr=cr&&"object"==typeof module&&module&&!module.nodeType&&module,mr=vr&&vr.exports===cr?m.Buffer:void 0,hr=(mr?mr.isBuffer:void 0)||function(){return!1},pr={};pr["[object Float32Array]"]=pr["[object Float64Array]"]=pr["[object Int8Array]"]=pr["[object Int16Array]"]=pr["[object Int32Array]"]=pr["[object Uint8Array]"]=pr["[object Uint8ClampedArray]"]=pr["[object Uint16Array]"]=pr["[object Uint32Array]"]=!0,pr["[object Arguments]"]=pr["[object Array]"]=pr["[object ArrayBuffer]"]=pr["[object Boolean]"]=pr["[object DataView]"]=pr["[object Date]"]=pr["[object Error]"]=pr["[object Function]"]=pr["[object Map]"]=pr["[object Number]"]=pr["[object Object]"]=pr["[object RegExp]"]=pr["[object Set]"]=pr["[object String]"]=pr["[object WeakMap]"]=!1;var gr,yr="object"==typeof exports&&exports&&!exports.nodeType&&exports,br=yr&&"object"==typeof module&&module&&!module.nodeType&&module,wr=br&&br.exports===yr&&c.process,Er=function(){try{return br&&br.require&&br.require("util").types||wr&&wr.binding&&wr.binding("util")}catch(r){}}(),jr=Er&&Er.isTypedArray,xr=jr?(gr=jr,function(r){return gr(r)}):function(r){return x(r)&&tr(r.length)&&!!pr[j(r)]},kr=Object.prototype.hasOwnProperty;function Fr(r,e){var t=F(r),a=!t&&dr(r),i=!t&&!a&&hr(r),n=!t&&!a&&!i&&xr(r),o=t||a||i||n,s=o?function(r,e){for(var t=-1,a=Array(r);++t<r;)a[t]=e(t);return a}(r.length,String):[],u=s.length;for(var f in r)!e&&!kr.call(r,f)||o&&("length"==f||i&&("offset"==f||"parent"==f)||n&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Z(f,u))||s.push(f);return s}function Pr(r,e){return function(t){return r(e(t))}}var $r=Pr(Object.keys,Object),Or=Object.prototype.hasOwnProperty;var Sr=Object.prototype.hasOwnProperty;var Dr,_r=(Dr=function(r,e,t,a){!function(r,e,t,a){var i=!t;t||(t={});for(var n=-1,o=e.length;++n<o;){var s=e[n],u=a?a(t[s],r[s],s,t,r):void 0;void 0===u&&(u=r[s]),i?Q(t,s,u):Y(t,s,u)}}(e,function(r){return ar(r)?Fr(r,!0):function(r){if(!S(r))return function(r){var e=[];if(null!=r)for(var t in Object(r))e.push(t);return e}(r);var e=or(r),t=[];for(var a in r)("constructor"!=a||!e&&Sr.call(r,a))&&t.push(a);return t}(r)}(e),r,a)},er((function(r,e){var t=-1,a=e.length,i=a>1?e[a-1]:void 0,n=a>2?e[2]:void 0;for(i=Dr.length>3&&"function"==typeof i?(a--,i):void 0,n&&ir(e[0],e[1],n)&&(i=a<3?void 0:i,a=1),r=Object(r);++t<a;){var o=e[t];o&&Dr(r,o,0,i)}return r}))),zr=_r;V(Object,"create");var Ar=V(m,"Map");function Ir(r){return null==r?"":O(r)}var Cr=Pr(Object.getPrototypeOf,Object),Rr=Function.prototype.toString,Nr=Object.prototype.hasOwnProperty,Tr=Rr.call(Object);function Vr(r){if(!x(r))return!1;var e=j(r);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof r.message&&"string"==typeof r.name&&!function(r){if(!x(r)||"[object Object]"!=j(r))return!1;var e=Cr(r);if(null===e)return!0;var t=Nr.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&Rr.call(t)==Tr}(r)}var qr=er((function(r,e){try{return B(r,void 0,e)}catch(r){return Vr(r)?r:new Error(r)}})),Br=qr;"object"==typeof exports&&exports&&!exports.nodeType&&exports&&"object"==typeof module&&module&&!module.nodeType&&module;var Mr=V(m,"DataView"),Lr=V(m,"Promise"),Ur=V(m,"Set"),Hr=R(Mr),Jr=R(Ar),Kr=R(Lr),Wr=R(Ur),Zr=R(q),Qr=j;(Mr&&"[object DataView]"!=Qr(new Mr(new ArrayBuffer(1)))||Ar&&"[object Map]"!=Qr(new Ar)||Lr&&"[object Promise]"!=Qr(Lr.resolve())||Ur&&"[object Set]"!=Qr(new Ur)||q&&"[object WeakMap]"!=Qr(new q))&&(Qr=function(r){var e=j(r),t="[object Object]"==e?r.constructor:void 0,a=t?R(t):"";if(a)switch(a){case Hr:return"[object DataView]";case Jr:return"[object Map]";case Kr:return"[object Promise]";case Wr:return"[object Set]";case Zr:return"[object WeakMap]"}return e});var Gr,Xr=(Gr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(r){return null==Gr?void 0:Gr[r]}),Yr=/[&<>"']/g,re=RegExp(Yr.source),ee=Object.prototype,te=ee.hasOwnProperty;function ae(r,e,t,a){return void 0===r||G(r,ee[t])&&!te.call(a,t)?e:r}var ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function ne(r){return"\\"+ie[r]}var oe=/<%=([\s\S]+?)%>/g,se={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:oe,variable:"",imports:{_:{escape:function(r){return(r=Ir(r))&&re.test(r)?r.replace(Yr,Xr):r}}}},ue=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/[()=,{}\[\]\/\s]/,ce=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/($^)/,me=/['\n\r\u2028\u2029\\]/g,he=Object.prototype.hasOwnProperty;const pe={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},ge=[...Object.values(pe),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","it-CH","it-IT"],ye=[pe.Arabic,pe.Hebrew];function be(r,e){return function(r,e){var t=se.imports._.templateSettings||se;r=Ir(r),e=zr({},e,t,ae);var a,i,n=zr({},e.imports,t.imports,ae),o=function(r){return ar(r)?Fr(r):function(r){if(!or(r))return $r(r);var e=[];for(var t in Object(r))Or.call(r,t)&&"constructor"!=t&&e.push(t);return e}(r)}(n),s=function(r,e){return k(e,(function(e){return r[e]}))}(n,o),u=0,f=e.interpolate||ve,l="__p += '",d=RegExp((e.escape||ve).source+"|"+f.source+"|"+(f===oe?ce:ve).source+"|"+(e.evaluate||ve).source+"|$","g"),c=he.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";r.replace(d,(function(e,t,n,o,s,f){return n||(n=o),l+=r.slice(u,f).replace(me,ne),t&&(a=!0,l+="' +\n__e("+t+") +\n'"),s&&(i=!0,l+="';\n"+s+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=f+e.length,e})),l+="';\n";var v=he.call(e,"variable")&&e.variable;if(v){if(de.test(v))throw new Error("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(i?l.replace(ue,""):l).replace(fe,"$1").replace(le,"$1;"),l="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=Br((function(){return Function(o,c+"return "+l).apply(void 0,s)}));if(m.source=l,Vr(m))throw m;return m}(r)(e)}function we(r,e){let t=pe.English;const a=function(r){let e=r;if(void 0!==r&&-1!==r.indexOf("-")){const[t,a]=r.split("-");e=`${t}-${a.toUpperCase()}`}return e}(r);if(void 0!==a)if(!0===e.includes(a))t=a;else{const r=function(r){const e=null==r?void 0:r.match(/^([a-z]{2})-([A-Z]{2})$/);let t=pe.English;return null!=e&&(null==e?void 0:e.length)>1?t=e[1]:2===(null==r?void 0:r.length)&&r.toLowerCase()===r&&(t=r),t}(a);!0===e.includes(r)&&(t=r)}return t}function Ee(r=document.documentElement){var e;const t=function r(e){let t;return t=void 0===e||e===document||e===window?null:e.closest("[lang]")||r(e.getRootNode().host),t}(r),a=null!==(e=null==t?void 0:t.lang)&&void 0!==e?e:window.navigator.language,i=Object.values(pe),n=Object.values(ge),o=we(a,i);let s=we(a,n);return s="ar"===s?"ar-u-nu-latn":s,{locale:o,rtl:ye.includes(o),formatLocale:s}}function je(r,e){return d(this,void 0,void 0,(function*(){const t=r.tagName.toLowerCase(),{locale:a,rtl:i}=Ee(r),n=yield function(r){return d(this,void 0,void 0,(function*(){const{path:e,locale:t,baseURL:a}=r;let i={};try{const r=yield fetch(`${a}t9n/${e}.t9n.${t}.json`);i=yield r.json()}catch(r){const t=yield fetch(`${a}t9n/${e}.t9n.${pe.English}.json`);i=yield t.json()}return i}))}({path:t,locale:a,baseURL:e});let o=r.getAttribute("dir");return"ltr"!==o&&"rtl"!==o&&(o=!0===i?"rtl":"ltr"),{strings:n,direction:o}}))}var xe={exports:{}};function ke(r,e,t,a){var i,n=null==(i=a)||"number"==typeof i||"boolean"==typeof i?a:t(a),o=e.get(n);return void 0===o&&(o=r.call(this,a),e.set(n,o)),o}function Fe(r,e,t){var a=Array.prototype.slice.call(arguments,3),i=t(a),n=e.get(i);return void 0===n&&(n=r.apply(this,a),e.set(i,n)),n}function Pe(r,e,t,a,i){return t.bind(e,r,a,i)}function $e(r,e){return Pe(r,this,1===r.length?ke:Fe,e.cache.create(),e.serializer)}function Oe(){return JSON.stringify(arguments)}function Se(){this.cache=Object.create(null)}Se.prototype.has=function(r){return r in this.cache},Se.prototype.get=function(r){return this.cache[r]},Se.prototype.set=function(r,e){this.cache[r]=e};var De={create:function(){return new Se}};xe.exports=function(r,e){return(e&&e.strategy?e.strategy:$e)(r,{cache:e&&e.cache?e.cache:De,serializer:e&&e.serializer?e.serializer:Oe})},xe.exports.strategies={variadic:function(r,e){return Pe(r,this,Fe,e.cache.create(),e.serializer)},monadic:function(r,e){return Pe(r,this,ke,e.cache.create(),e.serializer)}};var _e=xe.exports;const ze={Simple:"simple",NoAggregation:"noAggregation",SplitByFieldValues:"splitByFieldValues",SplitByNumericalFields:"multipleNumericalFields",PieFromFields:"pieFromFields"};
/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */Function.prototype.toString.call(Object);var Ae={exports:{}},Ie={},Ce={exports:{}},Re={};var Ne=/javascript\s*\:/gim;Re.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},Re.getDefaultWhiteList=function(){return{"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}},Re.onAttr=function(){},Re.onIgnoreAttr=function(){},Re.safeAttrValue=function(r,e){return Ne.test(e)?"":e};var Te=function(r){return String.prototype.trim?r.trim():r.replace(/(^\s*)|(\s*$)/g,"")},Ve=Re,qe=function(r,e){";"!==(r=function(r){return String.prototype.trimRight?r.trimRight():r.replace(/(\s*$)/g,"")}(r))[r.length-1]&&(r+=";");var t=r.length,a=!1,i=0,n=0,o="";function s(){if(!a){var t=Te(r.slice(i,n)),s=t.indexOf(":");if(-1!==s){var u=Te(t.slice(0,s)),f=Te(t.slice(s+1));if(u){var l=e(i,o.length,u,f,t);l&&(o+=l+"; ")}}}i=n+1}for(;n<t;n++){var u=r[n];if("/"===u&&"*"===r[n+1]){var f=r.indexOf("*/",n+2);if(-1===f)break;i=(n=f+1)+1,a=!1}else"("===u?a=!0:")"===u?a=!1:";"===u?a||s():"\n"===u&&s()}return Te(o)};function Be(r){return null==r}function Me(r){(r=function(r){var e={};for(var t in r)e[t]=r[t];return e}(r||{})).whiteList=r.whiteList||Ve.whiteList,r.onAttr=r.onAttr||Ve.onAttr,r.onIgnoreAttr=r.onIgnoreAttr||Ve.onIgnoreAttr,r.safeAttrValue=r.safeAttrValue||Ve.safeAttrValue,this.options=r}Me.prototype.process=function(r){if(!(r=(r=r||"").toString()))return"";var e=this.options,t=e.whiteList,a=e.onAttr,i=e.onIgnoreAttr,n=e.safeAttrValue;return qe(r,(function(r,e,o,s,u){var f=t[o],l=!1;if(!0===f?l=f:"function"==typeof f?l=f(s):f instanceof RegExp&&(l=f.test(s)),!0!==l&&(l=!1),s=n(o,s)){var d,c={position:e,sourcePosition:r,source:u,isWhite:l};return l?Be(d=a(o,s,c))?o+":"+s:d:Be(d=i(o,s,c))?void 0:d}}))};var Le=Me;!function(r,e){var t=Re,a=Le;for(var i in(e=r.exports=function(r,e){return new a(e).process(r)}).FilterCSS=a,t)e[i]=t[i]}(Ce,Ce.exports);var Ue={indexOf:function(r,e){var t,a;if(Array.prototype.indexOf)return r.indexOf(e);for(t=0,a=r.length;t<a;t++)if(r[t]===e)return t;return-1},forEach:function(r,e,t){var a,i;if(Array.prototype.forEach)return r.forEach(e,t);for(a=0,i=r.length;a<i;a++)e.call(t,r[a],a,r)},trim:function(r){return String.prototype.trim?r.trim():r.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(r){var e=/\s|\n|\t/.exec(r);return e?e.index:-1}},He=Ce.exports.getDefaultWhiteList,Je=Ue,Ke=new(0,Ce.exports.FilterCSS);function We(r){return r.replace(Ze,"&lt;").replace(Qe,"&gt;")}var Ze=/</g,Qe=/>/g,Ge=/"/g,Xe=/&quot;/g,Ye=/&#([a-zA-Z0-9]*);?/gim,rt=/&colon;?/gim,et=/&newline;?/gim,tt=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,at=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,it=/u\s*r\s*l\s*\(.*/gi;function nt(r){return r.replace(Ge,"&quot;")}function ot(r){return r.replace(Xe,'"')}function st(r){return r.replace(Ye,(function(r,e){return String.fromCharCode("x"===e[0]||"X"===e[0]?parseInt(e.substr(1),16):parseInt(e,10))}))}function ut(r){return r.replace(rt,":").replace(et," ")}function ft(r){for(var e="",t=0,a=r.length;t<a;t++)e+=r.charCodeAt(t)<32?" ":r.charAt(t);return Je.trim(e)}function lt(r){return ft(r=ut(r=st(r=ot(r))))}function dt(r){return We(r=nt(r))}Ie.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},Ie.getDefaultWhiteList=function(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},Ie.onTag=function(){},Ie.onIgnoreTag=function(){},Ie.onTagAttr=function(){},Ie.onIgnoreTagAttr=function(){},Ie.safeAttrValue=function(r,e,t,a){if(t=lt(t),"href"===e||"src"===e){if("#"===(t=Je.trim(t)))return"#";if("http://"!==t.substr(0,7)&&"https://"!==t.substr(0,8)&&"mailto:"!==t.substr(0,7)&&"tel:"!==t.substr(0,4)&&"data:image/"!==t.substr(0,11)&&"ftp://"!==t.substr(0,6)&&"./"!==t.substr(0,2)&&"../"!==t.substr(0,3)&&"#"!==t[0]&&"/"!==t[0])return""}else if("background"===e){if(tt.lastIndex=0,tt.test(t))return""}else if("style"===e){if(at.lastIndex=0,at.test(t))return"";if(it.lastIndex=0,it.test(t)&&(tt.lastIndex=0,tt.test(t)))return"";!1!==a&&(t=(a=a||Ke).process(t))}return dt(t)},Ie.escapeHtml=We,Ie.escapeQuote=nt,Ie.unescapeQuote=ot,Ie.escapeHtmlEntities=st,Ie.escapeDangerHtml5Entities=ut,Ie.clearNonPrintableCharacter=ft,Ie.friendlyAttrValue=lt,Ie.escapeAttrValue=dt,Ie.onIgnoreTagStripAll=function(){return""},Ie.StripTagBody=function(r,e){"function"!=typeof e&&(e=function(){});var t=!Array.isArray(r),a=[],i=!1;return{onIgnoreTag:function(n,o,s){if(function(e){return!!t||-1!==Je.indexOf(r,e)}(n)){if(s.isClosing){var u="[/removed]";return a.push([!1!==i?i:s.position,s.position+u.length]),i=!1,u}return i||(i=s.position),"[removed]"}return e(n,o,s)},remove:function(r){var e="",t=0;return Je.forEach(a,(function(a){e+=r.slice(t,a[0]),t=a[1]})),e+=r.slice(t)}}},Ie.stripCommentTag=function(r){for(var e="",t=0;t<r.length;){var a=r.indexOf("\x3c!--",t);if(-1===a){e+=r.slice(t);break}e+=r.slice(t,a);var i=r.indexOf("--\x3e",a);if(-1===i)break;t=i+3}return e},Ie.stripBlankChar=function(r){var e=r.split("");return(e=e.filter((function(r){var e=r.charCodeAt(0);return!(127===e||e<=31&&10!==e&&13!==e)}))).join("")},Ie.cssFilter=Ke,Ie.getDefaultCSSWhiteList=He;var ct={},vt=Ue;function mt(r){var e=vt.spaceIndex(r);if(-1===e)var t=r.slice(1,-1);else t=r.slice(1,e+1);return"/"===(t=vt.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function ht(r){return"</"===r.slice(0,2)}var pt=/[^a-zA-Z0-9_:\.\-]/gim;function gt(r,e){for(;e<r.length;e++){var t=r[e];if(" "!==t)return"="===t?e:-1}}function yt(r,e){for(;e>0;e--){var t=r[e];if(" "!==t)return"="===t?e:-1}}function bt(r){return function(r){return'"'===r[0]&&'"'===r[r.length-1]||"'"===r[0]&&"'"===r[r.length-1]}(r)?r.substr(1,r.length-2):r}ct.parseTag=function(r,e,t){var a="",i=0,n=!1,o=!1,s=0,u=r.length,f="",l="";r:for(s=0;s<u;s++){var d=r.charAt(s);if(!1===n){if("<"===d){n=s;continue}}else if(!1===o){if("<"===d){a+=t(r.slice(i,s)),n=s,i=s;continue}if(">"===d){a+=t(r.slice(i,n)),f=mt(l=r.slice(n,s+1)),a+=e(n,a.length,f,l,ht(l)),i=s+1,n=!1;continue}if('"'===d||"'"===d)for(var c=1,v=r.charAt(s-c);""===v.trim()||"="===v;){if("="===v){o=d;continue r}v=r.charAt(s-++c)}}else if(d===o){o=!1;continue}}return i<r.length&&(a+=t(r.substr(i))),a},ct.parseAttr=function(r,e){var t=0,a=[],i=!1,n=r.length;function o(r,t){if(!((r=(r=vt.trim(r)).replace(pt,"").toLowerCase()).length<1)){var i=e(r,t||"");i&&a.push(i)}}for(var s=0;s<n;s++){var u,f=r.charAt(s);if(!1!==i||"="!==f)if(!1===i||s!==t||'"'!==f&&"'"!==f||"="!==r.charAt(s-1)){if(/\s|\n|\t/.test(f)){if(r=r.replace(/\s|\n|\t/g," "),!1===i){if(-1===(u=gt(r,s))){o(vt.trim(r.slice(t,s))),i=!1,t=s+1;continue}s=u-1;continue}if(-1===(u=yt(r,s-1))){o(i,bt(vt.trim(r.slice(t,s)))),i=!1,t=s+1;continue}}}else{if(-1===(u=r.indexOf(f,s+1)))break;o(i,vt.trim(r.slice(t+1,u))),i=!1,t=(s=u)+1}else i=r.slice(t,s),t=s+1}return t<r.length&&(!1===i?o(r.slice(t)):o(i,bt(vt.trim(r.slice(t))))),vt.trim(a.join(" "))};var wt=Ce.exports.FilterCSS,Et=Ie,jt=ct.parseTag,xt=ct.parseAttr,kt=Ue;function Ft(r){return null==r}function Pt(r){(r=function(r){var e={};for(var t in r)e[t]=r[t];return e}(r||{})).stripIgnoreTag&&(r.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),r.onIgnoreTag=Et.onIgnoreTagStripAll),r.whiteList=r.whiteList||r.allowList||Et.whiteList,r.onTag=r.onTag||Et.onTag,r.onTagAttr=r.onTagAttr||Et.onTagAttr,r.onIgnoreTag=r.onIgnoreTag||Et.onIgnoreTag,r.onIgnoreTagAttr=r.onIgnoreTagAttr||Et.onIgnoreTagAttr,r.safeAttrValue=r.safeAttrValue||Et.safeAttrValue,r.escapeHtml=r.escapeHtml||Et.escapeHtml,this.options=r,!1===r.css?this.cssFilter=!1:(r.css=r.css||{},this.cssFilter=new wt(r.css))}Pt.prototype.process=function(r){if(!(r=(r=r||"").toString()))return"";var e=this.options,t=e.whiteList,a=e.onTag,i=e.onIgnoreTag,n=e.onTagAttr,o=e.onIgnoreTagAttr,s=e.safeAttrValue,u=e.escapeHtml,f=this.cssFilter;e.stripBlankChar&&(r=Et.stripBlankChar(r)),e.allowCommentTag||(r=Et.stripCommentTag(r));var l=!1;e.stripIgnoreTagBody&&(l=Et.StripTagBody(e.stripIgnoreTagBody,i),i=l.onIgnoreTag);var d=jt(r,(function(r,e,l,d,c){var v,m={sourcePosition:r,position:e,isClosing:c,isWhite:t.hasOwnProperty(l)};if(!Ft(v=a(l,d,m)))return v;if(m.isWhite){if(m.isClosing)return"</"+l+">";var h=function(r){var e=kt.spaceIndex(r);if(-1===e)return{html:"",closing:"/"===r[r.length-2]};var t="/"===(r=kt.trim(r.slice(e+1,-1)))[r.length-1];return t&&(r=kt.trim(r.slice(0,-1))),{html:r,closing:t}}(d),p=t[l],g=xt(h.html,(function(r,e){var t,a=-1!==kt.indexOf(p,r);return Ft(t=n(l,r,e,a))?a?(e=s(l,r,e,f))?r+'="'+e+'"':r:Ft(t=o(l,r,e,a))?void 0:t:t}));return d="<"+l,g&&(d+=" "+g),h.closing&&(d+=" /"),d+">"}return Ft(v=i(l,d,m))?u(d):v}),u);return l&&(d=l.remove(d)),d};var $t=Pt;function Ot(r,e){let t;if(void 0!==r&&r.length>0)if(void 0!==e&&e<r.length)t=r[e].type;else{const e=function(r){let e;if(0!==r.length){const t=r[0].type;!0===r.every((r=>r.type===t))&&(e=!1),!1===r.some((r=>r.type!==o&&r.type!==s))&&void 0===e&&(e=!0)}return e}(r);!1===e?t=r[0].type:!0===e&&(t=u)}return t}function St(r){const{value:e,keepSurroundingQuotes:t,escape:a}=r;let i=e.trim(),n="";return"'"===i.charAt(0)&&"'"===i.charAt(i.length-1)&&(i=i.slice(1,-1),!0===t&&(n="'")),!1!==a&&(i=function(r){let e=r;return e=e.replace(/'/g,"''"),e=e.replace(/[/\\"|[\]\\]/g,"\\$&"),e}(i)),i=`${n}${i}${n}`,i}function Dt(r,e){let t;return void 0!==e&&(t=Object.assign(Object.assign({},e),{rotated:r}),t.series=t.series.map((e=>{const t=Object.assign({},e);return t.rotated=r,t}))),t}function _t(r){let e,t,a;return void 0!==r&&(e=r.type,"unique-value"!==e&&e!==n||(t=r.field,e===n&&(a=r.normalizationField))),{rendererType:e,rendererField:t,rendererNormalizationField:a}}!function(r,e){var t=Ie,a=ct,i=$t;function n(r,e){return new i(e).process(r)}for(var o in(e=r.exports=n).filterXSS=n,e.FilterXSS=i,t)e[o]=t[o];for(var o in a)e[o]=a[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=r.exports)}(Ae,Ae.exports);const zt=_e((n=>{var o;const s=n.featureCollection;let u,f;if(void 0!==s&&void 0!==(null===(o=s.layers)||void 0===o?void 0:o[0])){const r=s.layers[0];u=r.featureSet,f=r.layerDefinition}else f=n.layerDefinition;const l={};if(void 0!==u){if(l.source=r.fromJSON(u).features,void 0!==(null==f?void 0:f.fields)&&(l.fields=f.fields.map((r=>e.fromJSON(r)))),void 0!==(null==f?void 0:f.objectIdField)&&(l.objectIdField=f.objectIdField),void 0!==(null==f?void 0:f.geometryType)){const r=a.fromJSON({geometryType:f.geometryType});void 0!==(null==r?void 0:r.type)&&"extent"!==(null==r?void 0:r.type)&&(l.geometryType=r.type)}void 0!==(null==f?void 0:f.spatialReference)&&(l.spatialReference=f.spatialReference)}else l.id=n.id,void 0!==(null==f?void 0:f.id)&&(l.layerId=f.id),void 0!==n.url&&(l.url=n.url),void 0!==n.itemId&&void 0!==(null==f?void 0:f.id)&&(l.portalItem={id:n.itemId});if(void 0!==f){const r=f.drawingInfo;void 0!==(null==r?void 0:r.renderer)&&(l.renderer=i.fromJSON(r.renderer))}return new t(l)}));function At(r){var e;return d(this,void 0,void 0,(function*(){const{layer:t,view:a,chartConfig:i}=r;let n;return void 0!==t?void 0!==a&&!1===t.isTable?(t.outFields=["*"],n=yield a.whenLayerView(t)):n=t:"layer"===(null===(e=null==i?void 0:i.dataSource)||void 0===e?void 0:e.type)&&void 0!==i.dataSource.layer&&(n=zt(i.dataSource.layer)),n}))}function It(r){const e=Ot(r);let t=ze.Simple;return void 0!==(null==r?void 0:r[0])&&("pieSeries"===e?t=function(r){var e,t;let a=ze.Simple;return void 0===(null===(e=r[0].query)||void 0===e?void 0:e.outStatistics)?a=ze.NoAggregation:void 0===(null===(t=r[0].query)||void 0===t?void 0:t.groupByFieldsForStatistics)&&(a=ze.PieFromFields),a}(r):e!==s&&e!==o&&e!==u||(t=function(r){var e,t;let a=ze.Simple;return!1===function(r){let e=!1;return void 0===r||""===r?e=!0:!0===r.includes("=")&&(e=function(r){let e="";return void 0!==r&&!0===r.includes("=")&&(e=r.split("=")[0].trim()),e}(r)===function(r){const{where:e,normalize:t,keepSurroundingQuotes:a,escape:i}=r;let n="";return void 0!==e&&!0===e.includes("=")&&(n=e.split("=")[1].trim(),n=!1===t?function(r){let e=r,t="";"'"===r.charAt(0)&&"'"===r.charAt(r.length-1)&&(e=r.slice(1,-1),t="'"),e=e.replace(/'/g,"''");let a="";return!0===function(r){let e=!1;return"number"!=typeof r&&(e=[...r].some((r=>r.charCodeAt(0)>255))),e}(e)&&(a="N"),`${a}${t}${e}${t}`}(n):St({value:n,keepSurroundingQuotes:a,escape:i})),n}({where:r,normalize:!1})),e}(null===(e=r[0].query)||void 0===e?void 0:e.where)?a=ze.SplitByFieldValues:void 0===(null===(t=r[0].query)||void 0===t?void 0:t.outStatistics)?a=ze.NoAggregation:r.length>1&&(a=ze.SplitByNumericalFields),a}(r))),t}function Ct(r){const{seriesConfig:e,xAxisValueFormatType:t,setTimeBinningInfoWhenNotProvided:a}=r;let i=!1;if(Ot([e])===o&&"date"===t&&It([e])!==ze.NoAggregation){const{timeIntervalUnits:r,timeIntervalSize:t}=e;i=!0===a||void 0!==t&&t>0&&void 0!==r}return i}const Rt={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};const Nt=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1"];var Tt={};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */!function(r){function e(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var a=e.length-1,i=1;i<a;++i)e[i]=e[i].slice(1,-1);return e[a]=e[a].slice(1),e.join("")}return e[0]}function t(r){return"(?:"+r+")"}function a(r){return void 0===r?"undefined":null===r?"null":Object.prototype.toString.call(r).split(" ").pop().split("]").shift().toLowerCase()}function i(r){return r.toUpperCase()}function n(r){var a="[A-Za-z]",i="[0-9]",n=e(i,"[A-Fa-f]"),o=t(t("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+t("%[89A-Fa-f]"+n+"%"+n+n)+"|"+t("%"+n+n)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=e("[\\:\\/\\?\\#\\[\\]\\@]",s),f=r?"[\\uE000-\\uF8FF]":"[]",l=e(a,i,"[\\-\\.\\_\\~]",r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");t(a+e(a,i,"[\\+\\-\\.]")+"*"),t(t(o+"|"+e(l,s,"[\\:]"))+"*");var d=t(t("25[0-5]")+"|"+t("2[0-4]"+i)+"|"+t("1"+i+i)+"|"+t("0?[1-9]"+i)+"|0?0?"+i),c=t(d+"\\."+d+"\\."+d+"\\."+d),v=t(n+"{1,4}"),m=t(t(v+"\\:"+v)+"|"+c),h=t(t(v+"\\:")+"{6}"+m),p=t("\\:\\:"+t(v+"\\:")+"{5}"+m),g=t(t(v)+"?\\:\\:"+t(v+"\\:")+"{4}"+m),y=t(t(t(v+"\\:")+"{0,1}"+v)+"?\\:\\:"+t(v+"\\:")+"{3}"+m),b=t(t(t(v+"\\:")+"{0,2}"+v)+"?\\:\\:"+t(v+"\\:")+"{2}"+m),w=t(t(t(v+"\\:")+"{0,3}"+v)+"?\\:\\:"+v+"\\:"+m),E=t(t(t(v+"\\:")+"{0,4}"+v)+"?\\:\\:"+m),j=t(t(t(v+"\\:")+"{0,5}"+v)+"?\\:\\:"+v),x=t(t(t(v+"\\:")+"{0,6}"+v)+"?\\:\\:"),k=t([h,p,g,y,b,w,E,j,x].join("|")),F=t(t(l+"|"+o)+"+");t("[vV]"+n+"+\\."+e(l,s,"[\\:]")+"+"),t(t(o+"|"+e(l,s))+"*");var P=t(o+"|"+e(l,s,"[\\:\\@]"));return t(t(o+"|"+e(l,s,"[\\@]"))+"+"),t(t(P+"|"+e("[\\/\\?]",f))+"*"),{NOT_SCHEME:new RegExp(e("[^]",a,i,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",l,s),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",l,s),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",l,s),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",l,s),"g"),NOT_QUERY:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]",f),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",l,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",l,s),"g"),UNRESERVED:new RegExp(l,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",l,u),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+c+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+t(t("\\%25|\\%(?!"+n+"{2})")+"("+F+")")+"?\\]?$")}}var o=n(!1),s=n(!0),u=function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return function(r,e){var t=[],a=!0,i=!1,n=void 0;try{for(var o,s=r[Symbol.iterator]();!(a=(o=s.next()).done)&&(t.push(o.value),!e||t.length!==e);a=!0);}catch(r){i=!0,n=r}finally{try{!a&&s.return&&s.return()}finally{if(i)throw n}}return t}(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},f=2147483647,l=36,d=/^xn--/,c=/[^\0-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function g(r){throw new RangeError(m[r])}function y(r,e){var t=r.split("@"),a="";return t.length>1&&(a=t[0]+"@",r=t[1]),a+function(r,e){for(var t=[],a=r.length;a--;)t[a]=e(r[a]);return t}((r=r.replace(v,".")).split("."),e).join(".")}var b=function(r){return r-48<10?r-22:r-65<26?r-65:r-97<26?r-97:l},w=function(r,e){return r+22+75*(r<26)-((0!=e)<<5)},E=function(r,e,t){var a=0;for(r=t?h(r/700):r>>1,r+=h(r/e);r>455;a+=l)r=h(r/35);return h(a+36*r/(r+38))},j=function(r){return y(r,(function(r){return c.test(r)?"xn--"+function(r){var e=[],t=(r=function(r){for(var e=[],t=0,a=r.length;t<a;){var i=r.charCodeAt(t++);if(i>=55296&&i<=56319&&t<a){var n=r.charCodeAt(t++);56320==(64512&n)?e.push(((1023&i)<<10)+(1023&n)+65536):(e.push(i),t--)}else e.push(i)}return e}(r)).length,a=128,i=0,n=72,o=!0,s=!1,u=void 0;try{for(var d,c=r[Symbol.iterator]();!(o=(d=c.next()).done);o=!0){var v=d.value;v<128&&e.push(p(v))}}catch(r){s=!0,u=r}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}var m=e.length,y=m;for(m&&e.push("-");y<t;){var b=f,j=!0,x=!1,k=void 0;try{for(var F,P=r[Symbol.iterator]();!(j=(F=P.next()).done);j=!0){var $=F.value;$>=a&&$<b&&(b=$)}}catch(r){x=!0,k=r}finally{try{!j&&P.return&&P.return()}finally{if(x)throw k}}var O=y+1;b-a>h((f-i)/O)&&g("overflow"),i+=(b-a)*O,a=b;var S=!0,D=!1,_=void 0;try{for(var z,A=r[Symbol.iterator]();!(S=(z=A.next()).done);S=!0){var I=z.value;if(I<a&&++i>f&&g("overflow"),I==a){for(var C=i,R=l;;R+=l){var N=R<=n?1:R>=n+26?26:R-n;if(C<N)break;var T=C-N,V=l-N;e.push(p(w(N+T%V,0))),C=h(T/V)}e.push(p(w(C,0))),n=E(i,O,y==m),i=0,++y}}}catch(r){D=!0,_=r}finally{try{!S&&A.return&&A.return()}finally{if(D)throw _}}++i,++a}return e.join("")}(r):r}))},x=function(r){return y(r,(function(r){return d.test(r)?function(r){var e=[],t=r.length,a=0,i=128,n=72,o=r.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)r.charCodeAt(s)>=128&&g("not-basic"),e.push(r.charCodeAt(s));for(var u=o>0?o+1:0;u<t;){for(var d=a,c=1,v=l;;v+=l){u>=t&&g("invalid-input");var m=b(r.charCodeAt(u++));(m>=l||m>h((f-a)/c))&&g("overflow"),a+=m*c;var p=v<=n?1:v>=n+26?26:v-n;if(m<p)break;var y=l-p;c>h(f/y)&&g("overflow"),c*=y}var w=e.length+1;n=E(a-d,w,0==d),h(a/w)>f-i&&g("overflow"),i+=h(a/w),a%=w,e.splice(a++,0,i)}return String.fromCodePoint.apply(String,e)}(r.slice(4).toLowerCase()):r}))},k={};function F(r){var e=r.charCodeAt(0);return e<16?"%0"+e.toString(16).toUpperCase():e<128?"%"+e.toString(16).toUpperCase():e<2048?"%"+(e>>6|192).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase():"%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(63&e|128).toString(16).toUpperCase()}function P(r){for(var e="",t=0,a=r.length;t<a;){var i=parseInt(r.substr(t+1,2),16);if(i<128)e+=String.fromCharCode(i),t+=3;else if(i>=194&&i<224){if(a-t>=6){var n=parseInt(r.substr(t+4,2),16);e+=String.fromCharCode((31&i)<<6|63&n)}else e+=r.substr(t,6);t+=6}else if(i>=224){if(a-t>=9){var o=parseInt(r.substr(t+4,2),16),s=parseInt(r.substr(t+7,2),16);e+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else e+=r.substr(t,9);t+=9}else e+=r.substr(t,3),t+=3}return e}function $(r,e){function t(r){var t=P(r);return t.match(e.UNRESERVED)?t:r}return r.scheme&&(r.scheme=String(r.scheme).replace(e.PCT_ENCODED,t).toLowerCase().replace(e.NOT_SCHEME,"")),void 0!==r.userinfo&&(r.userinfo=String(r.userinfo).replace(e.PCT_ENCODED,t).replace(e.NOT_USERINFO,F).replace(e.PCT_ENCODED,i)),void 0!==r.host&&(r.host=String(r.host).replace(e.PCT_ENCODED,t).toLowerCase().replace(e.NOT_HOST,F).replace(e.PCT_ENCODED,i)),void 0!==r.path&&(r.path=String(r.path).replace(e.PCT_ENCODED,t).replace(r.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,F).replace(e.PCT_ENCODED,i)),void 0!==r.query&&(r.query=String(r.query).replace(e.PCT_ENCODED,t).replace(e.NOT_QUERY,F).replace(e.PCT_ENCODED,i)),void 0!==r.fragment&&(r.fragment=String(r.fragment).replace(e.PCT_ENCODED,t).replace(e.NOT_FRAGMENT,F).replace(e.PCT_ENCODED,i)),r}function O(r){return r.replace(/^0*(.*)/,"$1")||"0"}function S(r,e){var t=r.match(e.IPV4ADDRESS)||[],a=u(t,2)[1];return a?a.split(".").map(O).join("."):r}function D(r,e){var t=r.match(e.IPV6ADDRESS)||[],a=u(t,3),i=a[1],n=a[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=u(o,2),f=s[0],l=s[1],d=l?l.split(":").map(O):[],c=f.split(":").map(O),v=e.IPV4ADDRESS.test(c[c.length-1]),m=v?7:8,h=c.length-m,p=Array(m),g=0;g<m;++g)p[g]=d[g]||c[h+g]||"";v&&(p[m-1]=S(p[m-1],e));var y=p.reduce((function(r,e,t){if(!e||"0"===e){var a=r[r.length-1];a&&a.index+a.length===t?a.length++:r.push({index:t,length:1})}return r}),[]).sort((function(r,e){return e.length-r.length}))[0],b=void 0;if(y&&y.length>1){var w=p.slice(0,y.index),E=p.slice(y.index+y.length);b=w.join(":")+"::"+E.join(":")}else b=p.join(":");return n&&(b+="%"+n),b}return r}var _=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,z=void 0==="".match(/(){0}/)[1];function A(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},a=!1!==e.iri?s:o;"suffix"===e.reference&&(r=(e.scheme?e.scheme+":":"")+"//"+r);var i=r.match(_);if(i){z?(t.scheme=i[1],t.userinfo=i[3],t.host=i[4],t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=i[7],t.fragment=i[8],isNaN(t.port)&&(t.port=i[5])):(t.scheme=i[1]||void 0,t.userinfo=-1!==r.indexOf("@")?i[3]:void 0,t.host=-1!==r.indexOf("//")?i[4]:void 0,t.port=parseInt(i[5],10),t.path=i[6]||"",t.query=-1!==r.indexOf("?")?i[7]:void 0,t.fragment=-1!==r.indexOf("#")?i[8]:void 0,isNaN(t.port)&&(t.port=r.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),t.host&&(t.host=D(S(t.host,a),a)),t.reference=void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?"relative":void 0===t.fragment?"absolute":"uri":"same-document",e.reference&&"suffix"!==e.reference&&e.reference!==t.reference&&(t.error=t.error||"URI is not a "+e.reference+" reference.");var n=k[(e.scheme||t.scheme||"").toLowerCase()];if(e.unicodeSupport||n&&n.unicodeSupport)$(t,a);else{if(t.host&&(e.domainHost||n&&n.domainHost))try{t.host=j(t.host.replace(a.PCT_ENCODED,P).toLowerCase())}catch(r){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+r}$(t,o)}n&&n.parse&&n.parse(t,e)}else t.error=t.error||"URI can not be parsed.";return t}function I(r,e){var t=!1!==e.iri?s:o,a=[];return void 0!==r.userinfo&&(a.push(r.userinfo),a.push("@")),void 0!==r.host&&a.push(D(S(String(r.host),t),t).replace(t.IPV6ADDRESS,(function(r,e,t){return"["+e+(t?"%25"+t:"")+"]"}))),"number"!=typeof r.port&&"string"!=typeof r.port||(a.push(":"),a.push(String(r.port))),a.length?a.join(""):void 0}var C=/^\.\.?\//,R=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,T=/^\/?(?:.|\n)*?(?=\/|$)/;function V(r){for(var e=[];r.length;)if(r.match(C))r=r.replace(C,"");else if(r.match(R))r=r.replace(R,"/");else if(r.match(N))r=r.replace(N,"/"),e.pop();else if("."===r||".."===r)r="";else{var t=r.match(T);if(!t)throw new Error("Unexpected dot segment condition");var a=t[0];r=r.slice(a.length),e.push(a)}return e.join("")}function q(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.iri?s:o,a=[],i=k[(e.scheme||r.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(r,e),r.host)if(t.IPV6ADDRESS.test(r.host));else if(e.domainHost||i&&i.domainHost)try{r.host=e.iri?x(r.host):j(r.host.replace(t.PCT_ENCODED,P).toLowerCase())}catch(t){r.error=r.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+t}$(r,t),"suffix"!==e.reference&&r.scheme&&(a.push(r.scheme),a.push(":"));var n=I(r,e);if(void 0!==n&&("suffix"!==e.reference&&a.push("//"),a.push(n),r.path&&"/"!==r.path.charAt(0)&&a.push("/")),void 0!==r.path){var u=r.path;e.absolutePath||i&&i.absolutePath||(u=V(u)),void 0===n&&(u=u.replace(/^\/\//,"/%2F")),a.push(u)}return void 0!==r.query&&(a.push("?"),a.push(r.query)),void 0!==r.fragment&&(a.push("#"),a.push(r.fragment)),a.join("")}function B(r,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a={};return arguments[3]||(r=A(q(r,t),t),e=A(q(e,t),t)),!(t=t||{}).tolerant&&e.scheme?(a.scheme=e.scheme,a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=V(e.path||""),a.query=e.query):(void 0!==e.userinfo||void 0!==e.host||void 0!==e.port?(a.userinfo=e.userinfo,a.host=e.host,a.port=e.port,a.path=V(e.path||""),a.query=e.query):(e.path?("/"===e.path.charAt(0)?a.path=V(e.path):(a.path=void 0===r.userinfo&&void 0===r.host&&void 0===r.port||r.path?r.path?r.path.slice(0,r.path.lastIndexOf("/")+1)+e.path:e.path:"/"+e.path,a.path=V(a.path)),a.query=e.query):(a.path=r.path,a.query=void 0!==e.query?e.query:r.query),a.userinfo=r.userinfo,a.host=r.host,a.port=r.port),a.scheme=r.scheme),a.fragment=e.fragment,a}function M(r,e){return r&&r.toString().replace(e&&e.iri?s.PCT_ENCODED:o.PCT_ENCODED,P)}var L={scheme:"http",domainHost:!0,parse:function(r){return r.host||(r.error=r.error||"HTTP URIs must have a host."),r},serialize:function(r){var e="https"===String(r.scheme).toLowerCase();return r.port!==(e?443:80)&&""!==r.port||(r.port=void 0),r.path||(r.path="/"),r}},U={scheme:"https",domainHost:L.domainHost,parse:L.parse,serialize:L.serialize};function H(r){return"boolean"==typeof r.secure?r.secure:"wss"===String(r.scheme).toLowerCase()}var J={scheme:"ws",domainHost:!0,parse:function(r){var e=r;return e.secure=H(e),e.resourceName=(e.path||"/")+(e.query?"?"+e.query:""),e.path=void 0,e.query=void 0,e},serialize:function(r){if(r.port!==(H(r)?443:80)&&""!==r.port||(r.port=void 0),"boolean"==typeof r.secure&&(r.scheme=r.secure?"wss":"ws",r.secure=void 0),r.resourceName){var e=r.resourceName.split("?"),t=u(e,2),a=t[0],i=t[1];r.path=a&&"/"!==a?a:void 0,r.query=i,r.resourceName=void 0}return r.fragment=void 0,r}},K={scheme:"wss",domainHost:J.domainHost,parse:J.parse,serialize:J.serialize},W={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",G=t(t("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+t("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+t("%"+Q+Q)),X=e("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(Z,"g"),rr=new RegExp(G,"g"),er=new RegExp(e("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),tr=new RegExp(e("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ar=tr;function ir(r){var e=P(r);return e.match(Y)?e:r}var nr={scheme:"mailto",parse:function(r,e){var t=r,a=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var i=!1,n={},o=t.query.split("&"),s=0,u=o.length;s<u;++s){var f=o[s].split("=");switch(f[0]){case"to":for(var l=f[1].split(","),d=0,c=l.length;d<c;++d)a.push(l[d]);break;case"subject":t.subject=M(f[1],e);break;case"body":t.body=M(f[1],e);break;default:i=!0,n[M(f[0],e)]=M(f[1],e)}}i&&(t.headers=n)}t.query=void 0;for(var v=0,m=a.length;v<m;++v){var h=a[v].split("@");if(h[0]=M(h[0]),e.unicodeSupport)h[1]=M(h[1],e).toLowerCase();else try{h[1]=j(M(h[1],e).toLowerCase())}catch(r){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+r}a[v]=h.join("@")}return t},serialize:function(r,e){var t=r,a=function(r){return null!=r?r instanceof Array?r:"number"!=typeof r.length||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[]}(r.to);if(a){for(var n=0,o=a.length;n<o;++n){var s=String(a[n]),u=s.lastIndexOf("@"),f=s.slice(0,u).replace(rr,ir).replace(rr,i).replace(er,F),l=s.slice(u+1);try{l=e.iri?x(l):j(M(l,e).toLowerCase())}catch(r){t.error=t.error||"Email address's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+r}a[n]=f+"@"+l}t.path=a.join(",")}var d=r.headers=r.headers||{};r.subject&&(d.subject=r.subject),r.body&&(d.body=r.body);var c=[];for(var v in d)d[v]!==W[v]&&c.push(v.replace(rr,ir).replace(rr,i).replace(tr,F)+"="+d[v].replace(rr,ir).replace(rr,i).replace(ar,F));return c.length&&(t.query=c.join("&")),t}},or=/^([^\:]+)\:(.*)/,sr={scheme:"urn",parse:function(r,e){var t=r.path&&r.path.match(or),a=r;if(t){var i=e.scheme||a.scheme||"urn",n=t[1].toLowerCase(),o=t[2],s=k[i+":"+(e.nid||n)];a.nid=n,a.nss=o,a.path=void 0,s&&(a=s.parse(a,e))}else a.error=a.error||"URN can not be parsed.";return a},serialize:function(r,e){var t=r.nid,a=k[(e.scheme||r.scheme||"urn")+":"+(e.nid||t)];a&&(r=a.serialize(r,e));var i=r;return i.path=(t||e.nid)+":"+r.nss,i}},ur=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,fr={scheme:"urn:uuid",parse:function(r,e){var t=r;return t.uuid=t.nss,t.nss=void 0,e.tolerant||t.uuid&&t.uuid.match(ur)||(t.error=t.error||"UUID is not valid."),t},serialize:function(r){var e=r;return e.nss=(r.uuid||"").toLowerCase(),e}};k[L.scheme]=L,k[U.scheme]=U,k[J.scheme]=J,k[K.scheme]=K,k[nr.scheme]=nr,k[sr.scheme]=sr,k[fr.scheme]=fr,r.SCHEMES=k,r.pctEncChar=F,r.pctDecChars=P,r.parse=A,r.removeDotSegments=V,r.serialize=q,r.resolveComponents=B,r.resolve=function(r,e,t){var a=function(r,e){var t={scheme:"null"};if(e)for(var a in e)t[a]=e[a];return t}(0,t);return q(B(A(r,a),A(e,a),a,!0),a)},r.normalize=function(r,e){return"string"==typeof r?r=q(A(r,e),e):"object"===a(r)&&(r=A(q(r,e),e)),r},r.equal=function(r,e,t){return"string"==typeof r?r=q(A(r,t),t):"object"===a(r)&&(r=q(r,t)),"string"==typeof e?e=q(A(e,t),t):"object"===a(e)&&(e=q(e,t)),r===e},r.escapeComponent=function(r,e){return r&&r.toString().replace(e&&e.iri?s.ESCAPE:o.ESCAPE,F)},r.unescapeComponent=M,Object.defineProperty(r,"__esModule",{value:!0})}(Tt);var Vt=function r(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var a,i,n;if(Array.isArray(e)){if((a=e.length)!=t.length)return!1;for(i=a;0!=i--;)if(!r(e[i],t[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((a=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=a;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,n[i]))return!1;for(i=a;0!=i--;){var o=n[i];if(!r(e[o],t[o]))return!1}return!0}return e!=e&&t!=t},qt={copy:function(r,e){for(var t in e=e||{},r)e[t]=r[t];return e},checkDataType:Bt,checkDataTypes:function(r,e,t){if(1===r.length)return Bt(r[0],e,t,!0);var a="",i=Lt(r);for(var n in i.array&&i.object&&(a=i.null?"(":"(!"+e+" || ",a+="typeof "+e+' !== "object")',delete i.null,delete i.array,delete i.object),i.number&&delete i.integer,i)a+=(a?" && ":"")+Bt(n,e,t,!0);return a},coerceToTypes:function(r,e){if(Array.isArray(e)){for(var t=[],a=0;a<e.length;a++){var i=e[a];(Mt[i]||"array"===r&&"array"===i)&&(t[t.length]=i)}if(t.length)return t}else{if(Mt[e])return[e];if("array"===r&&"array"===e)return["array"]}},toHash:Lt,getProperty:Jt,escapeQuotes:Kt,equal:Vt,ucs2length:function(r){for(var e,t=0,a=r.length,i=0;i<a;)t++,(e=r.charCodeAt(i++))>=55296&&e<=56319&&i<a&&56320==(64512&(e=r.charCodeAt(i)))&&i++;return t},varOccurences:function(r,e){var t=r.match(new RegExp(e+="[^0-9]","g"));return t?t.length:0},varReplace:function(r,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),r.replace(new RegExp(e,"g"),t+"$1")},schemaHasRules:function(r,e){if("boolean"==typeof r)return!r;for(var t in r)if(e[t])return!0},schemaHasRulesExcept:function(r,e,t){if("boolean"==typeof r)return!r&&"not"!=t;for(var a in r)if(a!=t&&e[a])return!0},schemaUnknownRules:function(r,e){if("boolean"!=typeof r)for(var t in r)if(!e[t])return t},toQuotedString:Wt,getPathExpr:function(r,e,t,a){return Gt(r,t?"'/' + "+e+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'")},getPath:function(r,e,t){return Gt(r,Wt(t?"/"+Xt(e):Jt(e)))},getData:function(r,e,t){var a,i,n,o;if(""===r)return"rootData";if("/"==r[0]){if(!Zt.test(r))throw new Error("Invalid JSON-pointer: "+r);i=r,n="rootData"}else{if(!(o=r.match(Qt)))throw new Error("Invalid JSON-pointer: "+r);if(a=+o[1],"#"==(i=o[2])){if(a>=e)throw new Error("Cannot access property/index "+a+" levels up, current level is "+e);return t[e-a]}if(a>e)throw new Error("Cannot access data "+a+" levels up, current level is "+e);if(n="data"+(e-a||""),!i)return n}for(var s=n,u=i.split("/"),f=0;f<u.length;f++){var l=u[f];l&&(s+=" && "+(n+=Jt(Yt(l))))}return s},unescapeFragment:function(r){return Yt(decodeURIComponent(r))},unescapeJsonPointer:Yt,escapeFragment:function(r){return encodeURIComponent(Xt(r))},escapeJsonPointer:Xt};function Bt(r,e,t,a){var i=a?" !== ":" === ",n=a?" || ":" && ",o=a?"!":"",s=a?"":"!";switch(r){case"null":return e+i+"null";case"array":return o+"Array.isArray("+e+")";case"object":return"("+o+e+n+"typeof "+e+i+'"object"'+n+s+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+i+'"number"'+n+s+"("+e+" % 1)"+n+e+i+e+(t?n+o+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+i+'"'+r+'"'+(t?n+o+"isFinite("+e+")":"")+")";default:return"typeof "+e+i+'"'+r+'"'}}var Mt=Lt(["string","number","integer","boolean","null"]);function Lt(r){for(var e={},t=0;t<r.length;t++)e[r[t]]=!0;return e}var Ut=/^[a-z$_][a-z$_0-9]*$/i,Ht=/'|\\/g;function Jt(r){return"number"==typeof r?"["+r+"]":Ut.test(r)?"."+r:"['"+Kt(r)+"']"}function Kt(r){return r.replace(Ht,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Wt(r){return"'"+Kt(r)+"'"}var Zt=/^\/(?:[^~]|~0|~1)*$/,Qt=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Gt(r,e){return'""'==r?e:(r+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function Xt(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}function Yt(r){return r.replace(/~1/g,"/").replace(/~0/g,"~")}var ra=qt,ea=function(r){ra.copy(r,this)},ta={exports:{}},aa=ta.exports=function(r,e,t){"function"==typeof e&&(t=e,e={}),ia(e,"function"==typeof(t=e.cb||t)?t:t.pre||function(){},t.post||function(){},r,"",r)};function ia(r,e,t,a,i,n,o,s,u,f){if(a&&"object"==typeof a&&!Array.isArray(a)){for(var l in e(a,i,n,o,s,u,f),a){var d=a[l];if(Array.isArray(d)){if(l in aa.arrayKeywords)for(var c=0;c<d.length;c++)ia(r,e,t,d[c],i+"/"+l+"/"+c,n,i,l,a,c)}else if(l in aa.propsKeywords){if(d&&"object"==typeof d)for(var v in d)ia(r,e,t,d[v],i+"/"+l+"/"+v.replace(/~/g,"~0").replace(/\//g,"~1"),n,i,l,a,v)}else(l in aa.keywords||r.allKeys&&!(l in aa.skipKeywords))&&ia(r,e,t,d,i+"/"+l,n,i,l,a)}t(a,i,n,o,s,u,f)}}aa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},aa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},aa.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},aa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var na=Tt,oa=Vt,sa=qt,ua=ea,fa=ta.exports,la=da;function da(r,e,t){var a=this._refs[t];if("string"==typeof a){if(!this._refs[a])return da.call(this,r,e,a);a=this._refs[a]}if((a=a||this._schemas[t])instanceof ua)return ga(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var i,n,o,s=ca.call(this,e,t);return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof ua?n=i.validate||r.call(this,i.schema,e,void 0,o):void 0!==i&&(n=ga(i,this._opts.inlineRefs)?i:r.call(this,i,e,void 0,o)),n}function ca(r,e){var t=na.parse(e),a=Ea(t),i=wa(this._getId(r.schema));if(0===Object.keys(r.schema).length||a!==i){var n=xa(a),o=this._refs[n];if("string"==typeof o)return va.call(this,r,o,t);if(o instanceof ua)o.validate||this._compile(o),r=o;else{if(!((o=this._schemas[n])instanceof ua))return;if(o.validate||this._compile(o),n==xa(e))return{schema:o,root:r,baseId:i};r=o}if(!r.schema)return;i=wa(this._getId(r.schema))}return ha.call(this,t,i,r.schema,r)}function va(r,e,t){var a=ca.call(this,r,e);if(a){var i=a.schema,n=a.baseId;r=a.root;var o=this._getId(i);return o&&(n=ka(n,o)),ha.call(this,t,n,i,r)}}da.normalizeId=xa,da.fullPath=wa,da.url=ka,da.ids=function(r){var e=xa(this._getId(r)),t={"":e},a={"":wa(e,!1)},i={},n=this;return fa(r,{allKeys:!0},(function(r,e,o,s,u,f,l){if(""!==e){var d=n._getId(r),c=t[s],v=a[s]+"/"+u;if(void 0!==l&&(v+="/"+("number"==typeof l?l:sa.escapeFragment(l))),"string"==typeof d){d=c=xa(c?na.resolve(c,d):d);var m=n._refs[d];if("string"==typeof m&&(m=n._refs[m]),m&&m.schema){if(!oa(r,m.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=xa(v))if("#"==d[0]){if(i[d]&&!oa(r,i[d]))throw new Error('id "'+d+'" resolves to more than one schema');i[d]=r}else n._refs[d]=v}t[e]=c,a[e]=v}})),i},da.inlineRef=ga,da.schema=ca;var ma=sa.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function ha(r,e,t,a){if(r.fragment=r.fragment||"","/"==r.fragment.slice(0,1)){for(var i=r.fragment.split("/"),n=1;n<i.length;n++){var o=i[n];if(o){if(void 0===(t=t[o=sa.unescapeFragment(o)]))break;var s;if(!ma[o]&&((s=this._getId(t))&&(e=ka(e,s)),t.$ref)){var u=ka(e,t.$ref),f=ca.call(this,a,u);f&&(t=f.schema,a=f.root,e=f.baseId)}}}return void 0!==t&&t!==a.schema?{schema:t,root:a,baseId:e}:void 0}}var pa=sa.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function ga(r,e){return!1!==e&&(void 0===e||!0===e?ya(r):e?ba(r)<=e:void 0)}function ya(r){var e;if(Array.isArray(r)){for(var t=0;t<r.length;t++)if("object"==typeof(e=r[t])&&!ya(e))return!1}else for(var a in r){if("$ref"==a)return!1;if("object"==typeof(e=r[a])&&!ya(e))return!1}return!0}function ba(r){var e,t=0;if(Array.isArray(r)){for(var a=0;a<r.length;a++)if("object"==typeof(e=r[a])&&(t+=ba(e)),t==1/0)return 1/0}else for(var i in r){if("$ref"==i)return 1/0;if(pa[i])t++;else if("object"==typeof(e=r[i])&&(t+=ba(e)+1),t==1/0)return 1/0}return t}function wa(r,e){return!1!==e&&(r=xa(r)),Ea(na.parse(r))}function Ea(r){return na.serialize(r).split("#")[0]+"#"}var ja=/#\/?$/;function xa(r){return r?r.replace(ja,""):""}function ka(r,e){return e=xa(e),na.resolve(r,e)}var Fa=la,Pa={Validation:Oa((function(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0})),MissingRef:Oa($a)};function $a(r,e,t){this.message=t||$a.message(r,e),this.missingRef=Fa.url(r,e),this.missingSchema=Fa.normalizeId(Fa.fullPath(this.missingRef))}function Oa(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}$a.message=function(r,e){return"can't resolve reference "+e+" from id "+r};var Sa=function(r,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var t,a="boolean"==typeof e.cycles&&e.cycles,i=e.cmp&&(t=e.cmp,function(r){return function(e,a){return t({key:e,value:r[e]},{key:a,value:r[a]})}}),n=[];return function r(e){if(e&&e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON()),void 0!==e){if("number"==typeof e)return isFinite(e)?""+e:"null";if("object"!=typeof e)return JSON.stringify(e);var t,o;if(Array.isArray(e)){for(o="[",t=0;t<e.length;t++)t&&(o+=","),o+=r(e[t])||"null";return o+"]"}if(null===e)return"null";if(-1!==n.indexOf(e)){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=n.push(e)-1,u=Object.keys(e).sort(i&&i(e));for(o="",t=0;t<u.length;t++){var f=u[t],l=r(e[f]);l&&(o&&(o+=","),o+=JSON.stringify(f)+":"+l)}return n.splice(s,1),"{"+o+"}"}}(r)},Da=function(r,e){var t="",a=!0===r.schema.$async,i=r.util.schemaHasRulesExcept(r.schema,r.RULES.all,"$ref"),n=r.self._getId(r.schema);if(r.opts.strictKeywords){var o=r.util.schemaUnknownRules(r.schema,r.RULES.keywords);if(o){var s="unknown keyword: "+o;if("log"!==r.opts.strictKeywords)throw new Error(s);r.logger.warn(s)}}if(r.isTop&&(t+=" var validate = ",a&&(r.async=!0,t+="async "),t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",n&&(r.opts.sourceCode||r.opts.processCode)&&(t+=" /*# sourceURL="+n+" */ ")),"boolean"==typeof r.schema||!i&&!r.schema.$ref){var u=r.level,f=r.dataLevel,l=r.schema[e="false schema"],d=r.schemaPath+r.util.getProperty(e),c=r.errSchemaPath+"/"+e,v=!r.opts.allErrors,m="data"+(f||""),h="valid"+u;if(!1===r.schema){r.isTop?v=!0:t+=" var "+h+" = false; ",(L=L||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: 'boolean schema is false' "),r.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var p=t;t=L.pop(),t+=!r.compositeRule&&v?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else t+=r.isTop?a?" return data; ":" validate.errors = null; return true; ":" var "+h+" = true; ";return r.isTop&&(t+=" }; return validate; "),t}if(r.isTop){var g=r.isTop;if(u=r.level=0,f=r.dataLevel=0,m="data",r.rootId=r.resolve.fullPath(r.self._getId(r.root.schema)),r.baseId=r.baseId||r.rootId,delete r.isTop,r.dataPathArr=[""],void 0!==r.schema.default&&r.opts.useDefaults&&r.opts.strictDefaults){var y="default is ignored in the schema root";if("log"!==r.opts.strictDefaults)throw new Error(y);r.logger.warn(y)}t+=" var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data; "}else{if(u=r.level,m="data"+((f=r.dataLevel)||""),n&&(r.baseId=r.resolve.url(r.baseId,n)),a&&!r.async)throw new Error("async schema in sync schema");t+=" var errs_"+u+" = errors;"}h="valid"+u,v=!r.opts.allErrors;var b="",w="",E=r.schema.type,j=Array.isArray(E);if(E&&r.opts.nullable&&!0===r.schema.nullable&&(j?-1==E.indexOf("null")&&(E=E.concat("null")):"null"!=E&&(E=[E,"null"],j=!0)),j&&1==E.length&&(E=E[0],j=!1),r.schema.$ref&&i){if("fail"==r.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+r.errSchemaPath+'" (see option extendRefs)');!0!==r.opts.extendRefs&&(i=!1,r.logger.warn('$ref: keywords ignored in schema at path "'+r.errSchemaPath+'"'))}if(r.schema.$comment&&r.opts.$comment&&(t+=" "+r.RULES.all.$comment.code(r,"$comment")),E){if(r.opts.coerceTypes)var x=r.util.coerceToTypes(r.opts.coerceTypes,E);var k=r.RULES.types[E];if(x||j||!0===k||k&&!Z(k)){if(d=r.schemaPath+".type",c=r.errSchemaPath+"/type",d=r.schemaPath+".type",c=r.errSchemaPath+"/type",t+=" if ("+r.util[j?"checkDataTypes":"checkDataType"](E,m,r.opts.strictNumbers,!0)+") { ",x){var F="dataType"+u,P="coerced"+u;t+=" var "+F+" = typeof "+m+"; var "+P+" = undefined; ","array"==r.opts.coerceTypes&&(t+=" if ("+F+" == 'object' && Array.isArray("+m+") && "+m+".length == 1) { "+m+" = "+m+"[0]; "+F+" = typeof "+m+"; if ("+r.util.checkDataType(r.schema.type,m,r.opts.strictNumbers)+") "+P+" = "+m+"; } "),t+=" if ("+P+" !== undefined) ; ";var $=x;if($)for(var O,S=-1,D=$.length-1;S<D;)"string"==(O=$[S+=1])?t+=" else if ("+F+" == 'number' || "+F+" == 'boolean') "+P+" = '' + "+m+"; else if ("+m+" === null) "+P+" = ''; ":"number"==O||"integer"==O?(t+=" else if ("+F+" == 'boolean' || "+m+" === null || ("+F+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==O&&(t+=" && !("+m+" % 1)"),t+=")) "+P+" = +"+m+"; "):"boolean"==O?t+=" else if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+P+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+P+" = true; ":"null"==O?t+=" else if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+P+" = null; ":"array"==r.opts.coerceTypes&&"array"==O&&(t+=" else if ("+F+" == 'string' || "+F+" == 'number' || "+F+" == 'boolean' || "+m+" == null) "+P+" = ["+m+"]; ");(L=L||[]).push(t+=" else {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { type: '",t+=j?""+E.join(","):""+E,t+="' } ",!1!==r.opts.messages&&(t+=" , message: 'should be ",t+=j?""+E.join(","):""+E,t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=L.pop(),t+=!r.compositeRule&&v?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } if ("+P+" !== undefined) {  ";var _=f?"data"+(f-1||""):"parentData";t+=" "+m+" = "+P+"; ",f||(t+="if ("+_+" !== undefined)"),t+=" "+_+"["+(f?r.dataPathArr[f]:"parentDataProperty")+"] = "+P+"; } "}else(L=L||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { type: '",t+=j?""+E.join(","):""+E,t+="' } ",!1!==r.opts.messages&&(t+=" , message: 'should be ",t+=j?""+E.join(","):""+E,t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=L.pop(),t+=!r.compositeRule&&v?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";t+=" } "}}if(r.schema.$ref&&!i)t+=" "+r.RULES.all.$ref.code(r,"$ref")+" ",v&&(t+=" } if (errors === ",t+=g?"0":"errs_"+u,t+=") { ",w+="}");else{var z=r.RULES;if(z)for(var A=-1,I=z.length-1;A<I;)if(Z(k=z[A+=1])){if(k.type&&(t+=" if ("+r.util.checkDataType(k.type,m,r.opts.strictNumbers)+") { "),r.opts.useDefaults)if("object"==k.type&&r.schema.properties){l=r.schema.properties;var C=Object.keys(l);if(C)for(var R,N=-1,T=C.length-1;N<T;)if(void 0!==(B=l[R=C[N+=1]]).default){var V=m+r.util.getProperty(R);if(r.compositeRule){if(r.opts.strictDefaults){if(y="default is ignored for: "+V,"log"!==r.opts.strictDefaults)throw new Error(y);r.logger.warn(y)}}else t+=" if ("+V+" === undefined ","empty"==r.opts.useDefaults&&(t+=" || "+V+" === null || "+V+" === '' "),t+=" ) "+V+" = ",t+="shared"==r.opts.useDefaults?" "+r.useDefault(B.default)+" ":" "+JSON.stringify(B.default)+" ",t+="; "}}else if("array"==k.type&&Array.isArray(r.schema.items)){var q=r.schema.items;if(q){S=-1;for(var B,M=q.length-1;S<M;)if(void 0!==(B=q[S+=1]).default)if(V=m+"["+S+"]",r.compositeRule){if(r.opts.strictDefaults){if(y="default is ignored for: "+V,"log"!==r.opts.strictDefaults)throw new Error(y);r.logger.warn(y)}}else t+=" if ("+V+" === undefined ","empty"==r.opts.useDefaults&&(t+=" || "+V+" === null || "+V+" === '' "),t+=" ) "+V+" = ",t+="shared"==r.opts.useDefaults?" "+r.useDefault(B.default)+" ":" "+JSON.stringify(B.default)+" ",t+="; "}}var L,U=k.rules;if(U)for(var H,J=-1,K=U.length-1;J<K;)if(Q(H=U[J+=1])){var W=H.code(r,H.keyword,k.type);W&&(t+=" "+W+" ",v&&(b+="}"))}v&&(t+=" "+b+" ",b=""),k.type&&(t+=" } ",E&&E===k.type&&!x)&&(d=r.schemaPath+".type",c=r.errSchemaPath+"/type",(L=L||[]).push(t+=" else { "),t="",!1!==r.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: { type: '",t+=j?""+E.join(","):""+E,t+="' } ",!1!==r.opts.messages&&(t+=" , message: 'should be ",t+=j?""+E.join(","):""+E,t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ",p=t,t=L.pop(),t+=!r.compositeRule&&v?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "),v&&(t+=" if (errors === ",t+=g?"0":"errs_"+u,t+=") { ",w+="}")}}function Z(r){for(var e=r.rules,t=0;t<e.length;t++)if(Q(e[t]))return!0}function Q(e){return void 0!==r.schema[e.keyword]||e.implements&&function(e){for(var t=e.implements,a=0;a<t.length;a++)if(void 0!==r.schema[t[a]])return!0}(e)}return v&&(t+=" "+w+" "),g?(a?(t+=" if (errors === 0) return data;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }; return validate;"):t+=" var "+h+" = errors === errs_"+u+";",t},_a=la,za=qt,Aa=Pa,Ia=Sa,Ca=Da,Ra=za.ucs2length,Na=Vt,Ta=Aa.Validation;function Va(r,e,t){var a=Ba.call(this,r,e,t);return a>=0?{index:a,compiling:!0}:(this._compilations[a=this._compilations.length]={schema:r,root:e,baseId:t},{index:a,compiling:!1})}function qa(r,e,t){var a=Ba.call(this,r,e,t);a>=0&&this._compilations.splice(a,1)}function Ba(r,e,t){for(var a=0;a<this._compilations.length;a++){var i=this._compilations[a];if(i.schema==r&&i.root==e&&i.baseId==t)return a}return-1}function Ma(r,e){return"var pattern"+r+" = new RegExp("+za.toQuotedString(e[r])+");"}function La(r){return"var default"+r+" = defaults["+r+"];"}function Ua(r,e){return void 0===e[r]?"":"var refVal"+r+" = refVal["+r+"];"}function Ha(r){return"var customRule"+r+" = customRules["+r+"];"}function Ja(r,e){if(!r.length)return"";for(var t="",a=0;a<r.length;a++)t+=e(a,r);return t}var Ka={exports:{}},Wa=Ka.exports=function(){this._cache={}};Wa.prototype.put=function(r,e){this._cache[r]=e},Wa.prototype.get=function(r){return this._cache[r]},Wa.prototype.del=function(r){delete this._cache[r]},Wa.prototype.clear=function(){this._cache={}};var Za=qt,Qa=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Ga=[0,31,28,31,30,31,30,31,31,30,31,30,31],Xa=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Ya=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ri=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,ei=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,ti=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ai=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ii=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ni=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,oi=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,si=ui;function ui(r){return Za.copy(ui[r="full"==r?"full":"fast"])}function fi(r){var e=r.match(Qa);if(!e)return!1;var t=+e[2],a=+e[3];return t>=1&&t<=12&&a>=1&&a<=(2==t&&function(r){return r%4==0&&(r%100!=0||r%400==0)}(+e[1])?29:Ga[t])}function li(r,e){var t=r.match(Xa);if(!t)return!1;var a=t[1],i=t[2],n=t[3];return(a<=23&&i<=59&&n<=59||23==a&&59==i&&60==n)&&(!e||t[5])}ui.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":ei,url:ti,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Ya,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:mi,uuid:ai,"json-pointer":ii,"json-pointer-uri-fragment":ni,"relative-json-pointer":oi},ui.full={date:fi,time:li,"date-time":function(r){var e=r.split(di);return 2==e.length&&fi(e[0])&&li(e[1],!0)},uri:function(r){return ci.test(r)&&ri.test(r)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":ei,url:ti,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Ya,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:mi,uuid:ai,"json-pointer":ii,"json-pointer-uri-fragment":ni,"relative-json-pointer":oi};var di=/t|\s/i,ci=/\/|:/,vi=/[^\\]\\Z/;function mi(r){if(vi.test(r))return!1;try{return!0}catch(r){return!1}}var hi=function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o;var c="maximum"==e,v=c?"exclusiveMaximum":"exclusiveMinimum",m=r.schema[v],h=r.opts.$data&&m&&m.$data,p=c?"<":">",g=c?">":"<",y=void 0;if(!d&&"number"!=typeof o&&void 0!==o)throw new Error(e+" must be number");if(!h&&void 0!==m&&"number"!=typeof m&&"boolean"!=typeof m)throw new Error(v+" must be number or boolean");if(h){var b,w=r.util.getData(m.$data,n,r.dataPathArr),E="exclusive"+i,j="exclType"+i,x="exclIsNumber"+i,k="' + "+(P="op"+i)+" + '";a+=" var schemaExcl"+i+" = "+w+"; ",a+=" var "+E+"; var "+j+" = typeof "+(w="schemaExcl"+i)+"; if ("+j+" != 'boolean' && "+j+" != 'undefined' && "+j+" != 'number') { ",y=v,(b=b||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: {} ",!1!==r.opts.messages&&(a+=" , message: '"+v+" should be boolean' "),r.opts.verbose&&(a+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var F=a;a=b.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } else if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+j+" == 'number' ? ( ("+E+" = "+t+" === undefined || "+w+" "+p+"= "+t+") ? "+l+" "+g+"= "+w+" : "+l+" "+g+" "+t+" ) : ( ("+E+" = "+w+" === true) ? "+l+" "+g+"= "+t+" : "+l+" "+g+" "+t+" ) || "+l+" !== "+l+") { var op"+i+" = "+E+" ? '"+p+"' : '"+p+"='; ",void 0===o&&(y=v,u=r.errSchemaPath+"/"+v,t=w,d=h)}else if(k=p,(x="number"==typeof m)&&d){var P="'"+k+"'";a+=" if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" ( "+t+" === undefined || "+m+" "+p+"= "+t+" ? "+l+" "+g+"= "+m+" : "+l+" "+g+" "+t+" ) || "+l+" !== "+l+") { "}else x&&void 0===o?(E=!0,y=v,u=r.errSchemaPath+"/"+v,t=m,g+="="):(x&&(t=Math[c?"min":"max"](m,o)),m===(!x||t)?(E=!0,y=v,u=r.errSchemaPath+"/"+v,g+="="):(E=!1,k+="=")),P="'"+k+"'",a+=" if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=" "+l+" "+g+" "+t+" || "+l+" !== "+l+") { ";return y=y||e,(b=b||[]).push(a),a="",!1!==r.createErrors?(a+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { comparison: "+P+", limit: "+t+", exclusive: "+E+" } ",!1!==r.opts.messages&&(a+=" , message: 'should be "+k+" ",a+=d?"' + "+t:t+"'"),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ",F=a,a=b.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+F+"]); ":" validate.errors = ["+F+"]; return false; ":" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a},pi=function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;if(d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,!d&&"number"!=typeof o)throw new Error(e+" must be number");a+="if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || ");var c=e,v=v||[];v.push(a+=" "+l+".length "+("maxItems"==e?">":"<")+" "+t+") { "),a="",!1!==r.createErrors?(a+=" { keyword: '"+(c||"_limitItems")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxItems"==e?"more":"fewer",a+=" than ",a+=d?"' + "+t+" + '":""+o,a+=" items' "),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},gi=function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;if(d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,!d&&"number"!=typeof o)throw new Error(e+" must be number");a+="if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),a+=!1===r.opts.unicode?" "+l+".length ":" ucs2length("+l+") ";var c=e,v=v||[];v.push(a+=" "+("maxLength"==e?">":"<")+" "+t+") { "),a="",!1!==r.createErrors?(a+=" { keyword: '"+(c||"_limitLength")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should NOT be ",a+="maxLength"==e?"longer":"shorter",a+=" than ",a+=d?"' + "+t+" + '":""+o,a+=" characters' "),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},yi=function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;if(d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,!d&&"number"!=typeof o)throw new Error(e+" must be number");a+="if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'number') || ");var c=e,v=v||[];v.push(a+=" Object.keys("+l+").length "+("maxProperties"==e?">":"<")+" "+t+") { "),a="",!1!==r.createErrors?(a+=" { keyword: '"+(c||"_limitProperties")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { limit: "+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should NOT have ",a+="maxProperties"==e?"more":"fewer",a+=" than ",a+=d?"' + "+t+" + '":""+o,a+=" properties' "),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var m=a;return a=v.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},bi={$ref:function(r,e){var t,a,i=" ",n=r.dataLevel,o=r.schema[e],s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(n||""),l="valid"+r.level;if("#"==o||"#/"==o)r.isRoot?(t=r.async,a="validate"):(t=!0===r.root.schema.$async,a="root.refVal[0]");else{var d=r.resolveRef(r.baseId,o,r.isRoot);if(void 0===d){var c=r.MissingRefError.message(r.baseId,o);if("fail"==r.opts.missingRefs){r.logger.error(c),(p=p||[]).push(i),i="",!1!==r.createErrors?(i+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { ref: '"+r.util.escapeQuotes(o)+"' } ",!1!==r.opts.messages&&(i+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(o)+"' "),r.opts.verbose&&(i+=" , schema: "+r.util.toQuotedString(o)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var v=i;i=p.pop(),i+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ")}else{if("ignore"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,o,c);r.logger.warn(c),u&&(i+=" if (true) { ")}}else if(d.inline){var m=r.util.copy(r);m.level++;var h="valid"+m.level;m.schema=d.schema,m.schemaPath="",m.errSchemaPath=o,i+=" "+r.validate(m).replace(/validate\.schema/g,d.code)+" ",u&&(i+=" if ("+h+") { ")}else t=!0===d.$async||r.async&&!1!==d.$async,a=d.code}if(a){var p;(p=p||[]).push(i),i="",i+=r.opts.passContext?" "+a+".call(this, ":" "+a+"( ",i+=" "+f+", (dataPath || '')",'""'!=r.errorPath&&(i+=" + "+r.errorPath);var g=i+=" , "+(n?"data"+(n-1||""):"parentData")+" , "+(n?r.dataPathArr[n]:"parentDataProperty")+", rootData)  ";if(i=p.pop(),t){if(!r.async)throw new Error("async schema referenced by sync schema");u&&(i+=" var "+l+"; "),i+=" try { await "+g+"; ",u&&(i+=" "+l+" = true; "),i+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(i+=" "+l+" = false; "),i+=" } ",u&&(i+=" if ("+l+") { ")}else i+=" if (!"+g+") { if (vErrors === null) vErrors = "+a+".errors; else vErrors = vErrors.concat("+a+".errors); errors = vErrors.length; } ",u&&(i+=" else { ")}return i},allOf:function(r,e){var t=" ",a=r.schema[e],i=r.schemaPath+r.util.getProperty(e),n=r.errSchemaPath+"/"+e,o=!r.opts.allErrors,s=r.util.copy(r),u="";s.level++;var f="valid"+s.level,l=s.baseId,d=!0,c=a;if(c)for(var v,m=-1,h=c.length-1;m<h;)v=c[m+=1],(r.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:r.util.schemaHasRules(v,r.RULES.all))&&(d=!1,s.schema=v,s.schemaPath=i+"["+m+"]",s.errSchemaPath=n+"/"+m,t+="  "+r.validate(s)+" ",s.baseId=l,o&&(t+=" if ("+f+") { ",u+="}"));return o&&(t+=d?" if (true) { ":" "+u.slice(0,-1)+" "),t},anyOf:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d="errs__"+a,c=r.util.copy(r),v="";c.level++;var m="valid"+c.level,h=n.every((function(e){return r.opts.strictKeywords?"object"==typeof e&&Object.keys(e).length>0||!1===e:r.util.schemaHasRules(e,r.RULES.all)}));if(h){var p=c.baseId;t+=" var "+d+" = errors; var "+l+" = false;  ";var g=r.compositeRule;r.compositeRule=c.compositeRule=!0;var y=n;if(y)for(var b,w=-1,E=y.length-1;w<E;)b=y[w+=1],c.schema=b,c.schemaPath=o+"["+w+"]",c.errSchemaPath=s+"/"+w,t+="  "+r.validate(c)+" ",c.baseId=p,t+=" "+l+" = "+l+" || "+m+"; if (!"+l+") { ",v+="}";r.compositeRule=c.compositeRule=g,t+=" "+v+" if (!"+l+") {   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: 'should match some schema in anyOf' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&u&&(t+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",r.opts.allErrors&&(t+=" } ")}else u&&(t+=" if (true) { ");return t},$comment:function(r,e){var t=" ",a=r.errSchemaPath+"/"+e,i=r.util.toQuotedString(r.schema[e]);return!0===r.opts.$comment?t+=" console.log("+i+");":"function"==typeof r.opts.$comment&&(t+=" self._opts.$comment("+i+", "+r.util.toQuotedString(a)+", validate.root.schema);"),t},const:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d=r.opts.$data&&n&&n.$data;d&&(t+=" var schema"+a+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; "),d||(t+=" var schema"+a+" = validate.schema"+o+";");var c=c||[];c.push(t+="var "+l+" = equal("+f+", schema"+a+"); if (!"+l+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'const' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { allowedValue: schema"+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should be equal to constant' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var v=t;return t=c.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",u&&(t+=" else { "),t},contains:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d="errs__"+a,c=r.util.copy(r);c.level++;var v="valid"+c.level,m="i"+a,h=c.dataLevel=r.dataLevel+1,p="data"+h,g=r.baseId,y=r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all);if(t+="var "+d+" = errors;var "+l+";",y){var b=r.compositeRule;r.compositeRule=c.compositeRule=!0,c.schema=n,c.schemaPath=o,c.errSchemaPath=s,t+=" var "+v+" = false; for (var "+m+" = 0; "+m+" < "+f+".length; "+m+"++) { ",c.errorPath=r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers,!0);var w=f+"["+m+"]";c.dataPathArr[h]=m;var E=r.validate(c);c.baseId=g,r.util.varOccurences(E,p)<2?t+=" "+r.util.varReplace(E,p,w)+" ":t+=" var "+p+" = "+w+"; "+E+" ",t+=" if ("+v+") break; }  ",r.compositeRule=c.compositeRule=b,t+="  if (!"+v+") {"}else t+=" if ("+f+".length == 0) {";var j=j||[];j.push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: 'should contain a valid item' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var x=t;return t=j.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { ",y&&(t+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),r.opts.allErrors&&(t+=" } "),t},dependencies:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="errs__"+a,d=r.util.copy(r),c="";d.level++;var v="valid"+d.level,m={},h={},p=r.opts.ownProperties;for(w in n)if("__proto__"!=w){var g=n[w],y=Array.isArray(g)?h:m;y[w]=g}t+="var "+l+" = errors;";var b=r.errorPath;for(var w in t+="var missing"+a+";",h)if((y=h[w]).length){if(t+=" if ( "+f+r.util.getProperty(w)+" !== undefined ",p&&(t+=" && Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(w)+"') "),u){t+=" && ( ";var E=y;if(E)for(var j=-1,x=E.length-1;j<x;)S=E[j+=1],j&&(t+=" || "),t+=" ( ( "+(A=f+(z=r.util.getProperty(S)))+" === undefined ",p&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(S)+"') "),t+=") && (missing"+a+" = "+r.util.toQuotedString(r.opts.jsonPointers?S:z)+") ) ";t+=")) {  ";var k="missing"+a,F="' + "+k+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(b,k,!0):b+" + "+k);var P=P||[];P.push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { property: '"+r.util.escapeQuotes(w)+"', missingProperty: '"+F+"', depsCount: "+y.length+", deps: '"+r.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==r.opts.messages&&(t+=" , message: 'should have ",t+=1==y.length?"property "+r.util.escapeQuotes(y[0]):"properties "+r.util.escapeQuotes(y.join(", ")),t+=" when property "+r.util.escapeQuotes(w)+" is present' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var $=t;t=P.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+$+"]); ":" validate.errors = ["+$+"]; return false; ":" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{t+=" ) { ";var O=y;if(O)for(var S,D=-1,_=O.length-1;D<_;){S=O[D+=1];var z=r.util.getProperty(S),A=(F=r.util.escapeQuotes(S),f+z);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(b,S,r.opts.jsonPointers)),t+=" if ( "+A+" === undefined ",p&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(S)+"') "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { property: '"+r.util.escapeQuotes(w)+"', missingProperty: '"+F+"', depsCount: "+y.length+", deps: '"+r.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==r.opts.messages&&(t+=" , message: 'should have ",t+=1==y.length?"property "+r.util.escapeQuotes(y[0]):"properties "+r.util.escapeQuotes(y.join(", ")),t+=" when property "+r.util.escapeQuotes(w)+" is present' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}t+=" }   ",u&&(c+="}",t+=" else { ")}r.errorPath=b;var I=d.baseId;for(var w in m)g=m[w],(r.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:r.util.schemaHasRules(g,r.RULES.all))&&(t+=" "+v+" = true; if ( "+f+r.util.getProperty(w)+" !== undefined ",p&&(t+=" && Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(w)+"') "),t+=") { ",d.schema=g,d.schemaPath=o+r.util.getProperty(w),d.errSchemaPath=s+"/"+r.util.escapeFragment(w),t+="  "+r.validate(d)+" ",d.baseId=I,t+=" }  ",u&&(t+=" if ("+v+") { ",c+="}"));return u&&(t+="   "+c+" if ("+l+" == errors) {"),t},enum:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d=r.opts.$data&&n&&n.$data;d&&(t+=" var schema"+a+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; ");var c="i"+a,v="schema"+a;d||(t+=" var "+v+" = validate.schema"+o+";"),t+="var "+l+";",d&&(t+=" if (schema"+a+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+a+")) "+l+" = false; else {"),t+=l+" = false;for (var "+c+"=0; "+c+"<"+v+".length; "+c+"++) if (equal("+f+", "+v+"["+c+"])) { "+l+" = true; break; }",d&&(t+="  }  ");var m=m||[];m.push(t+=" if (!"+l+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { allowedValues: schema"+a+" } ",!1!==r.opts.messages&&(t+=" , message: 'should be equal to one of the allowed values' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var h=t;return t=m.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+h+"]); ":" validate.errors = ["+h+"]; return false; ":" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",u&&(t+=" else { "),t},format:function(r,e,t){var a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||"");if(!1===r.opts.format)return f&&(a+=" if (true) { "),a;var d,c=r.opts.$data&&o&&o.$data;c?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",d="schema"+i):d=o;var v=r.opts.unknownFormats,m=Array.isArray(v);if(c)a+=" var "+(h="format"+i)+" = formats["+d+"]; var "+(p="isObject"+i)+" = typeof "+h+" == 'object' && !("+h+" instanceof RegExp) && "+h+".validate; var "+(g="formatType"+i)+" = "+p+" && "+h+".type || 'string'; if ("+p+") { ",r.async&&(a+=" var async"+i+" = "+h+".async; "),a+=" "+h+" = "+h+".validate; } if (  ",c&&(a+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),a+=" (","ignore"!=v&&(a+=" ("+d+" && !"+h+" ",m&&(a+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),a+=") || "),a+=" ("+h+" && "+g+" == '"+t+"' && !(typeof "+h+" == 'function' ? ",a+=r.async?" (async"+i+" ? await "+h+"("+l+") : "+h+"("+l+")) ":" "+h+"("+l+") ",a+=" : "+h+".test("+l+"))))) {";else{var h;if(!(h=r.formats[o])){if("ignore"==v)return r.logger.warn('unknown format "'+o+'" ignored in schema at path "'+r.errSchemaPath+'"'),f&&(a+=" if (true) { "),a;if(m&&v.indexOf(o)>=0)return f&&(a+=" if (true) { "),a;throw new Error('unknown format "'+o+'" is used in schema at path "'+r.errSchemaPath+'"')}var p,g=(p="object"==typeof h&&!(h instanceof RegExp)&&h.validate)&&h.type||"string";if(p){var y=!0===h.async;h=h.validate}if(g!=t)return f&&(a+=" if (true) { "),a;if(y){if(!r.async)throw new Error("async format in sync schema");a+=" if (!(await "+(b="formats"+r.util.getProperty(o)+".validate")+"("+l+"))) { "}else{a+=" if (! ";var b="formats"+r.util.getProperty(o);p&&(b+=".validate"),a+="function"==typeof h?" "+b+"("+l+") ":" "+b+".test("+l+") ",a+=") { "}}var w=w||[];w.push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'format' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { format:  ",a+=c?""+d:""+r.util.toQuotedString(o),a+="  } ",!1!==r.opts.messages&&(a+=" , message: 'should match format \"",a+=c?"' + "+d+" + '":""+r.util.escapeQuotes(o),a+="\"' "),r.opts.verbose&&(a+=" , schema:  ",a+=c?"validate.schema"+s:""+r.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var E=a;return a=w.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+E+"]); ":" validate.errors = ["+E+"]; return false; ":" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { "),a},if:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d="errs__"+a,c=r.util.copy(r);c.level++;var v="valid"+c.level,m=r.schema.then,h=r.schema.else,p=void 0!==m&&(r.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:r.util.schemaHasRules(m,r.RULES.all)),g=void 0!==h&&(r.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0||!1===h:r.util.schemaHasRules(h,r.RULES.all)),y=c.baseId;if(p||g){var b;c.createErrors=!1,c.schema=n,c.schemaPath=o,c.errSchemaPath=s,t+=" var "+d+" = errors; var "+l+" = true;  ";var w=r.compositeRule;r.compositeRule=c.compositeRule=!0,t+="  "+r.validate(c)+" ",c.baseId=y,c.createErrors=!0,t+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",r.compositeRule=c.compositeRule=w,p?(t+=" if ("+v+") {  ",c.schema=r.schema.then,c.schemaPath=r.schemaPath+".then",c.errSchemaPath=r.errSchemaPath+"/then",t+="  "+r.validate(c)+" ",c.baseId=y,t+=" "+l+" = "+v+"; ",p&&g?t+=" var "+(b="ifClause"+a)+" = 'then'; ":b="'then'",t+=" } ",g&&(t+=" else { ")):t+=" if (!"+v+") { ",g&&(c.schema=r.schema.else,c.schemaPath=r.schemaPath+".else",c.errSchemaPath=r.errSchemaPath+"/else",t+="  "+r.validate(c)+" ",c.baseId=y,t+=" "+l+" = "+v+"; ",p&&g?t+=" var "+(b="ifClause"+a)+" = 'else'; ":b="'else'",t+=" } "),t+=" if (!"+l+") {   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'if' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { failingKeyword: "+b+" } ",!1!==r.opts.messages&&(t+=" , message: 'should match \"' + "+b+" + '\" schema' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&u&&(t+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+=" }   ",u&&(t+=" else { ")}else u&&(t+=" if (true) { ");return t},items:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d="errs__"+a,c=r.util.copy(r),v="";c.level++;var m="valid"+c.level,h="i"+a,p=c.dataLevel=r.dataLevel+1,g="data"+p,y=r.baseId;if(t+="var "+d+" = errors;var "+l+";",Array.isArray(n)){var b=r.schema.additionalItems;if(!1===b){t+=" "+l+" = "+f+".length <= "+n.length+"; ";var w=s;s=r.errSchemaPath+"/additionalItems";var E=E||[];E.push(t+="  if (!"+l+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { limit: "+n.length+" } ",!1!==r.opts.messages&&(t+=" , message: 'should NOT have more than "+n.length+" items' "),r.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var j=t;t=E.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+j+"]); ":" validate.errors = ["+j+"]; return false; ":" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",s=w,u&&(v+="}",t+=" else { ")}var x=n;if(x)for(var k,F=-1,P=x.length-1;F<P;)if(k=x[F+=1],r.opts.strictKeywords?"object"==typeof k&&Object.keys(k).length>0||!1===k:r.util.schemaHasRules(k,r.RULES.all)){t+=" "+m+" = true; if ("+f+".length > "+F+") { ";var $=f+"["+F+"]";c.schema=k,c.schemaPath=o+"["+F+"]",c.errSchemaPath=s+"/"+F,c.errorPath=r.util.getPathExpr(r.errorPath,F,r.opts.jsonPointers,!0),c.dataPathArr[p]=F;var O=r.validate(c);c.baseId=y,r.util.varOccurences(O,g)<2?t+=" "+r.util.varReplace(O,g,$)+" ":t+=" var "+g+" = "+$+"; "+O+" ",t+=" }  ",u&&(t+=" if ("+m+") { ",v+="}")}"object"==typeof b&&(r.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:r.util.schemaHasRules(b,r.RULES.all))&&(c.schema=b,c.schemaPath=r.schemaPath+".additionalItems",c.errSchemaPath=r.errSchemaPath+"/additionalItems",t+=" "+m+" = true; if ("+f+".length > "+n.length+") {  for (var "+h+" = "+n.length+"; "+h+" < "+f+".length; "+h+"++) { ",c.errorPath=r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers,!0),$=f+"["+h+"]",c.dataPathArr[p]=h,O=r.validate(c),c.baseId=y,r.util.varOccurences(O,g)<2?t+=" "+r.util.varReplace(O,g,$)+" ":t+=" var "+g+" = "+$+"; "+O+" ",u&&(t+=" if (!"+m+") break; "),t+=" } }  ",u&&(t+=" if ("+m+") { ",v+="}"))}else(r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all))&&(c.schema=n,c.schemaPath=o,c.errSchemaPath=s,t+="  for (var "+h+" = 0; "+h+" < "+f+".length; "+h+"++) { ",c.errorPath=r.util.getPathExpr(r.errorPath,h,r.opts.jsonPointers,!0),$=f+"["+h+"]",c.dataPathArr[p]=h,O=r.validate(c),c.baseId=y,r.util.varOccurences(O,g)<2?t+=" "+r.util.varReplace(O,g,$)+" ":t+=" var "+g+" = "+$+"; "+O+" ",u&&(t+=" if (!"+m+") break; "),t+=" }");return u&&(t+=" "+v+" if ("+d+" == errors) {"),t},maximum:hi,minimum:hi,maxItems:pi,minItems:pi,maxLength:gi,minLength:gi,maxProperties:yi,minProperties:yi,multipleOf:function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;if(d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,!d&&"number"!=typeof o)throw new Error(e+" must be number");a+="var division"+i+";if (",d&&(a+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),a+=" (division"+i+" = "+l+" / "+t+", ",a+=r.opts.multipleOfPrecision?" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+r.opts.multipleOfPrecision+" ":" division"+i+" !== parseInt(division"+i+") ",a+=" ) ",d&&(a+="  )  ");var c=c||[];c.push(a+=" ) {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { multipleOf: "+t+" } ",!1!==r.opts.messages&&(a+=" , message: 'should be multiple of ",a+=d?"' + "+t:t+"'"),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var v=a;return a=c.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},not:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="errs__"+a,d=r.util.copy(r);d.level++;var c="valid"+d.level;if(r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all)){d.schema=n,d.schemaPath=o,d.errSchemaPath=s,t+=" var "+l+" = errors;  ";var v,m=r.compositeRule;r.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(v=d.opts.allErrors,d.opts.allErrors=!1),t+=" "+r.validate(d)+" ",d.createErrors=!0,v&&(d.opts.allErrors=v),r.compositeRule=d.compositeRule=m;var h=h||[];h.push(t+=" if ("+c+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: 'should NOT be valid' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var p=t;t=h.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",r.opts.allErrors&&(t+=" } ")}else t+="  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: {} ",!1!==r.opts.messages&&(t+=" , message: 'should NOT be valid' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(t+=" if (false) { ");return t},oneOf:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d="errs__"+a,c=r.util.copy(r),v="";c.level++;var m="valid"+c.level,h=c.baseId,p="prevValid"+a,g="passingSchemas"+a;t+="var "+d+" = errors , "+p+" = false , "+l+" = false , "+g+" = null; ";var y=r.compositeRule;r.compositeRule=c.compositeRule=!0;var b=n;if(b)for(var w,E=-1,j=b.length-1;E<j;)w=b[E+=1],(r.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:r.util.schemaHasRules(w,r.RULES.all))?(c.schema=w,c.schemaPath=o+"["+E+"]",c.errSchemaPath=s+"/"+E,t+="  "+r.validate(c)+" ",c.baseId=h):t+=" var "+m+" = true; ",E&&(t+=" if ("+m+" && "+p+") { "+l+" = false; "+g+" = ["+g+", "+E+"]; } else { ",v+="}"),t+=" if ("+m+") { "+l+" = "+p+" = true; "+g+" = "+E+"; }";return r.compositeRule=c.compositeRule=y,t+=v+"if (!"+l+") {   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { passingSchemas: "+g+" } ",!1!==r.opts.messages&&(t+=" , message: 'should match exactly one schema in oneOf' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&u&&(t+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),t+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",r.opts.allErrors&&(t+=" } "),t},pattern:function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d=r.opts.$data&&o&&o.$data;d?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,a+="if ( ",d&&(a+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),a+=" !"+(d?"(new RegExp("+t+"))":r.usePattern(o))+".test("+l+") ) {   ";var c=c||[];c.push(a),a="",!1!==r.createErrors?(a+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { pattern:  ",a+=d?""+t:""+r.util.toQuotedString(o),a+="  } ",!1!==r.opts.messages&&(a+=" , message: 'should match pattern \"",a+=d?"' + "+t+" + '":""+r.util.escapeQuotes(o),a+="\"' "),r.opts.verbose&&(a+=" , schema:  ",a+=d?"validate.schema"+s:""+r.util.toQuotedString(o),a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var v=a;return a=c.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+="} ",f&&(a+=" else { "),a},properties:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="errs__"+a,d=r.util.copy(r),c="";d.level++;var v="valid"+d.level,m="key"+a,h="idx"+a,p=d.dataLevel=r.dataLevel+1,g="data"+p,y="dataProperties"+a,b=Object.keys(n||{}).filter(z),w=r.schema.patternProperties||{},E=Object.keys(w).filter(z),j=r.schema.additionalProperties,x=b.length||E.length,k=!1===j,F="object"==typeof j&&Object.keys(j).length,P=r.opts.removeAdditional,$=k||F||P,O=r.opts.ownProperties,S=r.baseId,D=r.schema.required;if(D&&(!r.opts.$data||!D.$data)&&D.length<r.opts.loopRequired)var _=r.util.toHash(D);function z(r){return"__proto__"!==r}if(t+="var "+l+" = errors;var "+v+" = true;",O&&(t+=" var "+y+" = undefined;"),$){if(t+=O?" "+y+" = "+y+" || Object.keys("+f+"); for (var "+h+"=0; "+h+"<"+y+".length; "+h+"++) { var "+m+" = "+y+"["+h+"]; ":" for (var "+m+" in "+f+") { ",x){if(t+=" var isAdditional"+a+" = !(false ",b.length)if(b.length>8)t+=" || validate.schema"+o+".hasOwnProperty("+m+") ";else{var A=b;if(A)for(var I=-1,C=A.length-1;I<C;)W=A[I+=1],t+=" || "+m+" == "+r.util.toQuotedString(W)+" "}if(E.length){var R=E;if(R)for(var N=-1,T=R.length-1;N<T;)ir=R[N+=1],t+=" || "+r.usePattern(ir)+".test("+m+") "}t+=" ); if (isAdditional"+a+") { "}if("all"==P)t+=" delete "+f+"["+m+"]; ";else{var V=r.errorPath,q="' + "+m+" + '";if(r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers)),k)if(P)t+=" delete "+f+"["+m+"]; ";else{var B=s;s=r.errSchemaPath+"/additionalProperties",(er=er||[]).push(t+=" "+v+" = false; "),t="",!1!==r.createErrors?(t+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { additionalProperty: '"+q+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",t+="' "),r.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var M=t;t=er.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=B,u&&(t+=" break; ")}else if(F)if("failing"==P){t+=" var "+l+" = errors;  ";var L=r.compositeRule;r.compositeRule=d.compositeRule=!0,d.schema=j,d.schemaPath=r.schemaPath+".additionalProperties",d.errSchemaPath=r.errSchemaPath+"/additionalProperties",d.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers);var U=f+"["+m+"]";d.dataPathArr[p]=m;var H=r.validate(d);d.baseId=S,r.util.varOccurences(H,g)<2?t+=" "+r.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",t+=" if (!"+v+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+f+"["+m+"]; }  ",r.compositeRule=d.compositeRule=L}else d.schema=j,d.schemaPath=r.schemaPath+".additionalProperties",d.errSchemaPath=r.errSchemaPath+"/additionalProperties",d.errorPath=r.opts._errorDataPathProperty?r.errorPath:r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers),U=f+"["+m+"]",d.dataPathArr[p]=m,H=r.validate(d),d.baseId=S,r.util.varOccurences(H,g)<2?t+=" "+r.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",u&&(t+=" if (!"+v+") break; ");r.errorPath=V}x&&(t+=" } "),t+=" }  ",u&&(t+=" if ("+v+") { ",c+="}")}var J=r.opts.useDefaults&&!r.compositeRule;if(b.length){var K=b;if(K)for(var W,Z=-1,Q=K.length-1;Z<Q;){var G=n[W=K[Z+=1]];if(r.opts.strictKeywords?"object"==typeof G&&Object.keys(G).length>0||!1===G:r.util.schemaHasRules(G,r.RULES.all)){var X=r.util.getProperty(W),Y=(U=f+X,J&&void 0!==G.default);if(d.schema=G,d.schemaPath=o+X,d.errSchemaPath=s+"/"+r.util.escapeFragment(W),d.errorPath=r.util.getPath(r.errorPath,W,r.opts.jsonPointers),d.dataPathArr[p]=r.util.toQuotedString(W),H=r.validate(d),d.baseId=S,r.util.varOccurences(H,g)<2){H=r.util.varReplace(H,g,U);var rr=U}else rr=g,t+=" var "+g+" = "+U+"; ";if(Y)t+=" "+H+" ";else{if(_&&_[W]){t+=" if ( "+rr+" === undefined ",O&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(W)+"') "),t+=") { "+v+" = false; ",V=r.errorPath,B=s;var er,tr=r.util.escapeQuotes(W);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(V,W,r.opts.jsonPointers)),s=r.errSchemaPath+"/required",(er=er||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+tr+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+tr+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",M=t,t=er.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s=B,r.errorPath=V,t+=" } else { "}else u?(t+=" if ( "+rr+" === undefined ",O&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(W)+"') "),t+=") { "+v+" = true; } else { "):(t+=" if ("+rr+" !== undefined ",O&&(t+=" &&   Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(W)+"') "),t+=" ) { ");t+=" "+H+" } "}}u&&(t+=" if ("+v+") { ",c+="}")}}if(E.length){var ar=E;if(ar)for(var ir,nr=-1,or=ar.length-1;nr<or;)G=w[ir=ar[nr+=1]],(r.opts.strictKeywords?"object"==typeof G&&Object.keys(G).length>0||!1===G:r.util.schemaHasRules(G,r.RULES.all))&&(d.schema=G,d.schemaPath=r.schemaPath+".patternProperties"+r.util.getProperty(ir),d.errSchemaPath=r.errSchemaPath+"/patternProperties/"+r.util.escapeFragment(ir),t+=O?" "+y+" = "+y+" || Object.keys("+f+"); for (var "+h+"=0; "+h+"<"+y+".length; "+h+"++) { var "+m+" = "+y+"["+h+"]; ":" for (var "+m+" in "+f+") { ",t+=" if ("+r.usePattern(ir)+".test("+m+")) { ",d.errorPath=r.util.getPathExpr(r.errorPath,m,r.opts.jsonPointers),U=f+"["+m+"]",d.dataPathArr[p]=m,H=r.validate(d),d.baseId=S,r.util.varOccurences(H,g)<2?t+=" "+r.util.varReplace(H,g,U)+" ":t+=" var "+g+" = "+U+"; "+H+" ",u&&(t+=" if (!"+v+") break; "),t+=" } ",u&&(t+=" else "+v+" = true; "),t+=" }  ",u&&(t+=" if ("+v+") { ",c+="}"))}return u&&(t+=" "+c+" if ("+l+" == errors) {"),t},propertyNames:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="errs__"+a,d=r.util.copy(r);d.level++;var c="valid"+d.level;if(t+="var "+l+" = errors;",r.opts.strictKeywords?"object"==typeof n&&Object.keys(n).length>0||!1===n:r.util.schemaHasRules(n,r.RULES.all)){d.schema=n,d.schemaPath=o,d.errSchemaPath=s;var v="key"+a,m="idx"+a,h="i"+a,p="' + "+v+" + '",g="data"+(d.dataLevel=r.dataLevel+1),y="dataProperties"+a,b=r.opts.ownProperties,w=r.baseId;b&&(t+=" var "+y+" = undefined; "),t+=b?" "+y+" = "+y+" || Object.keys("+f+"); for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) { var "+v+" = "+y+"["+m+"]; ":" for (var "+v+" in "+f+") { ",t+=" var startErrs"+a+" = errors; ";var E=v,j=r.compositeRule;r.compositeRule=d.compositeRule=!0;var x=r.validate(d);d.baseId=w,r.util.varOccurences(x,g)<2?t+=" "+r.util.varReplace(x,g,E)+" ":t+=" var "+g+" = "+E+"; "+x+" ",r.compositeRule=d.compositeRule=j,t+=" if (!"+c+") { for (var "+h+"=startErrs"+a+"; "+h+"<errors; "+h+"++) { vErrors["+h+"].propertyName = "+v+"; }   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { propertyName: '"+p+"' } ",!1!==r.opts.messages&&(t+=" , message: 'property name \\'"+p+"\\' is invalid' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&u&&(t+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),u&&(t+=" break; "),t+=" } }"}return u&&(t+="  if ("+l+" == errors) {"),t},required:function(r,e){var t=" ",a=r.level,i=r.dataLevel,n=r.schema[e],o=r.schemaPath+r.util.getProperty(e),s=r.errSchemaPath+"/"+e,u=!r.opts.allErrors,f="data"+(i||""),l="valid"+a,d=r.opts.$data&&n&&n.$data;d&&(t+=" var schema"+a+" = "+r.util.getData(n.$data,i,r.dataPathArr)+"; ");var c="schema"+a;if(!d)if(n.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var v=[],m=n;if(m)for(var h,p=-1,g=m.length-1;p<g;){h=m[p+=1];var y=r.schema.properties[h];y&&(r.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:r.util.schemaHasRules(y,r.RULES.all))||(v[v.length]=h)}}else v=n;if(d||v.length){var b=r.errorPath,w=d||v.length>=r.opts.loopRequired,E=r.opts.ownProperties;if(u)if(t+=" var missing"+a+"; ",w){d||(t+=" var "+c+" = validate.schema"+o+"; ");var j="' + "+(O="schema"+a+"["+(P="i"+a)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(b,O,r.opts.jsonPointers)),t+=" var "+l+" = true; ",d&&(t+=" if (schema"+a+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+a+")) "+l+" = false; else {"),t+=" for (var "+P+" = 0; "+P+" < "+c+".length; "+P+"++) { "+l+" = "+f+"["+c+"["+P+"]] !== undefined ",E&&(t+=" &&   Object.prototype.hasOwnProperty.call("+f+", "+c+"["+P+"]) "),t+="; if (!"+l+") break; } ",d&&(t+="  }  "),(k=k||[]).push(t+="  if (!"+l+") {   "),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ";var x=t;t=k.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var k,F=v;if(F)for(var P=-1,$=F.length-1;P<$;)D=F[P+=1],P&&(t+=" || "),t+=" ( ( "+(I=f+(A=r.util.getProperty(D)))+" === undefined ",E&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(D)+"') "),t+=") && (missing"+a+" = "+r.util.toQuotedString(r.opts.jsonPointers?D:A)+") ) ";t+=") {  ",j="' + "+(O="missing"+a)+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(b,O,!0):b+" + "+O),(k=k||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",x=t,t=k.pop(),t+=!r.compositeRule&&u?r.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(w){var O;d||(t+=" var "+c+" = validate.schema"+o+"; "),j="' + "+(O="schema"+a+"["+(P="i"+a)+"]")+" + '",r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(b,O,r.opts.jsonPointers)),d&&(t+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),t+=" for (var "+P+" = 0; "+P+" < "+c+".length; "+P+"++) { if ("+f+"["+c+"["+P+"]] === undefined ",E&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", "+c+"["+P+"]) "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(t+="  }  ")}else{var S=v;if(S)for(var D,_=-1,z=S.length-1;_<z;){D=S[_+=1];var A=r.util.getProperty(D),I=(j=r.util.escapeQuotes(D),f+A);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(b,D,r.opts.jsonPointers)),t+=" if ( "+I+" === undefined ",E&&(t+=" || ! Object.prototype.hasOwnProperty.call("+f+", '"+r.util.escapeQuotes(D)+"') "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(s)+" , params: { missingProperty: '"+j+"' } ",!1!==r.opts.messages&&(t+=" , message: '",t+=r.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+j+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+f+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=b}else u&&(t+=" if (true) {");return t},uniqueItems:function(r,e){var t,a=" ",i=r.level,n=r.dataLevel,o=r.schema[e],s=r.schemaPath+r.util.getProperty(e),u=r.errSchemaPath+"/"+e,f=!r.opts.allErrors,l="data"+(n||""),d="valid"+i,c=r.opts.$data&&o&&o.$data;if(c?(a+=" var schema"+i+" = "+r.util.getData(o.$data,n,r.dataPathArr)+"; ",t="schema"+i):t=o,(o||c)&&!1!==r.opts.uniqueItems){c&&(a+=" var "+d+"; if ("+t+" === false || "+t+" === undefined) "+d+" = true; else if (typeof "+t+" != 'boolean') "+d+" = false; else { "),a+=" var i = "+l+".length , "+d+" = true , j; if (i > 1) { ";var v=r.schema.items&&r.schema.items.type,m=Array.isArray(v);!v||"object"==v||"array"==v||m&&(v.indexOf("object")>=0||v.indexOf("array")>=0)?a+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+d+" = false; break outer; } } } ":(a+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ",a+=" if ("+r.util["checkDataType"+(m?"s":"")](v,"item",r.opts.strictNumbers,!0)+") continue; ",m&&(a+=" if (typeof item == 'string') item = '\"' + item; "),a+=" if (typeof itemIndices[item] == 'number') { "+d+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),a+=" } ",c&&(a+="  }  ");var h=h||[];h.push(a+=" if (!"+d+") {   "),a="",!1!==r.createErrors?(a+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==r.opts.messages&&(a+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),r.opts.verbose&&(a+=" , schema:  ",a+=c?"validate.schema"+s:""+o,a+="         , parentSchema: validate.schema"+r.schemaPath+" , data: "+l+" "),a+=" } "):a+=" {} ";var p=a;a=h.pop(),a+=!r.compositeRule&&f?r.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a+=" } ",f&&(a+=" else { ")}else f&&(a+=" if (true) { ");return a},validate:Da},wi=bi,Ei=qt.toHash,ji=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],xi=Pa.MissingRef,ki={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},Fi=/^[a-z_$][a-z0-9_$-]*$/i,Pi=function(r,e){var t,a,i=" ",n=r.level,o=r.dataLevel,s=r.schema[e],u=r.schemaPath+r.util.getProperty(e),f=r.errSchemaPath+"/"+e,l=!r.opts.allErrors,d="data"+(o||""),c="valid"+n,v="errs__"+n,m=r.opts.$data&&s&&s.$data;m?(i+=" var schema"+n+" = "+r.util.getData(s.$data,o,r.dataPathArr)+"; ",a="schema"+n):a=s;var h,p,g,y,b,w=this,E="definition"+n,j=w.definition,x="";if(m&&j.$data){var k=j.validateSchema;i+=" var "+E+" = RULES.custom['"+e+"'].definition; var "+(b="keywordValidate"+n)+" = "+E+".validate;"}else{if(!(y=r.useCustomRule(w,s,r.schema,r)))return;a="validate.schema"+u,b=y.code,h=j.compile,p=j.inline,g=j.macro}var F=b+".errors",P="i"+n,$="ruleErr"+n,O=j.async;if(O&&!r.async)throw new Error("async keyword in sync schema");if(p||g||(i+=F+" = null;"),i+="var "+v+" = errors;var "+c+";",m&&j.$data&&(x+="}",i+=" if ("+a+" === undefined) { "+c+" = true; } else { ",k&&(x+="}",i+=" "+c+" = "+E+".validateSchema("+a+"); if ("+c+") { ")),p)i+=j.statements?" "+y.validate+" ":" "+c+" = "+y.validate+"; ";else if(g){var S=r.util.copy(r);x="",S.level++;var D="valid"+S.level;S.schema=y.validate,S.schemaPath="";var _=r.compositeRule;r.compositeRule=S.compositeRule=!0;var z=r.validate(S).replace(/validate\.schema/g,b);r.compositeRule=S.compositeRule=_,i+=" "+z}else{(R=R||[]).push(i),i="",i+="  "+b+".call( ",i+=r.opts.passContext?"this":"self",i+=h||!1===j.schema?" , "+d+" ":" , "+a+" , "+d+" , validate.schema"+r.schemaPath+" ",i+=" , (dataPath || '')",'""'!=r.errorPath&&(i+=" + "+r.errorPath);var A=o?"data"+(o-1||""):"parentData",I=o?r.dataPathArr[o]:"parentDataProperty",C=i+=" , "+A+" , "+I+" , rootData )  ";i=R.pop(),!1===j.errors?(i+=" "+c+" = ",O&&(i+="await "),i+=C+"; "):i+=O?" var "+(F="customErrors"+n)+" = null; try { "+c+" = await "+C+"; } catch (e) { "+c+" = false; if (e instanceof ValidationError) "+F+" = e.errors; else throw e; } ":" "+F+" = null; "+c+" = "+C+"; "}if(j.modifying&&(i+=" if ("+A+") "+d+" = "+A+"["+I+"];"),i+=""+x,j.valid)l&&(i+=" if (true) { ");else{var R;i+=" if ( ",void 0===j.valid?(i+=" !",i+=g?""+D:""+c):i+=" "+!j.valid+" ",t=w.keyword,(R=R||[]).push(i+=") { "),(R=R||[]).push(i=""),i="",!1!==r.createErrors?(i+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { keyword: '"+w.keyword+"' } ",!1!==r.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),r.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ";var N=i;i=R.pop();var T=i+=!r.compositeRule&&l?r.async?" throw new ValidationError(["+N+"]); ":" validate.errors = ["+N+"]; return false; ":" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";i=R.pop(),p?j.errors?"full"!=j.errors&&(i+="  for (var "+P+"="+v+"; "+P+"<errors; "+P+"++) { var "+$+" = vErrors["+P+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+f+'"; } ',r.opts.verbose&&(i+=" "+$+".schema = "+a+"; "+$+".data = "+d+"; "),i+=" } "):!1===j.errors?i+=" "+T+" ":(i+=" if ("+v+" == errors) { "+T+" } else {  for (var "+P+"="+v+"; "+P+"<errors; "+P+"++) { var "+$+" = vErrors["+P+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+r.errorPath+"; if ("+$+".schemaPath === undefined) { "+$+'.schemaPath = "'+f+'"; } ',r.opts.verbose&&(i+=" "+$+".schema = "+a+"; "+$+".data = "+d+"; "),i+=" } } "):g?(i+="   var err =   ",!1!==r.createErrors?(i+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(f)+" , params: { keyword: '"+w.keyword+"' } ",!1!==r.opts.messages&&(i+=" , message: 'should pass \""+w.keyword+"\" keyword validation' "),r.opts.verbose&&(i+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&l&&(i+=r.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===j.errors?i+=" "+T+" ":(i+=" if (Array.isArray("+F+")) { if (vErrors === null) vErrors = "+F+"; else vErrors = vErrors.concat("+F+"); errors = vErrors.length;  for (var "+P+"="+v+"; "+P+"<errors; "+P+"++) { var "+$+" = vErrors["+P+"]; if ("+$+".dataPath === undefined) "+$+".dataPath = (dataPath || '') + "+r.errorPath+";  "+$+'.schemaPath = "'+f+'";  ',r.opts.verbose&&(i+=" "+$+".schema = "+a+"; "+$+".data = "+d+"; "),i+=" } } else { "+T+" } "),i+=" } ",l&&(i+=" else { ")}return i},$i={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:ki.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:ki.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Oi={add:function(r,e){var t=this.RULES;if(t.keywords[r])throw new Error("Keyword "+r+" is already defined");if(!Fi.test(r))throw new Error("Keyword "+r+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var a=e.type;if(Array.isArray(a))for(var i=0;i<a.length;i++)o(r,a[i],e);else o(r,a,e);var n=e.metaSchema;n&&(e.$data&&this._opts.$data&&(n={anyOf:[n,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(n,!0))}function o(r,e,a){for(var i,n=0;n<t.length;n++){var o=t[n];if(o.type==e){i=o;break}}i||t.push(i={type:e,rules:[]});var s={keyword:r,definition:a,custom:!0,code:Pi,implements:a.implements};i.rules.push(s),t.custom[r]=s}return t.keywords[r]=t.all[r]=!0,this},get:function(r){var e=this.RULES.custom[r];return e?e.definition:this.RULES.keywords[r]||!1},remove:function(r){var e=this.RULES;delete e.keywords[r],delete e.all[r],delete e.custom[r];for(var t=0;t<e.length;t++)for(var a=e[t].rules,i=0;i<a.length;i++)if(a[i].keyword==r){a.splice(i,1);break}return this},validate:function r(e,t){r.errors=null;var a=this._validateKeyword=this._validateKeyword||this.compile($i,!0);if(a(e))return!0;if(r.errors=a.errors,t)throw new Error("custom keyword definition is invalid: "+this.errorsText(a.errors));return!1}},Si={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},Di=function r(e,t,a,i){var n=this,o=this._opts,s=[void 0],u={},f=[],l={},d=[],c={},v=[],m=Va.call(this,e,t=t||{schema:e,refVal:s,refs:u},i),h=this._compilations[m.index];if(m.compiling)return h.callValidate=function r(){var e=h.validate,t=e.apply(this,arguments);return r.errors=e.errors,t};var p=this._formats,g=this.RULES;try{var y=w(e,t,a,i);h.validate=y;var b=h.callValidate;return b&&(b.schema=y.schema,b.errors=null,b.refs=y.refs,b.refVal=y.refVal,b.root=y.root,b.$async=y.$async,o.sourceCode&&(b.source=y.source)),y}finally{qa.call(this,e,t,i)}function w(e,a,i,l){var c=!a||a&&a.schema==e;if(a.schema!=t.schema)return r.call(n,e,a,i,l);var m,h=!0===e.$async,y=Ca({isTop:!0,schema:e,isRoot:c,baseId:l,root:a,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Aa.MissingRef,RULES:g,validate:Ca,util:za,resolve:_a,resolveRef:E,usePattern:k,useDefault:F,useCustomRule:P,opts:o,formats:p,logger:n.logger,self:n});y=Ja(s,Ua)+Ja(f,Ma)+Ja(d,La)+Ja(v,Ha)+y,o.processCode&&(y=o.processCode(y,e));try{m=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",y)(n,g,p,t,s,d,v,Na,Ra,Ta),s[0]=m}catch(r){throw n.logger.error("Error compiling schema, function code:",y),r}return m.schema=e,m.errors=null,m.refs=u,m.refVal=s,m.root=c?m:a,h&&(m.$async=!0),!0===o.sourceCode&&(m.source={code:y,patterns:f,defaults:d}),m}function E(e,i,f){i=_a.url(e,i);var l,d,c=u[i];if(void 0!==c)return x(l=s[c],d="refVal["+c+"]");if(!f&&t.refs){var v=t.refs[i];if(void 0!==v)return x(l=t.refVal[v],d=j(i,l))}d=j(i);var m=_a.call(n,w,t,i);if(void 0===m){var h=a&&a[i];h&&(m=_a.inlineRef(h,o.inlineRefs)?h:r.call(n,h,t,a,e))}if(void 0!==m)return function(r,e){s[u[r]]=e}(i,m),x(m,d);!function(r){delete u[r]}(i)}function j(r,e){var t=s.length;return s[t]=e,u[r]=t,"refVal"+t}function x(r,e){return"object"==typeof r||"boolean"==typeof r?{code:e,schema:r,inline:!0}:{code:e,$async:r&&!!r.$async}}function k(r){var e=l[r];return void 0===e&&(e=l[r]=f.length,f[e]=r),"pattern"+e}function F(r){switch(typeof r){case"boolean":case"number":return""+r;case"string":return za.toQuotedString(r);case"object":if(null===r)return"null";var e=Ia(r),t=c[e];return void 0===t&&(t=c[e]=d.length,d[t]=r),"default"+t}}function P(r,e,t,a){if(!1!==n._opts.validateSchema){var i=r.definition.dependencies;if(i&&!i.every((function(r){return Object.prototype.hasOwnProperty.call(t,r)})))throw new Error("parent schema must have all required keywords: "+i.join(","));var s=r.definition.validateSchema;if(s&&!s(e)){var u="keyword schema is invalid: "+n.errorsText(s.errors);if("log"!=n._opts.validateSchema)throw new Error(u);n.logger.error(u)}}var f,l=r.definition.compile,d=r.definition.inline,c=r.definition.macro;if(l)f=l.call(n,e,t,a);else if(c)f=c.call(n,e,t,a),!1!==o.validateSchema&&n.validateSchema(f,!0);else if(d)f=d.call(n,a,r.keyword,e,t);else if(!(f=r.definition.validate))return;if(void 0===f)throw new Error('custom keyword "'+r.keyword+'"failed to compile');var m=v.length;return v[m]=f,{code:"customRule"+m,validate:f}}},_i=la,zi=Ka.exports,Ai=ea,Ii=Sa,Ci=si,Ri=function(r,e){for(var t=0;t<e.length;t++){r=JSON.parse(JSON.stringify(r));var a,i=e[t].split("/"),n=r;for(a=1;a<i.length;a++)n=n[i[a]];for(a=0;a<ji.length;a++){var o=ji[a],s=n[o];s&&(n[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return r},Ni=qt,Ti=Ui;Ui.prototype.validate=function(r,e){var t;if("string"==typeof r){if(!(t=this.getSchema(r)))throw new Error('no schema with key or ref "'+r+'"')}else{var a=this._addSchema(r);t=a.validate||this._compile(a)}var i=t(e);return!0!==t.$async&&(this.errors=t.errors),i},Ui.prototype.compile=function(r,e){var t=this._addSchema(r,void 0,e);return t.validate||this._compile(t)},Ui.prototype.addSchema=function(r,e,t,a){if(Array.isArray(r)){for(var i=0;i<r.length;i++)this.addSchema(r[i],void 0,t,a);return this}var n=this._getId(r);if(void 0!==n&&"string"!=typeof n)throw new Error("schema id must be string");return Qi(this,e=_i.normalizeId(e||n)),this._schemas[e]=this._addSchema(r,t,a,!0),this},Ui.prototype.addMetaSchema=function(r,e,t){return this.addSchema(r,e,t,!0),this},Ui.prototype.validateSchema=function(r,e){var t=r.$schema;if(void 0!==t&&"string"!=typeof t)throw new Error("$schema must be a string");if(!(t=t||this._opts.defaultMeta||function(r){var e=r._opts.meta;return r._opts.defaultMeta="object"==typeof e?r._getId(e)||e:r.getSchema(Bi)?Bi:void 0,r._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(t,r);if(!a&&e){var i="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(i);this.logger.error(i)}return a},Ui.prototype.getSchema=function(r){var e=Hi(this,r);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return function(r,e){var t=_i.schema.call(r,{schema:{}},e);if(t){var a=t.schema,i=t.root,n=t.baseId,o=Di.call(r,a,i,void 0,n);return r._fragments[e]=new Ai({ref:e,fragment:!0,schema:a,root:i,baseId:n,validate:o}),o}}(this,r)}},Ui.prototype.removeSchema=function(r){if(r instanceof RegExp)return Ji(this,this._schemas,r),Ji(this,this._refs,r),this;switch(typeof r){case"undefined":return Ji(this,this._schemas),Ji(this,this._refs),this._cache.clear(),this;case"string":var e=Hi(this,r);return e&&this._cache.del(e.cacheKey),delete this._schemas[r],delete this._refs[r],this;case"object":var t=this._opts.serialize,a=t?t(r):r;this._cache.del(a);var i=this._getId(r);i&&(i=_i.normalizeId(i),delete this._schemas[i],delete this._refs[i])}return this},Ui.prototype.addFormat=function(r,e){return"string"==typeof e&&(e=new RegExp(e)),this._formats[r]=e,this},Ui.prototype.errorsText=function(r,e){if(!(r=r||this.errors))return"No errors";for(var t=void 0===(e=e||{}).separator?", ":e.separator,a=void 0===e.dataVar?"data":e.dataVar,i="",n=0;n<r.length;n++){var o=r[n];o&&(i+=a+o.dataPath+" "+o.message+t)}return i.slice(0,-t.length)},Ui.prototype._addSchema=function(r,e,t,a){if("object"!=typeof r&&"boolean"!=typeof r)throw new Error("schema should be object or boolean");var i=this._opts.serialize,n=i?i(r):r,o=this._cache.get(n);if(o)return o;a=a||!1!==this._opts.addUsedSchema;var s=_i.normalizeId(this._getId(r));s&&a&&Qi(this,s);var u,f=!1!==this._opts.validateSchema&&!e;f&&!(u=s&&s==_i.normalizeId(r.$schema))&&this.validateSchema(r,!0);var l=_i.ids.call(this,r),d=new Ai({id:s,schema:r,localRefs:l,cacheKey:n,meta:t});return"#"!=s[0]&&a&&(this._refs[s]=d),this._cache.put(n,d),f&&u&&this.validateSchema(r,!0),d},Ui.prototype._compile=function(r,e){if(r.compiling)return r.validate=i,i.schema=r.schema,i.errors=null,i.root=e||i,!0===r.schema.$async&&(i.$async=!0),i;var t,a;r.compiling=!0,r.meta&&(t=this._opts,this._opts=this._metaOpts);try{a=Di.call(this,r.schema,e,r.localRefs)}catch(e){throw delete r.validate,e}finally{r.compiling=!1,r.meta&&(this._opts=t)}return r.validate=a,r.refs=a.refs,r.refVal=a.refVal,r.root=a.root,a;function i(){var e=r.validate,t=e.apply(this,arguments);return i.errors=e.errors,t}},Ui.prototype.compileAsync=function r(e,t,a){var i=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof t&&(a=t,t=void 0);var n=o(e).then((function(){var r=i._addSchema(e,void 0,t);return r.validate||s(r)}));return a&&n.then((function(r){a(null,r)}),a),n;function o(e){var t=e.$schema;return t&&!i.getSchema(t)?r.call(i,{$ref:t},!0):Promise.resolve()}function s(r){try{return i._compile(r)}catch(e){if(e instanceof xi)return function(e){var a=e.missingSchema;if(f(a))throw new Error("Schema "+a+" is loaded but "+e.missingRef+" cannot be resolved");var n=i._loadingSchemas[a];return n||(n=i._loadingSchemas[a]=i._opts.loadSchema(a)).then(u,u),n.then((function(r){if(!f(a))return o(r).then((function(){f(a)||i.addSchema(r,a,void 0,t)}))})).then((function(){return s(r)}));function u(){delete i._loadingSchemas[a]}function f(r){return i._refs[r]||i._schemas[r]}}(e);throw e}}};var Vi=Oi;Ui.prototype.addKeyword=Vi.add,Ui.prototype.getKeyword=Vi.get,Ui.prototype.removeKeyword=Vi.remove,Ui.prototype.validateKeyword=Vi.validate;var qi=Pa;Ui.ValidationError=qi.Validation,Ui.MissingRefError=qi.MissingRef,Ui.$dataMetaSchema=Ri;var Bi="http://json-schema.org/draft-07/schema",Mi=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Li=["/properties"];function Ui(r){if(!(this instanceof Ui))return new Ui(r);r=this._opts=Ni.copy(r)||{},function(r){var e=r._opts.logger;if(!1===e)r.logger={log:Gi,warn:Gi,error:Gi};else{if(void 0===e&&(e=console),!("object"==typeof e&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");r.logger=e}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Ci(r.format),this._cache=r.cache||new zi,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var r=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],e=["type","$comment"];return r.all=Ei(e),r.types=Ei(["number","integer","string","array","object","boolean","null"]),r.forEach((function(t){t.rules=t.rules.map((function(t){var a;if("object"==typeof t){var i=Object.keys(t)[0];a=t[i],t=i,a.forEach((function(t){e.push(t),r.all[t]=!0}))}return e.push(t),r.all[t]={keyword:t,code:wi[t],implements:a}})),r.all.$comment={keyword:"$comment",code:wi.$comment},t.type&&(r.types[t.type]=t)})),r.keywords=Ei(e.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),r.custom={},r}(),this._getId=function(r){switch(r.schemaId){case"auto":return Zi;case"id":return Ki;default:return Wi}}(r),r.loopRequired=r.loopRequired||1/0,"property"==r.errorDataPath&&(r._errorDataPathProperty=!0),void 0===r.serialize&&(r.serialize=Ii),this._metaOpts=function(r){for(var e=Ni.copy(r._opts),t=0;t<Mi.length;t++)delete e[Mi[t]];return e}(this),r.formats&&function(r){for(var e in r._opts.formats)r.addFormat(e,r._opts.formats[e])}(this),r.keywords&&function(r){for(var e in r._opts.keywords)r.addKeyword(e,r._opts.keywords[e])}(this),function(r){var e;if(r._opts.$data&&r.addMetaSchema(e=Si,e.$id,!0),!1!==r._opts.meta){var t=ki;r._opts.$data&&(t=Ri(t,Li)),r.addMetaSchema(t,Bi,!0),r._refs["http://json-schema.org/schema"]=Bi}}(this),"object"==typeof r.meta&&this.addMetaSchema(r.meta),r.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(r){var e=r._opts.schemas;if(e)if(Array.isArray(e))r.addSchema(e);else for(var t in e)r.addSchema(e[t],t)}(this)}function Hi(r,e){return e=_i.normalizeId(e),r._schemas[e]||r._refs[e]||r._fragments[e]}function Ji(r,e,t){for(var a in e){var i=e[a];i.meta||t&&!t.test(a)||(r._cache.del(i.cacheKey),delete e[a])}}function Ki(r){return r.$id&&this.logger.warn("schema $id ignored",r.$id),r.id}function Wi(r){return r.id&&this.logger.warn("schema id ignored",r.id),r.$id}function Zi(r){if(r.$id&&r.id&&r.$id!=r.id)throw new Error("schema $id is different from id");return r.$id||r.id}function Qi(r,e){if(r._schemas[e]||r._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Gi(){}function Xi(r,e){let t=0;if(r!==e){const a=r.split("."),i=e.split(".");for(let r=0;r<a.length;r+=1){const e=parseInt(a[r],10),n=parseInt(i[r],10);if(e>n||Number.isNaN(n)){t=1;break}if(e<n){t=-1;break}}}return t}function Yi(r){let e=f,t=[];var a;if(!0===(void 0!==(a=r)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/.test(a))&&void 0!==r){Nt.sort(Xi);const a=Xi(r,Nt[Nt.length-1]);if(1===a?e=l:-1===a&&(e="older"),e===l||e===f)t.push(r);else{for(let e=Nt.length-2;e>=0;e-=1)if(Xi(r,Nt[e])>=0){t=Nt.slice(e,Nt.length);break}0===t.length&&t.push("1.0.0")}}else e="unrecognized",t.push("unrecognized.version");return{versionStatus:e,versions:t}}function rn(r,e){return d(this,void 0,void 0,(function*(){if(void 0!==(null==e?void 0:e.series)){const t=yield function(r=Ee().locale){return d(this,void 0,void 0,(function*(){let e=yield import("./p-afd7149a.js");switch(r){case pe.Arabic:e=yield import("./p-223a0992.js");break;case pe.Bosnian:e=yield import("./p-5f3f001b.js");break;case pe.Bulgarian:e=yield import("./p-6bc7d966.js");break;case pe.Catalan:e=yield import("./p-46c8280d.js");break;case pe.Czech:e=yield import("./p-ac73d366.js");break;case pe.Danish:e=yield import("./p-c05a6605.js");break;case pe.German:e=yield import("./p-6b886c11.js");break;case pe.Greek:e=yield import("./p-046dd761.js");break;case pe.EnglishUSA:e=yield import("./p-dda348f4.js");break;case pe.Spanish:e=yield import("./p-e81d400d.js");break;case pe.Estonian:e=yield import("./p-26141f6a.js");break;case pe.Finnish:e=yield import("./p-a236c2b7.js");break;case pe.French:e=yield import("./p-6347dbe7.js");break;case pe.Hebrew:e=yield import("./p-50d5e637.js");break;case pe.Croatian:e=yield import("./p-0adf6fba.js");break;case pe.Hungarian:e=yield import("./p-8679be98.js");break;case pe.Indonesian:e=yield import("./p-8411a4b3.js");break;case pe.Italian:e=yield import("./p-6ca838cb.js");break;case pe.Japanese:e=yield import("./p-34ce9046.js");break;case pe.Korean:e=yield import("./p-45e039aa.js");break;case pe.Lithuanian:e=yield import("./p-5c70f6ac.js");break;case pe.Latvian:e=yield import("./p-e058cf11.js");break;case pe.NorwegianBokml:e=yield import("./p-7497f814.js");break;case pe.Dutch:e=yield import("./p-6992a4e7.js");break;case pe.Polish:e=yield import("./p-8f7e7fb2.js");break;case pe.PortugueseBrazil:e=yield import("./p-4d9acb80.js");break;case pe.PortuguesePortugal:e=yield import("./p-d1d60f58.js");break;case pe.Romanian:e=yield import("./p-0067e188.js");break;case pe.Russian:e=yield import("./p-40c5312c.js");break;case pe.Serbian:e=yield import("./p-d54ef2aa.js");break;case pe.Slovak:e=yield import("./p-cb035cf2.js");break;case pe.Slovenian:e=yield import("./p-66ead1fd.js");break;case pe.Swedish:e=yield import("./p-a8542d04.js");break;case pe.Thai:e=yield import("./p-38d7b087.js");break;case pe.Turkish:e=yield import("./p-4f1d47dd.js");break;case pe.Ukrainian:e=yield import("./p-7f51e2ae.js");break;case pe.Vietnamese:e=yield import("./p-d50512d9.js");break;case pe.ChineseChina:e=yield import("./p-ee9dbe35.js");break;case pe.ChineseHongKong:e=yield import("./p-b58d307e.js");break;case pe.ChineseTaiwan:e=yield import("./p-6c38c2bb.js")}return e}))}();for(let a=0;a<e.series.length;a+=1){const i=e.series[a].type;if(!1===r.includes(i)){const e=be(t.invalidSeriesType,{receivedType:i,seriesIndex:`${a}`,expectedType:r.join(` ${t.or} `)});console.error(e)}}}}))}new Ti({allErrors:!0});const en={MonoSelection:"monoSelection",MultiSelection:"multiSelection",MultiSelectionWithCtrlKey:"multiSelectionWithCtrlKey",Zoom:"zoom",None:"none"},tn={DataProcessComplete:"arcgisChartsDataProcessComplete",DataProcessError:"arcgisChartsDataProcessError",LegendItemVisibilityChange:"arcgisChartsLegendItemVisibilityChange",UpdateComplete:"arcgisChartsUpdateComplete",SeriesColorChange:"arcgisChartsSeriesColorChange",AxesMinMaxChange:"arcgisChartsAxesMinMaxChange",DefaultActionSelect:"arcgisChartsDefaultActionSelect",SelectionComplete:"arcgisChartsSelectionComplete",ActionBarToggle:"arcgisChartsActionBarToggle",NoRenderPropChange:"arcgisChartsNoRenderPropChange"},an={FilterBySelection:"filterBySelection",FilterByExtent:"filterByExtent",Legend:"legend",RotateChart:"rotateChart",Selection:"selection",ClearSelection:"clearSelection",SwitchSelection:"switchSelection",Zoom:"zoom",FullExtent:"fullExtent",Configure:"configure"},nn={actionBar:"action-bar",customActionTop:"custom-action-top",customActionBelow:"custom-action-below",expandTooltip:"expand-tooltip"};export{It as B,tn as C,an as D,_t as F,je as I,Ct as K,ze as M,nn as S,be as a,Dt as b,At as c,en as j,Rt as m,Ot as o,Yi as p,rn as v}