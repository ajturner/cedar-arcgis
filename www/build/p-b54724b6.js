let e;function t(t){return"function"==typeof e[t]?e[t]=e[t](globalThis):e[t]}e=globalThis.dojoConfig?.has||globalThis.esriConfig?.has?{...globalThis.dojoConfig?.has,...globalThis.esriConfig?.has}:{},t.add=(r,i,n,s)=>((s||void 0===e[r])&&(e[r]=i),n&&t(r)),t.cache=e,t.add("esri-deprecation-warnings",!0),t.add("esri-force-fullscreen-debug",!1),(()=>{t.add("host-webworker",void 0!==globalThis.WorkerGlobalScope&&self instanceof globalThis.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(t.add("host-browser",e),t.add("host-node","object"==typeof globalThis.process&&globalThis.process.versions?.node&&globalThis.process.versions.v8),t.add("dom",e),t("host-browser")){const e=navigator,r=e.userAgent,i=e.appVersion,n=parseFloat(i);if(t.add("wp",parseFloat(r.split("Windows Phone")[1])||void 0),t.add("msapp",parseFloat(r.split("MSAppHost/")[1])||void 0),t.add("khtml",i.includes("Konqueror")?n:void 0),t.add("edge",parseFloat(r.split("Edge/")[1])||void 0),t.add("opr",parseFloat(r.split("OPR/")[1])||void 0),t.add("webkit",!t("wp")&&!t("edge")&&parseFloat(r.split("WebKit/")[1])||void 0),t.add("chrome",!t("edge")&&!t("opr")&&parseFloat(r.split("Chrome/")[1])||void 0),t.add("android",!t("wp")&&parseFloat(r.split("Android ")[1])||void 0),t.add("safari",!i.includes("Safari")||t("wp")||t("chrome")||t("android")||t("edge")||t("opr")?void 0:parseFloat(i.split("Version/")[1])),t.add("mac",i.includes("Macintosh")),!t("wp")&&/(iPhone|iPod|iPad)/.test(r)){const e=RegExp.$1.replace(/P/,"p"),i=/OS ([\d_]+)/.test(r)?RegExp.$1:"1",n=parseFloat(i.replace(/_/,".").replaceAll("_",""));t.add(e,n),t.add("ios",n)}t("webkit")||(!r.includes("Gecko")||t("wp")||t("khtml")||t("edge")||t.add("mozilla",n),t("mozilla")&&t.add("ff",parseFloat(r.split("Firefox/")[1]||r.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const e=navigator.userAgent,r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),i=/iPhone/i.test(e);r&&t.add("esri-mobile",r),i&&t.add("esri-iPhone",i),t.add("esri-geolocation",!!navigator.geolocation)}t.add("esri-wasm","WebAssembly"in globalThis),t.add("esri-shared-array-buffer",(()=>{const e="SharedArrayBuffer"in globalThis,t=!1===globalThis.crossOriginIsolated;return e&&!t})),t.add("wasm-simd",(()=>{const e=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(e))})),t.add("esri-atomics","Atomics"in globalThis),t.add("esri-workers","Worker"in globalThis),t.add("web-feat:cache","caches"in globalThis),t.add("esri-workers-arraybuffer-transfer",!t("safari")||Number(t("safari"))>=12),t.add("workers-pool-size",8),t.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),t.add("featurelayer-simplify-payload-size-factors",[1,1,4]),t.add("featurelayer-animation-enabled",!0),t.add("featurelayer-snapshot-enabled",!0),t.add("featurelayer-snapshot-point-min-threshold",8e4),t.add("featurelayer-snapshot-point-max-threshold",4e5),t.add("featurelayer-snapshot-point-coverage",.1),t.add("featurelayer-advanced-symbols",!1),t.add("featurelayer-pbf",!0),t.add("featurelayer-pbf-statistics",!1),t.add("feature-layers-workers",!0),t.add("feature-polyline-generalization-factor",1),t.add("mapview-transitions-duration",200),t.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),t.add("mapserver-pbf-version-support",10.81),t.add("mapservice-popup-identify-max-tolerance",20),t.add("heatmap-allow-raster-fallback",!1),t.add("heatmap-force-raster",!1),t("host-webworker")||t("host-browser")&&(t.add("esri-csp-restrictions",(()=>{try{new Function}catch{return!0}return!1})),t.add("esri-image-decode",(()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then((()=>{t.add("esri-image-decode",!0,!0,!0)})).catch((()=>{t.add("esri-image-decode",!1,!0,!0)}))}return!1})),t.add("esri-url-encodes-apostrophe",(()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")})))})();class r{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*r._m}getInt(){return this._seed=(r._a*this._seed+r._c)%r._m,this._seed}getFloat(){return this.getInt()/(r._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(e,t){const i=t-e;return e+this.getInt()/r._m*i}}r._m=2147483647,r._a=48271,r._c=0;const i=1.5;function n(e,t){return t?e.filter(((e,r,i)=>i.findIndex(t.bind(null,e))===r)):e.filter(((e,t,r)=>r.indexOf(e)===t))}function s(e,t,r){if(null==e&&null==t)return!0;if(null==e||null==t||e.length!==t.length)return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function o(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let i=0;i<t.length;++i)e[i]!==t[i]&&(e[i]=t[i],r=!0);return r}function a(e,t,r){let i,n;return r?(i=t.filter((t=>!e.some((e=>r(e,t))))),n=e.filter((e=>!t.some((t=>r(t,e)))))):(i=t.filter((t=>!e.includes(t))),n=e.filter((e=>!t.includes(e)))),{added:i,removed:n}}function l(e){return e&&"number"==typeof e.length}const u=!!Array.prototype.fill;function c(e,t){if(u)return new Array(e).fill(t);const r=new Array(e);for(let i=0;i<e;i++)r[i]=t;return r}function d(e,t){void 0===t&&(t=e,e=0);const r=new Array(t-e);for(let i=e;i<t;i++)r[i-e]=i;return r}class h{constructor(){this.last=0}}const f=new h;function p(e,t,r,i){i=i||f;const n=Math.max(0,i.last-10);for(let s=n;s<r;++s)if(e[s]===t)return i.last=s,s;const s=Math.min(n,r);for(let r=0;r<s;++r)if(e[r]===t)return i.last=r,r;return-1}function y(e,t,r,i){const n=r??e.length,s=p(e,t,n,i);if(-1!==s)return e[s]=e[n-1],null==r&&e.pop(),t}const m=new Set;function v(e,t,r=e.length,i=t.length,n,s){if(0===i||0===r)return r;m.clear();for(let e=0;e<i;++e)m.add(t[e]);n=n||f;const o=Math.max(0,n.last-10);for(let t=o;t<r;++t)if(m.has(e[t])&&(s&&s.push(e[t]),m.delete(e[t]),e[t]=e[r-1],--r,--t,0===m.size||0===r))return m.clear(),r;for(let t=0;t<o;++t)if(m.has(e[t])&&(s&&s.push(e[t]),m.delete(e[t]),e[t]=e[r-1],--r,--t,0===m.size||0===r))return m.clear(),r;return m.clear(),r}function g(e,t,r){const i=e.length;if(t>=i)return e.slice(0);const n=b(r),s=new Set,o=[];for(;o.length<t;){const t=Math.floor(n()*i);s.has(t)||(s.add(t),o.push(e[t]))}return o}function b(e){return e?(w.seed=e,()=>w.getFloat()):Math.random}const w=new r;function S(e,t){const r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null}function x(e,t){return null!=e}function j(e){return e instanceof ArrayBuffer}function T(e){return"Int8Array"===e?.constructor?.name}function I(e){return"Uint8Array"===e?.constructor?.name}function M(e){return"Uint8ClampedArray"===e?.constructor?.name}function E(e){return"Int16Array"===e?.constructor?.name}function F(e){return"Uint16Array"===e?.constructor?.name}function k(e){return"Int32Array"===e?.constructor?.name}function A(e){return"Uint32Array"===e?.constructor?.name}function C(e){return"Float32Array"===e?.constructor?.name}function O(e){return"Float64Array"===e?.constructor?.name}function P(e){return!("buffer"in e)}function D(e){return null!=e?P(e)?8*e.length+12:e.byteLength+R:0}const R=145,N=1024;function $(e){return O(e)||C(e)||k(e)||E(e)||T(e)}function L(e){return O(e)||C(e)}function _(e){return O(e)?179769e303:C(e)?3402823e32:A(e)?4294967295:F(e)?65535:I(e)||M(e)?255:k(e)?2147483647:E(e)?32767:T(e)?127:256}function q(e,t){let r;if(t)for(r in e)e.hasOwnProperty(r)&&(void 0===e[r]?delete e[r]:e[r]instanceof Object&&q(e[r],!0));else for(r in e)e.hasOwnProperty(r)&&void 0===e[r]&&delete e[r];return e}function V(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=H(e);if(null!=t)return t;if(W(e))return e.clone();if(U(e))return e.map(V);if(G(e))return e.clone();const r={};for(const t of Object.getOwnPropertyNames(e))r[t]=V(e[t]);return r}function z(e){if(!e||"object"!=typeof e||"function"==typeof e||"HTMLElement"in globalThis&&e instanceof HTMLElement)return e;const t=H(e);if(null!=t)return t;if(U(e)){let t=!0;const r=e.map((e=>{const r=z(e);return null!=e&&null==r&&(t=!1),r}));return t?r:null}if(W(e))return e.clone();if(e instanceof File||e instanceof Blob)return e;if(!G(e)){const t=new(Object.getPrototypeOf(e).constructor);for(const r of Object.getOwnPropertyNames(e)){const i=e[r],n=z(i);if(null!=i&&null==n)return null;t[r]=n}return t}return null}function W(e){return"function"==typeof e.clone}function U(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function G(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function B(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function H(e){if(T(e)||I(e)||M(e)||E(e)||F(e)||k(e)||A(e)||C(e)||O(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer){return e.slice(0,e.byteLength)}if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,V(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(V(r));return t}return null}function J(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof(e||{}).getTime&&"function"==typeof(t||{}).getTime&&e.getTime()===t.getTime()||!1}function Z(e,t){return e===t||(null==e||"string"==typeof e?e===t:"number"==typeof e?e===t||"number"==typeof t&&isNaN(e)&&isNaN(t):e instanceof Date?t instanceof Date&&e.getTime()===t.getTime():Array.isArray(e)?Array.isArray(t)&&s(e,t):e instanceof Set?t instanceof Set&&K(e,t):e instanceof Map?t instanceof Map&&Y(e,t):!!B(e)&&(B(t)&&Q(e,t)))}function Q(e,t){if(null===e||null===t)return!1;const r=Object.keys(e);if(null===t||Object.keys(t).length!==r.length)return!1;for(const i of r)if(e[i]!==t[i]||!Object.prototype.hasOwnProperty.call(t,i))return!1;return!0}function K(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}function Y(e,t){if(e.size!==t.size)return!1;for(const[r,i]of e){const e=t.get(r);if(e!==i||void 0===e&&!t.has(r))return!1}return!0}function X(e,t,r=!1){return ie(e,t,r)}function ee(e,t){if(null!=t)return t[e]||re(e.split("."),!1,t)}function te(e,t,r){const i=e.split("."),n=i.pop(),s=re(i,!0,r);s&&n&&(s[n]=t)}function re(e,t,r){let i=r;for(const r of e){if(null==i)return;if(!(r in i)){if(!t)return;i[r]={}}i=i[r]}return i}function ie(e,t,r){return t?Object.keys(t).reduce(((e,i)=>{let n=e[i],s=t[i];return n===s?e:void 0===n?(e[i]=V(s),e):(Array.isArray(s)||Array.isArray(e)?(n=n?Array.isArray(n)?e[i]=n.concat():e[i]=[n]:e[i]=[],s&&(Array.isArray(s)||(s=[s]),r?s.forEach((e=>{n.includes(e)||n.push(e)})):e[i]=s.concat())):s&&"object"==typeof s?e[i]=ie(n,s,r):e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[i]=s),e)}),e||{}):e}const ne={analysisTheme:{accentColor:[255,127,0],textColor:"white"},apiKey:void 0,applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!1,portalUrl:"https://www.arcgis.com",routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(X(ne,globalThis.esriConfig,!0),delete ne.has),!ne.assetsPath){{const e="4.27";ne.assetsPath=`https://js.arcgis.com/${e}/@arcgis/core/assets`}ne.defaultAssetsPath=ne.assetsPath}const se=/\{([^\}]+)\}/g;function oe(e){return e??""}function ae(e,t){return e.replaceAll(se,"object"==typeof t?(e,r)=>oe(ee(r,t)):(e,r)=>oe(t(r)))}function le(e,t){return e.replaceAll(/([\.$?*|{}\(\)\[\]\\\/\+\-^])/g,(e=>t&&t.includes(e)?e:`\\${e}`))}function ue(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}function ce(e){return(new DOMParser).parseFromString(e||"","text/html").body.innerText||""}function de(e,t){return new RegExp(`{${t}}`,"ig").test(e)}const he={info:0,warn:1,error:2,none:3};class fe{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,fe._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=fe.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){const e=this;return{loggedMessages:e._loggedMessages,clearLoggedWarnings:()=>e._loggedMessages.warn.clear()}}static get test(){return{resetLoggers(e=new Map){const t=fe._loggers;return fe._loggers=e,t},set throttlingDisabled(e){fe._throttlingDisabled=e}}}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,fe._loggers.get(e)||new fe({module:e})}_log(e,t,...r){if(!this._matchLevel(e))return;if("always"!==t&&!fe._throttlingDisabled){const i=this._argsToKey(r),n=this._loggedMessages[e].get(i);if("once"===t&&null!=n||"oncePerTick"===t&&n&&n>=fe._tickCounter)return;this._loggedMessages[e].set(i,fe._tickCounter),fe._scheduleTickCounterIncrement()}for(const t of ne.log.interceptors)if(t(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}_parentWithMember(e,t){let r=this;for(;null!=r;){const t=r[e];if(null!=t)return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",this._consoleWriter)}_consoleWriter(e,t,...r){console[e](`[${t}]`,...r)}_matchLevel(e){const t=ne.log.level||"warn";return he[this._parentWithMember("level",t)]<=he[e]}_argsToKey(...e){const t=(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]";return ue(JSON.stringify(e,t))}static _scheduleTickCounterIncrement(){fe._tickCounterScheduled||(fe._tickCounterScheduled=!0,Promise.resolve().then((()=>{fe._tickCounter++,fe._tickCounterScheduled=!1})))}}fe._loggers=new Map,fe._tickCounter=0,fe._tickCounterScheduled=!1,fe._throttlingDisabled=!1;function pe(e,t){return e.replaceAll(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,((e,r)=>{if(""===r)return"$";const i=ee(r,t);return(i??"").toString()}))}class ye{constructor(e,t,r){this.name=e,this.details=r,this.message=(t&&pe(t,r))??""}toString(){return"["+this.name+"]: "+this.message}}class me extends ye{constructor(e,t,r){super(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,((e,t)=>{if(t&&"object"==typeof t&&"function"==typeof t.toJSON)return t;try{return V(t)}catch(e){return"[object]"}})))}}catch(e){throw fe.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new me(e.name,e.message,e.details)}}me.prototype.type="error";function ve(e,t){return null!=e?t(e):null}function ge(e,t){return be(e,t),e}function be(e,t){if(null==e)throw new Error(t??"value is None")}function we(e){return e?.destroy(),null}function Se(e){return e?.dispose(),null}function xe(e){return e?.remove(),null}function je(e){return e?.abort(),null}function Te(e){return e?.release(),null}function Ie(e,t,r){return null!=e&&null!=t?null!=r?r(e,t):e.equals(t):e===t}function Me(e){return null}function Ee(e,t){const r=new Array;for(const i of e)r.push(null!=i?t(i):null);return r}function Fe(e,t){for(const r of e)ve(r,t)}function ke(e){return e}const Ae=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Ce={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Oe(e){const t=e?.match(Ae);if(!t)return null;const[,r,i,n]=t;if(!r)return null;let s=null,o=null,a=null;const{devext:l,qaext:u,www:c}=Ce;if(i)if(s=r,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=u);break;default:return null}else({customBaseUrl:o,portalHostname:a}=c);else switch(r.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=u);break;case"www":({customBaseUrl:o,portalHostname:a}=c);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function Pe(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)}function De(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer}const Re=fe.getLogger("esri.core.urlUtils"),Ne=ne.request,$e="esri/config: esriConfig.request.proxyUrl is not set.",Le=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,_e=/^\s*http:/i,qe=/^\s*https:/i,Ve=/^\s*file:/i,ze=/:\d+$/,We=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,Ue=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),Ge=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");class Be{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=ke(this.uri.match(Ue));this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=ke(this.authority.match(Ge)),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const He={},Je=new Be(ne.applicationUrl);let Ze=Je;const Qe=et();let Ke=Qe;const Ye=()=>Ze,Xe=()=>Ke;function et(){const e=ke(Ze.path),t=e.substring(0,e.lastIndexOf(e.split("/")[e.split("/").length-1]));return`${`${Ze.scheme}://${Ze.host}${null!=Ze.port?`:${Ze.port}`:""}`}${t}`}function tt(e){if(!e)return null;const t={path:null,query:null},r=new Be(e),i=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.substring(0,i),t.query=rt(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.substring(0,t.path.length-(r.fragment.length+1)))),t}function rt(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let i,n;t<0?(i=decodeURIComponent(e),n=""):(i=decodeURIComponent(e.slice(0,t)),n=decodeURIComponent(e.slice(t+1)));let s=r[i];"string"==typeof s&&(s=r[i]=[s]),Array.isArray(s)?s.push(n):r[i]=n}return r}function it(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON}function nt(e,t){return e?t&&"function"==typeof t?Object.keys(e).map((r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r])))).join("&"):Object.keys(e).map((r=>{const i=e[r];if(null==i)return"";const n=encodeURIComponent(r)+"=",s=t&&t[r];return s?n+encodeURIComponent(s(i)):Array.isArray(i)?i.map((e=>it(e)?n+encodeURIComponent(JSON.stringify(e)):n+encodeURIComponent(e))).join("&"):it(i)?n+encodeURIComponent(JSON.stringify(i)):n+encodeURIComponent(i)})).filter((e=>e)).join("&"):""}function st(e=!1){let t,r=Ne.proxyUrl;if("string"==typeof e){t=$t(e);const i=dt(e);i&&(r=i.proxyUrl)}else t=!!e;if(!r)throw Re.warn($e),new me("urlutils:proxy-not-set",$e);t&&zt()&&(r=qt(r));return tt(r)}function ot(e){const t=dt(e);let r,i;if(t){const e=lt(t.proxyUrl);r=e.path,i=e.query?rt(e.query):null}if(r){const t=tt(e);e=r+"?"+t.path;const n=nt({...i,...t.query});n&&(e=`${e}?${n}`)}return e}const at={path:"",query:""};function lt(e){const t=e.indexOf("?");return-1!==t?(at.path=e.slice(0,t),at.query=e.slice(t+1)):(at.path=e,at.query=null),at}function ut(e){return e=(e=Wt(e=Ht(e=lt(e).path),!0)).toLowerCase()}function ct(e){const t={proxyUrl:e.proxyUrl,urlPrefix:ut(e.urlPrefix)},r=Ne.proxyRules,i=t.urlPrefix;let n=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(0===i.indexOf(t)){if(i.length===t.length)return-1;n=e;break}0===t.indexOf(i)&&(n=e+1)}return r.splice(n,0,t),n}function dt(e){const t=Ne.proxyRules,r=ut(e);for(let e=0;e<t.length;e++)if(0===r.indexOf(t[e].urlPrefix))return t[e]}function ht(e,t){if(!e||!t)return!1;e=pt(e),t=pt(t);const r=Oe(e),i=Oe(t);return null!=r&&null!=i?r.portalHostname===i.portalHostname:null==r&&null==i&&mt(e,t,!0)}function ft(e,t){return e=pt(e),t=pt(t),Wt(e)===Wt(t)}function pt(e){const t=(e=St(e)).indexOf("/sharing");return t>0?e.substring(0,t):e.replace(/\/+$/,"")}function yt(e){const t=t=>null==t||t instanceof RegExp&&t.test(e)||"string"==typeof t&&e.startsWith(t),r=Ne.interceptors;if(r)for(const e of r)if(Array.isArray(e.urls)){if(e.urls.some(t))return e}else if(t(e.urls))return e;return null}function mt(e,t,r=!1){if(!e||!t)return!1;const i=Xt(e),n=Xt(t);return!(!r&&i.scheme!==n.scheme)&&(null!=i.host&&null!=n.host&&(i.host.toLowerCase()===n.host.toLowerCase()&&i.port===n.port))}function vt(e){if("string"==typeof e){if(!Tt(e))return!0;e=Xt(e)}if(mt(e,Ze))return!0;const t=Ne.trustedServers||[];for(let r=0;r<t.length;r++){const i=gt(t[r]);for(let t=0;t<i.length;t++)if(mt(e,i[t]))return!0}return!1}function gt(e){return He[e]||(Nt(e)||Rt(e)?He[e]=[new Be(bt(e))]:He[e]=[new Be(`http://${e}`),new Be(`https://${e}`)]),He[e]}function bt(e,t=Ke,r){return Rt(e)?r&&r.preserveProtocolRelative?e:"http"===Ze.scheme&&Ze.authority===jt(e).slice(2)?`http:${e}`:`https:${e}`:Nt(e)?e:ke(xt("/"===e[0]?Ut(t):t,e))}function wt(e,t=Ke,r){if(null==e||!Tt(e))return e;const i=St(e),n=i.toLowerCase(),s=St(t).toLowerCase().replace(/\/+$/,""),o=r?St(r).toLowerCase().replace(/\/+$/,""):null;if(o&&0!==s.indexOf(o))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let l=a(n,"/",n.indexOf("//")+2),u=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(u=l+1,l!==n.length);)l=a(n,"/",l+1);if(-1===u)return e;if(o&&u<o.length)return e;e=i.slice(u);const c=s.slice(u-1).replaceAll(/[^/]+/g,"").length;if(c>0)for(let t=0;t<c;t++)e=`../${e}`;else e=`./${e}`;return e}function St(e){return e=Kt(e=Qt(e=Zt(e=bt(e=e.trim()))))}function xt(...e){const t=e.filter(x);if(!t||!t.length)return;const r=[];if(Tt(t[0])){const e=t[0],i=e.indexOf("//");-1!==i&&(r.push(e.slice(0,i+1)),_t(t[0])&&(r[0]+="/"),t[0]=e.slice(i+2))}else"/"===t[0][0]&&r.push("");const i=t.reduce(((e,t)=>t?e.concat(t.split("/")):e),[]);for(let e=0;e<i.length;e++){const t=i[e];".."===t&&r.length>0&&".."!==r[r.length-1]?r.pop():(!t&&e===i.length-1||t&&("."!==t||0===r.length))&&r.push(t)}return r.join("/")}function jt(e,t=!1){if(null==e||It(e)||Mt(e))return null;let r=e.indexOf("://");if(-1===r&&Rt(e))r=2;else{if(-1===r)return null;r+=3}const i=e.indexOf("/",r);return-1!==i&&(e=e.slice(0,i)),t&&(e=Wt(e,!0)),e}function Tt(e){return Rt(e)||Nt(e)}function It(e){return null!=e&&"blob:"===e.slice(0,5)}function Mt(e){return null!=e&&"data:"===e.slice(0,5)}function Et(e){const t=At(e);return t&&t.isBase64?De(t.data):null}function Ft(e){return btoa(String.fromCharCode.apply(null,e)).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const kt=/^data:(.*?)(;base64)?,(.*)$/;function At(e){const t=e.match(kt);if(!t)return null;const[,r,i,n]=t;return{mediaType:r,isBase64:!!i,data:n}}function Ct(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`}function Ot(e){const t=Et(e);if(!t)return null;const r=At(e);return new Blob([t],{type:r.mediaType})}function Pt(e,t){Dt(e,t)}function Dt(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const i=URL.createObjectURL(e);return r.download=t,r.href=i,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),!0}function Rt(e){return null!=e&&"/"===e[0]&&"/"===e[1]}function Nt(e){return null!=e&&Le.test(e)}function $t(e){return null!=e&&qe.test(e)||"https"===Ze.scheme&&Rt(e)}function Lt(e){return null!=e&&_e.test(e)||"http"===Ze.scheme&&Rt(e)}function _t(e){return null!=e&&Ve.test(e)}function qt(e){return Rt(e)?`https:${e}`:e.replace(_e,"https:")}function Vt(){return"http"===Ze.scheme}function zt(){return"https"===Ze.scheme}function Wt(e,t=!1){return Rt(e)?e.slice(2):(e=e.replace(Le,""),t&&e.length>1&&"/"===e[0]&&"/"===e[1]&&(e=e.slice(2)),e)}function Ut(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}function Gt(e){let t=0;if(Tt(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)}function Bt(e,t){if(!e)return"";const r=tt(e).path.replace(/\/+$/,""),i=r.substring(r.lastIndexOf("/")+1);if(!t?.length)return i;const n=new RegExp(`.(${t.join("|")})$`,"ig");return i.replace(n,"")}function Ht(e){return e&&"/"===e[e.length-1]?e:`${e}/`}function Jt(e){return e.replace(/\/+$/,"")}function Zt(e){if(/^https?:\/\//i.test(e)){const t=lt(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}function Qt(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function Kt(e){const t=Ne.httpsDomains;if(!Lt(e))return e;const r=e.indexOf("/",7);let i;if(i=-1===r?e:e.slice(0,r),i=i.toLowerCase().slice(7),ze.test(i)){if(!i.endsWith(":80"))return e;i=i.slice(0,-3),e=e.replace(":80","")}return Vt()&&i===Ze.authority&&!We.test(e)||(zt()&&i===Ze.authority||t&&t.some((e=>i===e||i.endsWith(`.${e}`)))||zt()&&!dt(e))&&(e=qt(e)),e}function Yt(e,t,r){if(!(t&&r&&e&&Tt(e)))return e;const i=e.indexOf("//"),n=e.indexOf("/",i+2),s=e.indexOf(":",i+2),o=Math.min(n<0?e.length:n,s<0?e.length:s);if(e.slice(i+2,o).toLowerCase()!==t.toLowerCase())return e;return`${e.slice(0,i+2)}${r}${e.slice(o)}`}function Xt(e){return"string"==typeof e?new Be(bt(e)):(e.scheme||(e.scheme=Ze.scheme),e)}function er(e){return lr.test(e)}function tr(e,t){const r=tt(e),i=Object.keys(r.query||{});return i.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${i.join(", ")}.`),r.path}function rr(e,t,r){const i=tt(e),n=i.query||{};return n[t]=String(r),`${i.path}?${nt(n)}`}function ir(e,t){const r=tt(e),i=r.query||{};for(const e in t)i[e]=t[e];const n=nt(i);return n?`${r.path}?${n}`:r.path}function nr(e){if(null==e)return null;const t=e.match(ar);return t?t[2]:null}function sr(e){if(null==e)return null;const t=e.match(ar);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}}async function or(e){if("string"==typeof e){return At(e)??{data:e}}return new Promise(((t,r)=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>t(At(i.result)),i.onerror=e=>r(e)}))}const ar=/([^.]*)\.([^\/]*)$/,lr=/(^data:image\/svg|\.svg$)/i;const ur="20230626",cr="b81703b48e0b92e492f4cc6b739af02a9af50038";const dr="4.27";let hr=dr;hr="4.27.6";const fr={async request(e,t){const{default:r}=await Promise.resolve().then((function(){return xi})),i=e.options,n=i.responseType;i.signal=t?.signal,i.responseType="native"===n||"native-request-init"===n?"native-request-init":n&&["blob","json","text"].includes(n)&&yt(e.url)?.after?n:"array-buffer";const s=await r(e.url,i),o={data:s.data,httpStatus:s.httpStatus,ssl:s.ssl};switch(s.requestOptions?.responseType){case"native-request-init":return delete o.data.signal,o;case"blob":o.data=await o.data.arrayBuffer();break;case"json":o.data=(new TextEncoder).encode(JSON.stringify(o.data)).buffer;break;case"text":o.data=(new TextEncoder).encode(o.data).buffer}return{result:o,transferList:[o.data]}}};let pr;function yr(e){pr=e}function mr(e){const t=pr?.findCredential(e);return t?.token?rr(e,"token",t.token):e}t("host-webworker");function vr(e){return{setTimeout:(t,r)=>{const i=e.setTimeout(t,r);return{remove:()=>e.clearTimeout(i)}}}}const gr=vr(globalThis);function br(e){return e&&("function"==typeof e.on||"function"==typeof e.addEventListener)}function wr(e,t,r){if(!br(e))throw new TypeError("target is not a Evented or EventTarget object");if("on"in e)return e.on(t,r);if(Array.isArray(t)){const i=t.slice();for(const t of i)e.addEventListener(t,r);return{remove(){for(const t of i)e.removeEventListener(t,r)}}}return e.addEventListener(t,r),{remove(){e.removeEventListener(t,r)}}}function Sr(e,t,r){if(!br(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,r);const i=wr(e,t,(t=>{i.remove(),r.call(e,t)}));return{remove(){i.remove()}}}const xr={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};function jr({key:e}){return xr[e]||e}function Tr(e="Aborted"){return new me("AbortError",e)}function Ir(e,t="Aborted"){if(Er(e))throw Tr(t)}function Mr(e){return null!=e?"aborted"in e?e:e.signal:e}function Er(e){const t=Mr(e);return null!=t&&t.aborted}function Fr(e){if(Pr(e))throw e}function kr(e){if(!Pr(e))throw e}function Ar(e,t){const r=Mr(e);if(null!=r){if(!r.aborted)return Sr(r,"abort",(()=>t()));t()}}function Cr(e,t){const r=Mr(e);if(null!=r)return Ir(r),Sr(r,"abort",(()=>t(Tr())))}function Or(e,t){return null==Mr(t)?e:new Promise(((r,i)=>{let n=Ar(t,(()=>i(Tr())));const s=()=>n=xe(n);e.then(s,s),e.then(r,i)}))}function Pr(e){return"AbortError"===e?.name}async function Dr(e){try{return await e}catch(e){if(!Pr(e))throw e;return}}async function Rr(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),r=t.map((t=>e[t])),i=await Rr(r),n={};return t.map(((e,t)=>n[e]=i[t])),n}const t=e;return Promise.allSettled(t).then((e=>Array.from(t,((t,r)=>{const i=e[r];return"fulfilled"===i.status?{promise:t,value:i.value}:{promise:t,error:i.reason}}))))}async function Nr(e){return(await Rr(e)).filter((e=>!!e.value)).map((e=>e.value))}function $r(e,t=void 0,r){const i=new AbortController;return Ar(r,(()=>i.abort())),new Promise(((r,n)=>{let s=setTimeout((()=>{s=0,r(t)}),e);Ar(i,(()=>{s&&(clearTimeout(s),n(Tr()))}))}))}function Lr(e,t,r,i){const n=r&&"abort"in r?r:null;null!=i||n||(i=r);let s=setTimeout((()=>{s=0,n&&n.abort()}),t);const o=()=>i||new me("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then((e=>{if(0===s)throw o();return clearTimeout(s),e}),(e=>{throw clearTimeout(s),0===s?o():e}))}function _r(e){return e&&"function"==typeof e.then}function qr(e){return _r(e)?e:Promise.resolve(e)}function Vr(e,t=-1){let r,i,n,s,o=null;const a=(...l)=>{if(r){i=l,s&&s.reject(Tr()),s=zr();const e=ke(s.promise);if(o){const e=o;o=null,e.abort()}return e}if(n=s||zr(),s=null,t>0){const i=new AbortController;r=qr(e(...l,i.signal));const n=r;$r(t).then((()=>{r===n&&(s?i.abort():o=i)}))}else r=1,r=qr(e(...l));const u=()=>{const e=i;i=n=r=o=null,null!=e&&a(...e)},c=r,d=n;return c.then(u,u),c.then(d.resolve,d.reject),ke(d.promise)};return a}function zr(){let e,t;const r=new Promise(((r,i)=>{e=r,t=i})),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>t(e),i.timeout=(e,t)=>gr.setTimeout((()=>i.reject(t)),e),i.promise=r,i}async function Wr(e){await Promise.resolve(),Ir(e)}const Ur=["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"];function Gr(e){const t=jt(e,!0);return!!t&&(t.endsWith(".arcgis.com")&&!Ur.includes(t)&&!e.endsWith("/sharing/rest/generateToken"))}function Br(e,r,i=!1,n){return new Promise(((s,o)=>{if(Er(n))return void o(Hr());let a=()=>{c(),o(new Error(`Unable to load ${r}`))},l=()=>{const t=e;c(),s(t)},u=()=>{if(!e)return;const t=e;c(),t.src="",o(Hr())};const c=()=>{t("esri-image-decode")||(e.removeEventListener("error",a),e.removeEventListener("load",l)),a=null,l=null,e=null,null!=n&&n.removeEventListener("abort",u),u=null,i&&URL.revokeObjectURL(r)};null!=n&&n.addEventListener("abort",u),t("esri-image-decode")?e.decode().then(l,a):(e.addEventListener("error",a),e.addEventListener("load",l))}))}function Hr(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const Jr="Timeout exceeded";function Zr(){return new Error(Jr)}function Qr(e){ne.request.crossOriginNoCorsDomains||(ne.request.crossOriginNoCorsDomains={});const t=ne.request.crossOriginNoCorsDomains;for(let r of e)r=r.toLowerCase(),/^https?:\/\//.test(r)?t[jt(r)??""]=0:(t[jt("http://"+r)??""]=0,t[jt("https://"+r)??""]=0)}function Kr(e){const t=ne.request.crossOriginNoCorsDomains;if(t){let r=jt(e);if(r)return r=r.toLowerCase(),!mt(r,Ye())&&t[r]<Date.now()-36e5}return!1}async function Yr(e){const t=ne.request.crossOriginNoCorsDomains,r=jt(e);t&&r&&(t[r.toLowerCase()]=Date.now());const i=tt(e);e=i.path,"json"===i.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}}async function Xr(e,r){e instanceof URL&&(e=e.toString()),r?.query instanceof URLSearchParams&&(r.query=rt(r.query.toString().replaceAll("+"," ")));const i=Mt(e),n=It(e);n||i||(e=St(e));const s={url:e,requestOptions:{...r}};let o=yt(e);if(o){const e=await mi(o,s);if(null!=e)return{data:e,getHeader:oi,httpStatus:200,requestOptions:s.requestOptions,url:s.url};o.after||o.error||(o=null)}if(e=s.url,"image"===(r=s.requestOptions).responseType&&(t("host-webworker")||t("host-node")))throw ci("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),s);if("head"===r.method){if(r.body)throw ci("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),s);if(i||n)throw ci("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),s)}if(await di(),ei)return ei.execute(e,r);const a=new AbortController;Ar(r,(()=>a.abort()));const l={controller:a,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:o,params:s,redoRequest:!1,useIdentity:ti.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},u=await bi(l);return o?.after?.(u),u}let ei;const ti=ne.request,ri="FormData"in globalThis,ii=[499,498,403,401],ni=["COM_0056","COM_0057","SB_0008"],si=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],oi=()=>null,ai=Symbol();function li(e){const t=jt(e);t&&!Xr._corsServers.includes(t)&&Xr._corsServers.push(t)}function ui(e){const t=jt(e);return!t||t.endsWith(".arcgis.com")||Xr._corsServers.includes(t)||vt(t)}function ci(e,t,r,i){let n="Error";const s={url:r.url,requestOptions:r.requestOptions,getHeader:oi,ssl:!1};if(t instanceof me)return t.details?(t.details=V(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=s,t;if(t){const e=i&&(e=>i.headers.get(e)),r=i?.status,o=t.message;o&&(n=o),e&&(s.getHeader=e),s.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||r||0,s.subCode=t.subcode,s.messageCode=t.messageCode,"string"==typeof t.details?s.messages=[t.details]:s.messages=t.details,s.raw=ai in t?t[ai]:t}return Pr(t)?Tr():new me(e,n,s)}async function di(){t("host-webworker")?ei||(ei=await import("./p-117890fa.js")):Xr._abortableFetch||(Xr._abortableFetch=globalThis.fetch.bind(globalThis))}async function hi(){pr||await import("./p-7a131d93.js")}async function fi(e){const t=e.params.url,r=e.params.requestOptions,i=e.controller.signal,n=r.body;let s=null,o=null;if(ri&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),"string"==typeof n&&(o=n),e.fetchOptions={cache:r.cacheBust&&!("polyfill"in Xr._abortableFetch)?"no-cache":"default",credentials:"same-origin",headers:r.headers||{},method:"head"===r.method?"HEAD":"GET",mode:"cors",priority:ti.priority,redirect:"follow",signal:i},(s||o)&&(e.fetchOptions.body=s||o),"anonymous"===r.authMode&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||r.query?.token||s?.get("token")),!e.hasToken&&ne.apiKey&&Gr(t)&&(r.query||(r.query={}),r.query.token=ne.apiKey,e.hasToken=!0),e.useIdentity&&!e.hasToken&&!e.credentialToken&&!pi(t)&&!Er(i)){let n;"immediate"===r.authMode?(await hi(),n=await pr.getCredential(t,{signal:i}),e.credential=n):"no-prompt"===r.authMode?(await hi(),n=await pr.getCredential(t,{prompt:!1,signal:i}).catch((()=>{})),e.credential=n):pr&&(n=pr.findCredential(t)),n&&(e.credentialToken=n.token,e.useSSL=!!n.ssl)}}function pi(e){return si.some((t=>t.test(e)))}async function yi(e){let r=e.params.url;const i=e.params.requestOptions,n=e.fetchOptions??{},s=It(r)||Mt(r),o=i.responseType||"json",a=s?0:null!=i.timeout?i.timeout:ti.timeout;let l=!1;if(!s){e.useSSL&&(r=qt(r)),i.cacheBust&&"default"===n.cache&&(r=rr(r,"request.preventCache",Date.now()));let s={...i.query};e.credentialToken&&(s.token=e.credentialToken);let o=nt(s);t("esri-url-encodes-apostrophe")&&(o=o.replaceAll("'","%27"));const a=r.length+1+o.length;let u;l="delete"===i.method||"post"===i.method||"put"===i.method||!!i.body||a>ti.maxUrlLength;const c=i.useProxy||!!dt(r);if(c){const e=st(r);u=e.path,!l&&u.length+1+a>ti.maxUrlLength&&(l=!0),e.query&&(s={...e.query,...s})}if("HEAD"===n.method&&(l||c)){if(l){if(a>ti.maxUrlLength)throw ci("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw ci("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(c)throw ci("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(l?(n.method="delete"===i.method?"DELETE":"put"===i.method?"PUT":"POST",i.body?r=ir(r,s):(n.body=nt(s),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):r=ir(r,s),c&&(e.useProxy=!0,r=`${u}?${r}`),s.token&&ri&&n.body instanceof FormData&&!Pe(r)&&n.body.set("token",s.token),i.hasOwnProperty("withCredentials"))e.withCredentials=i.withCredentials;else if(!mt(r,Ye()))if(vt(r))e.withCredentials=!0;else if(pr){const t=pr.findServerInfo(r);t?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(n.credentials="include",Kr(r)&&await Yr(l?ir(r,s):r))}let u,c,d=0,h=!1;a>0&&(d=setTimeout((()=>{h=!0,e.controller.abort()}),a));try{if("native-request-init"===i.responseType)c=n,c.url=r;else if("image"!==i.responseType||"default"!==n.cache||"GET"!==n.method||l||vi(i.headers)||!s&&!e.useProxy&&ti.proxyUrl&&!ui(r)){if(u=await Xr._abortableFetch(r,n),e.useProxy||li(r),"native"===i.responseType)c=u;else if("HEAD"!==n.method)if(u.ok){switch(o){case"array-buffer":c=await u.arrayBuffer();break;case"blob":case"image":c=await u.blob();break;default:c=await u.text()}if(d&&(clearTimeout(d),d=0),"json"===o||"xml"===o||"document"===o)if(c)switch(o){case"json":c=JSON.parse(c);break;case"xml":c=gi(c,"application/xml");break;case"document":c=gi(c,"text/html")}else c=null;if(c){if("array-buffer"===o||"blob"===o){const e=u.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&c["blob"===o?"size":"byteLength"]<=750)try{const e=await new Response(c).json();e.error&&(c=e)}catch{}}"image"===o&&c instanceof Blob&&(c=await Si(URL.createObjectURL(c),e,!0))}}else{c=await u.text();try{c=JSON.parse(c)}catch{}}}else c=await Si(r,e)}catch(t){if("AbortError"===t.name){if(h)throw Zr();throw Tr("Request canceled")}if(!(!u&&t instanceof TypeError&&ti.proxyUrl)||i.body||"delete"===i.method||"head"===i.method||"post"===i.method||"put"===i.method||e.useProxy||ui(r))throw t;e.redoRequest=!0,ct({proxyUrl:ti.proxyUrl,urlPrefix:jt(r)??""})}finally{d&&clearTimeout(d)}return[u,c]}async function mi(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(e){r=ci("request:interceptor",e,t)}if((i instanceof Error||i instanceof me)&&(r=ci("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function vi(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}function gi(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}async function bi(e){let t,r;await fi(e);try{do{[t,r]=await yi(e)}while(!await wi(e,t,r))}catch(r){const i=ci("request:server",r,e.params,t);throw i.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(i),i}const i=e.params.url;if(r&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&r.user?.username&&!vt(i)){const e=jt(i,!0);e&&ti.trustedServers.push(e)}Array.isArray(r.authorizedCrossOriginNoCorsDomains)&&Qr(r.authorizedCrossOriginNoCorsDomains)}const n=e.credential;if(n&&pr){const e=pr.findServerInfo(n.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=pr.findCredential(t,n.userId);e&&-1===pr._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:r,getHeader:t?e=>t?.headers.get(e):oi,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function wi(e,t,r){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||"native"===i.responseType||"native-request-init"===i.responseType)return!0;let n,s;if(r&&(r.error?n=r.error:"error"===r.status&&Array.isArray(r.messages)&&(n={...r},n[ai]=r,n.details=r.messages)),!n&&!t.ok)throw n=new Error(`Unable to load ${t.url} status: ${t.status}`),n[ai]=r,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=i.authMode;if(403===s&&(4===a||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==l||498===s)&&void 0!==s&&ii.includes(s)&&!pi(e.params.url)&&(403!==s||o&&!ni.includes(o)&&(null==a||2===a&&e.credentialToken))){await hi();try{const t=await pr.getCredential(e.params.url,{error:ci("request:server",n,e.params),prompt:"no-prompt"!==l,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===l)return e.credential=void 0,e.credentialToken=void 0,!1;n=t}}if(n)throw n;return!0}function Si(e,t,r=!1){const i=t.controller.signal,n=new Image;return t.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=ti.priority,n.src=e,Br(n,e,r,i)}Xr._abortableFetch=null,Xr._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];const xi=Object.freeze({__proto__:null,default:Xr});function ji(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(s<3?n(o):s>3?n(t,r,o):n(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function Ti(e,t,r,i){function n(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?r(e.value):n(e.value).then(o,a)}l((i=i.apply(e,t||[])).next())}))}function Ii(e,t){for(const[r,i]of e)if(t(i,r))return!0;return!1}function Mi(e,t,r){const i=e.get(t);if(void 0!==i)return i;const n=r();return e.set(t,n),n}const Ei=fe.getLogger("esri.core.accessorSupport.ensureTypes");function Fi(e){return null==e?e:new Date(e)}function ki(e){return null==e?e:!!e}function Ai(e){return null==e?e:e.toString()}function Ci(e){return null==e?e:(e=parseFloat(e),isNaN(e)?0:e)}function Oi(e){return null==e?e:Math.round(parseFloat(e))}function Pi(e){return e&&e.constructor&&void 0!==e.constructor.__accessorMetadata__}function Di(e,t){return null!=t&&e&&!(t instanceof e)}function Ri(e){return e&&"isCollection"in e}function Ni(e){return e&&e.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function $i(e,t){if(!t||!t.constructor||!Ri(t.constructor))return Li(e,t)?t:new e(t);const r=Ni(e.prototype.itemType),i=Ni(t.constructor.prototype.itemType);return r?i?r===i?t:r.prototype.isPrototypeOf(i.prototype)?new e(t):(Li(e,t),t):new e(t):t}function Li(e,t){return!!Pi(t)&&(Ei.error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+qi(e)+"'"),!0)}function _i(e,t){return null==t?t:Ri(e)?$i(e,t):Di(e,t)?Li(e,t)?t:new e(t):t}function qi(e){return e&&e.prototype&&e.prototype.declaredClass||"unknown"}const Vi=new WeakMap;function zi(e){switch(e){case Number:return Ci;case Yi:return Oi;case Boolean:return ki;case String:return Ai;case Date:return Fi;default:return Mi(Vi,e,(()=>_i.bind(null,e)))}}function Wi(e,t){const r=zi(e);return 1===arguments.length?r:r(t)}function Ui(e,t,r){return 1===arguments.length?Ui.bind(null,e):t?Array.isArray(t)?t.map((t=>e(t,r))):[e(t,r)]:t}function Gi(e,t){return 1===arguments.length?Ui((t=>Wi(e,t))):Ui((t=>Wi(e,t)),t)}function Bi(e,t,r){return 0!==t&&Array.isArray(r)?r.map((r=>Bi(e,t-1,r))):e(r)}function Hi(e,t,r){if(2===arguments.length)return r=>Hi(e,t,r);if(!r)return r;r=Bi(e,t,r);let i=t,n=r;for(;i>0&&Array.isArray(n);)i--,n=n[0];if(void 0!==n)for(let e=0;e<i;e++)r=[r];return r}function Ji(e,t,r){return 2===arguments.length?Hi((t=>Wi(e,t)),t):Hi((t=>Wi(e,t)),t,r)}function Zi(e){return!!Array.isArray(e)&&!e.some((t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)}))}function Qi(e,t){if(2===arguments.length)return Qi(e).call(null,t);const r=new Set,i=e.filter((e=>"function"!=typeof e)),n=e.filter((e=>"function"==typeof e));for(const t of e)"string"!=typeof t&&"number"!=typeof t||r.add(t);let s=null,o=null;return(e,t)=>{if(null==e)return e;const a=typeof e,l="string"===a||"number"===a;return l&&(r.has(e)||n.some((e=>"string"===a&&e===String||"number"===a&&e===Number)))||"object"===a&&n.some((t=>!Di(e,t)))?e:(l&&i.length?(s||(s=i.map((e=>"string"==typeof e?`'${e}'`:`${e}`)).join(", ")),Ei.error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${s}`)):"object"==typeof e&&n.length?(o||(o=n.map((e=>qi(e))).join(", ")),Ei.error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${o}`)):Ei.error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}}function Ki(e,t){if(2===arguments.length)return Ki(e).call(null,t);const r={},i=[],n=[];for(const t in e.typeMap){const s=e.typeMap[t];r[t]=Wi(s),i.push(qi(s)),n.push(t)}const s=()=>`'${i.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a="string"==typeof e.key?t=>t[e.key]:e.key;return t=>{if(e.base&&!Di(e.base,t))return t;if(null==t)return t;const i=a(t)||e.defaultKeyValue,n=r[i];if(!n)return Ei.error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!Di(e.typeMap[i],t))return t;if("string"==typeof e.key&&!Pi(t)){const r={};for(const i in t)i!==e.key&&(r[i]=t[i]);return n(r)}return n(t)}}class Yi{}const Xi={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})};function en(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1}function tn(e){switch(e.type){case"native":return Wi(e.value);case"array":return Ui(tn(e.value));case"one-of":return rn(e);default:return null}}function rn(e){let t=null;return(r,i)=>sn(r,e)?r:(null==t&&(t=nn(e)),Ei.error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),i&&(i.valid=!1),null)}function nn(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Yi:return"integer";case Date:return"date";default:return qi(e.value)}case"array":return`array of ${nn(e.value)}`;case"one-of":{const t=e.values.map((e=>nn(e)));return`one of ${t.slice(0,t.length-1)} or ${t[t.length-1]}`}}return"unknown"}function sn(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case Yi:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some((e=>!sn(e,t.value)));case"one-of":return t.values.some((t=>sn(e,t)))}}function on(e){return an((()=>e.forEach((e=>null!=e&&e.remove()))))}function an(e){return{remove:()=>{e&&(e(),e=void 0)}}}function ln(e){return e.__accessor__??null}function un(e,t){return null!=e&&e.metadatas&&null!=e.metadatas[t]}function cn(e,t,r){if(r){return dn(e,t,{policy:r,path:""})}return dn(e,t,null)}function dn(e,t,r){return t?Object.keys(t).reduce(((e,i)=>{const n=i;let s=null,o="merge";if(r&&(s=r.path?`${r.path}.${i}`:i,o=r.policy(s)),"replace"===o)return e[n]=t[n],e;if("replace-arrays"===o&&Array.isArray(e[n]))return e[n]=t[n],e;if(void 0===e[n])return e[n]=V(t[n]),e;let a=e[n],l=t[n];if(a===l)return e;if(Array.isArray(l)||Array.isArray(e))a=a?Array.isArray(a)?e[n]=a.concat():e[n]=[a]:e[n]=[],l&&(Array.isArray(l)||(l=[l]),l.forEach((e=>{a.includes(e)||a.push(e)})));else if(l&&"object"==typeof l)if(r){const t=r.path;r.path=ke(s),e[n]=dn(a,l,r),r.path=t}else e[n]=dn(a,l,null);else e.hasOwnProperty(i)&&!t.hasOwnProperty(i)||(e[n]=l);return e}),e||{}):e}function hn(e){return Array.isArray(e)?e:e.split(".")}function fn(e){return e.includes(",")?e.split(",").map((e=>e.trim())):[e.trim()]}function pn(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...fn(r));return t}return fn(e)}function yn(e,t,r,i){const n=pn(t);if(1!==n.length){const t=n.map((t=>i(e,t,r)));return on(t)}return i(e,n[0],r)}function mn(e){let t=!1;return()=>{t||(t=!0,e())}}function vn(e,t){const r="?"===e[e.length-1]?e.slice(0,-1):e;if(null!=t.getItemAt||Array.isArray(t)){const e=parseInt(r,10);if(!isNaN(e))return Array.isArray(t)?t[e]:t.at(e)}const i=ln(t);return un(i,r)?i.get(r):t[r]}function gn(e,t,r){if(null==e)return e;const i=vn(t[r],e);return!i&&r<t.length-1?void 0:r===t.length-1?i:gn(i,t,r+1)}function bn(e,t,r=0){return"string"!=typeof t||t.includes(".")?gn(e,hn(t),r):vn(t,e)}function wn(e,t){return bn(e,t)}function Sn(e,t){return void 0!==bn(t,e)}function xn(e){let t=e.constructor.__accessorMetadata__;const r=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(t){if(!r){t=Object.create(t);for(const e in t)t[e]=V(t[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0})}}else t={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:t,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}function jn(e,t){const r=xn(e);let i=r[t];return i||(i=r[t]={}),i}function Tn(e,t){return cn(e,t,Mn)}const In=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function Mn(e){return In.test(e)?"replace":"merge"}function En(e,t,r){if(e&&t)if("object"==typeof t)for(const r of Object.getOwnPropertyNames(t))En(e,r,t[r]);else{if(t.includes(".")){const i=t.split("."),n=i.splice(i.length-1,1)[0];return void En(wn(e,i),n,r)}const i=e.__accessor__;null!=i&&Fn(t,i),e[t]=r}}function Fn(e,r){if(t("esri-unknown-property-errors")&&!kn(e,r))throw new me("set:unknown-property",An(e,r))}function kn(e,t){return null!=t.metadatas[e]}function An(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}function Cn(e={}){return(t,r)=>{if(t===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${t.name}.${r}. Accessor does not support static properties.`);const i=Object.getOwnPropertyDescriptor(t,r),n=jn(t,r);i&&(i.get||i.set?(n.get=i.get||n.get,n.set=i.set||n.set):"value"in i&&("value"in e&&fe.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${r}" on "${t.constructor.name}" already defined in the metadata`,e),n.value=e.value=i.value)),null!=e.readOnly&&(n.readOnly=e.readOnly);const s=e.aliasOf;if(s){const e="string"==typeof s?s:s.source,t="string"==typeof s?null:!0===s.overridable;let i;n.dependsOn=[e],n.get=function(){let t=wn(this,e);if("function"==typeof t){i||(i=e.split(".").slice(0,-1).join("."));const r=wn(this,i);r&&(t=t.bind(r))}return t},n.readOnly||(n.set=t?function(e){this._override(r,e)}:function(t){En(this,e,t)})}const o=e.type,a=e.types;n.cast||(o?n.cast=Pn(o):a&&(Array.isArray(a)?n.cast=Ui(Ki(a[0])):n.cast=Ki(a))),Tn(n,e),e.range&&(n.cast=Dn(n.cast,e.range))}}function On(e,t,r){const i=jn(e,r);i.json||(i.json={});let n=i.json;return void 0!==t&&(n.origins||(n.origins={}),n.origins[t]||(n.origins[t]={}),n=n.origins[t]),n}function Pn(e){let t=0,r=e;if(en(e))return tn(e);for(;Array.isArray(r)&&1===r.length&&"string"!=typeof r[0]&&"number"!=typeof r[0];)r=r[0],t++;const i=r;if(Zi(i))return 0===t?Qi(i):Hi(Qi(i),t);if(1===t)return Gi(i);if(t>1)return Ji(i,t);const n=e;return n.from?n.from:Wi(n)}function Dn(e,t){return r=>{let i=+e(r);return null!=t.step&&(i=Math.round(i/t.step)*t.step),null!=t.min&&(i=Math.max(t.min,i)),null!=t.max&&(i=Math.min(t.max,i)),i}}const Rn=Symbol("Accessor-beforeDestroy");var Nn;!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CONSTRUCTING=1]="CONSTRUCTING",e[e.CONSTRUCTED=2]="CONSTRUCTED"}(Nn||(Nn={}));var $n;!function(e){e[e.Dirty=1]="Dirty",e[e.Overriden=2]="Overriden",e[e.Computing=4]="Computing",e[e.NonNullable=8]="NonNullable",e[e.HasDefaultValue=16]="HasDefaultValue",e[e.DepTrackingInitialized=32]="DepTrackingInitialized",e[e.AutoTracked=64]="AutoTracked",e[e.ExplicitlyTracking=128]="ExplicitlyTracking"}($n||($n={}));const Ln={onObservableAccessed:()=>{},onTrackingEnd:()=>{}},_n=[];let qn=Ln;function Vn(e){qn.onObservableAccessed(e)}let zn=!1,Wn=!1;function Un(e,t,r){if(zn)return Bn(e,t,r);Hn(e);const i=t.call(r);return Jn(),i}function Gn(e,t){return Un(Ln,e,t)}function Bn(e,t,r){const i=zn;zn=!0,Hn(e);let n=null;try{n=t.call(r)}catch(e){Wn&&fe.getLogger("esri.core.accessorSupport.tracking").error(e)}return Jn(),zn=i,n}function Hn(e){qn=e,_n.push(e)}function Jn(){const e=_n.length;if(e>1){const t=_n.pop();qn=_n[e-2],t.onTrackingEnd()}else if(1===e){const e=_n.pop();qn=Ln,e.onTrackingEnd()}else qn=Ln}function Zn(e,t){const r=t.observerObject;if(r.flags&$n.DepTrackingInitialized)return;const i=Wn;Wn=!1,r.flags&$n.AutoTracked?Bn(t,t.metadata.get,e):Kn(e,t),Wn=i}const Qn=[];function Kn(e,t){const r=t.observerObject;r.flags&$n.ExplicitlyTracking||(r.flags|=$n.ExplicitlyTracking,Bn(t,(()=>{const r=t.metadata.dependsOn||Qn;for(const t of r)if("string"!=typeof t||t.includes(".")){const r=hn(t);for(let t=0,i=e;t<r.length&&null!=i&&"object"==typeof i;++t)i=Yn(i,r[t],t!==r.length-1)}else Yn(e,t,!1)})),r.flags&=~$n.ExplicitlyTracking)}function Yn(e,t,r){const i="?"===t[t.length-1]?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(i,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const n=ln(e);if(n){const t=n.propertiesByName.get(i);t&&(Vn(t.observerObject),Zn(e,t))}return r?e[i]:void 0}function Xn(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const i=t[e];r[e].forEach((e=>{t[e]=i})),delete t[e]}}}class es extends ye{constructor(e,t,r){super(e,t,r)}}es.prototype.type="warning";function ts(e){return!!e&&e.prototype&&e.prototype.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")}const rs=fe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function is(e,t,r){e&&(!r&&!t.read||t.read?.reader||!1===t.read?.enabled||ds(e)&&te("read.reader",ns(e),t))}function ns(e){const t=e.ndimArray??0;if(t>1)return ls(e);if(1===t)return us(e);if("type"in e&&cs(e.type)){const t=e.type.prototype?.itemType?.Type,r=us("function"==typeof t?{type:t}:{types:t});return(t,i,n)=>{const s=r(t,i,n);return s?new e.type(s):s}}return ss(e)}function ss(e){return"type"in e?os(e.type):ps(e.types)}function os(e){return e.prototype.read?(t,r,i)=>{if(null==t)return t;const n=typeof t;if("object"!==n)return void rs.error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${n}'`);const s=new e;return s.read(t,i),s}:e.fromJSON}function as(e,t,r,i){return 0!==i&&Array.isArray(t)?t.map((t=>as(e,t,r,i-1))):e(t,void 0,r)}function ls(e){const t=ss(e),r=as.bind(null,t),i=e.ndimArray??0;return(e,t,n)=>{if(null==e)return e;e=r(e,n,i);let s=i,o=e;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let t=0;t<s;t++)e=[e];return e}}function us(e){const t=ss(e);return(e,r,i)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const n of e){const e=t(n,void 0,i);void 0!==e&&r.push(e)}return r}const n=t(e,void 0,i);return void 0!==n?[n]:void 0}}function cs(e){if(!ts(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?hs(t.Type):fs(t.Type))}function ds(e){return"types"in e?fs(e.types):hs(e.type)}function hs(e){return!Array.isArray(e)&&(!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||cs(e)))}function fs(e){for(const t in e.typeMap){if(!hs(e.typeMap[t]))return!1}return!0}function ps(e){let t=null;const r=e.errorContext??"type";return(i,n,s)=>{if(null==i)return i;const o=typeof i;if("object"!==o)return void rs.error(`Expected JSON value of type 'object' to deserialize, but got '${o}'`);t||(t=ys(e));const a=e.key;if("string"!=typeof a)return;const l=i[a],u=l?t[l]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!u){const e=`Type '${l||"unknown"}' is not supported`;return s&&s.messages&&i&&s.messages.push(new es(`${r}:unsupported`,e,{definition:i,context:s})),void rs.error(e)}const c=new u;return c.read(i,s),c}}function ys(e){const t={};for(const r in e.typeMap){const i=e.typeMap[r],n=xn(i.prototype);if("function"==typeof e.key)continue;const s=n[e.key];if(!s)continue;s.json?.type&&Array.isArray(s.json.type)&&1===s.json.type.length&&"string"==typeof s.json.type[0]&&(t[s.json.type[0]]=i);const o=s.json?.write;if(!o||!o.writer){t[r]=i;continue}const a=o.target,l="string"==typeof a?a:e.key,u={};o.writer(r,u,l),u[l]&&(t[u[l]]=i)}return t}function ms(e){if(e.json||(e.json={}),gs(e.json),bs(e.json),vs(e.json),e.json.origins)for(const t in e.json.origins)gs(e.json.origins[t]),bs(e.json.origins[t]),vs(e.json.origins[t]);return!0}function vs(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function gs(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function bs(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}function ws(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;e&&(1===r||"type"in e&&ts(e.type))?t.write.writer=Es:r>1?t.write.writer=ks(r):t.types?Array.isArray(t.types)?t.write.writer=js(t.types[0]):t.write.writer=Ss(t.types):t.write.writer=Ts}function Ss(e){return(t,r,i,n)=>t?xs(t,e,n)?Ts(t,r,i,n):void 0:Ts(t,r,i,n)}function xs(e,t,r){for(const r in t.typeMap)if(e instanceof t.typeMap[r])return!0;if(r?.messages){const i=t.errorContext??"type",n=`Values of type '${("function"!=typeof t.key?e[t.key]:e.declaredClass)??"Unknown"}' cannot be written`;r&&r.messages&&e&&r.messages.push(new me(`${i}:unsupported`,n,{definition:e,context:r})),fe.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function js(e){return(t,r,i,n)=>{if(!t||!Array.isArray(t))return Ts(t,r,i,n);return Ts(t.filter((t=>xs(t,e,n))),r,i,n)}}function Ts(e,t,r,i){te(r,Is(e,i),t)}function Is(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?Ms(e):e}function Ms(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function Es(e,t,r,i){let n;null===e?n=null:e&&"function"==typeof e.map?(n=e.map((e=>Is(e,i))),"function"==typeof n.toArray&&(n=n.toArray())):n=[Is(e,i)],te(r,n,t)}function Fs(e,t,r){return 0!==r&&Array.isArray(e)?e.map((e=>Fs(e,t,r-1))):Is(e,t)}function ks(e){return(t,r,i,n)=>{let s;if(null===t)s=null;else{s=Fs(t,n,e);let r=e,i=s;for(;r>0&&Array.isArray(i);)r--,i=i[0];if(void 0!==i)for(let e=0;e<r;e++)s=[s]}te(i,s,r)}}function As(e,t){return Ps(e,"any",t?.origin)}function Cs(e,t){return Ps(e,"read",t?.origin)}function Os(e,t){return Ps(e,"write",t?.origin)}function Ps(e,t,r){let i=e?.json;if(i?.origins&&r){let e;e="link-chart"===r?i.origins[r]&&("any"===t||t in i.origins[r])?i.origins[r]:i.origins["web-map"]:i.origins[r],e&&("any"===t||t in e)&&(i=e)}return i}function Ds(e){const t=Rs(e);if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],n=i.types?Ns(i):t;is(n,i,!1),i.types&&!i.write&&e.json.write&&e.json.write.enabled&&(i.write={...e.json.write}),ws(n,i)}is(t,e.json,!0),ws(t,e.json)}function Rs(e){return e.json.types?Ls(e.json):e.type?$s(e):Ls(e)}function Ns(e){return e.type?$s(e):Ls(e)}function $s(e){if(!e.type)return;let t=0,r=e.type;for(;Array.isArray(r)&&!Zi(r);)r=r[0],t++;return{type:r,ndimArray:t}}function Ls(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}function _s(e){ms(e)&&(Xn(e),Ds(e))}const qs=new Set,Vs=new Set;function zs(e){return t=>{t.prototype.declaredClass=e,Us(t);const r=[],i=[];let n=t.prototype;for(;n;)n.hasOwnProperty("initialize")&&!qs.has(n.initialize)&&(qs.add(n.initialize),r.push(n.initialize)),n.hasOwnProperty("destroy")&&!Vs.has(n.destroy)&&(Vs.add(n.destroy),i.push(n.destroy)),n=Object.getPrototypeOf(n);qs.clear(),Vs.clear();class s extends t{constructor(...e){if(super(...e),this.constructor===s&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),i.length){let e=!1;const t=this[Rn];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){e=!0,t.call(this);for(let e=0;e<i.length;e++)i[e].call(this)}}})}this.postscript(...e)}}}return s.__accessorMetadata__=xn(t.prototype),s.prototype.declaredClass=e,s}}function Ws(e,t){return null==t.get?function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0===r)return;Vn(r.observerObject);const i=t.store;return i.has(e)?i.get(e):r.metadata.value}:function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0!==r)return r.getComputed(t)}}function Us(e){const t=e.prototype,r=xn(t),i={};for(const e of Object.getOwnPropertyNames(r)){const t=r[e];_s(t),i[e]={enumerable:!0,configurable:!0,get:Ws(e,t),set(r){const i=this.__accessor__;if(void 0!==i){if(!Object.isFrozen(this)){if(i.initialized&&t.readOnly)throw new TypeError(`[accessor] cannot assign to read-only property '${e}' of ${this.declaredClass}`);if(i.lifecycle===Nn.CONSTRUCTED&&t.constructOnly)throw new TypeError(`[accessor] cannot assign to construct-only property '${e}' of ${this.declaredClass}`);i.set(e,r)}}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(e.prototype,i)}function Gs(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}}function Bs(e,t){for(const r of e)if(null!=r&&t(r))return r}function Hs(e){return null!=e&&"function"==typeof e[Symbol.iterator]}class Js{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach((t=>{e+=t.length})),e}add(e,t){if(Hs(e)){const r=this._getOrCreateGroup(t);for(const t of e)this._isHandle(t)&&r.push(t)}else if(this._isHandle(e)){this._getOrCreateGroup(t).push(e)}return this}forEach(e,t){if("function"==typeof e)this._groups.forEach((t=>t.forEach(e)));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(this._ensureGroupKey(e))}remove(e){if("string"!=typeof e&&Hs(e)){for(const t of e)this.remove(t);return this}return this.has(e)?(this._removeAllFromGroup(this._getGroup(e)),this._groups.delete(this._ensureGroupKey(e)),this):this}removeAll(){return this._groups.forEach((e=>this._removeAllFromGroup(e))),this._groups.clear(),this}_isHandle(e){return e&&(!!e.remove||e instanceof Js)}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(this._ensureGroupKey(e),t),t}_getGroup(e){return ke(this._groups.get(this._ensureGroupKey(e)))}_ensureGroupKey(e){return e||"_default_"}_removeAllFromGroup(e){for(const t of e)t instanceof Js?t.removeAll():t.remove()}}function Zs(e){return e&&e.release&&"function"==typeof e.release}function Qs(e){return e&&e.acquire&&"function"==typeof e.acquire}class Ks{constructor(e,t,r,i=1,n=0){if(this._ctor=e,this._acquireFunction=t,this._releaseFunction=r,this.allocationSize=i,this._pool=new Array(n),this._initialSize=n,this._ctor)for(let e=0;e<n;e++)this._pool[e]=new this._ctor;this.allocationSize=Math.max(i,1)}destroy(){this.prune(0)}acquire(...e){let t;if(Ks.test.disabled)t=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}t=this._pool.pop()}return this._acquireFunction?this._acquireFunction(t,...e):Qs(t)&&t.acquire(...e),t}release(e){e&&!Ks.test.disabled&&(this._releaseFunction?this._releaseFunction(e):Zs(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}}Ks.test={disabled:!1};class Ys{constructor(e,t){this._observers=e,this._observer=t}remove(){S(this._observers,this._observer)}}class Xs{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return eo;null==this._observers&&(this._observers=[]);const t=this._observers;let r=!1,i=!1;const n=t.length;for(let s=0;s<n;++s){const n=t[s];if(n.destroyed)i=!0;else if(n===e){r=!0;break}}return r||(t.push(e),i&&this._removeDestroyedObservers()),new Ys(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let r=0;for(let i=0;i<t;++i){for(;i+r<t;){if(!e[i+r].destroyed)break;++r}if(r>0){if(!(i+r<t))break;e[i]=e[i+r]}}e.length=t-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}}const eo=an();var to;!function(e){e[e.DEFAULTS=0]="DEFAULTS",e[e.COMPUTED=1]="COMPUTED",e[e.SERVICE=2]="SERVICE",e[e.PORTAL_ITEM=3]="PORTAL_ITEM",e[e.WEB_SCENE=4]="WEB_SCENE",e[e.WEB_MAP=5]="WEB_MAP",e[e.LINK_CHART=6]="LINK_CHART",e[e.USER=7]="USER"}(to||(to={}));const ro=to.USER+1;function io(e){switch(e){case"defaults":return to.DEFAULTS;case"service":return to.SERVICE;case"portal-item":return to.PORTAL_ITEM;case"web-scene":return to.WEB_SCENE;case"web-map":return to.WEB_MAP;case"link-chart":return to.LINK_CHART;case"user":return to.USER;default:return null}}function no(e){switch(e){case to.DEFAULTS:return"defaults";case to.SERVICE:return"service";case to.PORTAL_ITEM:return"portal-item";case to.WEB_SCENE:return"web-scene";case to.WEB_MAP:return"web-map";case to.LINK_CHART:return"link-chart";case to.USER:return"user"}return ke(void 0)}function so(e){return no(e)}class oo{constructor(e,t){this.propertyName=e,this.metadata=t,this.observerObject=new ao,this._accessed=null,this._handles=null,this.observerObject.flags=$n.Dirty|(t.nonNullable?$n.NonNullable:0)|(t.hasOwnProperty("value")?$n.HasDefaultValue:0)|(void 0===t.get?$n.DepTrackingInitialized:0)|(void 0===t.dependsOn?$n.AutoTracked:0)}destroy(){this.observerObject.destroy(),this._accessed=null,this._clearObservationHandles()}getComputed(e){const t=this.observerObject;Vn(t);const r=e.store,i=this.propertyName,n=t.flags,s=r.get(i);if(n&$n.Computing)return s;if(~n&$n.Dirty&&r.has(i))return s;t.flags|=$n.Computing;const o=e.host;let a;n&$n.AutoTracked?a=Un(this,this.metadata.get,o):(Kn(o,this),a=this.metadata.get.call(o)),r.set(i,a,to.COMPUTED);const l=r.get(i);return l===s?t.flags&=~$n.Dirty:Gn(this.commit,this),t.flags&=~$n.Computing,l}onObservableAccessed(e){if(e===this.observerObject)return;let t=this._accessed;if(null==t)t=[],this._accessed=t;else if(t.includes(e))return;t.push(e)}onTrackingEnd(){this._clearObservationHandles();const e=this.observerObject;e.flags|=$n.DepTrackingInitialized;const t=this._accessed;if(null==t||0===t.length)return;let r=this._handles;null==r&&(r=[],this._handles=r);for(let i=0;i<t.length;++i)r.push(t[i].observe(e));t.length=0}notifyChange(){const e=this.observerObject;e.onInvalidated(),e.onCommitted()}invalidate(){this.observerObject.onInvalidated()}commit(){const e=this.observerObject;e.flags&=~$n.Dirty,e.onCommitted()}_clearObservationHandles(){const e=this._handles;if(null!==e){for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}}class ao extends Xs{constructor(){super(...arguments),this.flags=0}onInvalidated(){~this.flags&$n.Overriden&&(this.flags|=$n.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}destroy(){this.flags&$n.Dirty&&this.onCommitted(),super.destroy()}}class lo{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new lo;return this._values.forEach(((r,i)=>{e&&e.has(i)||t.set(i,V(r))})),t}get(e){return this._values.get(e)}originOf(){return to.USER}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}}function uo(e,t,r){return void 0!==e}function co(e,t,r,i){return void 0!==e&&(!(null==r&&e.observerObject.flags&$n.NonNullable)||!1)}function ho(e){return e&&"function"==typeof e.destroy}fe.getLogger("esri.core.accessorSupport.Properties");class fo{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.destroyed=!1,this.lifecycle=Nn.INITIALIZING,this.store=new lo,this._origin=to.USER;const t=this.host.constructor.__accessorMetadata__;for(const e in t){const r=new oo(e,t[e]);this.propertiesByName.set(e,r)}this.metadatas=t}initialize(){this.lifecycle=Nn.CONSTRUCTING}constructed(){this.lifecycle=Nn.CONSTRUCTED}destroy(){this.destroyed=!0;for(const[e,t]of this.propertiesByName){if(t.metadata.autoDestroy){const r=this.internalGet(e);r&&ho(r)&&(r.destroy(),~t.observerObject.flags&$n.NonNullable&&this._internalSet(t,null))}t.destroy()}}get initialized(){return this.lifecycle!==Nn.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(t.metadata.get)return t.getComputed(this);Vn(t.observerObject);const r=this.store;return r.has(e)?r.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.observerObject.flags&$n.HasDefaultValue)return"defaults"}return no(t)}has(e){return!!this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(uo(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const r=this.propertiesByName.get(e);uo(r)&&this._internalSet(r,t)}getDependsInfo(e,t,r){const i=this.propertiesByName.get(t);if(!uo(i))return"";const n=new Set,s=Un({onObservableAccessed:e=>n.add(e),onTrackingEnd:()=>{}},(()=>i.metadata.get?.call(e)));let o=`${r}${e.declaredClass.split(".").pop()}.${t}: ${s}\n`;if(0===n.size)return o;r+="  ";for(const e of n){if(!(e instanceof oo))continue;o+=`${r}${e.propertyName}: undefined\n`}return o}setAtOrigin(e,t,r){const i=this.propertiesByName.get(e);if(uo(i))return this._setAtOrigin(i,t,r)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.observerObject.flags&$n.Overriden)}clearOverride(e){const t=this.propertiesByName.get(e),r=t?.observerObject;r&&r.flags&$n.Overriden&&(r.flags&=~$n.Overriden,t.notifyChange())}override(e,t){const r=this.propertiesByName.get(e);if(!co(r,e,t))return;const i=r.metadata.cast;if(i){const e=this._cast(i,t),{valid:r,value:n}=e;if(yo.release(e),!r)return;t=n}r.observerObject.flags|=$n.Overriden,this._internalSet(r,t)}set(e,t){const r=this.propertiesByName.get(e);if(!co(r,e,t))return;const i=r.metadata.cast;if(i){const e=this._cast(i,t),{valid:r,value:n}=e;if(yo.release(e),!r)return;t=n}const n=r.metadata.set;n?n.call(this.host,t):this._internalSet(r,t)}setDefaultOrigin(e){this._origin=io(e)}getDefaultOrigin(){return no(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const r=this.lifecycle!==Nn.INITIALIZING?this._origin:to.DEFAULTS;this._setAtOrigin(e,t,r)}_setAtOrigin(e,t,r){const i=this.store,n=e.propertyName;i.has(n,r)&&J(t,i.get(n))&&~e.observerObject.flags&$n.Overriden&&r===i.originOf(n)||(e.invalidate(),i.set(n,t,r),e.commit(),Zn(this.host,e))}_cast(e,t){const r=yo.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}class po{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}}const yo=new Ks(po);let mo;function vo(){return mo}function go(e){e.length=0}class bo{constructor(e=50,t=50){this._pool=new Ks(Array,void 0,go,t,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return wo.acquire()}static release(e){return wo.release(e)}static prune(){wo.prune()}}const wo=new bo(100);class So extends Ks{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=Me()}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}}const xo=[];function jo(e){xo.push(e),1===xo.length&&queueMicrotask((()=>{const e=xo.slice();xo.length=0;for(const t of e)t()}))}class To{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}record(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort(((e,t)=>e-t))[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce(((e,t)=>e+t),0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}var Io;!function(e){const t=(e,t,r,i)=>{let n=t,s=t;const o=r>>>1,a=e[n-1];for(;s<=o;){s=n<<1,s<r&&i(e[s-1],e[s])<0&&++s;const t=e[s-1];if(i(t,a)<=0)break;e[n-1]=t,n=s}e[n-1]=a},r=(e,t)=>e<t?-1:e>t?1:0;function i(e,i,n,s){void 0===i&&(i=0),void 0===n&&(n=e.length),void 0===s&&(s=r);for(let r=n>>>1;r>i;r--)t(e,r,n,s);const o=i+1;for(let r=n-1;r>i;r--){const n=e[i];e[i]=e[r],e[r]=n,t(e,o,r,s)}}function*n(e,i,n,s){void 0===i&&(i=0),void 0===n&&(n=e.length),void 0===s&&(s=r);for(let r=n>>>1;r>i;r--)t(e,r,n,s),yield;const o=i+1;for(let r=n-1;r>i;r--){const n=e[i];e[i]=e[r],e[r]=n,t(e,o,r,s),yield}}e.sort=i,e.iterableSort=n}(Io||(Io={}));const Mo=Io;const Eo=1.5,Fo=1.1;class ko{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new h,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),void 0!==e.deallocator&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>Ao(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let r=0;r<this._length;r++){const i=this.data[r];e(i)&&t.push(i)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const r=this.data.indexOf(e,t);return-1!==r&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let r=0;r<t;r++)this.data[this._length++]=e[r]}fill(e,t){for(let r=0;r<t;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,Ao(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const t=p(this.data,e,this.length,this._hint);if(-1!==t)return this.data.splice(t,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(p(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,t=e.length,r){this.length=v(this.data,e,this.length,t,this._hint,r),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const r=this.data[e];this.data[e]=this.data[t],this.data[t]=r}sort(e){Mo.sort(this.data,0,this.length,e)}iterableSort(e){return Mo.iterableSort(this.data,0,this.length,e)}some(e,t){for(let r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}find(e,t){for(let r=0;r<this.length;++r){const i=this.data[r];if(e.call(t,i,r))return i}}filterInPlace(e,t){let r=0;for(let i=0;i<this._length;++i){const n=this.data[i];e.call(t,n,i,this.data)&&(this.data[i]=this.data[r],this.data[r]=n,r++)}if(this._deallocator)for(let e=r;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=r,this._shrink(),this}forAll(e,t){const r=this.length,i=this.data;for(let n=0;n<r;++n)e.call(t,i[n],n,i)}forEach(e,t){for(let r=0;r<this.length;++r)e.call(t,this.data[r],r,this.data)}map(e,t){const r=new Array(this.length);for(let i=0;i<this.length;++i)r[i]=e.call(t,this.data[i],i,this.data);return r}reduce(e,t){let r=t;for(let t=0;t<this.length;++t)r=e(r,this.data[t],t,this.data);return r}has(e){const t=this.length,r=this.data;for(let i=0;i<t;++i)if(r[i]===e)return!0;return!1}}function Ao(e){e.data.length>Eo*e.length&&(e.data.length=Math.floor(e.length*Fo))}function Co(e){return e}class Oo{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class Po{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let Do=0;const Ro={time:Co(0),deltaTime:Co(0),elapsedFrameTime:Co(0),frameDuration:Co(0)},No=["prepare","preRender","render","postRender","update","finish"],$o=[],Lo=new ko;class _o{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}}const qo={frameTasks:Lo,willDispatch:!1,clearFrameTasks:Uo,dispatch:Zo,executeFrameTasks:Bo};function Vo(e){const t=new Po(e);return $o.push(t),qo.willDispatch||(qo.willDispatch=!0,jo(Zo)),t}function zo(e){const t=new Oo(e);return Lo.push(t),null==Wo&&(Do=performance.now(),Wo=requestAnimationFrame(Go)),new _o(t)}let Wo=null;function Uo(e=!1){Lo.forAll((e=>{e.removed=!0})),e&&Jo()}function Go(){const e=performance.now();Wo=null,Wo=Lo.length>0?requestAnimationFrame(Go):null,qo.executeFrameTasks(e)}function Bo(e){const t=Co(e-Do);Do=e;const r=1e3/60,i=Math.max(0,t-r);Ro.time=e,Ro.frameDuration=Co(r-i);for(let r=0;r<No.length;r++){const i=performance.now(),n=No[r];Lo.forAll((i=>{if(i.paused||i.removed)return;0===r&&i.ticks++;i.phases[n]&&(Ro.elapsedFrameTime=Co(performance.now()-e),Ro.deltaTime=0===i.ticks?Co(0):t,i.phases[n]?.call(i,Ro))})),Ko[r].record(performance.now()-i)}Jo(),Yo.record(performance.now()-e)}const Ho=new ko;function Jo(){Lo.forAll((e=>{e.removed&&Ho.push(e)})),Lo.removeUnorderedMany(Ho.data,Ho.length),Ho.clear()}function Zo(){for(;$o.length;){const e=ke($o.shift());e.isActive&&e.callback()}qo.willDispatch=!1}function Qo(e=1,t){const r=zr(),i=()=>{Er(t)?r.reject(Tr()):0===e?r():(--e,jo((()=>i())))};return i(),r.promise}const Ko=No.map((e=>new To(e))),Yo=new To("total");function Xo(e,t){for(const r of e.entries())if(t(r[0]))return!0;return!1}let ea=0;function ta(){return++ea}class ra{constructor(e){this._accessed=[],this._handles=[],this._observerObject=new ia(e),na.register(this,new WeakRef(this._observerObject),this)}destroy(){na.unregister(this._observerObject),this._accessed.length=0,this._observerObject?.destroy(),this.clear()}onObservableAccessed(e){const t=this._accessed;t.includes(e)||t.push(e)}onTrackingEnd(){const e=this._handles,t=this._accessed,r=this._observerObject;for(let i=0;i<t.length;++i)e.push(t[i].observe(r));t.length=0}clear(){const e=this._handles;for(let t=0;t<e.length;++t)e[t].remove();e.length=0}}class ia{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=sa}}const na=new FinalizationRegistry((e=>{e.deref()?.destroy()}));function sa(){}let oa=!1;const aa=[];function la(e,t){let r=new ra(s),i=null,n=!1;function s(){if(!r||n)return;if(oa)return void da(s);const o=i;r.clear(),oa=!0,n=!0,i=Un(r,e),n=!1,oa=!1,t(i,o),ha()}function o(){r&&(r.destroy(),r=null,i=null)}return n=!0,i=Un(r,e),n=!1,{remove:o}}function ua(e,t){let r=new ra(n),i=null;function n(){t(i,o)}function s(){r&&(r.destroy(),r=null),i=null}function o(){return r?(r.clear(),i=Un(r,e),i):null}return o(),{remove:s}}function ca(e){let t=new ra(i),r=!1;function i(){t&&!r&&(oa?da(i):(t.clear(),oa=!0,r=!0,Un(t,e),r=!1,oa=!1,ha()))}function n(){t&&(t.destroy(),t=null)}return r=!0,Un(t,e),r=!1,{remove:n}}function da(e){aa.includes(e)||aa.unshift(e)}function ha(){for(;aa.length;)aa.pop()()}var fa;!function(e){e[e.Untracked=0]="Untracked",e[e.Tracked=1]="Tracked"}(fa||(fa={}));class pa{constructor(){this.uid=ta(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,t,r,i,n){return this.pool.acquire(fa.Untracked,e,t,r,i,n,J)}static acquireTracked(e,t,r,i){return this.pool.acquire(fa.Tracked,e,t,r,null,null,i)}notify(e,t){this.type===fa.Untracked?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,r,i,n,s,o){this.uid=ta(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=r,this.getValue=i,this.target=n,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=ta(),this.removed=!0}}pa.pool=new So(pa);const ya=new bo,ma=new Set;let va;function ga(e){ma.delete(e),ma.add(e),va||(va=Vo(Sa))}function ba(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function wa(e){for(const t of ma.values())t.target===e&&(t.removed=!0)}function Sa(){let e=10;for(;va&&e--;){va=null;const e=xa(),t=ya.acquire();for(const r of e){const e=r.uid;ba(r),e===r.uid&&r.removed&&t.push(r)}for(const e of ma)e.removed&&(t.push(e),ma.delete(e));for(const e of t)pa.pool.release(e);ya.release(t),ya.release(e),ja.forEach((e=>e()))}}function xa(){const e=ya.acquire();e.length=ma.size;let t=0;for(const r of ma)e[t]=r,++t;return ma.clear(),e}const ja=new Set;function Ta(e){return ja.add(e),{remove(){ja.delete(e)}}}function Ia(e,t,r){let i=yn(e,t,r,((e,t,r)=>{let n,s,o=ua((()=>bn(e,t)),((o,a)=>{e.__accessor__.destroyed||n&&n.uid!==s?i.remove():(n||(n=pa.acquireUntracked(o,r,a,e,t),s=n.uid),ga(n))}));return{remove:mn((()=>{o.remove(),n&&(n.uid!==s||n.removed||(n.removed=!0,ga(n)),n=null),i=o=null}))}}));return i}function Ma(e,t,r){const i=yn(e,t,r,((e,t,r)=>{let n=!1;return la((()=>bn(e,t)),((s,o)=>{e.__accessor__.destroyed?i.remove():n||(n=!0,J(o,s)||r.call(e,s,o,t,e),n=!1)}))}));return i}function Ea(e,t,r,i=!1){return!e.__accessor__||e.__accessor__.destroyed?{remove(){}}:i?Ma(e,t,r):Ia(e,t,r)}function Fa(e,t,r){let i,n,s=ua(e,((e,o)=>{i&&i.uid!==n?s.remove():(i||(i=pa.acquireTracked(e,t,o,r),n=i.uid),ga(i))}));return{remove:mn((()=>{s.remove(),i&&(i.uid!==n||i.removed||(i.removed=!0,ga(i)),i=null),s=null}))}}function ka(e,t,r){let i=!1;return la(e,((e,n)=>{i||(i=!0,r(n,e)||t(e,n),i=!1)}))}function Aa(e,t,r=!1,i=Z){return r?ka(e,t,i):Fa(e,t,i)}function Ca(e){return Xo(ma,(t=>t.oldValue===e))}var Oa,Pa;function Da(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const Ra=Symbol("Accessor-Handles"),Na=Symbol("Accessor-Initialized");class $a{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:i}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const n=this;class s extends n{constructor(...e){super(...e),this.inherited=null,i&&i.apply(this,e)}}xn(s.prototype);for(const t in e){const r=e[t];s.prototype[t]="function"==typeof r?function(...e){const i=this.inherited;let s;this.inherited=function(...e){if(n.prototype[t])return n.prototype[t].apply(this,e)};try{s=r.apply(this,e)}catch(e){throw this.inherited=i,e}return this.inherited=i,s}:e[t]}for(const e in t){const r=Da(t[e]);Cn(r)(s.prototype,e)}return zs(r)(s)}constructor(...e){if(this[Oa]=null,this[Pa]=!1,this.constructor===$a)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const t=new fo(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&this.normalizeCtorArgs&&(t.ctorArgs=this.normalizeCtorArgs.apply(this,e)),vo()?.onInstanceConstruct(this),La.register(this,t.propertiesByName,this)}postscript(e){const t=this.__accessor__,r=t.ctorArgs||e;t.initialize(),r&&(this.set(r),t.ctorArgs=null),t.constructed(),this.initialize(),this[Na]=!0}initialize(){}[Rn](){this[Ra]=we(this[Ra])}destroy(){this.destroyed||(La.unregister(this),wa(this),this.__accessor__.destroy(),vo()?.onInstanceDestroy(this))}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Na]}get destroyed(){return this.__accessor__&&this.__accessor__.destroyed||!1}commitProperty(e){this.get(e)}get(e){return wn(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return En(this,e,t),this}watch(e,t,r){return Ea(this,e,t,r)}own(e){this.addHandles(e)}addHandles(e,t){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove();return}let r=this[Ra];null==r&&(r=this[Ra]=new Js),r.add(e,t)}removeHandles(e){const t=this[Ra];null!=t&&t.remove(e)}removeAllHandles(){const e=this[Ra];null!=e&&e.removeAll()}hasHandles(e){const t=this[Ra];return null!=t&&t.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}Oa=Ra,Pa=Na;const La=new FinalizationRegistry((e=>{for(const t of e.values())t.destroy()}));class _a{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const t=new _a;return this._values.forEach(((r,i)=>{e&&e.has(i)||t.set(i,V(r.value),r.origin)})),t}get(e,t){t=this._normalizeOrigin(t);const r=this._values.get(e);return null==t||r?.origin===t?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??to.USER}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter((t=>this._values.get(t)?.origin===e))}set(e,t,r){if((r=this._normalizeOrigin(r))===to.DEFAULTS){const t=this._values.get(e);if(t&&null!=t.origin&&t.origin>r)return}this._values.set(e,new qa(t,r))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}forEach(e){this._values.forEach((({value:t},r)=>e(t,r)))}_normalizeOrigin(e){if(null!=e)return e===to.DEFAULTS?e:to.USER}}class qa{constructor(e,t){this.value=e,this.origin=t}}function Va(e,t,r){t.keys().forEach((e=>{r.set(e,t.get(e),to.DEFAULTS)}));const i=e.metadatas;Object.keys(i).forEach((t=>{e.internalGet(t)&&r.set(t,e.internalGet(t),to.DEFAULTS)}))}function za(e,t,r){if(!e||!e.read||!1===e.read.enabled||!e.read.source)return!1;const i=e.read.source;if("string"==typeof i){if(i===t)return!0;if(i.includes(".")&&0===i.indexOf(t)&&Sn(i,r))return!0}else for(const e of i){if(e===t)return!0;if(e.includes(".")&&0===e.indexOf(t)&&Sn(e,r))return!0}return!1}function Wa(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)}function Ua(e,t,r,i,n){let s=Cs(t[r],n);Wa(s)&&(e[r]=!0);for(const o of Object.getOwnPropertyNames(t))s=Cs(t[o],n),za(s,r,i)&&(e[o]=!0)}function Ga(e,t,r,i){const n=r.metadatas,s=As(n[t],i),o=s?.default;if(void 0===o)return;const a="function"==typeof o?o.call(e,t,i):o;void 0!==a&&r.set(t,a)}const Ba={origin:"service"};function Ha(e,t,r=Ba){if(!t||"object"!=typeof t)return;const i=ln(e),n=i.metadatas,s={};for(const e of Object.getOwnPropertyNames(t))Ua(s,n,e,t,r);i.setDefaultOrigin(r.origin);for(const o of Object.getOwnPropertyNames(s)){const s=Cs(n[o],r).read,a=s&&s.source;let l;l=a&&"string"==typeof a?bn(t,a):t[o],s&&s.reader&&(l=s.reader.call(e,l,t,r)),void 0!==l&&i.set(o,l)}if(!r||!r.ignoreDefaults){i.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(n))s[t]||Ga(e,t,i,r)}i.setDefaultOrigin("user")}function Ja(e,t,r,i=Ba){const n={...i,messages:[]};r(n),n.messages?.forEach((t=>{"warning"!==t.type||e.loaded?i&&i.messages&&i.messages.push(t):e.loadWarnings.push(t)}))}function Za(e,t,r,i,n){const s={};return t.write?.writer?.call(e,i,s,r,n),s}function Qa(e,t,r,i,n,s){if(!i||!i.write)return!1;const o=e.get(r);if(!n&&i.write.overridePolicy){const t=i.write.overridePolicy.call(e,o,r,s??void 0);void 0!==t&&(n=t)}if(n||(n=i.write),!n||!1===n.enabled)return!1;if((null===o&&!n.allowNull&&!n.writerEnsuresNonNull||void 0===o)&&n.isRequired){const t=new me("web-document-write:property-required",`Missing value for required property '${r}' on '${e.declaredClass}'`,{propertyName:r,target:e});return t&&s&&s.messages?s.messages.push(t):t&&!s&&fe.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}if(void 0===o)return!1;if(null===o&&!n.allowNull&&!n.writerEnsuresNonNull)return!1;if(!n.alwaysWriteDefaults&&(!t.store.multipleOriginsSupported||t.store.originOf(r)===to.DEFAULTS)&&Ka(e,r,s,i,o))return!1;if(!n.ignoreOrigin&&s&&s.origin&&t.store.multipleOriginsSupported){if(t.store.originOf(r)<io(s.origin))return!1}return!0}function Ka(e,t,r,i,n){const o=i.default;if(void 0===o)return!1;if(null!=i.defaultEquals)return i.defaultEquals(n);if("function"==typeof o){if(Array.isArray(n)){const i=o.call(e,t,r??void 0);return s(i,n)}return!1}return o===n}function Ya(e,t,r,i){const n=ln(e),s=n.metadatas,o=Os(s[t],i);return!!o&&Qa(e,n,t,o,r,i)}function Xa(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return cn(t,e.toJSON(r));const i=ln(e),n=i.metadatas;for(const s in n){const o=Os(n[s],r);if(!Qa(e,i,s,o,void 0,r))continue;const a=e.get(s),l=Za(e,o,o.write&&"string"==typeof o.write.target?o.write.target:s,a,r);Object.keys(l).length>0&&(t=cn(t,l),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then((()=>cn(t,l,(()=>"replace-arrays"))))),r&&r.writtenProperties&&r.writtenProperties.push({target:e,propName:s,oldOrigin:so(i.store.originOf(s)),newOrigin:r.origin}))}return t}const el=e=>{let t=class extends e{constructor(...e){super(...e);const t=ke(ln(this)),r=t.store,i=new _a;t.store=i,Va(t,r,i)}read(e,t){Ha(this,e,t)}write(e,t){return Xa(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return tl.call(this,e,t)}};return t=ji([zs("esri.core.JSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function tl(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}let rl=class extends(el($a)){};rl=ji([zs("esri.core.JSONSupport")],rl);function il(e,t,r){let i,n;return void 0===t||Array.isArray(t)?(n=e,r=t,i=[void 0]):(n=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;i.forEach((i=>{const o=On(e,i,n);o.read&&"object"==typeof o.read||(o.read={}),o.read.reader=s[t],r&&(o.read.source=(o.read.source||[]).concat(r))}))}}class nl{constructor(e,t={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=t,this.apiValues=[],this.jsonValues=[],this._apiToJSON=this._invertMap(e),this.apiValues=this._getKeysSorted(this._apiToJSON),this.jsonValues=this._getKeysSorted(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,t,r)=>{const i=this.toJSON(e);void 0!==i&&te(r,i,t)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}_invertMap(e){const t={};for(const r in e)t[e[r]]=r;return t}_getKeysSorted(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}}function sl(){return function(e,t){return new nl(e,{ignoreUnknown:!0,...t})}}class ol{constructor(e,t,r,i){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=r;const n=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*n,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=i||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const al=new ol(6378137,1/298.257223563,3e5,.006694379990137799),ll=new ol(3396190,1/169.8944472236118,23e4),ul=new ol(1737400,0,0);var cl;!function(e){e[e.CGCS2000=4490]="CGCS2000",e[e.GCSMARS2000=104971]="GCSMARS2000",e[e.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",e[e.GCSMOON2000=104903]="GCSMOON2000"}(cl||(cl={}));let dl;const hl={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2};for(dl=2e3;dl<=2045;dl++)hl[dl]=0;for(dl=2056;dl<=2065;dl++)hl[dl]=0;for(dl=2067;dl<=2135;dl++)hl[dl]=0;for(dl=2137;dl<=2154;dl++)hl[dl]=0;for(dl=2161;dl<=2170;dl++)hl[dl]=0;for(dl=2172;dl<=2193;dl++)hl[dl]=0;for(dl=2195;dl<=2198;dl++)hl[dl]=0;for(dl=2200;dl<=2203;dl++)hl[dl]=0;for(dl=2205;dl<=2217;dl++)hl[dl]=0;for(dl=2222;dl<=2224;dl++)hl[dl]=1;for(dl=2225;dl<=2250;dl++)hl[dl]=2;for(dl=2251;dl<=2253;dl++)hl[dl]=1;for(dl=2257;dl<=2264;dl++)hl[dl]=2;for(dl=2274;dl<=2279;dl++)hl[dl]=2;for(dl=2280;dl<=2282;dl++)hl[dl]=1;for(dl=2283;dl<=2289;dl++)hl[dl]=2;for(dl=2290;dl<=2292;dl++)hl[dl]=0;for(dl=2308;dl<=2313;dl++)hl[dl]=0;for(dl=2315;dl<=2491;dl++)hl[dl]=0;for(dl=2494;dl<=2866;dl++)hl[dl]=0;for(dl=2867;dl<=2869;dl++)hl[dl]=1;for(dl=2870;dl<=2888;dl++)hl[dl]=2;for(dl=2891;dl<=2895;dl++)hl[dl]=2;for(dl=2896;dl<=2898;dl++)hl[dl]=1;for(dl=2902;dl<=2908;dl++)hl[dl]=2;for(dl=2915;dl<=2920;dl++)hl[dl]=2;for(dl=2921;dl<=2923;dl++)hl[dl]=1;for(dl=2924;dl<=2930;dl++)hl[dl]=2;for(dl=2931;dl<=2962;dl++)hl[dl]=0;for(dl=2964;dl<=2968;dl++)hl[dl]=2;for(dl=2969;dl<=2973;dl++)hl[dl]=0;for(dl=2975;dl<=2991;dl++)hl[dl]=0;for(dl=2995;dl<=3051;dl++)hl[dl]=0;for(dl=3054;dl<=3079;dl++)hl[dl]=0;for(dl=3081;dl<=3088;dl++)hl[dl]=0;for(dl=3092;dl<=3101;dl++)hl[dl]=0;for(dl=3106;dl<=3138;dl++)hl[dl]=0;for(dl=3146;dl<=3151;dl++)hl[dl]=0;for(dl=3153;dl<=3166;dl++)hl[dl]=0;for(dl=3168;dl<=3172;dl++)hl[dl]=0;for(dl=3174;dl<=3203;dl++)hl[dl]=0;for(dl=3294;dl<=3358;dl++)hl[dl]=0;for(dl=3367;dl<=3403;dl++)hl[dl]=0;for(dl=3408;dl<=3416;dl++)hl[dl]=0;for(dl=3417;dl<=3438;dl++)hl[dl]=2;for(dl=3441;dl<=3446;dl++)hl[dl]=2;for(dl=3447;dl<=3450;dl++)hl[dl]=0;for(dl=3451;dl<=3459;dl++)hl[dl]=2;for(dl=3460;dl<=3478;dl++)hl[dl]=0;for(dl=3554;dl<=3559;dl++)hl[dl]=0;for(dl=3560;dl<=3570;dl++)hl[dl]=2;for(dl=3571;dl<=3581;dl++)hl[dl]=0;for(dl=3594;dl<=3597;dl++)hl[dl]=0;for(dl=3601;dl<=3604;dl++)hl[dl]=0;for(dl=3637;dl<=3639;dl++)hl[dl]=0;for(dl=3665;dl<=3667;dl++)hl[dl]=0;for(dl=3693;dl<=3695;dl++)hl[dl]=0;for(dl=3701;dl<=3727;dl++)hl[dl]=0;for(dl=3728;dl<=3739;dl++)hl[dl]=2;for(dl=3740;dl<=3751;dl++)hl[dl]=0;for(dl=3753;dl<=3760;dl++)hl[dl]=2;for(dl=3761;dl<=3773;dl++)hl[dl]=0;for(dl=3775;dl<=3777;dl++)hl[dl]=0;for(dl=3779;dl<=3781;dl++)hl[dl]=0;for(dl=3783;dl<=3785;dl++)hl[dl]=0;for(dl=3788;dl<=3791;dl++)hl[dl]=0;for(dl=3797;dl<=3802;dl++)hl[dl]=0;for(dl=3814;dl<=3816;dl++)hl[dl]=0;for(dl=3825;dl<=3829;dl++)hl[dl]=0;for(dl=3832;dl<=3841;dl++)hl[dl]=0;for(dl=3844;dl<=3852;dl++)hl[dl]=0;for(dl=3873;dl<=3885;dl++)hl[dl]=0;for(dl=3890;dl<=3893;dl++)hl[dl]=0;for(dl=3907;dl<=3912;dl++)hl[dl]=0;for(dl=3942;dl<=3950;dl++)hl[dl]=0;for(dl=3968;dl<=3970;dl++)hl[dl]=0;for(dl=3973;dl<=3976;dl++)hl[dl]=0;for(dl=3986;dl<=3989;dl++)hl[dl]=0;for(dl=3994;dl<=3997;dl++)hl[dl]=0;for(dl=4048;dl<=4051;dl++)hl[dl]=0;for(dl=4056;dl<=4063;dl++)hl[dl]=0;for(dl=4093;dl<=4096;dl++)hl[dl]=0;for(dl=4390;dl<=4398;dl++)hl[dl]=0;for(dl=4399;dl<=4413;dl++)hl[dl]=2;for(dl=4418;dl<=4433;dl++)hl[dl]=2;for(dl=4455;dl<=4457;dl++)hl[dl]=2;for(dl=4484;dl<=4489;dl++)hl[dl]=0;for(dl=4491;dl<=4554;dl++)hl[dl]=0;for(dl=4568;dl<=4589;dl++)hl[dl]=0;for(dl=4652;dl<=4656;dl++)hl[dl]=0;for(dl=4766;dl<=4800;dl++)hl[dl]=0;for(dl=5014;dl<=5016;dl++)hl[dl]=0;for(dl=5069;dl<=5072;dl++)hl[dl]=0;for(dl=5105;dl<=5130;dl++)hl[dl]=0;for(dl=5173;dl<=5188;dl++)hl[dl]=0;for(dl=5253;dl<=5259;dl++)hl[dl]=0;for(dl=5269;dl<=5275;dl++)hl[dl]=0;for(dl=5292;dl<=5311;dl++)hl[dl]=0;for(dl=5329;dl<=5331;dl++)hl[dl]=0;for(dl=5343;dl<=5349;dl++)hl[dl]=0;for(dl=5355;dl<=5357;dl++)hl[dl]=0;for(dl=5387;dl<=5389;dl++)hl[dl]=0;for(dl=5459;dl<=5463;dl++)hl[dl]=0;for(dl=5479;dl<=5482;dl++)hl[dl]=0;for(dl=5518;dl<=5520;dl++)hl[dl]=0;for(dl=5530;dl<=5539;dl++)hl[dl]=0;for(dl=5550;dl<=5552;dl++)hl[dl]=0;for(dl=5562;dl<=5583;dl++)hl[dl]=0;for(dl=5623;dl<=5625;dl++)hl[dl]=2;for(dl=5631;dl<=5639;dl++)hl[dl]=0;for(dl=5649;dl<=5653;dl++)hl[dl]=0;for(dl=5663;dl<=5680;dl++)hl[dl]=0;for(dl=5682;dl<=5685;dl++)hl[dl]=0;for(dl=5875;dl<=5877;dl++)hl[dl]=0;for(dl=5896;dl<=5899;dl++)hl[dl]=0;for(dl=5921;dl<=5940;dl++)hl[dl]=0;for(dl=6050;dl<=6125;dl++)hl[dl]=0;for(dl=6244;dl<=6275;dl++)hl[dl]=0;for(dl=6328;dl<=6348;dl++)hl[dl]=0;for(dl=6350;dl<=6356;dl++)hl[dl]=0;for(dl=6366;dl<=6372;dl++)hl[dl]=0;for(dl=6381;dl<=6387;dl++)hl[dl]=0;for(dl=6393;dl<=6404;dl++)hl[dl]=0;for(dl=6480;dl<=6483;dl++)hl[dl]=0;for(dl=6511;dl<=6514;dl++)hl[dl]=0;for(dl=6579;dl<=6581;dl++)hl[dl]=0;for(dl=6619;dl<=6624;dl++)hl[dl]=0;for(dl=6625;dl<=6627;dl++)hl[dl]=2;for(dl=6628;dl<=6632;dl++)hl[dl]=0;for(dl=6634;dl<=6637;dl++)hl[dl]=0;for(dl=6669;dl<=6692;dl++)hl[dl]=0;for(dl=6707;dl<=6709;dl++)hl[dl]=0;for(dl=6720;dl<=6723;dl++)hl[dl]=0;for(dl=6732;dl<=6738;dl++)hl[dl]=0;for(dl=6931;dl<=6933;dl++)hl[dl]=0;for(dl=6956;dl<=6959;dl++)hl[dl]=0;for(dl=7005;dl<=7007;dl++)hl[dl]=0;for(dl=7057;dl<=7070;dl++)hl[dl]=2;for(dl=7074;dl<=7082;dl++)hl[dl]=0;for(dl=7109;dl<=7118;dl++)hl[dl]=0;for(dl=7119;dl<=7127;dl++)hl[dl]=1;for(dl=7374;dl<=7376;dl++)hl[dl]=0;for(dl=7528;dl<=7586;dl++)hl[dl]=0;for(dl=7587;dl<=7645;dl++)hl[dl]=2;for(dl=7692;dl<=7696;dl++)hl[dl]=0;for(dl=7755;dl<=7787;dl++)hl[dl]=0;for(dl=7791;dl<=7795;dl++)hl[dl]=0;for(dl=7799;dl<=7801;dl++)hl[dl]=0;for(dl=7803;dl<=7805;dl++)hl[dl]=0;for(dl=7825;dl<=7831;dl++)hl[dl]=0;for(dl=7845;dl<=7859;dl++)hl[dl]=0;for(dl=8013;dl<=8032;dl++)hl[dl]=0;for(dl=8065;dl<=8068;dl++)hl[dl]=1;for(dl=8518;dl<=8529;dl++)hl[dl]=2;for(dl=8533;dl<=8536;dl++)hl[dl]=2;for(dl=8538;dl<=8540;dl++)hl[dl]=2;for(dl=8677;dl<=8679;dl++)hl[dl]=0;for(dl=8836;dl<=8840;dl++)hl[dl]=0;for(dl=8857;dl<=8859;dl++)hl[dl]=0;for(dl=8908;dl<=8910;dl++)hl[dl]=0;for(dl=9154;dl<=9159;dl++)hl[dl]=0;for(dl=9205;dl<=9218;dl++)hl[dl]=0;for(dl=9271;dl<=9273;dl++)hl[dl]=0;for(dl=9295;dl<=9297;dl++)hl[dl]=0;for(dl=9356;dl<=9360;dl++)hl[dl]=0;for(dl=9404;dl<=9407;dl++)hl[dl]=0;for(dl=9476;dl<=9482;dl++)hl[dl]=0;for(dl=9487;dl<=9494;dl++)hl[dl]=0;for(dl=9697;dl<=9699;dl++)hl[dl]=0;for(dl=9821;dl<=9865;dl++)hl[dl]=0;for(dl=20002;dl<=20032;dl++)hl[dl]=0;for(dl=20047;dl<=20049;dl++)hl[dl]=0;for(dl=20062;dl<=20092;dl++)hl[dl]=0;for(dl=20135;dl<=20138;dl++)hl[dl]=0;for(dl=20248;dl<=20258;dl++)hl[dl]=0;for(dl=20348;dl<=20358;dl++)hl[dl]=0;for(dl=20436;dl<=20440;dl++)hl[dl]=0;for(dl=20822;dl<=20824;dl++)hl[dl]=0;for(dl=20904;dl<=20932;dl++)hl[dl]=0;for(dl=20934;dl<=20936;dl++)hl[dl]=0;for(dl=21004;dl<=21032;dl++)hl[dl]=0;for(dl=21035;dl<=21037;dl++)hl[dl]=0;for(dl=21095;dl<=21097;dl++)hl[dl]=0;for(dl=21148;dl<=21150;dl++)hl[dl]=0;for(dl=21207;dl<=21264;dl++)hl[dl]=0;for(dl=21307;dl<=21364;dl++)hl[dl]=0;for(dl=21413;dl<=21423;dl++)hl[dl]=0;for(dl=21453;dl<=21463;dl++)hl[dl]=0;for(dl=21473;dl<=21483;dl++)hl[dl]=0;for(dl=21780;dl<=21782;dl++)hl[dl]=0;for(dl=21891;dl<=21894;dl++)hl[dl]=0;for(dl=21896;dl<=21899;dl++)hl[dl]=0;for(dl=22171;dl<=22177;dl++)hl[dl]=0;for(dl=22181;dl<=22187;dl++)hl[dl]=0;for(dl=22191;dl<=22197;dl++)hl[dl]=0;for(dl=22207;dl<=22222;dl++)hl[dl]=0;for(dl=22234;dl<=22236;dl++)hl[dl]=0;for(dl=22243;dl<=22250;dl++)hl[dl]=0;for(dl=22262;dl<=22265;dl++)hl[dl]=0;for(dl=22307;dl<=22322;dl++)hl[dl]=0;for(dl=22348;dl<=22357;dl++)hl[dl]=0;for(dl=22407;dl<=22422;dl++)hl[dl]=0;for(dl=22462;dl<=22465;dl++)hl[dl]=0;for(dl=22521;dl<=22525;dl++)hl[dl]=0;for(dl=22607;dl<=22622;dl++)hl[dl]=0;for(dl=22641;dl<=22646;dl++)hl[dl]=0;for(dl=22648;dl<=22657;dl++)hl[dl]=0;for(dl=22707;dl<=22722;dl++)hl[dl]=0;for(dl=22762;dl<=22765;dl++)hl[dl]=0;for(dl=22991;dl<=22994;dl++)hl[dl]=0;for(dl=23028;dl<=23038;dl++)hl[dl]=0;for(dl=23830;dl<=23853;dl++)hl[dl]=0;for(dl=23866;dl<=23872;dl++)hl[dl]=0;for(dl=23877;dl<=23884;dl++)hl[dl]=0;for(dl=23886;dl<=23894;dl++)hl[dl]=0;for(dl=23946;dl<=23948;dl++)hl[dl]=0;for(dl=24311;dl<=24313;dl++)hl[dl]=0;for(dl=24342;dl<=24347;dl++)hl[dl]=0;for(dl=24370;dl<=24374;dl++)hl[dl]=10;for(dl=24375;dl<=24381;dl++)hl[dl]=0;for(dl=24718;dl<=24721;dl++)hl[dl]=0;for(dl=24817;dl<=24821;dl++)hl[dl]=0;for(dl=24877;dl<=24882;dl++)hl[dl]=0;for(dl=24891;dl<=24893;dl++)hl[dl]=0;for(dl=25391;dl<=25395;dl++)hl[dl]=0;for(dl=25828;dl<=25838;dl++)hl[dl]=0;for(dl=26191;dl<=26195;dl++)hl[dl]=0;for(dl=26391;dl<=26393;dl++)hl[dl]=0;for(dl=26701;dl<=26722;dl++)hl[dl]=0;for(dl=26729;dl<=26799;dl++)hl[dl]=2;for(dl=26801;dl<=26803;dl++)hl[dl]=2;for(dl=26811;dl<=26813;dl++)hl[dl]=2;for(dl=26847;dl<=26870;dl++)hl[dl]=2;for(dl=26891;dl<=26899;dl++)hl[dl]=0;for(dl=26901;dl<=26923;dl++)hl[dl]=0;for(dl=26929;dl<=26946;dl++)hl[dl]=0;for(dl=26948;dl<=26998;dl++)hl[dl]=0;for(dl=27037;dl<=27040;dl++)hl[dl]=0;for(dl=27205;dl<=27232;dl++)hl[dl]=0;for(dl=27258;dl<=27260;dl++)hl[dl]=0;for(dl=27391;dl<=27398;dl++)hl[dl]=0;for(dl=27561;dl<=27564;dl++)hl[dl]=0;for(dl=27571;dl<=27574;dl++)hl[dl]=0;for(dl=27581;dl<=27584;dl++)hl[dl]=0;for(dl=27591;dl<=27594;dl++)hl[dl]=0;for(dl=28191;dl<=28193;dl++)hl[dl]=0;for(dl=28348;dl<=28358;dl++)hl[dl]=0;for(dl=28402;dl<=28432;dl++)hl[dl]=0;for(dl=28462;dl<=28492;dl++)hl[dl]=0;for(dl=29118;dl<=29122;dl++)hl[dl]=0;for(dl=29168;dl<=29172;dl++)hl[dl]=0;for(dl=29177;dl<=29185;dl++)hl[dl]=0;for(dl=29187;dl<=29195;dl++)hl[dl]=0;for(dl=29900;dl<=29903;dl++)hl[dl]=0;for(dl=30161;dl<=30179;dl++)hl[dl]=0;for(dl=30491;dl<=30494;dl++)hl[dl]=0;for(dl=30729;dl<=30732;dl++)hl[dl]=0;for(dl=31251;dl<=31259;dl++)hl[dl]=0;for(dl=31265;dl<=31268;dl++)hl[dl]=0;for(dl=31275;dl<=31279;dl++)hl[dl]=0;for(dl=31281;dl<=31297;dl++)hl[dl]=0;for(dl=31461;dl<=31469;dl++)hl[dl]=0;for(dl=31491;dl<=31495;dl++)hl[dl]=0;for(dl=31917;dl<=31922;dl++)hl[dl]=0;for(dl=31965;dl<=32e3;dl++)hl[dl]=0;for(dl=32001;dl<=32003;dl++)hl[dl]=2;for(dl=32005;dl<=32031;dl++)hl[dl]=2;for(dl=32033;dl<=32060;dl++)hl[dl]=2;for(dl=32064;dl<=32067;dl++)hl[dl]=2;for(dl=32074;dl<=32077;dl++)hl[dl]=2;for(dl=32081;dl<=32086;dl++)hl[dl]=0;for(dl=32107;dl<=32130;dl++)hl[dl]=0;for(dl=32133;dl<=32159;dl++)hl[dl]=0;for(dl=32164;dl<=32167;dl++)hl[dl]=2;for(dl=32180;dl<=32199;dl++)hl[dl]=0;for(dl=32201;dl<=32260;dl++)hl[dl]=0;for(dl=32301;dl<=32360;dl++)hl[dl]=0;for(dl=32601;dl<=32662;dl++)hl[dl]=0;for(dl=32664;dl<=32667;dl++)hl[dl]=2;for(dl=32701;dl<=32761;dl++)hl[dl]=0;for(dl=53001;dl<=53004;dl++)hl[dl]=0;for(dl=53008;dl<=53019;dl++)hl[dl]=0;for(dl=53021;dl<=53032;dl++)hl[dl]=0;for(dl=53034;dl<=53037;dl++)hl[dl]=0;for(dl=53042;dl<=53046;dl++)hl[dl]=0;for(dl=53074;dl<=53080;dl++)hl[dl]=0;for(dl=54001;dl<=54004;dl++)hl[dl]=0;for(dl=54008;dl<=54019;dl++)hl[dl]=0;for(dl=54021;dl<=54032;dl++)hl[dl]=0;for(dl=54034;dl<=54037;dl++)hl[dl]=0;for(dl=54042;dl<=54046;dl++)hl[dl]=0;for(dl=54048;dl<=54053;dl++)hl[dl]=0;for(dl=54074;dl<=54080;dl++)hl[dl]=0;for(dl=54098;dl<=54101;dl++)hl[dl]=0;for(dl=102001;dl<=102040;dl++)hl[dl]=0;for(dl=102042;dl<=102063;dl++)hl[dl]=0;for(dl=102065;dl<=102067;dl++)hl[dl]=0;for(dl=102070;dl<=102117;dl++)hl[dl]=0;for(dl=102122;dl<=102216;dl++)hl[dl]=0;for(dl=102221;dl<=102377;dl++)hl[dl]=0;for(dl=102382;dl<=102388;dl++)hl[dl]=0;for(dl=102389;dl<=102398;dl++)hl[dl]=2;for(dl=102399;dl<=102444;dl++)hl[dl]=0;for(dl=102445;dl<=102447;dl++)hl[dl]=2;for(dl=102448;dl<=102458;dl++)hl[dl]=0;for(dl=102459;dl<=102468;dl++)hl[dl]=2;for(dl=102469;dl<=102499;dl++)hl[dl]=0;for(dl=102500;dl<=102519;dl++)hl[dl]=1;for(dl=102520;dl<=102524;dl++)hl[dl]=0;for(dl=102525;dl<=102529;dl++)hl[dl]=2;for(dl=102530;dl<=102588;dl++)hl[dl]=0;for(dl=102590;dl<=102598;dl++)hl[dl]=0;for(dl=102601;dl<=102603;dl++)hl[dl]=0;for(dl=102605;dl<=102628;dl++)hl[dl]=0;for(dl=102629;dl<=102646;dl++)hl[dl]=2;for(dl=102648;dl<=102700;dl++)hl[dl]=2;for(dl=102701;dl<=102703;dl++)hl[dl]=0;for(dl=102707;dl<=102730;dl++)hl[dl]=2;for(dl=102733;dl<=102758;dl++)hl[dl]=2;for(dl=102767;dl<=102900;dl++)hl[dl]=0;for(dl=102901;dl<=102933;dl++)hl[dl]=2;for(dl=102934;dl<=102950;dl++)hl[dl]=13;for(dl=102951;dl<=102955;dl++)hl[dl]=0;for(dl=102961;dl<=102963;dl++)hl[dl]=0;for(dl=102965;dl<=102969;dl++)hl[dl]=0;for(dl=102971;dl<=102973;dl++)hl[dl]=0;for(dl=102975;dl<=102989;dl++)hl[dl]=0;for(dl=102990;dl<=102992;dl++)hl[dl]=1;for(dl=102997;dl<=103002;dl++)hl[dl]=0;for(dl=103003;dl<=103008;dl++)hl[dl]=2;for(dl=103009;dl<=103011;dl++)hl[dl]=0;for(dl=103012;dl<=103014;dl++)hl[dl]=2;for(dl=103019;dl<=103021;dl++)hl[dl]=0;for(dl=103022;dl<=103024;dl++)hl[dl]=2;for(dl=103029;dl<=103031;dl++)hl[dl]=0;for(dl=103032;dl<=103034;dl++)hl[dl]=2;for(dl=103065;dl<=103068;dl++)hl[dl]=0;for(dl=103074;dl<=103076;dl++)hl[dl]=0;for(dl=103077;dl<=103079;dl++)hl[dl]=1;for(dl=103080;dl<=103082;dl++)hl[dl]=0;for(dl=103083;dl<=103085;dl++)hl[dl]=2;for(dl=103090;dl<=103093;dl++)hl[dl]=0;for(dl=103097;dl<=103099;dl++)hl[dl]=0;for(dl=103100;dl<=103102;dl++)hl[dl]=2;for(dl=103107;dl<=103109;dl++)hl[dl]=0;for(dl=103110;dl<=103112;dl++)hl[dl]=2;for(dl=103113;dl<=103116;dl++)hl[dl]=0;for(dl=103117;dl<=103120;dl++)hl[dl]=2;for(dl=103153;dl<=103157;dl++)hl[dl]=0;for(dl=103158;dl<=103162;dl++)hl[dl]=2;for(dl=103163;dl<=103165;dl++)hl[dl]=0;for(dl=103166;dl<=103168;dl++)hl[dl]=1;for(dl=103169;dl<=103171;dl++)hl[dl]=2;for(dl=103186;dl<=103188;dl++)hl[dl]=0;for(dl=103189;dl<=103191;dl++)hl[dl]=2;for(dl=103192;dl<=103195;dl++)hl[dl]=0;for(dl=103196;dl<=103199;dl++)hl[dl]=2;for(dl=103200;dl<=103224;dl++)hl[dl]=0;for(dl=103225;dl<=103227;dl++)hl[dl]=1;for(dl=103232;dl<=103237;dl++)hl[dl]=0;for(dl=103238;dl<=103243;dl++)hl[dl]=2;for(dl=103244;dl<=103246;dl++)hl[dl]=0;for(dl=103247;dl<=103249;dl++)hl[dl]=2;for(dl=103254;dl<=103256;dl++)hl[dl]=0;for(dl=103257;dl<=103259;dl++)hl[dl]=2;for(dl=103264;dl<=103266;dl++)hl[dl]=0;for(dl=103267;dl<=103269;dl++)hl[dl]=2;for(dl=103300;dl<=103375;dl++)hl[dl]=0;for(dl=103381;dl<=103383;dl++)hl[dl]=0;for(dl=103384;dl<=103386;dl++)hl[dl]=1;for(dl=103387;dl<=103389;dl++)hl[dl]=0;for(dl=103390;dl<=103392;dl++)hl[dl]=2;for(dl=103397;dl<=103399;dl++)hl[dl]=0;for(dl=103400;dl<=103471;dl++)hl[dl]=2;for(dl=103476;dl<=103478;dl++)hl[dl]=0;for(dl=103479;dl<=103481;dl++)hl[dl]=2;for(dl=103486;dl<=103488;dl++)hl[dl]=0;for(dl=103489;dl<=103491;dl++)hl[dl]=2;for(dl=103492;dl<=103495;dl++)hl[dl]=0;for(dl=103496;dl<=103499;dl++)hl[dl]=2;for(dl=103528;dl<=103543;dl++)hl[dl]=0;for(dl=103544;dl<=103548;dl++)hl[dl]=2;for(dl=103549;dl<=103551;dl++)hl[dl]=0;for(dl=103552;dl<=103554;dl++)hl[dl]=1;for(dl=103555;dl<=103557;dl++)hl[dl]=2;for(dl=103558;dl<=103560;dl++)hl[dl]=0;for(dl=103571;dl<=103573;dl++)hl[dl]=0;for(dl=103574;dl<=103576;dl++)hl[dl]=2;for(dl=103577;dl<=103580;dl++)hl[dl]=0;for(dl=103581;dl<=103583;dl++)hl[dl]=2;for(dl=103595;dl<=103694;dl++)hl[dl]=0;for(dl=103696;dl<=103699;dl++)hl[dl]=0;for(dl=103700;dl<=103793;dl++)hl[dl]=2;for(dl=103794;dl<=103890;dl++)hl[dl]=0;for(dl=103891;dl<=103896;dl++)hl[dl]=2;for(dl=103900;dl<=103971;dl++)hl[dl]=2;for(dl=103972;dl<=103977;dl++)hl[dl]=0;for(dl=112e3;dl<=112101;dl++)hl[dl]=0;const fl={102113:!0,102100:!0,3857:!0,3785:!0},pl={4326:!0,3785:!0,3857:!0,102113:!0,102100:!0,104905:!0,104971:!0},yl='PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',ml=[-20037508.342788905,20037508.342788905],vl=[-20037508.342787,20037508.342787],gl={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ml,origin:vl,dx:1e-5},102100:{wkTemplate:yl,valid:ml,origin:vl,dx:1e-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:ml,origin:vl,dx:1e-5},3857:{wkTemplate:yl,valid:ml,origin:vl,dx:1e-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function bl(e,t){return e===t||null!=e&&null!=t&&(null!=e.wkid||null!=t.wkid?e.wkid===t.wkid||Il(e)&&Il(t)||null!=t.latestWkid&&e.wkid===t.latestWkid||null!=e.latestWkid&&t.wkid===e.latestWkid:!(!e.wkt||!t.wkt)&&e.wkt.toUpperCase()===t.wkt.toUpperCase())}function wl(e){return Ol(e)&&e.wkid&&gl[e.wkid]||null}function Sl(e){return!!Ol(e)&&(e.wkid?null==hl[e.wkid]:!!e.wkt&&!!/^\s*GEOGCS/i.test(e.wkt))}function xl(e){return!(Fl(e)||Al(e))}function jl(e){return Ol(e)&&4326===e.wkid}function Tl(e){return Ol(e)&&e.wkid===cl.CGCS2000}function Il(e){return Ol(e)&&null!=e.wkid&&!0===fl[e.wkid]}function Ml(e){return Ol(e)&&32662===e.wkid}function El(e){return e===cl.GCSMARS2000||e===cl.GCSMARS2000_SPHERE}function Fl(e){return Ol(e)&&null!=e.wkid&&El(e.wkid)}function kl(e){return e===cl.GCSMOON2000}function Al(e){return Ol(e)&&null!=e.wkid&&kl(e.wkid)}function Cl(e){return Ol(e)&&null!=e.wkid&&!0===pl[e.wkid]}function Ol(e){return null!=e&&(null!=e.wkid&&e.wkid>=2e3||null!=e.wkt)}const Pl={wkid:4326,wkt:ae(gl[4326].wkTemplate,{Central_Meridian:"0.0"})},Dl={wkid:102100,latestWkid:3857},Rl={wkid:32662};function Nl(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const $l=Nl(al),Ll=Nl(ll),_l=Nl(ul),ql={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${al.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`};function Vl(e){return null!=e&&(Fl(e)||bl(e,Ll))?ll:null!=e&&(Al(e)||bl(e,_l))?ul:al}function zl(e){return El(e)?ll:kl(e)?ul:al}const Wl=39.37,Ul=al.radius*Math.PI/200,Gl=/UNIT\[([^\]]+)\]\]$/i,Bl=hl,Hl=/UNIT\[([^\]]+)\]/i,Jl=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),Zl=sl()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Ql=e=>e*e,Kl=e=>e*e*e,Yl={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Ql(.001)},"square-centimeters":{inBaseUnits:Ql(.01)},"square-decimeters":{inBaseUnits:Ql(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Ql(1e3)},"square-inches":{inBaseUnits:Ql(.0254)},"square-feet":{inBaseUnits:Ql(.3048)},"square-yards":{inBaseUnits:Ql(.9144)},"square-miles":{inBaseUnits:Ql(1609.344)},"square-us-feet":{inBaseUnits:Ql(1200/3937)},acres:{inBaseUnits:.0015625*Ql(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Kl(.001)},"cubic-centimeters":{inBaseUnits:1e3*Kl(.01)},"cubic-decimeters":{inBaseUnits:1e3*Kl(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Kl(1e3)},"cubic-inches":{inBaseUnits:1e3*Kl(.0254)},"cubic-feet":{inBaseUnits:1e3*Kl(.3048)},"cubic-yards":{inBaseUnits:1e3*Kl(.9144)},"cubic-miles":{inBaseUnits:1e3*Kl(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},Xl=(()=>{const e={};for(const t in Yl)for(const r in Yl[t].units)e[r]=t;return e})();function eu(e,t,r){return e*Yl[r].units[t].inBaseUnits}function tu(e,t,r){return e/Yl[r].units[t].inBaseUnits}function ru(e){const t=Xl[e];if(!t)throw new Error("unknown type");return t}function iu(e,t=null){return t=t||ru(e),Yl[t].baseUnit===e}function nu(e,t,r){if(t===r)return e;const i=ru(t);if(i!==ru(r))throw new Error("incompatible units");const n=iu(t,i)?e:eu(e,t,i);return iu(r,i)?n:tu(n,r,i)}function su(e,t,r){return nu(e,t,"meters")/(r*Math.PI/180)}function ou(e){return Zl.fromJSON(e.toLowerCase())||null}function au(e){if(null!=e&&!xl(e))return 1;const t=uu(e);return t>1e5?1:t}function lu(e){return uu(e)>=Vl(e).metersPerDegree?"meters":pu(e)}function uu(e,t=al.metersPerDegree){return cu(e,!0)??t}function cu(e,t=!1){const r=null!=e?e.wkid:null,i=null!=e?e.wkt:null;let n=null;if(r){if(El(r))return ll.metersPerDegree;if(kl(r))return ul.metersPerDegree;n=Bl.values[Bl[r]],!n&&t&&Jl.has(r)&&(n=Ul)}else i&&(mu(i)?n=hu(Gl.exec(i),n):yu(i)&&(n=hu(Hl.exec(i),n)));return n}function du(e){return e.isGeographic?1:uu(e)}function hu(e,t){return e&&e[1]?fu(e[1]):t}function fu(e){return parseFloat(e.split(",")[1])}function pu(e){const t=null!=e?e.wkid:null,r=null!=e?e.wkt:null;let i=null;if(t)i=Bl.units[Bl[t]];else if(r){const e=mu(r)?Gl:yu(r)?Hl:null;if(e){const t=e.exec(r);t&&t[1]&&(i=gu(t[1]))}}return null!=i?ou(i):null}function yu(e){return/^GEOCCS/i.test(e)}function mu(e){return/^PROJCS/i.test(e)}const vu=1e-7;function gu(e){const t=/[\\"\\']{1}([^\\"\\']+)/.exec(e);let r=t&&t[1];if(!r||!Bl.units.includes(r)){const t=fu(e);r=null;const i=Bl.values;for(let e=0;e<i.length;++e)if(Math.abs(t-i[e])<vu){r=Bl.units[e];break}}return r}const bu={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},wu={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Su={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},xu=sl()(bu),ju=sl()(wu),Tu=sl()(Su);function Iu(e,t,r){let i,n;return void 0===t?(n=e,i=[void 0]):"string"!=typeof t?(n=e,i=[void 0],r=t):(n=t,i=Array.isArray(e)?e:[e]),(e,t)=>{const s=e.constructor.prototype;for(const o of i){const i=On(e,o,n);i.write&&"object"==typeof i.write||(i.write={}),r&&(i.write.target=r),i.write.writer=s[t]}}}var Mu;let Eu=Mu=class extends rl{static fromJSON(e){if(!e)return null;if(e.wkid){if(102100===e.wkid)return Mu.WebMercator;if(4326===e.wkid)return Mu.WGS84}const t=new Mu;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;return{["string"==typeof e?"wkt":"wkid"]:e}}get isWGS84(){return jl(this)}get isWebMercator(){return Il(this)}get isGeographic(){return Sl(this)}get isWrappable(){return Cl(this)}get metersPerUnit(){return uu(this)}get unit(){return pu(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===Mu.WGS84)return Mu.WGS84;if(this===Mu.WebMercator)return Mu.WebMercator;const e=new Mu;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(e.wkt=this.wkt),this.imageCoordinateSystem&&(e.imageCoordinateSystem=V(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:i}=e.imageCoordinateSystem,n=this.imageCoordinateSystem;return null==t||i?JSON.stringify(n)===JSON.stringify(e.imageCoordinateSystem):r?n.id===t&&n.referenceServiceName===r:n.id===t}return bl(this,e)}toJSON(e){return this.write(void 0,e)}};Eu.GCS_NAD_1927=null,Eu.WGS84=null,Eu.WebMercator=null,Eu.PlateCarree=null,ji([Cn({readOnly:!0})],Eu.prototype,"isWGS84",null),ji([Cn({readOnly:!0})],Eu.prototype,"isWebMercator",null),ji([Cn({readOnly:!0})],Eu.prototype,"isGeographic",null),ji([Cn({readOnly:!0})],Eu.prototype,"isWrappable",null),ji([Cn({type:Yi,json:{write:!0}})],Eu.prototype,"latestWkid",void 0),ji([Cn({readOnly:!0})],Eu.prototype,"metersPerUnit",null),ji([Cn({readOnly:!0})],Eu.prototype,"unit",null),ji([Cn({type:Yi,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],Eu.prototype,"wkid",void 0),ji([Cn({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],Eu.prototype,"wkt",void 0),ji([Iu("wkt"),Iu("web-scene","wkt")],Eu.prototype,"writeWkt",null),ji([Cn({type:Yi,json:{write:!0}})],Eu.prototype,"vcsWkid",void 0),ji([Cn({type:Yi,json:{write:!0}})],Eu.prototype,"latestVcsWkid",void 0),ji([Cn()],Eu.prototype,"imageCoordinateSystem",void 0),Eu=Mu=ji([zs("esri.geometry.SpatialReference")],Eu),Eu.prototype.toJSON.isDefaultToJSON=!0,Eu.GCS_NAD_1927=new Eu({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'}),Eu.WGS84=new Eu(Pl),Eu.WebMercator=new Eu(Dl),Eu.PlateCarree=new Eu(Rl),Object.freeze&&(Object.freeze(Eu.GCS_NAD_1927),Object.freeze(Eu.WGS84),Object.freeze(Eu.WebMercator));const Fu=Eu;let ku=class extends rl{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Fu.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof Fu)return e;if(null!=e){const r=new Fu;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}};ji([Cn()],ku.prototype,"type",void 0),ji([Cn({readOnly:!0})],ku.prototype,"cache",null),ji([Cn({readOnly:!0})],ku.prototype,"extent",null),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ku.prototype,"hasM",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],ku.prototype,"hasZ",void 0),ji([Cn({type:Fu,json:{write:!0},value:Fu.WGS84})],ku.prototype,"spatialReference",void 0),ji([il("spatialReference")],ku.prototype,"readSpatialReference",null),ku=ji([zs("esri.geometry.Geometry")],ku);const Au=ku;const Cu=Object.prototype.toString;function Ou(e){const t="__accessorMetadata__"in e?Wi(e):e;return function(...e){if(e.push(t),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Pu.apply(this,e)}}function Pu(e,t,r,i){jn(e,t).cast=i}function Du(e){return(t,r)=>{jn(t,e).cast=t[r]}}function Ru(...e){if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===Cu.call(e[0])?Ou(e[0]):1===e.length&&"string"==typeof e[0]?Du(e[0]):void 0}function Nu(e,t){const r=e.x-t.x,i=e.y-t.y,n=e.hasZ&&t.hasZ?e.z-t.z:0;return Math.sqrt(r*r+i*i+n*n)}const $u=57.29577951308232,Lu=.017453292519943;function _u(e){return e*$u}function qu(e){return e*Lu}function Vu(e){return Math.PI/2-2*Math.atan(Math.exp(-e/al.radius))}function zu(e){return null!=e.wkid||null!=e.wkt}const Wu=[0,0];function Uu(e,t,r,i,n){const s=e,o=n;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,Wu,i);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,Wu,i),[o.xmax,o.ymax]=t(s.xmax,s.ymax,Wu,i);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const e="paths"in s?s.paths:s.rings,r=[];let n;for(let s=0;s<e.length;s++){const o=e[s];n=[],r.push(n);for(let e=0;e<o.length;e++)n.push(t(o[e][0],o[e][1],[0,0],i)),o[e].length>2&&n[e].push(o[e][2]),o[e].length>3&&n[e].push(o[e][3])}"paths"in o?o.paths=r:o.rings=r}else if("points"in s&&"points"in o){const e=s.points,r=[];for(let n=0;n<e.length;n++)r[n]=t(e[n][0],e[n][1],[0,0],i),e[n].length>2&&r[n].push(e[n][2]),e[n].length>3&&r[n].push(e[n][3]);o.points=r}return n}function Gu(e,t){const r=e&&(zu(e)?e:e.spatialReference),i=t&&(zu(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!i)&&(!!bl(i,r)||(Il(i)&&jl(r)||Il(r)&&jl(i)))}function Bu(e,t){if(null==e)return null;const r=e.spatialReference,i=t&&(zu(t)?t:t.spatialReference);return Gu(r,i)?bl(r,i)?V(e):Il(i)?Uu(e,Hu,Fu.WebMercator,!1,V(e)):jl(i)?Uu(e,Ju,Fu.WGS84,!1,V(e)):null:null}function Hu(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const i=qu(t);return r[0]=qu(e)*al.radius,r[1]=al.halfSemiMajorAxis*Math.log((1+Math.sin(i))/(1-Math.sin(i))),r}function Ju(e,t,r=[0,0],i=!1){const n=_u(e/al.radius);return r[0]=i?n:n-360*Math.floor((n+180)/360),r[1]=_u(Math.PI/2-2*Math.atan(Math.exp(-t/al.radius))),r}function Zu(e,t=!1,r=V(e)){return Uu(e,Hu,Fu.WebMercator,t,r)}function Qu(e,t=!1,r=V(e)){return Uu(e,Ju,Fu.WGS84,t,r)}var Ku;const Yu=[0,0];function Xu(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let ec=Ku=class extends Au{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,n){let s;if(Array.isArray(e))s=e,n=t,e=s[0],t=s[1],r=s[2],i=s[3];else if(e&&"object"==typeof e){if(s=e,e=null!=s.x?s.x:s.longitude,t=null!=s.y?s.y:s.latitude,r=s.z,i=s.m,(n=s.spatialReference)&&"esri.geometry.SpatialReference"!==n.declaredClass&&(n=new Fu(n)),null!=s.longitude||null!=s.latitude)if(null==s.longitude)fe.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==s.latitude)fe.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n&&n.isWebMercator){const r=Hu(s.longitude,s.latitude,Yu);e=r[0],t=r[1]}}else Xu(r)?(n=r,r=null):Xu(i)&&(n=i,i=null);const o={x:e,y:t};return null==o.x&&null!=o.y?fe.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==o.y&&null!=o.x&&fe.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=n&&(o.spatialReference=n),null!=r&&(o.z=r),null!=i&&(o.m=i),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return Ju(t,r,Yu)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;null!=e&&t&&(t.isWebMercator?this._set("y",Hu(r,e,Yu)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return Ju(e,t,Yu)[0];if(r.isGeographic)return e}return null}set longitude(e){const{y:t,spatialReference:r}=this;null!=e&&r&&(r.isWebMercator?this._set("x",Hu(e,t,Yu)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new Ku;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return Ku.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:r,z:i,m:n,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:u,spatialReference:c}=e;if(!s.equals(c))if(s.isWebMercator&&c.isWGS84)[l,u]=Hu(l,u),c=s;else{if(!s.isWGS84||!c.isWebMercator)return!1;[l,u]=Ju(l,u),c=s}return t===l&&r===u&&i===o&&n===a&&s.wkid===c.wkid}offset(e,t,r){return this.x+=e,this.y+=t,null!=r&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=wl(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,n=2*i;let s;return t>i?(s=Math.ceil(Math.abs(t-i)/n),t-=s*n):t<r&&(s=Math.ceil(Math.abs(t-r)/n),t+=s*n),this._set("x",t),this}distance(e){return Nu(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}};ji([Cn({readOnly:!0})],ec.prototype,"cache",null),ji([Cn({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ec.prototype,"hasM",null),ji([Cn({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],ec.prototype,"hasZ",null),ji([Cn({type:Number})],ec.prototype,"latitude",null),ji([Cn({type:Number})],ec.prototype,"longitude",null),ji([Cn({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Ru((e=>isNaN(e)?e:Ci(e)))],ec.prototype,"x",void 0),ji([Iu("x")],ec.prototype,"writeX",null),ji([il("x")],ec.prototype,"readX",null),ji([Cn({type:Number,json:{write:!0}})],ec.prototype,"y",void 0),ji([Cn({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],ec.prototype,"z",void 0),ji([Cn({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],ec.prototype,"m",void 0),ec=Ku=ji([zs("esri.geometry.Point")],ec),ec.prototype.toJSON.isDefaultToJSON=!0;const tc=ec;const rc=[0,0];function ic(e,t){return null!=t&&lc(e,t.x,t.y,t.z)}function nc(e,t){if(!t.points||t.points.length)return!1;for(const r of t.points)if(!oc(e,r))return!1;return!0}function sc(e,t){const{xmin:r,ymin:i,zmin:n,xmax:s,ymax:o,zmax:a}=t;return e.hasZ&&t.hasZ?lc(e,r,i,n)&&lc(e,r,o,n)&&lc(e,s,o,n)&&lc(e,s,i,n)&&lc(e,r,i,a)&&lc(e,r,o,a)&&lc(e,s,o,a)&&lc(e,s,i,a):lc(e,r,i)&&lc(e,r,o)&&lc(e,s,o)&&lc(e,s,i)}function oc(e,t){return lc(e,t[0],t[1])}function ac(e,t){return lc(e,t[0],t[1],t[2])}function lc(e,t,r,i){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==i||!e.hasZ||i>=e.zmin&&i<=e.zmax)}function uc(e,t){return rc[1]=t.y,rc[0]=t.x,cc(e,rc)}function cc(e,t){return dc(e.rings,t)}function dc(e,t){if(!e)return!1;if(hc(e))return fc(!1,e,t);let r=!1;for(let i=0,n=e.length;i<n;i++)r=fc(r,e[i],t);return r}function hc(e){return!Array.isArray(e[0][0])}function fc(e,t,r){const[i,n]=r;let s=e,o=0;for(let e=0,r=t.length;e<r;e++){o++,o===r&&(o=0);const[a,l]=t[e],[u,c]=t[o];(l<n&&c>=n||c<n&&l>=n)&&a+(n-l)/(c-l)*(u-a)<i&&(s=!s)}return s}function pc(e,t){return ic(e,t)}function yc(e,t){const r=e.hasZ&&t.hasZ;let i,n,s;if(e.xmin<=t.xmin){if(i=t.xmin,e.xmax<i)return!1}else if(i=e.xmin,t.xmax<i)return!1;if(e.ymin<=t.ymin){if(n=t.ymin,e.ymax<n)return!1}else if(n=e.ymin,t.ymax<n)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1;return!0}function mc(e,t){const{points:r,hasZ:i}=t,n=i?ac:oc;for(const t of r)if(n(e,t))return!0;return!1}const vc=[0,0],gc=[0,0],bc=[0,0],wc=[0,0],Sc=[vc,gc,bc,wc],xc=[[bc,vc],[vc,gc],[gc,wc],[wc,bc]];function jc(e,t){return Tc(e,t.rings)}function Tc(e,t){vc[0]=e.xmin,vc[1]=e.ymax,gc[0]=e.xmax,gc[1]=e.ymax,bc[0]=e.xmin,bc[1]=e.ymin,wc[0]=e.xmax,wc[1]=e.ymin;for(const e of Sc)if(dc(t,e))return!0;for(const r of t){if(!r.length)continue;let t=r[0];if(oc(e,t))return!0;for(let i=1;i<r.length;i++){const n=r[i];if(oc(e,n)||Fc(t,n,xc))return!0;t=n}}return!1}function Ic(e,t){vc[0]=e.xmin,vc[1]=e.ymax,gc[0]=e.xmax,gc[1]=e.ymax,bc[0]=e.xmin,bc[1]=e.ymin,wc[0]=e.xmax,wc[1]=e.ymin;const r=t.paths;for(const t of r){if(!r.length)continue;let i=t[0];if(oc(e,i))return!0;for(let r=1;r<t.length;r++){const n=t[r];if(oc(e,n)||Fc(i,n,xc))return!0;i=n}}return!1}const Mc=[0,0];function Ec(e){for(let t=0;t<e.length;t++){const r=e[t];for(let i=0;i<r.length-1;i++){const n=r[i],s=r[i+1];for(let r=t+1;r<e.length;r++)for(let t=0;t<e[r].length-1;t++){const i=e[r][t],o=e[r][t+1];if(kc(n,s,i,o,Mc)&&!(Mc[0]===n[0]&&Mc[1]===n[1]||Mc[0]===i[0]&&Mc[1]===i[1]||Mc[0]===s[0]&&Mc[1]===s[1]||Mc[0]===o[0]&&Mc[1]===o[1]))return!0}}const i=r.length;if(!(i<=4))for(let e=0;e<i-3;e++){let t=i-1;0===e&&(t=i-2);const n=r[e],s=r[e+1];for(let i=e+2;i<t;i++){const e=r[i],t=r[i+1];if(kc(n,s,e,t,Mc)&&!(Mc[0]===n[0]&&Mc[1]===n[1]||Mc[0]===e[0]&&Mc[1]===e[1]||Mc[0]===s[0]&&Mc[1]===s[1]||Mc[0]===t[0]&&Mc[1]===t[1]))return!0}}}return!1}function Fc(e,t,r){for(let i=0;i<r.length;i++)if(kc(e,t,r[i][0],r[i][1]))return!0;return!1}function kc(e,t,r,i,n){const[s,o]=e,[a,l]=t,[u,c]=r,[d,h]=i,f=d-u,p=s-u,y=a-s,m=h-c,v=o-c,g=l-o,b=m*y-f*g;if(0===b)return!1;const w=(f*v-m*p)/b,S=(y*v-g*p)/b;return w>=0&&w<=1&&S>=0&&S<=1&&(n&&(n[0]=s+w*(a-s),n[1]=o+w*(l-o)),!0)}function Ac(e){switch(e){case"esriGeometryEnvelope":case"extent":return yc;case"esriGeometryMultipoint":case"multipoint":return mc;case"esriGeometryPoint":case"point":return pc;case"esriGeometryPolygon":case"polygon":return jc;case"esriGeometryPolyline":case"polyline":return Ic}}var Cc;function Oc(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}function Pc(e,t,r){return null==t?r:null==r?t:e(t,r)}let Dc=Cc=class extends Au{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,i,n){return Oc(e)?{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof e?(e.spatialReference=null==e.spatialReference?Fu.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:i,spatialReference:n??Fu.WGS84}}static fromBounds(e,t){return new Cc({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}static fromPoint(e){return new Cc({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new tc({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new Cc;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Gu(t,r)&&(e=t.isWebMercator?Zu(e):Qu(e,!0)),"point"===e.type?ic(this,e):"extent"===e.type&&sc(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&Gu(t,r)&&(e=t.isWebMercator?Zu(e):Qu(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,i=this.height*t;if(this.xmin+=r,this.ymin+=i,this.xmax-=r,this.ymax-=i,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;t&&r&&!bl(t,r)&&Gu(t,r)&&(e=t.isWebMercator?Zu(e):Qu(e,!0));return Ac(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Pc(Math.min,this.zmin,e.zmin),this.zmax=Pc(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Pc(Math.min,this.mmin,e.mmin),this.mmax=Pc(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=Pc(Math.max,this.zmin,e.zmin),this.zmax=Pc(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=Pc(Math.max,this.mmin,e.mmin),this.mmax=Pc(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=wl(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,r=this._getCM(e);if(r){const i=t.isWebMercator?Qu(r):r;this.xmin-=r.x,this.xmax-=r.x,t.isWebMercator||(i.x=this._normalizeX(i.x,e).x),this.spatialReference=new Fu(ae((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,i]=e.valid,n=this.xmin,s=this.xmax;return n>=r&&n<=i&&(s>=r&&s<=i)||(t=this.center),t}_normalize(e,t,r){const i=this.spatialReference;if(!i)return this;const n=r??wl(i);if(null==n)return this;const s=this._getParts(n).map((e=>e.extent));if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(e)return this._shiftCM(n);if(t)return s;let o=!0,a=!0;return s.forEach((e=>{e.hasZ||(o=!1),e.hasM||(a=!1)})),{rings:s.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o){const r=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}if(a){const r=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}return t})),hasZ:o,hasM:a,spatialReference:i}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:i,spatialReference:n}=this,s=this.width,o=this.xmin,a=this.xmax;let l;e=e||wl(n);const[u,c]=e.valid;l=this._normalizeX(this.xmin,e);const d=l.x,h=l.frameId;l=this._normalizeX(this.xmax,e);const f=l.x,p=l.frameId,y=d===f&&s>0;if(s>2*c){const e=new Cc(o<a?d:f,r,c,i,n),s=new Cc(u,r,o<a?f:d,i,n),l=new Cc(0,r,c,i,n),y=new Cc(u,r,0,i,n),m=[],v=[];e.contains(l)&&m.push(h),e.contains(y)&&v.push(h),s.contains(l)&&m.push(p),s.contains(y)&&v.push(p);for(let e=h+1;e<p;e++)m.push(e),v.push(e);t.push({extent:e,frameIds:[h]},{extent:s,frameIds:[p]},{extent:l,frameIds:m},{extent:y,frameIds:v})}else d>f||y?t.push({extent:new Cc(d,r,c,i,n),frameIds:[h]},{extent:new Cc(u,r,f,i,n),frameIds:[p]}):t.push({extent:new Cc(d,r,f,i,n),frameIds:[h]});this.cache._parts=t}const r=this.hasZ,i=this.hasM;if(r||i){const e={};r&&(e.zmin=this.zmin,e.zmax=this.zmax),i&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let r=0;r<t.length;r++)t[r].extent.set(e)}return t}_normalizeX(e,t){const[r,i]=t.valid,n=2*i;let s,o=0;return e>i?(s=Math.ceil(Math.abs(e-i)/n),e-=s*n,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/n),e+=s*n,o=-s),{x:e,frameId:o}}};ji([Cn({readOnly:!0})],Dc.prototype,"cache",null),ji([Cn({readOnly:!0})],Dc.prototype,"center",null),ji([Cn({readOnly:!0})],Dc.prototype,"extent",null),ji([Cn({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Dc.prototype,"hasM",null),ji([Cn({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Dc.prototype,"hasZ",null),ji([Cn({readOnly:!0})],Dc.prototype,"height",null),ji([Cn({readOnly:!0})],Dc.prototype,"width",null),ji([Cn({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Dc.prototype,"xmin",void 0),ji([Cn({type:Number,json:{write:!0}})],Dc.prototype,"ymin",void 0),ji([Cn({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Dc.prototype,"mmin",void 0),ji([Cn({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Dc.prototype,"zmin",void 0),ji([Cn({type:Number,json:{write:!0}})],Dc.prototype,"xmax",void 0),ji([Cn({type:Number,json:{write:!0}})],Dc.prototype,"ymax",void 0),ji([Cn({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Dc.prototype,"mmax",void 0),ji([Cn({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Dc.prototype,"zmax",void 0),Dc=Cc=ji([zs("esri.geometry.Extent")],Dc),Dc.prototype.toJSON.isDefaultToJSON=!0;const Rc=Dc;function Nc(e,t,r=!1){let{hasM:i,hasZ:n}=e;Array.isArray(t)?4!==t.length||i||n?3===t.length&&r&&!i?(n=!0,i=!1):3===t.length&&i&&n&&(i=!1,n=!1):(i=!0,n=!0):(n=!n&&t.hasZ&&(!i||t.hasM),i=!i&&t.hasM&&(!n||t.hasZ)),e.hasZ=n,e.hasM=i}var $c;function Lc(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}function _c(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}let qc=$c=class extends Au{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};Array.isArray(e)?(r.points=e,r.spatialReference=t):_c(e)?r.spatialReference=e:(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM));const i=r.points&&r.points[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new Rc,r=this.hasZ,i=this.hasM,n=r?3:2,s=e[0],o=Lc(Math.min),a=Lc(Math.max);let l,u,c,d,[h,f]=s,[p,y]=s;for(let t=0,s=e.length;t<s;t++){const s=e[t],[m,v]=s;if(h=o(h,m),f=o(f,v),p=a(p,m),y=a(y,v),r&&s.length>2){const e=s[2];l=o(l,e),c=a(c,e)}if(i&&s.length>n){const e=s[n];u=o(u,e),d=a(d,e)}}return t.xmin=h,t.ymin=f,t.xmax=p,t.ymax=y,t.spatialReference=this.spatialReference,r?(t.zmin=l,t.zmax=c):(t.zmin=void 0,t.zmax=void 0),i?(t.mmin=u,t.mmax=d):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=V(this.points)}addPoint(e){return Nc(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:V(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new $c(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let i=2;return this.hasZ&&(r.z=t[2],i=3),this.hasM&&(r.m=t[i]),new tc(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new tc(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(Nc(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}};ji([Cn({readOnly:!0})],qc.prototype,"cache",null),ji([Cn()],qc.prototype,"extent",null),ji([Cn({type:[[Number]],json:{write:{isRequired:!0}}})],qc.prototype,"points",void 0),ji([Iu("points")],qc.prototype,"writePoints",null),qc=$c=ji([zs("esri.geometry.Multipoint")],qc),qc.prototype.toJSON.isDefaultToJSON=!0;const Vc=qc;function zc(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t}function Wc(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t}function Uc(e,t){const r=t[0]-e[0],i=t[1]-e[1];if(e.length>2&&t.length>2){const n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)}return Math.sqrt(r*r+i*i)}function Gc(e,t,r){const i=e[0]+r*(t[0]-e[0]),n=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[i,n,e[2]+r*(t[2]-e[2])]:[i,n]}function Bc(e,t,r,i){const[n,s]=t,[o,a]=r[i],[l,u]=r[i+1],c=l-o,d=u-a,h=c*c+d*d,f=(n-o)*c+(s-a)*d,p=Math.min(1,Math.max(0,f/h));return e[0]=o+c*p,e[1]=a+d*p,e}function Hc(e,t,r){let i,n,s,o,a=!1,l=1/0;for(r.reset();r.nextPath();)if(r.nextPoint())for(i=r.x,n=r.y;r.nextPoint();)s=r.x,o=r.y,n>t!=o>t&&e<(s-i)*(t-n)/(o-n)+i&&(a=!a),l=Math.min(l,Jc(e,t,i,n,s,o)),i=s,n=o;return 0===l?0:(a?1:-1)*Math.sqrt(l)}function Jc(e,t,r,i,n,s){let o=r,a=i,l=n-o,u=s-a;if(0!==l||0!==u){const r=((e-o)*l+(t-a)*u)/(l*l+u*u);r>1?(o=n,a=s):r>0&&(o+=l*r,a+=u*r)}return l=e-o,u=t-a,l*l+u*u}function Zc(e,t){return Gc(e,t,.5)}function Qc(e,t,r){const i=e.length;let n=0,s=0,o=0;for(let a=0;a<i;a++){const l=e[a],u=e[(a+1)%i];let c=2;n+=l[0]*u[1]-u[0]*l[1],l.length>2&&u.length>2&&r&&(s+=l[0]*u[2]-u[0]*l[2],c=3),l.length>c&&u.length>c&&t&&(o+=l[0]*u[c]-u[0]*l[c])}return n<=0&&s<=0&&o<=0}function Kc(e){const t=e.length;return t>2&&s(e[0],e[t-1])}function Yc(e){if("rings"in e&&(Xc(e),e.rings.length>0&&!Qc(e.rings[0],e.hasM??!1,e.hasZ??!1)))for(const t of e.rings)t.reverse()}function Xc(e){if("rings"in e)for(const t of e.rings)Kc(t)||t.push(t[0].slice())}function ed(e){if(!e||e.length<3)return 0;let t=0;const r=e.length-1;for(let i=0;i<r;i++)t+=(e[i][0]-e[i+1][0])*(e[i][1]+e[i+1][1]);return t+=(e[r][0]-e[0][0])*(e[r][1]+e[0][1]),-.5*t}function td(e){if(!e||e.numPoints<3)return 0;let t,r,i=0;if(e.seekPathStart(),!e.nextPoint())return 0;t=e.x,r=e.y;const n=t,s=r;for(;e.nextPoint();)i+=(t-e.x)*(r+e.y),t=e.x,r=e.y;return i+=(t-n)*(r+s),-.5*i}function rd(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null}function id(e){return e?nd(e.rings,e.hasZ??!1):null}function nd(e,t){if(!e||!e.length)return null;const r=[],i=[],n=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,s=e.length;r<s;r++){const s=sd(e[r],t,n);s&&i.push(s)}if(i.sort(((e,r)=>{let i=e[2]-r[2];return 0===i&&t&&(i=e[4]-r[4]),i})),i.length&&(r[0]=i[0][0],r[1]=i[0][1],t&&(r[2]=i[0][3]),(r[0]<n[0]||r[0]>n[1]||r[1]<n[2]||r[1]>n[3]||t&&(r[2]<n[4]||r[2]>n[5]))&&(r.length=0)),!r.length){const i=e[0]&&e[0].length?od(e[0],t):null;if(!i)return null;r[0]=i[0],r[1]=i[1],t&&i.length>2&&(r[2]=i[2])}return r}function sd(e,t,r){let i=0,n=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,c=e.length&&t?e[0][2]:0;for(let d=0;d<e.length;d++){const h=e[d],f=e[(d+1)%e.length],[p,y,m]=h,v=p-l,g=y-u,[b,w,S]=f,x=b-l,j=w-u,T=v*j-x*g;if(o+=T,i+=(v+x)*T,n+=(g+j)*T,t&&h.length>2&&f.length>2){const e=m-c,t=S-c,r=v*t-x*e;s+=(e+t)*r,a+=r}p<r[0]&&(r[0]=p),p>r[1]&&(r[1]=p),y<r[2]&&(r[2]=y),y>r[3]&&(r[3]=y),t&&(m<r[4]&&(r[4]=m),m>r[5]&&(r[5]=m))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const d=[i/(6*o)+l,n/(6*o)+u,o];return t&&(r[4]===r[5]||0===a?(d[3]=(r[4]+r[5])/2,d[4]=0):(d[3]=s/(6*a)+c,d[4]=a)),d}function od(e,t){const r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,u=e.length;l<u-1;l++){const u=e[l],c=e[l+1];if(u&&c){r[0]=u[0],r[1]=u[1],i[0]=c[0],i[1]=c[1],t&&u.length>2&&c.length>2&&(r[2]=u[2],i[2]=c[2]);const e=Uc(r,i);if(e){n+=e;const r=Zc(u,c);s+=e*r[0],o+=e*r[1],t&&r.length>2&&(a+=e*r[2])}}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.length?e[0]:null}function ad(e){const{hasZ:t,numPaths:r}=e;if(0===r)return null;const i=[],n=[],s=t?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const t=sd(Wc(e),e.hasZ,s);t&&n.push(t)}if(n.sort(((e,r)=>{let i=e[2]-r[2];return 0===i&&t&&(i=e[4]-r[4]),i})),n.length&&(i[0]=n[0][0],i[1]=n[0][1],t&&(i[2]=n[0][3]),(i[0]<s[0]||i[0]>s[1]||i[1]<s[2]||i[1]>s[3]||t&&(i[2]<s[4]||i[2]>s[5]))&&(i.length=0)),!i.length){e.reset(),e.nextPath();const r=e.numPoints?ld(e):null;if(!r)return null;i[0]=r[0],i[1]=r[1],t&&r.length>2&&(i[2]=r[2])}return i}function ld(e){const{hasZ:t}=e,r=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(e.nextPoint()){let l=e.x,u=e.y,c=e.z;for(;e.nextPoint();){const d=e.x,h=e.y,f=e.z;r[0]=l,r[1]=u,i[0]=d,i[1]=h,t&&(r[2]=c,i[2]=f);const p=Uc(r,i);if(p){n+=p;const e=Zc(r,i);s+=p*e[0],o+=p*e[1],t&&e.length>2&&(a+=p*e[2])}l=d,u=h,c=f}}return n>0?t?[s/n,o/n,a/n]:[s/n,o/n]:e.numPoints?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const ud=1e-6;function cd(e){let t=0;for(e.reset();e.nextPath();)t+=td(e);if(t<ud){const t=ad(e);return t?[t[0],t[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const i=[e.x,e.y];for(e.reset();e.nextPath();)hd(r,i,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=i[0],r[1]+=i[1],r}const dd=1/3;function hd(e,t,r){if(!e||!r||r.numPoints<3)return null;r.nextPoint();const i=r.x,n=r.y;r.nextPoint();let s,o=r.x-i,a=r.y-n,l=0,u=0;for(;r.nextPoint();)l=r.x-i,u=r.y-n,s=.5*dd*(l*a-u*o),e[0]+=s*(o+l),e[1]+=s*(a+u),o=l,a=u;const c=td(r),d=[i,n];return d[0]-=t[0],d[1]-=t[1],d[0]*=c,d[1]*=c,e[0]+=d[0],e[1]+=d[1],e}function fd(){return[0,0,0]}function pd(e){return[e[0],e[1],e[2]]}function yd(e,t,r){return[e,t,r]}function md(e){const t=fd(),r=Math.min(3,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function vd(e,t){return new Float64Array(e,t,3)}function gd(){return fd()}function bd(){return yd(1,1,1)}function wd(){return yd(1,0,0)}function Sd(){return yd(0,1,0)}function xd(){return yd(0,0,1)}const jd=gd(),Td=bd(),Id=wd(),Md=Sd(),Ed=xd();Object.freeze(Object.defineProperty({__proto__:null,ONES:Td,UNIT_X:Id,UNIT_Y:Md,UNIT_Z:Ed,ZEROS:jd,clone:pd,create:fd,createView:vd,fromArray:md,fromValues:yd,ones:bd,unitX:wd,unitY:Sd,unitZ:xd,zeros:gd},Symbol.toStringTag,{value:"Module"}));let Fd=1e-6;function kd(){return Fd}function Ad(e){Fd=e}const Cd=Math.random,Od=Math.PI/180,Pd=180/Math.PI;function Dd(e){return e*Od}function Rd(e){return e*Pd}function Nd(e,t){return Math.abs(e-t)<=Fd*Math.max(1,Math.abs(e),Math.abs(t))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:Cd,equals:Nd,getEpsilon:kd,setEpsilon:Ad,toDegree:Rd,toRadian:Dd},Symbol.toStringTag,{value:"Module"}));function $d(e){const t=e[0],r=e[1],i=e[2];return Math.sqrt(t*t+r*r+i*i)}function Ld(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _d(e,t,r,i){return e[0]=t,e[1]=r,e[2]=i,e}function qd(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Vd(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function zd(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Wd(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Ud(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Gd(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function Bd(e,t){return e[0]=Math.abs(t[0]),e[1]=Math.abs(t[1]),e[2]=Math.abs(t[2]),e}function Hd(e,t){return e[0]=Math.sign(t[0]),e[1]=Math.sign(t[1]),e[2]=Math.sign(t[2]),e}function Jd(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function Zd(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Qd(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function Kd(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Yd(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e}function Xd(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return Math.sqrt(r*r+i*i+n*n)}function eh(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2];return r*r+i*i+n*n}function th(e){const t=e[0],r=e[1],i=e[2];return t*t+r*r+i*i}function rh(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function ih(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function nh(e,t){const r=t[0],i=t[1],n=t[2];let s=r*r+i*i+n*n;return s>0&&(s=1/Math.sqrt(s),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s),e}function sh(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function oh(e,t,r){const i=t[0],n=t[1],s=t[2],o=r[0],a=r[1],l=r[2];return e[0]=n*l-s*a,e[1]=s*o-i*l,e[2]=i*a-n*o,e}function ah(e,t,r,i){const n=t[0],s=t[1],o=t[2];return e[0]=n+i*(r[0]-n),e[1]=s+i*(r[1]-s),e[2]=o+i*(r[2]-o),e}function lh(e,t,r,i,n,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,u=o*(s-1),c=o*(3-2*s);return e[0]=t[0]*a+r[0]*l+i[0]*u+n[0]*c,e[1]=t[1]*a+r[1]*l+i[1]*u+n[1]*c,e[2]=t[2]*a+r[2]*l+i[2]*u+n[2]*c,e}function uh(e,t,r,i,n,s){const o=1-s,a=o*o,l=s*s,u=a*o,c=3*s*a,d=3*l*o,h=l*s;return e[0]=t[0]*u+r[0]*c+i[0]*d+n[0]*h,e[1]=t[1]*u+r[1]*c+i[1]*d+n[1]*h,e[2]=t[2]*u+r[2]*c+i[2]*d+n[2]*h,e}function ch(e,t){t=t||1;const r=Cd,i=2*r()*Math.PI,n=2*r()-1,s=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(i)*s,e[1]=Math.sin(i)*s,e[2]=n*t,e}function dh(e,t,r){const i=t[0],n=t[1],s=t[2];return e[0]=r[0]*i+r[4]*n+r[8]*s+r[12],e[1]=r[1]*i+r[5]*n+r[9]*s+r[13],e[2]=r[2]*i+r[6]*n+r[10]*s+r[14],e}function hh(e,t,r){const i=t[0],n=t[1],s=t[2];return e[0]=i*r[0]+n*r[3]+s*r[6],e[1]=i*r[1]+n*r[4]+s*r[7],e[2]=i*r[2]+n*r[5]+s*r[8],e}function fh(e,t,r){const i=r[0],n=r[1],s=r[2],o=r[3],a=t[0],l=t[1],u=t[2];let c=n*u-s*l,d=s*a-i*u,h=i*l-n*a,f=n*h-s*d,p=s*c-i*h,y=i*d-n*c;const m=2*o;return c*=m,d*=m,h*=m,f*=2,p*=2,y*=2,e[0]=a+c+f,e[1]=l+d+p,e[2]=u+h+y,e}function ph(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[0],s[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),s[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function yh(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),s[1]=n[1],s[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function mh(e,t,r,i){const n=[],s=[];return n[0]=t[0]-r[0],n[1]=t[1]-r[1],n[2]=t[2]-r[2],s[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),s[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),s[2]=n[2],e[0]=s[0]+r[0],e[1]=s[1]+r[1],e[2]=s[2]+r[2],e}function vh(e,t){Ld(gh,e),Ld(bh,t),nh(gh,gh),nh(bh,bh);const r=sh(gh,bh);return r>1?0:r<-1?Math.PI:Math.acos(r)}const gh=fd(),bh=fd();function wh(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Sh(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function xh(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],s=t[0],o=t[1],a=t[2],l=kd();return Math.abs(r-s)<=l*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(i-o)<=l*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-a)<=l*Math.max(1,Math.abs(n),Math.abs(a))}function jh(e,t,r){const i=r[0]-t[0],n=r[1]-t[1],s=r[2]-t[2];let o=i*i+n*n+s*s;return o>0?(o=1/Math.sqrt(o),e[0]=i*o,e[1]=n*o,e[2]=s*o,e):(e[0]=0,e[1]=0,e[2]=0,e)}const Th=Vd,Ih=zd,Mh=Wd,Eh=Xd,Fh=eh,kh=$d,Ah=th;Object.freeze(Object.defineProperty({__proto__:null,abs:Bd,add:qd,angle:vh,bezier:uh,ceil:Ud,copy:Ld,cross:oh,direction:jh,dist:Eh,distance:Xd,div:Mh,divide:Wd,dot:sh,equals:xh,exactEquals:Sh,floor:Gd,hermite:lh,inverse:ih,len:kh,length:$d,lerp:ah,max:Zd,min:Jd,mul:Ih,multiply:zd,negate:rh,normalize:nh,random:ch,rotateX:ph,rotateY:yh,rotateZ:mh,round:Qd,scale:Kd,scaleAndAdd:Yd,set:_d,sign:Hd,sqrDist:Fh,sqrLen:Ah,squaredDistance:eh,squaredLength:th,str:wh,sub:Th,subtract:Vd,transformMat3:hh,transformMat4:dh,transformQuat:fh},Symbol.toStringTag,{value:"Module"}));function Ch(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Oh(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}function Ph(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function Dh(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Rh(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function Nh(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function $h(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Lh(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function _h(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function qh(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Vh(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function zh(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Wh(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e}function Uh(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+i*i+n*n+s*s)}function Gh(e,t){const r=t[0]-e[0],i=t[1]-e[1],n=t[2]-e[2],s=t[3]-e[3];return r*r+i*i+n*n+s*s}function Bh(e){const t=e[0],r=e[1],i=e[2],n=e[3];return Math.sqrt(t*t+r*r+i*i+n*n)}function Hh(e){const t=e[0],r=e[1],i=e[2],n=e[3];return t*t+r*r+i*i+n*n}function Jh(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function Zh(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function Qh(e,t){const r=t[0],i=t[1],n=t[2],s=t[3];let o=r*r+i*i+n*n+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=i*o,e[2]=n*o,e[3]=s*o),e}function Kh(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Yh(e,t,r,i){const n=t[0],s=t[1],o=t[2],a=t[3];return e[0]=n+i*(r[0]-n),e[1]=s+i*(r[1]-s),e[2]=o+i*(r[2]-o),e[3]=a+i*(r[3]-a),e}function Xh(e,t){const r=Cd;let i,n,s,o,a,l;t=t||1;do{i=2*r()-1,n=2*r()-1,a=i*i+n*n}while(a>=1);do{s=2*r()-1,o=2*r()-1,l=s*s+o*o}while(l>=1);const u=Math.sqrt((1-a)/l);return e[0]=t*i,e[1]=t*n,e[2]=t*s*u,e[3]=t*o*u,e}function ef(e,t,r){const i=t[0],n=t[1],s=t[2],o=t[3];return e[0]=r[0]*i+r[4]*n+r[8]*s+r[12]*o,e[1]=r[1]*i+r[5]*n+r[9]*s+r[13]*o,e[2]=r[2]*i+r[6]*n+r[10]*s+r[14]*o,e[3]=r[3]*i+r[7]*n+r[11]*s+r[15]*o,e}function tf(e,t,r){const i=t[0],n=t[1],s=t[2],o=r[0],a=r[1],l=r[2],u=r[3],c=u*i+a*s-l*n,d=u*n+l*i-o*s,h=u*s+o*n-a*i,f=-o*i-a*n-l*s;return e[0]=c*u+f*-o+d*-l-h*-a,e[1]=d*u+f*-a+h*-o-c*-l,e[2]=h*u+f*-l+c*-a-d*-o,e[3]=t[3],e}function rf(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function nf(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function sf(e,t){const r=e[0],i=e[1],n=e[2],s=e[3],o=t[0],a=t[1],l=t[2],u=t[3],c=kd();return Math.abs(r-o)<=c*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(i-a)<=c*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(n-l)<=c*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-u)<=c*Math.max(1,Math.abs(s),Math.abs(u))}const of=Dh,af=Rh,lf=Nh,uf=Uh,cf=Gh,df=Bh,hf=Hh;Object.freeze(Object.defineProperty({__proto__:null,add:Ph,ceil:$h,copy:Ch,dist:uf,distance:Uh,div:lf,divide:Nh,dot:Kh,equals:sf,exactEquals:nf,floor:Lh,inverse:Zh,len:df,length:Bh,lerp:Yh,max:qh,min:_h,mul:af,multiply:Rh,negate:Jh,normalize:Qh,random:Xh,round:Vh,scale:zh,scaleAndAdd:Wh,set:Oh,sqrDist:cf,sqrLen:hf,squaredDistance:Gh,squaredLength:Hh,str:rf,sub:of,subtract:Dh,transformMat4:ef,transformQuat:tf},Symbol.toStringTag,{value:"Module"}));const ff=new Float32Array(1);function pf(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1}function yf(e,t,r){return Math.min(Math.max(e,t),r)}function mf(e){return 0==(e&e-1)}function vf(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}function gf(e,t,r){return e+(t-e)*r}function bf(e){return e*Math.PI/180}function wf(e){return 180*e/Math.PI}function Sf(e){return Math.acos(yf(e,-1,1))}function xf(e){return Math.asin(yf(e,-1,1))}function jf(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;return(e>t?e-t:t-e)<=r}const Tf=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function If(e){return Tf.setFloat64(0,e),Tf.getBigInt64(0)}function Mf(e){return Tf.setBigInt64(0,e),Tf.getFloat64(0)}const Ef=BigInt("1000000");Ff(1);function Ff(e){const t=If(e=Math.abs(e)),r=Mf(t<=Ef?Ef:t-Ef);return Math.abs(e-r)}function kf(e){return Af(Math.max(-Pf,Math.min(e,Pf)))}function Af(e){return ff[0]=e,ff[0]}function Cf(e,t){const r=$d(e),i=xf(e[2]/r),n=Math.atan2(e[1]/r,e[0]/r);return _d(t,r,i,n),t}function Of(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],i=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(jf(t,1)&&jf(r,1)&&jf(i,1))}const Pf=Af(34028234663852886e22);function Df(e){return e}function Rf(e=ep){return Df([e[0],e[1],e[2],e[3]])}function Nf(e){return Df([e[0],e[1],e[2],e[3]])}function $f(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function Lf(e,t,r,i,n=Rf()){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function _f(e,t=Rf()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function qf(e,t){return new Rc({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function Vf(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function zf(e,t,r){if(null!=t)if("length"in t)Kf(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else $f(r,e)}function Wf(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function Uf(e){return e[1]>=e[3]?0:e[3]-e[1]}function Gf(e){return Wf(e)*Uf(e)}function Bf(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function Hf(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r}function Jf(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function Zf(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}function Qf(e){return e?$f(e,Xf):Rf(Xf)}function Kf(e){return null!=e&&4===e.length}function Yf(e,t){return Kf(e)&&Kf(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t}const Xf=Df([1/0,1/0,-1/0,-1/0]),ep=Df([0,0,0,0]);function tp(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function rp(e){return void 0!==e.points}function ip(e){return void 0!==e.x&&void 0!==e.y}function np(e){return void 0!==e.paths}function sp(e){return void 0!==e.rings}function op(e){function t(t,r){return null==t?r:null==r?t:e(t,r)}return t}const ap=op(Math.min),lp=op(Math.max);function up(e,t){return np(t)?fp(e,t.paths,!1,!1):sp(t)?fp(e,t.rings,!1,!1):rp(t)?yp(e,t.points,!1,!1,!1,!1):tp(t)?pp(e,t):(ip(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)}function cp(e){let t,r,i,n;for(e.reset(),t=i=1/0,r=n=-1/0;e.nextPath();){const s=dp(e);t=Math.min(s[0],t),i=Math.min(s[1],i),r=Math.max(s[2],r),n=Math.max(s[3],n)}return Rf([t,i,r,n])}function dp(e){let t,r,i,n;for(t=i=1/0,r=n=-1/0;e.nextPoint();)t=Math.min(e.x,t),i=Math.min(e.y,i),r=Math.max(e.x,r),n=Math.max(e.y,n);return Rf([t,i,r,n])}function hp(e,t){return np(t)?fp(e,t.paths,!0,!1):sp(t)?fp(e,t.rings,!0,!1):rp(t)?yp(e,t.points,!0,!1,!0,!1):tp(t)?pp(e,t,!0,!1,!0,!1):(ip(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)}function fp(e,t,r,i){const n=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,l,[u,c]=t[0][0],[d,h]=t[0][0];for(let e=0;e<t.length;e++){const f=t[e];for(let e=0;e<f.length;e++){const t=f[e],[p,y]=t;if(u=ap(u,p),c=ap(c,y),d=lp(d,p),h=lp(h,y),r&&t.length>2){const e=t[2];s=ap(s,e),o=lp(o,e)}if(i&&t.length>n){const e=t[n];a=ap(s,e),l=lp(o,e)}}}return r?i?(e[0]=u,e[1]=c,e[2]=s,e[3]=a,e[4]=d,e[5]=h,e[6]=o,e[7]=l,e.length=8,e):(e[0]=u,e[1]=c,e[2]=s,e[3]=d,e[4]=h,e[5]=o,e.length=6,e):i?(e[0]=u,e[1]=c,e[2]=a,e[3]=d,e[4]=h,e[5]=l,e.length=6,e):(e[0]=u,e[1]=c,e[2]=d,e[3]=h,e.length=4,e)}function pp(e,t,r,i,n,s){const o=t.xmin,a=t.xmax,l=t.ymin,u=t.ymax;let c=t.zmin,d=t.zmax,h=t.mmin,f=t.mmax;return n?(c=c||0,d=d||0,s?(h=h||0,f=f||0,e[0]=o,e[1]=l,e[2]=c,e[3]=h,e[4]=a,e[5]=u,e[6]=d,e[7]=f,e):(e[0]=o,e[1]=l,e[2]=c,e[3]=a,e[4]=u,e[5]=d,e)):s?(h=h||0,f=f||0,e[0]=o,e[1]=l,e[2]=h,e[3]=a,e[4]=u,e[5]=f,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=u,e)}function yp(e,t,r,i,n,s){const o=r?3:2,a=i&&s,l=r&&n;if(!t.length||!t[0].length)return null;let u,c,d,h,[f,p]=t[0],[y,m]=t[0];for(let e=0;e<t.length;e++){const r=t[e],[i,n]=r;if(f=ap(f,i),p=ap(p,n),y=lp(y,i),m=lp(m,n),l&&r.length>2){const e=r[2];u=ap(u,e),c=lp(c,e)}if(a&&r.length>o){const e=r[o];d=ap(u,e),h=lp(c,e)}}return n?(u=u||0,c=c||0,s?(d=d||0,h=h||0,e[0]=f,e[1]=p,e[2]=u,e[3]=d,e[4]=y,e[5]=m,e[6]=c,e[7]=h,e):(e[0]=f,e[1]=p,e[2]=u,e[3]=y,e[4]=m,e[5]=c,e)):s?(d=d||0,h=h||0,e[0]=f,e[1]=p,e[2]=d,e[3]=y,e[4]=m,e[5]=h,e):(e[0]=f,e[1]=p,e[2]=y,e[3]=m,e)}function mp(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function vp(e){return void 0!==e.points}function gp(e){return void 0!==e.x&&void 0!==e.y}function bp(e){return void 0!==e.paths}function wp(e){return void 0!==e.rings}const Sp=[];function xp(e,t,r,i){return{xmin:e,ymin:t,xmax:r,ymax:i}}function jp(e,t,r,i,n,s){return{xmin:e,ymin:t,zmin:r,xmax:i,ymax:n,zmax:s}}function Tp(e,t,r,i,n,s){return{xmin:e,ymin:t,mmin:r,xmax:i,ymax:n,mmax:s}}function Ip(e,t,r,i,n,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:i,xmax:n,ymax:s,zmax:o,mmax:a}}function Mp(e,t=!1,r=!1){return t?r?Ip(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):jp(e[0],e[1],e[2],e[3],e[4],e[5]):r?Tp(e[0],e[1],e[2],e[3],e[4],e[5]):xp(e[0],e[1],e[2],e[3])}function Ep(e){return e?mp(e)?e:gp(e)?kp(e):wp(e)?Ap(e):bp(e)?Cp(e):vp(e)?Fp(e):null:null}function Fp(e){const{hasZ:t,hasM:r,points:i}=e;return Mp(yp(Sp,i,t??!1,r??!1),t,r)}function kp(e){const{x:t,y:r,z:i,m:n}=e,s=null!=n;return null!=i?s?Ip(t,r,i,n,t,r,i,n):jp(t,r,i,t,r,i):s?Tp(t,r,n,t,r,n):xp(t,r,t,r)}function Ap(e){const{hasZ:t,hasM:r,rings:i}=e,n=fp(Sp,i,t??!1,r??!1);return n?Mp(n,t,r):null}function Cp(e){const{hasZ:t,hasM:r,paths:i}=e,n=fp(Sp,i,t??!1,r??!1);return n?Mp(n,t,r):null}var Op;function Pp(e){return!Array.isArray(e[0])}let Dp=Op=class extends Au{static fromExtent(e){const t=e.clone().normalize(),r=e.spatialReference;let i=!1,n=!1;for(const e of t)e.hasZ&&(i=!0),e.hasM&&(n=!0);const s={rings:t.map((e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(i&&e.hasZ){const r=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(n&&e.hasM){const r=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t})),spatialReference:r};return i&&(s.hasZ=!0),n&&(s.hasM=!0),new Op(s)}constructor(...e){super(...e),this.rings=[],this.type="polygon"}normalizeCtorArgs(e,t){let r,i,n=null,s=null;return e&&!Array.isArray(e)?(n=e.rings??null,t||(e.spatialReference?t=e.spatialReference:e.rings||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||Fu.WGS84,n.length&&n[0]&&null!=n[0][0]&&"number"==typeof n[0][0]&&(n=[n]),s=n[0]&&n[0][0],s&&(void 0===r&&void 0===i?(r=s.length>2,i=s.length>3):void 0===r?r=i?s.length>3:s.length>2:void 0===i&&(i=r?s.length>3:s.length>2)),{rings:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const e=id(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new tc;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}get extent(){const{spatialReference:e}=this,t=Ap(this);if(!t)return null;const r=new Rc(t);return r.spatialReference=e,r}get isSelfIntersecting(){return Ec(this.rings)}writeRings(e,t){t.rings=V(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(Pp(e)){const i=[];for(let t=0,r=e.length;t<r;t++)i[t]=e[t].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("rings"),this}clone(){const e=new Op;return e.spatialReference=this.spatialReference,e.rings=V(this.rings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,r=e.spatialReference;if(null!=t!=(null!=r))return!1;if(null!=t&&null!=r&&!t.equals(r))return!1;if(this.rings.length!==e.rings.length)return!1;const i=([e,t,r,i],[n,s,o,a])=>e===n&&t===s&&(null==r&&null==o||r===o)&&(null==i&&null==a||i===a);for(let t=0;t<this.rings.length;t++){const r=this.rings[t],n=e.rings[t];if(!s(r,n,i))return!1}return!0}contains(e){if(!e)return!1;const t=Bu(e,this.spatialReference);return uc(this,null!=t?t:e)}isClockwise(e){let t;return t=Pp(e)?e.map((e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y])):e,Qc(t,this.hasM,this.hasZ)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new tc(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new tc(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new tc(r[0],r[1],r[2],r[3],this.spatialReference):new tc(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Nc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new tc(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,i=t.map((e=>new tc(e,r)));return this.notifyChange("rings"),i}setPoint(e,t,r){return this._validateInputs(e,t)?(Nc(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const i=this.rings[e];if(r&&(t<0||t>i.length))return!1;if(!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};ji([Cn({readOnly:!0})],Dp.prototype,"cache",null),ji([Cn({readOnly:!0})],Dp.prototype,"centroid",null),ji([Cn({readOnly:!0})],Dp.prototype,"extent",null),ji([Cn({readOnly:!0})],Dp.prototype,"isSelfIntersecting",null),ji([Cn({type:[[[Number]]],json:{write:{isRequired:!0}}})],Dp.prototype,"rings",void 0),ji([Iu("rings")],Dp.prototype,"writeRings",null),Dp=Op=ji([zs("esri.geometry.Polygon")],Dp),Dp.prototype.toJSON.isDefaultToJSON=!0;const Rp=Dp;var Np;function $p(e){return!Array.isArray(e[0])}let Lp=Np=class extends Au{constructor(...e){super(...e),this.paths=[],this.type="polyline"}normalizeCtorArgs(e,t){let r,i,n=null,s=null;return e&&!Array.isArray(e)?(n=e.paths??null,t||(e.spatialReference?t=e.spatialReference:e.paths||(t=e)),r=e.hasZ,i=e.hasM):n=e,n=n||[],t=t||Fu.WGS84,n.length&&n[0]&&null!=n[0][0]&&"number"==typeof n[0][0]&&(n=[n]),s=n[0]&&n[0][0],s&&(void 0===r&&void 0===i?(r=s.length>2,i=!1):void 0===r?r=!i&&s.length>3:void 0===i&&(i=!r&&s.length>3)),{paths:n,spatialReference:t,hasZ:r,hasM:i}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:e}=this,t=Cp(this);if(!t)return null;const r=new Rc(t);return r.spatialReference=e,r}writePaths(e,t){t.paths=V(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if($p(e)){const i=[];for(let t=0,r=e.length;t<r;t++)i[t]=e[t].toArray();t[r]=i}else t[r]=e.concat();return this.notifyChange("paths"),this}clone(){const e=new Np;return e.spatialReference=this.spatialReference,e.paths=V(this.paths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],i=this.hasZ,n=this.hasM;return i&&!n?new tc(r[0],r[1],r[2],void 0,this.spatialReference):n&&!i?new tc(r[0],r[1],void 0,r[2],this.spatialReference):i&&n?new tc(r[0],r[1],r[2],r[3],this.spatialReference):new tc(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(Nc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,i=t.map((e=>new tc(e,r)));return this.notifyChange("paths"),i}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new tc(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(Nc(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const i=this.paths[e];if(r&&(t<0||t>i.length))return!1;if(!r&&(t<0||t>=i.length))return!1}return!0}toJSON(e){return this.write({},e)}};ji([Cn({readOnly:!0})],Lp.prototype,"cache",null),ji([Cn({readOnly:!0})],Lp.prototype,"extent",null),ji([Cn({type:[[[Number]]],json:{write:{isRequired:!0}}})],Lp.prototype,"paths",void 0),ji([Iu("paths")],Lp.prototype,"writePaths",null),Lp=Np=ji([zs("esri.geometry.Polyline")],Lp),Lp.prototype.toJSON.isDefaultToJSON=!0;const _p=Lp;const qp=sl()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Vp=sl()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function zp(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function Wp(e){return void 0!==e.points}function Up(e){return void 0!==e.x&&void 0!==e.y}function Gp(e){return void 0!==e.paths}function Bp(e){return void 0!==e.rings}function Hp(e){return null==e?null:e instanceof Au?e:Up(e)?tc.fromJSON(e):Gp(e)?_p.fromJSON(e):Bp(e)?Rp.fromJSON(e):Wp(e)?Vc.fromJSON(e):zp(e)?Rc.fromJSON(e):null}function Jp(e){return e?Up(e)?"esriGeometryPoint":Gp(e)?"esriGeometryPolyline":Bp(e)?"esriGeometryPolygon":zp(e)?"esriGeometryEnvelope":Wp(e)?"esriGeometryMultipoint":null:null}const Zp={esriGeometryPoint:tc,esriGeometryPolyline:_p,esriGeometryPolygon:Rp,esriGeometryEnvelope:Rc,esriGeometryMultipoint:Vc};function Qp(e){return e&&Zp[e]||null}const Kp={base:Au,key:"type",typeMap:{extent:Rc,multipoint:Vc,point:tc,polyline:_p,polygon:Rp}};Ki(Kp);const Yp=e=>{let t=class extends e{clone(){const e=ge(ln(this),"unable to clone instance of non-accessor class"),t=e.metadatas,r=e.store,i={},n=new Map;for(const e in t){const s=t[e],o=r?.originOf(e),a=s.clonable;if(s.readOnly||!1===a||o!==to.USER&&o!==to.DEFAULTS&&o!==to.WEB_MAP&&o!==to.WEB_SCENE)continue;const l=this[e];let u=null;u="function"==typeof a?a(l):"reference"===a?l:z(l),null!=l&&null==u||(o===to.DEFAULTS?n.set(e,u):i[e]=u)}const s=new(Object.getPrototypeOf(this).constructor)(i);if(n.size){const e=ln(s)?.store;if(e)for(const[t,r]of n)e.set(t,r,to.DEFAULTS)}return s}};return t=ji([zs("esri.core.Clonable")],t),t};let Xp=class extends(Yp($a)){};Xp=ji([zs("esri.core.Clonable")],Xp);class ey{constructor(){this._emitter=new ey.EventEmitter(this)}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}}!function(e){class t{constructor(e=null){this._target=e,this._listenersMap=null}clear(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clear()}emit(e,t){const r=this._listenersMap&&this._listenersMap.get(e);if(!r)return!1;const i=this._target||this;return[...r].forEach((e=>{e.call(i,t)})),r.length>0}on(e,t){if(Array.isArray(e)){const r=e.map((e=>this.on(e,t)));return on(r)}if(e.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap||(this._listenersMap=new Map);const r=this._listenersMap.get(e)||[];return r.push(t),this._listenersMap.set(e,r),{remove:()=>{const r=this._listenersMap&&this._listenersMap.get(e)||[],i=r.indexOf(t);i>=0&&r.splice(i,1)}}}once(e,t){const r=this.on(e,(e=>{r.remove(),t.call(null,e)}));return r}hasEventListener(e){const t=this._listenersMap&&this._listenersMap.get(e);return null!=t&&t.length>0}}e.EventEmitter=t,e.EventedMixin=e=>{let r=class extends e{constructor(){super(...arguments),this._emitter=new t}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};return r=ji([zs("esri.core.Evented")],r),r};let r=class extends $a{constructor(){super(...arguments),this._emitter=new ey.EventEmitter(this)}destroy(){this._emitter.clear()}emit(e,t){return this._emitter.emit(e,t)}on(e,t){return this._emitter.on(e,t)}once(e,t){return this._emitter.once(e,t)}hasEventListener(e){return this._emitter.hasEventListener(e)}};r=ji([zs("esri.core.Evented")],r),e.EventedAccessor=r}(ey||(ey={}));const ty=ey;var ry;!function(e){e[e.ADD=1]="ADD",e[e.REMOVE=2]="REMOVE",e[e.MOVE=4]="MOVE"}(ry||(ry={}));function iy(e){return(t,r)=>{t[r]=e}}class ny extends Xs{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}var sy;class oy{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}}const ay=new Ks(oy,void 0,(e=>{e.item=null,e.target=null,e.defaultPrevented=!1,e.cancellable=!1})),ly=()=>{};function uy(e){return e?e instanceof gy?e.toArray():e.length?Array.prototype.slice.apply(e):[]:[]}function cy(e){if(e&&e.length)return e[0]}function dy(e,t,r,i){const n=Math.min(e.length-r,t.length-i);let s=0;for(;s<n&&e[r+s]===t[i+s];)s++;return s}function hy(e,t,r,i){t&&t.forEach(((t,n,s)=>{e.push(t),hy(e,r.call(i,t,n,s),r,i)}))}const fy=new Set,py=new Set,yy=new Set,my=new Map;let vy=0,gy=sy=class extends ty.EventedAccessor{static isCollection(e){return null!=e&&e instanceof sy}constructor(e){super(e),this._chgListeners=[],this._notifications=null,this._timer=null,this._observable=new ny,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:vy++})}normalizeCtorArgs(e){return e?Array.isArray(e)||e instanceof sy?{items:e}:e:{}}destroy(){this._removeAllRaw()}*[Symbol.iterator](){yield*this.items}get items(){return Vn(this._observable),this._items}set items(e){this._emitBeforeChanges(ry.ADD)||(this._splice(0,this.length,uy(e)),this._emitAfterChanges(ry.ADD))}hasEventListener(e){return"change"===e?this._chgListeners.length>0:this._emitter.hasEventListener(e)}on(e,t){if("change"===e){const e=this._chgListeners,r={removed:!1,callback:t};return e.push(r),this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]}),{remove(){this.remove=ly,r.removed=!0,e.splice(e.indexOf(r),1)}}}return this._emitter.on(e,t)}once(e,t){const r=this.on(e,t);return{remove(){r.remove()}}}add(e,t){if(Vn(this._observable),this._emitBeforeChanges(ry.ADD))return this;const r=this.getNextIndex(t??null);return this._splice(r,0,[e]),this._emitAfterChanges(ry.ADD),this}addMany(e,t=this._items.length){if(Vn(this._observable),!e||!e.length)return this;if(this._emitBeforeChanges(ry.ADD))return this;const r=this.getNextIndex(t);return this._splice(r,0,uy(e)),this._emitAfterChanges(ry.ADD),this}at(e){if(Vn(this._observable),(e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this._items[e]}removeAll(){if(Vn(this._observable),!this.length||this._emitBeforeChanges(ry.REMOVE))return[];const e=this._removeAllRaw();return this._emitAfterChanges(ry.REMOVE),e}_removeAllRaw(){return 0===this.length?[]:this._splice(0,this.length)||[]}clone(){return Vn(this._observable),this._createNewInstance({items:this._items.map(V)})}concat(...e){Vn(this._observable);const t=e.map(uy);return this._createNewInstance({items:this._items.concat(...t)})}drain(e,t){if(Vn(this._observable),!this.length||this._emitBeforeChanges(ry.REMOVE))return;const r=ke(this._splice(0,this.length)),i=r.length;for(let n=0;n<i;n++)e.call(t,r[n],n,r);this._emitAfterChanges(ry.REMOVE)}every(e,t){return Vn(this._observable),this._items.every(e,t)}filter(e,t){let r;return Vn(this._observable),r=2===arguments.length?this._items.filter(e,t):this._items.filter(e),this._createNewInstance({items:r})}find(e,t){return Vn(this._observable),this._items.find(e,t)}findIndex(e,t){return Vn(this._observable),this._items.findIndex(e,t)}flatten(e,t){Vn(this._observable);const r=[];return hy(r,this,e,t),new sy(r)}forEach(e,t){return Vn(this._observable),this._items.forEach(e,t)}getItemAt(e){return Vn(this._observable),this._items[e]}getNextIndex(e){Vn(this._observable);const t=this.length;return(e=e??t)<0?e=0:e>t&&(e=t),e}includes(e,t=0){return Vn(this._observable),this._items.includes(e,t)}indexOf(e,t=0){return Vn(this._observable),this._items.indexOf(e,t)}join(e=","){return Vn(this._observable),this._items.join(e)}lastIndexOf(e,t=this.length-1){return Vn(this._observable),this._items.lastIndexOf(e,t)}map(e,t){Vn(this._observable);const r=this._items.map(e,t);return new sy({items:r})}reorder(e,t=this.length-1){Vn(this._observable);const r=this.indexOf(e);if(-1!==r){if(t<0?t=0:t>=this.length&&(t=this.length-1),r!==t){if(this._emitBeforeChanges(ry.MOVE))return e;this._splice(r,1),this._splice(t,0,[e]),this._emitAfterChanges(ry.MOVE)}return e}}pop(){if(Vn(this._observable),!this.length||this._emitBeforeChanges(ry.REMOVE))return;const e=cy(this._splice(this.length-1,1));return this._emitAfterChanges(ry.REMOVE),e}push(...e){return Vn(this._observable),this._emitBeforeChanges(ry.ADD)||(this._splice(this.length,0,e),this._emitAfterChanges(ry.ADD)),this.length}reduce(e,t){Vn(this._observable);const r=this._items;return 2===arguments.length?r.reduce(e,t):r.reduce(e)}reduceRight(e,t){Vn(this._observable);const r=this._items;return 2===arguments.length?r.reduceRight(e,t):r.reduceRight(e)}remove(e){return Vn(this._observable),this.removeAt(this.indexOf(e))}removeAt(e){if(Vn(this._observable),e<0||e>=this.length||this._emitBeforeChanges(ry.REMOVE))return;const t=cy(this._splice(e,1));return this._emitAfterChanges(ry.REMOVE),t}removeMany(e){if(Vn(this._observable),!e||!e.length||this._emitBeforeChanges(ry.REMOVE))return[];const t=e instanceof sy?e.toArray():e,r=this._items,i=[],n=t.length;for(let e=0;e<n;e++){const n=t[e],s=r.indexOf(n);if(s>-1){const n=1+dy(t,r,e+1,s+1),o=this._splice(s,n);o&&o.length>0&&i.push.apply(i,o),e+=n-1}}return this._emitAfterChanges(ry.REMOVE),i}reverse(){if(Vn(this._observable),this._emitBeforeChanges(ry.MOVE))return this;const e=this._splice(0,this.length);return e&&(e.reverse(),this._splice(0,0,e)),this._emitAfterChanges(ry.MOVE),this}shift(){if(Vn(this._observable),!this.length||this._emitBeforeChanges(ry.REMOVE))return;const e=cy(this._splice(0,1));return this._emitAfterChanges(ry.REMOVE),e}slice(e=0,t=this.length){return Vn(this._observable),this._createNewInstance({items:this._items.slice(e,t)})}some(e,t){return Vn(this._observable),this._items.some(e,t)}sort(e){if(Vn(this._observable),!this.length||this._emitBeforeChanges(ry.MOVE))return this;const t=ke(this._splice(0,this.length));return arguments.length?t.sort(e):t.sort(),this._splice(0,0,t),this._emitAfterChanges(ry.MOVE),this}splice(e,t,...r){Vn(this._observable);const i=(t?ry.REMOVE:0)|(r.length?ry.ADD:0);if(this._emitBeforeChanges(i))return[];const n=this._splice(e,t,r)||[];return this._emitAfterChanges(i),n}toArray(){return Vn(this._observable),this._items.slice()}toJSON(){return Vn(this._observable),this.toArray()}toLocaleString(){return Vn(this._observable),this._items.toLocaleString()}toString(){return Vn(this._observable),this._items.toString()}unshift(...e){return Vn(this._observable),!e.length||this._emitBeforeChanges(ry.ADD)||(this._splice(0,0,e),this._emitAfterChanges(ry.ADD)),this.length}_createNewInstance(e){return new this.constructor(e)}_splice(e,t,r){const i=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=Vo((()=>this._dispatchChange()))),t){if(o=i.splice(e,t),this.hasEventListener("before-remove")){const t=ay.acquire();t.target=this,t.cancellable=!0;for(let r=0,n=o.length;r<n;r++)s=o[r],t.reset(s),this.emit("before-remove",t),t.defaultPrevented&&(o.splice(r,1),i.splice(e,0,s),e+=1,r-=1,n-=1);ay.release(t)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const e=ay.acquire();e.target=this,e.cancellable=!1;const t=o.length;for(let r=0;r<t;r++)e.reset(o[r]),this.emit("after-remove",e);ay.release(e)}}if(r&&r.length){if(n){const e=[];for(const t of r){const r=n.ensureType(t);null==r&&null!=t||e.push(r)}r=e}const t=this.hasEventListener("before-add"),s=this.hasEventListener("after-add"),o=e===this.length;if(t||s){const n=ay.acquire();n.target=this,n.cancellable=!0;const a=ay.acquire();a.target=this,a.cancellable=!1;for(const l of r)t?(n.reset(l),this.emit("before-add",n),n.defaultPrevented||(o?i.push(l):i.splice(e++,0,l),this._set("length",i.length),s&&(a.reset(l),this.emit("after-add",a)))):(o?i.push(l):i.splice(e++,0,l),this._set("length",i.length),a.reset(l),this.emit("after-add",a));ay.release(a),ay.release(n)}else{if(o)for(const e of r)i.push(e);else i.splice(e,0,...r);this._set("length",i.length)}}return(r&&r.length||o&&o.length)&&this._notifyChangeEvent(r,o),o}_emitBeforeChanges(e){let t=!1;if(this.hasEventListener("before-changes")){const r=ay.acquire();r.target=this,r.cancellable=!0,r.type=e,this.emit("before-changes",r),t=r.defaultPrevented,ay.release(r)}return t}_emitAfterChanges(e){if(this.hasEventListener("after-changes")){const t=ay.acquire();t.target=this,t.cancellable=!1,t.type=e,this.emit("after-changes",t),ay.release(t)}this._observable.notify()}_notifyChangeEvent(e,t){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:e,removed:t})}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),!this._notifications)return;const e=this._notifications;this._notifications=null;for(const t of e){const e=t.changes;fy.clear(),py.clear(),yy.clear();for(const{added:t,removed:r}of e){if(t)if(0===yy.size&&0===py.size)for(const e of t)fy.add(e);else for(const e of t)py.has(e)?(yy.add(e),py.delete(e)):yy.has(e)||fy.add(e);if(r)if(0===yy.size&&0===fy.size)for(const e of r)py.add(e);else for(const e of r)fy.has(e)?fy.delete(e):(yy.delete(e),py.add(e))}const r=bo.acquire();fy.forEach((e=>{r.push(e)}));const i=bo.acquire();py.forEach((e=>{i.push(e)}));const n=this._items,s=t.items,o=bo.acquire();if(yy.forEach((e=>{s.indexOf(e)!==n.indexOf(e)&&o.push(e)})),t.listeners&&(r.length||i.length||o.length)){const e={target:this,added:r,removed:i,moved:o},n=t.listeners.length;for(let r=0;r<n;r++){const i=t.listeners[r];i.removed||i.callback.call(this,e)}}bo.release(r),bo.release(i),bo.release(o)}fy.clear(),py.clear(),yy.clear()}};gy.ofType=e=>{if(!e)return sy;if(my.has(e))return my.get(e);let t=null;if("function"==typeof e)t=e.prototype.declaredClass;else if(e.base)t=e.base.prototype.declaredClass;else for(const r in e.typeMap){const i=e.typeMap[r].prototype.declaredClass;t?t+=` | ${i}`:t=i}let r=class extends sy{};return ji([iy({Type:e,ensureType:"function"==typeof e?Wi(e):Ki(e)})],r.prototype,"itemType",void 0),r=ji([zs(`esri.core.Collection<${t}>`)],r),my.set(e,r),r},ji([Cn()],gy.prototype,"length",void 0),ji([Cn()],gy.prototype,"items",null),gy=sy=ji([zs("esri.core.Collection")],gy);const by=gy;var wy;function Sy(e,t){switch(e.type){case"range":{const r="range"in e?e.range[0]:e.minValue,i="range"in e?e.range[1]:e.maxValue;if(null!=r&&+t<r||null!=i&&+t>i)return wy.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(null==e.codedValues||e.codedValues.every((e=>null==e||e.code!==t)))return wy.INVALID_CODED_VALUE}return null}!function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"}(wy||(wy={}));const xy=fe.getLogger("esri.support.arcadeOnDemand");let jy;function Ty(){return jy||(jy=(async()=>{const e=await import("./p-122f2dcc.js").then((function(e){return e.az}));return{arcade:e.arcade,arcadeUtils:e,Dictionary:e.Dictionary,Feature:e.arcadeFeature}})()),jy}const Iy=(e,t,r)=>Fy.create(e,t,r,null,["$feature"],[]),My=(e,t,r)=>Fy.create(e,t,r,null,["$feature","$view"],[]),Ey=(e,t,r,i)=>Fy.create(e,t,r,i,["$feature","$view"],[]);class Fy{constructor(e,t,r,i,n,s,o){this.services=null,this.script=e,this.evaluate=i;const a=Array.isArray(s)?s:s.fields;this.fields=a,this._syntaxTree=r,this._arcade=t,this._arcadeFeature=n,this._spatialReference=o,this._referencesGeometry=t.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,t,r,i,n,s){const{arcade:o,Feature:a,Dictionary:l}=await Ty(),u=Fu.fromJSON(t);let c;try{c=o.parseScript(e,s)}catch(t){return xy.error(new me("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})),null}const d=n.reduce(((e,t)=>({...e,[t]:null})),{});let h=null;null!=i&&(h=new l(i),h.immutable=!0,d.$config=null);const f=o.scriptUsesGeometryEngine(c),p=f&&o.enableGeometrySupport(),y=o.scriptUsesFeatureSet(c)&&o.enableFeatureSetSupport(),m=o.scriptIsAsync(c),v=m&&o.enableAsyncSupport(),g={vars:d,spatialReference:u,useAsync:!!v};await Promise.all([p,y,v]);const b=new Set;await o.loadDependentModules(b,c,null,m,f);const w=new l;w.immutable=!1,w.setField("scale",0);const S=o.compileScript(c,g),x=(e,t)=>("$view"in e&&e.$view&&(w.setField("scale","object"==typeof e.$view&&"scale"in e.$view?e.$view.scale:void 0),e.$view=w),h&&(e.$config=h),S({vars:e,spatialReference:u,services:t}));return new Fy(e,o,c,x,new a,r,u)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}}const ky=/^([0-9_])/,Ay=/[^a-z0-9_\u0080-\uffff]+/gi;function Cy(e){if(null==e)return null;return e.trim().replaceAll(Ay,"_").replace(ky,"F$1")||null}const Oy=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],Py=["field","normalizationField"];function Dy(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(Ry(Oy,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)Ry(Py,e,t)}function Ry(e,t,r){if(e)for(const i of e){const e=ee(i,t),n=e&&"function"!=typeof e&&r.get(e);n&&te(i,n.name,t)}}function Ny(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),i=t.get(e.endField);e.startField=r?.name??null,e.endField=i?.name??null}else{const r=t.get(e.startTimeField),i=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=i?.name??null}}const $y=new Set;function Ly(e,t){return e&&t?($y.clear(),_y($y,e,t),Array.from($y).sort()):[]}function _y(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const i of r)qy(e,t,i);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)null!=t&&e.add(t)}}function qy(e,t,r){if("string"==typeof r)if(t){const i=t.get(r);i&&e.add(i.name)}else e.add(r)}function Vy(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map((e=>e.name)):t}async function zy(e,t,r){if(!r)return;const{arcadeUtils:i}=await Ty(),n=i.extractFieldNames(r,t?.fields?.map((e=>e.name)));for(const r of n)qy(e,t,r)}async function Wy(e,t,r){if(r&&"1=1"!==r){const{WhereClause:i}=await import("./p-b8ded059.js").then((function(e){return e.W})),n=i.create(r,t);if(!n.isStandardized)throw new me("fieldUtils:collectFilterFields","Where clause is not standardized",{where:r});_y(e,t,n.fieldNames)}}function Uy({displayField:e,fields:t}){return e||(t&&t.length?By(t,"name-or-title")||By(t,"unique-identifier")||By(t,"type-or-category")||Gy(t):null)}function Gy(e){for(const t of e){if(!t||!t.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}function By(e,t){for(const r of e)if(r&&r.valueType&&r.valueType===t)return r.name;return null}async function Hy(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}function Jy(e,t,r){r.onStatisticExpression?zy(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}async function Zy(e,t,r){if(!t||!r||!("fields"in r))return;const i=[],n=r.popupTemplate;i.push(Qy(e,t,n)),r.fields&&i.push(...r.fields.map((async r=>Jy(e,t.fieldsIndex,r)))),await Promise.all(i)}async function Qy(e,t,r){const i=[];r?.expressionInfos&&i.push(...r.expressionInfos.map((r=>zy(e,t.fieldsIndex,r.expression))));const n=r?.content;if(Array.isArray(n))for(const r of n)"expression"===r.type&&r.expressionInfo&&i.push(zy(e,t.fieldsIndex,r.expressionInfo.expression));await Promise.all(i)}async function Ky(e,t,r){t&&(t.timeInfo&&null!=r&&r.timeExtent&&_y(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&_y(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=r&&null!=r.where&&await Wy(e,t.fieldsIndex,r.where))}async function Yy(e,t,r){t&&r&&await Promise.all(r.map((r=>Xy(e,t,r))))}async function Xy(e,t,r){t&&r&&(r.valueExpression?await zy(e,t.fieldsIndex,r.valueExpression):r.field&&qy(e,t.fieldsIndex,r.field))}function em(e){return e?Ly(e.fieldsIndex,om(e)):[]}function tm(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?Ly(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const rm=["oid","global-id","guid"],im=["oid","global-id"],nm=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/shape/i,/perimeter/i,/objectid/i,/_i$/i];function sm(e){const t=new Set;am(e).forEach((e=>t.add(e))),tm(e).forEach((e=>t.add(e.toLowerCase())));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach((e=>t.add(e.toLowerCase()))),Object.values(r.transformFieldRoles).forEach((e=>t.add(e.toLowerCase())))),Array.from(t)}function om(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:i,editDateField:n,editorField:s}=t;return[r,i,n,s].filter(Boolean)}function am(e){return om(e).map((e=>e.toLowerCase()))}function lm(e,t){return e.editable&&!rm.includes(e.type)&&!am(t).includes(e.name?.toLowerCase()??"")}function um(e,t){const r=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&r===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&r===t.globalIdField.toLowerCase()||sm(t).includes(r)||im.includes(e.type)||nm.some((e=>e.test(r))))}async function cm(e,t){const{labelingInfo:r,fieldsIndex:i}=t;r&&r.length&&await Promise.all(r.map((t=>dm(e,i,t))))}async function dm(e,t,r){if(!r)return;const i=r.getLabelExpression(),n=r.where;if("arcade"===i.type)await zy(e,t,i.expression);else{const r=i.expression.match(/{[^}]*}/g);r&&r.forEach((r=>{qy(e,t,r.slice(1,-1))}))}await Wy(e,t,n)}function hm(e){const t=e.defaultValue;return void 0!==t&&wm(e,t)?t:e.nullable?null:void 0}function fm(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function pm(e){return null===e||fm(e)}const ym="isInteger"in Number?Number.isInteger:e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e;function mm(e){return null===e||ym(e)}function vm(e){return null!=e&&"string"==typeof e}function gm(e){return null===e||vm(e)}function bm(){return!0}function wm(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":r=e.nullable?mm:ym;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?pm:fm;break;case"string":case"esriFieldTypeString":r=e.nullable?gm:vm;break;default:r=bm}return 1===arguments.length?r:r(t)}const Sm=["integer","small-integer","single","double"],xm=new Set([...Sm,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),jm=["date","date-only","time-only","timestamp-offset"],Tm=new Set([...jm,"esriFieldTypeDate","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function Im(e){return null!=e&&xm.has(e.type)}function Mm(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function Em(e){return null!=e&&Tm.has(e.type)}var Fm,km;function Am(e){return null==e||"number"==typeof e&&isNaN(e)?null:e}function Cm(e,t){return null==e||e.nullable&&null===t?null:Im(e)&&!Om(e.type,Number(t))?Fm.OUT_OF_RANGE:wm(e,t)?e.domain?Sy(e.domain,t):null:km.INVALID_TYPE}function Om(e,t){const r="string"==typeof e?Pm(e):e;if(!r)return!1;const i=r.min,n=r.max;return r.isInteger?ym(t)&&t>=i&&t<=n:t>=i&&t<=n}function Pm(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Dm;case"esriFieldTypeInteger":case"integer":return Rm;case"esriFieldTypeBigInteger":case"big-integer":return Nm;case"esriFieldTypeSingle":case"single":return $m;case"esriFieldTypeDouble":case"double":return Lm}}!function(e){e.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"}(Fm||(Fm={})),function(e){e.INVALID_TYPE="type-validation-error::invalid-type"}(km||(km={}));const Dm={min:-32768,max:32767,isInteger:!0},Rm={min:-2147483648,max:2147483647,isInteger:!0},Nm={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0},$m={min:-34e37,max:12e37,isInteger:!1},Lm={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};function _m(e,t,r){switch(e){case wy.INVALID_CODED_VALUE:return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case wy.VALUE_OUT_OF_RANGE:return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case km.INVALID_TYPE:return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case Fm.OUT_OF_RANGE:{const{min:e,max:i}=Pm(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${i}`}}}function qm(e,t){return!Vm(e,t,null)}function Vm(e,t,r){if(!t||!t.attributes||!e){if(null!=r)for(const t of e??[])r.add(t);return!0}const i=t.attributes;let n=!1;for(const t of e)if(!(t in i)){if(n=!0,null==r)break;r.add(t)}return n}function zm(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some((t=>e.toLowerCase().startsWith(t)))}let Wm=class extends rl{constructor(e){super(e),this.type=null}};ji([Cn({type:["attachments","custom","fields","media","text","expression","relationship"],readOnly:!0,json:{read:!1,write:!0}})],Wm.prototype,"type",void 0),Wm=ji([zs("esri.popup.content.Content")],Wm);const Um=Wm;var Gm;let Bm=Gm=class extends Um{constructor(e){super(e),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Gm({description:this.description,displayType:this.displayType,title:this.title})}};ji([Cn({type:String,json:{write:!0}})],Bm.prototype,"description",void 0),ji([Cn({type:["auto","preview","list"],json:{write:!0}})],Bm.prototype,"displayType",void 0),ji([Cn({type:String,json:{write:!0}})],Bm.prototype,"title",void 0),ji([Cn({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],Bm.prototype,"type",void 0),Bm=Gm=ji([zs("esri.popup.content.AttachmentsContent")],Bm);const Hm=Bm;var Jm;let Zm=Jm=class extends Um{constructor(e){super(e),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new Jm({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?V(this.outFields):null})}};ji([Cn()],Zm.prototype,"creator",void 0),ji([Cn()],Zm.prototype,"destroyer",void 0),ji([Cn()],Zm.prototype,"outFields",void 0),ji([Cn({type:["custom"],readOnly:!0})],Zm.prototype,"type",void 0),Zm=Jm=ji([zs("esri.popup.content.CustomContent")],Zm);const Qm=Zm;var Km;let Ym=Km=class extends rl{constructor(e){super(e),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Km({title:this.title,expression:this.expression})}};ji([Cn({type:String,json:{write:!0}})],Ym.prototype,"title",void 0),ji([Cn({type:String,json:{write:!0}})],Ym.prototype,"expression",void 0),ji([Cn({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],Ym.prototype,"returnType",void 0),Ym=Km=ji([zs("esri.popup.ElementExpressionInfo")],Ym);const Xm=Ym;var ev;let tv=ev=class extends Um{constructor(e){super(e),this.expressionInfo=null,this.type="expression"}clone(){return new ev({expressionInfo:this.expressionInfo?.clone()})}};ji([Cn({type:Xm,json:{write:!0}})],tv.prototype,"expressionInfo",void 0),ji([Cn({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],tv.prototype,"type",void 0),tv=ev=ji([zs("esri.popup.content.ExpressionContent")],tv);const rv=tv;function iv(e,t={}){const r=e instanceof nl?e:new nl(e,t),i={type:t?.ignoreUnknown??1?r.apiValues:String,json:{type:r.jsonValues,read:!t?.readOnly&&{reader:r.read},write:{writer:r.write}}};return void 0!==t?.readOnly&&(i.readOnly=!!t.readOnly),void 0!==t?.default&&(i.json.default=t.default),void 0!==t?.name&&(i.json.name=t.name),void 0!==t?.nonNullable&&(i.nonNullable=t.nonNullable),Cn(i)}let nv;const sv=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale;function ov(){return sv??globalThis.navigator?.language??"en"}function av(){return void 0===nv&&(nv=ov()),nv}const lv=[];function uv(e){return lv.push(e),{remove(){lv.splice(lv.indexOf(e),1)}}}const cv=[];function dv(e){return cv.push(e),{remove(){lv.splice(cv.indexOf(e),1)}}}function hv(){const e=ov();nv!==e&&(nv=e,[...cv].forEach((t=>{t.call(null,e)})),[...lv].forEach((t=>{t.call(null,e)})))}globalThis.addEventListener?.("languagechange",hv);function fv(e,t,r){return r={path:t,exports:{},require:function(e,t){return pv()}},e(r,r.exports),r.exports}function pv(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var yv=fv((function(e,t){Object.defineProperty(t,"__esModule",{value:true});function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,v(i.key),i)}}function i(e,t,i){if(t)r(e.prototype,t);if(i)r(e,i);Object.defineProperty(e,"prototype",{writable:false});return e}function n(){n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r){if(Object.prototype.hasOwnProperty.call(r,i)){e[i]=r[i]}}}return e};return n.apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;a(e,t)}function o(e){o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return o(e)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return a(e,t)}function l(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function u(e,t,r){if(l()){u=Reflect.construct.bind()}else{u=function e(t,r,i){var n=[null];n.push.apply(n,r);var s=Function.bind.apply(t,n);var o=new s;if(i)a(o,i.prototype);return o}}return u.apply(null,arguments)}function c(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function d(e){var t=typeof Map==="function"?new Map:undefined;d=function e(r){if(r===null||!c(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return u(r,arguments,o(this).constructor)}i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:false,writable:true,configurable:true}});return a(i,r)};return d(e)}function h(e,t){if(e==null)return{};var r={};var i=Object.keys(e);var n,s;for(s=0;s<i.length;s++){n=i[s];if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function f(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function y(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=f(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var i=0;return function(){if(i>=e.length)return{done:true};return{done:false,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var i=r.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v(e){var t=m(e,"string");return typeof t==="symbol"?t:String(t)}var g=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}return t}(d(Error));var b=function(e){s(t,e);function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return t}(g);var w=function(e){s(t,e);function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return t}(g);var S=function(e){s(t,e);function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return t}(g);var x=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}return t}(g);var j=function(e){s(t,e);function t(t){return e.call(this,"Invalid unit "+t)||this}return t}(g);var T=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}return t}(g);var I=function(e){s(t,e);function t(){return e.call(this,"Zone is an abstract class")||this}return t}(g);var M="numeric",E="short",F="long";var k={year:M,month:M,day:M};var A={year:M,month:E,day:M};var C={year:M,month:E,day:M,weekday:E};var O={year:M,month:F,day:M};var P={year:M,month:F,day:M,weekday:F};var D={hour:M,minute:M};var R={hour:M,minute:M,second:M};var N={hour:M,minute:M,second:M,timeZoneName:E};var $={hour:M,minute:M,second:M,timeZoneName:F};var L={hour:M,minute:M,hourCycle:"h23"};var _={hour:M,minute:M,second:M,hourCycle:"h23"};var q={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:E};var V={hour:M,minute:M,second:M,hourCycle:"h23",timeZoneName:F};var z={year:M,month:M,day:M,hour:M,minute:M};var W={year:M,month:M,day:M,hour:M,minute:M,second:M};var U={year:M,month:E,day:M,hour:M,minute:M};var G={year:M,month:E,day:M,hour:M,minute:M,second:M};var B={year:M,month:E,day:M,weekday:E,hour:M,minute:M};var H={year:M,month:F,day:M,hour:M,minute:M,timeZoneName:E};var J={year:M,month:F,day:M,hour:M,minute:M,second:M,timeZoneName:E};var Z={year:M,month:F,day:M,weekday:F,hour:M,minute:M,timeZoneName:F};var Q={year:M,month:F,day:M,weekday:F,hour:M,minute:M,second:M,timeZoneName:F};var K=function(){function e(){}var t=e.prototype;t.offsetName=function e(t,r){throw new I};t.formatOffset=function e(t,r){throw new I};t.offset=function e(t){throw new I};t.equals=function e(t){throw new I};i(e,[{key:"type",get:function e(){throw new I}},{key:"name",get:function e(){throw new I}},{key:"ianaName",get:function e(){return this.name}},{key:"isUniversal",get:function e(){throw new I}},{key:"isValid",get:function e(){throw new I}}]);return e}();var Y=null;var X=function(e){s(t,e);function t(){return e.apply(this,arguments)||this}var r=t.prototype;r.offsetName=function e(t,r){var i=r.format,n=r.locale;return ct(t,i,n)};r.formatOffset=function e(t,r){return pt(this.offset(t),r)};r.offset=function e(t){return-new Date(t).getTimezoneOffset()};r.equals=function e(t){return t.type==="system"};i(t,[{key:"type",get:function e(){return"system"}},{key:"name",get:function e(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function e(){return false}},{key:"isValid",get:function e(){return true}}],[{key:"instance",get:function e(){if(Y===null){Y=new t}return Y}}]);return t}(K);var ee={};function te(e){if(!ee[e]){ee[e]=new Intl.DateTimeFormat("en-US",{hour12:false,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})}return ee[e]}var re={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ie(e,t){var r=e.format(t).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),n=i[1],s=i[2],o=i[3],a=i[4],l=i[5],u=i[6],c=i[7];return[o,n,s,a,l,u,c]}function ne(e,t){var r=e.formatToParts(t);var i=[];for(var n=0;n<r.length;n++){var s=r[n],o=s.type,a=s.value;var l=re[o];if(o==="era"){i[l]=a}else if(!Ve(l)){i[l]=parseInt(a,10)}}return i}var se={};var oe=function(e){s(t,e);t.create=function e(r){if(!se[r]){se[r]=new t(r)}return se[r]};t.resetCache=function e(){se={};ee={}};t.isValidSpecifier=function e(t){return this.isValidZone(t)};t.isValidZone=function e(t){if(!t){return false}try{new Intl.DateTimeFormat("en-US",{timeZone:t}).format();return true}catch(e){return false}};function t(r){var i;i=e.call(this)||this;i.zoneName=r;i.valid=t.isValidZone(r);return i}var r=t.prototype;r.offsetName=function e(t,r){var i=r.format,n=r.locale;return ct(t,i,n,this.name)};r.formatOffset=function e(t,r){return pt(this.offset(t),r)};r.offset=function e(t){var r=new Date(t);if(isNaN(r))return NaN;var i=te(this.name);var n=i.formatToParts?ne(i,r):ie(i,r),s=n[0],o=n[1],a=n[2],l=n[3],u=n[4],c=n[5],d=n[6];if(l==="BC"){s=-Math.abs(s)+1}var h=u===24?0:u;var f=at({year:s,month:o,day:a,hour:h,minute:c,second:d,millisecond:0});var p=+r;var y=p%1e3;p-=y>=0?y:1e3+y;return(f-p)/(60*1e3)};r.equals=function e(t){return t.type==="iana"&&t.name===this.name};i(t,[{key:"type",get:function e(){return"iana"}},{key:"name",get:function e(){return this.zoneName}},{key:"isUniversal",get:function e(){return false}},{key:"isValid",get:function e(){return this.valid}}]);return t}(K);var ae=["base"],le=["padTo","floor"];var ue={};function ce(e,t){if(t===void 0){t={}}var r=JSON.stringify([e,t]);var i=ue[r];if(!i){i=new Intl.ListFormat(e,t);ue[r]=i}return i}var de={};function he(e,t){if(t===void 0){t={}}var r=JSON.stringify([e,t]);var i=de[r];if(!i){i=new Intl.DateTimeFormat(e,t);de[r]=i}return i}var fe={};function pe(e,t){if(t===void 0){t={}}var r=JSON.stringify([e,t]);var i=fe[r];if(!i){i=new Intl.NumberFormat(e,t);fe[r]=i}return i}var ye={};function me(e,t){if(t===void 0){t={}}var r=t;var i=h(r,ae);var n=JSON.stringify([e,i]);var s=ye[n];if(!s){s=new Intl.RelativeTimeFormat(e,t);ye[n]=s}return s}var ve=null;function ge(){if(ve){return ve}else{ve=(new Intl.DateTimeFormat).resolvedOptions().locale;return ve}}function be(e){var t=e.indexOf("-x-");if(t!==-1){e=e.substring(0,t)}var r=e.indexOf("-u-");if(r===-1){return[e]}else{var i;var n;try{i=he(e).resolvedOptions();n=e}catch(t){var s=e.substring(0,r);i=he(s).resolvedOptions();n=s}var o=i,a=o.numberingSystem,l=o.calendar;return[n,a,l]}}function we(e,t,r){if(r||t){if(!e.includes("-u-")){e+="-u"}if(r){e+="-ca-"+r}if(t){e+="-nu-"+t}return e}else{return e}}function Se(e){var t=[];for(var r=1;r<=12;r++){var i=gn.utc(2016,r,1);t.push(e(i))}return t}function xe(e){var t=[];for(var r=1;r<=7;r++){var i=gn.utc(2016,11,13+r);t.push(e(i))}return t}function je(e,t,r,i,n){var s=e.listingMode(r);if(s==="error"){return null}else if(s==="en"){return i(t)}else{return n(t)}}function Te(e){if(e.numberingSystem&&e.numberingSystem!=="latn"){return false}else{return e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}}var Ie=function(){function e(e,t,r){this.padTo=r.padTo||0;this.floor=r.floor||false;var i=h(r,le);if(!t||Object.keys(i).length>0){var s=n({useGrouping:false},r);if(r.padTo>0)s.minimumIntegerDigits=r.padTo;this.inf=pe(e,s)}}var t=e.prototype;t.format=function e(t){if(this.inf){var r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{var i=this.floor?Math.floor(t):it(t,3);return Xe(i,this.padTo)}};return e}();var Me=function(){function e(e,t,r){this.opts=r;this.originalZone=undefined;var i=undefined;if(this.opts.timeZone){this.dt=e}else if(e.zone.type==="fixed"){var s=-1*(e.offset/60);var o=s>=0?"Etc/GMT+"+s:"Etc/GMT"+s;if(e.offset!==0&&oe.create(o).valid){i=o;this.dt=e}else{i="UTC";this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset});this.originalZone=e.zone}}else if(e.zone.type==="system"){this.dt=e}else if(e.zone.type==="iana"){this.dt=e;i=e.zone.name}else{i="UTC";this.dt=e.setZone("UTC").plus({minutes:e.offset});this.originalZone=e.zone}var a=n({},this.opts);a.timeZone=a.timeZone||i;this.dtf=he(t,a)}var t=e.prototype;t.format=function e(){if(this.originalZone){return this.formatToParts().map((function(e){var t=e.value;return t})).join("")}return this.dtf.format(this.dt.toJSDate())};t.formatToParts=function e(){var t=this;var r=this.dtf.formatToParts(this.dt.toJSDate());if(this.originalZone){return r.map((function(e){if(e.type==="timeZoneName"){var r=t.originalZone.offsetName(t.dt.ts,{locale:t.dt.locale,format:t.opts.timeZoneName});return n({},e,{value:r})}else{return e}}))}return r};t.resolvedOptions=function e(){return this.dtf.resolvedOptions()};return e}();var Ee=function(){function e(e,t,r){this.opts=n({style:"long"},r);if(!t&&Be()){this.rtf=me(e,r)}}var t=e.prototype;t.format=function e(t,r){if(this.rtf){return this.rtf.format(t,r)}else{return Pt(r,t,this.opts.numeric,this.opts.style!=="long")}};t.formatToParts=function e(t,r){if(this.rtf){return this.rtf.formatToParts(t,r)}else{return[]}};return e}();var Fe=function(){e.fromOpts=function t(r){return e.create(r.locale,r.numberingSystem,r.outputCalendar,r.defaultToEN)};e.create=function t(r,i,n,s){if(s===void 0){s=false}var o=r||qe.defaultLocale;var a=o||(s?"en-US":ge());var l=i||qe.defaultNumberingSystem;var u=n||qe.defaultOutputCalendar;return new e(a,l,u,o)};e.resetCache=function e(){ve=null;de={};fe={};ye={}};e.fromObject=function t(r){var i=r===void 0?{}:r,n=i.locale,s=i.numberingSystem,o=i.outputCalendar;return e.create(n,s,o)};function e(e,t,r,i){var n=be(e),s=n[0],o=n[1],a=n[2];this.locale=s;this.numberingSystem=t||o||null;this.outputCalendar=r||a||null;this.intl=we(this.locale,this.numberingSystem,this.outputCalendar);this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=i;this.fastNumbersCached=null}var t=e.prototype;t.listingMode=function e(){var t=this.isEnglish();var r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"};t.clone=function t(r){if(!r||Object.getOwnPropertyNames(r).length===0){return this}else{return e.create(r.locale||this.specifiedLocale,r.numberingSystem||this.numberingSystem,r.outputCalendar||this.outputCalendar,r.defaultToEN||false)}};t.redefaultToEN=function e(t){if(t===void 0){t={}}return this.clone(n({},t,{defaultToEN:true}))};t.redefaultToSystem=function e(t){if(t===void 0){t={}}return this.clone(n({},t,{defaultToEN:false}))};t.months=function e(t,r,i){var n=this;if(r===void 0){r=false}if(i===void 0){i=true}return je(this,t,i,bt,(function(){var e=r?{month:t,day:"numeric"}:{month:t},i=r?"format":"standalone";if(!n.monthsCache[i][t]){n.monthsCache[i][t]=Se((function(t){return n.extract(t,e,"month")}))}return n.monthsCache[i][t]}))};t.weekdays=function e(t,r,i){var n=this;if(r===void 0){r=false}if(i===void 0){i=true}return je(this,t,i,jt,(function(){var e=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},i=r?"format":"standalone";if(!n.weekdaysCache[i][t]){n.weekdaysCache[i][t]=xe((function(t){return n.extract(t,e,"weekday")}))}return n.weekdaysCache[i][t]}))};t.meridiems=function e(t){var r=this;if(t===void 0){t=true}return je(this,undefined,t,(function(){return Tt}),(function(){if(!r.meridiemCache){var e={hour:"numeric",hourCycle:"h12"};r.meridiemCache=[gn.utc(2016,11,13,9),gn.utc(2016,11,13,19)].map((function(t){return r.extract(t,e,"dayperiod")}))}return r.meridiemCache}))};t.eras=function e(t,r){var i=this;if(r===void 0){r=true}return je(this,t,r,Ft,(function(){var e={era:t};if(!i.eraCache[t]){i.eraCache[t]=[gn.utc(-40,1,1),gn.utc(2017,1,1)].map((function(t){return i.extract(t,e,"era")}))}return i.eraCache[t]}))};t.extract=function e(t,r,i){var n=this.dtFormatter(t,r),s=n.formatToParts(),o=s.find((function(e){return e.type.toLowerCase()===i}));return o?o.value:null};t.numberFormatter=function e(t){if(t===void 0){t={}}return new Ie(this.intl,t.forceSimple||this.fastNumbers,t)};t.dtFormatter=function e(t,r){if(r===void 0){r={}}return new Me(t,this.intl,r)};t.relFormatter=function e(t){if(t===void 0){t={}}return new Ee(this.intl,this.isEnglish(),t)};t.listFormatter=function e(t){if(t===void 0){t={}}return ce(this.intl,t)};t.isEnglish=function e(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")};t.equals=function e(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar};i(e,[{key:"fastNumbers",get:function e(){if(this.fastNumbersCached==null){this.fastNumbersCached=Te(this)}return this.fastNumbersCached}}]);return e}();var ke=null;var Ae=function(e){s(t,e);t.instance=function e(r){return r===0?t.utcInstance:new t(r)};t.parseSpecifier=function e(r){if(r){var i=r.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i){return new t(dt(i[1],i[2]))}}return null};function t(t){var r;r=e.call(this)||this;r.fixed=t;return r}var r=t.prototype;r.offsetName=function e(){return this.name};r.formatOffset=function e(t,r){return pt(this.fixed,r)};r.offset=function e(){return this.fixed};r.equals=function e(t){return t.type==="fixed"&&t.fixed===this.fixed};i(t,[{key:"type",get:function e(){return"fixed"}},{key:"name",get:function e(){return this.fixed===0?"UTC":"UTC"+pt(this.fixed,"narrow")}},{key:"ianaName",get:function e(){if(this.fixed===0){return"Etc/UTC"}else{return"Etc/GMT"+pt(-this.fixed,"narrow")}}},{key:"isUniversal",get:function e(){return true}},{key:"isValid",get:function e(){return true}}],[{key:"utcInstance",get:function e(){if(ke===null){ke=new t(0)}return ke}}]);return t}(K);var Ce=function(e){s(t,e);function t(t){var r;r=e.call(this)||this;r.zoneName=t;return r}var r=t.prototype;r.offsetName=function e(){return null};r.formatOffset=function e(){return""};r.offset=function e(){return NaN};r.equals=function e(){return false};i(t,[{key:"type",get:function e(){return"invalid"}},{key:"name",get:function e(){return this.zoneName}},{key:"isUniversal",get:function e(){return false}},{key:"isValid",get:function e(){return false}}]);return t}(K);function Oe(e,t){if(Ve(e)||e===null){return t}else if(e instanceof K){return e}else if(Ue(e)){var r=e.toLowerCase();if(r==="default")return t;else if(r==="local"||r==="system")return X.instance;else if(r==="utc"||r==="gmt")return Ae.utcInstance;else return Ae.parseSpecifier(r)||oe.create(e)}else if(ze(e)){return Ae.instance(e)}else if(typeof e==="object"&&e.offset&&typeof e.offset==="number"){return e}else{return new Ce(e)}}var Pe=function e(){return Date.now()},De="system",Re=null,Ne=null,$e=null,Le=60,_e;var qe=function(){function e(){}e.resetCaches=function e(){Fe.resetCache();oe.resetCache()};i(e,null,[{key:"now",get:function e(){return Pe},set:function e(t){Pe=t}},{key:"defaultZone",get:function e(){return Oe(De,X.instance)},set:function e(t){De=t}},{key:"defaultLocale",get:function e(){return Re},set:function e(t){Re=t}},{key:"defaultNumberingSystem",get:function e(){return Ne},set:function e(t){Ne=t}},{key:"defaultOutputCalendar",get:function e(){return $e},set:function e(t){$e=t}},{key:"twoDigitCutoffYear",get:function e(){return Le},set:function e(t){Le=t%100}},{key:"throwOnInvalid",get:function e(){return _e},set:function e(t){_e=t}}]);return e}();function Ve(e){return typeof e==="undefined"}function ze(e){return typeof e==="number"}function We(e){return typeof e==="number"&&e%1===0}function Ue(e){return typeof e==="string"}function Ge(e){return Object.prototype.toString.call(e)==="[object Date]"}function Be(){try{return typeof Intl!=="undefined"&&!!Intl.RelativeTimeFormat}catch(e){return false}}function He(e){return Array.isArray(e)?e:[e]}function Je(e,t,r){if(e.length===0){return undefined}return e.reduce((function(e,i){var n=[t(i),i];if(!e){return n}else if(r(e[0],n[0])===e[0]){return e}else{return n}}),null)[1]}function Ze(e,t){return t.reduce((function(t,r){t[r]=e[r];return t}),{})}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ke(e,t,r){return We(e)&&e>=t&&e<=r}function Ye(e,t){return e-t*Math.floor(e/t)}function Xe(e,t){if(t===void 0){t=2}var r=e<0;var i;if(r){i="-"+(""+-e).padStart(t,"0")}else{i=(""+e).padStart(t,"0")}return i}function et(e){if(Ve(e)||e===null||e===""){return undefined}else{return parseInt(e,10)}}function tt(e){if(Ve(e)||e===null||e===""){return undefined}else{return parseFloat(e)}}function rt(e){if(Ve(e)||e===null||e===""){return undefined}else{var t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function it(e,t,r){if(r===void 0){r=false}var i=Math.pow(10,t),n=r?Math.trunc:Math.round;return n(e*i)/i}function nt(e){return e%4===0&&(e%100!==0||e%400===0)}function st(e){return nt(e)?366:365}function ot(e,t){var r=Ye(t-1,12)+1,i=e+(t-r)/12;if(r===2){return nt(i)?29:28}else{return[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}}function at(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);if(e.year<100&&e.year>=0){t=new Date(t);t.setUTCFullYear(e.year,e.month-1,e.day)}return+t}function lt(e){var t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,r=e-1,i=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7;return t===4||i===3?53:52}function ut(e){if(e>99){return e}else return e>qe.twoDigitCutoffYear?1900+e:2e3+e}function ct(e,t,r,i){if(i===void 0){i=null}var s=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};if(i){o.timeZone=i}var a=n({timeZoneName:t},o);var l=new Intl.DateTimeFormat(r,a).formatToParts(s).find((function(e){return e.type.toLowerCase()==="timezonename"}));return l?l.value:null}function dt(e,t){var r=parseInt(e,10);if(Number.isNaN(r)){r=0}var i=parseInt(t,10)||0,n=r<0||Object.is(r,-0)?-i:i;return r*60+n}function ht(e){var t=Number(e);if(typeof e==="boolean"||e===""||Number.isNaN(t))throw new T("Invalid unit value "+e);return t}function ft(e,t){var r={};for(var i in e){if(Qe(e,i)){var n=e[i];if(n===undefined||n===null)continue;r[t(i)]=ht(n)}}return r}function pt(e,t){var r=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),n=e>=0?"+":"-";switch(t){case"short":return""+n+Xe(r,2)+":"+Xe(i,2);case"narrow":return""+n+r+(i>0?":"+i:"");case"techie":return""+n+Xe(r,2)+Xe(i,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function yt(e){return Ze(e,["hour","minute","second","millisecond"])}var mt=["January","February","March","April","May","June","July","August","September","October","November","December"];var vt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var gt=["J","F","M","A","M","J","J","A","S","O","N","D"];function bt(e){switch(e){case"narrow":return[].concat(gt);case"short":return[].concat(vt);case"long":return[].concat(mt);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var wt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];var St=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];var xt=["M","T","W","T","F","S","S"];function jt(e){switch(e){case"narrow":return[].concat(xt);case"short":return[].concat(St);case"long":return[].concat(wt);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var Tt=["AM","PM"];var It=["Before Christ","Anno Domini"];var Mt=["BC","AD"];var Et=["B","A"];function Ft(e){switch(e){case"narrow":return[].concat(Et);case"short":return[].concat(Mt);case"long":return[].concat(It);default:return null}}function kt(e){return Tt[e.hour<12?0:1]}function At(e,t){return jt(t)[e.weekday-1]}function Ct(e,t){return bt(t)[e.month-1]}function Ot(e,t){return Ft(t)[e.year<0?0:1]}function Pt(e,t,r,i){if(r===void 0){r="always"}if(i===void 0){i=false}var n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var s=["hours","minutes","seconds"].indexOf(e)===-1;if(r==="auto"&&s){var o=e==="days";switch(t){case 1:return o?"tomorrow":"next "+n[e][0];case-1:return o?"yesterday":"last "+n[e][0];case 0:return o?"today":"this "+n[e][0]}}var a=Object.is(t,-0)||t<0,l=Math.abs(t),u=l===1,c=n[e],d=i?u?c[1]:c[2]||c[1]:u?n[e][0]:e;return a?l+" "+d+" ago":"in "+l+" "+d}function Dt(e,t){var r="";for(var i=y(e),n;!(n=i()).done;){var s=n.value;if(s.literal){r+=s.val}else{r+=t(s.val)}}return r}var Rt={D:k,DD:A,DDD:O,DDDD:P,t:D,tt:R,ttt:N,tttt:$,T:L,TT:_,TTT:q,TTTT:V,f:z,ff:U,fff:H,ffff:Z,F:W,FF:G,FFF:J,FFFF:Q};var Nt=function(){e.create=function t(r,i){if(i===void 0){i={}}return new e(r,i)};e.parseFormat=function e(t){var r=null,i="",n=false;var s=[];for(var o=0;o<t.length;o++){var a=t.charAt(o);if(a==="'"){if(i.length>0){s.push({literal:n||/^\s+$/.test(i),val:i})}r=null;i="";n=!n}else if(n){i+=a}else if(a===r){i+=a}else{if(i.length>0){s.push({literal:/^\s+$/.test(i),val:i})}i=a;r=a}}if(i.length>0){s.push({literal:n||/^\s+$/.test(i),val:i})}return s};e.macroTokenToFormatOpts=function e(t){return Rt[t]};function e(e,t){this.opts=t;this.loc=e;this.systemLoc=null}var t=e.prototype;t.formatWithSystemDefault=function e(t,r){if(this.systemLoc===null){this.systemLoc=this.loc.redefaultToSystem()}var i=this.systemLoc.dtFormatter(t,n({},this.opts,r));return i.format()};t.formatDateTime=function e(t,r){if(r===void 0){r={}}var i=this.loc.dtFormatter(t,n({},this.opts,r));return i.format()};t.formatDateTimeParts=function e(t,r){if(r===void 0){r={}}var i=this.loc.dtFormatter(t,n({},this.opts,r));return i.formatToParts()};t.formatInterval=function e(t,r){if(r===void 0){r={}}var i=this.loc.dtFormatter(t.start,n({},this.opts,r));return i.dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())};t.resolvedOptions=function e(t,r){if(r===void 0){r={}}var i=this.loc.dtFormatter(t,n({},this.opts,r));return i.resolvedOptions()};t.num=function e(t,r){if(r===void 0){r=0}if(this.opts.forceSimple){return Xe(t,r)}var i=n({},this.opts);if(r>0){i.padTo=r}return this.loc.numberFormatter(i).format(t)};t.formatDateTimeFromString=function t(r,i){var n=this;var s=this.loc.listingMode()==="en",o=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=function e(t,i){return n.loc.extract(r,t,i)},l=function e(t){if(r.isOffsetFixed&&r.offset===0&&t.allowZ){return"Z"}return r.isValid?r.zone.formatOffset(r.ts,t.format):""},u=function e(){return s?kt(r):a({hour:"numeric",hourCycle:"h12"},"dayperiod")},c=function e(t,i){return s?Ct(r,t):a(i?{month:t}:{month:t,day:"numeric"},"month")},d=function e(t,i){return s?At(r,t):a(i?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday")},h=function t(i){var s=e.macroTokenToFormatOpts(i);if(s){return n.formatWithSystemDefault(r,s)}else{return i}},f=function e(t){return s?Ot(r,t):a({era:t},"era")},p=function e(t){switch(t){case"S":return n.num(r.millisecond);case"u":case"SSS":return n.num(r.millisecond,3);case"s":return n.num(r.second);case"ss":return n.num(r.second,2);case"uu":return n.num(Math.floor(r.millisecond/10),2);case"uuu":return n.num(Math.floor(r.millisecond/100));case"m":return n.num(r.minute);case"mm":return n.num(r.minute,2);case"h":return n.num(r.hour%12===0?12:r.hour%12);case"hh":return n.num(r.hour%12===0?12:r.hour%12,2);case"H":return n.num(r.hour);case"HH":return n.num(r.hour,2);case"Z":return l({format:"narrow",allowZ:n.opts.allowZ});case"ZZ":return l({format:"short",allowZ:n.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:n.opts.allowZ});case"ZZZZ":return r.zone.offsetName(r.ts,{format:"short",locale:n.loc.locale});case"ZZZZZ":return r.zone.offsetName(r.ts,{format:"long",locale:n.loc.locale});case"z":return r.zoneName;case"a":return u();case"d":return o?a({day:"numeric"},"day"):n.num(r.day);case"dd":return o?a({day:"2-digit"},"day"):n.num(r.day,2);case"c":return n.num(r.weekday);case"ccc":return d("short",true);case"cccc":return d("long",true);case"ccccc":return d("narrow",true);case"E":return n.num(r.weekday);case"EEE":return d("short",false);case"EEEE":return d("long",false);case"EEEEE":return d("narrow",false);case"L":return o?a({month:"numeric",day:"numeric"},"month"):n.num(r.month);case"LL":return o?a({month:"2-digit",day:"numeric"},"month"):n.num(r.month,2);case"LLL":return c("short",true);case"LLLL":return c("long",true);case"LLLLL":return c("narrow",true);case"M":return o?a({month:"numeric"},"month"):n.num(r.month);case"MM":return o?a({month:"2-digit"},"month"):n.num(r.month,2);case"MMM":return c("short",false);case"MMMM":return c("long",false);case"MMMMM":return c("narrow",false);case"y":return o?a({year:"numeric"},"year"):n.num(r.year);case"yy":return o?a({year:"2-digit"},"year"):n.num(r.year.toString().slice(-2),2);case"yyyy":return o?a({year:"numeric"},"year"):n.num(r.year,4);case"yyyyyy":return o?a({year:"numeric"},"year"):n.num(r.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return n.num(r.weekYear.toString().slice(-2),2);case"kkkk":return n.num(r.weekYear,4);case"W":return n.num(r.weekNumber);case"WW":return n.num(r.weekNumber,2);case"o":return n.num(r.ordinal);case"ooo":return n.num(r.ordinal,3);case"q":return n.num(r.quarter);case"qq":return n.num(r.quarter,2);case"X":return n.num(Math.floor(r.ts/1e3));case"x":return n.num(r.ts);default:return h(t)}};return Dt(e.parseFormat(i),p)};t.formatDurationFromString=function t(r,i){var n=this;var s=function e(t){switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=function e(t){return function(e){var r=s(e);if(r){return n.num(t.get(r),e.length)}else{return e}}},a=e.parseFormat(i),l=a.reduce((function(e,t){var r=t.literal,i=t.val;return r?e:e.concat(i)}),[]),u=r.shiftTo.apply(r,l.map(s).filter((function(e){return e})));return Dt(a,o(u))};return e}();var $t=function(){function e(e,t){this.reason=e;this.explanation=t}var t=e.prototype;t.toMessage=function e(){if(this.explanation){return this.reason+": "+this.explanation}else{return this.reason}};return e}();var Lt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function _t(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var i=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+i+"$")}function qt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e){return t.reduce((function(t,r){var i=t[0],s=t[1],o=t[2];var a=r(e,o),l=a[0],u=a[1],c=a[2];return[n({},i,l),u||s,c]}),[{},null,1]).slice(0,2)}}function Vt(e){if(e==null){return[null,null]}for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++){r[i-1]=arguments[i]}for(var n=0,s=r;n<s.length;n++){var o=s[n],a=o[0],l=o[1];var u=a.exec(e);if(u){return l(u)}}return[null,null]}function zt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return function(e,r){var i={};var n;for(n=0;n<t.length;n++){i[t[n]]=et(e[r+n])}return[i,null,r+n]}}var Wt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/;var Ut="(?:"+Wt.source+"?(?:\\[("+Lt.source+")\\])?)?";var Gt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/;var Bt=RegExp(""+Gt.source+Ut);var Ht=RegExp("(?:T"+Bt.source+")?");var Jt=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/;var Zt=/(\d{4})-?W(\d\d)(?:-?(\d))?/;var Qt=/(\d{4})-?(\d{3})/;var Kt=zt("weekYear","weekNumber","weekDay");var Yt=zt("year","ordinal");var Xt=/(\d{4})-(\d\d)-(\d\d)/;var er=RegExp(Gt.source+" ?(?:"+Wt.source+"|("+Lt.source+"))?");var tr=RegExp("(?: "+er.source+")?");function rr(e,t,r){var i=e[t];return Ve(i)?r:et(i)}function ir(e,t){var r={year:rr(e,t),month:rr(e,t+1,1),day:rr(e,t+2,1)};return[r,null,t+3]}function nr(e,t){var r={hours:rr(e,t,0),minutes:rr(e,t+1,0),seconds:rr(e,t+2,0),milliseconds:rt(e[t+3])};return[r,null,t+4]}function sr(e,t){var r=!e[t]&&!e[t+1],i=dt(e[t+1],e[t+2]),n=r?null:Ae.instance(i);return[{},n,t+3]}function or(e,t){var r=e[t]?oe.create(e[t]):null;return[{},r,t+1]}var ar=RegExp("^T?"+Gt.source+"$");var lr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function ur(e){var t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8];var c=t[0]==="-";var d=l&&l[0]==="-";var h=function e(t,r){if(r===void 0){r=false}return t!==undefined&&(r||t&&c)?-t:t};return[{years:h(tt(r)),months:h(tt(i)),weeks:h(tt(n)),days:h(tt(s)),hours:h(tt(o)),minutes:h(tt(a)),seconds:h(tt(l),l==="-0"),milliseconds:h(rt(u),d)}]}var cr={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dr(e,t,r,i,n,s,o){var a={year:t.length===2?ut(et(t)):et(t),month:vt.indexOf(r)+1,day:et(i),hour:et(n),minute:et(s)};if(o)a.second=et(o);if(e){a.weekday=e.length>3?wt.indexOf(e)+1:St.indexOf(e)+1}return a}var hr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function fr(e){var t=e[1],r=e[2],i=e[3],n=e[4],s=e[5],o=e[6],a=e[7],l=e[8],u=e[9],c=e[10],d=e[11],h=dr(t,n,i,r,s,o,a);var f;if(l){f=cr[l]}else if(u){f=0}else{f=dt(c,d)}return[h,new Ae(f)]}function pr(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var yr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,mr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,vr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function gr(e){var t=e[1],r=e[2],i=e[3],n=e[4],s=e[5],o=e[6],a=e[7],l=dr(t,n,i,r,s,o,a);return[l,Ae.utcInstance]}function br(e){var t=e[1],r=e[2],i=e[3],n=e[4],s=e[5],o=e[6],a=e[7],l=dr(t,a,r,i,n,s,o);return[l,Ae.utcInstance]}var wr=_t(Jt,Ht);var Sr=_t(Zt,Ht);var xr=_t(Qt,Ht);var jr=_t(Bt);var Tr=qt(ir,nr,sr,or);var Ir=qt(Kt,nr,sr,or);var Mr=qt(Yt,nr,sr,or);var Er=qt(nr,sr,or);function Fr(e){return Vt(e,[wr,Tr],[Sr,Ir],[xr,Mr],[jr,Er])}function kr(e){return Vt(pr(e),[hr,fr])}function Ar(e){return Vt(e,[yr,gr],[mr,gr],[vr,br])}function Cr(e){return Vt(e,[lr,ur])}var Or=qt(nr);function Pr(e){return Vt(e,[ar,Or])}var Dr=_t(Xt,tr);var Rr=_t(er);var Nr=qt(nr,sr,or);function $r(e){return Vt(e,[Dr,Tr],[Rr,Nr])}var Lr="Invalid Duration";var _r={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},qr=n({years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3}},_r),Vr=146097/400,zr=146097/4800,Wr=n({years:{quarters:4,months:12,weeks:Vr/7,days:Vr,hours:Vr*24,minutes:Vr*24*60,seconds:Vr*24*60*60,milliseconds:Vr*24*60*60*1e3},quarters:{months:3,weeks:Vr/28,days:Vr/4,hours:Vr*24/4,minutes:Vr*24*60/4,seconds:Vr*24*60*60/4,milliseconds:Vr*24*60*60*1e3/4},months:{weeks:zr/7,days:zr,hours:zr*24,minutes:zr*24*60,seconds:zr*24*60*60,milliseconds:zr*24*60*60*1e3}},_r);var Ur=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"];var Gr=Ur.slice(0).reverse();function Br(e,t,r){if(r===void 0){r=false}var i={values:r?t.values:n({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Kr(i)}function Hr(e){return e<0?Math.floor(e):Math.ceil(e)}function Jr(e,t,r,i,n){var s=e[n][r],o=t[r]/s,a=Math.sign(o)===Math.sign(i[n]),l=!a&&i[n]!==0&&Math.abs(o)<=1?Hr(o):Math.trunc(o);i[n]+=l;t[r]-=l*s}function Zr(e,t){Gr.reduce((function(r,i){if(!Ve(t[i])){if(r){Jr(e,t,r,t,i)}return i}else{return r}}),null)}function Qr(e){var t={};for(var r=0,i=Object.entries(e);r<i.length;r++){var n=i[r],s=n[0],o=n[1];if(o!==0){t[s]=o}}return t}var Kr=function(){function e(e){var t=e.conversionAccuracy==="longterm"||false;var r=t?Wr:qr;if(e.matrix){r=e.matrix}this.values=e.values;this.loc=e.loc||Fe.create();this.conversionAccuracy=t?"longterm":"casual";this.invalid=e.invalid||null;this.matrix=r;this.isLuxonDuration=true}e.fromMillis=function t(r,i){return e.fromObject({milliseconds:r},i)};e.fromObject=function t(r,i){if(i===void 0){i={}}if(r==null||typeof r!=="object"){throw new T("Duration.fromObject: argument expected to be an object, got "+(r===null?"null":typeof r))}return new e({values:ft(r,e.normalizeUnit),loc:Fe.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})};e.fromDurationLike=function t(r){if(ze(r)){return e.fromMillis(r)}else if(e.isDuration(r)){return r}else if(typeof r==="object"){return e.fromObject(r)}else{throw new T("Unknown duration argument "+r+" of type "+typeof r)}};e.fromISO=function t(r,i){var n=Cr(r),s=n[0];if(s){return e.fromObject(s,i)}else{return e.invalid("unparsable",'the input "'+r+"\" can't be parsed as ISO 8601")}};e.fromISOTime=function t(r,i){var n=Pr(r),s=n[0];if(s){return e.fromObject(s,i)}else{return e.invalid("unparsable",'the input "'+r+"\" can't be parsed as ISO 8601")}};e.invalid=function t(r,i){if(i===void 0){i=null}if(!r){throw new T("need to specify a reason the Duration is invalid")}var t=r instanceof $t?r:new $t(r,i);if(qe.throwOnInvalid){throw new S(t)}else{return new e({invalid:t})}};e.normalizeUnit=function e(t){var r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!r)throw new j(t);return r};e.isDuration=function e(t){return t&&t.isLuxonDuration||false};var t=e.prototype;t.toFormat=function e(t,r){if(r===void 0){r={}}var i=n({},r,{floor:r.round!==false&&r.floor!==false});return this.isValid?Nt.create(this.loc,i).formatDurationFromString(this,t):Lr};t.toHuman=function e(t){var r=this;if(t===void 0){t={}}var i=Ur.map((function(e){var i=r.values[e];if(Ve(i)){return null}return r.loc.numberFormatter(n({style:"unit",unitDisplay:"long"},t,{unit:e.slice(0,-1)})).format(i)})).filter((function(e){return e}));return this.loc.listFormatter(n({type:"conjunction",style:t.listStyle||"narrow"},t)).format(i)};t.toObject=function e(){if(!this.isValid)return{};return n({},this.values)};t.toISO=function e(){if(!this.isValid)return null;var t="P";if(this.years!==0)t+=this.years+"Y";if(this.months!==0||this.quarters!==0)t+=this.months+this.quarters*3+"M";if(this.weeks!==0)t+=this.weeks+"W";if(this.days!==0)t+=this.days+"D";if(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)t+="T";if(this.hours!==0)t+=this.hours+"H";if(this.minutes!==0)t+=this.minutes+"M";if(this.seconds!==0||this.milliseconds!==0)t+=it(this.seconds+this.milliseconds/1e3,3)+"S";if(t==="P")t+="T0S";return t};t.toISOTime=function e(t){if(t===void 0){t={}}if(!this.isValid)return null;var r=this.toMillis();if(r<0||r>=864e5)return null;t=n({suppressMilliseconds:false,suppressSeconds:false,includePrefix:false,format:"extended"},t);var i=this.shiftTo("hours","minutes","seconds","milliseconds");var s=t.format==="basic"?"hhmm":"hh:mm";if(!t.suppressSeconds||i.seconds!==0||i.milliseconds!==0){s+=t.format==="basic"?"ss":":ss";if(!t.suppressMilliseconds||i.milliseconds!==0){s+=".SSS"}}var o=i.toFormat(s);if(t.includePrefix){o="T"+o}return o};t.toJSON=function e(){return this.toISO()};t.toString=function e(){return this.toISO()};t.toMillis=function e(){return this.as("milliseconds")};t.valueOf=function e(){return this.toMillis()};t.plus=function t(r){if(!this.isValid)return this;var i=e.fromDurationLike(r),n={};for(var s=0,o=Ur;s<o.length;s++){var a=o[s];if(Qe(i.values,a)||Qe(this.values,a)){n[a]=i.get(a)+this.get(a)}}return Br(this,{values:n},true)};t.minus=function t(r){if(!this.isValid)return this;var i=e.fromDurationLike(r);return this.plus(i.negate())};t.mapUnits=function e(t){if(!this.isValid)return this;var r={};for(var i=0,n=Object.keys(this.values);i<n.length;i++){var s=n[i];r[s]=ht(t(this.values[s],s))}return Br(this,{values:r},true)};t.get=function t(r){return this[e.normalizeUnit(r)]};t.set=function t(r){if(!this.isValid)return this;var i=n({},this.values,ft(r,e.normalizeUnit));return Br(this,{values:i})};t.reconfigure=function e(t){var r=t===void 0?{}:t,i=r.locale,n=r.numberingSystem,s=r.conversionAccuracy,o=r.matrix;var a=this.loc.clone({locale:i,numberingSystem:n});var l={loc:a,matrix:o,conversionAccuracy:s};return Br(this,l)};t.as=function e(t){return this.isValid?this.shiftTo(t).get(t):NaN};t.normalize=function e(){if(!this.isValid)return this;var t=this.toObject();Zr(this.matrix,t);return Br(this,{values:t},true)};t.rescale=function e(){if(!this.isValid)return this;var t=Qr(this.normalize().shiftToAll().toObject());return Br(this,{values:t},true)};t.shiftTo=function t(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}if(!this.isValid)return this;if(i.length===0){return this}i=i.map((function(t){return e.normalizeUnit(t)}));var s={},o={},a=this.toObject();var l;for(var u=0,c=Ur;u<c.length;u++){var d=c[u];if(i.indexOf(d)>=0){l=d;var h=0;for(var f in o){h+=this.matrix[f][d]*o[f];o[f]=0}if(ze(a[d])){h+=a[d]}var p=Math.trunc(h);s[d]=p;o[d]=(h*1e3-p*1e3)/1e3;for(var y in a){if(Ur.indexOf(y)>Ur.indexOf(d)){Jr(this.matrix,a,y,s,d)}}}else if(ze(a[d])){o[d]=a[d]}}for(var m in o){if(o[m]!==0){s[l]+=m===l?o[m]:o[m]/this.matrix[l][m]}}return Br(this,{values:s},true).normalize()};t.shiftToAll=function e(){if(!this.isValid)return this;return this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds")};t.negate=function e(){if(!this.isValid)return this;var t={};for(var r=0,i=Object.keys(this.values);r<i.length;r++){var n=i[r];t[n]=this.values[n]===0?0:-this.values[n]}return Br(this,{values:t},true)};t.equals=function e(t){if(!this.isValid||!t.isValid){return false}if(!this.loc.equals(t.loc)){return false}function r(e,t){if(e===undefined||e===0)return t===undefined||t===0;return e===t}for(var i=0,n=Ur;i<n.length;i++){var s=n[i];if(!r(this.values[s],t.values[s])){return false}}return true};i(e,[{key:"locale",get:function e(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function e(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function e(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function e(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function e(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function e(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function e(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function e(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function e(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function e(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function e(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function e(){return this.invalid===null}},{key:"invalidReason",get:function e(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function e(){return this.invalid?this.invalid.explanation:null}}]);return e}();var Yr="Invalid Interval";function Xr(e,t){if(!e||!e.isValid){return ei.invalid("missing or invalid start")}else if(!t||!t.isValid){return ei.invalid("missing or invalid end")}else if(t<e){return ei.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO())}else{return null}}var ei=function(){function e(e){this.s=e.start;this.e=e.end;this.invalid=e.invalid||null;this.isLuxonInterval=true}e.invalid=function t(r,i){if(i===void 0){i=null}if(!r){throw new T("need to specify a reason the Interval is invalid")}var t=r instanceof $t?r:new $t(r,i);if(qe.throwOnInvalid){throw new w(t)}else{return new e({invalid:t})}};e.fromDateTimes=function t(r,i){var n=bn(r),s=bn(i);var o=Xr(n,s);if(o==null){return new e({start:n,end:s})}else{return o}};e.after=function t(r,i){var n=Kr.fromDurationLike(i),s=bn(r);return e.fromDateTimes(s,s.plus(n))};e.before=function t(r,i){var n=Kr.fromDurationLike(i),s=bn(r);return e.fromDateTimes(s.minus(n),s)};e.fromISO=function t(r,i){var n=(r||"").split("/",2),s=n[0],o=n[1];if(s&&o){var a,l;try{a=gn.fromISO(s,i);l=a.isValid}catch(o){l=false}var u,c;try{u=gn.fromISO(o,i);c=u.isValid}catch(o){c=false}if(l&&c){return e.fromDateTimes(a,u)}if(l){var d=Kr.fromISO(o,i);if(d.isValid){return e.after(a,d)}}else if(c){var h=Kr.fromISO(s,i);if(h.isValid){return e.before(u,h)}}}return e.invalid("unparsable",'the input "'+r+"\" can't be parsed as ISO 8601")};e.isInterval=function e(t){return t&&t.isLuxonInterval||false};var t=e.prototype;t.length=function e(t){if(t===void 0){t="milliseconds"}return this.isValid?this.toDuration.apply(this,[t]).get(t):NaN};t.count=function e(t){if(t===void 0){t="milliseconds"}if(!this.isValid)return NaN;var r=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(r,t).get(t))+(i.valueOf()!==this.end.valueOf())};t.hasSame=function e(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):false};t.isEmpty=function e(){return this.s.valueOf()===this.e.valueOf()};t.isAfter=function e(t){if(!this.isValid)return false;return this.s>t};t.isBefore=function e(t){if(!this.isValid)return false;return this.e<=t};t.contains=function e(t){if(!this.isValid)return false;return this.s<=t&&this.e>t};t.set=function t(r){var i=r===void 0?{}:r,n=i.start,s=i.end;if(!this.isValid)return this;return e.fromDateTimes(n||this.s,s||this.e)};t.splitAt=function t(){var r=this;if(!this.isValid)return[];for(var i=arguments.length,n=new Array(i),s=0;s<i;s++){n[s]=arguments[s]}var o=n.map(bn).filter((function(e){return r.contains(e)})).sort(),a=[];var l=this.s,u=0;while(l<this.e){var c=o[u]||this.e,d=+c>+this.e?this.e:c;a.push(e.fromDateTimes(l,d));l=d;u+=1}return a};t.splitBy=function t(r){var i=Kr.fromDurationLike(r);if(!this.isValid||!i.isValid||i.as("milliseconds")===0){return[]}var n=this.s,s=1,o;var a=[];while(n<this.e){var l=this.start.plus(i.mapUnits((function(e){return e*s})));o=+l>+this.e?this.e:l;a.push(e.fromDateTimes(n,o));n=o;s+=1}return a};t.divideEqually=function e(t){if(!this.isValid)return[];return this.splitBy(this.length()/t).slice(0,t)};t.overlaps=function e(t){return this.e>t.s&&this.s<t.e};t.abutsStart=function e(t){if(!this.isValid)return false;return+this.e===+t.s};t.abutsEnd=function e(t){if(!this.isValid)return false;return+t.e===+this.s};t.engulfs=function e(t){if(!this.isValid)return false;return this.s<=t.s&&this.e>=t.e};t.equals=function e(t){if(!this.isValid||!t.isValid){return false}return this.s.equals(t.s)&&this.e.equals(t.e)};t.intersection=function t(r){if(!this.isValid)return this;var i=this.s>r.s?this.s:r.s,n=this.e<r.e?this.e:r.e;if(i>=n){return null}else{return e.fromDateTimes(i,n)}};t.union=function t(r){if(!this.isValid)return this;var i=this.s<r.s?this.s:r.s,n=this.e>r.e?this.e:r.e;return e.fromDateTimes(i,n)};e.merge=function e(t){var r=t.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var r=e[0],i=e[1];if(!i){return[r,t]}else if(i.overlaps(t)||i.abutsStart(t)){return[r,i.union(t)]}else{return[r.concat([i]),t]}}),[[],null]),i=r[0],n=r[1];if(n){i.push(n)}return i};e.xor=function t(r){var i;var n=null,s=0;var o=[],a=r.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=(i=Array.prototype).concat.apply(i,a),u=l.sort((function(e,t){return e.time-t.time}));for(var c=y(u),d;!(d=c()).done;){var h=d.value;s+=h.type==="s"?1:-1;if(s===1){n=h.time}else{if(n&&+n!==+h.time){o.push(e.fromDateTimes(n,h.time))}n=null}}return e.merge(o)};t.difference=function t(){var r=this;for(var i=arguments.length,n=new Array(i),s=0;s<i;s++){n[s]=arguments[s]}return e.xor([this].concat(n)).map((function(e){return r.intersection(e)})).filter((function(e){return e&&!e.isEmpty()}))};t.toString=function e(){if(!this.isValid)return Yr;return"["+this.s.toISO()+" – "+this.e.toISO()+")"};t.toLocaleString=function e(t,r){if(t===void 0){t=k}if(r===void 0){r={}}return this.isValid?Nt.create(this.s.loc.clone(r),t).formatInterval(this):Yr};t.toISO=function e(t){if(!this.isValid)return Yr;return this.s.toISO(t)+"/"+this.e.toISO(t)};t.toISODate=function e(){if(!this.isValid)return Yr;return this.s.toISODate()+"/"+this.e.toISODate()};t.toISOTime=function e(t){if(!this.isValid)return Yr;return this.s.toISOTime(t)+"/"+this.e.toISOTime(t)};t.toFormat=function e(t,r){var i=r===void 0?{}:r,n=i.separator,s=n===void 0?" – ":n;if(!this.isValid)return Yr;return""+this.s.toFormat(t)+s+this.e.toFormat(t)};t.toDuration=function e(t,r){if(!this.isValid){return Kr.invalid(this.invalidReason)}return this.e.diff(this.s,t,r)};t.mapEndpoints=function t(r){return e.fromDateTimes(r(this.s),r(this.e))};i(e,[{key:"start",get:function e(){return this.isValid?this.s:null}},{key:"end",get:function e(){return this.isValid?this.e:null}},{key:"isValid",get:function e(){return this.invalidReason===null}},{key:"invalidReason",get:function e(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function e(){return this.invalid?this.invalid.explanation:null}}]);return e}();var ti=function(){function e(){}e.hasDST=function e(t){if(t===void 0){t=qe.defaultZone}var r=gn.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset};e.isValidIANAZone=function e(t){return oe.isValidZone(t)};e.normalizeZone=function e(t){return Oe(t,qe.defaultZone)};e.months=function e(t,r){if(t===void 0){t="long"}var i=r===void 0?{}:r,n=i.locale,s=n===void 0?null:n,o=i.numberingSystem,a=o===void 0?null:o,l=i.locObj,u=l===void 0?null:l,c=i.outputCalendar,d=c===void 0?"gregory":c;return(u||Fe.create(s,a,d)).months(t)};e.monthsFormat=function e(t,r){if(t===void 0){t="long"}var i=r===void 0?{}:r,n=i.locale,s=n===void 0?null:n,o=i.numberingSystem,a=o===void 0?null:o,l=i.locObj,u=l===void 0?null:l,c=i.outputCalendar,d=c===void 0?"gregory":c;return(u||Fe.create(s,a,d)).months(t,true)};e.weekdays=function e(t,r){if(t===void 0){t="long"}var i=r===void 0?{}:r,n=i.locale,s=n===void 0?null:n,o=i.numberingSystem,a=o===void 0?null:o,l=i.locObj,u=l===void 0?null:l;return(u||Fe.create(s,a,null)).weekdays(t)};e.weekdaysFormat=function e(t,r){if(t===void 0){t="long"}var i=r===void 0?{}:r,n=i.locale,s=n===void 0?null:n,o=i.numberingSystem,a=o===void 0?null:o,l=i.locObj,u=l===void 0?null:l;return(u||Fe.create(s,a,null)).weekdays(t,true)};e.meridiems=function e(t){var r=t===void 0?{}:t,i=r.locale,n=i===void 0?null:i;return Fe.create(n).meridiems()};e.eras=function e(t,r){if(t===void 0){t="short"}var i=r===void 0?{}:r,n=i.locale,s=n===void 0?null:n;return Fe.create(s,null,"gregory").eras(t)};e.features=function e(){return{relative:Be()}};return e}();function ri(e,t){var r=function e(t){return t.toUTC(0,{keepLocalTime:true}).startOf("day").valueOf()},i=r(t)-r(e);return Math.floor(Kr.fromMillis(i).as("days"))}function ii(e,t,r){var i=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+(t.year-e.year)*4}],["months",function(e,t){return t.month-e.month+(t.year-e.year)*12}],["weeks",function(e,t){var r=ri(e,t);return(r-r%7)/7}],["days",ri]];var n={};var s=e;var o,a;for(var l=0,u=i;l<u.length;l++){var c=u[l],d=c[0],h=c[1];if(r.indexOf(d)>=0){o=d;n[d]=h(e,t);a=s.plus(n);if(a>t){n[d]--;e=s.plus(n)}else{e=a}}}return[e,n,a,o]}function ni(e,t,r,i){var n=ii(e,t,r),s=n[0],o=n[1],a=n[2],l=n[3];var u=t-s;var c=r.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(c.length===0){if(a<t){var d;a=s.plus((d={},d[l]=1,d))}if(a!==s){o[l]=(o[l]||0)+u/(a-s)}}var h=Kr.fromObject(o,i);if(c.length>0){var f;return(f=Kr.fromMillis(u,i)).shiftTo.apply(f,c).plus(h)}else{return h}}var si={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"};var oi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]};var ai=si.hanidec.replace(/[\[|\]]/g,"").split("");function li(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var r=0;r<e.length;r++){var i=e.charCodeAt(r);if(e[r].search(si.hanidec)!==-1){t+=ai.indexOf(e[r])}else{for(var n in oi){var s=oi[n],o=s[0],a=s[1];if(i>=o&&i<=a){t+=i-o}}}}return parseInt(t,10)}else{return t}}function ui(e,t){var r=e.numberingSystem;if(t===void 0){t=""}return new RegExp(""+si[r||"latn"]+t)}var ci="missing Intl.DateTimeFormat.formatToParts support";function di(e,t){if(t===void 0){t=function e(t){return t}}return{regex:e,deser:function e(r){var i=r[0];return t(li(i))}}}var hi=String.fromCharCode(160);var fi="[ "+hi+"]";var pi=new RegExp(fi,"g");function yi(e){return e.replace(/\./g,"\\.?").replace(pi,fi)}function mi(e){return e.replace(/\./g,"").replace(pi," ").toLowerCase()}function vi(e,t){if(e===null){return null}else{return{regex:RegExp(e.map(yi).join("|")),deser:function r(i){var n=i[0];return e.findIndex((function(e){return mi(n)===mi(e)}))+t}}}}function gi(e,t){return{regex:e,deser:function e(t){var r=t[1],i=t[2];return dt(r,i)},groups:t}}function bi(e){return{regex:e,deser:function e(t){var r=t[0];return r}}}function wi(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Si(e,t){var r=ui(t),i=ui(t,"{2}"),n=ui(t,"{3}"),s=ui(t,"{4}"),o=ui(t,"{6}"),a=ui(t,"{1,2}"),l=ui(t,"{1,3}"),u=ui(t,"{1,6}"),c=ui(t,"{1,9}"),d=ui(t,"{2,4}"),h=ui(t,"{4,6}"),f=function e(t){return{regex:RegExp(wi(t.val)),deser:function e(t){var r=t[0];return r},literal:true}},p=function p(y){if(e.literal){return f(y)}switch(y.val){case"G":return vi(t.eras("short",false),0);case"GG":return vi(t.eras("long",false),0);case"y":return di(u);case"yy":return di(d,ut);case"yyyy":return di(s);case"yyyyy":return di(h);case"yyyyyy":return di(o);case"M":return di(a);case"MM":return di(i);case"MMM":return vi(t.months("short",true,false),1);case"MMMM":return vi(t.months("long",true,false),1);case"L":return di(a);case"LL":return di(i);case"LLL":return vi(t.months("short",false,false),1);case"LLLL":return vi(t.months("long",false,false),1);case"d":return di(a);case"dd":return di(i);case"o":return di(l);case"ooo":return di(n);case"HH":return di(i);case"H":return di(a);case"hh":return di(i);case"h":return di(a);case"mm":return di(i);case"m":return di(a);case"q":return di(a);case"qq":return di(i);case"s":return di(a);case"ss":return di(i);case"S":return di(l);case"SSS":return di(n);case"u":return bi(c);case"uu":return bi(a);case"uuu":return di(r);case"a":return vi(t.meridiems(),0);case"kkkk":return di(s);case"kk":return di(d,ut);case"W":return di(a);case"WW":return di(i);case"E":case"c":return di(r);case"EEE":return vi(t.weekdays("short",false,false),1);case"EEEE":return vi(t.weekdays("long",false,false),1);case"ccc":return vi(t.weekdays("short",true,false),1);case"cccc":return vi(t.weekdays("long",true,false),1);case"Z":case"ZZ":return gi(new RegExp("([+-]"+a.source+")(?::("+i.source+"))?"),2);case"ZZZ":return gi(new RegExp("([+-]"+a.source+")("+i.source+")?"),2);case"z":return bi(/[a-z_+-/]{1,256}?/i);case" ":return bi(/[^\S\n\r]/);default:return f(y)}};var y=p(e)||{invalidReason:ci};y.token=e;return y}var xi={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function ji(e,t){var r=e.type,i=e.value;if(r==="literal"){var n=/^\s+$/.test(i);return{literal:!n,val:n?" ":i}}var s=t[r];var o=xi[r];if(typeof o==="object"){o=o[s]}if(o){return{literal:false,val:o}}return undefined}function Ti(e){var t=e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"");return["^"+t+"$",e]}function Ii(e,t,r){var i=e.match(t);if(i){var n={};var s=1;for(var o in r){if(Qe(r,o)){var a=r[o],l=a.groups?a.groups+1:1;if(!a.literal&&a.token){n[a.token.val[0]]=a.deser(i.slice(s,s+l))}s+=l}}return[i,n]}else{return[i,{}]}}function Mi(e){var t=function e(t){switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};var r=null;var i;if(!Ve(e.z)){r=oe.create(e.z)}if(!Ve(e.Z)){if(!r){r=new Ae(e.Z)}i=e.Z}if(!Ve(e.q)){e.M=(e.q-1)*3+1}if(!Ve(e.h)){if(e.h<12&&e.a===1){e.h+=12}else if(e.h===12&&e.a===0){e.h=0}}if(e.G===0&&e.y){e.y=-e.y}if(!Ve(e.u)){e.S=rt(e.u)}var n=Object.keys(e).reduce((function(r,i){var n=t(i);if(n){r[n]=e[i]}return r}),{});return[n,r,i]}var Ei=null;function Fi(){if(!Ei){Ei=gn.fromMillis(1555555555555)}return Ei}function ki(e,t){if(e.literal){return e}var r=Nt.macroTokenToFormatOpts(e.val);var i=Pi(r,t);if(i==null||i.includes(undefined)){return e}return i}function Ai(e,t){var r;return(r=Array.prototype).concat.apply(r,e.map((function(e){return ki(e,t)})))}function Ci(e,t,r){var i=Ai(Nt.parseFormat(r),e),n=i.map((function(t){return Si(t,e)})),s=n.find((function(e){return e.invalidReason}));if(s){return{input:t,tokens:i,invalidReason:s.invalidReason}}else{var o=Ti(n),a=o[0],l=o[1],u=RegExp(a,"i"),c=Ii(t,u,l),d=c[0],h=c[1],f=h?Mi(h):[null,null,undefined],p=f[0],y=f[1],m=f[2];if(Qe(h,"a")&&Qe(h,"H")){throw new x("Can't include meridiem when specifying 24-hour format")}return{input:t,tokens:i,regex:u,rawMatches:d,matches:h,result:p,zone:y,specificOffset:m}}}function Oi(e,t,r){var i=Ci(e,t,r),n=i.result,s=i.zone,o=i.specificOffset,a=i.invalidReason;return[n,s,o,a]}function Pi(e,t){if(!e){return null}var r=Nt.create(t,e);var i=r.formatDateTimeParts(Fi());return i.map((function(t){return ji(t,e)}))}var Di=[0,31,59,90,120,151,181,212,243,273,304,334],Ri=[0,31,60,91,121,152,182,213,244,274,305,335];function Ni(e,t){return new $t("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function $i(e,t,r){var i=new Date(Date.UTC(e,t-1,r));if(e<100&&e>=0){i.setUTCFullYear(i.getUTCFullYear()-1900)}var n=i.getUTCDay();return n===0?7:n}function Li(e,t,r){return r+(nt(e)?Ri:Di)[t-1]}function _i(e,t){var r=nt(e)?Ri:Di,i=r.findIndex((function(e){return e<t})),n=t-r[i];return{month:i+1,day:n}}function qi(e){var t=e.year,r=e.month,i=e.day,s=Li(t,r,i),o=$i(t,r,i);var a=Math.floor((s-o+10)/7),l;if(a<1){l=t-1;a=lt(l)}else if(a>lt(t)){l=t+1;a=1}else{l=t}return n({weekYear:l,weekNumber:a,weekday:o},yt(e))}function Vi(e){var t=e.weekYear,r=e.weekNumber,i=e.weekday,s=$i(t,1,4),o=st(t);var a=r*7+i-s-3,l;if(a<1){l=t-1;a+=st(l)}else if(a>o){l=t+1;a-=st(t)}else{l=t}var u=_i(l,a),c=u.month,d=u.day;return n({year:l,month:c,day:d},yt(e))}function zi(e){var t=e.year,r=e.month,i=e.day;var s=Li(t,r,i);return n({year:t,ordinal:s},yt(e))}function Wi(e){var t=e.year,r=e.ordinal;var i=_i(t,r),s=i.month,o=i.day;return n({year:t,month:s,day:o},yt(e))}function Ui(e){var t=We(e.weekYear),r=Ke(e.weekNumber,1,lt(e.weekYear)),i=Ke(e.weekday,1,7);if(!t){return Ni("weekYear",e.weekYear)}else if(!r){return Ni("week",e.week)}else if(!i){return Ni("weekday",e.weekday)}else return false}function Gi(e){var t=We(e.year),r=Ke(e.ordinal,1,st(e.year));if(!t){return Ni("year",e.year)}else if(!r){return Ni("ordinal",e.ordinal)}else return false}function Bi(e){var t=We(e.year),r=Ke(e.month,1,12),i=Ke(e.day,1,ot(e.year,e.month));if(!t){return Ni("year",e.year)}else if(!r){return Ni("month",e.month)}else if(!i){return Ni("day",e.day)}else return false}function Hi(e){var t=e.hour,r=e.minute,i=e.second,n=e.millisecond;var s=Ke(t,0,23)||t===24&&r===0&&i===0&&n===0,o=Ke(r,0,59),a=Ke(i,0,59),l=Ke(n,0,999);if(!s){return Ni("hour",t)}else if(!o){return Ni("minute",r)}else if(!a){return Ni("second",i)}else if(!l){return Ni("millisecond",n)}else return false}var Ji="Invalid DateTime";var Zi=864e13;function Qi(e){return new $t("unsupported zone",'the zone "'+e.name+'" is not supported')}function Ki(e){if(e.weekData===null){e.weekData=qi(e.c)}return e.weekData}function Yi(e,t){var r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new gn(n({},r,t,{old:r}))}function Xi(e,t,r){var i=e-t*60*1e3;var n=r.offset(i);if(t===n){return[i,t]}i-=(n-t)*60*1e3;var s=r.offset(i);if(n===s){return[i,n]}return[e-Math.min(n,s)*60*1e3,Math.max(n,s)]}function en(e,t){e+=t*60*1e3;var r=new Date(e);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function tn(e,t,r){return Xi(at(e),t,r)}function rn(e,t){var r=e.o,i=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o=n({},e.c,{year:i,month:s,day:Math.min(e.c.day,ot(i,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7}),a=Kr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=at(o);var u=Xi(l,r,e.zone),c=u[0],d=u[1];if(a!==0){c+=a;d=e.zone.offset(c)}return{ts:c,o:d}}function nn(e,t,r,i,s,o){var a=r.setZone,l=r.zone;if(e&&Object.keys(e).length!==0||t){var u=t||l,c=gn.fromObject(e,n({},r,{zone:u,specificOffset:o}));return a?c:c.setZone(l)}else{return gn.invalid(new $t("unparsable",'the input "'+s+"\" can't be parsed as "+i))}}function sn(e,t,r){if(r===void 0){r=true}return e.isValid?Nt.create(Fe.create("en-US"),{allowZ:r,forceSimple:true}).formatDateTimeFromString(e,t):null}function on(e,t){var r=e.c.year>9999||e.c.year<0;var i="";if(r&&e.c.year>=0)i+="+";i+=Xe(e.c.year,r?6:4);if(t){i+="-";i+=Xe(e.c.month);i+="-";i+=Xe(e.c.day)}else{i+=Xe(e.c.month);i+=Xe(e.c.day)}return i}function an(e,t,r,i,n,s){var o=Xe(e.c.hour);if(t){o+=":";o+=Xe(e.c.minute);if(e.c.second!==0||!r){o+=":"}}else{o+=Xe(e.c.minute)}if(e.c.second!==0||!r){o+=Xe(e.c.second);if(e.c.millisecond!==0||!i){o+=".";o+=Xe(e.c.millisecond,3)}}if(n){if(e.isOffsetFixed&&e.offset===0&&!s){o+="Z"}else if(e.o<0){o+="-";o+=Xe(Math.trunc(-e.o/60));o+=":";o+=Xe(Math.trunc(-e.o%60))}else{o+="+";o+=Xe(Math.trunc(e.o/60));o+=":";o+=Xe(Math.trunc(e.o%60))}}if(s){o+="["+e.zone.ianaName+"]"}return o}var ln={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},un={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cn={ordinal:1,hour:0,minute:0,second:0,millisecond:0};var dn=["year","month","day","hour","minute","second","millisecond"],hn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],fn=["year","ordinal","hour","minute","second","millisecond"];function pn(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new j(e);return t}function yn(e,t){var r=Oe(t.zone,qe.defaultZone),i=Fe.fromObject(t),n=qe.now();var s,o;if(!Ve(e.year)){for(var a=0,l=dn;a<l.length;a++){var u=l[a];if(Ve(e[u])){e[u]=ln[u]}}var c=Bi(e)||Hi(e);if(c){return gn.invalid(c)}var d=r.offset(n);var h=tn(e,d,r);s=h[0];o=h[1]}else{s=n}return new gn({ts:s,zone:r,loc:i,o})}function mn(e,t,r){var i=Ve(r.round)?true:r.round,n=function e(n,s){n=it(n,i||r.calendary?0:2,true);var o=t.loc.clone(r).relFormatter(r);return o.format(n,s)},s=function i(n){if(r.calendary){if(!t.hasSame(e,n)){return t.startOf(n).diff(e.startOf(n),n).get(n)}else return 0}else{return t.diff(e,n).get(n)}};if(r.unit){return n(s(r.unit),r.unit)}for(var o=y(r.units),a;!(a=o()).done;){var l=a.value;var u=s(l);if(Math.abs(u)>=1){return n(u,l)}}return n(e>t?-0:0,r.units[r.units.length-1])}function vn(e){var t={},r;if(e.length>0&&typeof e[e.length-1]==="object"){t=e[e.length-1];r=Array.from(e).slice(0,e.length-1)}else{r=Array.from(e)}return[t,r]}var gn=function(){function e(e){var t=e.zone||qe.defaultZone;var r=e.invalid||(Number.isNaN(e.ts)?new $t("invalid input"):null)||(!t.isValid?Qi(t):null);this.ts=Ve(e.ts)?qe.now():e.ts;var i=null,n=null;if(!r){var s=e.old&&e.old.ts===this.ts&&e.old.zone.equals(t);if(s){var o=[e.old.c,e.old.o];i=o[0];n=o[1]}else{var a=t.offset(this.ts);i=en(this.ts,a);r=Number.isNaN(i.year)?new $t("invalid input"):null;i=r?null:i;n=r?null:a}}this._zone=t;this.loc=e.loc||Fe.create();this.invalid=r;this.weekData=null;this.c=i;this.o=n;this.isLuxonDateTime=true}e.now=function t(){return new e({})};e.local=function e(){var t=vn(arguments),r=t[0],i=t[1],n=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],c=i[6];return yn({year:n,month:s,day:o,hour:a,minute:l,second:u,millisecond:c},r)};e.utc=function e(){var t=vn(arguments),r=t[0],i=t[1],n=i[0],s=i[1],o=i[2],a=i[3],l=i[4],u=i[5],c=i[6];r.zone=Ae.utcInstance;return yn({year:n,month:s,day:o,hour:a,minute:l,second:u,millisecond:c},r)};e.fromJSDate=function t(r,i){if(i===void 0){i={}}var n=Ge(r)?r.valueOf():NaN;if(Number.isNaN(n)){return e.invalid("invalid input")}var s=Oe(i.zone,qe.defaultZone);if(!s.isValid){return e.invalid(Qi(s))}return new e({ts:n,zone:s,loc:Fe.fromObject(i)})};e.fromMillis=function t(r,i){if(i===void 0){i={}}if(!ze(r)){throw new T("fromMillis requires a numerical input, but received a "+typeof r+" with value "+r)}else if(r<-Zi||r>Zi){return e.invalid("Timestamp out of range")}else{return new e({ts:r,zone:Oe(i.zone,qe.defaultZone),loc:Fe.fromObject(i)})}};e.fromSeconds=function t(r,i){if(i===void 0){i={}}if(!ze(r)){throw new T("fromSeconds requires a numerical input")}else{return new e({ts:r*1e3,zone:Oe(i.zone,qe.defaultZone),loc:Fe.fromObject(i)})}};e.fromObject=function t(r,i){if(i===void 0){i={}}r=r||{};var n=Oe(i.zone,qe.defaultZone);if(!n.isValid){return e.invalid(Qi(n))}var s=qe.now(),o=!Ve(i.specificOffset)?i.specificOffset:n.offset(s),a=ft(r,pn),l=!Ve(a.ordinal),u=!Ve(a.year),c=!Ve(a.month)||!Ve(a.day),d=u||c,h=a.weekYear||a.weekNumber,f=Fe.fromObject(i);if((d||l)&&h){throw new x("Can't mix weekYear/weekNumber units with year/month/day or ordinals")}if(c&&l){throw new x("Can't mix ordinal dates with month/day")}var p=h||a.weekday&&!d;var m,v,g=en(s,o);if(p){m=hn;v=un;g=qi(g)}else if(l){m=fn;v=cn;g=zi(g)}else{m=dn;v=ln}var b=false;for(var w=y(m),S;!(S=w()).done;){var j=S.value;var T=a[j];if(!Ve(T)){b=true}else if(b){a[j]=v[j]}else{a[j]=g[j]}}var I=p?Ui(a):l?Gi(a):Bi(a),M=I||Hi(a);if(M){return e.invalid(M)}var E=p?Vi(a):l?Wi(a):a,F=tn(E,o,n),k=F[0],A=F[1],C=new e({ts:k,zone:n,o:A,loc:f});if(a.weekday&&d&&r.weekday!==C.weekday){return e.invalid("mismatched weekday","you can't specify both a weekday of "+a.weekday+" and a date of "+C.toISO())}return C};e.fromISO=function e(t,r){if(r===void 0){r={}}var i=Fr(t),n=i[0],s=i[1];return nn(n,s,r,"ISO 8601",t)};e.fromRFC2822=function e(t,r){if(r===void 0){r={}}var i=kr(t),n=i[0],s=i[1];return nn(n,s,r,"RFC 2822",t)};e.fromHTTP=function e(t,r){if(r===void 0){r={}}var i=Ar(t),n=i[0],s=i[1];return nn(n,s,r,"HTTP",r)};e.fromFormat=function t(r,i,n){if(n===void 0){n={}}if(Ve(r)||Ve(i)){throw new T("fromFormat requires an input string and a format")}var s=n,o=s.locale,a=o===void 0?null:o,l=s.numberingSystem,u=l===void 0?null:l,c=Fe.fromOpts({locale:a,numberingSystem:u,defaultToEN:true}),d=Oi(c,r,i),h=d[0],f=d[1],p=d[2],y=d[3];if(y){return e.invalid(y)}else{return nn(h,f,n,"format "+i,r,p)}};e.fromString=function t(r,i,n){if(n===void 0){n={}}return e.fromFormat(r,i,n)};e.fromSQL=function e(t,r){if(r===void 0){r={}}var i=$r(t),n=i[0],s=i[1];return nn(n,s,r,"SQL",t)};e.invalid=function t(r,i){if(i===void 0){i=null}if(!r){throw new T("need to specify a reason the DateTime is invalid")}var t=r instanceof $t?r:new $t(r,i);if(qe.throwOnInvalid){throw new b(t)}else{return new e({invalid:t})}};e.isDateTime=function e(t){return t&&t.isLuxonDateTime||false};e.parseFormatForOpts=function e(t,r){if(r===void 0){r={}}var i=Pi(t,Fe.fromObject(r));return!i?null:i.map((function(e){return e?e.val:null})).join("")};e.expandFormat=function e(t,r){if(r===void 0){r={}}var i=Ai(Nt.parseFormat(t),Fe.fromObject(r));return i.map((function(e){return e.val})).join("")};var t=e.prototype;t.get=function e(t){return this[t]};t.resolvedLocaleOptions=function e(t){if(t===void 0){t={}}var r=Nt.create(this.loc.clone(t),t).resolvedOptions(this),i=r.locale,n=r.numberingSystem,s=r.calendar;return{locale:i,numberingSystem:n,outputCalendar:s}};t.toUTC=function e(t,r){if(t===void 0){t=0}if(r===void 0){r={}}return this.setZone(Ae.instance(t),r)};t.toLocal=function e(){return this.setZone(qe.defaultZone)};t.setZone=function t(r,i){var n=i===void 0?{}:i,s=n.keepLocalTime,o=s===void 0?false:s,a=n.keepCalendarTime,l=a===void 0?false:a;r=Oe(r,qe.defaultZone);if(r.equals(this.zone)){return this}else if(!r.isValid){return e.invalid(Qi(r))}else{var u=this.ts;if(o||l){var c=r.offset(this.ts);var d=this.toObject();var h=tn(d,c,r);u=h[0]}return Yi(this,{ts:u,zone:r})}};t.reconfigure=function e(t){var r=t===void 0?{}:t,i=r.locale,n=r.numberingSystem,s=r.outputCalendar;var o=this.loc.clone({locale:i,numberingSystem:n,outputCalendar:s});return Yi(this,{loc:o})};t.setLocale=function e(t){return this.reconfigure({locale:t})};t.set=function e(t){if(!this.isValid)return this;var r=ft(t,pn),i=!Ve(r.weekYear)||!Ve(r.weekNumber)||!Ve(r.weekday),s=!Ve(r.ordinal),o=!Ve(r.year),a=!Ve(r.month)||!Ve(r.day),l=o||a,u=r.weekYear||r.weekNumber;if((l||s)&&u){throw new x("Can't mix weekYear/weekNumber units with year/month/day or ordinals")}if(a&&s){throw new x("Can't mix ordinal dates with month/day")}var c;if(i){c=Vi(n({},qi(this.c),r))}else if(!Ve(r.ordinal)){c=Wi(n({},zi(this.c),r))}else{c=n({},this.toObject(),r);if(Ve(r.day)){c.day=Math.min(ot(c.year,c.month),c.day)}}var d=tn(c,this.o,this.zone),h=d[0],f=d[1];return Yi(this,{ts:h,o:f})};t.plus=function e(t){if(!this.isValid)return this;var r=Kr.fromDurationLike(t);return Yi(this,rn(this,r))};t.minus=function e(t){if(!this.isValid)return this;var r=Kr.fromDurationLike(t).negate();return Yi(this,rn(this,r))};t.startOf=function e(t){if(!this.isValid)return this;var r={},i=Kr.normalizeUnit(t);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks"){r.weekday=1}if(i==="quarters"){var n=Math.ceil(this.month/3);r.month=(n-1)*3+1}return this.set(r)};t.endOf=function e(t){var r;return this.isValid?this.plus((r={},r[t]=1,r)).startOf(t).minus(1):this};t.toFormat=function e(t,r){if(r===void 0){r={}}return this.isValid?Nt.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):Ji};t.toLocaleString=function e(t,r){if(t===void 0){t=k}if(r===void 0){r={}}return this.isValid?Nt.create(this.loc.clone(r),t).formatDateTime(this):Ji};t.toLocaleParts=function e(t){if(t===void 0){t={}}return this.isValid?Nt.create(this.loc.clone(t),t).formatDateTimeParts(this):[]};t.toISO=function e(t){var r=t===void 0?{}:t,i=r.format,n=i===void 0?"extended":i,s=r.suppressSeconds,o=s===void 0?false:s,a=r.suppressMilliseconds,l=a===void 0?false:a,u=r.includeOffset,c=u===void 0?true:u,d=r.extendedZone,h=d===void 0?false:d;if(!this.isValid){return null}var f=n==="extended";var p=on(this,f);p+="T";p+=an(this,f,o,l,c,h);return p};t.toISODate=function e(t){var r=t===void 0?{}:t,i=r.format,n=i===void 0?"extended":i;if(!this.isValid){return null}return on(this,n==="extended")};t.toISOWeekDate=function e(){return sn(this,"kkkk-'W'WW-c")};t.toISOTime=function e(t){var r=t===void 0?{}:t,i=r.suppressMilliseconds,n=i===void 0?false:i,s=r.suppressSeconds,o=s===void 0?false:s,a=r.includeOffset,l=a===void 0?true:a,u=r.includePrefix,c=u===void 0?false:u,d=r.extendedZone,h=d===void 0?false:d,f=r.format,p=f===void 0?"extended":f;if(!this.isValid){return null}var y=c?"T":"";return y+an(this,p==="extended",o,n,l,h)};t.toRFC2822=function e(){return sn(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",false)};t.toHTTP=function e(){return sn(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")};t.toSQLDate=function e(){if(!this.isValid){return null}return on(this,true)};t.toSQLTime=function e(t){var r=t===void 0?{}:t,i=r.includeOffset,n=i===void 0?true:i,s=r.includeZone,o=s===void 0?false:s,a=r.includeOffsetSpace,l=a===void 0?true:a;var u="HH:mm:ss.SSS";if(o||n){if(l){u+=" "}if(o){u+="z"}else if(n){u+="ZZ"}}return sn(this,u,true)};t.toSQL=function e(t){if(t===void 0){t={}}if(!this.isValid){return null}return this.toSQLDate()+" "+this.toSQLTime(t)};t.toString=function e(){return this.isValid?this.toISO():Ji};t.valueOf=function e(){return this.toMillis()};t.toMillis=function e(){return this.isValid?this.ts:NaN};t.toSeconds=function e(){return this.isValid?this.ts/1e3:NaN};t.toUnixInteger=function e(){return this.isValid?Math.floor(this.ts/1e3):NaN};t.toJSON=function e(){return this.toISO()};t.toBSON=function e(){return this.toJSDate()};t.toObject=function e(t){if(t===void 0){t={}}if(!this.isValid)return{};var r=n({},this.c);if(t.includeConfig){r.outputCalendar=this.outputCalendar;r.numberingSystem=this.loc.numberingSystem;r.locale=this.loc.locale}return r};t.toJSDate=function e(){return new Date(this.isValid?this.ts:NaN)};t.diff=function e(t,r,i){if(r===void 0){r="milliseconds"}if(i===void 0){i={}}if(!this.isValid||!t.isValid){return Kr.invalid("created by diffing an invalid DateTime")}var s=n({locale:this.locale,numberingSystem:this.numberingSystem},i);var o=He(r).map(Kr.normalizeUnit),a=t.valueOf()>this.valueOf(),l=a?this:t,u=a?t:this,c=ni(l,u,o,s);return a?c.negate():c};t.diffNow=function t(r,i){if(r===void 0){r="milliseconds"}if(i===void 0){i={}}return this.diff(e.now(),r,i)};t.until=function e(t){return this.isValid?ei.fromDateTimes(this,t):this};t.hasSame=function e(t,r){if(!this.isValid)return false;var i=t.valueOf();var n=this.setZone(t.zone,{keepLocalTime:true});return n.startOf(r)<=i&&i<=n.endOf(r)};t.equals=function e(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)};t.toRelative=function t(r){if(r===void 0){r={}}if(!this.isValid)return null;var i=r.base||e.fromObject({},{zone:this.zone}),s=r.padding?this<i?-r.padding:r.padding:0;var o=["years","months","days","hours","minutes","seconds"];var a=r.unit;if(Array.isArray(r.unit)){o=r.unit;a=undefined}return mn(i,this.plus(s),n({},r,{numeric:"always",units:o,unit:a}))};t.toRelativeCalendar=function t(r){if(r===void 0){r={}}if(!this.isValid)return null;return mn(r.base||e.fromObject({},{zone:this.zone}),this,n({},r,{numeric:"auto",units:["years","months","days"],calendary:true}))};e.min=function t(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}if(!i.every(e.isDateTime)){throw new T("min requires all arguments be DateTimes")}return Je(i,(function(e){return e.valueOf()}),Math.min)};e.max=function t(){for(var r=arguments.length,i=new Array(r),n=0;n<r;n++){i[n]=arguments[n]}if(!i.every(e.isDateTime)){throw new T("max requires all arguments be DateTimes")}return Je(i,(function(e){return e.valueOf()}),Math.max)};e.fromFormatExplain=function e(t,r,i){if(i===void 0){i={}}var n=i,s=n.locale,o=s===void 0?null:s,a=n.numberingSystem,l=a===void 0?null:a,u=Fe.fromOpts({locale:o,numberingSystem:l,defaultToEN:true});return Ci(u,t,r)};e.fromStringExplain=function t(r,i,n){if(n===void 0){n={}}return e.fromFormatExplain(r,i,n)};i(e,[{key:"isValid",get:function e(){return this.invalid===null}},{key:"invalidReason",get:function e(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function e(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function e(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function e(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function e(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function e(){return this._zone}},{key:"zoneName",get:function e(){return this.isValid?this.zone.name:null}},{key:"year",get:function e(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function e(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function e(){return this.isValid?this.c.month:NaN}},{key:"day",get:function e(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function e(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function e(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function e(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function e(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function e(){return this.isValid?Ki(this).weekYear:NaN}},{key:"weekNumber",get:function e(){return this.isValid?Ki(this).weekNumber:NaN}},{key:"weekday",get:function e(){return this.isValid?Ki(this).weekday:NaN}},{key:"ordinal",get:function e(){return this.isValid?zi(this.c).ordinal:NaN}},{key:"monthShort",get:function e(){return this.isValid?ti.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function e(){return this.isValid?ti.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function e(){return this.isValid?ti.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function e(){return this.isValid?ti.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function e(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function e(){if(this.isValid){return this.zone.offsetName(this.ts,{format:"short",locale:this.locale})}else{return null}}},{key:"offsetNameLong",get:function e(){if(this.isValid){return this.zone.offsetName(this.ts,{format:"long",locale:this.locale})}else{return null}}},{key:"isOffsetFixed",get:function e(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function e(){if(this.isOffsetFixed){return false}else{return this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}}},{key:"isInLeapYear",get:function e(){return nt(this.year)}},{key:"daysInMonth",get:function e(){return ot(this.year,this.month)}},{key:"daysInYear",get:function e(){return this.isValid?st(this.year):NaN}},{key:"weeksInWeekYear",get:function e(){return this.isValid?lt(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function e(){return k}},{key:"DATE_MED",get:function e(){return A}},{key:"DATE_MED_WITH_WEEKDAY",get:function e(){return C}},{key:"DATE_FULL",get:function e(){return O}},{key:"DATE_HUGE",get:function e(){return P}},{key:"TIME_SIMPLE",get:function e(){return D}},{key:"TIME_WITH_SECONDS",get:function e(){return R}},{key:"TIME_WITH_SHORT_OFFSET",get:function e(){return N}},{key:"TIME_WITH_LONG_OFFSET",get:function e(){return $}},{key:"TIME_24_SIMPLE",get:function e(){return L}},{key:"TIME_24_WITH_SECONDS",get:function e(){return _}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function e(){return q}},{key:"TIME_24_WITH_LONG_OFFSET",get:function e(){return V}},{key:"DATETIME_SHORT",get:function e(){return z}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function e(){return W}},{key:"DATETIME_MED",get:function e(){return U}},{key:"DATETIME_MED_WITH_SECONDS",get:function e(){return G}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function e(){return B}},{key:"DATETIME_FULL",get:function e(){return H}},{key:"DATETIME_FULL_WITH_SECONDS",get:function e(){return J}},{key:"DATETIME_HUGE",get:function e(){return Z}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function e(){return Q}}]);return e}();function bn(e){if(gn.isDateTime(e)){return e}else if(e&&e.valueOf&&ze(e.valueOf())){return gn.fromJSDate(e)}else if(e&&typeof e==="object"){return gn.fromObject(e)}else{throw new T("Unknown datetime argument: "+e+", of type "+typeof e)}}var wn="3.3.0";t.DateTime=gn;t.Duration=Kr;t.FixedOffsetZone=Ae;t.IANAZone=oe;t.Info=ti;t.Interval=ei;t.InvalidZone=Ce;t.Settings=qe;t.SystemZone=X;t.VERSION=wn;t.Zone=K}));const mv={year:void 0,month:void 0,day:void 0,weekday:void 0},vv={hour:void 0,minute:void 0,second:void 0},gv={timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},bv={timeZone:"Etc/UTC"},wv={year:"numeric",month:"numeric",day:"numeric"},Sv={year:"numeric",month:"long",day:"numeric"},xv={year:"numeric",month:"short",day:"numeric"},jv={year:"numeric",month:"long",weekday:"long",day:"numeric"},Tv={hour:"numeric",minute:"numeric"},Iv={...Tv,second:"numeric"},Mv={"short-date":wv,"short-date-short-time":{...wv,...Tv},"short-date-short-time-24":{...wv,...Tv,hour12:!1},"short-date-long-time":{...wv,...Iv},"short-date-long-time-24":{...wv,...Iv,hour12:!1},"short-date-le":wv,"short-date-le-short-time":{...wv,...Tv},"short-date-le-short-time-24":{...wv,...Tv,hour12:!1},"short-date-le-long-time":{...wv,...Iv},"short-date-le-long-time-24":{...wv,...Iv,hour12:!1},"long-month-day-year":Sv,"long-month-day-year-short-time":{...Sv,...Tv},"long-month-day-year-short-time-24":{...Sv,...Tv,hour12:!1},"long-month-day-year-long-time":{...Sv,...Iv},"long-month-day-year-long-time-24":{...Sv,...Iv,hour12:!1},"day-short-month-year":xv,"day-short-month-year-short-time":{...xv,...Tv},"day-short-month-year-short-time-24":{...xv,...Tv,hour12:!1},"day-short-month-year-long-time":{...xv,...Iv},"day-short-month-year-long-time-24":{...xv,...Iv,hour12:!1},"long-date":jv,"long-date-short-time":{...jv,...Tv},"long-date-short-time-24":{...jv,...Tv,hour12:!1},"long-date-long-time":{...jv,...Iv},"long-date-long-time-24":{...jv,...Iv,hour12:!1},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":Tv,"long-time":Iv},Ev=sl()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Fv={ar:"ar-u-nu-latn-ca-gregory"};let kv=new WeakMap,Av=Mv["short-date-short-time"];function Cv(e){const t=e||Av;let r=kv.get(t);if(!r){const e=av(),i=Fv[e]||e;r=new Intl.DateTimeFormat(i,t),kv.set(t,r)}return r}function Ov(e){return Mv[e]}function Pv(e,t){return Cv(t).format(e)}function Dv(e,t=Mv["short-date"]){return Pv(new Date(e),{...t,...bv,...vv})}function Rv(e,t=Mv["short-time"]){return Pv(new Date(`1970-01-01T${e}Z`),{...t,...bv,...mv})}function Nv(e,t=Mv["short-date-short-time"]){const r=yv.DateTime.fromISO(e,{setZone:!0}),i=av(),n=Fv[i]??i;return r.toLocaleString({...gv,...t},{locale:n})}dv((()=>{kv=new WeakMap,Av=Mv["short-date-short-time"]}));const $v={ar:"ar-u-nu-latn"};let Lv=new WeakMap,_v={};function qv(e){const t=e||_v;if(!Lv.has(t)){const r=av(),i=$v[av()]||r;Lv.set(t,new Intl.NumberFormat(i,e))}return ke(Lv.get(t))}function Vv(e={}){const t={};return null!=e.digitSeparator&&(t.useGrouping=e.digitSeparator),null!=e.places&&(t.minimumFractionDigits=t.maximumFractionDigits=e.places),t}function zv(e,t){return Object.is(e,-0)&&(e=0),qv(t).format(e)}dv((()=>{Lv=new WeakMap,_v={}}));let Wv=class extends(Yp(rl)){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}formatNumber(e){return zv(e,Vv(this))}formatDate(e,t=!1){return this.dateFormat?Pv(e,{...Ov(this.dateFormat),...t&&bv}):this.formatNumber(e)}formatDateOnly(e){const t=(this.dateFormat&&Ov(this.dateFormat))??void 0;return Dv(e,t)}formatTimeOnly(e){const t=(this.dateFormat&&Ov(this.dateFormat))??void 0;return Rv(e,t)}formatTimestamp(e){const t=(this.dateFormat&&Ov(this.dateFormat))??void 0;return Nv(e,t)}formatRasterPixelValue(e){return e.includes("-")?e:e.trim().includes(",")?this._formatDelimitedString(e,",",", "):e.trim().includes(";")?this._formatDelimitedString(e,";","; "):e.trim().includes(" ")?this._formatDelimitedString(e," "," "):this.formatNumber(Number(e))}_formatDelimitedString(e,t,r){return e&&t&&r?e.trim().split(t).map((e=>this.formatNumber(Number(e)))).join(r):e}};ji([iv(Ev)],Wv.prototype,"dateFormat",void 0),ji([Cn({type:Boolean,json:{write:!0}})],Wv.prototype,"digitSeparator",void 0),ji([Cn({type:Yi,json:{write:!0}})],Wv.prototype,"places",void 0),Wv=ji([zs("esri.popup.support.FieldInfoFormat")],Wv);const Uv=Wv;var Gv;let Bv=Gv=class extends rl{constructor(e){super(e),this.fieldName=null,this.format=null,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){return new Gv({fieldName:this.fieldName,format:this.format?V(this.format):null,isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};ji([Cn({type:String,json:{write:!0}})],Bv.prototype,"fieldName",void 0),ji([Cn({type:Uv,json:{write:!0}})],Bv.prototype,"format",void 0),ji([Cn({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Bv.prototype,"isEditable",void 0),ji([Cn({type:String,json:{write:!0}})],Bv.prototype,"label",void 0),ji([iv(new nl({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Bv.prototype,"stringFieldOption",void 0),ji([Cn({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Bv.prototype,"statisticType",void 0),ji([Cn({type:String,json:{write:!0}})],Bv.prototype,"tooltip",void 0),ji([Cn({type:Boolean,json:{write:!0}})],Bv.prototype,"visible",void 0),Bv=Gv=ji([zs("esri.popup.FieldInfo")],Bv);const Hv=Bv;var Jv;let Zv=Jv=class extends Um{constructor(e){super(e),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(e,t){t.fieldInfos=e&&e.map((e=>e.toJSON()))}clone(){return new Jv(V({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};ji([Cn({type:Object,json:{write:!0}})],Zv.prototype,"attributes",void 0),ji([Cn({type:String,json:{write:!0}})],Zv.prototype,"description",void 0),ji([Cn({type:[Hv]})],Zv.prototype,"fieldInfos",void 0),ji([Iu("fieldInfos")],Zv.prototype,"writeFieldInfos",null),ji([Cn({type:String,json:{write:!0}})],Zv.prototype,"title",void 0),ji([Cn({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],Zv.prototype,"type",void 0),Zv=Jv=ji([zs("esri.popup.content.FieldsContent")],Zv);const Qv=Zv;let Kv=class extends rl{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};ji([Cn({type:String,json:{write:!0}})],Kv.prototype,"altText",void 0),ji([Cn({type:String,json:{write:!0}})],Kv.prototype,"caption",void 0),ji([Cn({type:String,json:{write:!0}})],Kv.prototype,"title",void 0),ji([Cn({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Kv.prototype,"type",void 0),Kv=ji([zs("esri.popup.content.mixins.MediaInfo")],Kv);const Yv=Kv;var Xv;let eg=Xv=class extends $a{constructor(e){super(e),this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new Xv({fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};ji([Cn()],eg.prototype,"fieldName",void 0),ji([Cn()],eg.prototype,"tooltip",void 0),ji([Cn()],eg.prototype,"value",void 0),eg=Xv=ji([zs("esri.popup.content.support.ChartMediaInfoValueSeries")],eg);const tg=eg;var rg;let ig=rg=class extends rl{constructor(e){super(e),this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new rg({fields:V(this.fields),normalizeField:this.normalizeField,tooltipField:this.tooltipField})}};ji([Cn({type:[String],json:{write:!0}})],ig.prototype,"fields",void 0),ji([Cn({type:String,json:{write:!0}})],ig.prototype,"normalizeField",void 0),ji([Cn({type:[tg],json:{read:!1}})],ig.prototype,"series",void 0),ji([Cn({type:String,json:{write:!0}})],ig.prototype,"tooltipField",void 0),ig=rg=ji([zs("esri.popup.content.support.ChartMediaInfoValue")],ig);const ng=ig;let sg=class extends Yv{constructor(e){super(e),this.type=null,this.value=null}};ji([Cn({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],sg.prototype,"type",void 0),ji([Cn({type:ng,json:{write:!0}})],sg.prototype,"value",void 0),sg=ji([zs("esri.popup.content.mixins.ChartMediaInfo")],sg);const og=sg;const ag=sl()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var lg;let ug=lg=class extends og{constructor(e){super(e),this.type="bar-chart"}clone(){return new lg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};ji([Cn({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:ag.write}})],ug.prototype,"type",void 0),ug=lg=ji([zs("esri.popup.content.BarChartMediaInfo")],ug);const cg=ug;var dg;let hg=dg=class extends og{constructor(e){super(e),this.type="column-chart"}clone(){return new dg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};ji([Cn({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:ag.write}})],hg.prototype,"type",void 0),hg=dg=ji([zs("esri.popup.content.ColumnChartMediaInfo")],hg);const fg=hg;var pg;let yg=pg=class extends rl{constructor(e){super(e),this.linkURL=null,this.sourceURL=null}clone(){return new pg({linkURL:this.linkURL,sourceURL:this.sourceURL})}};ji([Cn({type:String,json:{write:!0}})],yg.prototype,"linkURL",void 0),ji([Cn({type:String,json:{write:!0}})],yg.prototype,"sourceURL",void 0),yg=pg=ji([zs("esri.popup.content.support.ImageMediaInfoValue")],yg);const mg=yg;var vg;let gg=vg=class extends Yv{constructor(e){super(e),this.refreshInterval=null,this.type="image",this.value=null}clone(){return new vg({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?this.value.clone():null})}};ji([Cn({type:Number,json:{write:!0}})],gg.prototype,"refreshInterval",void 0),ji([Cn({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],gg.prototype,"type",void 0),ji([Cn({type:mg,json:{write:!0}})],gg.prototype,"value",void 0),gg=vg=ji([zs("esri.popup.content.ImageMediaInfo")],gg);const bg=gg;var wg;let Sg=wg=class extends og{constructor(e){super(e),this.type="line-chart"}clone(){return new wg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};ji([Cn({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:ag.write}})],Sg.prototype,"type",void 0),Sg=wg=ji([zs("esri.popup.content.LineChartMediaInfo")],Sg);const xg=Sg;var jg;let Tg=jg=class extends og{constructor(e){super(e),this.type="pie-chart"}clone(){return new jg({altText:this.altText,title:this.title,caption:this.caption,value:this.value?this.value.clone():null})}};ji([Cn({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:ag.write}})],Tg.prototype,"type",void 0),Tg=jg=ji([zs("esri.popup.content.PieChartMediaInfo")],Tg);const Ig=Tg;const Mg={base:Yv,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":cg,"column-chart":fg,"line-chart":xg,"pie-chart":Ig,image:bg}};var Eg;let Fg=Eg=class extends Um{constructor(e){super(e),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(e){return e&&e.map((e=>"image"===e.type?bg.fromJSON(e):"barchart"===e.type?cg.fromJSON(e):"columnchart"===e.type?fg.fromJSON(e):"linechart"===e.type?xg.fromJSON(e):"piechart"===e.type?Ig.fromJSON(e):void 0)).filter(Boolean)}writeMediaInfos(e,t){t.mediaInfos=e&&e.map((e=>e.toJSON()))}clone(){return new Eg(V({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};ji([Cn()],Fg.prototype,"activeMediaInfoIndex",void 0),ji([Cn({type:Object,json:{write:!0}})],Fg.prototype,"attributes",void 0),ji([Cn({type:String,json:{write:!0}})],Fg.prototype,"description",void 0),ji([Cn({types:[Mg]})],Fg.prototype,"mediaInfos",void 0),ji([il("mediaInfos")],Fg.prototype,"readMediaInfos",null),ji([Iu("mediaInfos")],Fg.prototype,"writeMediaInfos",null),ji([Cn({type:String,json:{write:!0}})],Fg.prototype,"title",void 0),ji([Cn({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],Fg.prototype,"type",void 0),Fg=Eg=ji([zs("esri.popup.content.MediaContent")],Fg);const kg=Fg;var Ag;let Cg=Ag=class extends rl{constructor(e){super(e),this.field=null,this.order=null}clone(){return new Ag({field:this.field,order:this.order})}};ji([Cn({type:String,json:{write:!0}})],Cg.prototype,"field",void 0),ji([Cn({type:["asc","desc"],json:{write:!0}})],Cg.prototype,"order",void 0),Cg=Ag=ji([zs("esri.popup.support.RelatedRecordsInfoFieldOrder")],Cg);const Og=Cg;let Pg=class extends(Yp(Um)){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};ji([Cn({type:String,json:{write:!0}})],Pg.prototype,"description",void 0),ji([Cn({type:Number,json:{type:Yi,write:!0}})],Pg.prototype,"displayCount",void 0),ji([Cn({type:["list"],json:{write:!0}})],Pg.prototype,"displayType",void 0),ji([Cn({type:[Og],json:{write:!0}})],Pg.prototype,"orderByFields",void 0),ji([Cn({type:Number,json:{type:Yi,write:!0}})],Pg.prototype,"relationshipId",void 0),ji([Cn({type:String,json:{write:!0}})],Pg.prototype,"title",void 0),ji([Cn({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Pg.prototype,"type",void 0),Pg=ji([zs("esri.popup.content.RelationshipContent")],Pg);const Dg=Pg;var Rg;let Ng=Rg=class extends Um{constructor(e){super(e),this.text=null,this.type="text"}clone(){return new Rg({text:this.text})}};ji([Cn({type:String,json:{write:!0}})],Ng.prototype,"text",void 0),ji([Cn({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Ng.prototype,"type",void 0),Ng=Rg=ji([zs("esri.popup.content.TextContent")],Ng);const $g=Ng;const Lg={base:null,key:"type",typeMap:{attachment:Hm,media:kg,text:$g,expression:rv,field:Qv,relationship:Dg}};var _g;let qg=_g=class extends rl{constructor(e){super(e),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new _g({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};ji([Cn({type:String,json:{write:!0}})],qg.prototype,"name",void 0),ji([Cn({type:String,json:{write:!0}})],qg.prototype,"title",void 0),ji([Cn({type:String,json:{write:!0}})],qg.prototype,"expression",void 0),ji([Cn({type:["string","number"],json:{write:!0}})],qg.prototype,"returnType",void 0),qg=_g=ji([zs("esri.popup.ExpressionInfo")],qg);const Vg=qg;var zg;let Wg=zg=class extends rl{constructor(e){super(e),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new zg({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};ji([Cn({type:Boolean,json:{write:!0}})],Wg.prototype,"returnTopmostRaster",void 0),ji([Cn({type:Boolean,json:{write:!0}})],Wg.prototype,"showNoDataRecords",void 0),Wg=zg=ji([zs("esri.popup.LayerOptions")],Wg);const Ug=Wg;var Gg;let Bg=Gg=class extends rl{constructor(e){super(e),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new Gg({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?V(this.orderByFields):null})}};ji([Cn({type:Boolean,json:{write:!0}})],Bg.prototype,"showRelatedRecords",void 0),ji([Cn({type:[Og],json:{write:!0}})],Bg.prototype,"orderByFields",void 0),Bg=Gg=ji([zs("esri.popup.RelatedRecordsInfo")],Bg);const Hg=Bg;let Jg=0;const Zg=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Jg++})}};return t=ji([zs("esri.core.Identifiable")],t),t},Qg=e=>{let t=class extends e{constructor(...e){super(...e),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Jg++})}};return t=ji([zs("esri.core.NumericIdentifiable")],t),t};let Kg=class extends(Zg(class{})){};Kg=ji([zs("esri.core.Identifiable")],Kg);var Yg;let Xg=Yg=class extends(Zg($a)){constructor(e){super(e),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new Yg({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};ji([Cn()],Xg.prototype,"active",void 0),ji([Cn()],Xg.prototype,"className",void 0),ji([Cn()],Xg.prototype,"disabled",void 0),ji([Cn()],Xg.prototype,"icon",void 0),ji([Cn()],Xg.prototype,"id",void 0),ji([Cn()],Xg.prototype,"indicator",void 0),ji([Cn()],Xg.prototype,"title",void 0),ji([Cn()],Xg.prototype,"type",void 0),ji([Cn()],Xg.prototype,"visible",void 0),Xg=Yg=ji([zs("esri.support.actions.ActionBase")],Xg);const eb=Xg;var tb;let rb=tb=class extends eb{constructor(e){super(e),this.image=null,this.type="button"}clone(){return new tb({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};ji([Cn()],rb.prototype,"image",void 0),rb=tb=ji([zs("esri.support.Action.ActionButton")],rb);const ib=rb;var nb;let sb=nb=class extends eb{constructor(e){super(e),this.image=null,this.type="toggle",this.value=!1}clone(){return new nb({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};ji([Cn()],sb.prototype,"image",void 0),ji([Cn()],sb.prototype,"value",void 0),sb=nb=ji([zs("esri.support.Action.ActionToggle")],sb);const ob=sb;const ab="esri.PopupTemplate",lb=fe.getLogger(ab),ub="relationships/",cb="expression/",db=by.ofType({key:"type",defaultKeyValue:"button",base:eb,typeMap:{button:ib,toggle:ob}}),hb={base:Um,key:"type",typeMap:{media:kg,custom:Qm,text:$g,attachments:Hm,fields:Qv,expression:rv,relationship:Dg}},fb=["attachments","fields","media","text","expression","relationship"];let pb=class extends(Yp(rl)){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map((e=>Ki(hb,e))):"string"==typeof e||"function"==typeof e||e instanceof HTMLElement||_r(e)?e:(lb.error("content error","unsupported content value",{value:e}),null)}readContent(e,t){const{popupElements:r}=t;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(t.description,t.mediaInfos,r):this._readPopupInfo(t)}writeContent(e,t,r,i){"string"!=typeof e?Array.isArray(e)&&(t.popupElements=e.filter((e=>fb.includes(e.type))).map((e=>e&&e.toJSON(i))),t.popupElements.forEach((e=>{"attachments"===e.type?this._writeAttachmentContent(t):"media"===e.type?this._writeMediaContent(e,t):"text"===e.type?this._writeTextContent(e,t):"relationship"===e.type&&this._writeRelationshipContent(e,t)}))):t.description=e}writeFieldInfos(e,t,r,i){const{content:n}=this,s=Array.isArray(n)?n:null;if(e){const r=s?s.filter((e=>"fields"===e.type)):[],n=r.length&&r.every((e=>e.fieldInfos?.length));t.fieldInfos=e.filter(Boolean).map((e=>{const t=e.toJSON(i);return n&&(t.visible=!1),t}))}if(s)for(const e of s)"fields"===e.type&&this._writeFieldsContent(e,t)}writeLayerOptions(e,t,r,i){t[r]=!e||null===e.showNoDataRecords&&null===e.returnTopmostRaster?null:e.toJSON(i)}writeTitle(e,t){t.title=e||""}async collectRequiredFields(e,t){const r=this.expressionInfos||[];await this._collectExpressionInfoFields(e,t,[...r,...this._getContentExpressionInfos(this.content,r)]),_y(e,t,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const t=new Set;return await this.collectRequiredFields(t,e),[...t].sort()}_writeFieldsContent(e,t){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const r=V(e.fieldInfos);Array.isArray(t.fieldInfos)?r.forEach((e=>{const r=t.fieldInfos.find((t=>t.fieldName.toLowerCase()===e.fieldName.toLowerCase()));r?r.visible=!0:t.fieldInfos.push(e)})):t.fieldInfos=r}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,t){const r=e.orderByFields?.map((t=>this._toFieldOrderJSON(t,e.relationshipId)))||[],i=[...t.relatedRecordsInfo?.orderByFields||[],...r];t.relatedRecordsInfo={showRelatedRecords:!0,...i?.length&&{orderByFields:i}}}_writeTextContent(e,t){!t.description&&e.text&&(t.description=e.text)}_writeMediaContent(e,t){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=V(e.mediaInfos);Array.isArray(t.mediaInfos)?t.mediaInfos=[...t.mediaInfos,...r]:t.mediaInfos=r}_readPopupInfoElements(e,t,r){const i={description:!1,mediaInfos:!1};return r.map((r=>"media"===r.type?(r.mediaInfos||!t||i.mediaInfos||(r.mediaInfos=t,i.mediaInfos=!0),kg.fromJSON(r)):"text"===r.type?(r.text||!e||i.description||(r.text=e,i.description=!0),$g.fromJSON(r)):"attachments"===r.type?Hm.fromJSON(r):"fields"===r.type?Qv.fromJSON(r):"expression"===r.type?rv.fromJSON(r):"relationship"===r.type?Dg.fromJSON(r):void 0)).filter(Boolean)}_toRelationshipContent(e){const{field:t,order:r}=e;if(!t?.startsWith(ub))return null;const i=t.replace(ub,"").split("/");if(2!==i.length)return null;const n=parseInt(i[0],10),s=i[1];return"number"==typeof n&&s?Dg.fromJSON({relationshipId:n,orderByFields:[{field:s,order:r}]}):null}_toFieldOrderJSON(e,t){const{order:r,field:i}=e;return{field:`${ub}${t}/${i}`,order:r}}_readPopupInfo({description:e,mediaInfos:t,showAttachments:r,relatedRecordsInfo:i={showRelatedRecords:!1}}){const n=[];e?n.push(new $g({text:e})):n.push(new Qv),Array.isArray(t)&&t.length&&n.push(kg.fromJSON({mediaInfos:t})),r&&n.push(Hm.fromJSON({displayType:"auto"}));const{showRelatedRecords:s,orderByFields:o}=i;return s&&o?.length&&o.forEach((e=>{const t=this._toRelationshipContent(e);t&&n.push(t)})),n.length?n:e}_getContentElementFields(e){const t=e?.type;if("attachments"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if("custom"===t)return e.outFields||[];if("fields"===t)return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if("media"===t){const t=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...t.reduce(((e,t)=>[...e,...this._getMediaInfoFields(t)]),[])]}return"text"===t?this._extractFieldNames(e.text):[]}_getMediaInfoFields(e){const{caption:t,title:r,value:i}=e,n=i||{},{fields:s,normalizeField:o,tooltipField:a,sourceURL:l,linkURL:u}=n,c=[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(l),...this._extractFieldNames(u),...s??[]];return o&&c.push(o),a&&c.push(a),c}_getContentExpressionInfos(e,t){return Array.isArray(e)?e.reduce(((e,t)=>[...e,..."expression"===t.type&&t.expressionInfo?[t.expressionInfo]:[]]),t):[]}_getContentFields(e){return"string"==typeof e?this._extractFieldNames(e):Array.isArray(e)?e.reduce(((e,t)=>[...e,...this._getContentElementFields(t)]),[]):[]}async _collectExpressionInfoFields(e,t,r){r&&await Promise.all(r.map((r=>zy(e,t,r.expression))))}_getFieldInfoFields(e){return e?e.filter((e=>void 0===e.visible||!!e.visible)).map((e=>e.fieldName)).filter((e=>!e.startsWith(ub)&&!e.startsWith(cb))):[]}_getActionsFields(e){return e?e.toArray().reduce(((e,t)=>[...e,...this._getActionFields(t)]),[]):[]}_getActionFields(e){const{className:t,title:r,type:i}=e,n="button"===i||"toggle"===i?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(t),...this._extractFieldNames(n)]}_getTitleFields(e){return"string"==typeof e?this._extractFieldNames(e):[]}_extractFieldNames(e){if(!e||"string"!=typeof e)return[];const t=/{[^}]*}/g,r=e.match(t);if(!r)return[];const i=/\{(\w+):.+\}/,n=r.filter((e=>!(0===e.indexOf(`{${ub}`)||0===e.indexOf(`{${cb}`)))).map((e=>e.replace(i,"{$1}")));return n?n.map((e=>e.slice(1,-1))):[]}};ji([Cn({type:db})],pb.prototype,"actions",void 0),ji([Cn()],pb.prototype,"content",void 0),ji([Ru("content")],pb.prototype,"castContent",null),ji([il("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],pb.prototype,"readContent",null),ji([Iu("content",{popupElements:{type:by.ofType(Lg)},showAttachments:{type:Boolean},mediaInfos:{type:by.ofType(Mg)},description:{type:String},relatedRecordsInfo:{type:Hg}})],pb.prototype,"writeContent",null),ji([Cn({type:[Vg],json:{write:!0}})],pb.prototype,"expressionInfos",void 0),ji([Cn({type:[Hv]})],pb.prototype,"fieldInfos",void 0),ji([Iu("fieldInfos")],pb.prototype,"writeFieldInfos",null),ji([Cn({type:Ug})],pb.prototype,"layerOptions",void 0),ji([Iu("layerOptions")],pb.prototype,"writeLayerOptions",null),ji([Cn({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],pb.prototype,"lastEditInfoEnabled",void 0),ji([Cn()],pb.prototype,"outFields",void 0),ji([Cn()],pb.prototype,"overwriteActions",void 0),ji([Cn()],pb.prototype,"returnGeometry",void 0),ji([Cn({json:{type:String}})],pb.prototype,"title",void 0),ji([Iu("title")],pb.prototype,"writeTitle",null),pb=ji([zs("esri.PopupTemplate")],pb);const yb=pb;const mb={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function vb(e){return!!mb[e]||!!mb[e.toLowerCase()]}function gb(e){return mb[e]??mb[e.toLowerCase()]}function bb(e){return[...gb(e)]}function wb(e,t,r){r<0&&++r,r>1&&--r;const i=6*r;return i<1?e+(t-e)*i:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function Sb(e,t,r,i=1){const n=(e%360+360)%360/360,s=r<=.5?r*(t+1):r+t-r*t,o=2*r-s;return[Math.round(255*wb(o,s,n+1/3)),Math.round(255*wb(o,s,n)),Math.round(255*wb(o,s,n-1/3)),i]}function xb(e){const t=e.length>5,r=t?8:4,i=(1<<r)-1,n=t?1:17,s=t?9===e.length:5===e.length;let o=Number("0x"+e.substr(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&i,o>>=r,a[3]=n*l/255),l=o&i,o>>=r,a[2]=n*l,l=o&i,o>>=r,a[1]=n*l,l=o&i,o>>=r,a[0]=n*l,a}function jb(e){return yf(Oi(e),0,255)}function Tb(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}class Ib{static blendColors(e,t,r,i=new Ib){return i.r=Math.round(e.r+(t.r-e.r)*r),i.g=Math.round(e.g+(t.g-e.g)*r),i.b=Math.round(e.b+(t.b-e.b)*r),i.a=e.a+(t.a-e.a)*r,i._sanitize()}static fromRgb(e,t){const r=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(r){const e=r[2].split(/\s*,\s*/),i=r[1];if("rgb"===i&&3===e.length||"rgba"===i&&4===e.length){const r=e[0];if("%"===r.charAt(r.length-1)){const r=e.map((e=>2.56*parseFloat(e)));return 4===e.length&&(r[3]=parseFloat(e[3])),Ib.fromArray(r,t)}return Ib.fromArray(e.map((e=>parseFloat(e))),t)}if("hsl"===i&&3===e.length||"hsla"===i&&4===e.length)return Ib.fromArray(Sb(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])),t)}return null}static fromHex(e,t=new Ib){if(4!==e.length&&7!==e.length||"#"!==e[0])return null;const r=4===e.length?4:8,i=(1<<r)-1;let n=Number("0x"+e.substr(1));return isNaN(n)?null:(["b","g","r"].forEach((e=>{const s=n&i;n>>=r,t[e]=4===r?17*s:s})),t.a=1,t)}static fromArray(e,t=new Ib){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=vb(e)?gb(e):null;return r&&Ib.fromArray(r,t)||Ib.fromRgb(e,t)||Ib.fromHex(e,t)}static fromJSON(e){return e&&new Ib([e[0],e[1],e[2],e[3]/255])}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?Ib.fromString(e,this):Array.isArray(e)?Ib.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Ib||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(){const e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return`#${e.length<2?"0"+e:e}${t.length<2?"0"+t:t}${r.length<2?"0"+r:r}`}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=Ib.AlphaMode.ALWAYS){const t=jb(this.r),r=jb(this.g),i=jb(this.b);return e===Ib.AlphaMode.ALWAYS||1!==this.a?[t,r,i,jb(255*this.a)]:[t,r,i]}clone(){return new Ib(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(Tb(this.r,0,255)),this.g=Math.round(Tb(this.g,0,255)),this.b=Math.round(Tb(this.b,0,255)),this.a=Tb(this.a,0,1),this}_set(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i}}Ib.prototype.declaredClass="esri.Color",function(e){var t;(t=e.AlphaMode||(e.AlphaMode={}))[t.ALWAYS=0]="ALWAYS",t[t.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(Ib||(Ib={}));const Mb=Ib;const Eb=new nl({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let Fb=0,kb=class extends rl{constructor(e){super(e),this.id="sym"+Fb++,this.type=null,this.color=new Mb([0,0,0,1])}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,t){}hash(){return JSON.stringify(this.toJSON())}clone(){}};ji([Cn({type:Eb.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:Eb.write}}})],kb.prototype,"type",void 0),ji([Cn({type:Mb,json:{write:{allowNull:!0}}})],kb.prototype,"color",void 0),ji([il("color")],kb.prototype,"readColor",null),kb=ji([zs("esri.symbols.Symbol")],kb);const Ab=kb;var Cb;let Ob=Cb=class extends Ab{constructor(e){super(e),this.data=null,this.type="cim"}readData(e,t){return t}writeData(e,t){Object.assign(t,e)}async collectRequiredFields(e,t){if("CIMSymbolReference"===this.data?.type){const r=this.data.primitiveOverrides;if(r){const i=r.map((r=>{const i=r.valueExpressionInfo;return zy(e,t,i.expression)}));await Promise.all(i)}}}clone(){return new Cb({data:V(this.data)})}hash(){return ue(JSON.stringify(this.data)).toString()}};ji([Cn({json:{write:!1}})],Ob.prototype,"color",void 0),ji([Cn({json:{write:!0}})],Ob.prototype,"data",void 0),ji([il("data",["symbol"])],Ob.prototype,"readData",null),ji([Iu("data",{})],Ob.prototype,"writeData",null),ji([iv({CIMSymbolReference:"cim"},{readOnly:!0})],Ob.prototype,"type",void 0),Ob=Cb=ji([zs("esri.symbols.CIMSymbol")],Ob);const Pb=Ob;let Db=class extends rl{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,t,r){e||(t[r]=e)}};ji([Cn({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Db.prototype,"enabled",void 0),ji([Iu("enabled")],Db.prototype,"writeEnabled",null),ji([Cn({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Db.prototype,"type",void 0),Db=ji([zs("esri.symbols.Symbol3DLayer")],Db);const Rb=Db;const Nb=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,$b="screenUtils.toPt: input not recognized!",Lb=96;function _b(e){return e?e/72*Lb:0}function qb(e){return e?72*e/Lb:0}function Vb(e){if("string"==typeof e){const t=e.match(Nb);if(t){const r=Number(t[1]),i=t[3]&&t[3].toLowerCase(),n="-"===e.charAt(0),s="px"===i?qb(r):r;return n?-s:s}return console.warn($b),null}return e}function zb(e=0,t=0){return{x:e,y:t}}function Wb(e=0,t=0){return[e,t]}function Ub(e){const t=Oi(100*(1-e));return Math.max(0,Math.min(t,100))}function Gb(e){const t=1-e/100;return Math.max(0,Math.min(t,1))}function Bb(e,t){const r=null!=t.transparency?Gb(t.transparency):1,i=t.color;return i&&Array.isArray(i)?new Mb([i[0]||0,i[1]||0,i[2]||0,r]):null}function Hb(e,t){t.color=e.toJSON().slice(0,3);const r=Ub(e.a);0!==r&&(t.transparency=r)}const Jb={type:Mb,json:{type:[Yi],default:null,read:{source:["color","transparency"],reader:Bb},write:{target:{color:{type:[Yi]},transparency:{type:Yi}},writer:Hb}}},Zb={type:Number,cast:Vb,json:{write:!0}};let Qb=class extends rl{constructor(e){super(e),this.color=new Mb([0,0,0,1]),this.extensionLength=0,this.size=qb(1)}clone(){}cloneProperties(){return{color:V(this.color),size:this.size,extensionLength:this.extensionLength}}};ji([Cn({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Qb.prototype,"type",void 0),ji([Cn(Jb)],Qb.prototype,"color",void 0),ji([Cn({...Zb,json:{write:{overridePolicy:e=>({enabled:!!e})}}})],Qb.prototype,"extensionLength",void 0),ji([Cn(Zb)],Qb.prototype,"size",void 0),Qb=ji([zs("esri.symbols.edges.Edges3D")],Qb);const Kb=Qb;var Yb;let Xb=Yb=class extends Kb{constructor(e){super(e),this.type="sketch"}clone(){return new Yb(this.cloneProperties())}};ji([iv({sketch:"sketch"},{readOnly:!0})],Xb.prototype,"type",void 0),Xb=Yb=ji([zs("esri.symbols.edges.SketchEdges3D")],Xb);const ew=Xb;var tw;let rw=tw=class extends Kb{constructor(e){super(e),this.type="solid"}clone(){return new tw(this.cloneProperties())}};ji([iv({solid:"solid"},{readOnly:!0})],rw.prototype,"type",void 0),rw=tw=ji([zs("esri.symbols.support.SolidEdges3D")],rw);const iw=rw;const nw={types:{key:"type",base:Kb,typeMap:{solid:iw,sketch:ew}},json:{write:!0}};var sw;let ow=sw=class extends rl{constructor(e){super(e),this.color=null}clone(){const e={color:null!=this.color?this.color.clone():null};return new sw(e)}};ji([Cn(Jb)],ow.prototype,"color",void 0),ow=sw=ji([zs("esri.symbols.support.Symbol3DMaterial")],ow);var aw;let lw=aw=class extends Rb{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new aw({edges:this.edges&&this.edges.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,size:this.size})}};ji([iv({Extrude:"extrude"},{readOnly:!0})],lw.prototype,"type",void 0),ji([Cn({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],lw.prototype,"size",void 0),ji([Cn({type:ow,json:{write:!0}})],lw.prototype,"material",void 0),ji([Cn({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],lw.prototype,"castShadows",void 0),ji([Cn(nw)],lw.prototype,"edges",void 0),lw=aw=ji([zs("esri.symbols.ExtrudeSymbol3DLayer")],lw);const uw=lw;let cw=class extends Ab{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};ji([iv({esriSLS:"simple-line"},{readOnly:!0})],cw.prototype,"type",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],cw.prototype,"width",void 0),cw=ji([zs("esri.symbols.LineSymbol")],cw);const dw=cw;const hw=["begin","end","begin-end"],fw=["arrow","circle","square","diamond","cross","x"];var pw;let yw=pw=class extends rl{constructor(e){super(e),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(e,t,r,i){t[r]="web-map"===i?.origin?"arrow":e}set color(e){this._set("color",e)}readColor(e){return e&&null!=e[0]?[e[0],e[1],e[2],e[3]/255]:e}writeColor(e,t,r,i){"web-map"===i?.origin||(t[r]=e)}clone(){return new pw({color:V(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};ji([Cn({type:["begin","end","begin-end"],json:{write:!0}})],yw.prototype,"placement",void 0),ji([iv({"line-marker":"line-marker"},{readOnly:!0}),Cn({json:{origins:{"web-map":{write:!1}}}})],yw.prototype,"type",void 0),ji([Cn({type:fw})],yw.prototype,"style",void 0),ji([Iu("style")],yw.prototype,"writeStyle",null),ji([Cn({type:Mb,value:null,json:{write:{allowNull:!0}}})],yw.prototype,"color",null),ji([il("color")],yw.prototype,"readColor",null),ji([Iu("color")],yw.prototype,"writeColor",null),yw=pw=ji([zs("esri.symbols.LineSymbolMarker")],yw);const mw=yw;var vw;const gw=new nl({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSInsideFrame:"inside-frame",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let bw=vw=class extends dw{constructor(...e){super(...e),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(e,t,r,i,n,s){if(e&&"string"!=typeof e)return e;const o={};return null!=e&&(o.style=e),null!=t&&(o.color=t),null!=r&&(o.width=Vb(r)),null!=i&&(o.cap=i),null!=n&&(o.join=n),null!=s&&(o.miterLimit=Vb(s)),o}clone(){return new vw({color:V(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};ji([iv({esriSLS:"simple-line"},{readOnly:!0})],bw.prototype,"type",void 0),ji([Cn({type:gw.apiValues,json:{read:gw.read,write:gw.write}})],bw.prototype,"style",void 0),ji([Cn({type:["butt","round","square"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&(null==r||null==r.origin)})}}})],bw.prototype,"cap",void 0),ji([Cn({type:["miter","round","bevel"],json:{write:{overridePolicy:(e,t,r)=>({enabled:"round"!==e&&(null==r||null==r.origin)})}}})],bw.prototype,"join",void 0),ji([Cn({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":mw}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],bw.prototype,"marker",void 0),ji([Cn({type:Number,json:{read:!1,write:!1}})],bw.prototype,"miterLimit",void 0),bw=vw=ji([zs("esri.symbols.SimpleLineSymbol")],bw);const ww=bw;let Sw=class extends Ab{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline&&this.outline.hash()}`}};ji([Cn({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ww}},json:{default:null,write:!0}})],Sw.prototype,"outline",void 0),ji([Cn({type:["simple-fill","picture-fill"],readOnly:!0})],Sw.prototype,"type",void 0),Sw=ji([zs("esri.symbols.FillSymbol")],Sw);const xw=Sw;let jw=class extends rl{constructor(e){super(e)}clone(){}};ji([Cn({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],jw.prototype,"type",void 0),jw=ji([zs("esri.symbols.patterns.LinePattern3D")],jw);const Tw=jw;const Iw=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var Mw;const Ew=sl()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Fw=Mw=class extends Tw{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Mw(e)}};ji([Cn({type:["style"]})],Fw.prototype,"type",void 0),ji([iv(Ew),Cn({type:Iw})],Fw.prototype,"style",void 0),Fw=Mw=ji([zs("esri.symbols.patterns.LineStylePattern3D")],Fw);const kw=Fw;let Aw=class extends rl{constructor(e){super(e)}clone(){}};ji([Cn({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Aw.prototype,"type",void 0),Aw=ji([zs("esri.symbols.patterns.Pattern3D")],Aw);const Cw=Aw;const Ow=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var Pw;let Dw=Pw=class extends Cw{constructor(e){super(e),this.type="style",this.style="solid"}clone(){const e={style:this.style};return new Pw(e)}};ji([Cn({type:["style"]})],Dw.prototype,"type",void 0),ji([Cn({type:Ow,json:{read:!0,write:!0}})],Dw.prototype,"style",void 0),Dw=Pw=ji([zs("esri.symbols.patterns.StylePattern3D")],Dw);const Rw=Dw;const Nw={types:{key:"type",base:Cw,typeMap:{style:Rw}},json:{write:!0}},$w={types:{key:"type",base:Tw,typeMap:{style:kw}},json:{write:!0}};const Lw=new Mb("white");new Mb("black");const _w=new Mb([255,255,255,0]);function qw(e){return 0===e.r&&0===e.g&&0===e.b}var Vw;let zw=Vw=class extends ow{constructor(e){super(e),this.colorMixMode=null}clone(){const e={color:null!=this.color?this.color.clone():null,colorMixMode:this.colorMixMode};return new Vw(e)}};ji([iv({multiply:"multiply",replace:"replace",tint:"tint"})],zw.prototype,"colorMixMode",void 0),zw=Vw=ji([zs("esri.symbols.support.Symbol3DFillMaterial")],zw);function Ww(e){return e}function Uw(e=lS){return Ww([e[0],e[1],e[2],e[3],e[4],e[5]])}function Gw(e,t,r,i,n,s,o=Uw()){return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o[4]=n,o[5]=s,o}function Bw(e,t){const r=isFinite(e[2])||isFinite(e[5]);return new Rc(r?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function Hw(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function Jw(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function Zw(e){return e[0]>=e[3]?0:e[3]-e[0]}function Qw(e){return e[1]>=e[4]?0:e[4]-e[1]}function Kw(e){return e[2]>=e[5]?0:e[5]-e[2]}function Yw(e,t=[0,0,0]){return t[0]=Zw(e),t[1]=Qw(e),t[2]=Kw(e),t}function Xw(e,t,r=e){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r!==e&&(r[3]=e[3],r[4]=e[4],r[5]=e[5]),r}function eS(e,t,r=e){return r[3]=t[0],r[4]=t[1],r[5]=t[2],r!==e&&(r[0]=e[0],r[1]=e[1],r[2]=e[2]),e}function tS(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function rS(e){return e?tS(e,aS):Uw(aS)}function iS(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function nS(e,t,r,i,n){return e[0]=t,e[1]=r,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=n,e[5]=Number.POSITIVE_INFINITY,e}function sS(e){return 6===e.length}function oS(e,t,r){if(null==e||null==t)return e===t;if(!sS(e)||!sS(t))return!1;if(r){for(let i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1}else for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}const aS=Ww([1/0,1/0,1/0,-1/0,-1/0,-1/0]),lS=Ww([0,0,0,0,0,0]);const uS=Gw(-.5,-.5,-.5,.5,.5,.5),cS=Gw(-.5,-.5,0,.5,.5,1),dS=Gw(-.5,-.5,0,.5,.5,.5);function hS(e){switch(e){case"sphere":case"cube":case"diamond":return uS;case"cylinder":case"cone":case"inverted-cone":return cS;case"tetrahedron":return dS;default:return}}const fS=["butt","square","round"],pS=[...fS,"none"],yS=["miter","bevel","round"];var mS;let vS=mS=class extends rl{constructor(e){super(e),this.color=new Mb([0,0,0,1]),this.size=qb(1),this.pattern=null,this.patternCap="butt"}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size,pattern:null!=this.pattern?this.pattern.clone():null,patternCap:this.patternCap};return new mS(e)}};ji([Cn(Jb)],vS.prototype,"color",void 0),ji([Cn(Zb)],vS.prototype,"size",void 0),ji([Cn($w)],vS.prototype,"pattern",void 0),ji([Cn({type:fS,json:{default:"butt",write:{overridePolicy(){return{enabled:null!=this.pattern}}}}})],vS.prototype,"patternCap",void 0),vS=mS=ji([zs("esri.symbols.support.Symbol3DOutline")],vS);var gS;let bS=gS=class extends Rb{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:null!=this.edges?this.edges.clone():null,enabled:this.enabled,material:null!=this.material?this.material.clone():null,pattern:null!=this.pattern?this.pattern.clone():null,castShadows:this.castShadows,outline:null!=this.outline?this.outline.clone():null};return new gS(e)}static fromSimpleFillSymbol(e){const t=e.outline&&e.outline.style&&"inside-frame"!==e.outline.style&&"solid"!==e.outline.style?new kw({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??Lw).clone(),pattern:t};return t&&e.outline?.cap&&(r.patternCap=e.outline.cap),new gS({material:new zw({color:(e.color??_w).clone()}),pattern:e.style&&"solid"!==e.style?new Rw({style:e.style}):null,outline:r})}};ji([iv({Fill:"fill"},{readOnly:!0})],bS.prototype,"type",void 0),ji([Cn({type:zw,json:{write:!0}})],bS.prototype,"material",void 0),ji([Cn(Nw)],bS.prototype,"pattern",void 0),ji([Cn({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],bS.prototype,"castShadows",void 0),ji([Cn({type:vS,json:{write:!0}})],bS.prototype,"outline",void 0),ji([Cn(nw)],bS.prototype,"edges",void 0),bS=gS=ji([zs("esri.symbols.FillSymbol3DLayer")],bS);const wS=bS;const SS=["none","underline","line-through"],xS=["normal","italic","oblique"],jS=["normal","lighter","bold","bolder"],TS={type:Number,cast:e=>{const t=Ci(e);return 0===t?1:yf(t,.1,4)},nonNullable:!0},IS=["left","right","center"],MS=["baseline","top","middle","bottom"],ES={type:IS,nonNullable:!0},FS={type:MS,nonNullable:!0},kS=8;var AS;let CS=AS=class extends rl{constructor(e){super(e),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(e){return Vb(e)}clone(){return new AS({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};ji([Cn({type:SS,json:{default:"none",write:!0}})],CS.prototype,"decoration",void 0),ji([Cn({type:String,json:{write:!0}})],CS.prototype,"family",void 0),ji([Cn({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:!r||!r.textSymbol3D})}}})],CS.prototype,"size",void 0),ji([Ru("size")],CS.prototype,"castSize",null),ji([Cn({type:xS,json:{default:"normal",write:!0}})],CS.prototype,"style",void 0),ji([Cn({type:jS,json:{default:"normal",write:!0}})],CS.prototype,"weight",void 0),CS=AS=ji([zs("esri.symbols.Font")],CS);const OS=CS;function PS(e,t){const r=t&&t.url&&t.url.path;if(e&&r&&(e=bt(e,r,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const r=wt(e,t.portalItem.itemUrl);null!=r&&LS.test(r)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(r).path)}return zS(e,t&&t.portal)}function DS(e,t,r=WS.YES){if(null==e)return e;!Tt(e)&&t&&t.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=bt(e);if(t){const r=t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.rootPath||t.url&&t.url.path;if(r){const n=zS(r,t.portal),s=zS(i,t.portal);i=wt(s,n,n);null!=i&&i!==s&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=VS(i,t?.portal),Tt(i)&&(i=St(i)),t?.resources&&t?.portalItem&&!Tt(i)&&!Mt(i)&&r===WS.YES&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function RS(e,t,r){return PS(e,r)}function NS(e,t,r,i){const n=DS(e,i);void 0!==n&&(t[r]=n)}const $S=/\/items\/([^\/]+)\/resources\/(.*)/,LS=/^\.\/resources\//;function _S(e){const t=e?.match($S)??null;return t?.[1]??null}function qS(e){const t=e?.match($S)??null;if(null==t)return null;const r=t[2],i=r.lastIndexOf("/");if(-1===i){const{path:e,extension:t}=sr(r);return{prefix:null,filename:e,extension:t}}const{path:n,extension:s}=sr(r.slice(i+1));return{prefix:r.slice(0,i),filename:n,extension:s}}function VS(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?Yt(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function zS(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const r=`${t.urlKey}.${t.customBaseUrl}`,i=Ye();return mt(i,`${i.scheme}://${r}`)?Yt(e,t.portalHostname,r):Yt(e,r,t.portalHostname)}var WS;!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(WS||(WS={}));const US=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return WS},ensureMainOnlineDomain:VS,fromJSON:PS,itemIdFromResourceUrl:_S,prefixAndFilenameFromResourceUrl:qS,read:RS,toJSON:DS,write:NS},Symbol.toStringTag,{value:"Module"}));var GS;const BS=sl()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let HS=GS=class extends rl{constructor(e){super(e)}readHref(e,t,r){return e?PS(e,r):t.dataURI}writeHref(e,t,r,i){e&&(Mt(e)?t.dataURI=e:(t.href=DS(e,i),Tt(t.href)&&(t.href=St(t.href))))}clone(){return new GS({href:this.href,primitive:this.primitive})}};ji([Cn({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],HS.prototype,"href",void 0),ji([il("href")],HS.prototype,"readHref",null),ji([Iu("href",{href:{type:String},dataURI:{type:String}})],HS.prototype,"writeHref",null),ji([iv(BS)],HS.prototype,"primitive",void 0),HS=GS=ji([zs("esri.symbols.support.IconSymbol3DLayerResource")],HS);var JS;let ZS=JS=class extends $a{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new JS({x:this.x,y:this.y})}};ji([Cn({type:Number})],ZS.prototype,"x",void 0),ji([Cn({type:Number})],ZS.prototype,"y",void 0),ZS=JS=ji([zs("esri.symbols.support.Symbol3DAnchorPosition2D")],ZS);var QS;let KS=QS=class extends rl{constructor(e){super(e),this.color=new Mb([0,0,0,1]),this.size=qb(1)}clone(){const e={color:null!=this.color?this.color.clone():null,size:this.size};return new QS(e)}};ji([Cn(Jb)],KS.prototype,"color",void 0),ji([Cn(Zb)],KS.prototype,"size",void 0),KS=QS=ji([zs("esri.symbols.support.Symbol3DIconOutline")],KS);var YS;const XS="esri.symbols.IconSymbol3DLayer";let ex=YS=class extends Rb{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null}clone(){return new YS({anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),enabled:this.enabled,material:null!=this.material?this.material.clone():null,outline:null!=this.outline?this.outline.clone():null,resource:this.resource&&this.resource.clone(),size:this.size})}static fromSimpleMarkerSymbol(e){const t=e.color||Lw,r=tx(e),i=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||Lw).clone()}:null;return new YS({size:e.size,resource:{primitive:nx(e.style)},material:{color:t},outline:i,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const t=!e.color||qw(e.color)?Lw:e.color,r=tx(e);return new YS({size:e.width<=e.height?e.height:e.width,resource:{href:e.url},material:{color:t.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new YS({resource:{href:Ct({mediaType:"application/json",data:JSON.stringify(e.data)})}})}};function tx(e){const t="width"in e?e.width:e.size,r="height"in e?e.height:e.size,i=rx(e.xoffset),n=rx(e.yoffset);return(i||n)&&t&&r?{x:-i/t,y:n/r}:null}function rx(e){return isFinite(e)?e:0}ji([Cn({type:ow,json:{write:!0}})],ex.prototype,"material",void 0),ji([Cn({type:HS,json:{write:!0}})],ex.prototype,"resource",void 0),ji([iv({Icon:"icon"},{readOnly:!0})],ex.prototype,"type",void 0),ji([Cn(Zb)],ex.prototype,"size",void 0),ji([iv({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"}),Cn({json:{default:"center"}})],ex.prototype,"anchor",void 0),ji([Cn({type:ZS,json:{type:[Number],read:{reader:e=>new ZS({x:e[0],y:e[1]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],ex.prototype,"anchorPosition",void 0),ji([Cn({type:KS,json:{write:!0}})],ex.prototype,"outline",void 0),ex=YS=ji([zs(XS)],ex);const ix={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function nx(e){const t=ix[e];return t||(fe.getLogger(XS).warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const sx=ex;function ox(e,t,r=by){return t||(t=new r),t===e||(t.removeAll(),lx(e)?t.addMany(e):e&&t.add(e)),t}function ax(e){return e}function lx(e){return e&&(Array.isArray(e)||"items"in e&&Array.isArray(e.items))}var ux;!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(ux||(ux={}));class cx{constructor(){this._resolver=zr(),this._status=ux.PENDING,this._resolvingPromises=[],this._resolver.promise.then((()=>{this._status=ux.RESOLVED,this._cleanUp()}),(()=>{this._status=ux.REJECTED,this._cleanUp()})),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===ux.RESOLVED}isRejected(){return this._status===ux.REJECTED}isFulfilled(){return this._status!==ux.PENDING}abort(){this._resolver.reject(Tr())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=zr(),t=[...this._resolvingPromises,ke(e.promise)],r=this._allPromise=Promise.all(t);r.then((()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()}),(e=>{this.isFulfilled()||this._allPromise!==r||Pr(e)||this._resolver.reject(e)})),e.resolve()}}const dx=e=>{let t=class extends e{constructor(...e){super(...e),this._promiseProps=new cx,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps?.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(e,t){return this._promiseProps.promise.then((()=>this)).then(e,t)}catch(e){return this.when(null,e)}addResolvingPromise(e){e&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in e?e.when():e)}};return t=ji([zs("esri.core.Promise")],t),t};let hx=class extends(dx($a)){};hx=ji([zs("esri.core.Promise")],hx);const fx="not-loaded",px="loading",yx="failed",mx="loaded",vx=e=>{let t=class extends e{constructor(...e){super(...e),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise((e=>{const t=this.load.bind(this);this.load=r=>{const i=new Promise(((e,t)=>{const i=Cr(r,t);this.destroyed&&t(new me("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(e,t).finally((()=>{i&&i.remove()}))}));if(this.loadStatus===fx){this._set("loadStatus",px);const e=this._loadController=new AbortController;t({signal:e.signal}),Ar(e.signal,(()=>{this._promiseProps.abort()}))}return e(),i}}))),this.when((()=>{this._set("loadStatus",mx),this._loadController=null}),(e=>{this._set("loadStatus",yx),this._set("loadError",e),this._loadController=null}))}destroy(){this._loadController=je(this._loadController),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===mx}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new me("load:cancelled","Cancelled")),this._loadController?.abort()),this}};return ji([Cn({readOnly:!0})],t.prototype,"loaded",null),ji([Cn({readOnly:!0})],t.prototype,"loadError",void 0),ji([Cn({clonable:!1})],t.prototype,"loadStatus",void 0),ji([Cn({type:[es],readOnly:!0})],t.prototype,"loadWarnings",null),t=ji([zs("esri.core.Loadable")],t),t};let gx=class extends(vx(hx)){};gx=ji([zs("esri.core.Loadable")],gx),function(e){function t(e){return!(!e||!e.load)}e.LoadableMixin=vx,e.isLoadable=t}(gx||(gx={}));const bx=gx;let wx;function Sx(e){return wx&&!wx.destroyed||(wx=e()),wx}var xx;const jx=new nl({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Tx=xx=class extends $a{constructor(e){super(e),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(e){"asc"!==e&&"desc"!==e||this._set("sortOrder",e)}clone(){return new xx({categories:this.categories?V(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(e,t){let r=[];this.categories&&(r=this.categories.map((e=>Array.isArray(e)?JSON.stringify(e):e)));let i="";if(this.extent){const e=Bu(this.extent,Fu.WGS84);null!=e&&(i=`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`)}let n=this.query;!this.disableExtraQuery&&e.extraQuery&&(n="("+n+")"+e.extraQuery);const s={categories:r,bbox:i,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map((e=>jx.toJSON(e.trim()))).join(","),s.sortOrder=this.sortOrder),{query:{...t,...s}}}};ji([Cn()],Tx.prototype,"categories",void 0),ji([Cn()],Tx.prototype,"disableExtraQuery",void 0),ji([Cn({type:Rc})],Tx.prototype,"extent",void 0),ji([Cn()],Tx.prototype,"filter",void 0),ji([Cn()],Tx.prototype,"num",void 0),ji([Cn()],Tx.prototype,"query",void 0),ji([Cn()],Tx.prototype,"sortField",void 0),ji([Cn()],Tx.prototype,"sortOrder",null),ji([Cn()],Tx.prototype,"start",void 0),Tx=xx=ji([zs("esri.portal.PortalQueryParams")],Tx);const Ix=Tx;let Mx=class extends $a{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};ji([Cn()],Mx.prototype,"nextQueryParams",void 0),ji([Cn()],Mx.prototype,"queryParams",void 0),ji([Cn()],Mx.prototype,"results",void 0),ji([Cn()],Mx.prototype,"total",void 0),Mx=ji([zs("esri.portal.PortalQueryResult")],Mx);const Ex=Mx;let Fx=class extends rl{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new me("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};ji([Cn({type:Date})],Fx.prototype,"created",void 0),ji([Cn()],Fx.prototype,"id",void 0),ji([Cn()],Fx.prototype,"portal",void 0),ji([Cn()],Fx.prototype,"title",void 0),ji([Cn({readOnly:!0})],Fx.prototype,"url",null),ji([Cn()],Fx.prototype,"username",void 0),Fx=ji([zs("esri.portal.PortalFolder")],Fx);const kx=Fx;let Ax=class extends rl{constructor(e){super(e),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.tags=null,this.title=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t&&this.portal?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`):null}get url(){const e=this.get("portal.restUrl");return e?e+"/community/groups/"+this.id:null}fetchCategorySchema(e){return ge(this.portal).request(this.url+"/categorySchema",e).then((t=>{const r=t.categorySchema||[];return r.some((e=>"contentCategorySetsGroupQuery.LivingAtlas"===e.source))?this._fetchCategorySchemaSet("LivingAtlas",e):r}))}fetchMembers(e){return ge(this.portal).request(this.url+"/users",e)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}toJSON(){throw new me("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}queryItems(e,t){let r=Wi(Ix,e);const i=ge(this.portal);return parseFloat(i.currentVersion)>5?(r=r||new Ix,i.queryPortal(`/content/groups/${this.id}/search`,r,"PortalItem",t)):(r=r?r.clone():new Ix,r.query="group:"+this.id+(r.query?" "+r.query:""),i.queryItems(r,t))}_fetchCategorySchemaSet(e,t){const r=ge(this.portal);return r.fetchSelf(r.authMode,!0,t).then((e=>{const i=e.contentCategorySetsGroupQuery;if(i){const e=new Ix;return e.disableExtraQuery=!0,e.num=1,e.query=i,r.queryGroups(e,t)}throw new me("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")})).then((r=>{if(r.total){const i=r.results[0],n=new Ix;return n.num=1,n.query=`typekeywords:"${e}"`,i.queryItems(n,t)}throw new me("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")})).then((e=>{if(e.total){return e.results[0].fetchData("json",t).then((e=>{const t=e&&e.categorySchema;return t&&t.length?t:[]}))}return[]}))}};ji([Cn()],Ax.prototype,"access",void 0),ji([Cn({type:Date})],Ax.prototype,"created",void 0),ji([Cn()],Ax.prototype,"description",void 0),ji([Cn()],Ax.prototype,"id",void 0),ji([Cn()],Ax.prototype,"isInvitationOnly",void 0),ji([Cn({type:Date})],Ax.prototype,"modified",void 0),ji([Cn()],Ax.prototype,"owner",void 0),ji([Cn()],Ax.prototype,"portal",void 0),ji([Cn()],Ax.prototype,"snippet",void 0),ji([Cn()],Ax.prototype,"sortField",void 0),ji([Cn()],Ax.prototype,"sortOrder",void 0),ji([Cn()],Ax.prototype,"tags",void 0),ji([Cn()],Ax.prototype,"thumbnail",void 0),ji([Cn({readOnly:!0})],Ax.prototype,"thumbnailUrl",null),ji([Cn()],Ax.prototype,"title",void 0),ji([Cn({readOnly:!0})],Ax.prototype,"url",null),Ax=ji([zs("esri.portal.PortalGroup")],Ax);const Cx=Ax;const Ox=Object.freeze({__proto__:null,default:Cx});var Px;let Dx=Px=class extends rl{constructor(...e){super(...e),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userType=null}get thumbnailUrl(){const e=this.url,t=this.thumbnail;return e&&t?this.portal.normalizeUrl(`${e}/info/${t}?f=json`):null}get userContentUrl(){const e=this.get("portal.restUrl");return e?`${e}/content/users/${this.username}`:null}get url(){const e=this.get("portal.restUrl");return e?`${e}/community/users/${this.username}`:null}addItem(e){const t=e&&e.item,r=e&&e.data,i=e&&e.folder,n={method:"post"};t&&(n.query=t.createPostQuery(),null!=r&&("string"==typeof r?n.query.text=r:"object"==typeof r&&(n.query.text=JSON.stringify(r))));let s=this.userContentUrl;return i&&(s+="/"+("string"==typeof i?i:i.id)),this.portal.request(s+"/addItem",n).then((e=>(t.id=e.id,t.portal=this.portal,t.loaded?t.reload():t.load())))}deleteItem(e){let t=this.userContentUrl;return e.ownerFolder&&(t+="/"+e.ownerFolder),this.portal.request(t+`/items/${e.id}/delete`,{method:"post"}).then((()=>{e.id=null,e.portal=null}))}deleteItems(e){const t=this.userContentUrl+"/deleteItems",r=e.map((e=>e.id));if(r.length){const i={method:"post",query:{items:r.join(",")}};return this.portal.request(t,i).then((()=>{e.forEach((e=>{e.id=null,e.portal=null}))}))}return Promise.resolve(void 0)}fetchFolders(){const e={query:{num:1}};return this.portal.request(this.userContentUrl??"",e).then((e=>{let t;return t=e&&e.folders?e.folders.map((e=>{const t=kx.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchGroups(){return this.portal.request(this.url??"").then((e=>{let t;return t=e&&e.groups?e.groups.map((e=>{const t=Cx.fromJSON(e);return t.portal=this.portal,t})):[],t}))}fetchItems(e){const t=e??{};let r,i=this.userContentUrl??"";return t.folder&&(i+="/"+t.folder.id),Promise.resolve().then((function(){return VV})).then((({default:e})=>{r=e;const n={folders:!1,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"};return this.portal.request(i,{query:n})})).then((e=>{let t;return e&&e.items?(t=e.items.map((e=>{const t=r.fromJSON(e);return t.portal=this.portal,t})),Promise.all(t.map((e=>e.load()))).catch((e=>e)).then((()=>({items:t,nextStart:e.nextStart,total:e.total})))):{items:[],nextStart:-1,total:0}}))}fetchTags(){return this.portal.request(this.url+"/tags").then((e=>e.tags))}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}queryFavorites(e){return this.favGroupId?(this._favGroup||(this._favGroup=new Cx({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(e)):Promise.reject(new me("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new me("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const t=new Px;return t.sourceJSON=e,t.read(e),t}};ji([Cn()],Dx.prototype,"access",void 0),ji([Cn({type:Date})],Dx.prototype,"created",void 0),ji([Cn()],Dx.prototype,"culture",void 0),ji([Cn()],Dx.prototype,"description",void 0),ji([Cn()],Dx.prototype,"email",void 0),ji([Cn()],Dx.prototype,"favGroupId",void 0),ji([Cn()],Dx.prototype,"fullName",void 0),ji([Cn({type:Date})],Dx.prototype,"modified",void 0),ji([Cn()],Dx.prototype,"orgId",void 0),ji([Cn()],Dx.prototype,"portal",void 0),ji([Cn()],Dx.prototype,"preferredView",void 0),ji([Cn()],Dx.prototype,"privileges",void 0),ji([Cn()],Dx.prototype,"region",void 0),ji([Cn()],Dx.prototype,"role",void 0),ji([Cn()],Dx.prototype,"roleId",void 0),ji([Cn()],Dx.prototype,"sourceJSON",void 0),ji([Cn()],Dx.prototype,"thumbnail",void 0),ji([Cn({readOnly:!0})],Dx.prototype,"thumbnailUrl",null),ji([Cn()],Dx.prototype,"units",void 0),ji([Cn({readOnly:!0})],Dx.prototype,"userContentUrl",null),ji([Cn({readOnly:!0})],Dx.prototype,"url",null),ji([Cn()],Dx.prototype,"username",void 0),ji([Cn()],Dx.prototype,"userType",void 0),Dx=Px=ji([zs("esri.portal.PortalUser")],Dx);const Rx=Dx;const Nx=Object.freeze({__proto__:null,default:Rx});var $x;let Lx;const _x={PortalGroup:()=>Promise.resolve().then((function(){return Ox})),PortalItem:()=>Promise.resolve().then((function(){return VV})),PortalUser:()=>Promise.resolve().then((function(){return Nx}))};let qx=$x=class extends(el(bx)){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ne.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"==typeof e?{url:e}:e}destroy(){zx.unregister(this),this.defaultBasemap=we(this.defaultBasemap),this.defaultDevBasemap=we(this.defaultDevBasemap),this.defaultVectorBasemap=we(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=xe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const t of e)ne.request.trustedServers.includes(t)||ne.request.trustedServers.push(t);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const t=e.indexOf("/sharing");e=t>0?e.substring(0,t):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,t=this.thumbnail;return e&&t?this._normalizeSSL(e+"/portals/self/resources/"+t):null}readUrlKey(e){return e?e.toLowerCase():e}readUser(e){let t=null;return e&&(t=Rx.fromJSON(e),t.portal=this),t}load(e){const t=import("./p-f7f8e6f9.js").then((function(e){return e.B})).then((({default:t})=>{Ir(e),Lx=t})).then((()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e))).then((e=>{if(pr){const e=pr;this.credential=e.findCredential(this.restUrl),this.credential||this.authMode!==$x.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=e.on("credential-create",Wx(new WeakRef(this))),zx.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(t),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),t=(await import("./p-ad317788.js")).default;return e?e.map((e=>new t({id:e.id,url:e.url}))):[]}async fetchBasemaps(e,t){const r=await this._fetchBasemaps(e,t);if(!0===t?.include3d&&!1!==this.use3dBasemaps){const i=await this._fetchBasemaps3D(e,t);r.unshift(...i)}return r}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then((e=>e.categorySchema)):Er(e)?Promise.reject(Tr()):Promise.resolve([])}fetchFeaturedGroups(e){const t=this.featuredGroups,r=new Ix;if(r.num=100,r.sortField="title",t&&t.length){const i=[];for(const e of t)i.push(`(title:"${e.title}" AND owner:${e.owner})`);return r.query=i.join(" OR "),this.queryGroups(r,e).then((e=>e.results))}return Er(e)?Promise.reject(Tr()):Promise.resolve([])}fetchRegions(e){const t=this.user?.culture||this.culture||av();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:t}})}fetchSettings(e){const t=this.user?.culture||this.culture||av();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:t}})}static getDefault(){return Sx((()=>new $x))}queryGroups(e,t){return this.queryPortal("/community/groups",e,"PortalGroup",t)}queryItems(e,t){return this.queryPortal("/search",e,"PortalItem",t)}queryUsers(e,t){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",t)}fetchSelf(e=this.authMode,t=!1,r){const i=this.restUrl+"/portals/self",n={authMode:e,query:{culture:av().toLowerCase()},...r};return"auto"===n.authMode&&(n.authMode="no-prompt"),t&&(n.query.default=!0),this.request(i,n)}queryPortal(e,t,r,i){const n=Wi(Ix,t),s=t=>this.request(this.restUrl+e,{...n.toRequestOptions(this),...i}).then((e=>{const r=n.clone();return r.start=e.nextStart,new Ex({nextQueryParams:r,queryParams:n,total:e.total,results:$x._resultsToTypedArray(t,{portal:this},e,i)})})).then((e=>Promise.all(e.results.map((t=>"function"==typeof t.when?t.when():e))).then((()=>e),(t=>(Fr(t),e)))));return r&&_x[r]?_x[r]().then((({default:e})=>(Ir(i),s(e)))):s()}signIn(){if(this.authMode===$x.AUTH_MODE_ANONYMOUS)return Promise.reject(new me("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=e=>Promise.resolve().then((()=>"not-loaded"===this.loadStatus?(e||(this.authMode="immediate"),this.load().then((()=>null))):"loading"===this.loadStatus?this.load().then((()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate")))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate")))).then((e=>{e&&(this.sourceJSON=e,this.read(e))}));return pr?pr.getCredential(this.restUrl).then((t=>e(t))):e(this.credential)}normalizeUrl(e){const t=this.credential&&this.credential.token;return this._normalizeSSL(t?e+(e.includes("?")?"&":"?")+"token="+t:e)}requestToTypedArray(e,t,r){return this.request(e,t).then((e=>{const t=$x._resultsToTypedArray(r,{portal:this},e);return Promise.all(t.map((t=>"function"==typeof t.when?t.when():e))).then((()=>t),(()=>t))}))}request(e,t={}){const r={f:"json",...t.query},{authMode:i=(this.authMode===$x.AUTH_MODE_ANONYMOUS?"anonymous":"auto"),body:n=null,cacheBust:s=!1,method:o="auto",responseType:a="json",signal:l}=t,u={authMode:i,body:n,cacheBust:s,method:o,query:r,responseType:a,timeout:0,signal:l};return Xr(this._normalizeSSL(e),u).then((e=>e.data))}toJSON(){throw new me("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new $x({sourceJSON:e})}_getHelperService(e){const t=this.helperServices&&this.helperServices[e];if(!t)throw new me("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return t}async _fetchBasemaps(e,t){const r=new Ix;r.query=e||(ne.apiKey&&Gr(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const i=await this.queryGroups(r,t);if(!i.total)return[];const n=i.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=n.sortField||"name",r.sortOrder=n.sortOrder||"desc";const s=await n.queryItems(r,t);if(!s.total)return[];return s.results.filter((e=>"Web Map"===e.type)).map((e=>new Lx({portalItem:e})))}async _fetchBasemaps3D(e,t){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];const i=new Ix({query:r,disableExtraQuery:!0}),n=await this.queryGroups(i,t);if(!n.total)return[];const s=n.results[0];i.num=100,i.query='type:"Web Scene"',i.sortField=s.sortField||"name",i.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(i,t);if(!o.total)return[];return o.results.filter((e=>"Web Scene"===e.type)).map((e=>new Lx({portalItem:e})))}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const t=Lx.fromJSON(e);return t.portalItem={portal:this},t}return null}static _resultsToTypedArray(e,t,r,i){let n=[];if(r){const s=null!=i?i.signal:null;n=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||t)&&(n=n.map((r=>{const i=Object.assign(e?e.fromJSON(r):r,t);return"function"==typeof i.load&&i.load(s),i})))}else n=[];return n}};qx.AUTH_MODE_ANONYMOUS="anonymous",qx.AUTH_MODE_AUTO="auto",qx.AUTH_MODE_IMMEDIATE="immediate",ji([Cn()],qx.prototype,"access",void 0),ji([Cn()],qx.prototype,"allSSL",void 0),ji([Cn()],qx.prototype,"authMode",void 0),ji([Cn()],qx.prototype,"authorizedCrossOriginDomains",void 0),ji([il("authorizedCrossOriginDomains")],qx.prototype,"readAuthorizedCrossOriginDomains",null),ji([Cn()],qx.prototype,"basemapGalleryGroupQuery",void 0),ji([Cn({json:{name:"3DBasemapGalleryGroupQuery"}})],qx.prototype,"basemapGalleryGroupQuery3D",void 0),ji([Cn()],qx.prototype,"bingKey",void 0),ji([Cn()],qx.prototype,"canListApps",void 0),ji([Cn()],qx.prototype,"canListData",void 0),ji([Cn()],qx.prototype,"canListPreProvisionedItems",void 0),ji([Cn()],qx.prototype,"canProvisionDirectPurchase",void 0),ji([Cn()],qx.prototype,"canSearchPublic",void 0),ji([Cn()],qx.prototype,"canShareBingPublic",void 0),ji([Cn()],qx.prototype,"canSharePublic",void 0),ji([Cn()],qx.prototype,"canSignInArcGIS",void 0),ji([Cn()],qx.prototype,"canSignInIDP",void 0),ji([Cn()],qx.prototype,"colorSetsGroupQuery",void 0),ji([Cn()],qx.prototype,"commentsEnabled",void 0),ji([Cn({type:Date})],qx.prototype,"created",void 0),ji([Cn()],qx.prototype,"credential",void 0),ji([Cn()],qx.prototype,"culture",void 0),ji([Cn()],qx.prototype,"currentVersion",void 0),ji([Cn()],qx.prototype,"customBaseUrl",void 0),ji([Cn()],qx.prototype,"defaultBasemap",void 0),ji([il("defaultBasemap")],qx.prototype,"readDefaultBasemap",null),ji([Cn()],qx.prototype,"defaultDevBasemap",void 0),ji([il("defaultDevBasemap")],qx.prototype,"readDefaultDevBasemap",null),ji([Cn({type:Rc})],qx.prototype,"defaultExtent",void 0),ji([Cn()],qx.prototype,"defaultVectorBasemap",void 0),ji([il("defaultVectorBasemap")],qx.prototype,"readDefaultVectorBasemap",null),ji([Cn()],qx.prototype,"description",void 0),ji([Cn()],qx.prototype,"devBasemapGalleryGroupQuery",void 0),ji([Cn()],qx.prototype,"eueiEnabled",void 0),ji([Cn({readOnly:!0})],qx.prototype,"extraQuery",null),ji([Cn()],qx.prototype,"featuredGroups",void 0),ji([Cn()],qx.prototype,"featuredItemsGroupQuery",void 0),ji([Cn()],qx.prototype,"galleryTemplatesGroupQuery",void 0),ji([Cn()],qx.prototype,"livingAtlasGroupQuery",void 0),ji([Cn()],qx.prototype,"hasCategorySchema",void 0),ji([Cn()],qx.prototype,"helpBase",void 0),ji([Cn()],qx.prototype,"helperServices",void 0),ji([Cn()],qx.prototype,"helpMap",void 0),ji([Cn()],qx.prototype,"homePageFeaturedContent",void 0),ji([Cn()],qx.prototype,"homePageFeaturedContentCount",void 0),ji([Cn()],qx.prototype,"httpPort",void 0),ji([Cn()],qx.prototype,"httpsPort",void 0),ji([Cn()],qx.prototype,"id",void 0),ji([Cn()],qx.prototype,"ipCntryCode",void 0),ji([Cn({readOnly:!0})],qx.prototype,"isOrganization",null),ji([Cn()],qx.prototype,"isPortal",void 0),ji([Cn()],qx.prototype,"isReadOnly",void 0),ji([Cn({readOnly:!0})],qx.prototype,"itemPageUrl",null),ji([Cn()],qx.prototype,"layerTemplatesGroupQuery",void 0),ji([Cn()],qx.prototype,"maxTokenExpirationMinutes",void 0),ji([Cn({type:Date})],qx.prototype,"modified",void 0),ji([Cn()],qx.prototype,"name",void 0),ji([Cn()],qx.prototype,"portalHostname",void 0),ji([Cn()],qx.prototype,"portalMode",void 0),ji([Cn()],qx.prototype,"portalProperties",void 0),ji([Cn()],qx.prototype,"region",void 0),ji([Cn({readOnly:!0})],qx.prototype,"restUrl",null),ji([Cn()],qx.prototype,"rotatorPanels",void 0),ji([Cn()],qx.prototype,"showHomePageDescription",void 0),ji([Cn()],qx.prototype,"sourceJSON",void 0),ji([Cn()],qx.prototype,"staticImagesUrl",void 0),ji([Cn({json:{name:"2DStylesGroupQuery"}})],qx.prototype,"stylesGroupQuery2d",void 0),ji([Cn({json:{name:"stylesGroupQuery"}})],qx.prototype,"stylesGroupQuery3d",void 0),ji([Cn()],qx.prototype,"supportsHostedServices",void 0),ji([Cn()],qx.prototype,"symbolSetsGroupQuery",void 0),ji([Cn()],qx.prototype,"templatesGroupQuery",void 0),ji([Cn()],qx.prototype,"thumbnail",void 0),ji([Cn({readOnly:!0})],qx.prototype,"thumbnailUrl",null),ji([Cn()],qx.prototype,"units",void 0),ji([Cn()],qx.prototype,"url",void 0),ji([Cn()],qx.prototype,"urlKey",void 0),ji([il("urlKey")],qx.prototype,"readUrlKey",null),ji([Cn()],qx.prototype,"user",void 0),ji([il("user")],qx.prototype,"readUser",null),ji([Cn()],qx.prototype,"use3dBasemaps",void 0),ji([Cn()],qx.prototype,"useStandardizedQuery",void 0),ji([Cn()],qx.prototype,"useVectorBasemaps",void 0),ji([Cn()],qx.prototype,"vectorBasemapGalleryGroupQuery",void 0),qx=$x=ji([zs("esri.portal.Portal")],qx);const Vx=qx,zx=new FinalizationRegistry((e=>{e.remove()}));function Wx(e){const t=pr;return()=>{const r=e.deref();r&&t.findCredential(r.restUrl)&&r.signIn().catch((()=>{}))}}let Ux=class extends(Yp(rl)){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return null!=e&&e.placement===this.placement&&e.style===this.style&&(null==this.color&&null==e.color||null!=this.color&&null!=e.color&&this.color.toJSON()===e.color.toJSON())}};ji([Cn({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Ux.prototype,"type",void 0),ji([Cn({type:hw,json:{default:"begin-end",write:!0}})],Ux.prototype,"placement",void 0),ji([Cn({type:fw,json:{default:"arrow",write:!0}})],Ux.prototype,"style",void 0),ji([Cn({type:Mb,json:{type:[Yi],default:null,write:!0}})],Ux.prototype,"color",void 0),Ux=ji([zs("esri.symbols.LineStyleMarker3D")],Ux);const Gx=Ux;var Bx;let Hx=Bx=class extends Rb{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=qb(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:null!=this.material?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:null!=this.pattern?this.pattern.clone():null,marker:null!=this.marker?this.marker.clone():null};return new Bx(e)}static fromSimpleLineSymbol(e){const t={enabled:!0,size:e.width??qb(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style&&"inside-frame"!==e.style?new kw({style:e.style}):null,material:new ow({color:(e.color||Lw).clone()}),marker:e.marker?new Gx({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new Bx(t)}};ji([Cn({type:ow,json:{write:!0}})],Hx.prototype,"material",void 0),ji([iv({Line:"line"},{readOnly:!0})],Hx.prototype,"type",void 0),ji([Cn({type:yS,json:{write:!0,default:"miter"}})],Hx.prototype,"join",void 0),ji([Cn({type:fS,json:{write:!0,default:"butt"}})],Hx.prototype,"cap",void 0),ji([Cn(Zb)],Hx.prototype,"size",void 0),ji([Cn($w)],Hx.prototype,"pattern",void 0),ji([Cn({types:{key:"type",base:Gx,typeMap:{style:Gx}},json:{write:!0}})],Hx.prototype,"marker",void 0),Hx=Bx=ji([zs("esri.symbols.LineSymbol3DLayer")],Hx);const Jx=Hx;var Zx;const Qx=sl()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Kx=Zx=class extends rl{clone(){return new Zx({href:this.href,primitive:this.primitive})}};ji([Cn({type:String,json:{read:RS,write:NS}})],Kx.prototype,"href",void 0),ji([iv(Qx)],Kx.prototype,"primitive",void 0),Kx=Zx=ji([zs("esri.symbols.support.ObjectSymbol3DLayerResource")],Kx);var Yx;let Xx=Yx=class extends $a{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Yx({x:this.x,y:this.y,z:this.z})}};ji([Cn({type:Number})],Xx.prototype,"x",void 0),ji([Cn({type:Number})],Xx.prototype,"y",void 0),ji([Cn({type:Number})],Xx.prototype,"z",void 0),Xx=Yx=ji([zs("esri.symbols.support.Symbol3DAnchorPosition3D")],Xx);var ej;let tj=ej=class extends Rb{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new ej({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition&&this.anchorPosition.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,resource:this.resource&&this.resource.clone(),width:this.width})}get isPrimitive(){return!this.resource||"string"!=typeof this.resource.href}};ji([Cn({type:ow,json:{write:!0}})],tj.prototype,"material",void 0),ji([Cn({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],tj.prototype,"castShadows",void 0),ji([Cn({type:Kx,json:{write:!0}})],tj.prototype,"resource",void 0),ji([iv({Object:"object"},{readOnly:!0})],tj.prototype,"type",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"width",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"height",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"depth",void 0),ji([iv({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"}),Cn({json:{default:"origin"}})],tj.prototype,"anchor",void 0),ji([Cn({type:Xx,json:{type:[Number],read:{reader:e=>new Xx({x:e[0],y:e[1],z:e[2]})},write:{writer:(e,t)=>{t.anchorPosition=[e.x,e.y,e.z]},overridePolicy(){return{enabled:"relative"===this.anchor}}}}})],tj.prototype,"anchorPosition",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"heading",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"tilt",void 0),ji([Cn({type:Number,json:{write:!0}})],tj.prototype,"roll",void 0),ji([Cn({readOnly:!0})],tj.prototype,"isPrimitive",null),tj=ej=ji([zs("esri.symbols.ObjectSymbol3DLayer")],tj);const rj=tj;var ij;let nj=ij=class extends Rb{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,t){return null!=e?e:null==t.height&&null!=t.size?t.size:void 0}readHeight(e,t){return null!=e?e:null==t.width&&null!=t.size?t.size:void 0}clone(){return new ij({enabled:this.enabled,material:null!=this.material?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};ji([Cn({type:ow,json:{write:!0}})],nj.prototype,"material",void 0),ji([Cn({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],nj.prototype,"castShadows",void 0),ji([iv({Path:"path"},{readOnly:!0})],nj.prototype,"type",void 0),ji([Cn({type:["circle","quad"],json:{write:!0,default:"circle"}})],nj.prototype,"profile",void 0),ji([Cn({type:yS,json:{write:!0,default:"miter"}})],nj.prototype,"join",void 0),ji([Cn({type:pS,json:{write:!0,default:"butt"}})],nj.prototype,"cap",void 0),ji([Cn({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],nj.prototype,"width",void 0),ji([il("width",["width","size","height"])],nj.prototype,"readWidth",null),ji([Cn({type:Number,json:{write:!0}})],nj.prototype,"height",void 0),ji([il("height",["height","size","width"])],nj.prototype,"readHeight",null),ji([Cn({type:["center","bottom","top"],json:{write:!0,default:"center"}})],nj.prototype,"anchor",void 0),ji([Cn({type:["heading","all"],json:{write:!0,default:"all"}})],nj.prototype,"profileRotation",void 0),nj=ij=ji([zs("esri.symbols.PathSymbol3DLayer")],nj);const sj=nj;var oj;let aj=oj=class extends rl{constructor(){super(...arguments),this.color=new Mb([0,0,0,1]),this.size=0}clone(){const e={color:V(this.color),size:this.size};return new oj(e)}};ji([Cn(Jb)],aj.prototype,"color",void 0),ji([Cn(Zb)],aj.prototype,"size",void 0),aj=oj=ji([zs("esri.symbols.support.Symbol3DHalo")],aj);let lj=class extends(Yp(rl)){constructor(e){super(e),this.color=null}};ji([Cn(Jb)],lj.prototype,"color",void 0),lj=ji([zs("esri.symbols.support.Symbol3DTextBackground")],lj);var uj;let cj=uj=class extends Rb{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(e){null!=e&&null!=this._userSize&&(e.size=this._userSize),this._set("font",e)}writeFont(e,t,r,i){const n={...i,textSymbol3D:!0};t.font=e.write({},n),delete t.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font&&null!=this.font.size?this.font.size:9}set size(e){this._userSize=e,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new uj({enabled:this.enabled,font:this.font&&V(this.font),halo:this.halo&&V(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:V(this.background)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new uj({font:null!=e.font?e.font.clone():new OS,halo:dj(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new ow({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new lj({color:e.backgroundColor.clone()}):null})}};function dj(e,t){return e&&null!=t&&t>0?new aj({color:V(e),size:t}):null}ji([Cn({type:OS,json:{write:!0}})],cj.prototype,"font",null),ji([Iu("font")],cj.prototype,"writeFont",null),ji([Cn({type:aj,json:{write:!0}})],cj.prototype,"halo",void 0),ji([Cn({...ES,json:{default:"center",write:!0}})],cj.prototype,"horizontalAlignment",void 0),ji([Cn({...TS,json:{default:1,write:!0}})],cj.prototype,"lineHeight",void 0),ji([Cn({type:ow,json:{write:!0}})],cj.prototype,"material",void 0),ji([Cn({type:lj,json:{write:!0}})],cj.prototype,"background",void 0),ji([Cn(Zb)],cj.prototype,"size",null),ji([Cn({type:String,json:{write:!0}})],cj.prototype,"text",void 0),ji([iv({Text:"text"},{readOnly:!0})],cj.prototype,"type",void 0),ji([Cn({...FS,json:{default:"baseline",write:!0}})],cj.prototype,"verticalAlignment",void 0),cj=uj=ji([zs("esri.symbols.TextSymbol3DLayer")],cj);const hj=cj;var fj;let pj=fj=class extends Rb{constructor(e){super(e),this.color=yj.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new fj({color:V(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};ji([Cn({type:Mb,nonNullable:!0,json:{type:[Yi],write:(e,t,r)=>t[r]=e.toArray(Mb.AlphaMode.UNLESS_OPAQUE),default:()=>yj.clone(),defaultEquals:e=>e.toCss(!0)===yj.toCss(!0)}})],pj.prototype,"color",void 0),ji([iv({Water:"water"},{readOnly:!0})],pj.prototype,"type",void 0),ji([Cn({type:["small","medium","large"],json:{write:!0,default:"medium"}})],pj.prototype,"waterbodySize",void 0),ji([Cn({type:Number,json:{write:!0,default:null}})],pj.prototype,"waveDirection",void 0),ji([Cn({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],pj.prototype,"waveStrength",void 0),pj=fj=ji([zs("esri.symbols.WaterSymbol3DLayer")],pj);const yj=new Mb([0,119,190]),mj=pj;var vj;let gj=vj=class extends $a{constructor(e){super(e),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new vj({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};ji([Cn({type:String})],gj.prototype,"name",void 0),ji([Cn({type:String})],gj.prototype,"styleUrl",void 0),ji([Cn({type:String})],gj.prototype,"styleName",void 0),ji([Cn({type:Vx})],gj.prototype,"portal",void 0),gj=vj=ji([zs("esri.symbols.support.StyleOrigin")],gj);const bj=gj;var wj;let Sj=wj=class extends $a{constructor(){super(...arguments),this.url=""}clone(){return new wj({url:this.url})}};ji([Cn({type:String})],Sj.prototype,"url",void 0),Sj=wj=ji([zs("esri.symbols.support.Thumbnail")],Sj);const xj={icon:sx,object:rj,line:Jx,path:sj,fill:wS,extrude:uw,text:hj,water:mj},jj=by.ofType({base:Rb,key:"type",typeMap:xj,errorContext:"symbol-layer"});let Tj=class extends Ab{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const t=this.__accessor__&&this.__accessor__.metadatas&&this.__accessor__.metadatas.symbolLayers,r=t&&t.type||by;this._set("symbolLayers",new r)}get color(){return null}set color(e){this.constructed&&fe.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){ox(e,this._get("symbolLayers"))}readStyleOrigin(e,t,r){if(e.styleUrl&&e.name){const t=PS(e.styleUrl,r);return new bj({styleUrl:t,name:e.name})}if(e.styleName&&e.name)return new bj({portal:r&&r.portal||Vx.getDefault(),styleName:e.styleName,name:e.name});r&&r.messages&&r.messages.push(new es("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,t,r,i){if(e.styleUrl&&e.name){let r=DS(e.styleUrl,i);Tt(r)&&(r=St(r)),t.styleOrigin={styleUrl:r,name:e.name}}else e.styleName&&e.name&&(e.portal&&i&&i.portal&&!ft(e.portal.restUrl,i.portal.restUrl)?i&&i.messages&&i.messages.push(new es("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):t.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Rb||e&&xj[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};ji([Cn({json:{read:!1,write:!1}})],Tj.prototype,"color",null),ji([Cn({type:jj,nonNullable:!0,json:{write:!0}}),Ru(ax)],Tj.prototype,"symbolLayers",null),ji([Cn({type:bj})],Tj.prototype,"styleOrigin",void 0),ji([il("styleOrigin")],Tj.prototype,"readStyleOrigin",null),ji([Iu("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Tj.prototype,"writeStyleOrigin",null),ji([Cn({type:Sj,json:{read:!1}})],Tj.prototype,"thumbnail",void 0),ji([Cn({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Tj.prototype,"type",void 0),Tj=ji([zs("esri.symbols.Symbol3D")],Tj);const Ij=Tj;let Mj=class extends rl{constructor(e){super(e),this.visible=!0}clone(){}};ji([Cn({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],Mj.prototype,"type",void 0),ji([Cn({readOnly:!0})],Mj.prototype,"visible",void 0),Mj=ji([zs("esri.symbols.callouts.Callout3D")],Mj);const Ej=Mj;var Fj;let kj=Fj=class extends rl{constructor(){super(...arguments),this.color=new Mb("white")}clone(){return new Fj({color:V(this.color)})}};ji([Cn(Jb)],kj.prototype,"color",void 0),kj=Fj=ji([zs("esri.symbols.callouts.LineCallout3DBorder")],kj);const Aj=kj;Object.freeze(Object.defineProperty({__proto__:null,default:Aj},Symbol.toStringTag,{value:"Module"}));var Cj;let Oj=Cj=class extends Ej{constructor(e){super(e),this.type="line",this.color=new Mb([0,0,0,1]),this.size=qb(1),this.border=null}get visible(){return this.size>0&&null!=this.color&&this.color.a>0}clone(){return new Cj({color:V(this.color),size:this.size,border:V(this.border)})}};ji([iv({line:"line"},{readOnly:!0})],Oj.prototype,"type",void 0),ji([Cn(Jb)],Oj.prototype,"color",void 0),ji([Cn(Zb)],Oj.prototype,"size",void 0),ji([Cn({type:Aj,json:{write:!0}})],Oj.prototype,"border",void 0),ji([Cn({readOnly:!0})],Oj.prototype,"visible",null),Oj=Cj=ji([zs("esri.symbols.callouts.LineCallout3D")],Oj);const Pj=Oj;function Dj(e){if(!e)return!1;const t=e.verticalOffset;return!!t&&!(t.screenLength<=0||null!=t.maxWorldLength&&t.maxWorldLength<=0)}function Rj(e){if(!e)return!1;if(!e.supportsCallout||!e.supportsCallout())return!1;const t=e.callout;return!!t&&(!!t.visible&&!!Dj(e))}const Nj={types:{key:"type",base:Ej,typeMap:{line:Pj}},json:{write:!0}};var $j;let Lj=$j=class extends rl{constructor(e){super(e),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new $j({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};ji([Cn(Zb)],Lj.prototype,"screenLength",void 0),ji([Cn({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Lj.prototype,"minWorldLength",void 0),ji([Cn({type:Number,json:{write:!0}})],Lj.prototype,"maxWorldLength",void 0),Lj=$j=ji([zs("esri.symbols.support.Symbol3DVerticalOffset")],Lj);const _j=Lj;var qj;const Vj=by.ofType({base:null,key:"type",typeMap:{text:hj}});let zj=qj=class extends Ij{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Vj,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Rj(this)}hasVisibleVerticalOffset(){return Dj(this)}clone(){return new qj({styleOrigin:V(this.styleOrigin),symbolLayers:V(this.symbolLayers),thumbnail:V(this.thumbnail),callout:V(this.callout),verticalOffset:V(this.verticalOffset)})}static fromTextSymbol(e){return new qj({symbolLayers:[hj.fromTextSymbol(e)]})}};ji([Cn({type:_j,json:{write:!0}})],zj.prototype,"verticalOffset",void 0),ji([Cn(Nj)],zj.prototype,"callout",void 0),ji([Cn({json:{read:!1,write:!1}})],zj.prototype,"styleOrigin",void 0),ji([Cn({type:Vj})],zj.prototype,"symbolLayers",void 0),ji([iv({LabelSymbol3D:"label-3d"},{readOnly:!0})],zj.prototype,"type",void 0),zj=qj=ji([zs("esri.symbols.LabelSymbol3D")],zj);const Wj=zj;var Uj;const Gj=by.ofType({base:null,key:"type",typeMap:{line:Jx,path:sj}}),Bj=by.ofType({base:null,key:"type",typeMap:{line:Jx,path:sj}});let Hj=Uj=class extends Ij{constructor(e){super(e),this.symbolLayers=new Gj,this.type="line-3d"}clone(){return new Uj({styleOrigin:V(this.styleOrigin),symbolLayers:V(this.symbolLayers),thumbnail:V(this.thumbnail)})}static fromSimpleLineSymbol(e){return new Uj({symbolLayers:[Jx.fromSimpleLineSymbol(e)]})}};ji([Cn({type:Gj,json:{type:Bj}})],Hj.prototype,"symbolLayers",void 0),ji([iv({LineSymbol3D:"line-3d"},{readOnly:!0})],Hj.prototype,"type",void 0),Hj=Uj=ji([zs("esri.symbols.LineSymbol3D")],Hj);const Jj=Hj;let Zj=class extends Ab{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};ji([Cn({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],Zj.prototype,"angle",void 0),ji([Cn({type:["simple-marker","picture-marker"],readOnly:!0})],Zj.prototype,"type",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Zj.prototype,"xoffset",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Zj.prototype,"yoffset",void 0),ji([Cn({type:Number,cast:e=>"auto"===e?e:Vb(e),json:{write:!0}})],Zj.prototype,"size",void 0),Zj=ji([zs("esri.symbols.MarkerSymbol")],Zj);const Qj=Zj;var Kj;const Yj=by.ofType({base:null,key:"type",typeMap:{fill:wS}});let Xj=Kj=class extends Ij{constructor(e){super(e),this.symbolLayers=new Yj,this.type="mesh-3d"}clone(){return new Kj({styleOrigin:V(this.styleOrigin),symbolLayers:V(this.symbolLayers),thumbnail:V(this.thumbnail)})}static fromSimpleFillSymbol(e){return new Kj({symbolLayers:[wS.fromSimpleFillSymbol(e)]})}};ji([Cn({type:Yj})],Xj.prototype,"symbolLayers",void 0),ji([iv({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Xj.prototype,"type",void 0),Xj=Kj=ji([zs("esri.symbols.MeshSymbol3D")],Xj);const eT=Xj;function tT(e,t,r){return t.imageData?Ct({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):rT(t.url,r)}function rT(e,t){return oT(t)&&!Tt(e)&&t?.layer?.parsedUrl?xt(t.layer.parsedUrl.path,"images",e):PS(e,t)}function iT(e,t,r,i){if(Mt(e)){const n=At(e);if(!n)return;t.contentType=n.mediaType,t.imageData=n.data,r&&r.imageData===t.imageData&&r.url&&NS(r.url,t,"url",i)}else NS(e,t,"url",i)}const nT={json:{read:{source:["imageData","url"],reader:tT},write:{writer(e,t,r,i){iT(e,t,this.source,i)}}}},sT={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,r){const i={};return t.imageData&&(i.imageData=t.imageData),t.contentType&&(i.contentType=t.contentType),t.url&&(i.url=rT(t.url,r)),i}}}};function oT(e){return!(null==e||"service"!==e.origin&&"portal-item"!==e.origin||"feature"!==e.layer?.type&&"stream"!==e.layer?.type)}var aT;let lT=aT=class extends xw{constructor(...e){super(...e),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(e,t,r,i){if(e&&"string"!=typeof e&&null==e.imageData)return e;const n={};return e&&(n.url=e),t&&(n.outline=t),null!=r&&(n.width=Vb(r)),null!=i&&(n.height=Vb(i)),n}clone(){const e=new aT({color:V(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return e._set("source",V(this.source)),e}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};ji([iv({esriPFS:"picture-fill"},{readOnly:!0})],lT.prototype,"type",void 0),ji([Cn(nT)],lT.prototype,"url",void 0),ji([Cn({type:Number,json:{write:!0}})],lT.prototype,"xscale",void 0),ji([Cn({type:Number,json:{write:!0}})],lT.prototype,"yscale",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],lT.prototype,"width",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],lT.prototype,"height",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],lT.prototype,"xoffset",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],lT.prototype,"yoffset",void 0),ji([Cn(sT)],lT.prototype,"source",void 0),lT=aT=ji([zs("esri.symbols.PictureFillSymbol")],lT);const uT=lT;var cT;let dT=cT=class extends Qj{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e&&null==e.imageData)return e;const i={};return e&&(i.url=e),null!=t&&(i.width=Vb(t)),null!=r&&(i.height=Vb(r)),i}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){const e=new cT({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",V(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};ji([Cn({json:{write:!1}})],dT.prototype,"color",void 0),ji([iv({esriPMS:"picture-marker"},{readOnly:!0})],dT.prototype,"type",void 0),ji([Cn(nT)],dT.prototype,"url",void 0),ji([Cn(sT)],dT.prototype,"source",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],dT.prototype,"height",void 0),ji([il("height",["height","size"])],dT.prototype,"readHeight",null),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],dT.prototype,"width",void 0),ji([Cn({json:{write:!1}})],dT.prototype,"size",void 0),dT=cT=ji([zs("esri.symbols.PictureMarkerSymbol")],dT);const hT=dT;var fT;const pT=by.ofType({base:null,key:"type",typeMap:{icon:sx,object:rj,text:hj}});let yT=fT=class extends Ij{constructor(e){super(e),this.verticalOffset=null,this.callout=null,this.symbolLayers=new pT,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const e of this.symbolLayers.items)switch(e.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Rj(this)}hasVisibleVerticalOffset(){return Dj(this)}clone(){return new fT({verticalOffset:V(this.verticalOffset),callout:V(this.callout),styleOrigin:V(this.styleOrigin),symbolLayers:V(this.symbolLayers),thumbnail:V(this.thumbnail)})}static fromSimpleMarkerSymbol(e){return new fT({symbolLayers:[sx.fromSimpleMarkerSymbol(e)]})}static fromPictureMarkerSymbol(e){return new fT({symbolLayers:[sx.fromPictureMarkerSymbol(e)]})}static fromCIMSymbol(e){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return null;const r=e.data.symbol;return new fT(r?.callout?{symbolLayers:[sx.fromCIMSymbol(e)],callout:{type:"line",size:.5,color:[0,0,0]},verticalOffset:{screenLength:40}}:{symbolLayers:[sx.fromCIMSymbol(e)]})}static fromTextSymbol(e){return new fT({symbolLayers:[hj.fromTextSymbol(e)]})}};ji([Cn({type:_j,json:{write:!0}})],yT.prototype,"verticalOffset",void 0),ji([Cn(Nj)],yT.prototype,"callout",void 0),ji([Cn({type:pT,json:{origins:{"web-scene":{write:!0}}}})],yT.prototype,"symbolLayers",void 0),ji([iv({PointSymbol3D:"point-3d"},{readOnly:!0})],yT.prototype,"type",void 0),yT=fT=ji([zs("esri.symbols.PointSymbol3D")],yT);const mT=yT;var vT;const gT=by.ofType({base:null,key:"type",typeMap:{extrude:uw,fill:wS,icon:sx,line:Jx,object:rj,text:hj,water:mj}});let bT=vT=class extends Ij{constructor(e){super(e),this.symbolLayers=new gT,this.type="polygon-3d"}clone(){return new vT({styleOrigin:V(this.styleOrigin),symbolLayers:V(this.symbolLayers),thumbnail:V(this.thumbnail)})}static fromJSON(e){const t=new vT;if(t.read(e),2===t.symbolLayers.length&&"fill"===t.symbolLayers.at(0).type&&"line"===t.symbolLayers.at(1).type){const r=t.symbolLayers.at(0),i=t.symbolLayers.at(1);!i.enabled||e.symbolLayers&&e.symbolLayers[1]&&!1===e.symbolLayers[1].enable||(r.outline={size:i.size,color:null!=i.material?i.material.color:null}),t.symbolLayers.removeAt(1)}return t}static fromSimpleFillSymbol(e){return new vT({symbolLayers:[wS.fromSimpleFillSymbol(e)]})}};ji([Cn({type:gT,json:{write:!0}})],bT.prototype,"symbolLayers",void 0),ji([iv({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],bT.prototype,"type",void 0),bT=vT=ji([zs("esri.symbols.PolygonSymbol3D")],bT);const wT=bT;var ST;const xT=new nl({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let jT=ST=class extends xw{constructor(...e){super(...e),this.color=new Mb([0,0,0,.25]),this.outline=new ww,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.style=e),t&&(i.outline=t),r&&(i.color=r),i}clone(){return new ST({color:V(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};ji([Cn()],jT.prototype,"color",void 0),ji([Cn()],jT.prototype,"outline",void 0),ji([iv({esriSFS:"simple-fill"},{readOnly:!0})],jT.prototype,"type",void 0),ji([Cn({type:xT.apiValues,json:{read:xT.read,write:xT.write}})],jT.prototype,"style",void 0),jT=ST=ji([zs("esri.symbols.SimpleFillSymbol")],jT);const TT=jT;var IT;const MT=new nl({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let ET=IT=class extends Qj{constructor(...e){super(...e),this.color=new Mb([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new ww}normalizeCtorArgs(e,t,r,i){if(e&&"string"!=typeof e)return e;const n={};return e&&(n.style=e),null!=t&&(n.size=Vb(t)),r&&(n.outline=r),i&&(n.color=i),n}writeColor(e,t){e&&"x"!==this.style&&"cross"!==this.style&&(t.color=e.toJSON()),null===e&&(t.color=null)}set path(e){this.style="path",this._set("path",e)}clone(){return new IT({angle:this.angle,color:V(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};ji([Cn()],ET.prototype,"color",void 0),ji([Iu("color")],ET.prototype,"writeColor",null),ji([iv({esriSMS:"simple-marker"},{readOnly:!0})],ET.prototype,"type",void 0),ji([Cn()],ET.prototype,"size",void 0),ji([Cn({type:MT.apiValues,json:{read:MT.read,write:MT.write}})],ET.prototype,"style",void 0),ji([Cn({type:String,json:{write:!0}})],ET.prototype,"path",null),ji([Cn({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":ww}},json:{default:null,write:!0}})],ET.prototype,"outline",void 0),ET=IT=ji([zs("esri.symbols.SimpleMarkerSymbol")],ET);const FT=ET;var kT;let AT=kT=class extends Ab{constructor(...e){super(...e),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new OS,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(e,t,r){if(e&&"string"!=typeof e)return e;const i={};return e&&(i.text=e),t&&(i.font=t),r&&(i.color=r),i}writeLineWidth(e,t,r,i){i&&"string"!=typeof i?i.origin:t[r]=e}castLineWidth(e){return Vb(e)}writeLineHeight(e,t,r,i){i&&"string"!=typeof i?i.origin:t[r]=e}clone(){return new kT({angle:this.angle,backgroundColor:V(this.backgroundColor),borderLineColor:V(this.borderLineColor),borderLineSize:this.borderLineSize,color:V(this.color),font:this.font&&this.font.clone(),haloColor:V(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor&&this.backgroundColor.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor&&this.haloColor.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};ji([Cn({type:Mb,json:{write:!0}})],AT.prototype,"backgroundColor",void 0),ji([Cn({type:Mb,json:{write:!0}})],AT.prototype,"borderLineColor",void 0),ji([Cn({type:Number,json:{write:!0},cast:Vb})],AT.prototype,"borderLineSize",void 0),ji([Cn({type:OS,json:{write:!0}})],AT.prototype,"font",void 0),ji([Cn({...ES,json:{write:!0}})],AT.prototype,"horizontalAlignment",void 0),ji([Cn({type:Boolean,json:{write:!0}})],AT.prototype,"kerning",void 0),ji([Cn({type:Mb,json:{write:!0}})],AT.prototype,"haloColor",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],AT.prototype,"haloSize",void 0),ji([Cn({type:Boolean,json:{write:!0}})],AT.prototype,"rightToLeft",void 0),ji([Cn({type:Boolean,json:{write:!0}})],AT.prototype,"rotated",void 0),ji([Cn({type:String,json:{write:!0}})],AT.prototype,"text",void 0),ji([iv({esriTS:"text"},{readOnly:!0})],AT.prototype,"type",void 0),ji([Cn({...FS,json:{write:!0}})],AT.prototype,"verticalAlignment",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],AT.prototype,"xoffset",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],AT.prototype,"yoffset",void 0),ji([Cn({type:Number,json:{read:e=>e&&-1*e,write:(e,t)=>t.angle=e&&-1*e}})],AT.prototype,"angle",void 0),ji([Cn({type:Number,json:{write:!0}})],AT.prototype,"width",void 0),ji([Cn({type:Number})],AT.prototype,"lineWidth",void 0),ji([Iu("lineWidth")],AT.prototype,"writeLineWidth",null),ji([Ru("lineWidth")],AT.prototype,"castLineWidth",null),ji([Cn(TS)],AT.prototype,"lineHeight",void 0),ji([Iu("lineHeight")],AT.prototype,"writeLineHeight",null),AT=kT=ji([zs("esri.symbols.TextSymbol")],AT);const CT=AT;var OT;let PT=OT=class extends Ab{constructor(e){super(e),this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const e=null!=this.portal?this.portal:Vx.getDefault(),t=e.user?e.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${t}:${e.url}`}read(e,t){this.portal=t?.portal,super.read(e,t)}clone(){return new OT({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(e){return this._fetchSymbol("webRef",e)}fetchCIMSymbol(e){return this._fetchSymbol("cimRef",e)}async _fetchSymbol(e,t){const r=null!=t?t.cache:null,i=r?this._fetchCacheKey:null;if(null!=r){const e=i&&r.get(i);if(e)return e.clone()}const{resolveWebStyleSymbol:n}=await import("./p-2a6d626a.js");Ir(t);const s=n(this,{portal:this.portal},e,t);s.catch((e=>{fe.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",e)}));const o=await s;return"webRef"===e&&"point-3d"===o.type||"cimRef"===e&&"cim"===o.type?(null!=r&&r.set(i,o.clone()),o):null}};ji([Cn({json:{write:!1}})],PT.prototype,"color",void 0),ji([Cn({type:String,json:{write:!0}})],PT.prototype,"styleName",void 0),ji([Cn({type:Vx,json:{write:!1}})],PT.prototype,"portal",void 0),ji([Cn({type:String,json:{read:RS,write:NS}})],PT.prototype,"styleUrl",void 0),ji([Cn({type:Sj,json:{read:!1}})],PT.prototype,"thumbnail",void 0),ji([Cn({type:String,json:{write:!0}})],PT.prototype,"name",void 0),ji([iv({styleSymbolReference:"web-style"},{readOnly:!0})],PT.prototype,"type",void 0),ji([Cn()],PT.prototype,"_fetchCacheKey",null),PT=OT=ji([zs("esri.symbols.WebStyleSymbol")],PT);const DT=PT;function RT(e){if(!e)return!1;switch(e.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function NT(e){if(!e)return!1;switch(e.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const $T={base:Ab,key:"type",typeMap:{"simple-fill":TT,"picture-fill":uT,"picture-marker":hT,"simple-line":ww,"simple-marker":FT,text:CT,"label-3d":Wj,"line-3d":Jj,"mesh-3d":eT,"point-3d":mT,"polygon-3d":wT,"web-style":DT,cim:Pb},errorContext:"symbol"},LT={base:Ab,key:"type",typeMap:{"picture-marker":hT,"simple-marker":FT,text:CT,"web-style":DT,cim:Pb},errorContext:"symbol"},_T=ns({types:$T}),qT={base:Ab,key:"type",typeMap:{"simple-fill":TT,"picture-fill":uT,"picture-marker":hT,"simple-line":ww,"simple-marker":FT,text:CT,"line-3d":Jj,"mesh-3d":eT,"point-3d":mT,"polygon-3d":wT,"web-style":DT,cim:Pb},errorContext:"symbol"},VT={base:Ab,key:"type",typeMap:{text:CT,"label-3d":Wj},errorContext:"symbol"},zT={base:Ab,key:"type",typeMap:{"line-3d":Jj,"mesh-3d":eT,"point-3d":mT,"polygon-3d":wT,"web-style":DT,cim:Pb},errorContext:"symbol"},WT={base:Ab,key:"type",typeMap:{"label-3d":Wj},errorContext:"symbol"},UT=Ki($T);var GT;function BT(e){if(!e)return null;const t={};for(const r in e){const i=Hp(e[r]);i&&(t[r]=i)}return 0!==Object.keys(t).length?t:null}function HT(e){if(null==e)return null;const t={};for(const r in e){const i=e[r];i&&(t[r]=i.toJSON())}return 0!==Object.keys(t).length?t:null}let JT=GT=class extends(Yp(rl)){constructor(...e){super(...e),this.isAggregate=!1,this.layer=null,this.popupTemplate=null,this.sourceLayer=null,Object.defineProperty(this,"uid",{value:ta(),configurable:!0})}normalizeCtorArgs(e,t,r,i){return e&&!e.declaredClass?e:{geometry:e,symbol:t,attributes:r,popupTemplate:i}}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),this._notifyLayer("geometry",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new GT({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;for(const t of[this.sourceLayer,this.layer])if(t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&null!=t.defaultPopupTemplate)return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",r,t,e)}else this.attributes={[e]:t},this._notifyLayer("attributes",void 0,t,e)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){return{aggregateGeometries:HT(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:{...this.attributes},popupTemplate:this.popupTemplate&&this.popupTemplate.toJSON()}}notifyGeometryChanged(){this._notifyLayer("geometry",this.geometry,this.geometry)}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const r={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,t,r,i){if(!this.layer||!("graphicChanged"in this.layer))return;const n={graphic:this,property:e,oldValue:t,newValue:r};"origin-transform"===e&&(n.action=i),"attributes"===e&&(n.attributeName=i),this.layer.graphicChanged(n)}};ji([Cn({value:null,json:{read:BT}})],JT.prototype,"aggregateGeometries",null),ji([Cn({value:null})],JT.prototype,"attributes",null),ji([Cn({value:null,types:Kp,json:{read:Hp}})],JT.prototype,"geometry",null),ji([Cn({type:Boolean})],JT.prototype,"isAggregate",void 0),ji([Cn({clonable:"reference"})],JT.prototype,"layer",void 0),ji([Cn({type:yb})],JT.prototype,"popupTemplate",void 0),ji([Cn({clonable:"reference"})],JT.prototype,"sourceLayer",void 0),ji([Cn({value:null,types:$T})],JT.prototype,"symbol",null),ji([Cn({type:Boolean,value:!0})],JT.prototype,"visible",null),JT=GT=ji([zs("esri.Graphic")],JT),function(e){e.generateUID=ta}(JT||(JT={}));const ZT=JT;var QT;let KT=QT=class extends rl{constructor(e){super(e),this.name=null,this.code=null}clone(){return new QT({name:this.name,code:this.code})}};ji([Cn({type:String,json:{write:!0}})],KT.prototype,"name",void 0),ji([Cn({type:[String,Number],json:{write:!0}})],KT.prototype,"code",void 0),KT=QT=ji([zs("esri.layers.support.CodedValue")],KT);const YT=new nl({inherited:"inherited",codedValue:"coded-value",range:"range"});let XT=class extends rl{constructor(e){super(e),this.name=null,this.type=null}};ji([Cn({type:String,json:{write:!0}})],XT.prototype,"name",void 0),ji([iv(YT)],XT.prototype,"type",void 0),XT=ji([zs("esri.layers.support.Domain")],XT);const eI=XT;var tI;let rI=tI=class extends eI{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new tI({codedValues:V(this.codedValues),name:this.name})}};ji([Cn({type:[KT],json:{write:!0}})],rI.prototype,"codedValues",void 0),ji([iv({codedValue:"coded-value"})],rI.prototype,"type",void 0),rI=tI=ji([zs("esri.layers.support.CodedValueDomain")],rI);const iI=rI;var nI;let sI=nI=class extends eI{constructor(e){super(e),this.type="inherited"}clone(){return new nI}};ji([iv({inherited:"inherited"})],sI.prototype,"type",void 0),sI=nI=ji([zs("esri.layers.support.InheritedDomain")],sI);const oI=sI;var aI;let lI=aI=class extends eI{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new aI({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};ji([Cn({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]}}}})],lI.prototype,"maxValue",void 0),ji([Cn({type:Number,json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range&&t.range[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]}}}})],lI.prototype,"minValue",void 0),ji([iv({range:"range"})],lI.prototype,"type",void 0),lI=aI=ji([zs("esri.layers.support.RangeDomain")],lI);const uI=lI;const cI={key:"type",base:eI,typeMap:{range:uI,"coded-value":iI,inherited:oI}};function dI(e){if(!e||!e.type)return null;switch(e.type){case"range":return uI.fromJSON(e);case"codedValue":return iI.fromJSON(e);case"inherited":return oI.fromJSON(e)}return null}const hI=new nl({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var fI;const pI=new nl({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let yI=fI=class extends rl{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=-1,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?pI.fromJSON(r.fieldValueType):null}clone(){return new fI({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};ji([Cn({type:String,json:{write:!0}})],yI.prototype,"alias",void 0),ji([Cn({type:[String,Number],json:{write:{allowNull:!0}}})],yI.prototype,"defaultValue",void 0),ji([Cn()],yI.prototype,"description",void 0),ji([il("description")],yI.prototype,"readDescription",null),ji([Cn({types:cI,json:{read:{reader:dI},write:!0}})],yI.prototype,"domain",void 0),ji([Cn({type:Boolean,json:{write:!0}})],yI.prototype,"editable",void 0),ji([Cn({type:Yi,json:{write:!0}})],yI.prototype,"length",void 0),ji([Cn({type:String,json:{write:!0}})],yI.prototype,"name",void 0),ji([Cn({type:Boolean,json:{write:!0}})],yI.prototype,"nullable",void 0),ji([iv(hI)],yI.prototype,"type",void 0),ji([Cn()],yI.prototype,"valueType",void 0),ji([il("valueType",["description"])],yI.prototype,"readValueType",null),ji([Cn({type:Boolean,json:{read:!1}})],yI.prototype,"visible",void 0),yI=fI=ji([zs("esri.layers.support.Field")],yI);const mI=yI;var vI;const gI=new nl({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let bI=vI=class extends rl{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=Fu.fromJSON(t.spatialReference),i=[];for(let t=0;t<e.length;t++){const n=e[t],s=ZT.fromJSON(n),o=n.geometry&&n.geometry.spatialReference;null==s.geometry||o||(s.geometry.spatialReference=r);const a=n.aggregateGeometries,l=s.aggregateGeometries;if(a&&null!=l)for(const e in l){const t=l[e],i=a[e],n=i?.spatialReference;null==t||n||(t.spatialReference=r)}i.push(s)}return i}writeGeometryType(e,t,r,i){if(e)return void gI.write(e,t,r,i);const{features:n}=this;if(n)for(const e of n)if(e&&null!=e.geometry)return void gI.write(e.geometry.type,t,r,i)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,i=Hp(e);return i&&!r&&t.spatialReference&&(i.spatialReference=Fu.fromJSON(t.spatialReference)),i}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new vI(this.cloneProperties())}cloneProperties(){return V({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const i=t.features[r];if(i.geometry){const t=e&&e[r];i.geometry=t&&t.toJSON()||i.geometry}}return t}quantize(e){const{scale:[t,r],translate:[i,n]}=e,s=e=>Math.round((e-i)/t),o=e=>Math.round((n-e)/r),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let e=0,t=a.length;e<t;e++)l?.(a[e].geometry)||(a.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[i,n],scale:[s,o]}=r,a=e=>e*s+i,l=e=>n-e*o;let u=null,c=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;u=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;c=r=>null==r?r:r*t+e}const d=this._getHydrationFunction(e,a,l,u,c);for(const{geometry:e}of t)null!=e&&d&&d(e);return this.transform=null,this}_quantizePoints(e,t,r){let i,n;const s=[];for(let o=0,a=e.length;o<a;o++){const a=e[o];if(o>0){const e=t(a[0]),o=r(a[1]);e===i&&o===n||(s.push([e-i,o-n]),i=e,n=o)}else i=t(a[0]),n=r(a[1]),s.push([i,n])}return s.length>0?s:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const i=Bp(e)?e.rings:e.paths,n=[];for(let e=0,s=i.length;e<s;e++){const s=i[e],o=this._quantizePoints(s,t,r);o&&n.push(o)}return n.length>0?(Bp(e)?e.rings=n:e.paths=n,e):null}:"multipoint"===e?e=>{const i=this._quantizePoints(e.points,t,r);return i&&i.length>0?(e.points=i,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r,i,n){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y),i&&(e.z=i(e.z))}:"polyline"===e||"polygon"===e?e=>{const s=Bp(e)?e.rings:e.paths;let o,a;for(let e=0,i=s.length;e<i;e++){const i=s[e];for(let e=0,n=i.length;e<n;e++){const n=i[e];e>0?(o+=n[0],a+=n[1]):(o=n[0],a=n[1]),n[0]=t(o),n[1]=r(a)}}if(i&&n)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=i(r[2]),r[3]=n(r[3])}}else if(i)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=i(r[2])}}else if(n)for(let e=0,t=s.length;e<t;e++){const t=s[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=n(r[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),i&&null!=e.zmax&&null!=e.zmin&&(e.zmax=i(e.zmax),e.zmin=i(e.zmin)),n&&null!=e.mmax&&null!=e.mmin&&(e.mmax=n(e.mmax),e.mmin=n(e.mmin))}:"multipoint"===e?e=>{const s=e.points;let o,a;for(let e=0,i=s.length;e<i;e++){const i=s[e];e>0?(o+=i[0],a+=i[1]):(o=i[0],a=i[1]),i[0]=t(o),i[1]=r(a)}if(i&&n)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=i(t[2]),t[3]=n(t[3])}else if(i)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=i(t[2])}else if(n)for(let e=0,t=s.length;e<t;e++){const t=s[e];t[2]=n(t[2])}}:null}};ji([Cn({type:String,json:{write:!0}})],bI.prototype,"displayFieldName",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bI.prototype,"exceededTransferLimit",void 0),ji([Cn({type:[ZT],json:{write:!0}})],bI.prototype,"features",void 0),ji([il("features")],bI.prototype,"readFeatures",null),ji([Cn({type:[mI],json:{write:!0}})],bI.prototype,"fields",void 0),ji([Cn({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:gI.read}}})],bI.prototype,"geometryType",void 0),ji([Iu("geometryType")],bI.prototype,"writeGeometryType",null),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bI.prototype,"hasM",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bI.prototype,"hasZ",void 0),ji([Cn({types:Kp,json:{write:!0}})],bI.prototype,"queryGeometry",void 0),ji([il("queryGeometry")],bI.prototype,"readQueryGeometry",null),ji([Cn({type:Fu,json:{write:!0}})],bI.prototype,"spatialReference",void 0),ji([Iu("spatialReference")],bI.prototype,"writeSpatialReference",null),ji([Cn({json:{write:!0}})],bI.prototype,"transform",void 0),bI=vI=ji([zs("esri.rest.support.FeatureSet")],bI),bI.prototype.toJSON.isDefaultToJSON=!0;const wI=bI;var SI;let xI=SI=class extends rl{constructor(e){super(e),this.minValue=0,this.maxValue=0}clone(){return new SI({minValue:this.minValue,maxValue:this.maxValue})}};ji([Cn({type:Number,json:{write:!0}})],xI.prototype,"minValue",void 0),ji([Cn({type:Number,json:{write:!0}})],xI.prototype,"maxValue",void 0),xI=SI=ji([zs("esri.renderer.support.AuthoringInfoClassBreakInfo")],xI);var jI;let TI=jI=class extends rl{constructor(e){super(e),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=[]}clone(){return new jI({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:V(this.classBreakInfos)})}};ji([Cn({type:String,json:{write:!0}})],TI.prototype,"field",void 0),ji([Cn({type:String,json:{write:!0}})],TI.prototype,"normalizationField",void 0),ji([Cn({type:String,json:{write:!0}})],TI.prototype,"label",void 0),ji([Cn({type:[xI],json:{write:!0}})],TI.prototype,"classBreakInfos",void 0),TI=jI=ji([zs("esri.renderers.support.AuthoringInfoFieldInfo")],TI);var II;const MI=new nl({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),EI=new nl({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),FI={key:e=>"number"==typeof e?"number":"string",typeMap:{number:Number,string:String},base:null},kI=["high-to-low","above-and-below","centered-on","extremes"],AI=[...new Set([...["high-to-low","above-and-below","centered-on","extremes","90-10","above","below"],...["high-to-low","above-and-below","90-10","above","below"]])],CI=["seconds","minutes","hours","days","months","years"];let OI=II=class extends rl{constructor(e){super(e),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(e){return"string"==typeof e||"number"==typeof e?e:null}castStartTime(e){return"string"==typeof e||"number"==typeof e?e:null}get style(){return"color"===this.type?this._get("style"):null}set style(e){this._set("style",e)}get theme(){return"color"===this.type||"size"===this.type?this._get("theme")||"high-to-low":null}set theme(e){this._set("theme",e)}clone(){return new II({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};ji([Cn({types:FI,json:{write:!0}})],OI.prototype,"endTime",void 0),ji([Ru("endTime")],OI.prototype,"castEndTime",null),ji([Cn({type:String,json:{write:!0}})],OI.prototype,"field",void 0),ji([Cn({type:Number,json:{write:!0}})],OI.prototype,"maxSliderValue",void 0),ji([Cn({type:Number,json:{write:!0}})],OI.prototype,"minSliderValue",void 0),ji([Cn({types:FI,json:{write:!0}})],OI.prototype,"startTime",void 0),ji([Ru("startTime")],OI.prototype,"castStartTime",null),ji([Cn({type:MI.apiValues,value:null,json:{type:MI.jsonValues,read:MI.read,write:MI.write}})],OI.prototype,"style",null),ji([Cn({type:AI,value:null,json:{type:AI,origins:{"web-scene":{type:kI,write:{writer:(e,t)=>{kI.includes(e)&&(t.theme=e)}}}},write:!0}})],OI.prototype,"theme",null),ji([Cn({type:EI.apiValues,json:{type:EI.jsonValues,read:EI.read,write:EI.write}})],OI.prototype,"type",void 0),ji([Cn({type:CI,json:{type:CI,write:!0}})],OI.prototype,"units",void 0),OI=II=ji([zs("esri.renderers.support.AuthoringInfoVisualVariable")],OI);const PI=OI;let DI=class extends rl{constructor(e){super(e),this.type=null}};ji([Cn({readOnly:!0,json:{read:!1,write:!0}})],DI.prototype,"type",void 0),DI=ji([zs("esri.rest.support.ColorRamp")],DI);const RI=DI;var NI;let $I=NI=class extends RI{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new NI({fromColor:V(this.fromColor),toColor:V(this.toColor),algorithm:this.algorithm})}};ji([iv({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],$I.prototype,"algorithm",void 0),ji([Cn({type:Mb,json:{type:[Yi],write:!0}})],$I.prototype,"fromColor",void 0),ji([Cn({type:Mb,json:{type:[Yi],write:!0}})],$I.prototype,"toColor",void 0),ji([Cn({type:["algorithmic"]})],$I.prototype,"type",void 0),$I=NI=ji([zs("esri.rest.support.AlgorithmicColorRamp")],$I);const LI=$I;var _I;let qI=_I=class extends RI{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new _I({colorRamps:V(this.colorRamps)})}};ji([Cn({type:[LI],json:{write:!0}})],qI.prototype,"colorRamps",void 0),ji([Cn({type:["multipart"]})],qI.prototype,"type",void 0),qI=_I=ji([zs("esri.rest.support.MultipartColorRamp")],qI);const VI=qI;const zI={key:"type",base:RI,typeMap:{algorithmic:LI,multipart:VI}};function WI(e){return e&&e.type?"algorithmic"===e.type?LI.fromJSON(e):"multipart"===e.type?VI.fromJSON(e):null:null}var UI;const GI=new nl({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),BI=new nl({pieChart:"pie-chart",classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),HI=new nl({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density"}),JI=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers","decimal-degrees"],ZI=["high-to-low","above-and-below","above","below","90-10"],QI=["flow-line","wave-front"],KI=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let YI=UI=class extends rl{constructor(e){super(e),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const e=this._get("classificationMethod"),t=this.type;return t&&"relationship"!==t?"class-breaks-size"===t||"class-breaks-color"===t?e||"manual":null:e}set classificationMethod(e){this._set("classificationMethod",e)}readColorRamp(e){return e?WI(e):void 0}get fields(){return this.type&&"predominance"!==this.type?null:this._get("fields")}set fields(e){this._set("fields",e)}get field1(){return this.type&&"relationship"!==this.type?null:this._get("field1")}set field1(e){this._set("field1",e)}get field2(){return this.type&&"relationship"!==this.type?null:this._get("field2")}set field2(e){this._set("field2",e)}get flowTheme(){return"flow"===this.type?this._get("flowTheme"):null}set flowTheme(e){this._set("flowTheme",e)}get focus(){return this.type&&"relationship"!==this.type?null:this._get("focus")}set focus(e){this._set("focus",e)}get numClasses(){return this.type&&"relationship"!==this.type?null:this._get("numClasses")}set numClasses(e){this._set("numClasses",e)}get statistics(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("statistics"):null}set statistics(e){this._set("statistics",e)}get standardDeviationInterval(){const e=this.type;return e&&"relationship"!==e&&"class-breaks-size"!==e&&"class-breaks-color"!==e||this.classificationMethod&&"standard-deviation"!==this.classificationMethod?null:this._get("standardDeviationInterval")}set standardDeviationInterval(e){this._set("standardDeviationInterval",e)}get type(){return this._get("type")}set type(e){let t=e;"classed-size"===e?t="class-breaks-size":"classed-color"===e&&(t="class-breaks-color"),this._set("type",t)}get univariateSymbolStyle(){return"univariate-color-size"===this.type&&"above-and-below"===this.univariateTheme?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(e){this._set("univariateSymbolStyle",e)}get univariateTheme(){return"univariate-color-size"===this.type?this._get("univariateTheme"):null}set univariateTheme(e){this._set("univariateTheme",e)}clone(){return new UI({classificationMethod:this.classificationMethod,colorRamp:V(this.colorRamp),fadeRatio:V(this.fadeRatio),fields:this.fields&&this.fields.slice(0),field1:V(this.field1),field2:V(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map((e=>e.clone())),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};ji([Cn({type:GI.apiValues,value:null,json:{type:GI.jsonValues,read:GI.read,write:GI.write,origins:{"web-document":{default:"manual",type:GI.jsonValues,read:GI.read,write:GI.write}}}})],YI.prototype,"classificationMethod",null),ji([Cn({types:zI,json:{write:!0}})],YI.prototype,"colorRamp",void 0),ji([il("colorRamp")],YI.prototype,"readColorRamp",null),ji([Cn({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],YI.prototype,"fadeRatio",void 0),ji([Cn({type:[String],value:null,json:{write:!0}})],YI.prototype,"fields",null),ji([Cn({type:TI,value:null,json:{write:!0}})],YI.prototype,"field1",null),ji([Cn({type:TI,value:null,json:{write:!0}})],YI.prototype,"field2",null),ji([Cn({type:QI,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],YI.prototype,"flowTheme",null),ji([Cn({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],YI.prototype,"focus",null),ji([Cn({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],YI.prototype,"isAutoGenerated",void 0),ji([Cn({type:Number,value:null,json:{type:Yi,write:!0}})],YI.prototype,"numClasses",null),ji([Cn({type:JI,json:{type:JI,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],YI.prototype,"lengthUnit",void 0),ji([Cn({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],YI.prototype,"maxSliderValue",void 0),ji([Cn({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],YI.prototype,"minSliderValue",void 0),ji([Cn({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],YI.prototype,"statistics",null),ji([Cn({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],YI.prototype,"standardDeviationInterval",null),ji([Cn({type:BI.apiValues,value:null,json:{type:BI.jsonValues,read:BI.read,write:BI.write,origins:{"web-scene":{type:HI.jsonValues,write:{writer:HI.write,overridePolicy:e=>({enabled:"flow"!==e})}}}}})],YI.prototype,"type",null),ji([Cn({type:[PI],json:{write:!0}})],YI.prototype,"visualVariables",void 0),ji([Cn({type:KI,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],YI.prototype,"univariateSymbolStyle",null),ji([Cn({type:ZI,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],YI.prototype,"univariateTheme",null),YI=UI=ji([zs("esri.renderers.support.AuthoringInfo")],YI);const XI=YI;const eM=new nl({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let tM=class extends rl{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const t=new Set;return await this.collectRequiredFields(t,e),Array.from(t).sort()}getSymbol(e,t){}async getSymbolAsync(e,t){}getSymbols(){return[]}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};ji([Cn({type:XI,json:{write:!0}})],tM.prototype,"authoringInfo",void 0),ji([Cn({type:eM.apiValues,readOnly:!0,json:{type:eM.jsonValues,read:!1,write:{writer:eM.write,ignoreOrigin:!0}}})],tM.prototype,"type",void 0),tM=ji([zs("esri.renderers.Renderer")],tM);const rM=tM;function iM(e){return e.match(nM)?.[1]?.replace(/\\'/g,"'")??null}const nM=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;var sM;let oM=sM=class extends rl{constructor(){super(...arguments),this.title=null}clone(){return new sM({title:this.title})}};ji([Cn({type:String,json:{write:!0}})],oM.prototype,"title",void 0),oM=sM=ji([zs("esri.renderers.support.LegendOptions")],oM);var aM;let lM=aM=class extends oM{constructor(){super(...arguments),this.showLegend=null}clone(){return new aM({title:this.title,showLegend:this.showLegend})}};ji([Cn({type:Boolean,json:{write:!0}})],lM.prototype,"showLegend",void 0),lM=aM=ji([zs("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],lM);const uM=lM;const cM=new nl({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let dM=class extends rl{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return null==e?e:"function"==typeof e?(fe.getLogger(this).error(".field: field must be a string value"),null):Ai(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};ji([Cn()],dM.prototype,"index",void 0),ji([Cn({type:cM.apiValues,readOnly:!0,json:{read:cM.read,write:cM.write}})],dM.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],dM.prototype,"field",void 0),ji([Ru("field")],dM.prototype,"castField",null),ji([Cn({type:String,json:{write:!0}})],dM.prototype,"valueExpression",void 0),ji([Cn({type:String,json:{write:!0}})],dM.prototype,"valueExpressionTitle",void 0),ji([Cn({readOnly:!0})],dM.prototype,"arcadeRequired",null),ji([Cn({type:uM,json:{write:!0}})],dM.prototype,"legendOptions",void 0),dM=ji([zs("esri.renderers.visualVariables.VisualVariable")],dM);const hM=dM;var fM;let pM=fM=class extends rl{constructor(e){super(e),this.color=null,this.label=null,this.value=null}writeValue(e,t,r){t[r]=e??0}clone(){return new fM({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};ji([Cn({type:Mb,json:{type:[Yi],write:!0}})],pM.prototype,"color",void 0),ji([Cn({type:String,json:{write:!0}})],pM.prototype,"label",void 0),ji([Cn({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],pM.prototype,"value",void 0),ji([Iu("value")],pM.prototype,"writeValue",null),pM=fM=ji([zs("esri.renderers.visualVariables.support.ColorStop")],pM);const yM=pM;var mM;let vM=mM=class extends hM{constructor(e){super(e),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new mM({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};ji([Cn({readOnly:!0})],vM.prototype,"cache",null),ji([Cn({type:["color"],json:{type:["colorInfo"]}})],vM.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],vM.prototype,"normalizationField",void 0),ji([Cn({type:[yM],json:{write:!0}})],vM.prototype,"stops",null),vM=mM=ji([zs("esri.renderers.visualVariables.ColorVariable")],vM);const gM=vM;var bM;let wM=bM=class extends rl{constructor(e){super(e),this.label=null,this.opacity=null,this.value=null}readOpacity(e,t){return Gb(t.transparency)}writeOpacity(e,t,r){t[r]=Ub(e)}clone(){return new bM({label:this.label,opacity:this.opacity,value:this.value})}};ji([Cn({type:String,json:{write:!0}})],wM.prototype,"label",void 0),ji([Cn({type:Number,json:{type:Yi,write:{target:"transparency"}}})],wM.prototype,"opacity",void 0),ji([il("opacity",["transparency"])],wM.prototype,"readOpacity",null),ji([Iu("opacity")],wM.prototype,"writeOpacity",null),ji([Cn({type:Number,json:{write:!0}})],wM.prototype,"value",void 0),wM=bM=ji([zs("esri.renderers.visualVariables.support.OpacityStop")],wM);const SM=wM;var xM;let jM=xM=class extends hM{constructor(e){super(e),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(e){e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)),this._set("stops",e)}clone(){return new xM({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map((e=>e.clone())),legendOptions:this.legendOptions&&this.legendOptions.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};ji([Cn({readOnly:!0})],jM.prototype,"cache",null),ji([Cn({type:["opacity"],json:{type:["transparencyInfo"]}})],jM.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],jM.prototype,"normalizationField",void 0),ji([Cn({type:[SM],json:{write:!0}})],jM.prototype,"stops",null),jM=xM=ji([zs("esri.renderers.visualVariables.OpacityVariable")],jM);const TM=jM;var IM;let MM=IM=class extends hM{constructor(e){super(e),this.axis=null,this.type="rotation",this.rotationType="geographic",this.valueExpressionTitle=null}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}writeValueExpressionTitleWebScene(e,t,r,i){if(i&&i.messages){const e=`visualVariables[${this.index}]`;i.messages.push(new me("property:unsupported",this.type+"VisualVariable.valueExpressionTitle is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:e+".valueExpressionTitle",context:i}))}}clone(){return new IM({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions&&this.legendOptions.clone()})}};ji([Cn({readOnly:!0})],MM.prototype,"cache",null),ji([Cn({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],MM.prototype,"axis",void 0),ji([Cn({type:["rotation"],json:{type:["rotationInfo"]}})],MM.prototype,"type",void 0),ji([Cn({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],MM.prototype,"rotationType",void 0),ji([Cn({type:String,json:{write:!0}})],MM.prototype,"valueExpressionTitle",void 0),ji([Iu("web-scene","valueExpressionTitle")],MM.prototype,"writeValueExpressionTitleWebScene",null),MM=IM=ji([zs("esri.renderers.visualVariables.RotationVariable")],MM);const EM=MM;var FM;let kM=FM=class extends rl{constructor(e){super(e),this.label=null,this.size=null,this.value=null}clone(){return new FM({label:this.label,size:this.size,value:this.value})}};ji([Cn({type:String,json:{write:!0}})],kM.prototype,"label",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],kM.prototype,"size",void 0),ji([Cn({type:Number,json:{write:!0}})],kM.prototype,"value",void 0),kM=FM=ji([zs("esri.renderers.visualVariables.support.SizeStop")],kM);const AM=kM;var CM;let OM=CM=class extends uM{constructor(){super(...arguments),this.customValues=null}clone(){return new CM({title:this.title,showLegend:this.showLegend,customValues:this.customValues&&this.customValues.slice(0)})}};ji([Cn({type:[Number],json:{write:!0}})],OM.prototype,"customValues",void 0),OM=CM=ji([zs("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],OM);const PM=OM;var DM,RM;function NM(e){return e&&"esri.renderers.visualVariables.SizeVariable"===e.declaredClass}function $M(e){return null!=e&&!isNaN(e)&&isFinite(e)}function LM(e){return e.valueExpression?DM.Expression:e.field&&"string"==typeof e.field?DM.Field:DM.Unknown}function _M(e,t){const r=t||LM(e),i=e.valueUnit||"unknown";return r===DM.Unknown?RM.Constant:e.stops?RM.Stops:null!=e.minSize&&null!=e.maxSize&&null!=e.minDataValue&&null!=e.maxDataValue?RM.ClampedLinear:"unknown"===i?null!=e.minSize&&null!=e.minDataValue?e.minSize&&e.minDataValue?RM.Proportional:RM.Additive:RM.Identity:RM.RealWorldSize}!function(e){e.Unknown="unknown",e.Expression="expression",e.Field="field"}(DM||(DM={})),function(e){e.Unknown="unknown",e.Stops="stops",e.ClampedLinear="clamped-linear",e.Proportional="proportional",e.Additive="additive",e.Constant="constant",e.Identity="identity",e.RealWorldSize="real-world-size"}(RM||(RM={}));const qM={unknown:1,inches:nu(1,"meters","inches"),feet:nu(1,"meters","feet"),"us-feet":nu(1,"meters","us-feet"),yards:nu(1,"meters","yards"),miles:nu(1,"meters","miles"),"nautical-miles":nu(1,"meters","nautical-miles"),millimeters:nu(1,"meters","millimeters"),centimeters:nu(1,"meters","centimeters"),decimeters:nu(1,"meters","decimeters"),meters:nu(1,"meters","meters"),kilometers:nu(1,"meters","kilometers"),"decimal-degrees":1/su(1,"meters",al.radius)};const VM=fe.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),zM=new ZT,WM=Math.PI,UM=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function GM(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"color"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.ColorVariable"!==i.declaredClass)return void VM.warn("The visualVariable should be an instance of esri.renderers.visualVariables.ColorVariable");const n="number"==typeof t,s=n?null:t,o=s&&s.attributes;let a=n?t:null;const l=i.field,{ipData:u,hasExpression:c}=i.cache;let d=i.cache.compiledFunc;if(!l&&!c){const e=i.stops;return e&&e[0]&&e[0].color}if("number"!=typeof a)if(c){if(null==r||null==r.arcade)return void VM.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,n=t.getViewInfo(e),o=t.createExecContext(s,n);if(!d){const e=t.createSyntaxTree(i.valueExpression);d=t.createFunction(e),i.cache.compiledFunc=d}a=t.executeFunction(d,o)}else o&&(a=o[l]);const h=i.normalizationField,f=null!=o&&null!=h?parseFloat(o[h]):void 0;if(null!=a&&(!h||n||!isNaN(f)&&0!==f)){isNaN(f)||n||(a/=f);const e=uE(a,u);if(e){const t=e[0],n=e[1],s=t===n?i.stops[t].color:Mb.blendColors(i.stops[t].color,i.stops[n].color,e[2],null!=r?r.color:void 0);return new Mb(s)}}}function BM(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"opacity"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.OpacityVariable"!==i.declaredClass)return void VM.warn("The visualVariable should be an instance of esri.renderers.visualVariables.OpacityVariable");const n="number"==typeof t,s=n?null:t,o=s&&s.attributes;let a=n?t:null;const l=i.field,{ipData:u,hasExpression:c}=i.cache;let d=i.cache.compiledFunc;if(!l&&!c){const e=i.stops;return e&&e[0]&&e[0].opacity}if("number"!=typeof a)if(c){if(null==r||null==r.arcade)return void VM.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,n=t.getViewInfo(e),o=t.createExecContext(s,n);if(!d){const e=t.createSyntaxTree(i.valueExpression);d=t.createFunction(e),i.cache.compiledFunc=d}a=t.executeFunction(d,o)}else o&&(a=o[l]);const h=i.normalizationField,f=null!=o&&null!=h?parseFloat(o[h]):void 0;if(null!=a&&(!h||n||!isNaN(f)&&0!==f)){isNaN(f)||n||(a/=f);const e=uE(a,u);if(e){const t=e[0],r=e[1];if(t===r)return i.stops[t].opacity;{const n=i.stops[t].opacity;return n+(i.stops[r].opacity-n)*e[2]}}}}function HM(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"rotation"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.RotationVariable"!==i.declaredClass)return void VM.warn("The visualVariable should be an instance of esri.renderers.visualVariables.RotationVariable");const n=i.axis||"heading",s="heading"===n&&"arithmetic"===i.rotationType?90:0,o="heading"===n&&"arithmetic"===i.rotationType?-1:1,a="number"==typeof t?null:t,l=a&&a.attributes,u=i.field,{hasExpression:c}=i.cache;let d=i.cache.compiledFunc,h=0;if(!u&&!c)return h;if(c){if(null==r||null==r.arcade)return void VM.error("Use of arcade expressions requires an arcade context");const e={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},t=r.arcade.arcadeUtils,n=t.getViewInfo(e),s=t.createExecContext(a,n);if(!d){const e=t.createSyntaxTree(i.valueExpression);d=t.createFunction(e),i.cache.compiledFunc=d}h=t.executeFunction(d,s)}else l&&(h=l[u]||0);return h="number"!=typeof h||isNaN(h)?null:s+o*h,h}function JM(e,t,r){const i="number"==typeof t,n=i?null:t,s=n&&n.attributes;let o=i?t:null;const{isScaleDriven:a}=e.cache;let l=e.cache.compiledFunc;if(a){const t=null!=r?r.scale:void 0,i=null!=r?r.view:void 0;o=null==t||"3d"===i?ZM(e):t}else if(!i)switch(e.inputValueType){case DM.Expression:{if(null==r||null==r.arcade)return void VM.error("Use of arcade expressions requires an arcade context");const t={viewingMode:r.viewingMode,scale:r.scale,spatialReference:r.spatialReference},i=r.arcade.arcadeUtils,s=i.getViewInfo(t),a=i.createExecContext(n,s);if(!l){const t=i.createSyntaxTree(e.valueExpression);l=i.createFunction(t),e.cache.compiledFunc=l}o=i.executeFunction(l,a);break}case DM.Field:s&&(o=s[e.field]);break;case DM.Unknown:o=null}if(!$M(o))return null;if(i||!e.normalizationField)return o;const u=s?parseFloat(s[e.normalizationField]):null;return $M(u)&&0!==u?o/u:null}function ZM(e){let t=null,r=null;const i=e.stops;return i?(t=i[0].value,r=i[i.length-1].value):(t=e.minDataValue||0,r=e.maxDataValue||0),(t+r)/2}function QM(e,t,r){const i="visualVariables"in e&&e.visualVariables?e.visualVariables.find((e=>"size"===e.type)):e;if(!i)return;if("esri.renderers.visualVariables.SizeVariable"!==i.declaredClass)return void VM.warn("The visualVariable should be an instance of esri.renderers.visualVariables.SizeVariable");const n=oE(JM(i,t,r),i,t,r,i.cache.ipData);return null==n||isNaN(n)?0:n}function KM(e,t,r){return null==e?null:NM(e)?QM(e,t,r):$M(e)?e:null}function YM(e,t,r){return $M(r)&&e>r?r:$M(t)&&e<t?t:e}function XM(e,t,r,i){return e+((KM(t.minSize,r,i)||t.minDataValue)??0)}function eE(e,t,r){const i=e.stops;let n=i&&i.length&&i[0].size;return null==n&&(n=e.minSize),KM(n,t,r)}function tE(e,t,r,i){const n=(e-t.minDataValue)/(t.maxDataValue-t.minDataValue),s=KM(t.minSize,r,i),o=KM(t.maxSize,r,i),a=null!=i?i.shape:void 0;if(e<=t.minDataValue)return s;if(e>=t.maxDataValue)return o;if(null==s||null==o)return null;if("area"===t.scaleBy&&a){const e="circle"===a,t=e?WM*(s/2)**2:s*s,r=t+n*((e?WM*(o/2)**2:o*o)-t);return e?2*Math.sqrt(r/WM):Math.sqrt(r)}return s+n*(o-s)}function rE(e,t,r,i){const n=null!=i?i.shape:void 0,s=e/t.minDataValue,o=KM(t.minSize,r,i),a=KM(t.maxSize,r,i);let l=null;return l="circle"===n?2*Math.sqrt(s*(o/2)**2):"square"===n||"diamond"===n||"image"===n?Math.sqrt(s*o**2):s*o,YM(l,o,a)}function iE(e,t,r,i,n){const[s,o,a]=uE(e,n);if(s===o)return KM(t.stops?.[s].size,r,i);{const e=KM(t.stops?.[s].size,r,i);return e+(KM(t.stops?.[o].size,r,i)-e)*a}}function nE(e,t,r,i){const n=(null!=i&&i.resolution?i.resolution:1)*qM[t.valueUnit],s=KM(t.minSize,r,i),o=KM(t.maxSize,r,i),{valueRepresentation:a}=t;let l=null;return l="area"===a?2*Math.sqrt(e/WM)/n:"radius"===a||"distance"===a?2*e/n:e/n,YM(l,s,o)}function sE(e){return e}function oE(e,t,r,i,n){switch(t.transformationType){case RM.Additive:return XM(e,t,r,i);case RM.Constant:return eE(t,r,i);case RM.ClampedLinear:return tE(e,t,r,i);case RM.Proportional:return rE(e,t,r,i);case RM.Stops:return iE(e,t,r,i,n);case RM.RealWorldSize:return nE(e,t,r,i);case RM.Identity:return sE(e);case RM.Unknown:return null}}function aE(e,t,r){const{isScaleDriven:i}=e.cache;if(!(i&&"3d"===r||t))return null;const n={scale:t,view:r};let s=KM(e.minSize,zM,n),o=KM(e.maxSize,zM,n);if(null!=s||null!=o){if(s>o){const e=o;o=s,s=e}return{minSize:s,maxSize:o}}}function lE(e,t,r){if(!e.visualVariables)return;const i=[],n=[],s=[],o=[],a=[];for(const t of e.visualVariables)switch(t.type){case"color":n.push(t);break;case"opacity":s.push(t);break;case"rotation":a.push(t);break;case"size":o.push(t)}return n.forEach((e=>{const n=GM(e,t,r);i.push({variable:e,value:n})})),s.forEach((e=>{const n=BM(e,t,r);i.push({variable:e,value:n})})),a.forEach((e=>{const n=HM(e,t,r);i.push({variable:e,value:n})})),o.forEach((e=>{const n=QM(e,t,r);i.push({variable:e,value:n})})),i.filter((e=>null!=e.value))}function uE(e,t){if(!t)return;let r=0,i=t.length-1;return t.some(((t,n)=>e<t?(i=n,!0):(r=n,!1))),[r,i,(e-t[r])/(t[i]-t[r])]}function cE(e,t,r){const i=["proportional","proportional","proportional"];for(const n of e){const e=n.useSymbolValue?"symbol-value":QM(n,t,r);switch(n.axis){case"width":i[0]=e;break;case"depth":i[1]=e;break;case"height":i[2]=e;break;case"width-and-depth":i[0]=e,i[1]=e;break;case"all":case void 0:case null:i[0]=e,i[1]=e,i[2]=e;break}}return i}const dE=Object.freeze({__proto__:null,getAllSizes:cE,getColor:GM,getOpacity:BM,getRotationAngle:HM,getSize:QM,getSizeForValue:oE,getSizeFromNumberOrVariable:KM,getSizeRangeAtScale:aE,getVisualVariableValues:lE,viewScaleRE:UM});var hE;const fE=new nl({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),pE=new nl({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers","decimal-degree":"decimal-degrees"});function yE(e){if(null!=e)return"string"==typeof e||"number"==typeof e?Vb(e):"size"===e.type?NM(e)?e:(delete(e={...e}).type,new vE(e)):void 0}function mE(e,t,r){if("object"!=typeof e)return e;const i=new vE;return i.read(e,r),i}let vE=hE=class extends hM{constructor(e){super(e),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:null!=this.valueExpression&&UM.test(this.valueExpression)}}set expression(e){fe.getLogger(this).warn("'expression' is deprecated since version 4.2. Use 'valueExpression' instead. The only supported expression is 'view.scale'."),"view.scale"===e?(this.valueExpression="$view.scale",this._set("expression",e)):this._set("expression",null)}set index(e){NM(this.maxSize)&&(this.maxSize.index=`visualVariables[${e}].maxSize`),NM(this.minSize)&&(this.minSize.index=`visualVariables[${e}].minSize`),this._set("index",e)}get inputValueType(){return LM(this)}set maxDataValue(e){e&&this.stops&&(fe.getLogger(this).warn("cannot set maxDataValue when stops is not null."),e=null),this._set("maxDataValue",e)}set maxSize(e){e&&this.stops&&(fe.getLogger(this).warn("cannot set maxSize when stops is not null."),e=null),this._set("maxSize",e)}castMaxSize(e){return yE(e)}readMaxSize(e,t,r){return mE(e,t,r)}set minDataValue(e){e&&this.stops&&(fe.getLogger(this).warn("cannot set minDataValue when stops is not null."),e=null),this._set("minDataValue",e)}set minSize(e){e&&this.stops&&(fe.getLogger(this).warn("cannot set minSize when stops is not null."),e=null),this._set("minSize",e)}castMinSize(e){return yE(e)}readMinSize(e,t,r){return mE(e,t,r)}get arcadeRequired(){return!!this.valueExpression||(null!=this.minSize&&"object"==typeof this.minSize&&this.minSize.arcadeRequired||null!=this.maxSize&&"object"==typeof this.maxSize&&this.maxSize.arcadeRequired)}set stops(e){null==this.minDataValue&&null==this.maxDataValue&&null==this.minSize&&null==this.maxSize?e&&Array.isArray(e)&&(e=e.filter((e=>!!e))).sort(((e,t)=>e.value-t.value)):e&&(fe.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),e=null),this._set("stops",e)}get transformationType(){return _M(this,this.inputValueType)}readValueExpression(e,t){return e||t.expression&&"$view.scale"}writeValueExpressionWebScene(e,t,r,i){if("$view.scale"===e){if(i&&i.messages){const e=this.index,t="string"==typeof e?e:`visualVariables[${e}]`;i.messages.push(new me("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:t+".valueExpression",context:i}))}}else t[r]=e}readValueUnit(e){return e?pE.read(e):null}clone(){return new hE({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:NM(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:NM(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone()})}flipSizes(){if(this.transformationType===RM.ClampedLinear){const{minSize:e,maxSize:t}=this;return this.minSize=t,this.maxSize=e,this}if(this.transformationType===RM.Stops){const e=this.stops;if(!e)return this;const t=e.map((e=>e.size)).reverse(),r=e.length;for(let i=0;i<r;i++)e[i].size=t[i];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map((e=>e.value||0))}};ji([Cn({readOnly:!0})],vE.prototype,"cache",null),ji([Cn({type:fE.apiValues,json:{type:fE.jsonValues,origins:{"web-map":{read:!1}},read:fE.read,write:fE.write}})],vE.prototype,"axis",void 0),ji([Cn({type:String,value:null,json:{read:!1}})],vE.prototype,"expression",null),ji([Cn()],vE.prototype,"index",null),ji([Cn({type:String,readOnly:!0})],vE.prototype,"inputValueType",null),ji([Cn({type:PM,json:{write:!0}})],vE.prototype,"legendOptions",void 0),ji([Cn({type:Number,value:null,json:{write:!0}})],vE.prototype,"maxDataValue",null),ji([Cn({type:Number,value:null,json:{write:!0}})],vE.prototype,"maxSize",null),ji([Ru("maxSize")],vE.prototype,"castMaxSize",null),ji([il("maxSize")],vE.prototype,"readMaxSize",null),ji([Cn({type:Number,value:null,json:{write:!0}})],vE.prototype,"minDataValue",null),ji([Cn({type:Number,value:null,json:{write:!0}})],vE.prototype,"minSize",null),ji([Ru("minSize")],vE.prototype,"castMinSize",null),ji([il("minSize")],vE.prototype,"readMinSize",null),ji([Cn({type:String,json:{write:!0}})],vE.prototype,"normalizationField",void 0),ji([Cn({readOnly:!0})],vE.prototype,"arcadeRequired",null),ji([Cn({type:String})],vE.prototype,"scaleBy",void 0),ji([Cn({type:[AM],value:null,json:{write:!0}})],vE.prototype,"stops",null),ji([Cn({type:["outline"],json:{write:!0}})],vE.prototype,"target",void 0),ji([Cn({type:String,readOnly:!0})],vE.prototype,"transformationType",null),ji([Cn({type:["size"],json:{type:["sizeInfo"]}})],vE.prototype,"type",void 0),ji([Cn({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],vE.prototype,"useSymbolValue",void 0),ji([Cn({type:String,json:{write:!0}})],vE.prototype,"valueExpression",void 0),ji([il("valueExpression",["valueExpression","expression"])],vE.prototype,"readValueExpression",null),ji([Iu("web-scene","valueExpression")],vE.prototype,"writeValueExpressionWebScene",null),ji([Cn({type:["radius","diameter","area","width","distance"],json:{write:!0}})],vE.prototype,"valueRepresentation",void 0),ji([Cn({type:pE.apiValues,json:{write:pE.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],vE.prototype,"valueUnit",void 0),ji([il("valueUnit")],vE.prototype,"readValueUnit",null),vE=hE=ji([zs("esri.renderers.visualVariables.SizeVariable")],vE);const gE=vE;const bE={color:gM,size:gE,opacity:TM,rotation:EM},wE=new nl({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),SE=/^\[([^\]]+)\]$/i;let xE=class extends $a{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),(e=e&&e.filter((e=>!!e)))&&e.length){for(const t of e)switch(t.type){case"color":this.colorVariables.push(t);break;case"opacity":this.opacityVariables.push(t);break;case"rotation":this.rotationVariables.push(t);break;case"size":this.sizeVariables.push(t)}if(this.sizeVariables.length){this.sizeVariables.some((e=>!!e.target))&&e.sort(((e,t)=>{let r=null;return r=e.target===t.target?0:e.target?1:-1,r}))}for(let t=0;t<e.length;t++){e[t].index=t}this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,t,r){const{rotationExpression:i,rotationType:n}=t,s=i&&i.match(SE),o=s&&s[1];if(o&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:n,field:o})),e)return e.map((e=>{const t=wE.read(e.type),i=bE[t];i||(fe.getLogger(this).warn(`Unknown variable type: ${t}`),r&&r.messages&&r.messages.push(new es("visual-variable:unsupported",`visualVariable of type '${t}' is not supported`,{definition:e,context:r})));const n=new i;return n.read(e,r),n}))}writeVariables(e,t){const r=[];for(const i of e){const e=i.toJSON(t);e&&r.push(e)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};ji([Cn()],xE.prototype,"visualVariables",null),xE=ji([zs("esri.renderers.visualVariables.VisualVariableFactory")],xE);const jE=xE;const TE={base:hM,key:"type",typeMap:{opacity:TM,color:gM,rotation:EM,size:gE}},IE=e=>{let t=class extends e{constructor(){super(...arguments),this._vvFactory=new jE}set visualVariables(e){this._vvFactory.visualVariables=e,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(e,t,r){return this._vvFactory.readVariables(e,t,r)}writeVisualVariables(e,t,r,i){t[r]=this._vvFactory.writeVariables(e,i)}get arcadeRequiredForVisualVariables(){if(!this.visualVariables)return!1;for(const e of this.visualVariables)if(e.arcadeRequired)return!0;return!1}hasVisualVariables(e,t){return e?this.getVisualVariablesForType(e,t).length>0:this.getVisualVariablesForType("size",t).length>0||this.getVisualVariablesForType("color",t).length>0||this.getVisualVariablesForType("opacity",t).length>0||this.getVisualVariablesForType("rotation",t).length>0}getVisualVariablesForType(e,t){const r=this.visualVariables;return r?r.filter((r=>r.type===e&&("string"==typeof t?r.target===t:!1!==t||!r.target))):[]}async collectVVRequiredFields(e,t){let r=[];this.visualVariables&&(r=r.concat(this.visualVariables));for(const i of r)i&&(i.field&&qy(e,t,i.field),i.normalizationField&&qy(e,t,i.normalizationField),i.valueExpression&&(ME(i.valueExpression,e,t)||await zy(e,t,i.valueExpression)))}};return ji([Cn({types:[TE],value:null,json:{write:!0}})],t.prototype,"visualVariables",null),ji([il("visualVariables",["visualVariables","rotationType","rotationExpression"])],t.prototype,"readVisualVariables",null),ji([Iu("visualVariables")],t.prototype,"writeVisualVariables",null),t=ji([zs("esri.renderers.mixins.VisualVariablesMixin")],t),t};function ME(e,t,r){const i=iM(e);return null!=i&&(qy(t,r,i),!0)}function EE(e){return null!=e&&"object"==typeof e&&"type"in e&&"feature"===e.type}const FE={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function kE(e){const t=e?.type;return"building-scene"===t||"integrated-mesh"===t||"point-cloud"===t||"scene"===t}function AE(e){return"feature"===e?.type&&!e.url&&"memory"===e.source?.type}function CE(e){return"feature"===e?.type&&"feature-layer"===e.source?.type}async function OE(e,t){const r=pr?.findServerInfo(e);if(null!=r?.currentVersion)return r.owningSystemUrl||null;const i=e.toLowerCase().indexOf("/rest/services");if(-1===i)return null;const n=`${e.substring(0,i)}/rest/info`,s=null!=t?t.signal:null,{data:o}=await Xr(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function PE(e){if(!("capabilities"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function DE(e){return PE(e)?"effectiveCapabilities"in e?e.effectiveCapabilities:e.capabilities:null}function RE(e){if(!("editingEnabled"in e))return!1;switch(e.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function NE(e){return!!RE(e)&&("effectiveEditingEnabled"in e?e.effectiveEditingEnabled:e.editingEnabled)}const $E={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function LE(e,t=$E){if(!e)return{symbol:null};const{retainId:r=$E.retainId,ignoreDrivers:i=$E.ignoreDrivers,hasLabelingContext:n=$E.hasLabelingContext,retainCIM:s=$E.retainCIM}=t;let o=null;if(NT(e)||e instanceof DT)o=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;if("CIMPointSymbol"!==t)return{error:new me("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})};o=s?e.clone():mT.fromCIMSymbol(e)}else if(e instanceof ww)o=Jj.fromSimpleLineSymbol(e);else if(e instanceof FT)o=mT.fromSimpleMarkerSymbol(e);else if(e instanceof hT)o=mT.fromPictureMarkerSymbol(e);else if(e instanceof TT)o=t.geometryType&&"mesh"===t.geometryType?eT.fromSimpleFillSymbol(e):wT.fromSimpleFillSymbol(e);else{if(!(e instanceof CT))return{error:new me("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};o=n?Wj.fromTextSymbol(e):mT.fromTextSymbol(e)}return r&&o&&"cim"!==o.type&&(o.id=e.id),i&&NT(o)&&o.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:o}}function _E(e,t,r,i){const n=zE(e,{},{context:i,isLabelSymbol:!1});null!=n&&(t[r]=n)}function qE(e,t,r,i){const n=zE(e,{},{context:i,isLabelSymbol:!0});null!=n&&(t[r]=n)}function VE(e){return e instanceof Ij||e instanceof DT}function zE(e,t,r){if(null==e)return null;const{context:i,isLabelSymbol:n}=r,s=i?.origin,o=i?.messages;if("web-scene"===s&&!VE(e)){const r=LE(e,{retainCIM:!0,hasLabelingContext:n});return null!=r.symbol?r.symbol.write(t,i):(o?.push(new me("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:i,error:r.error})),null)}return("web-map"===s||"portal-item"===s&&!kE(i?.layer))&&VE(e)?(o?.push(new me("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:i})),null):e.write(t,i)}function WE(e,t){return _T(e,null,t)}const UE={types:qT,json:{write:{writer:_E},origins:{"web-scene":{types:zT,write:{writer:_E},read:{reader:ns({types:zT})}}}}},GE={types:{base:Ab,key:"type",typeMap:{"simple-fill":$T.typeMap["simple-fill"],"picture-fill":$T.typeMap["picture-fill"],"polygon-3d":$T.typeMap["polygon-3d"]}},json:{write:{writer:_E},origins:{"web-scene":{type:wT,write:{writer:_E}}}}},BE={cast:e=>null==e||"string"==typeof e||"number"==typeof e?e:`${e}`,json:{type:String,write:{writer:(e,t)=>{t.value=e?.toString()}}}};var HE;let JE=HE=class extends rl{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new HE({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};ji([Cn({type:String,json:{write:!0}})],JE.prototype,"description",void 0),ji([Cn({type:String,json:{write:!0}})],JE.prototype,"label",void 0),ji([Cn({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],JE.prototype,"minValue",void 0),ji([Cn({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],JE.prototype,"maxValue",void 0),ji([Cn(UE)],JE.prototype,"symbol",void 0),JE=HE=ji([zs("esri.renderers.support.ClassBreakInfo")],JE);const ZE=JE;var QE;const KE="log",YE="percent-of-total",XE="field",eF=new nl({esriNormalizeByLog:KE,esriNormalizeByPercentOfTotal:YE,esriNormalizeByField:XE}),tF=Wi(ZE);let rF=QE=class extends(IE(rM)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,r){if(!Array.isArray(e))return;let i=t.minValue;return e.map((e=>{const t=new ZE;return t.read(e,r),null==t.minValue&&(t.minValue=i),null==t.maxValue&&(t.maxValue=t.minValue),i=t.maxValue,t}))}writeClassBreakInfos(e,t,r,i){const n=e.map((e=>e.write({},i)));this._areClassBreaksConsecutive()&&n.forEach((e=>delete e.classMinValue)),t[r]=n}castField(e){return null==e?e:"function"==typeof e?(fe.getLogger(this).error(".field: field must be a string value"),null):Ai(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=t&&XE||r&&YE||null,t&&r&&fe.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==XE&&e!==YE||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,r){let i=null;i="number"==typeof e?new ZE({minValue:e,maxValue:t,symbol:UT(r)}):tF(V(e)),this.classBreakInfos.push(i),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const r=this.classBreakInfos.length;for(let i=0;i<r;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]===e&&r[1]===t){this.classBreakInfos.splice(i,1);break}}}getBreakIndex(e,t){return!this.valueExpression||null!=t&&null!=t.arcade||fe.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let r=t;!this.valueExpression||null!=t&&null!=t.arcade||(r={...r,arcade:await Ty()});const i=this.getBreakIndex(e,r);return-1!==i?this.classBreakInfos[i]:null}getSymbol(e,t){if(this.valueExpression&&(null==t||null==t.arcade))return void fe.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this.getBreakIndex(e,t);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(null==t||null==t.arcade)){const e=await Ty(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),r={...r,arcade:e}}const i=this.getBreakIndex(e,r);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}getSymbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${r}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new QE({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol&&this.backgroundFillSymbol.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:V(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:V(this.visualVariables),legendOptions:V(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map((r=>r.collectRequiredFields(e,t))),zy(e,t,this.valueExpression)];qy(e,t,this.field),qy(e,t,this.normalizationField),await Promise.all(r)}_getBreakIndexForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:s}=t??{},{valueExpression:o}=this;let a=this._compiledValueExpression.valueExpression===o?this._compiledValueExpression.compiledFunction:null;const l=s.arcadeUtils;if(!a){const e=l.createSyntaxTree(o);a=l.createFunction(e),this._compiledValueExpression.compiledFunction=a}this._compiledValueExpression.valueExpression=o;const u=l.executeFunction(a,l.createExecContext(e,l.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,r=e.attributes,i=this.normalizationType;let n=parseFloat(r[t]);if(i){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?r[this.normalizationField]:void 0);if(i===KE)n=Math.log(n)*Math.LOG10E;else if(i!==YE||null==e||isNaN(e)){if(i===XE&&!isNaN(t)){if(isNaN(n)||isNaN(t))return-1;n/=t}}else n=n/e*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let r=0;r<this.classBreakInfos.length;r++){const i=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(i[0]<=e&&(t?e<=i[1]:e<i[1]))return r}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let r=1;r<t;r++)if(e[r-1].maxValue!==e[r].minValue)return!1;return!0}};ji([Cn(GE)],rF.prototype,"backgroundFillSymbol",void 0),ji([Cn({type:[ZE]})],rF.prototype,"classBreakInfos",void 0),ji([il("classBreakInfos")],rF.prototype,"readClassBreakInfos",null),ji([Iu("classBreakInfos")],rF.prototype,"writeClassBreakInfos",null),ji([Cn({type:String,json:{write:!0}})],rF.prototype,"defaultLabel",void 0),ji([Cn(UE)],rF.prototype,"defaultSymbol",void 0),ji([Cn({type:String,json:{write:!0}})],rF.prototype,"field",void 0),ji([Ru("field")],rF.prototype,"castField",null),ji([Cn({type:Boolean})],rF.prototype,"isMaxInclusive",void 0),ji([Cn({type:oM,json:{write:!0}})],rF.prototype,"legendOptions",void 0),ji([Cn({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],rF.prototype,"minValue",null),ji([Cn({type:String,json:{write:!0}})],rF.prototype,"normalizationField",void 0),ji([Cn({type:Number,cast:e=>Ci(e),json:{write:!0}})],rF.prototype,"normalizationTotal",void 0),ji([Cn({type:eF.apiValues,value:null,json:{type:eF.jsonValues,read:eF.read,write:eF.write}})],rF.prototype,"normalizationType",null),ji([iv({classBreaks:"class-breaks"})],rF.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],rF.prototype,"valueExpression",void 0),ji([Cn({type:String,json:{write:!0}})],rF.prototype,"valueExpressionTitle",void 0),rF=QE=ji([zs("esri.renderers.ClassBreaksRenderer")],rF);const iF=rF;const nF=-3;var sF;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"}(sF||(sF={}));class oF{constructor(e,t,r){this.name=e,this._storage=t,this.id=lF+++":",this.size=0,this.maxSize=0,this._removeFunc=!1,this._hit=0,this._miss=0,this._storage.register(this),r&&(this._storage.registerRemoveFunc(this.id,r),this._removeFunc=!0)}destroy(){this._storage.clear(this),this._removeFunc&&this._storage.deregisterRemoveFunc(this.id),this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get sizeAll(){return this._storage.size}resetHitRate(){this._hit=this._miss=0}put(e,t,r,i=0){this._storage.put(this,e,t,r,i)}get(e){const t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}pop(e){const t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}updateSize(e,t,r){this._storage.updateSize(this,e,t,r)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class aF{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._removeFuncs=new ko,this._users=new ko}destroy(){this.clearAll(),this._removeFuncs.clear(),this._users.clear(),this._db=null}register(e){this._users.push(e)}deregister(e){this._users.removeUnordered(e)}registerRemoveFunc(e,t){this._removeFuncs.push([e,t])}deregisterRemoveFunc(e){this._removeFuncs.filterInPlace((t=>t[0]!==e))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,0),this._checkSizeLimits()}put(e,t,r,i,n){t=e.id+t;const s=this._db.get(t);if(s&&(this._size-=s.size,e.size-=s.size,this._db.delete(t),s.entry!==r&&this._notifyRemove(t,s.entry,sF.ALL)),i>this._maxSize)return void this._notifyRemove(t,r,sF.ALL);if(void 0===r)return void console.warn("Refusing to cache undefined entry ");if(!i||i<0)return void console.warn("Refusing to cache entry with invalid size "+i);const o=1+Math.max(n,nF)-nF;this._db.set(t,{entry:r,size:i,lifetime:o,lives:o}),this._size+=i,e.size+=i,this._checkSizeLimits()}updateSize(e,t,r,i){t=e.id+t;const n=this._db.get(t);if(n&&n.entry===r){for(this._size-=n.size,e.size-=n.size;i>this._maxSize;){const e=this._notifyRemove(t,r,sF.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);i=e}n.size=i,this._size+=i,e.size+=i,this._checkSizeLimits()}}pop(e,t){t=e.id+t;const r=this._db.get(t);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(t),++this._hit,r.entry;++this._miss}get(e,t){t=e.id+t;const r=this._db.get(t);if(void 0!==r)return this._db.delete(t),r.lives=r.lifetime,this._db.set(t,r),++this._hit,r.entry;++this._miss}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},r=new Array;this._db.forEach(((e,i)=>{const n=e.lifetime;r[n]=(r[n]||0)+e.size,this._users.forAll((r=>{const{id:n,name:s}=r;if(i.startsWith(n)){const r=t[s]||0;t[s]=r+e.size}}))}));const i={};this._users.forAll((e=>{const r=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const n=t[r]||0;t[r]=n,i[r]=Math.round(100*e.hitRate)+"%"}else i[r]="0%"}));const n=Object.keys(t);n.sort(((e,r)=>t[r]-t[e])),n.forEach((r=>e[r]=Math.round(t[r]/2**20)+"MB / "+i[r]));for(let t=r.length-1;t>=0;--t){const i=r[t];i&&(e["Priority "+(t+nF-1)]=Math.round(i/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forAll((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,r)=>{r.startsWith(t)&&(this._size-=e.size,this._db.delete(r),this._notifyRemove(r,e.entry,sF.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,sF.ALL))),this._users.forEach((e=>e.size=0)),this._size=0,this._db.clear()}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,r){let i;return this._removeFuncs.some((n=>{if(e.startsWith(n[0])){const e=n[1](t,r);return"number"==typeof e&&(i=e),!0}return!1})),i}_checkSizeLimits(){if(this._size>this._maxSize)for(const[e,t]of this._db)if(this._purgeItem(e,t),this._size<=.9*this.maxSize)return;this._users.forEach((e=>{if(e.maxSize>0&&e.size>e.maxSize)for(const[t,r]of this._db)if(t.startsWith(e.id)&&(this._purgeItem(t,r,e),e.size<=.9*e.maxSize))return}))}_purgeItem(e,t,r=this._users.find((t=>e.startsWith(t.id)))){if(this._db.delete(e),t.lives<=1){this._size-=t.size,r&&(r.size-=t.size);const i=this._notifyRemove(e,t.entry,sF.SOME);null!=i&&i>0&&(this._size+=i,r&&(r.size+=i),t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}let lF=0;class uF{constructor(e,t){this._storage=new aF,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this),t&&this._storage.registerRemoveFunc("",t)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,r=1){this._storage.put(this,e,t,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}let cF=class{constructor(e,t,r=""){this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}since(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new me(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new cF(this.major,this.minor,this._context)}static parse(e,t=""){const[r,i]=e.split("."),n=/^\s*\d+\s*$/;if(!r||!r.match||!n.test(r)){throw new me((t&&t+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e})}if(!i||!i.match||!n.test(i)){throw new me((t&&t+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e})}const s=parseInt(r,10),o=parseInt(i,10);return new cF(s,o,t)}};function dF(e){return"date"===e.type||"esriFieldTypeDate"===e.type||"date-only"===e.type||"esriFieldTypeDateOnly"===e.type||"timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type}function hF(e){return"oid"===e.type||"esriFieldTypeOID"===e.type}function fF(e){return"global-id"===e.type||"esriFieldTypeGlobalID"===e.type}class pF{constructor(e=[]){if(this.fields=[],this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this.dateFields=[],this.numericFields=[],this._requiredFields=null,!e)return;this.fields=e;const t=[];for(const r of e){const e=r?.name,i=mF(r?.name);if(e&&i){const n=yF(e);this._fieldsMap.set(e,r),this._fieldsMap.set(n,r),this._normalizedFieldsMap.set(i,r),t.push(n),dF(r)?(this.dateFields.push(r),this._dateFieldsSet.add(r)):Im(r)&&(this._numericFieldsSet.add(r),this.numericFields.push(r)),hF(r)||fF(r)||(r.editable=null==r.editable||!!r.editable,r.nullable=null==r.nullable||!!r.nullable)}}t.sort(),this.uid=t.join(",")}destroy(){this._fieldsMap.clear()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)hF(e)||fF(e)||e.nullable||void 0!==hm(e)||this._requiredFields.push(e)}return this._requiredFields}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(yF(e))??this._normalizedFieldsMap.get(mF(e)),t&&this._fieldsMap.set(e,t),t)}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){const t=this.get(e);if(t)return t.name??void 0}}function yF(e){return e.trim().toLowerCase()}function mF(e){return Cy(e)?.toLowerCase()??""}const vF="esri.renderers.support.DictionaryLoader",gF={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class bF{constructor(e,t,r){this.config=null,this.fieldMap=null,this.url=null,this._ongoingRequests=new Map,this._symbolCache=new uF(100),this._dictionaryVersion=null,this._fieldIndex=null,this._dictionaryPromise=null,this.url=e,this.config=t,this.fieldMap=r}getSymbolFields(){return this._symbolFields}async getSymbolAsync(e,t){let r;this._dictionaryPromise||(this._dictionaryPromise=this.fetchResources(t));try{r=await this._dictionaryPromise}catch(e){if(Pr(e))return this._dictionaryPromise=null,null}const i=this._dictionaryVersion&&this._dictionaryVersion.since(4,0),n={};if(this.fieldMap)for(const t of this._symbolFields){const r=this._getFieldName(this.fieldMap[t]);n[t]=r?i?e.attributes[r]:""+e.attributes[r]:""}let s=null;try{s=r?.(n,t)}catch(e){return null}if(!s||"string"!=typeof s)return null;const o=ue(s).toString(),a=this._symbolCache.get(o);if(a)return a.catch((()=>{this._symbolCache.pop(o)})),a;const l=s.split(";"),u=[],c=[];for(const e of l)if(e)if(e.includes("po:")){const t=e.substr(3).split("|");if(3===t.length){const e=t[0],r=t[1];let i=t[2];if("DashTemplate"===r)i=i.split(" ").map((e=>Number(e)));else if("Color"===r){const e=new Mb(i).toRgba();i=[e[0],e[1],e[2],255*e[3]]}else i=Number(i);c.push({primitiveName:e,propertyName:r,value:i})}}else if(e.includes("|")){for(const t of e.split("|"))if(this._itemNames.has(t)){u.push(t);break}}else this._itemNames.has(e)&&u.push(e);const d=null==e.geometry||!e.geometry.hasZ&&"point"===e.geometry.type,h=this._cimPartsToCIMSymbol(u,c,d,t);return this._symbolCache.put(o,h,1),h}async fetchResources(e){if(this._dictionaryPromise)return this._dictionaryPromise;if(!this.url)return void fe.getLogger(vF).error("no valid URL!");const t=Xr(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"},signal:null!=e?e.signal:null}),[{data:r}]=await Promise.all([t,Ty()]);if(!r)throw this._dictionaryPromise=null,new me("esri.renderers.DictionaryRenderer","Bad dictionary data!");const{authoringInfo:i,dictionary_version:n,expression:s,itemsNames:o}=r,a=s;let l=!1;n&&(this._dictionaryVersion=cF.parse(n),l=this._dictionaryVersion.since(4,0)),this._refSymbolUrlTemplate=this.url+"/"+r.cimRefTemplateUrl,this._itemNames=new Set(o),this._symbolFields=i.symbol;const u={};if(this.config){const e=this.config;for(const t in e)u[t]=e[t]}if(i.configuration)for(const e of i.configuration)u.hasOwnProperty(e.name)||(u[e.name]=e.value);const c=[];if(null!=e&&e.fields&&this.fieldMap)for(const t of this._symbolFields){const r=this.fieldMap[t],i=e.fields.filter((e=>e.name.toLowerCase()===r?.toLowerCase()));i.length>0&&c.push({...i[0],type:l?i[0].type:"esriFieldTypeString"})}c.length>0&&(this._fieldIndex=new pF(c));const d=Ey(a,null!=e?e.spatialReference:null,c,u).then((e=>{const t={scale:0};return(r,i)=>{if(null==e)return null;const n=e.repurposeFeature({geometry:null,attributes:r});return t.scale=null!=i?i.scale??void 0:void 0,e.evaluate({$feature:n,$view:t},e.services)}})).catch((e=>(fe.getLogger(vF).error("Creating dictinoary expression failed:",e),null)));return this._dictionaryPromise=d,d}async _cimPartsToCIMSymbol(e,t,r,i){const n=new Array(e.length);for(let t=0;t<e.length;t++)n[t]=this._getSymbolPart(e[t],i);const s=await Promise.all(n),o=this.fieldMap;if(o)for(const e of s)wF(e,o);return new Pb({data:this._combineSymbolParts(s,t,r)})}async _getSymbolPart(e,t){if(this._ongoingRequests.has(e))return this._ongoingRequests.get(e).then((e=>e.data));const r=this._refSymbolUrlTemplate.replaceAll(/\{itemName\}/gi,e),i=Xr(r,{responseType:"json",query:{f:"json"},...t});this._ongoingRequests.set(e,i);try{return(await i).data}catch(t){throw this._ongoingRequests.delete(e),t}}_combineSymbolParts(e,t,r){if(!e||0===e.length)return null;const i={...e[0]};if(e.length>1){i.symbolLayers=[];for(const t of e){const e=t;i.symbolLayers.unshift(...e.symbolLayers)}}return r&&(i.callout=gF),{type:"CIMSymbolReference",symbol:i,primitiveOverrides:t}}_getFieldName(e){if(null!==this._fieldIndex){const t=this._fieldIndex.get(e);return t?t.name:e}return e}}function wF(e,t){if(!e)return;const r=e.symbolLayers;if(!r)return;let i=r.length;for(;i--;){const e=r[i];if(e&&!1!==e.enable&&"CIMVectorMarker"===e.type)SF(e,t)}}function SF(e,t){const r=e.markerGraphics;if(r)for(const e of r){if(!e)continue;const r=e.symbol;if(r)switch(r.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":wF(r,t);break;case"CIMTextSymbol":r.fieldMap=t}}}const xF=Object.freeze({__proto__:null,DictionaryLoader:bF});var jF;let TF=jF=class extends(IE(rM)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){return new bF(this.url,this.config,this.fieldMap)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,r,i){i?.origin||super.writeVisualVariables(e,t,r,i)}clone(){return new jF({config:V(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:V(this.fieldMap),url:V(this.url),visualVariables:V(this.visualVariables)})}async getSymbolAsync(e,t){return this._loader.getSymbolAsync(e,t)}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await zy(e,t,this.scaleExpression);for(const r in this.fieldMap){const i=this.fieldMap[r];t.has(i)&&e.add(i)}}get arcadeRequired(){return!0}getSymbol(){return null}getSymbols(){return[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}getSymbolFields(){return this._loader.getSymbolFields()}};ji([Cn({type:bF})],TF.prototype,"_loader",null),ji([Cn({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],TF.prototype,"config",void 0),ji([Cn({type:Object,json:{write:!0}})],TF.prototype,"fieldMap",void 0),ji([Cn({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],TF.prototype,"scaleExpression",void 0),ji([Iu("scaleExpression")],TF.prototype,"writeData",null),ji([Cn({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],TF.prototype,"scaleExpressionTitle",void 0),ji([Cn({type:String,json:{write:!0}})],TF.prototype,"url",void 0),ji([Iu("visualVariables")],TF.prototype,"writeVisualVariables",null),TF=jF=ji([zs("esri.renderers.DictionaryRenderer")],TF);const IF=TF;var MF;let EF=MF=class extends rl{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(fe.getLogger(this).error(".field: field must be a string value"),null):Ai(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new MF({color:this.color&&this.color.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};ji([Cn({type:Mb,json:{type:[Number],write:!0}})],EF.prototype,"color",void 0),ji([Cn({type:String,json:{write:!0}})],EF.prototype,"field",void 0),ji([Ru("field")],EF.prototype,"castField",null),ji([Cn({type:String,json:{write:!0}})],EF.prototype,"label",void 0),ji([Cn({type:String,json:{write:!0}})],EF.prototype,"valueExpression",void 0),ji([Cn({type:String,json:{write:!0}})],EF.prototype,"valueExpressionTitle",void 0),EF=MF=ji([zs("esri.renderers.support.AttributeColorInfo")],EF);const FF=EF;var kF;let AF=kF=class extends rl{constructor(){super(...arguments),this.unit=null}clone(){return new kF({unit:this.unit})}};ji([Cn({type:String,json:{write:!0}})],AF.prototype,"unit",void 0),AF=kF=ji([zs("esri.renderers.support.DotDensityLegendOptions")],AF);const CF=AF;var OF;let PF=OF=class extends(IE(rM)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new Mb([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new ww,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new TT({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new OF({attributes:V(this.attributes),backgroundColor:V(this.backgroundColor),dotBlendingEnabled:V(this.dotBlendingEnabled),dotShape:V(this.dotShape),dotSize:V(this.dotSize),dotValue:V(this.dotValue),legendOptions:V(this.legendOptions),outline:V(this.outline),referenceScale:V(this.referenceScale),visualVariables:V(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}getControllerHash(){const e=this.attributes?.map((e=>e.field||e.valueExpression||""));return`${e}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes??[])r.valueExpression&&await zy(e,t,r.valueExpression),r.field&&e.add(r.field)}};ji([Cn({type:[FF],json:{write:!0}})],PF.prototype,"attributes",void 0),ji([Cn({type:Mb,json:{write:!0}})],PF.prototype,"backgroundColor",void 0),ji([Cn({type:Boolean,json:{write:!0}})],PF.prototype,"dotBlendingEnabled",void 0),ji([Cn({type:String,json:{write:!1}})],PF.prototype,"dotShape",void 0),ji([Cn({type:Number,json:{write:!0}})],PF.prototype,"dotSize",void 0),ji([Cn({type:CF,json:{write:!0}})],PF.prototype,"legendOptions",void 0),ji([Cn({type:ww,json:{default:null,write:!0}})],PF.prototype,"outline",void 0),ji([Cn({type:Number,json:{write:!0}})],PF.prototype,"dotValue",void 0),ji([Cn({type:Number,json:{write:!0}})],PF.prototype,"referenceScale",void 0),ji([Cn({type:Number,json:{write:!0}})],PF.prototype,"seed",void 0),ji([iv({dotDensity:"dot-density"})],PF.prototype,"type",void 0),PF=OF=ji([zs("esri.renderers.DotDensityRenderer")],PF);const DF=PF;const RF=new Set;function NF(e,t,r=!1){r&&RF.has(t)||(r&&RF.add(t),e.warn(`🛑 DEPRECATED - ${t}`))}function $F(e,r,i={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=i;LF(e,`Property: ${(t?t+"::":"")+r}`,i)}}function LF(e,r,i={}){if(t("esri-deprecation-warnings")){const{replacement:t,version:n,see:s,warnOnce:o}=i;let a=r;t&&(a+=`\n\t🛠️ Replacement: ${t}`),n&&(a+=`\n\t⚙️ Version: ${n}`),s&&(a+=`\n\t🔗 See ${s} for more details.`),NF(e,a,o)}}var _F;let qF=_F=class extends rl{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new _F({color:this.color,ratio:this.ratio})}};ji([Cn({type:Mb,json:{type:[Yi],default:null,write:!0}})],qF.prototype,"color",void 0),ji([Cn({type:Number,json:{write:!0}})],qF.prototype,"ratio",void 0),qF=_F=ji([zs("esri.renderers.support.HeatmapColorStop")],qF);const VF=qF;let zF=class extends(Yp(rl)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};ji([Cn({type:String,json:{write:!0}})],zF.prototype,"minLabel",void 0),ji([Cn({type:String,json:{write:!0}})],zF.prototype,"maxLabel",void 0),ji([Cn({type:String,json:{write:!0}})],zF.prototype,"title",void 0),zF=ji([zs("esri.renderers.support.HeatmapLegendOptions")],zF);function WF(){return[0,0,0,0]}function UF(e){return[e[0],e[1],e[2],e[3]]}function GF(e,t,r,i){return[e,t,r,i]}function BF(e){const t=WF(),r=Math.min(4,e.length);for(let i=0;i<r;++i)t[i]=e[i];return t}function HF(e,t){return new Float64Array(e,t,4)}function JF(){return WF()}function ZF(){return GF(1,1,1,1)}function QF(){return GF(1,0,0,0)}function KF(){return GF(0,1,0,0)}function YF(){return GF(0,0,1,0)}function XF(){return GF(0,0,0,1)}const ek=JF(),tk=ZF(),rk=QF(),ik=KF(),nk=YF(),sk=XF();Object.freeze(Object.defineProperty({__proto__:null,ONES:tk,UNIT_W:sk,UNIT_X:rk,UNIT_Y:ik,UNIT_Z:nk,ZEROS:ek,clone:UF,create:WF,createView:HF,fromArray:BF,fromValues:GF,ones:ZF,unitW:XF,unitX:QF,unitY:KF,unitZ:YF,zeros:JF},Symbol.toStringTag,{value:"Module"}));const ok=2.4;function ak(e){return qb(e*ok)}function lk(e){return _b(e)/ok}function uk(e,t,r,i){let{color:n,ratio:s}=t,{color:o,ratio:a}=r;if(a===s){const e=1e-6;1===a?s-=e:a+=e}const l=yf((i-s)/(a-s),0,1);Yh(e,n.toArray(),o.toArray(),l)}function ck(e){const t=512,r=new Uint8ClampedArray(4*t);if(e=e.filter((({ratio:e})=>e>=0&&e<=1)).sort(((e,t)=>e.ratio-t.ratio)).map((({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))),e.length<1)return r;let i=e[0],n=e[0],s=1;const o=WF();for(let a=0;a<t;a++){const l=(a+.5)/t;for(;l>n.ratio&&s<e.length;)i=n,n=e[s++];uk(o,i,n,l),r.set(o,4*a)}return r}function dk(e,t,r,i){const{radius:n,fieldOffset:s,field:o}=t,a=Math.round(_b(n)),l=new Float64Array(r*i);let u,c=Number.NEGATIVE_INFINITY;const d=mk(o,s),h=new Set;for(const t of e){const e=t.getCursor();for(;e.next();){const t=e.getObjectId();if(h.has(t))continue;h.add(t);const n=e.readLegacyPointGeometry(),s=128;if(n.x<-s||n.x>=r+s||n.y<-s||n.y>i+s)continue;const o=+d(e),f=Math.max(0,Math.round(n.x)-a),p=Math.max(0,Math.round(n.y)-a),y=Math.min(i,Math.round(n.y)+a),m=Math.min(r,Math.round(n.x)+a);for(let e=p;e<y;e++)for(let t=f;t<m;t++){const i=e*r+t,s=pk(n.x-t,n.y-e,a);u=l[i]+=s*o,u>c&&(c=u)}}}return{matrix:l.buffer,max:c}}function hk(e,t,r,i,n,s){e.canvas.width=e.canvas.height=t,e.clearRect(0,0,t,t);const o=e.getImageData(0,0,t,t);r&&i&&o.data.set(new Uint8ClampedArray(fk(t,r,i,n,s))),e.putImageData(o,0,0)}function fk(e,t,r,i,n){const s=new Uint32Array(e*e),o="buffer"in t?t:new Float64Array(t),a="buffer"in r?new Uint32Array(r.buffer):new Uint32Array(new Uint8Array(r).buffer),l=a.length/(n-i);for(let e=0;e<o.length;e++){const t=o[e],r=Math.floor((t-i)*l);s[e]=a[yf(r,0,a.length-1)]}return s.buffer}function pk(e,t,r){const i=Math.sqrt(e**2+t**2)/r;return i>1?0:3/(Math.PI*r**2)*(1-i**2)**2}function yk(e,t){return"function"==typeof e?e:e?"string"==typeof t?t=>-1*+t[e]:r=>+r[e]+t:()=>1}function mk(e,t){return null!=e?"string"==typeof t?t=>-1*+t.readAttribute(e):r=>+r.readAttribute(e)+t:e=>1}var vk;const gk="esri.renderers.HeatmapRenderer",bk=fe.getLogger(gk);function wk(e){if(null!=e){const{maxDensity:t,minDensity:r,radius:i}=e;if(null!=t||null!=r||null!=i){const{blurRadius:t,maxPixelIntensity:r,minPixelIntensity:i,...n}=e;return n}}return e}let Sk=vk=class extends rM{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new VF({ratio:0,color:new Mb("rgba(255, 140, 0, 0)")}),new VF({ratio:.75,color:new Mb("rgba(255, 140, 0, 1)")}),new VF({ratio:.9,color:new Mb("rgba(255, 0,   0, 1)")})],this.field=null,this.fieldOffset=0,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null,this._warnedProps={blurRadius:!1,maxPixelIntensity:!1,minPixelIntensity:!1}}normalizeCtorArgs(e){return wk(e)}get blurRadius(){return lk(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,r=this.minPixelIntensity;this._set("radius",ak(e)),this._warnAboutDeprecatedGaussianBlurProp("blurRadius","radius"),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",r*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("maxPixelIntensity","maxDensity")}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity),this._warnAboutDeprecatedGaussianBlurProp("minPixelIntensity","minDensity")}get _pixelIntensityToDensity(){return 24/(ok**2*this.blurRadius**4)}_warnAboutDeprecatedGaussianBlurProp(e,t){if(this._warnedProps[e])return;"user"===ln(this).getDefaultOrigin()&&(this._warnedProps[e]=!0,Vo((()=>{$F(bk,e,{replacement:`${String(t)} (suggested value: ${this._get(t)})`,version:"4.24"})})))}read(e,t){e=wk(e),super.read(e,t)}getSymbol(){return new FT}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const r=this.field,i=this.valueExpression;r&&"string"==typeof r&&await qy(e,t,r),i&&"string"==typeof i&&await zy(e,t,i)}getAttributeHash(){return null}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new vk({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:V(this.colorStops),field:this.field,legendOptions:V(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};ji([Cn({type:XI,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Sk.prototype,"authoringInfo",void 0),ji([Cn({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Sk.prototype,"blurRadius",null),ji([Cn({type:[VF],json:{write:!0}})],Sk.prototype,"colorStops",void 0),ji([Cn({type:String,json:{write:!0}})],Sk.prototype,"field",void 0),ji([Cn({type:Number,json:{write:{overridePolicy:(e,t,r)=>({enabled:null==r})},origins:{"web-scene":{write:!1}}}})],Sk.prototype,"fieldOffset",void 0),ji([Cn({type:zF,json:{write:!0}})],Sk.prototype,"legendOptions",void 0),ji([Cn({type:Number,json:{write:!0}})],Sk.prototype,"maxDensity",void 0),ji([Cn({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Sk.prototype,"maxPixelIntensity",null),ji([Cn({type:Number,json:{write:!0}})],Sk.prototype,"minDensity",void 0),ji([Cn({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Sk.prototype,"minPixelIntensity",null),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Sk.prototype,"radius",void 0),ji([Cn({type:Number,range:{min:0},json:{default:0,write:!0}})],Sk.prototype,"referenceScale",void 0),ji([iv({heatmap:"heatmap"})],Sk.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Sk.prototype,"valueExpression",void 0),ji([Cn({type:String})],Sk.prototype,"valueExpressionTitle",void 0),ji([Cn({readOnly:!0})],Sk.prototype,"_pixelIntensityToDensity",null),Sk=vk=ji([zs(gk)],Sk);const xk=Sk;let jk=class extends(Yp(rl)){constructor(){super(...arguments),this.color=new Mb([0,0,0,0]),this.label=null,this.threshold=0}};ji([Cn({type:Mb,json:{write:!0}})],jk.prototype,"color",void 0),ji([Cn({type:String,json:{write:!0}})],jk.prototype,"label",void 0),ji([Cn({type:Number,range:{min:0,max:1},json:{write:!0}})],jk.prototype,"threshold",void 0),jk=ji([zs("esri.renderers.support.OthersCategory")],jk);let Tk=class extends(Yp(rl)){constructor(){super(...arguments),this.title=null}};ji([Cn({type:String,json:{write:!0}})],Tk.prototype,"title",void 0),Tk=ji([zs("esri.renderers.support.PieChartLegendOptions")],Tk);let Ik=class extends(IE(Yp(rM))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new Mb([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new jk,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart"}getSymbol(){return new FT({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}getSymbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(x)}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const r of this.attributes)r.valueExpression&&await zy(e,t,r.valueExpression),r.field&&e.add(r.field)}};ji([Cn({type:[FF],json:{write:!0}})],Ik.prototype,"attributes",void 0),ji([Cn({type:TT,json:{default:null,write:!0}})],Ik.prototype,"backgroundFillSymbol",void 0),ji([Cn({type:Mb,json:{write:!0}})],Ik.prototype,"defaultColor",void 0),ji([Cn({type:String,json:{write:!0}})],Ik.prototype,"defaultLabel",void 0),ji([Cn({type:Number,range:{min:0,max:1},json:{write:!0}})],Ik.prototype,"holePercentage",void 0),ji([Cn({type:jk,json:{write:!0}})],Ik.prototype,"othersCategory",void 0),ji([Cn({type:Tk,json:{write:!0}})],Ik.prototype,"legendOptions",void 0),ji([Cn({type:ww,json:{default:null,write:!0}})],Ik.prototype,"outline",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Ik.prototype,"size",void 0),ji([iv({pieChart:"pie-chart"})],Ik.prototype,"type",void 0),Ik=ji([zs("esri.renderers.PieChartRenderer")],Ik);const Mk=Ik;var Ek;let Fk=Ek=class extends(IE(rM)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(e,t){await Promise.all([this.collectSymbolFields(e,t),this.collectVVRequiredFields(e,t)])}async collectSymbolFields(e,t){await Promise.all(this.getSymbols().map((r=>r.collectRequiredFields(e,t))))}getSymbol(e,t){return this.symbol}async getSymbolAsync(e,t){return this.symbol}getSymbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){return this.getSymbols().reduce(((e,t)=>e+JSON.stringify(t)),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new Ek({description:this.description,label:this.label,symbol:this.symbol&&this.symbol.clone(),visualVariables:V(this.visualVariables),authoringInfo:this.authoringInfo&&this.authoringInfo.clone()})}};ji([Cn({type:String,json:{write:!0}})],Fk.prototype,"description",void 0),ji([Cn({type:String,json:{write:!0}})],Fk.prototype,"label",void 0),ji([Cn(UE)],Fk.prototype,"symbol",void 0),ji([iv({simple:"simple"})],Fk.prototype,"type",void 0),Fk=Ek=ji([zs("esri.renderers.SimpleRenderer")],Fk);const kk=Fk;function Ak(e,t,r={}){return Ok(e,t,r,Nk)}function Ck(e,t,r={}){return Ok(e,t,r,$k)}function Ok(e,t,r={},i){let n=null;const s=r.once?(e,r)=>{i(e)&&(xe(n),t(e,r))}:(e,r)=>{i(e)&&t(e,r)};if(n=Aa(e,s,r.sync,r.equals),r.initial){const t=e();s(t,t)}return n}function Pk(e,t,r,i={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),i.onListenerRemove?.(n),n=null,s=null)}function l(e){i.once&&i.once&&xe(o),r(e)}const u=Ak(e,((e,r)=>{a(),br(e)&&(n=e,s=wr(e,t,l),i.onListenerAdd?.(e))}),{sync:i.sync,initial:!0});return o=an((()=>{u.remove(),a()})),o}function Dk(e,t){return Rk(e,$k,t)}function Rk(e,t,r){if(Er(r))return Promise.reject(Tr());const i=e();if(t?.(i))return Promise.resolve(i);let n=null;function s(){n=xe(n)}return new Promise(((i,o)=>{n=on([Ar(r,(()=>{s(),o(Tr())})),Ok(e,(e=>{s(),i(e)}),{sync:!1,once:!0},t??Nk)])}))}function Nk(e){return!0}function $k(e){return!!e}const Lk={sync:!0},_k={initial:!0},qk={sync:!0,initial:!0};const Vk=["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"];function zk(e){return e instanceof $a}function Wk(e){return e instanceof by?Object.keys(e.items):zk(e)?ln(e).keys():e?Object.keys(e):[]}function Uk(e,t){return e instanceof by?e.items[t]:e[t]}function Gk(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}function Bk(e){return e?e.declaredClass:null}function Hk(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const i=Wk(e),n=Wk(t);if(0===i.length&&0===n.length)return;if(!i.length||!n.length||Gk(e,t))return{type:"complete",oldValue:e,newValue:t};const s=n.filter((e=>!i.includes(e))),o=i.filter((e=>!n.includes(e))),a=i.filter((r=>n.includes(r)&&Uk(e,r)!==Uk(t,r))).concat(s,o).sort(),l=Bk(e);if(l&&Vk.includes(l)&&a.length)return{type:"complete",oldValue:e,newValue:t};let u;const c=zk(e)&&zk(t);for(const i of a){const n=Uk(e,i),s=Uk(t,i);let o;if((c||"function"!=typeof n&&"function"!=typeof s)&&(n!==s&&(null!=n||null!=s))){if(r&&r[i]&&"function"==typeof r[i])o=r[i]?.(n,s);else if(n instanceof Date&&s instanceof Date){if(n.getTime()===s.getTime())continue;o={type:"complete",oldValue:n,newValue:s}}else o="object"==typeof n&&"object"==typeof s&&Bk(n)===Bk(s)?Hk(n,s):{type:"complete",oldValue:n,newValue:s};null!=o&&(null!=u?u.diff[i]=o:u={type:"partial",diff:{[i]:o}})}}return u}function Jk(e,t){if(null==e)return!1;const r=t.split(".");let i=e;for(const e of r){if("complete"===i.type)return!0;if("partial"!==i.type)return!1;{const t=i.diff[e];if(!t)return!1;i=t}}return!0}function Zk(e,t){for(const r of t)if(Jk(e,r))return!0;return!1}function Qk(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&Bk(e)!==Bk(t)?{type:"complete",oldValue:e,newValue:t}:Hk(e,t)}let Kk=class extends(Yp(rl)){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};ji([Cn(BE)],Kk.prototype,"value",void 0),ji([Cn(BE)],Kk.prototype,"value2",void 0),ji([Cn(BE)],Kk.prototype,"value3",void 0),Kk=ji([zs("esri.renderers.support.UniqueValue")],Kk);const Yk=Kk;let Xk=class extends(Yp(rl)){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(null==e)return null;const t=typeof(e=Array.isArray(e)?e:[e])[0];return"string"===t||"number"===t?e.map((e=>new Yk({value:e}))):"object"===t?e[0]instanceof Yk?e:e.map((e=>new Yk(e))):null}};ji([Cn({type:String,json:{write:!0}})],Xk.prototype,"description",void 0),ji([Cn({type:String,json:{write:!0}})],Xk.prototype,"label",void 0),ji([Cn(UE)],Xk.prototype,"symbol",void 0),ji([Cn({type:[Yk],json:{type:[[String]],read:{reader:e=>e?e.map((e=>new Yk({value:e[0],value2:e[1],value3:e[2]}))):null},write:{writer:(e,t)=>{const r=[];for(const t of e){const e=[t.value,t.value2,t.value3].filter(x).map((e=>e.toString()));r.push(e)}t.values=r}}}})],Xk.prototype,"values",void 0),ji([Ru("values")],Xk.prototype,"castValues",null),Xk=ji([zs("esri.renderers.support.UniqueValueClass")],Xk);const eA=Xk;let tA=class extends(Yp(rl)){constructor(e){super(e),this.heading=null,this.classes=null}};ji([Cn({type:String,json:{write:!0}})],tA.prototype,"heading",void 0),ji([Cn({type:[eA],json:{write:!0}})],tA.prototype,"classes",void 0),tA=ji([zs("esri.renderers.support.UniqueValueGroup")],tA);const rA=tA;var iA;let nA=iA=class extends rl{constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new iA({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const e=JSON.stringify(this.symbol&&this.symbol.toJSON());return`${this.value}.${e}`}};ji([Cn({type:String,json:{write:!0}})],nA.prototype,"description",void 0),ji([Cn({type:String,json:{write:!0}})],nA.prototype,"label",void 0),ji([Cn(UE)],nA.prototype,"symbol",void 0),ji([Cn(BE)],nA.prototype,"value",void 0),nA=iA=ji([zs("esri.renderers.support.UniqueValueInfo")],nA);const sA=nA;const oA=()=>!!t("enable-feature:force-wosr"),aA=()=>t.add("enable-feature:direct-3d-object-feature-layer-display",!0,!0,!0),lA=()=>t.add("enable-feature:direct-3d-object-feature-layer-display",!1,!0,!0),uA=()=>t.add("enable-i3s-patching",!0,!0,!0),cA=()=>t.add("enable-i3s-patching",!1,!0,!0),dA=()=>!!t("enable-feature:SceneLayer-editing"),hA=(e="i3s-patching")=>{switch(cA(),lA(),t.add("enable-feature:SceneLayer-editing",!0,!0,!0),e){case"feature-layer-view":aA();break;case"i3s-patching":uA()}};hA("i3s-patching");let fA={};async function pA(e,t){try{return{data:(await wA(e,t)).data,baseUrl:Gt(e),styleUrl:e}}catch(e){return Fr(e),null}}function yA(e,t,r){const i=null!=t.portal?t.portal:Vx.getDefault();let n;const s=`${i.url} - ${i.user&&i.user.username} - ${e}`;return fA[s]||(fA[s]=mA(e,i,r).then((e=>(n=e,e.fetchData()))).then((t=>({data:t,baseUrl:n.itemUrl??"",styleName:e})))),fA[s]}function mA(e,t,r){return t.load(r).then((()=>{const i=new Ix({disableExtraQuery:!0,query:`owner:${SA} AND type:${xA} AND typekeywords:"${e}"`});return t.queryItems(i,r)})).then((({results:t})=>{let i=null;const n=e.toLowerCase();if(t&&Array.isArray(t))for(const e of t){const t=e.typeKeywords?.some((e=>e.toLowerCase()===n));if(t&&e.type===xA&&e.owner===SA){i=e;break}}if(!i)throw new me("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return i.load(r)}))}function vA(e,t,r){return e&&null!=e.styleUrl?pA(e.styleUrl,r):e&&null!=e.styleName?yA(e.styleName,t,r):Promise.reject(new me("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function gA(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function bA(e,t,r=["gltf"]){if("cimRef"===t)return e.cimRef;if(e.formatInfos&&!oA())for(const t of r){const r=e.formatInfos.find((e=>e.type===t));if(r)return r.href}return e.webRef}function wA(e,t){const r={responseType:"json",query:{f:"json"},...t};return Xr(St(e),r)}const SA="esri_en",xA="Style",jA="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var TA;const IA="esri.renderers.UniqueValueRenderer",MA=fe.getLogger(IA),EA="uvInfos-watcher",FA="uvGroups-watcher",kA=",",AA=Wi(sA);function CA(e){const{field1:t,field2:r,field3:i,fieldDelimiter:n,uniqueValueInfos:s,valueExpression:o}=e,a=!(!t||!r);return[{classes:(s??[]).map((e=>{const{symbol:s,label:l,value:u,description:c}=e,[d,h,f]=a?u?.toString()?.split(n||"")||[]:[u],p=[];return(t||o)&&p.push(d),r&&p.push(h),i&&p.push(f),{symbol:s,label:l,values:[p],description:c}}))}]}let OA=TA=class extends(IE(rM)){constructor(e){super(e),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,t){if(!e&&!t)return;if(!e||!t)return{type:"complete",oldValue:e,newValue:t};let r=!1;const i={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let n=0;n<t.length;n++){const s=e.find((e=>e.value===t[n].value));s?Qk(s,t[n])?(i.changed.push({type:"complete",oldValue:s,newValue:t[n]}),r=!0):i.unchanged.push({oldValue:s,newValue:t[n]}):(i.added.push(t[n]),r=!0)}for(let n=0;n<e.length;n++){t.find((t=>t.value===e[n].value))||(i.removed.push(e[n]),r=!0)}return r?i:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(e){this._set("field",e),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(e){return null==e||"function"==typeof e?e:Ai(e)}writeField(e,t,r,i){"string"==typeof e?t[r]=e:i&&i.messages?i.messages.push(new me("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):MA.error(".field: cannot write field to JSON since it's not a string value")}set field2(e){this._set("field2",e),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(e){this._set("field3",e),this._updateUniqueValues()}set valueExpression(e){this._set("valueExpression",e),this._updateUniqueValues()}set defaultSymbol(e){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",e)}set fieldDelimiter(e){this._set("fieldDelimiter",e),this._updateUniqueValues()}readPortal(e,t,r){return r.portal||Vx.getDefault()}readStyleOrigin(e,t,r){if(t.styleName)return Object.freeze({styleName:t.styleName});if(t.styleUrl){const e=PS(t.styleUrl,r);return Object.freeze({styleUrl:e})}}writeStyleOrigin(e,t,r,i){e.styleName?t.styleName=e.styleName:e.styleUrl&&(t.styleUrl=DS(e.styleUrl,i))}set uniqueValueGroups(e){this.styleOrigin?MA.error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",e),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(e){this.styleOrigin?MA.error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(e,t){if(this.styleOrigin)return void MA.error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let r;r="object"==typeof e?AA(e):new sA({value:e,symbol:UT(t)}),this.uniqueValueInfos?.push(r),this._valueInfoMap[r.value]=r,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(e){if(this.styleOrigin)return void MA.error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const t=this.uniqueValueInfos;if(t)for(let r=0;r<t.length;r++){if(t[r].value===e+""){delete this._valueInfoMap[e],t.splice(r,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(e,t){let r=t;return!this.valueExpression||null!=t&&null!=t.arcade||(r={...r,arcade:await Ty()}),this._getUniqueValueInfo(e,r)}getSymbol(e,t){if(this.valueExpression&&(null==t||null==t.arcade))return void MA.error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const r=this._getUniqueValueInfo(e,t);return r&&r.symbol||this.defaultSymbol}async getSymbolAsync(e,t){let r=t;if(this.valueExpression&&(null==r||null==r.arcade)){const e=await Ty(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),r={...r,arcade:e}}const i=this._getUniqueValueInfo(e,r);return i&&i.symbol||this.defaultSymbol}getSymbols(){const e=[];for(const t of this.uniqueValueInfos??[])t.symbol&&e.push(t.symbol);return this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables&&this.visualVariables.reduce(((e,t)=>e+t.getAttributeHash()),"")}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),r=this.uniqueValueInfos?.reduce(((e,t)=>e+t.getMeshHash()),"");return`${e}.${t}.${r}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const e=new TA({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:V(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:V(this.visualVariables),legendOptions:V(this.legendOptions),authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),backgroundFillSymbol:V(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(e._isDefaultSymbolDerived=!0),e._set("portal",this.portal);const t=V(this.uniqueValueInfos),r=V(this.uniqueValueGroups);return this.styleOrigin&&(e._set("styleOrigin",Object.freeze(V(this.styleOrigin))),Object.freeze(t),Object.freeze(r)),e._set("uniqueValueInfos",t),e._updateValueInfoMap(),e._set("uniqueValueGroups",r),e._isInfosSource=this._isInfosSource,e._watchUniqueValueInfosAndGroups(),e}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(e,t){const r=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(r)}async collectSymbolFields(e,t){const r=[...this.getSymbols().map((r=>r.collectRequiredFields(e,t))),zy(e,t,this.valueExpression)];qy(e,t,this.field),qy(e,t,this.field2),qy(e,t,this.field3),await Promise.all(r)}populateFromStyle(){return vA(this.styleOrigin,{portal:this.portal}).then((e=>{const t=[];return this._valueInfoMap={},e&&e.data&&Array.isArray(e.data.items)&&e.data.items.forEach((r=>{const i=new DT({styleUrl:e.styleUrl,styleName:e.styleName,portal:this.portal,name:r.name});this.defaultSymbol||r.name!==e.data.defaultItem||(this.defaultSymbol=i,this._isDefaultSymbolDerived=!0);const n=new sA({value:r.name,symbol:i});t.push(n),this._valueInfoMap[r.name]=n})),this._set("uniqueValueInfos",Object.freeze(t)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this}))}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",kA)}_updateUniqueValues(){null!=this._isInfosSource&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:e}=this;if(e)for(const t of e)this._valueInfoMap[t.value+""]=t}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(EA);const{uniqueValueInfos:e}=this;if(e){const t=[];for(const r of e)t.push(Ak((()=>({symbol:r.symbol,value:r.value,label:r.label,description:r.description})),((e,t)=>{e!==t&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)}),{sync:!0}));this.addHandles(t,EA)}}_watchUniqueValueGroups(){this.removeHandles(FA);const{uniqueValueGroups:e}=this;if(e){const t=[];for(const r of e){t.push(Ak((()=>({classes:r.classes})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}));for(const e of r.classes??[])t.push(Ak((()=>({symbol:e.symbol,values:e.values,label:e.label,description:e.description})),((e,t)=>{e!==t&&(this._updateInfosFromGroups(),this._isInfosSource=!1)}),{sync:!0}))}this.addHandles(t,FA)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const e=[],{field:t,field2:r,field3:i,fieldDelimiter:n,uniqueValueGroups:s,valueExpression:o}=this;if(!t&&!o)return this._set("uniqueValueInfos",e),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!t||!r);for(const t of s)for(const s of t.classes??[]){const{symbol:t,label:o,values:l,description:u}=s;for(const s of l??[]){const{value:l,value2:c,value3:d}=s,h=[l];r&&h.push(c),i&&h.push(d);const f=a?h.join(n||""):h[0];e.push(new sA({symbol:t,label:o,value:f,description:u}))}}this._set("uniqueValueInfos",e),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(e=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:t,field2:r,valueExpression:i,fieldDelimiter:n,uniqueValueInfos:s}=this;if(!t&&!i||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!t||!r),a=s.map((e=>{const{symbol:t,label:r,value:i,description:s}=e,[a,l,u]=o?i?.toString()?.split(n||"")||[]:[i];return new eA({symbol:t,label:r,description:s,values:[new Yk({value:a,value2:l,value3:u})]})})),l=[new rA({classes:a})];e&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(e,t){return this.valueExpression?this._getUnqiueValueInfoForExpression(e,t):this._getUnqiueValueInfoForFields(e)}_getUnqiueValueInfoForExpression(e,t){const{viewingMode:r,scale:i,spatialReference:n,arcade:s}=t??{};let o=this._cache.compiledFunc;const a=s.arcadeUtils;if(!o){const e=a.createSyntaxTree(this.valueExpression);o=a.createFunction(e),this._cache.compiledFunc=o}const l=a.executeFunction(o,a.createExecContext(e,a.getViewInfo({viewingMode:r,scale:i,spatialReference:n})));return this._valueInfoMap[l+""]}_getUnqiueValueInfoForFields(e){const t=this.field,r=e.attributes;let i;if("function"!=typeof t&&this.field2){const e=this.field2,n=this.field3,s=[];t&&s.push(r[t]),e&&s.push(r[e]),n&&s.push(r[n]),i=s.join(this.fieldDelimiter||"")}else"function"==typeof t?i=t(e):t&&(i=r[t]);return this._valueInfoMap[i+""]}static fromPortalStyle(e,t){const r=new TA(t&&t.properties);r._set("styleOrigin",Object.freeze({styleName:e})),r._set("portal",t&&t.portal||Vx.getDefault());const i=r.populateFromStyle();return i.catch((t=>{MA.error(`#fromPortalStyle('${e}'[, ...])`,"Failed to create unique value renderer from style name",t)})),i}static fromStyleUrl(e,t){const r=new TA(t&&t.properties);r._set("styleOrigin",Object.freeze({styleUrl:e}));const i=r.populateFromStyle();return i.catch((t=>{MA.error(`#fromStyleUrl('${e}'[, ...])`,"Failed to create unique value renderer from style URL",t)})),i}};ji([Cn({readOnly:!0})],OA.prototype,"_cache",null),ji([iv({uniqueValue:"unique-value"})],OA.prototype,"type",void 0),ji([Cn(GE)],OA.prototype,"backgroundFillSymbol",void 0),ji([Cn({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],OA.prototype,"field",null),ji([Ru("field")],OA.prototype,"castField",null),ji([Iu("field")],OA.prototype,"writeField",null),ji([Cn({type:String,value:null,json:{write:!0}})],OA.prototype,"field2",null),ji([Cn({type:String,value:null,json:{write:!0}})],OA.prototype,"field3",null),ji([Cn({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],OA.prototype,"orderByClassesEnabled",void 0),ji([Cn({type:String,value:null,json:{write:!0}})],OA.prototype,"valueExpression",null),ji([Cn({type:String,json:{write:!0}})],OA.prototype,"valueExpressionTitle",void 0),ji([Cn({type:oM,json:{write:!0}})],OA.prototype,"legendOptions",void 0),ji([Cn({type:String,json:{write:!0}})],OA.prototype,"defaultLabel",void 0),ji([Cn(X({...UE},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],OA.prototype,"defaultSymbol",null),ji([Cn({type:String,value:null,json:{write:!0}})],OA.prototype,"fieldDelimiter",null),ji([Cn({type:Vx,readOnly:!0})],OA.prototype,"portal",void 0),ji([il("portal",["styleName"])],OA.prototype,"readPortal",null),ji([Cn({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],OA.prototype,"styleOrigin",void 0),ji([il("styleOrigin",["styleName","styleUrl"])],OA.prototype,"readStyleOrigin",null),ji([Iu("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],OA.prototype,"writeStyleOrigin",null),ji([Cn({type:[rA],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(e,t,r)=>(t.uniqueValueGroups||CA(t)).map((e=>rA.fromJSON(e,r)))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],OA.prototype,"uniqueValueGroups",null),ji([Cn({type:[sA],json:{read:!1,write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],OA.prototype,"uniqueValueInfos",null),OA=TA=ji([zs(IA)],OA);const PA=OA;const DA={key:"type",base:rM,typeMap:{heatmap:xk,simple:kk,"unique-value":PA,"class-breaks":iF,"dot-density":DF,dictionary:IF,"pie-chart":Mk},errorContext:"renderer"},RA={key:"type",base:rM,typeMap:{simple:kk,"unique-value":PA,"class-breaks":iF,heatmap:xk},errorContext:"renderer"};function NA(e,t){return LA(e,null,t)}const $A=ns({types:DA});function LA(e,t,r){return e?e&&(e.styleName||e.styleUrl)&&"uniqueValue"!==e.type?(r&&r.messages&&r.messages.push(new es("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+e.type+"'",{definition:e,context:r})),null):$A(e,t,r):null}class _A{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(ro),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const t=new _A,r=this._originStores[to.DEFAULTS];r&&r.forEach(((e,r)=>{t.set(r,V(e),to.DEFAULTS)}));for(let r=to.SERVICE;r<ro;r++){const i=this._originStores[r];i&&i.forEach(((i,n)=>{e&&e.has(n)||t.set(n,V(i),r)}))}return t}get(e,t){const r=void 0===t?this._values:this._originStores[t];return r?r.get(e):void 0}keys(e){const t=null==e?this._values:this._originStores[e];return t?[...t.keys()]:[]}set(e,t,r=to.USER){let i=this._originStores[r];if(i||(i=new Map,this._originStores[r]=i),i.set(e,t),!this._values.has(e)||ke(this._propertyOriginMap.get(e))<=r){const i=this._values.get(e);return this._values.set(e,t),this._propertyOriginMap.set(e,r),i!==t}return!1}delete(e,t=to.USER){const r=this._originStores[t];if(!r)return;const i=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===t){this._values.delete(e);for(let r=t-1;r>=0;r--){const t=this._originStores[r];if(t&&t.has(e)){this._values.set(e,t.get(e)),this._propertyOriginMap.set(e,r);break}}}return i}has(e,t){const r=void 0===t?this._values:this._originStores[t];return!!r&&r.has(e)}revert(e,t){for(;t>0&&!this.has(e,t);)--t;const r=this._originStores[t],i=r&&r.get(e),n=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,t),n!==i}originOf(e){return this._propertyOriginMap.get(e)||to.DEFAULTS}forEach(e){this._values.forEach(e)}}const qA=e=>{let t=class extends e{constructor(...e){super(...e);const t=ke(ln(this)),r=t.store,i=new _A;t.store=i,Va(t,r,i)}read(e,t){Ha(this,e,t)}getAtOrigin(e,t){const r=VA(this),i=io(t);if("string"==typeof e)return r.get(e,i);const n={};return e.forEach((e=>{n[e]=r.get(e,i)})),n}originOf(e){return no(this.originIdOf(e))}originIdOf(e){return VA(this).originOf(e)}revert(e,t){const r=VA(this),i=io(t),n=ln(this);let s;s="string"==typeof e?"*"===e?r.keys(i):[e]:e,s.forEach((e=>{n.invalidate(e),r.revert(e,i),n.commit(e)}))}};return t=ji([zs("esri.core.ReadOnlyMultiOriginJSONSupport")],t),t};function VA(e){return ln(e).store}let zA=class extends(qA($a)){};zA=ji([zs("esri.core.ReadOnlyMultiOriginJSONSupport")],zA);const WA=e=>{let t=class extends e{constructor(...e){super(...e)}clear(e,t="user"){return UA(this).delete(e,io(t))}write(e,t){return Xa(this,e=e||{},t),e}setAtOrigin(e,t,r){ln(this).setAtOrigin(e,t,io(r))}removeOrigin(e){const t=UA(this),r=io(e),i=t.keys(r);for(const e of i)t.originOf(e)===r&&t.set(e,t.get(e,r),to.USER)}updateOrigin(e,t){const r=UA(this),i=io(t),n=this.get(e);for(let t=i+1;t<ro;++t)r.delete(e,t);r.set(e,n,i)}toJSON(e){return this.write({},e)}};return t=ji([zs("esri.core.WriteableMultiOriginJSONSupport")],t),t.prototype.toJSON.isDefaultToJSON=!0,t};function UA(e){return ln(e).store}const GA=e=>{let t=class extends(WA(qA(e))){constructor(...e){super(...e)}};return t=ji([zs("esri.core.MultiOriginJSONSupport")],t),t};let BA=class extends(GA($a)){};BA=ji([zs("esri.core.MultiOriginJSONSupport")],BA);async function HA(e,t){const{WhereClause:r}=await import("./p-b8ded059.js").then((function(e){return e.W}));return r.create(e,t)}function JA(e,t){return null!=e?null!=t?`(${e}) AND (${t})`:e:t}var ZA;let QA=ZA=class extends rl{constructor(e){super(e),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new ZA({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};ji([Cn({type:String,json:{write:!0}})],QA.prototype,"expression",void 0),ji([Cn({type:String,json:{write:!0}})],QA.prototype,"name",void 0),ji([Cn({type:["boolean","date","number","string"],json:{write:!0}})],QA.prototype,"returnType",void 0),ji([Cn({type:String,json:{write:!0}})],QA.prototype,"title",void 0),QA=ZA=ji([zs("esri.form.ExpressionInfo")],QA);const KA=QA;let YA=class extends rl{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};ji([Cn({type:String,json:{write:!0}})],YA.prototype,"description",void 0),ji([Cn({type:String,json:{write:!0}})],YA.prototype,"label",void 0),ji([Cn()],YA.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],YA.prototype,"visibilityExpression",void 0),YA=ji([zs("esri.form.elements.Element")],YA);const XA=YA;var eC;let tC=eC=class extends rl{constructor(e){super(e),this.type=null}clone(){return new eC({type:this.type})}};ji([Cn({type:["attachment","audio","document","image","signature","video"],json:{write:!0}})],tC.prototype,"type",void 0),tC=eC=ji([zs("esri.form.elements.inputs.AttachmentInput")],tC);const rC=tC;var iC;let nC=iC=class extends XA{constructor(e){super(e),this.attachmentKeyword=null,this.editable=!0,this.input=null,this.type="attachment"}clone(){return new iC({attachmentKeyword:this.attachmentKeyword,description:this.description,editable:this.editable,input:this.input,label:this.label,visibilityExpression:this.visibilityExpression})}};ji([Cn({type:String,json:{write:!0}})],nC.prototype,"attachmentKeyword",void 0),ji([Cn({type:Boolean,json:{write:!0}})],nC.prototype,"editable",void 0),ji([Cn({type:rC,json:{read:{source:"inputType"},write:{target:"inputType"}}})],nC.prototype,"input",void 0),ji([Cn({type:["attachment"],json:{read:!1,write:!0}})],nC.prototype,"type",void 0),nC=iC=ji([zs("esri.form.elements.AttachmentElement")],nC);const sC=nC;let oC=class extends rl{constructor(e){super(e),this.type=null}};ji([Cn()],oC.prototype,"type",void 0),oC=ji([zs("esri.form.elements.inputs.Input")],oC);const aC=oC;let lC=class extends aC{constructor(e){super(e),this.maxLength=null,this.minLength=0}};ji([Cn({type:Number,json:{write:!0}})],lC.prototype,"maxLength",void 0),ji([Cn({type:Number,json:{write:!0}})],lC.prototype,"minLength",void 0),lC=ji([zs("esri.form.elements.inputs.TextInput")],lC);const uC=lC;var cC;let dC=cC=class extends uC{constructor(e){super(e),this.type="barcode-scanner"}clone(){return new cC({maxLength:this.maxLength,minLength:this.minLength})}};ji([Cn({type:["barcode-scanner"],json:{read:!1,write:!0}})],dC.prototype,"type",void 0),dC=cC=ji([zs("esri.form.elements.inputs.BarcodeScannerInput")],dC);const hC=dC;var fC;let pC=fC=class extends aC{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new fC({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};ji([Cn({type:String,json:{write:!0}})],pC.prototype,"noValueOptionLabel",void 0),ji([Cn({type:Boolean,json:{write:!0}})],pC.prototype,"showNoValueOption",void 0),ji([Cn({type:["combo-box"],json:{read:!1,write:!0}})],pC.prototype,"type",void 0),pC=fC=ji([zs("esri.form.elements.inputs.ComboBoxInput")],pC);const yC=pC;var mC;function vC(e){return null!=e?new Date(e):null}function gC(e){return e?e.getTime():null}let bC=mC=class extends aC{constructor(e){super(e),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(e,t){return vC(t.max)}writeMax(e,t){t.max=gC(e)}readMin(e,t){return vC(t.min)}writeMin(e,t){t.min=gC(e)}clone(){return new mC({includeTime:this.includeTime,max:this.max,min:this.min})}};ji([Cn({type:Boolean,json:{write:!0}})],bC.prototype,"includeTime",void 0),ji([Cn({type:Date,json:{type:Number,write:!0}})],bC.prototype,"max",void 0),ji([il("max")],bC.prototype,"readMax",null),ji([Iu("max")],bC.prototype,"writeMax",null),ji([Cn({type:Date,json:{type:Number,write:!0}})],bC.prototype,"min",void 0),ji([il("min")],bC.prototype,"readMin",null),ji([Iu("min")],bC.prototype,"writeMin",null),ji([Cn({type:["datetime-picker"],json:{read:!1,write:!0}})],bC.prototype,"type",void 0),bC=mC=ji([zs("esri.form.elements.inputs.DateTimePickerInput")],bC);const wC=bC;var SC;let xC=SC=class extends aC{constructor(e){super(e),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new SC({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};ji([Cn({type:String,json:{write:!0}})],xC.prototype,"noValueOptionLabel",void 0),ji([Cn({type:Boolean,json:{write:!0}})],xC.prototype,"showNoValueOption",void 0),ji([Cn({type:["radio-buttons"],json:{read:!1,write:!0}})],xC.prototype,"type",void 0),xC=SC=ji([zs("esri.form.elements.inputs.RadioButtonsInput")],xC);const jC=xC;var TC;let IC=TC=class extends aC{constructor(e){super(e),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new TC({offValue:this.offValue,onValue:this.onValue})}};ji([Cn({type:[String,Number],json:{write:!0}})],IC.prototype,"offValue",void 0),ji([Cn({type:[String,Number],json:{write:!0}})],IC.prototype,"onValue",void 0),ji([Cn({type:["switch"],json:{read:!1,write:!0}})],IC.prototype,"type",void 0),IC=TC=ji([zs("esri.form.elements.inputs.SwitchInput")],IC);const MC=IC;var EC;let FC=EC=class extends uC{constructor(e){super(e),this.type="text-area"}clone(){return new EC({maxLength:this.maxLength,minLength:this.minLength})}};ji([Cn({type:["text-area"],json:{read:!1,write:!0}})],FC.prototype,"type",void 0),FC=EC=ji([zs("esri.form.elements.inputs.TextAreaInput")],FC);const kC=FC;var AC;let CC=AC=class extends uC{constructor(e){super(e),this.type="text-box"}clone(){return new AC({maxLength:this.maxLength,minLength:this.minLength})}};ji([Cn({type:["text-box"],json:{read:!1,write:!0}})],CC.prototype,"type",void 0),CC=AC=ji([zs("esri.form.elements.inputs.TextBoxInput")],CC);const OC=CC;const PC={base:aC,key:"type",typeMap:{"barcode-scanner":hC,"combo-box":yC,"datetime-picker":wC,"radio-buttons":jC,switch:MC,"text-area":kC,"text-box":OC}};var DC;const RC="esri.form.elements.FieldElement",NC=fe.getLogger(RC);let $C=DC=class extends XA{constructor(e){super(e),this.domain=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}get editable(){return $F(NC,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._get("editable")??!0}set editable(e){$F(NC,"editable",{replacement:"editableExpression",version:"4.26",warnOnce:!0}),this._set("editable",e)}clone(){return new DC({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};ji([Cn({types:cI,json:{read:{reader:dI},write:!0}})],$C.prototype,"domain",void 0),ji([Cn({type:Boolean,json:{write:!0}})],$C.prototype,"editable",null),ji([Cn({type:String,json:{write:!0}})],$C.prototype,"editableExpression",void 0),ji([Cn({type:String,json:{write:!0}})],$C.prototype,"fieldName",void 0),ji([Cn({type:String,json:{write:!0}})],$C.prototype,"hint",void 0),ji([Cn({types:PC,json:{read:{source:"inputType"},write:{target:"inputType"}}})],$C.prototype,"input",void 0),ji([Cn({type:String,json:{write:!0}})],$C.prototype,"requiredExpression",void 0),ji([Cn({type:String,json:{read:!1,write:!0}})],$C.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],$C.prototype,"valueExpression",void 0),$C=DC=ji([zs(RC)],$C);const LC=$C;var _C;let qC=_C=class extends XA{constructor(e){super(e),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new _C({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:V(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};ji([Cn({type:Number,json:{write:!0}})],qC.prototype,"displayCount",void 0),ji([Cn({type:["list"],json:{write:!0}})],qC.prototype,"displayType",void 0),ji([Cn({type:String,json:{write:!0}})],qC.prototype,"editableExpression",void 0),ji([Cn({type:[Og],json:{write:!0}})],qC.prototype,"orderByFields",void 0),ji([Cn({type:Number,json:{write:!0}})],qC.prototype,"relationshipId",void 0),ji([Cn({type:["relationship"],json:{read:!1,write:!0}})],qC.prototype,"type",void 0),qC=_C=ji([zs("esri.form.elements.RelationshipElement")],qC);const VC=qC;function zC(e){return{typesWithGroup:{base:XA,key:"type",typeMap:{attachment:sC,field:LC,group:e,relationship:VC}},typesWithoutGroup:{base:XA,key:"type",typeMap:{attachment:sC,field:LC,relationship:VC}}}}function WC(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>i[e.type])).map((e=>i[e.type].fromJSON(e)))}function UC(e,t,r=!0){if(!e)return null;const i=r?t.typesWithGroup.typeMap:t.typesWithoutGroup.typeMap;return e.filter((e=>i[e.type])).map((e=>e.toJSON()))}function GC(e,t,r=!0){return e?e.map((e=>Ki(r?t.typesWithGroup:t.typesWithoutGroup,e))):null}var BC;let HC=BC=class extends XA{constructor(e){super(e),this.elements=null,this.initialState="expanded",this.type="group"}castElements(e){return GC(e,JC,!1)}readElements(e,t){return WC(t.formElements,JC,!1)}writeElements(e,t){t.formElements=UC(e,JC,!1)}clone(){return new BC({description:this.description,elements:V(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};ji([Cn({json:{write:!0}})],HC.prototype,"elements",void 0),ji([Ru("elements")],HC.prototype,"castElements",null),ji([il("elements",["formElements"])],HC.prototype,"readElements",null),ji([Iu("elements")],HC.prototype,"writeElements",null),ji([Cn({type:["collapsed","expanded"],json:{write:!0}})],HC.prototype,"initialState",void 0),ji([Cn({type:String,json:{read:!1,write:!0}})],HC.prototype,"type",void 0),HC=BC=ji([zs("esri.form.elements.GroupElement")],HC);const JC=zC(HC),ZC=HC;var QC;const KC=zC(ZC);let YC=QC=class extends rl{constructor(e){super(e),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(e){return GC(e,KC)}readElements(e,t){return WC(t.formElements,KC)}writeElements(e,t){t.formElements=UC(e,KC)}clone(){return new QC({description:this.description,expressionInfos:V(this.expressionInfos),elements:V(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}};ji([Cn({type:String,json:{write:!0}})],YC.prototype,"description",void 0),ji([Cn({json:{write:!0}})],YC.prototype,"elements",void 0),ji([Ru("elements")],YC.prototype,"castElements",null),ji([il("elements",["formElements"])],YC.prototype,"readElements",null),ji([Iu("elements")],YC.prototype,"writeElements",null),ji([Cn({type:[KA],json:{write:!0}})],YC.prototype,"expressionInfos",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],YC.prototype,"preserveFieldValuesWhenHidden",void 0),ji([Cn({type:String,json:{write:!0}})],YC.prototype,"title",void 0),YC=QC=ji([zs("esri.form.FormTemplate")],YC);const XC=YC;async function eO(e){const t="portalItem"in e?e:{portalItem:e},{fromItem:r}=await import("./p-9fe551f2.js");try{return await r(t)}catch(e){const r=t&&t.portalItem,i=r&&r.id||"unset",n=r&&r.portal&&r.portal.url||ne.portalUrl;throw fe.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+n+"', id: '"+i+"')",e),e}}let tO=0,rO=class extends(ty.EventedMixin(Zg(bx))){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new Rc(-180,-90,180,90,Fu.WGS84),this.id=Date.now().toString(16)+"-layer-"+tO++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Fu.WGS84,this.title=null,this.type=null,this.url=null,this.visible=!0}static async fromArcGISServerUrl(e){const t="string"==typeof e?{url:e}:e;return(await import("./p-6bfe4532.js")).fromUrl(t)}static fromPortalItem(e){return eO(e)}initialize(){this.when().catch((e=>{Pr(e)||fe.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})}))}destroy(){if(this.parent){const e=this,t=this.parent;"layers"in t&&t.layers.includes(e)?t.layers.remove(e):"tables"in t&&t.tables.includes(e)?t.tables.remove(e):"baseLayers"in t&&t.baseLayers.includes(e)?t.baseLayers.remove(e):"baseLayers"in t&&t.referenceLayers.includes(e)&&t.referenceLayers.remove(e)}}get hasAttributionData(){return null!=this.attributionDataUrl}get parsedUrl(){return tt(this.url)}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e){return(await Xr(e,{query:{f:"json"},responseType:"json"})).data}throw new me("layer:no-attribution-data","Layer does not have attribution data")}};ji([Cn({type:String})],rO.prototype,"attributionDataUrl",void 0),ji([Cn({type:Rc})],rO.prototype,"fullExtent",void 0),ji([Cn({readOnly:!0})],rO.prototype,"hasAttributionData",null),ji([Cn({type:String,clonable:!1})],rO.prototype,"id",void 0),ji([Cn({type:Boolean,nonNullable:!0})],rO.prototype,"legendEnabled",void 0),ji([Cn({type:["show","hide","hide-children"]})],rO.prototype,"listMode",void 0),ji([Cn({type:Number,range:{min:0,max:1},nonNullable:!0})],rO.prototype,"opacity",void 0),ji([Cn({clonable:!1})],rO.prototype,"parent",void 0),ji([Cn({readOnly:!0})],rO.prototype,"parsedUrl",null),ji([Cn({type:Boolean})],rO.prototype,"popupEnabled",void 0),ji([Cn({type:Boolean})],rO.prototype,"attributionVisible",void 0),ji([Cn({type:Fu})],rO.prototype,"spatialReference",void 0),ji([Cn({type:String})],rO.prototype,"title",void 0),ji([Cn({readOnly:!0,json:{read:!1}})],rO.prototype,"type",void 0),ji([Cn()],rO.prototype,"url",void 0),ji([Cn({type:Boolean,nonNullable:!0})],rO.prototype,"visible",void 0),rO=ji([zs("esri.layers.Layer")],rO);const iO=rO;let nO=class extends $a{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._handles=new Js,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll(),this._handles.destroy()}add(e,t,r={}){return this._installWatch(e,t,r,Ak)}addWhen(e,t,r={}){return this._installWatch(e,t,r,Ck)}addOnCollectionChange(e,t,{initial:r=!1,final:i=!1}={}){const n=++this._handleId;return this._handles.add([Pk(e,"after-changes",this._createSyncUpdatingCallback(),Lk),Pk(e,"change",t,{onListenerAdd:r?e=>t({added:e.toArray(),removed:[]}):void 0,onListenerRemove:i?e=>t({added:[],removed:e.toArray()}):void 0})],n),an((()=>this._handles.remove(n)))}addPromise(e){if(null==e)return e;const t=++this._handleId;this._handles.add({remove:()=>{this._pendingPromises.delete(e)&&(0!==this._pendingPromises.size||this._handles.has(sO)||this._set("updating",!1))}},t),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this._handles.remove(t);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this._handles.removeAll(),this._set("updating",!1)}_installWatch(e,t,r={},i){const n=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,n);const s=i(e,t,r);return this._handles.add(s,n),an((()=>this._handles.remove(n)))}_installSyncUpdatingWatch(e,t){const r=this._createSyncUpdatingCallback(),i=Ak(e,r,{sync:!0,equals:()=>!1});return this._handles.add(i,t),i}_createSyncUpdatingCallback(){return()=>{this._handles.remove(sO),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this._handles.add(Vo((()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this._handles.remove(sO))})),sO)}}};ji([Cn({readOnly:!0})],nO.prototype,"updating",void 0),nO=ji([zs("esri.core.support.WatchUpdatingTracking")],nO);const sO=-42;const oO=e=>{let t=class extends e{constructor(){super(...arguments),this._handles=new Js,this._updatingHandles=new nO}destroy(){this.destroyed||(this._handles.destroy(),this._updatingHandles.destroy())}get handles(){return this._handles}get updatingHandles(){return this._updatingHandles}};return ji([Cn({readOnly:!0})],t.prototype,"handles",null),ji([Cn({readOnly:!0})],t.prototype,"updatingHandles",null),t=ji([zs("esri.core.HandleOwner")],t),t};let aO=class extends(oO($a)){};aO=ji([zs("esri.core.HandleOwner")],aO);class lO{constructor(e=(e=>e.values().next().value)){this._peeker=e,this._observable=new ny,this._items=new Set}get length(){return Vn(this._observable),this._items.size}clear(){0!==this.length&&(this._items.clear(),this._observable.notify())}last(){if(0===this.length)return;let e;for(e of this._items);return e}peek(){if(0!==this.length)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return Vn(this._observable),this._items.has(e)}pop(){if(0===this.length)return;const e=this.peek();return this._items.delete(ke(e)),this._observable.notify(),e}popLast(){if(0===this.length)return;const e=this.last();return this._items.delete(ke(e)),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const t=this.length;return this._items.forEach((t=>{e(t)||this._items.delete(t)})),t!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){Vn(this._observable),yield*this._items}}const uO={statsWorker:()=>import("./p-1184cc61.js").then((function(e){return e.s})),geometryEngineWorker:()=>import("./p-f4877a63.js"),CSVSourceWorker:()=>import("./p-6d57f196.js"),EdgeProcessingWorker:()=>import("./p-705bc121.js"),ElevationSamplerWorker:()=>import("./p-fec6d1fe.js"),FeatureServiceSnappingSourceWorker:()=>import("./p-684445af.js"),GeoJSONSourceWorker:()=>import("./p-71cc71a3.js"),LercWorker:()=>import("./p-326b46a8.js"),MemorySourceWorker:()=>import("./p-30113678.js"),PBFDecoderWorker:()=>import("./p-bf42f3b8.js"),Pipeline:()=>import("./p-c8a5516b.js"),PointCloudWorker:()=>import("./p-d46c7f0c.js"),RasterWorker:()=>import("./p-90a331b3.js"),SceneLayerSnappingSourceWorker:()=>import("./p-1cc7ac71.js"),SceneLayerWorker:()=>import("./p-e209cab0.js"),WFSSourceWorker:()=>import("./p-d3ffa25a.js"),WorkerTileHandler:()=>import("./p-17365a2d.js")};var cO;!function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.OPEN=1]="OPEN",e[e.OPENED=2]="OPENED",e[e.RESPONSE=3]="RESPONSE",e[e.INVOKE=4]="INVOKE",e[e.ABORT=5]="ABORT",e[e.CLOSE=6]="CLOSE",e[e.OPEN_PORT=7]="OPEN_PORT",e[e.ON=8]="ON"}(cO||(cO={}));let dO=0;function hO(){return dO++}function fO(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}function pO(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function yO(e,r,i,n){if(r.type===cO.OPEN_PORT)return void e.postMessage(r,[r.port]);if(r.type!==cO.INVOKE&&r.type!==cO.RESPONSE)return void e.postMessage(r);let s;if(fO(i)?(s=vO(i.transferList),r.data=i.result):(s=vO(n),r.data=i),s){if(t("ff"))for(const t of s)if("byteLength"in t&&t.byteLength>267386880){const t="Worker call with large ArrayBuffer would crash Firefox";switch(r.type){case cO.INVOKE:throw t;case cO.RESPONSE:return void yO(e,{type:cO.RESPONSE,jobId:r.jobId,error:pO(t)})}}e.postMessage(r,s)}else e.postMessage(r)}function mO(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null}function vO(e){if(!e||!e.length)return null;if(t("esri-workers-arraybuffer-transfer"))return e;const r=e.filter((e=>!gO(e)));return r.length?r:null}function gO(e){return e instanceof ArrayBuffer||"ArrayBuffer"===e?.constructor?.name}const{CLOSE:bO,ABORT:wO,INVOKE:SO,RESPONSE:xO,OPEN_PORT:jO,ON:TO}=cO,IO=2;class MO{constructor(e){this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._invoke=e,this._timer=null,this._process=this._process.bind(this)}push(e){e.type===cO.ABORT?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class EO{static connect(e){const t=new MessageChannel;let r;r="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const i=new EO(t.port1,{channel:t,client:r},(()=>null));return"object"==typeof r&&"remoteClient"in r&&(r.remoteClient=i),EO.clients.set(i,r),t.port2}static loadWorker(e){const t=uO[e];return t?t():Promise.resolve(null)}constructor(e,t,r){this._port=e,this._getNextJob=r,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new MO((e=>this._onInvokeMessage(e))),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:bO}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,r){const i=r?.signal,n=r?.transferList;if(!this._port)return Promise.reject(new me("worker:port-closed",`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:t}));const s=hO();return new Promise(((r,o)=>{if(Er(i))return this._processWork(),void o(Tr());const a=Ar(i,(()=>{const e=this._outJobs.get(s);e&&(this._outJobs.delete(s),this._processWork(),xe(e.abortHandle),this._post({type:wO,jobId:s}),o(Tr()))})),l={resolve:r,reject:o,abortHandle:a,debugInfo:e};this._outJobs.set(s,l),this._post({type:SO,jobId:s,methodName:e,abortable:null!=i},t,n)}))}on(e,t){const r=new MessageChannel;function i(e){t(e.data)}return this._port.postMessage({type:cO.ON,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",i),r.port1.start(),{remove(){r.port1.postMessage({type:cO.CLOSE}),r.port1.close(),r.port1.removeEventListener("message",i)}}}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:jO,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=IO)return;const e=this._getNextJob();if(!e)return;const{methodName:t,data:r,invokeOptions:i,resolver:n}=e;this.invoke(t,r,i).then((e=>n.resolve(e))).catch((e=>n.reject(e)))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach((e=>{xe(e.abortHandle),e.reject(Tr(`Worker closing, aborting job calling '${e.debugInfo}'`))})),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null}_onMessage(e){null!=this._schedule?this._schedule((()=>this._processMessage(e))):this._processMessage(e)}_processMessage(e){const t=mO(e);if(t)switch(t.type){case xO:this._onResponseMessage(t);break;case SO:this._invokeQueue.push(t);break;case wO:this._onAbortMessage(t);break;case bO:this._onCloseMessage();break;case jO:this._onOpenPortMessage(t);break;case TO:this._onOnMessage(t)}}_onAbortMessage(e){const t=this._inJobs,r=e.jobId,i=t.get(r);this._invokeQueue.push(e),i&&(i.controller&&i.controller.abort(),t.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&EO.clients.get(this)===e&&e.destroy(),EO.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:r,data:i,abortable:n}=e,s=n?new AbortController:null,o=this._inJobs;let a,l=this._client,u=l[t];try{if(!u&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)l=l[e[t]],u=l[e[t+1]]}if("function"!=typeof u)throw new TypeError(`${t} is not a function`);a=u.call(l,i,{client:this,signal:s?s.signal:null})}catch(e){return void this._post({type:xO,jobId:r,error:pO(e)})}_r(a)?(o.set(r,{controller:s,promise:a}),a.then((e=>{o.has(r)&&(o.delete(r),this._post({type:xO,jobId:r},e))}),(e=>{o.has(r)&&(o.delete(r),Pr(e)||this._post({type:xO,jobId:r,error:pO(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:xO,jobId:r},a)}_onOpenPortMessage(e){new EO(e.port,{client:this._client},(()=>null))}_onOnMessage(e){const{port:t}=e,r=this._client.on(e.eventType,(e=>{t.postMessage(e)})),i=wr(e.port,"message",(e=>{const n=mO(e);n?.type===cO.CLOSE&&(i.remove(),r.remove(),t.close())}))}_onResponseMessage(e){const{jobId:t,error:r,data:i}=e,n=this._outJobs;if(!n.has(t))return;const s=n.get(t);n.delete(t),this._processWork(),xe(s.abortHandle),r?s.reject(me.fromJSON(JSON.parse(r))):s.resolve(i)}_post(e,t,r){return yO(this._port,e,t,r)}}EO.kernelInfo={buildDate:ur,fullVersion:hr,revision:cr},EO.clients=new Map;class FO{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new lO}destroy(){this.close()}get closed(){return!this._clients||!this._clients.length}open(e,t){return new Promise(((r,i)=>{let n=!0;const s=e=>{Ir(t.signal),n&&(n=!1,e())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let n=0;n<e.length;++n){const o=e[n];_r(o)?this._clientPromises[n]=o.then((e=>(this._clients[n]=new EO(e,t,(()=>this._ongoingJobsQueue.pop()??null)),s(r),this._clients[n])),(()=>(s(i),null))):(this._clients[n]=new EO(o,t,(()=>this._ongoingJobsQueue.pop()??null)),this._clientPromises[n]=Promise.resolve(this._clients[n]),s(r))}}))}broadcast(e,t,r){const i=new Array(this._clientPromises.length);for(let n=0;n<this._clientPromises.length;++n){const s=this._clientPromises[n];i[n]=s.then((i=>i?.invoke(e,t,r)))}return i}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(Tr(`Worker closing, aborting job calling '${e.methodName}'`));for(const e of this._clientPromises)e.then((e=>e?.close()));this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0}invoke(e,t,r){let i;Array.isArray(r)?(fe.getLogger("esri.core.workers.Connection").warn("invoke()","The transferList parameter is deprecated, use the options object instead"),i={transferList:r}):i=r;const n=zr();this._ongoingJobsQueue.push({methodName:e,data:t,invokeOptions:i,resolver:n});for(let e=0;e<this._clientPromises.length;e++){const t=this._clients[e];t?t.jobAdded():this._clientPromises[e].then((e=>e?.jobAdded()))}return n.promise}on(e,t){return Promise.all(this._clientPromises).then((()=>on(this._clients.map((r=>r.on(e,t))))))}openPorts(){return new Promise((e=>{const t=new Array(this._clientPromises.length);let r=t.length;for(let i=0;i<this._clientPromises.length;++i){this._clientPromises[i].then((n=>{n&&(t[i]=n.openPort()),0==--r&&e(t)}))}}))}get test(){return{numClients:this._clients.length}}}const kO=fe.getLogger("esri.assets");function AO(e){if(!ne.assetsPath)throw kO.errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new me("assets:path-not-set","config.assetsPath is not set");return xt(ne.assetsPath,e)}const CO=fe.getLogger("esri.intl.substitute");function OO(e,t,r={}){const{format:i={}}=r;return ae(e,(e=>PO(e,t,i)))}function PO(e,t,r){let i,n;const s=e.indexOf(":");if(-1===s?i=e.trim():(i=e.slice(0,s).trim(),n=e.slice(s+1).trim()),!i)return"";const o=ee(i,t);if(null==o)return"";const a=(n?r?.[n]:null)??r?.[i];return a?DO(o,a):n?RO(o,n):NO(o)}function DO(e,t){switch(t.type){case"date":return Pv(e,t.intlOptions);case"number":return zv(e,t.intlOptions);default:return CO.warn("missing format descriptor for key {key}"),NO(e)}}function RO(e,t){switch(t.toLowerCase()){case"dateformat":return Pv(e);case"numberformat":return zv(e);default:return CO.warn(`inline format is unsupported since 4.12: ${t}`),/^(dateformat|datestring)/i.test(t)?Pv(e):/^numberformat/i.test(t)?zv(e):NO(e)}}function NO(e){switch(typeof e){case"string":return e;case"number":return zv(e);case"boolean":return""+e;default:return e instanceof Date?Pv(e):""}}const $O=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,LO={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function _O(e){return e in LO}const qO=[],VO=new Map;function zO(e){for(const t of VO.keys())HO(e.pattern,t)&&VO.delete(t)}function WO(e){return qO.includes(e)||(zO(e),qO.unshift(e)),{remove(){const t=qO.indexOf(e);t>-1&&(qO.splice(t,1),zO(e))}}}async function UO(e){const t=av();VO.has(e)||VO.set(e,BO(e,t));const r=VO.get(e);return r&&await JO.add(r),r}function GO(e){if(!$O.test(e))return null;const t=$O.exec(e);if(null===t)return null;const[,r,i]=t,n=r+(i?"-"+i.toUpperCase():"");return _O(n)?n:_O(r)?r:null}async function BO(e,t){const r=[];for(const i of qO)if(HO(i.pattern,e))try{return await i.fetchMessageBundle(e,t)}catch(e){r.push(e)}if(r.length)throw new me("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:r});throw new me("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)}function HO(e,t){return"string"==typeof e?t.startsWith(e):e.test(t)}dv((()=>{VO.clear()}));const JO=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(e){return this._increase(),e.then((()=>this._decrease()),(()=>this._decrease())),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=zr())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&0===this._numLoading&&(this._dfd.resolve(),this._dfd=null)}};async function ZO(e,t,r,i){const n=t.exec(r);if(!n)throw new me("esri-intl:invalid-bundle",`Bundle id "${r}" is not compatible with the pattern "${t}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=GO(i),l=`${s}${o}.json`,u=a?`${s}${o}_${a}.json`:l;let c;try{c=await QO(e(u))}catch(t){if(u===l)throw new me("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:t});try{c=await QO(e(l))}catch(e){throw new me("intl:unknown-bundle",`Bundle "${r}" cannot be loaded`,{error:e})}}return c}async function QO(e){if(null!=XO.fetchBundleAsset)return XO.fetchBundleAsset(e);const t=await Xr(e,{responseType:"text"});return JSON.parse(t.data)}class KO{constructor({base:e="",pattern:t,location:r=new URL(window.location.href)}){let i;i="string"==typeof r?e=>new URL(e,new URL(r,window.location.href)).href:r instanceof URL?e=>new URL(e,r).href:r,this.pattern="string"==typeof t?new RegExp(`^${t}`):t,this.getAssetUrl=i,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)/)?(.*)$`)}fetchMessageBundle(e,t){return ZO(this.getAssetUrl,this.matcher,e,t)}}function YO(e){return new KO(e)}const XO={};WO(YO({pattern:"esri/",location:AO}));const eP={};function tP(e){const t={async:e.async,isDebug:e.isDebug,locale:e.locale,baseUrl:e.baseUrl,has:{...e.has},map:{...e.map},packages:e.packages&&e.packages.concat()||[],paths:{...e.paths}};return e.hasOwnProperty("async")||(t.async=!0),e.hasOwnProperty("isDebug")||(t.isDebug=!1),e.baseUrl||(t.baseUrl=eP.baseUrl),t}class rP{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach((t=>{this[t]=(...r)=>e[t](...r)}))}}class iP{constructor(){this._dispatcher=new rP,this._workerPostMessage({type:cO.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){jo((()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))}))}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,t,r){this._dispatcher.addEventListener(e,t,r)}removeEventListener(e,t,r){this._dispatcher.removeEventListener(e,t,r)}_workerPostMessage(e){jo((()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))}))}async _workerMessageHandler(e){const t=mO(e);if(t&&t.type===cO.OPEN){const{modulePath:e,jobId:r}=t;let i=await EO.loadWorker(e);i||(i=await import(e));const n=EO.connect(i);this._workerPostMessage({type:cO.OPENED,jobId:r,data:n})}}}const nP=fe.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:sP}=cO,oP='let globalId=0;const outgoing=new Map,configuration=JSON.parse("{CONFIGURATION}");self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;return new Promise(((r,s)=>{if(t){if(t.aborted)return s(createAbortError());t.addEventListener("abort",(()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:ABORT,jobId:n}),s(createAbortError()))}))}outgoing.set(n,{resolve:r,reject:s}),self.postMessage({type:INVOKE,jobId:n,methodName:e,abortable:null!=t,data:o})}))}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://bit.ly/3QnsuSo.\\nModules version: ${r}\\nAssets version: ${n??s}\\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case OPEN:let n;function t(e){const o=n.connect(e);self.postMessage({type:OPENED,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||new Promise((e=>{require([o.modulePath],e)})))).then(t)})):"System"in self&&"function"==typeof System.import?System.import(workerPath).then((e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath)))).then((e=>e||System.import(o.modulePath))).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then((e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then((e=>e||import(o.modulePath))).then(t)})):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case RESPONSE:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let aP,lP;const uP="Failed to create Worker. Fallback to execute module in main thread";async function cP(){if(!t("esri-workers")||(t("mozilla"),0))return dP(new iP);if(!aP&&!lP)try{const e=oP.split('"{CONFIGURATION}"').join(`'${hP()}'`);aP=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){lP=e||{}}let e;if(aP)try{e=new Worker(aP,{name:"esri-worker-"+fP++})}catch(t){nP.warn(uP,lP),e=new iP}else nP.warn(uP,lP),e=new iP;return dP(e)}async function dP(e){return new Promise((t=>{function r(n){const s=mO(n);s&&s.type===sP&&(e.removeEventListener("message",r),e.removeEventListener("error",i),t(e))}function i(t){t.preventDefault(),e.removeEventListener("message",r),e.removeEventListener("error",i),nP.warn("Failed to create Worker. Fallback to execute module in main thread",t),(e=new iP).addEventListener("message",r),e.addEventListener("error",i)}e.addEventListener("message",r),e.addEventListener("error",i)}))}function hP(){let e;if(null!=ne.default){const t={...ne};delete t.default,e=JSON.parse(JSON.stringify(t))}else e=JSON.parse(JSON.stringify(ne));e.assetsPath=bt(e.assetsPath),e.defaultAssetsPath=e.defaultAssetsPath?bt(e.defaultAssetsPath):void 0,e.request.interceptors=[],e.log.interceptors=[],e.locale=av(),e.has={"esri-csp-restrictions":t("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":t("esri-2d-update-debug"),"esri-2d-log-updating":t("esri-2d-log-updating"),"featurelayer-pbf":t("featurelayer-pbf"),"featurelayer-simplify-thresholds":t("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":t("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":t("featurelayer-simplify-mobile-factor"),"esri-atomics":t("esri-atomics"),"esri-shared-array-buffer":t("esri-shared-array-buffer"),"esri-tiles-debug":t("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":t("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":t("feature-polyline-generalization-factor"),"host-webworker":1,"polylabel-placement-enabled":t("polylabel-placement-enabled")},e.workers.loaderUrl&&(e.workers.loaderUrl=bt(e.workers.loaderUrl)),e.workers.workerPath?e.workers.workerPath=bt(e.workers.workerPath):e.workers.workerPath=bt(AO("esri/core/workers/RemoteClient.js")),e.workers.useDynamicImport=!1;const r=ne.workers.loaderConfig,i=tP({baseUrl:r?.baseUrl,locale:av(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...r?.has},map:{...r?.map},paths:{...r?.paths},packages:r?.packages||[]}),n={buildDate:ur,fullVersion:hr,revision:cr};return JSON.stringify({esriConfig:e,loaderConfig:i,kernelInfo:n})}let fP=0;const{ABORT:pP,INVOKE:yP,OPEN:mP,OPENED:vP,RESPONSE:gP}=cO;class bP{static async create(e){const t=await cP();return new bP(t,e)}constructor(e,t){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=t,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",(e=>{e.preventDefault(),fe.getLogger("esri.core.workers.WorkerOwner").error(e)}))}terminate(){this.worker.terminate()}async open(e,t={}){const{signal:r}=t,i=hO();return new Promise(((t,n)=>{const s={resolve:t,reject:n,abortHandle:Cr(r,(()=>{this._outJobs.delete(i),this._post({type:pP,jobId:i})}))};this._outJobs.set(i,s),this._post({type:mP,jobId:i,modulePath:e})}))}_onMessage(e){const t=mO(e);if(t)switch(t.type){case vP:this._onOpenedMessage(t);break;case gP:this._onResponseMessage(t);break;case pP:this._onAbortMessage(t);break;case yP:this._onInvokeMessage(t)}}_onAbortMessage(e){const t=this._inJobs,r=e.jobId,i=t.get(r);i&&(i.controller&&i.controller.abort(),t.delete(r))}_onInvokeMessage(e){const{methodName:t,jobId:r,data:i,abortable:n}=e,s=n?new AbortController:null,o=this._inJobs,a=fr[t];let l;try{if("function"!=typeof a)throw new TypeError(`${t} is not a function`);l=a.call(null,i,{signal:s?s.signal:null})}catch(e){return void this._post({type:gP,jobId:r,error:pO(e)})}_r(l)?(o.set(r,{controller:s,promise:l}),l.then((e=>{o.has(r)&&(o.delete(r),this._post({type:gP,jobId:r},e))}),(e=>{o.has(r)&&(o.delete(r),e||(e={message:"Error encountered at method"+t}),Pr(e)||this._post({type:gP,jobId:r,error:pO(e||{message:`Error encountered at method ${t}`})}))}))):this._post({type:gP,jobId:r},l)}_onOpenedMessage(e){const{jobId:t,data:r}=e,i=this._outJobs.get(t);i&&(this._outJobs.delete(t),xe(i.abortHandle),i.resolve(r))}_onResponseMessage(e){const{jobId:t,error:r,data:i}=e,n=this._outJobs.get(t);n&&(this._outJobs.delete(t),xe(n.abortHandle),r?n.reject(me.fromJSON(JSON.parse(r))):n.resolve(i))}_post(e,t,r){return yO(this.worker,e,t,r)}}const wP=t("host-browser")?Math.min(navigator.hardwareConcurrency-1,t("workers-pool-size")):0;let SP=t("esri-mobile")?Math.min(wP,3):wP;SP||(SP=t("safari")&&t("mac")?7:2);let xP=0;const jP=[];function TP(){FP()}async function IP(e,t){const r=new FO;return await r.open(e,t),r}async function MP(e,r={}){if("string"!=typeof e)throw new me("workers:undefined-module","modulePath is missing");let i=r.strategy||"distributed";if(t("host-webworker")&&!t("esri-workers")&&(i="local"),"local"===i){let t=await EO.loadWorker(e);t||(t=await import(e)),Ir(r.signal);const i=r.client||t;return IP([EO.connect(t)],{...r,client:i})}if(await FP(),Ir(r.signal),"dedicated"===i){const t=xP++%SP;return IP([await jP[t].open(e,r)],r)}if(r.maxNumWorkers&&r.maxNumWorkers>0){const t=Math.min(r.maxNumWorkers,SP);if(t<SP){const i=new Array(t);for(let n=0;n<t;++n){const t=xP++%SP;i[n]=jP[t].open(e,r)}return IP(i,r)}}return IP(jP.map((t=>t.open(e,r))),r)}let EP=null;async function FP(){if(EP)return EP;new AbortController;const e=[];for(let t=0;t<SP;t++){const r=bP.create(t).then((e=>(jP[t]=e,e)));e.push(r)}return EP=Promise.all(e),EP}function kP(e,t,r){if(null==e.hasM||e.hasZ)for(const e of t)for(const t of e)t.length>2&&(t[2]*=r)}function AP(e,t,r){if(!e&&!t||!r)return;const i=au(r);CP(e,r,i),CP(t,r,i)}function CP(e,t,r){if(e)for(const i of e)OP(i.geometry,t,r)}function OP(e,t,r){if(null==e||!e.spatialReference||bl(e.spatialReference,t))return;const i=au(e.spatialReference)/r;if(1!==i)if("x"in e)null!=e.z&&(e.z*=i);else if("rings"in e)kP(e,e.rings,i);else if("paths"in e)kP(e,e.paths,i);else if("points"in e&&(null==e.hasM||e.hasZ))for(const t of e.points)t.length>2&&(t[2]*=i)}function PP(e,t,r){if(null==t||null==r||r.vcsWkid||bl(t,r))return null;const i=au(t)/au(r);if(1===i)return null;switch(e){case"point":case"esriGeometryPoint":return e=>DP(e,i);case"polyline":case"esriGeometryPolyline":return e=>NP(e,i);case"polygon":case"esriGeometryPolygon":return e=>RP(e,i);case"multipoint":case"esriGeometryMultipoint":return e=>$P(e,i);case"extent":case"esriGeometryEnvelope":return e=>LP(e,i);default:return null}}function DP(e,t){e&&null!=e.z&&(e.z*=t)}function RP(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}function NP(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}function $P(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}function LP(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}function _P(e,t,r){if(!r||!r.features||!r.hasZ)return;const i=PP(r.geometryType,t,e.outSpatialReference);if(null!=i)for(const e of r.features)i(e.geometry)}let qP=0;const VP="esri.layers.graphics.sources.MemorySource",zP=fe.getLogger(VP);let WP=class extends(bx.LoadableMixin(dx(oO(by)))){constructor(e){super(e),this._idToClientGraphic=null,this.type="memory"}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);_P(e,this.layer.spatialReference,r);const i=wI.fromJSON(r);if(!this._requiresClientGraphicMapping())return i;const n=this.layer.objectIdField;for(const e of i.features){const t=e.attributes[n],r=this._idToClientGraphic.get(t);r&&(e.geometry=r.geometry)}return i.geometryType=this.layer.geometryType,i}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new me("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(t);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,t);return _P(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:Rc.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async _applyEdits(e){if(!this._connection)throw new me("feature-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField;let r=null;const i=[],n=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const s=e=>"objectId"in e&&null!=e.objectId?e.objectId:"attributes"in e&&null!=e.attributes[t]?e.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const t of e.deleteFeatures){const e=s(t);null!=e&&i.push(e)}const o=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures)for(const t of e.updateFeatures)if(n.push(this._serializeFeature(t)),o){const e=s(t);null!=e&&o.set(e,t)}AP(r?r.features:null,n,this.layer.spatialReference);const{fullExtent:a,featureEditResults:l}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:n,deletes:i});return this.fullExtent=a,r&&r.finish(l.uidToObjectId),this._updateClientGraphicIds(o,l),this._createEditsResult(l)}async _prepareClientMapping(e,t){if("mesh"!==this._layerOrSourceGeometryType||null==e)return;const r=[];for(const{geometry:i}of e)null==i||"mesh"!==i.type||i.hasExtent||i.loaded||r.push(i.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const t=e.get(r.objectId);null!=t&&this._addIdToClientGraphic(t)}for(const e of t.deleteResults)e.success&&this._idToClientGraphic.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new me("feature-layer-source:edit-failure",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let i=null;for(let n=0;n<e.length;n++){const s=e[n],o=this._serializeFeature(s);i||null==s.geometry||(i=s.geometry.type),r[n]=o,t.set(`${o.uid}`,s)}const n=this;return{features:r,inferredGeometryType:i,finish(e){const r=n.sourceJSON.objectIdField;for(const i in e){const s=e[i],o=t.get(i);o&&(o.attributes||(o.attributes={}),-1===s?delete o.attributes[r]:o.attributes[r]=s,n._addIdToClientGraphic(o))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes&&e.attributes[t];null!=r&&this._idToClientGraphic.set(r,e)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return"mesh"===e||"multipatch"===e||"extent"===e}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),i=(qP++).toString();return r?{uid:i,geometry:r.toJSON(),attributes:t}:{uid:i,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;if(null==t)return null;if(this._geometryRequiresClientGraphicMapping(t)){return t.extent?Rp.fromExtent(t.extent):null}return t}async _startWorker(e){this._connection=await MP("MemorySourceWorker",{strategy:t("feature-layers-workers")?"dedicated":"local",signal:e});const{fields:r,spatialReference:i,objectIdField:n,hasM:s,hasZ:o,timeInfo:a}=this.layer,l="defaults"===this.layer.originOf("spatialReference");await this._prepareClientMapping(this.items,e);const u=this._prepareAddFeatures(this.items);this.handles.add(this.on("before-changes",(e=>{zP.error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),e.preventDefault()})));const c={features:u.features,fields:r&&r.map((e=>e.toJSON())),geometryType:Vp.toJSON(this._workerGeometryType),hasM:"mesh"!==this._layerOrSourceGeometryType&&s,hasZ:"mesh"===this._layerOrSourceGeometryType||o,objectIdField:n,spatialReference:l?null:i&&i.toJSON(),timeInfo:a?a.toJSON():null},d=await this._connection.invoke("load",c,{signal:e});for(const e of d.warnings)zP.warn(e.message,{layer:this.layer,warning:e});d.featureErrors.length&&zP.warn(`Encountered ${d.featureErrors.length} validation errors while loading features`,d.featureErrors);const h=d.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(u.inferredGeometryType)&&(h.geometryType=Vp.toJSON(u.inferredGeometryType)),this.sourceJSON=h,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),u.finish(d.assignedObjectIds)}};ji([iy({Type:ZT,ensureType:Wi(ZT)})],WP.prototype,"itemType",void 0),ji([Cn()],WP.prototype,"type",void 0),ji([Cn({constructOnly:!0})],WP.prototype,"layer",void 0),ji([Cn({readOnly:!0})],WP.prototype,"_workerGeometryType",null),ji([Cn()],WP.prototype,"sourceJSON",void 0),WP=ji([zs(VP)],WP);function UP(e){return"portalItem"in e}const GP=e=>{let t=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):UP(this)?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return ji([Cn({type:String})],t.prototype,"apiKey",null),t=ji([zs("esri.layers.mixins.APIKeyMixin")],t),t};const BP={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer"},HP=Object.values(BP),JP=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${HP.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),ZP=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^\\/\\n]+)\\/(${HP.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),QP=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function KP(e){return!!JP.test(e)}function YP(e){if(null==e)return null;const t=tt(e),r=t.path.match(JP)||t.path.match(ZP);if(!r)return null;const[,i,n,s,o]=r,a=n.indexOf("/");return{title:eD(-1!==a?n.slice(a+1):n),serverType:BP[s.toLowerCase()],sublayer:null!=o&&""!==o?parseInt(o,10):null,url:{path:i}}}function XP(e){const t=tt(e).path.match(QP);return t?{serviceUrl:t[1],sublayerId:Number(t[2])}:null}function eD(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}function tD(e,t){const r=[];if(e){const t=YP(e);null!=t&&t.title&&r.push(t.title)}if(t){const e=eD(t);r.push(e)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")}function rD(e){if(!e)return!1;const t=".arcgis.com/",r="//services",i="//tiles",n="//features",s=(e=e.toLowerCase()).includes(t),o=e.includes(r)||e.includes(i)||e.includes(n);return s&&o}function iD(e,t){return e?Jt(tr(e,t)):e}function nD(e){let{url:t}=e;if(!t)return{url:t};t=tr(t,e.logger);const r=tt(t),i=YP(r.path);let n;if(null!=i)null!=i.sublayer&&null==e.layer.layerId&&(n=i.sublayer),t=i.url.path;else if(e.nonStandardUrlAllowed){const e=XP(r.path);null!=e&&(t=e.serviceUrl,n=e.sublayerId)}return{url:Jt(t),layerId:n}}function sD(e,t,r,i,n){NS(t,i,"url",n),i.url&&null!=e.layerId&&(i.url=xt(i.url,r,e.layerId.toString()))}function oD(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),i=t.includes("/mapserver/wmsserver"),n=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(i||n||s)}const aD=e=>{let t=class extends e{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const e=YP(this.url);if(null!=e&&e.title)return e.title}return this._get("title")||""}set title(e){this._set("title",e)}set url(e){this._set("url",iD(e,fe.getLogger(this)))}};return ji([Cn()],t.prototype,"title",null),ji([Cn({type:String})],t.prototype,"url",null),t=ji([zs("esri.layers.mixins.ArcGISService")],t),t};function lD(){const e=new Float32Array(16);return e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function uD(e){const t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function cD(e,t,r,i,n,s,o,a,l,u,c,d,h,f,p,y){const m=new Float32Array(16);return m[0]=e,m[1]=t,m[2]=r,m[3]=i,m[4]=n,m[5]=s,m[6]=o,m[7]=a,m[8]=l,m[9]=u,m[10]=c,m[11]=d,m[12]=h,m[13]=f,m[14]=p,m[15]=y,m}function dD(e,t){return new Float32Array(e,t,16)}const hD=lD();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:hD,clone:uD,create:lD,createView:dD,fromValues:cD},Symbol.toStringTag,{value:"Module"}));function fD(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function pD(e,t,r,i,n,s,o,a,l,u,c,d,h,f,p,y,m){return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e[4]=s,e[5]=o,e[6]=a,e[7]=l,e[8]=u,e[9]=c,e[10]=d,e[11]=h,e[12]=f,e[13]=p,e[14]=y,e[15]=m,e}function yD(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mD(e,t){if(e===t){const r=t[1],i=t[2],n=t[3],s=t[6],o=t[7],a=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=i,e[9]=s,e[11]=t[14],e[12]=n,e[13]=o,e[14]=a}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function vD(e,t){return gD(e,t)||yD(e),e}function gD(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],y=t[13],m=t[14],v=t[15],g=r*a-i*o,b=r*l-n*o,w=r*u-s*o,S=i*l-n*a,x=i*u-s*a,j=n*u-s*l,T=c*y-d*p,I=c*m-h*p,M=c*v-f*p,E=d*m-h*y,F=d*v-f*y,k=h*v-f*m;let A=g*k-b*F+w*E+S*M-x*I+j*T;return A?(A=1/A,e[0]=(a*k-l*F+u*E)*A,e[1]=(n*F-i*k-s*E)*A,e[2]=(y*j-m*x+v*S)*A,e[3]=(h*x-d*j-f*S)*A,e[4]=(l*M-o*k-u*I)*A,e[5]=(r*k-n*M+s*I)*A,e[6]=(m*w-p*j-v*b)*A,e[7]=(c*j-h*w+f*b)*A,e[8]=(o*F-a*M+u*T)*A,e[9]=(i*M-r*F-s*T)*A,e[10]=(p*x-y*w+v*g)*A,e[11]=(d*w-c*x-f*g)*A,e[12]=(a*I-o*E-l*T)*A,e[13]=(r*E-i*I+n*T)*A,e[14]=(y*b-p*S-m*g)*A,e[15]=(c*S-d*b+h*g)*A,e):null}function bD(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],u=t[7],c=t[8],d=t[9],h=t[10],f=t[11],p=t[12],y=t[13],m=t[14],v=t[15];return e[0]=a*(h*v-f*m)-d*(l*v-u*m)+y*(l*f-u*h),e[1]=-(i*(h*v-f*m)-d*(n*v-s*m)+y*(n*f-s*h)),e[2]=i*(l*v-u*m)-a*(n*v-s*m)+y*(n*u-s*l),e[3]=-(i*(l*f-u*h)-a*(n*f-s*h)+d*(n*u-s*l)),e[4]=-(o*(h*v-f*m)-c*(l*v-u*m)+p*(l*f-u*h)),e[5]=r*(h*v-f*m)-c*(n*v-s*m)+p*(n*f-s*h),e[6]=-(r*(l*v-u*m)-o*(n*v-s*m)+p*(n*u-s*l)),e[7]=r*(l*f-u*h)-o*(n*f-s*h)+c*(n*u-s*l),e[8]=o*(d*v-f*y)-c*(a*v-u*y)+p*(a*f-u*d),e[9]=-(r*(d*v-f*y)-c*(i*v-s*y)+p*(i*f-s*d)),e[10]=r*(a*v-u*y)-o*(i*v-s*y)+p*(i*u-s*a),e[11]=-(r*(a*f-u*d)-o*(i*f-s*d)+c*(i*u-s*a)),e[12]=-(o*(d*m-h*y)-c*(a*m-l*y)+p*(a*h-l*d)),e[13]=r*(d*m-h*y)-c*(i*m-n*y)+p*(i*h-n*d),e[14]=-(r*(a*m-l*y)-o*(i*m-n*y)+p*(i*l-n*a)),e[15]=r*(a*h-l*d)-o*(i*h-n*d)+c*(i*l-n*a),e}function wD(e){const t=e[0],r=e[1],i=e[2],n=e[3],s=e[4],o=e[5],a=e[6],l=e[7],u=e[8],c=e[9],d=e[10],h=e[11],f=e[12],p=e[13],y=e[14],m=e[15];return(t*o-r*s)*(d*m-h*y)-(t*a-i*s)*(c*m-h*p)+(t*l-n*s)*(c*y-d*p)+(r*a-i*o)*(u*m-h*f)-(r*l-n*o)*(u*y-d*f)+(i*l-n*a)*(u*p-c*f)}function SD(e,t,r){const i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],d=t[8],h=t[9],f=t[10],p=t[11],y=t[12],m=t[13],v=t[14],g=t[15];let b=r[0],w=r[1],S=r[2],x=r[3];return e[0]=b*i+w*a+S*d+x*y,e[1]=b*n+w*l+S*h+x*m,e[2]=b*s+w*u+S*f+x*v,e[3]=b*o+w*c+S*p+x*g,b=r[4],w=r[5],S=r[6],x=r[7],e[4]=b*i+w*a+S*d+x*y,e[5]=b*n+w*l+S*h+x*m,e[6]=b*s+w*u+S*f+x*v,e[7]=b*o+w*c+S*p+x*g,b=r[8],w=r[9],S=r[10],x=r[11],e[8]=b*i+w*a+S*d+x*y,e[9]=b*n+w*l+S*h+x*m,e[10]=b*s+w*u+S*f+x*v,e[11]=b*o+w*c+S*p+x*g,b=r[12],w=r[13],S=r[14],x=r[15],e[12]=b*i+w*a+S*d+x*y,e[13]=b*n+w*l+S*h+x*m,e[14]=b*s+w*u+S*f+x*v,e[15]=b*o+w*c+S*p+x*g,e}function xD(e,t,r){const i=r[0],n=r[1],s=r[2];if(t===e)e[12]=t[0]*i+t[4]*n+t[8]*s+t[12],e[13]=t[1]*i+t[5]*n+t[9]*s+t[13],e[14]=t[2]*i+t[6]*n+t[10]*s+t[14],e[15]=t[3]*i+t[7]*n+t[11]*s+t[15];else{const r=t[0],o=t[1],a=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7],f=t[8],p=t[9],y=t[10],m=t[11];e[0]=r,e[1]=o,e[2]=a,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=y,e[11]=m,e[12]=r*i+u*n+f*s+t[12],e[13]=o*i+c*n+p*s+t[13],e[14]=a*i+d*n+y*s+t[14],e[15]=l*i+h*n+m*s+t[15]}return e}function jD(e,t,r){const i=r[0],n=r[1],s=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function TD(e,t,r,i){let n,s,o,a,l,u,c,d,h,f,p,y,m,v,g,b,w,S,x,j,T,I,M,E,F=i[0],k=i[1],A=i[2],C=Math.sqrt(F*F+k*k+A*A);return C<kd()?null:(C=1/C,F*=C,k*=C,A*=C,n=Math.sin(r),s=Math.cos(r),o=1-s,a=t[0],l=t[1],u=t[2],c=t[3],d=t[4],h=t[5],f=t[6],p=t[7],y=t[8],m=t[9],v=t[10],g=t[11],b=F*F*o+s,w=k*F*o+A*n,S=A*F*o-k*n,x=F*k*o-A*n,j=k*k*o+s,T=A*k*o+F*n,I=F*A*o+k*n,M=k*A*o-F*n,E=A*A*o+s,e[0]=a*b+d*w+y*S,e[1]=l*b+h*w+m*S,e[2]=u*b+f*w+v*S,e[3]=c*b+p*w+g*S,e[4]=a*x+d*j+y*T,e[5]=l*x+h*j+m*T,e[6]=u*x+f*j+v*T,e[7]=c*x+p*j+g*T,e[8]=a*I+d*M+y*E,e[9]=l*I+h*M+m*E,e[10]=u*I+f*M+v*E,e[11]=c*I+p*M+g*E,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ID(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*n+u*i,e[5]=o*n+c*i,e[6]=a*n+d*i,e[7]=l*n+h*i,e[8]=u*n-s*i,e[9]=c*n-o*i,e[10]=d*n-a*i,e[11]=h*n-l*i,e}function MD(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[8],c=t[9],d=t[10],h=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n-u*i,e[1]=o*n-c*i,e[2]=a*n-d*i,e[3]=l*n-h*i,e[8]=s*i+u*n,e[9]=o*i+c*n,e[10]=a*i+d*n,e[11]=l*i+h*n,e}function ED(e,t,r){const i=Math.sin(r),n=Math.cos(r),s=t[0],o=t[1],a=t[2],l=t[3],u=t[4],c=t[5],d=t[6],h=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*n+u*i,e[1]=o*n+c*i,e[2]=a*n+d*i,e[3]=l*n+h*i,e[4]=u*n-s*i,e[5]=c*n-o*i,e[6]=d*n-a*i,e[7]=h*n-l*i,e}function FD(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function kD(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function AD(e,t,r){if(0===t)return yD(e);let i,n,s,o=r[0],a=r[1],l=r[2],u=Math.sqrt(o*o+a*a+l*l);return u<kd()?null:(u=1/u,o*=u,a*=u,l*=u,i=Math.sin(t),n=Math.cos(t),s=1-n,e[0]=o*o*s+n,e[1]=a*o*s+l*i,e[2]=l*o*s-a*i,e[3]=0,e[4]=o*a*s-l*i,e[5]=a*a*s+n,e[6]=l*a*s+o*i,e[7]=0,e[8]=o*l*s+a*i,e[9]=a*l*s-o*i,e[10]=l*l*s+n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function CD(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=i,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function OD(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function PD(e,t){const r=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=i,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function DD(e,t,r){const i=t[0],n=t[1],s=t[2],o=t[3],a=i+i,l=n+n,u=s+s,c=i*a,d=i*l,h=i*u,f=n*l,p=n*u,y=s*u,m=o*a,v=o*l,g=o*u;return e[0]=1-(f+y),e[1]=d+g,e[2]=h-v,e[3]=0,e[4]=d-g,e[5]=1-(c+y),e[6]=p+m,e[7]=0,e[8]=h+v,e[9]=p-m,e[10]=1-(c+f),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function RD(e,t){const r=ND,i=-t[0],n=-t[1],s=-t[2],o=t[3],a=t[4],l=t[5],u=t[6],c=t[7],d=i*i+n*n+s*s+o*o;return d>0?(r[0]=2*(a*o+c*i+l*s-u*n)/d,r[1]=2*(l*o+c*n+u*i-a*s)/d,r[2]=2*(u*o+c*s+a*n-l*i)/d):(r[0]=2*(a*o+c*i+l*s-u*n),r[1]=2*(l*o+c*n+u*i-a*s),r[2]=2*(u*o+c*s+a*n-l*i)),DD(e,t,r),e}const ND=fd();function $D(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function LD(e,t){const r=t[0],i=t[1],n=t[2],s=t[4],o=t[5],a=t[6],l=t[8],u=t[9],c=t[10];return e[0]=Math.sqrt(r*r+i*i+n*n),e[1]=Math.sqrt(s*s+o*o+a*a),e[2]=Math.sqrt(l*l+u*u+c*c),e}function _D(e,t){const r=t[0]+t[5]+t[10];let i=0;return r>0?(i=2*Math.sqrt(r+1),e[3]=.25*i,e[0]=(t[6]-t[9])/i,e[1]=(t[8]-t[2])/i,e[2]=(t[1]-t[4])/i):t[0]>t[5]&&t[0]>t[10]?(i=2*Math.sqrt(1+t[0]-t[5]-t[10]),e[3]=(t[6]-t[9])/i,e[0]=.25*i,e[1]=(t[1]+t[4])/i,e[2]=(t[8]+t[2])/i):t[5]>t[10]?(i=2*Math.sqrt(1+t[5]-t[0]-t[10]),e[3]=(t[8]-t[2])/i,e[0]=(t[1]+t[4])/i,e[1]=.25*i,e[2]=(t[6]+t[9])/i):(i=2*Math.sqrt(1+t[10]-t[0]-t[5]),e[3]=(t[1]-t[4])/i,e[0]=(t[8]+t[2])/i,e[1]=(t[6]+t[9])/i,e[2]=.25*i),e}function qD(e,t,r,i){const n=t[0],s=t[1],o=t[2],a=t[3],l=n+n,u=s+s,c=o+o,d=n*l,h=n*u,f=n*c,p=s*u,y=s*c,m=o*c,v=a*l,g=a*u,b=a*c,w=i[0],S=i[1],x=i[2];return e[0]=(1-(p+m))*w,e[1]=(h+b)*w,e[2]=(f-g)*w,e[3]=0,e[4]=(h-b)*S,e[5]=(1-(d+m))*S,e[6]=(y+v)*S,e[7]=0,e[8]=(f+g)*x,e[9]=(y-v)*x,e[10]=(1-(d+p))*x,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function VD(e,t,r,i,n){const s=t[0],o=t[1],a=t[2],l=t[3],u=s+s,c=o+o,d=a+a,h=s*u,f=s*c,p=s*d,y=o*c,m=o*d,v=a*d,g=l*u,b=l*c,w=l*d,S=i[0],x=i[1],j=i[2],T=n[0],I=n[1],M=n[2],E=(1-(y+v))*S,F=(f+w)*S,k=(p-b)*S,A=(f-w)*x,C=(1-(h+v))*x,O=(m+g)*x,P=(p+b)*j,D=(m-g)*j,R=(1-(h+y))*j;return e[0]=E,e[1]=F,e[2]=k,e[3]=0,e[4]=A,e[5]=C,e[6]=O,e[7]=0,e[8]=P,e[9]=D,e[10]=R,e[11]=0,e[12]=r[0]+T-(E*T+A*I+P*M),e[13]=r[1]+I-(F*T+C*I+D*M),e[14]=r[2]+M-(k*T+O*I+R*M),e[15]=1,e}function zD(e,t){const r=t[0],i=t[1],n=t[2],s=t[3],o=r+r,a=i+i,l=n+n,u=r*o,c=i*o,d=i*a,h=n*o,f=n*a,p=n*l,y=s*o,m=s*a,v=s*l;return e[0]=1-d-p,e[1]=c+v,e[2]=h-m,e[3]=0,e[4]=c-v,e[5]=1-u-p,e[6]=f+y,e[7]=0,e[8]=h+m,e[9]=f-y,e[10]=1-u-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function WD(e,t,r,i,n,s,o){const a=1/(r-t),l=1/(n-i),u=1/(s-o);return e[0]=2*s*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*s*l,e[6]=0,e[7]=0,e[8]=(r+t)*a,e[9]=(n+i)*l,e[10]=(o+s)*u,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*s*2*u,e[15]=0,e}function UD(e,t,r,i,n){const s=1/Math.tan(t/2);let o;return e[0]=s/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=n&&n!==1/0?(o=1/(i-n),e[10]=(n+i)*o,e[14]=2*n*i*o):(e[10]=-1,e[14]=-2*i),e}function GD(e,t,r,i){const n=Math.tan(t.upDegrees*Math.PI/180),s=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),a=Math.tan(t.rightDegrees*Math.PI/180),l=2/(o+a),u=2/(n+s);return e[0]=l,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=u,e[6]=0,e[7]=0,e[8]=-(o-a)*l*.5,e[9]=(n-s)*u*.5,e[10]=i/(r-i),e[11]=-1,e[12]=0,e[13]=0,e[14]=i*r/(r-i),e[15]=0,e}function BD(e,t,r,i,n,s,o){const a=1/(t-r),l=1/(i-n),u=1/(s-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+r)*a,e[13]=(n+i)*l,e[14]=(o+s)*u,e[15]=1,e}function HD(e,t,r,i){const n=t[0],s=t[1],o=t[2];let a=n-r[0],l=s-r[1],u=o-r[2];const c=kd();if(Math.abs(a)<c&&Math.abs(l)<c&&Math.abs(u)<c)return void yD(e);let d=1/Math.sqrt(a*a+l*l+u*u);a*=d,l*=d,u*=d;const h=i[0],f=i[1],p=i[2];let y=f*u-p*l,m=p*a-h*u,v=h*l-f*a;d=Math.sqrt(y*y+m*m+v*v),d?(d=1/d,y*=d,m*=d,v*=d):(y=0,m=0,v=0);let g=l*v-u*m,b=u*y-a*v,w=a*m-l*y;d=Math.sqrt(g*g+b*b+w*w),d?(d=1/d,g*=d,b*=d,w*=d):(g=0,b=0,w=0),e[0]=y,e[1]=g,e[2]=a,e[3]=0,e[4]=m,e[5]=b,e[6]=l,e[7]=0,e[8]=v,e[9]=w,e[10]=u,e[11]=0,e[12]=-(y*n+m*s+v*o),e[13]=-(g*n+b*s+w*o),e[14]=-(a*n+l*s+u*o),e[15]=1}function JD(e,t,r,i){const n=t[0],s=t[1],o=t[2],a=i[0],l=i[1],u=i[2];let c=n-r[0],d=s-r[1],h=o-r[2],f=c*c+d*d+h*h;f>0&&(f=1/Math.sqrt(f),c*=f,d*=f,h*=f);let p=l*h-u*d,y=u*c-a*h,m=a*d-l*c;return f=p*p+y*y+m*m,f>0&&(f=1/Math.sqrt(f),p*=f,y*=f,m*=f),e[0]=p,e[1]=y,e[2]=m,e[3]=0,e[4]=d*m-h*y,e[5]=h*p-c*m,e[6]=c*y-d*p,e[7]=0,e[8]=c,e[9]=d,e[10]=h,e[11]=0,e[12]=n,e[13]=s,e[14]=o,e[15]=1,e}function ZD(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function QD(e){return Math.sqrt(e[0]**2+e[1]**2+e[2]**2+e[3]**2+e[4]**2+e[5]**2+e[6]**2+e[7]**2+e[8]**2+e[9]**2+e[10]**2+e[11]**2+e[12]**2+e[13]**2+e[14]**2+e[15]**2)}function KD(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function YD(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function XD(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function eR(e,t,r,i){return e[0]=t[0]+r[0]*i,e[1]=t[1]+r[1]*i,e[2]=t[2]+r[2]*i,e[3]=t[3]+r[3]*i,e[4]=t[4]+r[4]*i,e[5]=t[5]+r[5]*i,e[6]=t[6]+r[6]*i,e[7]=t[7]+r[7]*i,e[8]=t[8]+r[8]*i,e[9]=t[9]+r[9]*i,e[10]=t[10]+r[10]*i,e[11]=t[11]+r[11]*i,e[12]=t[12]+r[12]*i,e[13]=t[13]+r[13]*i,e[14]=t[14]+r[14]*i,e[15]=t[15]+r[15]*i,e}function tR(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function rR(e,t){if(e===t)return!0;const r=e[0],i=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],c=e[8],d=e[9],h=e[10],f=e[11],p=e[12],y=e[13],m=e[14],v=e[15],g=t[0],b=t[1],w=t[2],S=t[3],x=t[4],j=t[5],T=t[6],I=t[7],M=t[8],E=t[9],F=t[10],k=t[11],A=t[12],C=t[13],O=t[14],P=t[15],D=kd();return Math.abs(r-g)<=D*Math.max(1,Math.abs(r),Math.abs(g))&&Math.abs(i-b)<=D*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(n-w)<=D*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(s-S)<=D*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(o-x)<=D*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-j)<=D*Math.max(1,Math.abs(a),Math.abs(j))&&Math.abs(l-T)<=D*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-I)<=D*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(c-M)<=D*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(d-E)<=D*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(h-F)<=D*Math.max(1,Math.abs(h),Math.abs(F))&&Math.abs(f-k)<=D*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(p-A)<=D*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(y-C)<=D*Math.max(1,Math.abs(y),Math.abs(C))&&Math.abs(m-O)<=D*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(v-P)<=D*Math.max(1,Math.abs(v),Math.abs(P))}function iR(e){const t=kd(),r=e[0],i=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],u=e[9],c=e[10];return Math.abs(1-(r*r+s*s+l*l))<=t&&Math.abs(1-(i*i+o*o+u*u))<=t&&Math.abs(1-(n*n+a*a+c*c))<=t}function nR(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[8]&&0===e[9]&&1===e[10]}const sR=SD,oR=YD;Object.freeze(Object.defineProperty({__proto__:null,add:KD,adjoint:bD,copy:fD,determinant:wD,equals:rR,exactEquals:tR,frob:QD,fromQuat:zD,fromQuat2:RD,fromRotation:AD,fromRotationTranslation:DD,fromRotationTranslationScale:qD,fromRotationTranslationScaleOrigin:VD,fromScaling:kD,fromTranslation:FD,fromXRotation:CD,fromYRotation:OD,fromZRotation:PD,frustum:WD,getRotation:_D,getScaling:LD,getTranslation:$D,hasIdentityRotation:nR,identity:yD,invert:gD,invertOrIdentity:vD,isOrthoNormal:iR,lookAt:HD,mul:sR,multiply:SD,multiplyScalar:XD,multiplyScalarAndAdd:eR,ortho:BD,perspective:UD,perspectiveFromFieldOfView:GD,rotate:TD,rotateX:ID,rotateY:MD,rotateZ:ED,scale:jD,set:pD,str:ZD,sub:oR,subtract:YD,targetTo:JD,translate:xD,transpose:mD},Symbol.toStringTag,{value:"Module"}));const aR=(e,t)=>{const r=pD(e,t,0,0,0,0,t,0,0,0,0,t,0,0,0,0,1);return mD(r,r)},lR=(e,t)=>{const r=pD(e,t,0,0,.5-.5*t,0,t,0,.5-.5*t,0,0,t,.5-.5*t,0,0,0,1);return mD(r,r)},uR=(e,t)=>{const r=1-t,i=pD(e,.2126+.7874*r,.7152-.7152*r,.0722-.0722*r,0,.2126-.2126*r,.7152+.2848*r,.0722-.0722*r,0,.2126-.2126*r,.7152-.7152*r,.0722+.9278*r,0,0,0,0,1);return mD(i,i)},cR=(e,t)=>{const r=Math.sin(t*Math.PI/180),i=Math.cos(t*Math.PI/180),n=pD(e,.213+.787*i-.213*r,.715-.715*i-.715*r,.072-.072*i+.928*r,0,.213-.213*i+.143*r,.715+.285*i+.14*r,.072-.072*i-.283*r,0,.213-.213*i-.787*r,.715-.715*i+.715*r,.072+.928*i+.072*r,0,0,0,0,1);return mD(n,n)},dR=(e,t)=>{const r=1-2*t,i=pD(e,r,0,0,t,0,r,0,t,0,0,r,t,0,0,0,1);return mD(i,i)},hR=(e,t)=>{const r=pD(e,.213+.787*t,.715-.715*t,.072-.072*t,0,.213-.213*t,.715+.285*t,.072-.072*t,0,.213-.213*t,.715-.715*t,.072+.928*t,0,0,0,0,1);return mD(r,r)},fR=(e,t)=>{const r=1-t,i=pD(e,.393+.607*r,.769-.769*r,.189-.189*r,0,.349-.349*r,.686+.314*r,.168-.168*r,0,.272-.272*r,.534-.534*r,.131+.869*r,0,0,0,0,1);return mD(i,i)};class pR{constructor(e,t,r){this.strength=e,this.radius=t,this.threshold=r,this.type="bloom"}interpolate(e,t,r){this.strength=wR(e.strength,t.strength,r),this.radius=wR(e.radius,t.radius,r),this.threshold=wR(e.threshold,t.threshold,r)}clone(){return new pR(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:SR(this.radius),strength:this.strength,threshold:this.threshold}}}class yR{constructor(e){this.radius=e,this.type="blur"}interpolate(e,t,r){this.radius=Math.round(wR(e.radius,t.radius,r))}clone(){return new yR(this.radius)}toJSON(){return{type:"blur",radius:SR(this.radius)}}}class mR{constructor(e,t){this.type=e,this.amount=t,"invert"!==this.type&&"grayscale"!==this.type&&"sepia"!==this.type||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.amount=wR(e.amount,t.amount,r),this._updateMatrix()}clone(){return new mR(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||lD();switch(this.type){case"brightness":this._colorMatrix=aR(e,this.amount);break;case"contrast":this._colorMatrix=lR(e,this.amount);break;case"grayscale":this._colorMatrix=uR(e,this.amount);break;case"invert":this._colorMatrix=dR(e,this.amount);break;case"saturate":this._colorMatrix=hR(e,this.amount);break;case"sepia":this._colorMatrix=fR(e,this.amount)}}}class vR{constructor(e,t,r,i){this.offsetX=e,this.offsetY=t,this.blurRadius=r,this.color=i,this.type="drop-shadow"}interpolate(e,t,r){this.offsetX=wR(e.offsetX,t.offsetX,r),this.offsetY=wR(e.offsetY,t.offsetY,r),this.blurRadius=wR(e.blurRadius,t.blurRadius,r),this.color[0]=Math.round(wR(e.color[0],t.color[0],r)),this.color[1]=Math.round(wR(e.color[1],t.color[1],r)),this.color[2]=Math.round(wR(e.color[2],t.color[2],r)),this.color[3]=wR(e.color[3],t.color[3],r)}clone(){return new vR(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:SR(this.offsetX),yoffset:SR(this.offsetY),blurRadius:SR(this.blurRadius),color:e}}}class gR{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,t,r){this.angle=wR(e.angle,t.angle,r),this._updateMatrix()}clone(){return new gR(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||lD();this._colorMatrix=cR(e,this.angle)}}class bR{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,t,r){this.amount=wR(e.amount,t.amount,r)}clone(){return new bR(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}function wR(e,t,r){return e+(t-e)*r}function SR(e){return Math.round(1e3*qb(e))/1e3}function xR(e){switch(e.type){case"grayscale":case"sepia":case"invert":return new mR(e.type,0);case"saturate":case"brightness":case"contrast":return new mR(e.type,1);case"opacity":return new bR(1);case"hue-rotate":return new gR(0);case"blur":return new yR(0);case"drop-shadow":return new vR(0,0,0,[...gb("transparent")]);case"bloom":return new pR(0,0,1)}}function jR(e,t){const r=e.length>t.length?e:t;return(e.length>t.length?t:e).every(((e,t)=>e.type===r[t].type))}function TR(e,t){const r=e.length>t.length?e:t,i=e.length>t.length?t:e;for(let e=i.length;e<r.length;e++)i.push(xR(r[e]))}function IR(e){const t=e[0];return!!t&&"type"in t}var MR,ER,FR={exports:{}};ER=function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,r,i,n){var s=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(s,t.prototype),s.expected=r,s.found=i,s.location=n,s.name="SyntaxError",s}function r(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}function i(e,r){var i,n={},s=(r=void 0!==r?r:{}).grammarSource,o={start:He},a=He,l="none",u=")",c=",",d="(",h="%",f="px",p="cm",y="mm",m="in",v="pt",g="pc",b="deg",w="rad",S="grad",x="turn",j="#",T=".",I="e",M=/^[ \t\n\r]/,E=/^[a-z\-]/,F=/^[0-9a-fA-F]/,k=/^[+\-]/,A=/^[0-9]/,C=ze("none"),O=_e("none",!1),P=_e(")",!1),D=_e(",",!1),R=ze("whitespace"),N=qe([" ","\t","\n","\r"],!1,!1),$=ze("function"),L=_e("(",!1),_=ze("identifier"),q=qe([["a","z"],"-"],!1,!1),V=ze("percentage"),z=_e("%",!1),W=ze("length"),U=_e("px",!1),G=_e("cm",!1),B=_e("mm",!1),H=_e("in",!1),J=_e("pt",!1),Z=_e("pc",!1),Q=ze("angle"),K=_e("deg",!1),Y=_e("rad",!1),X=_e("grad",!1),ee=_e("turn",!1),te=ze("number"),re=ze("color"),ie=_e("#",!1),ne=qe([["0","9"],["a","f"],["A","F"]],!1,!1),se=qe(["+","-"],!1,!1),oe=qe([["0","9"]],!1,!1),ae=_e(".",!1),le=_e("e",!1),ue=function(){return[]},ce=function(e,t){return{type:"function",name:e,parameters:t||[]}},de=function(e,t){return t.length>0?ut(e,t,3):[e]},he=function(e){return{type:"quantity",value:e.value,unit:e.unit}},fe=function(e){return{type:"color",colorType:e.type,value:e.value}},pe=function(e){return e},ye=function(){return Le()},me=function(e){return{value:e,unit:"%"}},ve=function(e){return{value:e,unit:"px"}},ge=function(e){return{value:e,unit:"cm"}},be=function(e){return{value:e,unit:"mm"}},we=function(e){return{value:e,unit:"in"}},Se=function(e){return{value:e,unit:"pt"}},xe=function(e){return{value:e,unit:"pc"}},je=function(e){return{value:e,unit:"deg"}},Te=function(e){return{value:e,unit:"rad"}},Ie=function(e){return{value:e,unit:"grad"}},Me=function(e){return{value:e,unit:"turn"}},Ee=function(e){return{value:e,unit:null}},Fe=function(){return{type:"hex",value:Le()}},ke=function(e){return{type:"function",value:e}},Ae=function(){return{type:"named",value:Le()}},Ce=function(){return parseFloat(Le())},Oe=0,Pe=0,De=[{line:1,column:1}],Re=0,Ne=[],$e=0;if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=o[r.startRule]}function Le(){return e.substring(Pe,Oe)}function _e(e,t){return{type:"literal",text:e,ignoreCase:t}}function qe(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Ve(){return{type:"end"}}function ze(e){return{type:"other",description:e}}function We(t){var r,i=De[t];if(i)return i;for(r=t-1;!De[r];)r--;for(i={line:(i=De[r]).line,column:i.column};r<t;)10===e.charCodeAt(r)?(i.line++,i.column=1):i.column++,r++;return De[t]=i,i}function Ue(e,t,r){var i=We(e),n=We(t),o={source:s,start:{offset:e,line:i.line,column:i.column},end:{offset:t,line:n.line,column:n.column}};return r&&s&&"function"==typeof s.offset&&(o.start=s.offset(o.start),o.end=s.offset(o.end)),o}function Ge(e){Oe<Re||(Oe>Re&&(Re=Oe,Ne=[]),Ne.push(e))}function Be(e,r,i){return new t(t.buildMessage(e,r),e,r,i)}function He(){var e;return(e=Je())===n&&(e=Ze()),e}function Je(){var t,r;return $e++,t=Oe,Xe(),e.substr(Oe,4)===l?(r=l,Oe+=4):(r=n,0===$e&&Ge(O)),r!==n?(Xe(),Pe=t,t=ue()):(Oe=t,t=n),$e--,t===n&&0===$e&&Ge(C),t}function Ze(){var e,t;if(e=[],(t=Qe())!==n)for(;t!==n;)e.push(t),t=Qe();else e=n;return e}function Qe(){var t,r,i,s;return t=Oe,Xe(),(r=et())!==n?(Xe(),(i=Ke())===n&&(i=null),Xe(),41===e.charCodeAt(Oe)?(s=u,Oe++):(s=n,0===$e&&Ge(P)),s!==n?(Xe(),Pe=t,t=ce(r,i)):(Oe=t,t=n)):(Oe=t,t=n),t}function Ke(){var t,r,i,s,o,a,l,u;if(t=Oe,(r=Ye())!==n){for(i=[],s=Oe,o=Xe(),44===e.charCodeAt(Oe)?(a=c,Oe++):(a=n,0===$e&&Ge(D)),a===n&&(a=null),l=Xe(),(u=Ye())!==n?s=o=[o,a,l,u]:(Oe=s,s=n);s!==n;)i.push(s),s=Oe,o=Xe(),44===e.charCodeAt(Oe)?(a=c,Oe++):(a=n,0===$e&&Ge(D)),a===n&&(a=null),l=Xe(),(u=Ye())!==n?s=o=[o,a,l,u]:(Oe=s,s=n);Pe=t,t=de(r,i)}else Oe=t,t=n;return t}function Ye(){var e,t;return e=Oe,(t=rt())===n&&(t=it())===n&&(t=nt())===n&&(t=st()),t!==n&&(Pe=e,t=he(t)),(e=t)===n&&(e=Oe,(t=ot())!==n&&(Pe=e,t=fe(t)),e=t),e}function Xe(){var t,r;for($e++,t=[],M.test(e.charAt(Oe))?(r=e.charAt(Oe),Oe++):(r=n,0===$e&&Ge(N));r!==n;)t.push(r),M.test(e.charAt(Oe))?(r=e.charAt(Oe),Oe++):(r=n,0===$e&&Ge(N));return $e--,r=n,0===$e&&Ge(R),t}function et(){var t,r,i;return $e++,t=Oe,(r=tt())!==n?(40===e.charCodeAt(Oe)?(i=d,Oe++):(i=n,0===$e&&Ge(L)),i!==n?(Pe=t,t=pe(r)):(Oe=t,t=n)):(Oe=t,t=n),$e--,t===n&&(r=n,0===$e&&Ge($)),t}function tt(){var t,r,i;if($e++,t=Oe,r=[],E.test(e.charAt(Oe))?(i=e.charAt(Oe),Oe++):(i=n,0===$e&&Ge(q)),i!==n)for(;i!==n;)r.push(i),E.test(e.charAt(Oe))?(i=e.charAt(Oe),Oe++):(i=n,0===$e&&Ge(q));else r=n;return r!==n&&(Pe=t,r=ye()),$e--,(t=r)===n&&(r=n,0===$e&&Ge(_)),t}function rt(){var t,r,i;return $e++,t=Oe,Xe(),(r=at())!==n?(37===e.charCodeAt(Oe)?(i=h,Oe++):(i=n,0===$e&&Ge(z)),i!==n?(Pe=t,t=me(r)):(Oe=t,t=n)):(Oe=t,t=n),$e--,t===n&&0===$e&&Ge(V),t}function it(){var t,r,i;return $e++,t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===f?(i=f,Oe+=2):(i=n,0===$e&&Ge(U)),i!==n?(Pe=t,t=ve(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===p?(i=p,Oe+=2):(i=n,0===$e&&Ge(G)),i!==n?(Pe=t,t=ge(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===y?(i=y,Oe+=2):(i=n,0===$e&&Ge(B)),i!==n?(Pe=t,t=be(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===m?(i=m,Oe+=2):(i=n,0===$e&&Ge(H)),i!==n?(Pe=t,t=we(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===v?(i=v,Oe+=2):(i=n,0===$e&&Ge(J)),i!==n?(Pe=t,t=Se(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,Xe(),(r=at())!==n?(e.substr(Oe,2)===g?(i=g,Oe+=2):(i=n,0===$e&&Ge(Z)),i!==n?(Pe=t,t=xe(r)):(Oe=t,t=n)):(Oe=t,t=n)))))),$e--,t===n&&0===$e&&Ge(W),t}function nt(){var t,r,i;return $e++,t=Oe,(r=at())!==n?(e.substr(Oe,3)===b?(i=b,Oe+=3):(i=n,0===$e&&Ge(K)),i!==n?(Pe=t,t=je(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,(r=at())!==n?(e.substr(Oe,3)===w?(i=w,Oe+=3):(i=n,0===$e&&Ge(Y)),i!==n?(Pe=t,t=Te(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,(r=at())!==n?(e.substr(Oe,4)===S?(i=S,Oe+=4):(i=n,0===$e&&Ge(X)),i!==n?(Pe=t,t=Ie(r)):(Oe=t,t=n)):(Oe=t,t=n),t===n&&(t=Oe,(r=at())!==n?(e.substr(Oe,4)===x?(i=x,Oe+=4):(i=n,0===$e&&Ge(ee)),i!==n?(Pe=t,t=Me(r)):(Oe=t,t=n)):(Oe=t,t=n)))),$e--,t===n&&(r=n,0===$e&&Ge(Q)),t}function st(){var e,t;return $e++,e=Oe,Xe(),(t=at())!==n?(Pe=e,e=Ee(t)):(Oe=e,e=n),$e--,e===n&&0===$e&&Ge(te),e}function ot(){var t,r,i,s;if($e++,t=Oe,35===e.charCodeAt(Oe)?(r=j,Oe++):(r=n,0===$e&&Ge(ie)),r!==n){if(i=[],F.test(e.charAt(Oe))?(s=e.charAt(Oe),Oe++):(s=n,0===$e&&Ge(ne)),s!==n)for(;s!==n;)i.push(s),F.test(e.charAt(Oe))?(s=e.charAt(Oe),Oe++):(s=n,0===$e&&Ge(ne));else i=n;i!==n?(Pe=t,t=Fe()):(Oe=t,t=n)}else Oe=t,t=n;return t===n&&(t=Oe,(r=Qe())!==n&&(Pe=t,r=ke(r)),(t=r)===n&&(t=Oe,(r=tt())!==n&&(Pe=t,r=Ae()),t=r)),$e--,t===n&&(r=n,0===$e&&Ge(re)),t}function at(){var t,r,i,s,o,a,l;for(t=Oe,k.test(e.charAt(Oe))?(e.charAt(Oe),Oe++):0===$e&&Ge(se),r=Oe,i=[],A.test(e.charAt(Oe))?(s=e.charAt(Oe),Oe++):(s=n,0===$e&&Ge(oe));s!==n;)i.push(s),A.test(e.charAt(Oe))?(s=e.charAt(Oe),Oe++):(s=n,0===$e&&Ge(oe));if(46===e.charCodeAt(Oe)?(s=T,Oe++):(s=n,0===$e&&Ge(ae)),s!==n){if(o=[],A.test(e.charAt(Oe))?(a=e.charAt(Oe),Oe++):(a=n,0===$e&&Ge(oe)),a!==n)for(;a!==n;)o.push(a),A.test(e.charAt(Oe))?(a=e.charAt(Oe),Oe++):(a=n,0===$e&&Ge(oe));else o=n;o!==n?r=i=[i,s,o]:(Oe=r,r=n)}else Oe=r,r=n;if(r===n)if(r=[],A.test(e.charAt(Oe))?(i=e.charAt(Oe),Oe++):(i=n,0===$e&&Ge(oe)),i!==n)for(;i!==n;)r.push(i),A.test(e.charAt(Oe))?(i=e.charAt(Oe),Oe++):(i=n,0===$e&&Ge(oe));else r=n;if(r!==n){if(i=Oe,101===e.charCodeAt(Oe)?(s=I,Oe++):(s=n,0===$e&&Ge(le)),s!==n){if(k.test(e.charAt(Oe))?(o=e.charAt(Oe),Oe++):(o=n,0===$e&&Ge(se)),o===n&&(o=null),a=[],A.test(e.charAt(Oe))?(l=e.charAt(Oe),Oe++):(l=n,0===$e&&Ge(oe)),l!==n)for(;l!==n;)a.push(l),A.test(e.charAt(Oe))?(l=e.charAt(Oe),Oe++):(l=n,0===$e&&Ge(oe));else a=n;a!==n?i=s=[s,o,a]:(Oe=i,i=n)}else Oe=i,i=n;i===n&&(i=null),Pe=t,t=Ce()}else Oe=t,t=n;return t}function lt(e,t){return e.map((function(e){return e[t]}))}function ut(e,t,r){return[e].concat(lt(t,r))}if((i=a())!==n&&Oe===e.length)return i;throw i!==n&&Oe<e.length&&Ge(Ve()),Be(Ne,Re<e.length?e.charAt(Re):null,Re<e.length?Ue(Re,Re+1):Ue(Re,Re))}return e(t,Error),t.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var i,n=null;for(i=0;i<e.length;i++)if(e[i].source===this.location.source){n=e[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,o=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(n){var l=this.location.end,u=r("",o.line.toString().length," "),c=n[s.line-1],d=(s.line===l.line?l.column:c.length+1)-s.column||1;t+="\n --\x3e "+a+"\n"+u+" |\n"+o.line+" | "+c+"\n"+u+" | "+r("",s.column-1," ")+r("",d,"^")}else t+="\n at "+a}return t},t.buildMessage=function(e,t){var r={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?s(e[0])+"-"+s(e[1]):s(e)}));return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+i(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+i(e)}))}function o(e){return r[e.type](e)}function a(e){var t,r,i=e.map(o);if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}function l(e){return e?'"'+n(e)+'"':"end of input"}return"Expected "+a(e)+" but "+l(t)+" found."},{SyntaxError:t,parse:i}},(MR=FR).exports&&(MR.exports=ER());var kR=FR.exports;function AR(e){if(!e||0===e.length)return null;if("string"==typeof e){const t=CR(e);return t&&0!==t.length?t:null}const t=e.map((e=>{if(!Number.isFinite(e.scale)||e.scale<=0)throw new me("effect:invalid-scale","scale must be finite and greater than 0",{stop:e});return{scale:e.scale,effects:CR(e.value)}}));t.sort(((e,t)=>t.effects.length-e.effects.length));for(let e=0;e<t.length-1;e++){if(!jR(t[e].effects,t[e+1].effects))throw new me("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:t[e].effects,b:t[e+1].effects});TR(t[e].effects,t[e+1].effects)}return t.sort(((e,t)=>t.scale-e.scale)),t}function CR(e){let t;if(!e)return[];try{t=kR.parse(e)}catch(t){throw new me("effect:invalid-syntax","Invalid effect syntax",{value:e,error:t})}return t.map((e=>OR(e)))}function OR(e){try{switch(e.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return PR(e);case"opacity":return DR(e);case"hue-rotate":return RR(e);case"blur":return NR(e);case"drop-shadow":return $R(e);case"bloom":return LR(e)}}catch(t){throw t.details.filter=e,t}throw new me("effect:unknown-effect",`Effect '${e.name}' is not supported`,{effect:e})}function PR(e){let t=1;return _R(e.parameters,1),1===e.parameters.length&&(t=JR(e.parameters[0])),new mR(e.name,t)}function DR(e){let t=1;return _R(e.parameters,1),1===e.parameters.length&&(t=JR(e.parameters[0])),new bR(t)}function RR(e){let t=0;return _R(e.parameters,1),1===e.parameters.length&&(t=QR(e.parameters[0])),new gR(t)}function NR(e){let t=0;return _R(e.parameters,1),1===e.parameters.length&&(t=KR(e.parameters[0]),VR(t,e.parameters[0])),new yR(t)}function $R(e){const t=[];let r=null;for(const i of e.parameters)if("color"===i.type){if(t.length&&Object.freeze(t),r)throw new me("effect:type-error","Accepts only one color",{});r=YR(i)}else{const e=KR(i);if(Object.isFrozen(t))throw new me("effect:type-error","<length> parameters not consecutive",{lengths:t});t.push(e),3===t.length&&VR(e,i)}if(t.length<2||t.length>3)throw new me("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${t.length}}`,{lengths:t});return new vR(t[0],t[1],t[2]||0,r||XR("black"))}function LR(e){let t=1,r=0,i=0;return _R(e.parameters,3),e.parameters[0]&&(t=JR(e.parameters[0])),e.parameters[1]&&(r=KR(e.parameters[1]),VR(r,e.parameters[1])),e.parameters[2]&&(i=JR(e.parameters[2])),new pR(t,r,i)}function _R(e,t){if(e.length>t)throw new me("effect:type-error",`Function supports up to ${t} parameters, Actual: ${e.length}`,{parameters:e})}function qR(e){if("color"===e.type)return"<color>";if(e.unit){if(e.unit in BR)return"<length>";if(e.unit in UR)return"<angle>";if("%"===e.unit)return"<percentage>"}return"<double>"}function VR(e,t){if(e<0)throw new me("effect:type-error",`Negative values are not allowed, Actual: ${e}`,{term:t})}function zR(e){if("quantity"!==e.type||null!==e.unit)throw new me("effect:type-error",`Expected <double>, Actual: ${qR(e)}`,{term:e})}function WR(e){if("quantity"!==e.type||null!==e.unit&&"%"!==e.unit)throw new me("effect:type-error",`Expected <double> or <percentage>, Actual: ${qR(e)}`,{term:e})}const UR={deg:1,grad:.9,rad:180/Math.PI,turn:360};function GR(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=UR[e.unit]))throw new me("effect:type-error",`Expected <angle>, Actual: ${qR(e)}`,{term:e})}const BR={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function HR(e){if("quantity"!==e.type||!(0===e.value&&null===e.unit||e.unit&&null!=BR[e.unit]))throw new me("effect:type-error",`Expected <length>, Actual: ${qR(e)}`,{term:e})}function JR(e){WR(e);const t=e.value;return VR(t,e),"%"===e.unit?.01*t:t}function ZR(e){return zR(e),VR(e.value,e),e.value}function QR(e){return GR(e),e.value*UR[e.unit]||0}function KR(e){return HR(e),e.value*BR[e.unit]||0}function YR(e){switch(e.colorType){case"hex":return xb(e.value);case"named":return XR(e.value);case"function":return rN(e.value)}}function XR(e){if(!vb(e))throw new me("effect:unknown-color",`color '${e}' isn't valid`,{namedColor:e});return bb(e)}const eN=/^rgba?/i,tN=/^hsla?/i;function rN(e){if(_R(e.parameters,4),eN.test(e.name))return[JR(e.parameters[0]),JR(e.parameters[1]),JR(e.parameters[2]),e.parameters[3]?JR(e.parameters[3]):1];if(tN.test(e.name))return Sb(ZR(e.parameters[0]),JR(e.parameters[1]),JR(e.parameters[2]),e.parameters[3]?JR(e.parameters[3]):1);throw new me("effect:syntax-error",`Invalid color function '${e.name}'`,{colorFunction:e})}function iN(e,t,r){try{return oN(e)}catch(e){r?.messages?.push(e)}return null}function nN(e,t,r,i){try{const i=sN(e);te(r,i,t)}catch(e){i.messages&&i.messages.push(e)}}function sN(e){const t=AR(e);return t?IR(t)?t.map((e=>e.toJSON())):t.map((({scale:e,effects:t})=>({scale:e,value:t.map((e=>e.toJSON()))}))):null}function oN(e){if(!e||0===e.length)return null;if(aN(e)){const t=[];for(const r of e)t.push({scale:r.scale,value:lN(r.value)});return t}return lN(e)}function aN(e){const t=e[0];return!!t&&"scale"in t}function lN(e){if(!e||!e.length)return"";const t=[];for(const r of e){let e=[];switch(r.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":e=[uN(r,"amount")];break;case"blur":e=[uN(r,"radius","pt")];break;case"hue-rotate":e=[uN(r,"angle","deg")];break;case"drop-shadow":e=[uN(r,"xoffset","pt"),uN(r,"yoffset","pt"),uN(r,"blurRadius","pt"),cN(r,"color")];break;case"bloom":e=[uN(r,"strength"),uN(r,"radius","pt"),uN(r,"threshold")]}const i=`${r.type}(${e.filter(Boolean).join(" ")})`;AR(i),t.push(i)}return t.join(" ")}function uN(e,t,r){if(null==e[t])throw new me("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});return r?e[t]+r:""+e[t]}function cN(e,t){if(null==e[t])throw new me("effect:missing-parameter",`Missing parameter '${t}' in ${e.type} effect`,{effect:e});const r=e[t];return`rgba(${r[0]||0}, ${r[1]||0}, ${r[2]||0}, ${r[3]/255||0})`}const dN={read:{reader:iN},write:{allowNull:!0,writer:nN}},hN=e=>{let t=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return ji([Cn({type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!0},"portal-item":{read:!0,write:!0}}}})],t.prototype,"blendMode",void 0),ji([Cn({json:{read:!1,write:!1,origins:{"web-map":dN,"portal-item":dN}}})],t.prototype,"effect",void 0),t=ji([zs("esri.layers.mixins.BlendLayer")],t),t};const fN=e=>{let t=class extends e{constructor(){super(...arguments),this.customParameters=null}};return ji([Cn({type:Object,json:{write:{overridePolicy:e=>({enabled:!!(e&&Object.keys(e).length>0)})}}})],t.prototype,"customParameters",void 0),t=ji([zs("esri.layers.mixins.CustomParametersMixin")],t),t};const pN=new ty.EventEmitter;function yN(e,t,r=!1){const i=zr();return r=null==t||r,pN.emit("apply-edits",{serviceUrl:e,layerId:t,mayReceiveServiceEdits:r,result:i.promise}),i}const mN="esri.layers.mixins.EditBusLayer",vN=Symbol(mN);function gN(e){return null!=e&&"object"==typeof e&&vN in e}const bN=e=>{var t;let r=class extends e{constructor(...e){super(...e),this[t]=!0,this.when().then((()=>{this.own([pN.on("apply-edits",(e=>{const{serviceUrl:t,layerId:r,mayReceiveServiceEdits:i,result:n}=e,s=t===this.url,o=null!=r&&null!=this.layerId&&r===this.layerId;if(!s||!o&&!i)return;const a=n.then((e=>{if(o&&(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length))return this.emit("edits",V(e)),e;const t=e.editedFeatures?.find((({layerId:e})=>e===this.layerId));if(t){const{adds:r,updates:i,deletes:n}=t.editedFeatures,s={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:r?r.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],deletedFeatures:n?n.map((({attributes:e})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],updatedFeatures:i?i.map((({current:{attributes:e}})=>({objectId:this.objectIdField&&e[this.objectIdField],globalId:this.globalIdField&&e[this.globalIdField]}))):[],editedFeatures:V(e.editedFeatures),exceededTransferLimit:!1};return this.emit("edits",s),s}return{edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:V(e.editedFeatures),exceededTransferLimit:!1}}));this.emit("apply-edits",{result:a})}))])}),(()=>{}))}};return t=vN,r=ji([zs(mN)],r),r};const wN={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8},SN={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};function xN(e,t){const r=new Date(e,t+1,1);return r.setDate(0),r.getDate()}function jN(e,t,r){const i=new Date(e.getTime());if(t&&r){const e=SN[r],{getter:n,setter:s,multiplier:o}=e;if("months"===r){const e=xN(i.getFullYear(),i.getMonth()+t);i.getDate()>e&&i.setDate(e)}i[s](i[n]()+t*o)}return i}function TN(e,t){switch(t){case"milliseconds":return new Date(e.getTime());case"seconds":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());case"minutes":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes());case"hours":return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours());case"days":return new Date(e.getFullYear(),e.getMonth(),e.getDate());case"weeks":return new Date(e.getFullYear(),e.getMonth(),e.getDate()-e.getDay());case"months":return new Date(e.getFullYear(),e.getMonth(),1);case"years":return new Date(e.getFullYear(),0,1);case"decades":return new Date(e.getFullYear()-e.getFullYear()%10,0,1);case"centuries":return new Date(e.getFullYear()-e.getFullYear()%100,0,1);default:return new Date}}function IN(e,t,r){if(0===e)return 0;return e*wN[t]/wN[r]}var MN;let EN=MN=class extends rl{static get allTime(){return FN}static get empty(){return kN}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?e.getTime():null}get isAllTime(){return this.equals(MN.allTime)}get isEmpty(){return this.equals(MN.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?e.getTime():null}clone(){return new MN({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=null!=this.start?this.start.getTime():this.start,r=null!=this.end?this.end.getTime():this.end,i=null!=e.start?e.start.getTime():e.start,n=null!=e.end?e.end.getTime():e.end;return t===i&&r===n}expandTo(e){if(this.isEmpty||this.isAllTime)return this.clone();const t=ve(this.start,(t=>TN(t,e))),r=ve(this.end,(t=>{const r=TN(t,e);return t.getTime()===r.getTime()?r:jN(r,1,e)}));return new MN({start:t,end:r})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return MN.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,i=e.start?.getTime()??-1/0,n=e.end?.getTime()??1/0;let s,o;if(i>=t&&i<=r?s=i:t>=i&&t<=n&&(s=t),r>=i&&r<=n?o=r:n>=t&&n<=r&&(o=n),null!=s&&null!=o&&!isNaN(s)&&!isNaN(o)){const e=new MN;return e.start=s===-1/0?null:new Date(s),e.end=o===1/0?null:new Date(o),e}return MN.empty}offset(e,t){if(this.isEmpty||this.isAllTime)return this.clone();const r=new MN,{start:i,end:n}=this;return null!=i&&(r.start=jN(i,e,t)),null!=n&&(r.end=jN(n,e,t)),r}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return FN.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new MN({start:t,end:r})}};ji([Cn({type:Date,json:{write:{allowNull:!0}}})],EN.prototype,"end",void 0),ji([il("end")],EN.prototype,"readEnd",null),ji([Iu("end")],EN.prototype,"writeEnd",null),ji([Cn({readOnly:!0,json:{read:!1}})],EN.prototype,"isAllTime",null),ji([Cn({readOnly:!0,json:{read:!1}})],EN.prototype,"isEmpty",null),ji([Cn({type:Date,json:{write:{allowNull:!0}}})],EN.prototype,"start",void 0),ji([il("start")],EN.prototype,"readStart",null),ji([Iu("start")],EN.prototype,"writeStart",null),EN=MN=ji([zs("esri.TimeExtent")],EN);const FN=new EN,kN=new EN({start:void 0,end:void 0}),AN=EN;var CN;let ON=CN=class extends rl{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new CN({mapLayerId:e,gdbVersion:t})}};ji([iv({mapLayer:"map-layer"})],ON.prototype,"type",void 0),ji([Cn({type:Yi,json:{write:!0}})],ON.prototype,"mapLayerId",void 0),ji([Cn({type:String,json:{write:!0}})],ON.prototype,"gdbVersion",void 0),ON=CN=ji([zs("esri.layers.support.source.MapLayerSource")],ON);var PN;let DN=PN=class extends rl{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:i,geometryType:n}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:i?.clone()??void 0,geometryType:n};return new PN(s)}};ji([iv({queryTable:"query-table"})],DN.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],DN.prototype,"workspaceId",void 0),ji([Cn({type:String,json:{write:!0}})],DN.prototype,"query",void 0),ji([Cn({type:String,json:{write:!0}})],DN.prototype,"oidFields",void 0),ji([Cn({type:Fu,json:{write:!0}})],DN.prototype,"spatialReference",void 0),ji([iv(qp)],DN.prototype,"geometryType",void 0),DN=PN=ji([zs("esri.layers.support.source.QueryTableDataSource")],DN);var RN;let NN=RN=class extends rl{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new RN({workspaceId:e,dataSourceName:t})}};ji([iv({raster:"raster"})],NN.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],NN.prototype,"dataSourceName",void 0),ji([Cn({type:String,json:{write:!0}})],NN.prototype,"workspaceId",void 0),NN=RN=ji([zs("esri.layers.support.source.RasterDataSource")],NN);var $N;let LN=$N=class extends rl{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new $N({workspaceId:e,gdbVersion:t,dataSourceName:r})}};ji([iv({table:"table"})],LN.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],LN.prototype,"workspaceId",void 0),ji([Cn({type:String,json:{write:!0}})],LN.prototype,"gdbVersion",void 0),ji([Cn({type:String,json:{write:!0}})],LN.prototype,"dataSourceName",void 0),LN=$N=ji([zs("esri.layers.support.source.TableDataSource")],LN);var _N,qN;const VN=sl()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let zN=_N=class extends rl{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return UN()(e,t,r)}castLeftTableSource(e){return Ki(BN(),e)}readRightTableSource(e,t,r){return UN()(e,t,r)}castRightTableSource(e){return Ki(BN(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:i,joinType:n}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:i?.clone()??void 0,joinType:n};return new _N(s)}};ji([iv({joinTable:"join-table"})],zN.prototype,"type",void 0),ji([Cn({type:String,json:{write:!0}})],zN.prototype,"leftTableKey",void 0),ji([Cn({type:String,json:{write:!0}})],zN.prototype,"rightTableKey",void 0),ji([Cn({json:{write:!0}})],zN.prototype,"leftTableSource",void 0),ji([il("leftTableSource")],zN.prototype,"readLeftTableSource",null),ji([Ru("leftTableSource")],zN.prototype,"castLeftTableSource",null),ji([Cn({json:{write:!0}})],zN.prototype,"rightTableSource",void 0),ji([il("rightTableSource")],zN.prototype,"readRightTableSource",null),ji([Ru("rightTableSource")],zN.prototype,"castRightTableSource",null),ji([iv(VN)],zN.prototype,"joinType",void 0),zN=_N=ji([zs("esri.layers.support.source.JoinTableDataSource")],zN);let WN=null;function UN(){return WN||(WN=ns({types:BN()})),WN}let GN=null;function BN(){return GN||(GN={key:"type",base:null,typeMap:{"data-layer":JN,"map-layer":ON}}),GN}const HN={key:"type",base:null,typeMap:{"join-table":zN,"query-table":DN,raster:NN,table:LN}};let JN=qN=class extends rl{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new qN({fields:e,dataSource:t})}};ji([iv({dataLayer:"data-layer"})],JN.prototype,"type",void 0),ji([Cn({type:[mI],json:{write:!0}})],JN.prototype,"fields",void 0),ji([Cn({types:HN,json:{write:!0}})],JN.prototype,"dataSource",void 0),JN=qN=ji([zs("esri.layers.support.source.DataLayerSource")],JN),JN.from=Wi(JN);let ZN=class extends(Yp(rl)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};ji([Cn({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],ZN.prototype,"onFields",void 0),ji([Cn({type:String,json:{write:!0}})],ZN.prototype,"operator",void 0),ji([Cn({type:String,json:{write:!0}})],ZN.prototype,"searchTerm",void 0),ji([Cn({type:String,json:{write:!0}})],ZN.prototype,"searchType",void 0),ZN=ji([zs("esri.rest.support.FullTextSearch")],ZN);const QN=ZN;var KN;const YN=new nl({upperLeft:"upper-left",lowerLeft:"lower-left"});let XN=KN=class extends rl{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new KN(V({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};ji([Cn({type:Rc,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],XN.prototype,"extent",void 0),ji([Cn({type:["view","edit"],json:{write:!0}})],XN.prototype,"mode",void 0),ji([Cn({type:String,json:{read:YN.read,write:YN.write}})],XN.prototype,"originPosition",void 0),ji([Cn({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],XN.prototype,"tolerance",void 0),XN=KN=ji([zs("esri.rest.support.QuantizationParameters")],XN);const e$=XN;var t$;const r$=new nl({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let i$=t$=class extends rl{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=V(e))}clone(){return new t$({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:V(this.statisticParameters)})}};ji([Cn({type:Number,json:{write:!0}})],i$.prototype,"maxPointCount",void 0),ji([Cn({type:Number,json:{write:!0}})],i$.prototype,"maxRecordCount",void 0),ji([Cn({type:Number,json:{write:!0}})],i$.prototype,"maxVertexCount",void 0),ji([Cn({type:String,json:{write:!0}})],i$.prototype,"onStatisticField",void 0),ji([Cn({type:String,json:{write:!0}})],i$.prototype,"outStatisticFieldName",void 0),ji([Cn({type:String,json:{read:{source:"statisticType",reader:r$.read},write:{target:"statisticType",writer:r$.write}}})],i$.prototype,"statisticType",void 0),ji([Cn({type:Object})],i$.prototype,"statisticParameters",void 0),ji([Iu("statisticParameters")],i$.prototype,"writeStatisticParameters",null),i$=t$=ji([zs("esri.rest.support.StatisticDefinition")],i$);const n$=i$;var s$;const o$=new nl({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),a$=new nl({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let l$=s$=class extends rl{static from(e){return _i(s$,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const t in e){const i=e[t];Array.isArray(i)?r[t]=i.map((e=>e instanceof Date?e.getTime():e)):i instanceof Date?r[t]=i.getTime():r[t]=i}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new s$(V({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}};l$.MAX_MAX_RECORD_COUNT_FACTOR=5,ji([Cn({json:{write:!0}})],l$.prototype,"aggregateIds",void 0),ji([Cn({type:Boolean,json:{write:!0}})],l$.prototype,"cacheHint",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"compactGeometryEnabled",void 0),ji([Cn({json:{write:!0}})],l$.prototype,"datumTransformation",void 0),ji([Ru("datumTransformation")],l$.prototype,"castDatumTransformation",null),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"defaultSpatialReferenceEnabled",void 0),ji([Cn({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],l$.prototype,"distance",void 0),ji([Cn({type:JN,json:{write:!0}})],l$.prototype,"dynamicDataSource",void 0),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"formatOf3DObjects",void 0),ji([Cn({type:[QN],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],l$.prototype,"fullText",void 0),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"gdbVersion",void 0),ji([Cn({types:Kp,json:{read:Hp,write:!0}})],l$.prototype,"geometry",void 0),ji([Cn({type:Number,json:{write:!0}})],l$.prototype,"geometryPrecision",void 0),ji([Cn({type:[String],json:{write:!0}})],l$.prototype,"groupByFieldsForStatistics",void 0),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"having",void 0),ji([Cn({type:Date})],l$.prototype,"historicMoment",void 0),ji([Iu("historicMoment")],l$.prototype,"writeHistoricMoment",null),ji([Cn({type:Number,json:{write:!0}})],l$.prototype,"maxAllowableOffset",void 0),ji([Cn({type:Number,cast:e=>e<1?1:e>s$.MAX_MAX_RECORD_COUNT_FACTOR?s$.MAX_MAX_RECORD_COUNT_FACTOR:e,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],l$.prototype,"maxRecordCountFactor",void 0),ji([Cn({type:["xyFootprint"],json:{write:!0}})],l$.prototype,"multipatchOption",void 0),ji([Cn({type:Number,json:{read:{source:"resultRecordCount"}}})],l$.prototype,"num",void 0),ji([Cn({json:{write:!0}})],l$.prototype,"objectIds",void 0),ji([Cn({type:[String],json:{write:!0}})],l$.prototype,"orderByFields",void 0),ji([Cn({type:[String],json:{write:!0}})],l$.prototype,"outFields",void 0),ji([Cn({type:Fu,json:{name:"outSR",write:!0}})],l$.prototype,"outSpatialReference",void 0),ji([Cn({type:[n$],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],l$.prototype,"outStatistics",void 0),ji([Cn({json:{write:!0}})],l$.prototype,"parameterValues",void 0),ji([Iu("parameterValues")],l$.prototype,"writeParameterValues",null),ji([Cn({type:tc,json:{write:!0}})],l$.prototype,"pixelSize",void 0),ji([Cn({type:e$,json:{write:!0}})],l$.prototype,"quantizationParameters",void 0),ji([Cn({type:[Object],json:{write:!0}})],l$.prototype,"rangeValues",void 0),ji([Cn({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],l$.prototype,"relationParameter",void 0),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"resultType",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"returnCentroid",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"returnDistinctValues",void 0),ji([Cn({type:Boolean,json:{default:!0,write:!0}})],l$.prototype,"returnExceededLimitFeatures",void 0),ji([Cn({type:Boolean,json:{write:!0}})],l$.prototype,"returnGeometry",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"returnQueryGeometry",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"returnM",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],l$.prototype,"returnZ",void 0),ji([Cn({type:Fu,json:{write:!0}})],l$.prototype,"sourceSpatialReference",void 0),ji([iv(o$,{ignoreUnknown:!1,name:"spatialRel"})],l$.prototype,"spatialRelationship",void 0),ji([Cn({type:Number,json:{read:{source:"resultOffset"}}})],l$.prototype,"start",void 0),ji([Iu("start"),Iu("num")],l$.prototype,"writeStart",null),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"sqlFormat",void 0),ji([Cn({type:String,json:{write:!0}})],l$.prototype,"text",void 0),ji([Cn({type:AN,json:{write:!0}})],l$.prototype,"timeExtent",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],l$.prototype,"timeReferenceUnknownClient",void 0),ji([iv(a$,{ignoreUnknown:!1}),Cn({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance&&this.distance>0}}}}})],l$.prototype,"units",void 0),ji([Cn({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],l$.prototype,"where",void 0),ji([Iu("where")],l$.prototype,"writeWhere",null),l$=s$=ji([zs("esri.rest.support.Query")],l$);const u$=l$;var c$;const d$=new nl({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),h$=new nl({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let f$=c$=class extends rl{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:r,spatialRelationship:i,timeExtent:n,objectIds:s,units:o,distance:a}=this;return new u$({geometry:V(r),objectIds:V(s),spatialRelationship:i,timeExtent:V(n),where:t,units:o,distance:a,...e})}clone(){const{where:e,geometry:t,spatialRelationship:r,timeExtent:i,objectIds:n,units:s,distance:o}=this;return new c$({geometry:V(t),objectIds:V(n),spatialRelationship:r,timeExtent:V(i),where:e,units:s,distance:o})}};ji([Cn({type:String,json:{write:!0}})],f$.prototype,"where",void 0),ji([Cn({types:Kp,json:{write:!0}})],f$.prototype,"geometry",void 0),ji([Cn({type:d$.apiValues,json:{name:"spatialRel",read:{reader:d$.read},write:{allowNull:!1,writer:d$.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],f$.prototype,"spatialRelationship",void 0),ji([Cn({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],f$.prototype,"distance",void 0),ji([Cn({type:[Number],json:{write:!0}})],f$.prototype,"objectIds",void 0),ji([Cn({type:h$.apiValues,json:{read:h$.read,write:{writer:h$.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],f$.prototype,"units",void 0),ji([Cn({type:AN,json:{write:!0}})],f$.prototype,"timeExtent",void 0),f$=c$=ji([zs("esri.layers.support.FeatureFilter")],f$);const p$=f$;var y$;const m$={read:{reader:iN},write:{writer:nN,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},v$={read:{reader:iN},write:{writer:nN,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},g$={name:"showExcludedLabels",default:!0};let b$=y$=class extends rl{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const r=super.write(e,t);if(t?.origin){if(r.filter){const e=Object.keys(r.filter);if(e.length>1||"where"!==e[0])return t.messages?.push(new me("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:t.layer,effect:this})),null}if("showExcludedLabels"in r)return t.messages?.push(new me("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:t.layer,effect:this})),null}return r}clone(){return new y$({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};ji([Cn({type:p$,json:{write:{allowNull:!0,writer(e,t,r,i){const n=e?.write({},i);n&&0!==Object.keys(n).length?te(r,n,t):te(r,null,t)}}}})],b$.prototype,"filter",void 0),ji([Cn({json:{write:!0,origins:{"web-map":m$,"portal-item":m$}}})],b$.prototype,"includedEffect",void 0),ji([Cn({json:{write:!0,origins:{"web-map":v$,"portal-item":v$}}})],b$.prototype,"excludedEffect",void 0),ji([Cn({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":g$,"portal-item":g$}}})],b$.prototype,"excludedLabelsVisible",void 0),b$=y$=ji([zs("esri.layers.support.FeatureEffect")],b$);const w$=b$;const S$={write:{allowNull:!0}},x$=e=>{let t=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return ji([Cn({type:w$,json:{origins:{"web-map":S$,"portal-item":S$}}})],t.prototype,"featureEffect",void 0),t=ji([zs("esri.layers.mixins.FeatureEffectLayer")],t),t};var j$;const T$=sl()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),I$=T$.jsonValues.slice();y(I$,"orthometric");const M$=sl()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let E$=j$=class extends rl{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,r){return T$.write(e,t,r)}readHeightModel(e,t,r){const i=T$.read(e);return i||(r&&r.messages&&r.messages.push(k$(e,{context:r})),null)}readHeightUnit(e,t,r){const i=M$.read(e);return i||(r&&r.messages&&r.messages.push(F$(e,{context:r})),null)}readHeightUnitService(e,t,r){const i=ou(e)||M$.read(e);return i||(r&&r.messages&&r.messages.push(F$(e,{context:r})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new j$({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const r=lu(t);return new j$({heightModel:e.heightModel,heightUnit:r,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new j$;return t.read(e,{origin:"web-scene"}),t}};function F$(e,t){return new es("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}function k$(e,t){return new es("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}ji([Cn({type:T$.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:I$,default:"ellipsoidal"}}}})],E$.prototype,"heightModel",void 0),ji([Iu("web-scene","heightModel")],E$.prototype,"writeHeightModel",null),ji([il(["web-scene","service"],"heightModel")],E$.prototype,"readHeightModel",null),ji([Cn({type:M$.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:M$.jsonValues,write:M$.write}}}})],E$.prototype,"heightUnit",void 0),ji([il("web-scene","heightUnit")],E$.prototype,"readHeightUnit",null),ji([il("service","heightUnit")],E$.prototype,"readHeightUnitService",null),ji([Cn({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],E$.prototype,"vertCRS",void 0),ji([il("service","vertCRS",["vertCRS","ellipsoid","geoid"])],E$.prototype,"readVertCRS",null),E$=j$=ji([zs("esri.geometry.HeightModelInfo")],E$);const A$=E$;function C$(e){if(!e)return e;const{start:t,end:r}=e;return new AN({start:null!=t?jN(t,-t.getTimezoneOffset(),"minutes"):t,end:null!=r?jN(r,-r.getTimezoneOffset(),"minutes"):r})}function O$(e){if(!e)return e;const{start:t,end:r}=e;return new AN({start:null!=t?jN(t,t.getTimezoneOffset(),"minutes"):t,end:null!=r?jN(r,r.getTimezoneOffset(),"minutes"):r})}var P$;let D$=P$=class extends rl{constructor(e){super(e)}async collectRequiredFields(e,t){return zy(e,t,this.expression)}clone(){return new P$({expression:this.expression,title:this.title})}equals(e){return this.expression===e.expression&&this.title===e.title}};ji([Cn({type:String,json:{write:!0}})],D$.prototype,"expression",void 0),ji([Cn({type:String,json:{write:!0}})],D$.prototype,"title",void 0),D$=P$=ji([zs("esri.layers.support.FeatureExpressionInfo")],D$);const R$=D$;function N$(e){return 1/(qM[e]||1)}function $$(){const e=Object.keys(qM);return e.sort(),e}const L$=$$();var _$;const q$=sl()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),V$=new nl({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let z$=_$=class extends rl{constructor(e){super(e),this.offset=null}readFeatureExpressionInfo(e,t){return null!=e?e:t.featureExpression&&0===t.featureExpression.value?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,t,r,i){t[r]=e.write({},i),"0"===e.expression&&(t.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:t}=this;return this._isOverridden("mode")?this._get("mode"):null!=e||t?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,t){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,t):null}clone(){return new _$({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Ie(this.featureExpressionInfo,e.featureExpressionInfo)}};ji([Cn({type:R$,json:{write:!0}})],z$.prototype,"featureExpressionInfo",void 0),ji([il("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],z$.prototype,"readFeatureExpressionInfo",null),ji([Iu("featureExpressionInfo",{featureExpressionInfo:{type:R$},"featureExpression.value":{type:[0]}})],z$.prototype,"writeFeatureExpressionInfo",null),ji([Cn({type:q$.apiValues,nonNullable:!0,json:{type:q$.jsonValues,read:q$.read,write:{writer:q$.write,isRequired:!0}}})],z$.prototype,"mode",null),ji([Cn({type:Number,json:{write:!0}})],z$.prototype,"offset",void 0),ji([Cn({type:L$,json:{type:String,read:V$.read,write:V$.write}})],z$.prototype,"unit",null),z$=_$=ji([zs("esri.layers.support.ElevationInfo")],z$);const W$=z$;const U$={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:!0}},G$={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(e,t)=>!t.disablePopup},write:{enabled:!0,writer(e,t,r){t[r]=!e}}}},B$={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:!0}},H$={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:NS}}},J$={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:!0}},Z$={value:null,type:W$,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:!0}};function Q$(e){return{type:e,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const K$={write:!0,read:!0},Y$={type:Number,json:{origins:{"web-document":K$,"portal-item":{write:!0}}}},X$={...Y$,json:{...Y$.json,origins:{"web-document":{...K$,write:{enabled:!0,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(e,t,r)=>r&&"service"!==r.origin||!t.drawingInfo||void 0===t.drawingInfo.transparency?t.layerDefinition&&t.layerDefinition.drawingInfo&&void 0!==t.layerDefinition.drawingInfo.transparency?Gb(t.layerDefinition.drawingInfo.transparency):void 0:Gb(t.drawingInfo.transparency)}}},eL={type:AN,readOnly:!0,get(){if(!this.layer?.timeInfo)return null;const{datesInUnknownTimezone:e,timeOffset:t,useViewTime:r}=this.layer,i=this.view?.timeExtent;let n=this.layer.timeExtent;e&&(n=O$(n));let s=r?i&&n?i.intersection(n):i||n:n;if(!s||s.isEmpty||s.isAllTime)return s;t&&(s=s.offset(-t.value,t.unit)),e&&(s=C$(s));const o=this._get("timeExtent");return s.equals(o)?o:s}},tL={type:Rc,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(e,t)=>{const r=Rc.fromJSON(e);return null!=t.spatialReference&&"object"==typeof t.spatialReference&&(r.spatialReference=Fu.fromJSON(t.spatialReference)),r}}}},read:!1}},rL={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},iL={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.minScale"},write:{target:"layerDefinition.minScale"}}},nL={type:Number,json:{origins:{service:{write:{enabled:!1}}},read:{source:"layerDefinition.maxScale"},write:{target:"layerDefinition.maxScale"}}},sL={json:{write:{ignoreOrigin:!0},origins:{"web-map":{read:!1,write:!1}}}};const oL=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Almaty"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);function aL(e,t="system"){if(!e||!oL.has(e.timeZone))return t;const r=oL.get(e.timeZone);return uL(e.timeZone)||e.respectsDaylightSaving?r:lL(r)}function lL(e){const t=yv.DateTime.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);if(0===r)return"Etc/UTC";return`Etc/GMT${yv.FixedOffsetZone.instance(-r).formatOffset(0,"narrow")}`}function uL(e){return e.startsWith("UTC")}let cL=class extends(Yp(rl)){constructor(e){super(e),this.legacy=null,this.timeZone="system"}readLegacy(e,t){const{timeZone:r,respectsDaylightSaving:i}=t;return{timeZone:r,respectsDaylightSaving:i}}readTimeZone(e,t){return"timeZoneIANA"in t?t.timeZoneIANA:aL(t)}writeTimeZone(e,t){t.timeZoneIANA=e}equals(e){return null!=e&&null!=this.timeZone&&null!=e.timeZone&&this.timeZone===e.timeZone}};ji([Cn()],cL.prototype,"legacy",void 0),ji([il("legacy",["timeZone"])],cL.prototype,"readLegacy",null),ji([Cn({type:String,nonNullable:!0})],cL.prototype,"timeZone",void 0),ji([il("timeZone",["timeZone","timeZoneIANA","respectsDaylightSaving"])],cL.prototype,"readTimeZone",null),ji([Iu("timeZone")],cL.prototype,"writeTimeZone",null),cL=ji([zs("esri.time.TimeReference")],cL);const dL=cL;let hL=class extends(Yp(rl)){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.dateFieldsTimeReference=null}};ji([Cn()],hL.prototype,"creatorField",void 0),ji([Cn()],hL.prototype,"creationDateField",void 0),ji([Cn()],hL.prototype,"editorField",void 0),ji([Cn()],hL.prototype,"editDateField",void 0),ji([Cn()],hL.prototype,"realm",void 0),ji([Cn({type:dL})],hL.prototype,"dateFieldsTimeReference",void 0),hL=ji([zs("esri.layers.support.EditFieldsInfo")],hL);const fL=hL;let pL=class extends(Yp(rl)){constructor(e){super(e)}};ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"name",void 0),ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"fields",void 0),ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"isAscending",void 0),ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"indexType",void 0),ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"isUnique",void 0),ji([Cn({constructOnly:!0,json:{write:!0}})],pL.prototype,"description",void 0),pL=ji([zs("esri.layers.support.FeatureIndex")],pL);var yL;let mL=yL=class extends rl{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new yL(V({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};ji([Cn({type:[String],json:{write:!0}})],mL.prototype,"attachmentTypes",void 0),ji([Cn({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],mL.prototype,"attachmentsWhere",void 0),ji([Cn({type:Boolean,json:{write:!0}})],mL.prototype,"cacheHint",void 0),ji([Cn({type:[String],json:{write:!0}})],mL.prototype,"keywords",void 0),ji([Cn({type:[Number],json:{write:!0}})],mL.prototype,"globalIds",void 0),ji([Cn({json:{write:!0}})],mL.prototype,"name",void 0),ji([Cn({type:Number,json:{read:{source:"resultRecordCount"}}})],mL.prototype,"num",void 0),ji([Cn({type:[Number],json:{write:!0}})],mL.prototype,"objectIds",void 0),ji([Cn({type:Boolean,json:{default:!1,write:!0}})],mL.prototype,"returnMetadata",void 0),ji([Cn({type:[Number],json:{write:!0}})],mL.prototype,"size",void 0),ji([Cn({type:Number,json:{read:{source:"resultOffset"}}})],mL.prototype,"start",void 0),ji([Iu("start"),Iu("num")],mL.prototype,"writeStart",null),ji([Cn({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],mL.prototype,"where",void 0),mL=yL=ji([zs("esri.rest.support.AttachmentQuery")],mL),mL.from=Wi(mL);const vL=mL;var gL;let bL=gL=class extends rl{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,this.start>0&&null==this.where&&(t.definitionExpression="1=1")}clone(){return new gL(V({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};ji([Cn({type:Boolean,json:{write:!0}})],bL.prototype,"cacheHint",void 0),ji([Cn({type:JN,json:{write:!0}})],bL.prototype,"dynamicDataSource",void 0),ji([Cn({type:String,json:{write:!0}})],bL.prototype,"gdbVersion",void 0),ji([Cn({type:Number,json:{write:!0}})],bL.prototype,"geometryPrecision",void 0),ji([Cn({type:Date})],bL.prototype,"historicMoment",void 0),ji([Iu("historicMoment")],bL.prototype,"_writeHistoricMoment",null),ji([Cn({type:Number,json:{write:!0}})],bL.prototype,"maxAllowableOffset",void 0),ji([Cn({type:[Number],json:{write:!0}})],bL.prototype,"objectIds",void 0),ji([Cn({type:[String],json:{write:!0}})],bL.prototype,"orderByFields",void 0),ji([Cn({type:[String],json:{write:!0}})],bL.prototype,"outFields",void 0),ji([Cn({type:Fu,json:{read:{source:"outSR"},write:{target:"outSR"}}})],bL.prototype,"outSpatialReference",void 0),ji([Cn({json:{write:!0}})],bL.prototype,"relationshipId",void 0),ji([Cn({type:Number,json:{read:{source:"resultOffset"}}})],bL.prototype,"start",void 0),ji([Iu("start"),Iu("num")],bL.prototype,"writeStart",null),ji([Cn({type:Number,json:{read:{source:"resultRecordCount"}}})],bL.prototype,"num",void 0),ji([Cn({json:{write:!0}})],bL.prototype,"returnGeometry",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bL.prototype,"returnM",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],bL.prototype,"returnZ",void 0),ji([Cn({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],bL.prototype,"where",void 0),bL=gL=ji([zs("esri.rest.support.RelationshipQuery")],bL),bL.from=Wi(bL);const wL=bL;const SL=Object.freeze({__proto__:null,default:wL});const xL=new nl({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function jL(e,t,r,i){const n=await VL(e);if(await TL(e,t,i),!n.addAttachment)throw new me(i,"Layer source does not support addAttachment capability");return n.addAttachment(t,r)}function TL(e,t,r){const{attributes:i}=t,{objectIdField:n}=e;return e.get("capabilities.data.supportsAttachment")?t?i?n&&i[n]?Promise.resolve():Promise.reject(new me(r,`feature is missing the identifying attribute ${n}`)):Promise.reject(new me(r,"'attributes' are required on a feature to query attachments")):Promise.reject(new me(r,"A feature is required to add/delete/update attachments")):Promise.reject(new me(r,"this layer doesn't support attachments"))}async function IL(e,t,r,i,n){const s=await VL(e);if(await TL(e,t,n),!s.updateAttachment)throw new me(n,"Layer source does not support updateAttachment capability");return s.updateAttachment(t,r,i)}async function ML(e,t,r){const{applyEdits:i}=await import("./p-c3d1eaf6.js"),n=await e.load();return i(n,n.source,t,r)}async function EL(e,t,r){const{uploadAssets:i}=await import("./p-c3d1eaf6.js"),n=await e.load();return i(n,n.source,t,r)}async function FL(e,t,r,i){const n=await VL(e);if(await TL(e,t,i),!n.deleteAttachments)throw new me(i,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(t,r)}async function kL(e,t,r){const i=(await e.load({signal:t?.signal})).source;if(!i.fetchRecomputedExtents)throw new me(r,"Layer source does not support fetchUpdates capability");return i.fetchRecomputedExtents(t)}async function AL(e,t,r,i){t=vL.from(t),await e.load();const n=e.source,s=e.capabilities;if(!s?.data?.supportsAttachment)throw new me(i,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:u,size:c,start:d,where:h}=t;if(!s?.operations?.supportsQueryAttachments){if(o?.length>0||l?.length>0||c?.length>0||u||d||h)throw new me(i,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",t)}if(!(a?.length||l?.length||h))throw new me(i,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",t);if(!n.queryAttachments)throw new me(i,"Layer source does not support queryAttachments capability",t);return n.queryAttachments(t)}async function CL(e,t,r,i){const n=await VL(e);if(!n.queryObjectIds)throw new me(i,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(u$.from(t)??e.createQuery(),r)}async function OL(e,t,r,i){const n=await VL(e);if(!n.queryFeatureCount)throw new me(i,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(u$.from(t)??e.createQuery(),r)}async function PL(e,t,r,i){const n=await VL(e);if(!n.queryExtent)throw new me(i,"Layer source does not support queryExtent capability");return n.queryExtent(u$.from(t)??e.createQuery(),r)}async function DL(e,t,r,i){const n=await VL(e);if(!n.queryRelatedFeatures)throw new me(i,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(wL.from(t),r)}async function RL(e,t,r,i){const n=await VL(e);if(!n.queryRelatedFeaturesCount)throw new me(i,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(wL.from(t),r)}async function NL(e){const t=e.source;if(t?.refresh)try{const{dataChanged:r,updates:i}=await t.refresh();if(null!=i&&(e.sourceJSON={...e.sourceJSON,...i},e.read(i,{origin:"service",url:e.parsedUrl})),r)return!0}catch{}if(e.definitionExpression)try{return(await HA(e.definitionExpression,e.fieldsIndex)).hasDateFunctions}catch{}return!1}function $L(e){const t=new u$,r=e.get("capabilities.data"),i=e.get("capabilities.query");t.historicMoment=e.historicMoment,t.gdbVersion=e.gdbVersion,t.returnGeometry=!0,i&&(t.compactGeometryEnabled=i.supportsCompactGeometry,t.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference),r&&(r.supportsZ&&null!=e.returnZ&&(t.returnZ=e.returnZ),r.supportsM&&null!=e.returnM&&(t.returnM=e.returnM)),t.outFields=["*"];const{timeOffset:n,timeExtent:s}=e;return t.timeExtent=null!=n&&null!=s?s.offset(-n.value,n.unit):s||null,t.multipatchOption="multipatch"===e.geometryType?"xyFootprint":null,t}function LL(e){const{globalIdField:t,fields:r}=e;if(t)return t;if(r)for(const e of r)if("esriFieldTypeGlobalID"===e.type)return e.name}function _L(e){const{objectIdField:t,fields:r}=e;if(t)return t;if(r)for(const e of r)if("esriFieldTypeOID"===e.type)return e.name}function qL(e){return e.currentVersion?e.currentVersion:e.hasOwnProperty("capabilities")||e.hasOwnProperty("drawingInfo")||e.hasOwnProperty("hasAttachments")||e.hasOwnProperty("htmlPopupType")||e.hasOwnProperty("relationships")||e.hasOwnProperty("timeInfo")||e.hasOwnProperty("typeIdField")||e.hasOwnProperty("types")?10:9.3}async function VL(e){return(await e.load()).source}async function zL(e,t){if(!pr)return;if(pr.findCredential(e))return;let r;try{const i=await OE(e,t);i&&(r=await pr.checkSignInStatus(`${i}/sharing`))}catch(e){}if(r)try{const r=null!=t?t.signal:null;await pr.getCredential(e,{signal:r})}catch(e){}}async function WL(e,t){const r=e.parsedUrl?.path;r&&UL(e)&&await zL(r,t)}function UL(e){const t=e.editFieldsInfo;return!(!t?.creatorField&&!t?.editorField)||(e.userHasUpdateItemPrivileges?e.hasUpdateItemRestrictions:!!e.userHasFullEditingPrivileges&&e.hasFullEditingRestrictions)}function GL(e){return!e.sourceJSON?.isMultiServicesView&&(e.userHasUpdateItemPrivileges||e.editingEnabled)}const BL=ns({types:qT});function HL(e,t){if(e.defaultSymbol)return e.types&&e.types.length?new PA({defaultSymbol:BL(e.defaultSymbol,e,t),field:e.typeIdField,uniqueValueInfos:e.types.map((e=>({id:e.id,symbol:BL(e.symbol,e,t)})))}):new kk({symbol:BL(e.defaultSymbol,e,t)})}let JL=class extends(Yp(rl)){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};ji([Cn({type:String,json:{read:{source:"shapeAreaFieldName"}}})],JL.prototype,"shapeAreaField",void 0),ji([Cn({type:String,json:{read:{source:"shapeLengthFieldName"}}})],JL.prototype,"shapeLengthField",void 0),ji([Cn({type:String,json:{read:e=>xu.read(e)||ju.read(e)}})],JL.prototype,"units",void 0),JL=ji([zs("esri.layers.support.GeometryFieldsInfo")],JL);const ZL=JL;var QL;let KL=QL=class extends rl{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new by}clone(){return new QL({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};ji([Cn({type:String,json:{write:!0}})],KL.prototype,"floorField",void 0),ji([Cn({json:{read:!1,write:!1}})],KL.prototype,"viewAllMode",void 0),ji([Cn({json:{read:!1,write:!1}})],KL.prototype,"viewAllLevelIds",void 0),KL=QL=ji([zs("esri.layers.support.LayerFloorInfo")],KL);const YL=KL;const XL=new nl({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),e_=new nl({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let t_=class extends(Yp(rl)){constructor(e){super(e),this.cardinality=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};ji([Cn({json:{read:XL.read,write:XL.write}})],t_.prototype,"cardinality",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"composite",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"id",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"keyField",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"keyFieldInRelationshipTable",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"name",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"relatedTableId",void 0),ji([Cn({json:{read:!0,write:!0}})],t_.prototype,"relationshipTableId",void 0),ji([Cn({json:{read:e_.read,write:e_.write}})],t_.prototype,"role",void 0),t_=ji([zs("esri.layers.support.Relationship")],t_);const r_=t_;const i_={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function n_(e,t,r){return!!o_(e,t,r)}function s_(e,t,r){return o_(e,t,r)}function o_(e,t,r){return e&&e.hasOwnProperty(t)?e[t]:r}function a_(e){const t=e?.supportedSpatialAggregationStatistics?.map((e=>e.toLowerCase()));return{envelope:!!t?.includes("envelopeaggregate"),centroid:!!t?.includes("centroidaggregate"),convexHull:!!t?.includes("convexhullaggregate")}}function l_(e,t){const r=e?.supportedOperationsWithCacheHint?.map((e=>e.toLowerCase()));return!!r?.includes(t.toLowerCase())}function u_(e,t){return{analytics:c_(e),attachment:d_(e),data:h_(e),metadata:f_(e),operations:p_(e.capabilities,e,t),query:y_(e,t),queryRelated:m_(e),queryTopFeatures:v_(e),editing:g_(e)}}function c_(e){return{supportsCacheHint:l_(e.advancedQueryCapabilities,"queryAnalytics")}}function d_(e){const t=e.attachmentProperties,r={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:l_(e.advancedQueryCapabilities,"queryAttachments"),supportsResize:n_(e,"supportsAttachmentsResizing",!1)};return t&&Array.isArray(t)&&t.forEach((e=>{const t=i_[e.name];t&&(r[t]=!!e.isEnabled)})),r}function h_(e){return{isVersioned:n_(e,"isDataVersioned",!1),supportsAttachment:n_(e,"hasAttachments",!1),supportsM:n_(e,"hasM",!1),supportsZ:n_(e,"hasZ",!1)}}function f_(e){return{supportsAdvancedFieldProperties:n_(e,"supportsFieldDescriptionProperty",!1)}}function p_(e,t,r){const i=e?e.toLowerCase().split(",").map((e=>e.trim())):[],n=r?YP(r):null,s=i.includes(null!=n&&"MapServer"===n.serverType?"data":"query"),o=i.includes("editing")&&!t.datesInUnknownTimezone;let a=o&&i.includes("create"),l=o&&i.includes("delete"),u=o&&i.includes("update");const c=i.includes("changetracking"),d=t.advancedQueryCapabilities;return o&&!(a||l||u)&&(a=l=u=!0),{supportsCalculate:n_(t,"supportsCalculate",!1),supportsTruncate:n_(t,"supportsTruncate",!1),supportsValidateSql:n_(t,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:c,supportsQuery:s,supportsQueryAnalytics:n_(d,"supportsQueryAnalytic",!1),supportsQueryAttachments:n_(d,"supportsQueryAttachments",!1),supportsQueryTopFeatures:n_(d,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:n_(t,"supportsAttachmentsResizing",!1),supportsSync:i.includes("sync"),supportsUpdate:u,supportsExceedsLimitStatistics:n_(t,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:n_(t,"supportsAsyncConvert3D",!1)}}function y_(e,r){const i=e.advancedQueryCapabilities,n=e.ownershipBasedAccessControlForFeatures,s=e.archivingInfo,o=e.currentVersion,a=r?.includes("MapServer"),l=!a||o>=t("mapserver-pbf-version-support"),u=rD(r),c=new Set((e.supportedQueryFormats??"").split(",").map((e=>e.toLowerCase().trim())));return{supportsStatistics:n_(i,"supportsStatistics",e.supportsStatistics),supportsPercentileStatistics:n_(i,"supportsPercentileStatistics",!1),supportsSpatialAggregationStatistics:n_(i,"supportsSpatialAggregationStatistics",!1),supportedSpatialAggregationStatistics:a_(i),supportsCentroid:n_(i,"supportsReturningGeometryCentroid",!1),supportsDistance:n_(i,"supportsQueryWithDistance",!1),supportsDistinct:n_(i,"supportsDistinct",e.supportsAdvancedQueries),supportsExtent:n_(i,"supportsReturningQueryExtent",!1),supportsGeometryProperties:n_(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:n_(i,"supportsHavingClause",!1),supportsOrderBy:n_(i,"supportsOrderBy",e.supportsAdvancedQueries),supportsPagination:n_(i,"supportsPagination",!1),supportsQuantization:n_(e,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:n_(e,"supportsQuantizationEditMode",!1),supportsQueryGeometry:n_(e,"supportsReturningQueryGeometry",!1),supportsResultType:n_(i,"supportsQueryWithResultType",!1),supportsMaxRecordCountFactor:n_(i,"supportsMaxRecordCountFactor",!1),supportsSqlExpression:n_(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:n_(e,"useStandardizedQueries",!1),supportsTopFeaturesQuery:n_(i,"supportsTopFeaturesQuery",!1),supportsQueryByOthers:n_(n,"allowOthersToQuery",!0),supportsHistoricMoment:n_(s,"supportsQueryWithHistoricMoment",!1),supportsFormatPBF:l&&c.has("pbf"),supportsDisjointSpatialRelationship:n_(i,"supportsDisjointSpatialRel",!1),supportsCacheHint:n_(i,"supportsQueryWithCacheHint",!1)||l_(i,"query"),supportsDefaultSpatialReference:n_(i,"supportsDefaultSR",!1),supportsCompactGeometry:u,supportsFullTextSearch:n_(i,"supportsFullTextSearch",!1),maxRecordCountFactor:s_(e,"maxRecordCountFactor",void 0),maxRecordCount:s_(e,"maxRecordCount",void 0),standardMaxRecordCount:s_(e,"standardMaxRecordCount",void 0),tileMaxRecordCount:s_(e,"tileMaxRecordCount",void 0)}}function m_(e){const t=e.advancedQueryCapabilities,r=n_(t,"supportsAdvancedQueryRelated",!1);return{supportsPagination:n_(t,"supportsQueryRelatedPagination",!1),supportsCount:r,supportsOrderBy:r,supportsCacheHint:l_(t,"queryRelated")}}function v_(e){return{supportsCacheHint:l_(e.advancedQueryCapabilities,"queryTopFilter")}}function g_(e){const t=e.ownershipBasedAccessControlForFeatures,r=e?e.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:n_(e,"allowGeometryUpdates",!0),supportsGlobalId:n_(e,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:n_(e,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:n_(e,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:n_(e,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:n_(e,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:n_(t,"allowAnonymousToDelete",!0),supportsDeleteByOthers:n_(t,"allowOthersToDelete",!0),supportsUpdateByAnonymous:n_(t,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:n_(t,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:n_(r,"supportsAsyncApplyEdits",!1)}}const b_=e=>{let t=class extends e{constructor(){super(...arguments),this.capabilities=null,this.copyright=null,this.dateFieldsTimeReference=null,this.datesInUnknownTimezone=!1,this.displayField=null,this.definitionExpression=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.isTable=!1,this.layerId=void 0,this.minScale=0,this.maxScale=0,this.globalIdField=null,this.objectIdField=null,this.preferredTimeReference=null,this.relationships=null,this.sourceJSON=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.spatialReference=Fu.WGS84,this.subtypeField=null,this.trackIdField=null,this.indexes=new(by.ofType(pL)),this.version=void 0}readCapabilitiesFromService(e,t){return u_(t,this.url)}get effectiveCapabilities(){const e=this.capabilities;if(!e)return null;const t=V(e),{operations:r,editing:i}=t;return this.sourceJSON?.isMultiServicesView?(this.userHasUpdateItemPrivileges&&(r.supportsQuery=!0),t):this.userHasUpdateItemPrivileges?(r.supportsAdd=r.supportsDelete=r.supportsEditing=r.supportsQuery=r.supportsUpdate=i.supportsDeleteByOthers=i.supportsGeometryUpdate=i.supportsUpdateByOthers=!0,t):(this.userHasFullEditingPrivileges&&r.supportsEditing&&(r.supportsAdd=r.supportsDelete=r.supportsUpdate=i.supportsGeometryUpdate=!0),t)}get hasFullEditingRestrictions(){const e=this.capabilities;if(!e||this.sourceJSON?.isMultiServicesView)return!1;const{operations:t,editing:r}=e;return t.supportsEditing&&!(t.supportsAdd&&t.supportsDelete&&t.supportsUpdate&&r.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const e=this.capabilities;if(!e)return!1;const{operations:t,editing:r}=e;return this.sourceJSON?.isMultiServicesView?!t.supportsQuery:!(t.supportsAdd&&t.supportsDelete&&t.supportsEditing&&t.supportsQuery&&t.supportsUpdate&&r.supportsDeleteByOthers&&r.supportsGeometryUpdate&&r.supportsUpdateByOthers)}readEditingInfo(e,t){const{editingInfo:r}=t;return r?{lastEditDate:null!=r.lastEditDate?new Date(r.lastEditDate):null}:null}readIsTableFromService(e,t){return"Table"===t.type}readMinScale(e,t){return t.effectiveMinScale||e||0}readMaxScale(e,t){return t.effectiveMaxScale||e||0}readGlobalIdFieldFromService(e,t){return LL(t)}readObjectIdFieldFromService(e,t){return _L(t)}readServiceDefinitionExpression(e,t){return t.definitionQuery||t.definitionExpression}set url(e){const t=nD({layer:this,url:e,nonStandardUrlAllowed:!0,logger:fe.getLogger(this)});this._set("url",t.url),null!=t.layerId&&this._set("layerId",t.layerId)}writeUrl(e,t,r,i){sD(this,e,null,t,i)}readVersion(e,t){return qL(t)}};return ji([Cn({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","maxRecordCount","maxRecordCountFactor","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],t.prototype,"capabilities",void 0),ji([il("service","capabilities")],t.prototype,"readCapabilitiesFromService",null),ji([Cn({readOnly:!0})],t.prototype,"effectiveCapabilities",null),ji([Cn({readOnly:!0})],t.prototype,"hasFullEditingRestrictions",null),ji([Cn({readOnly:!0})],t.prototype,"hasUpdateItemRestrictions",null),ji([Cn({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],t.prototype,"copyright",void 0),ji([Cn({type:dL})],t.prototype,"dateFieldsTimeReference",void 0),ji([Cn({type:Boolean})],t.prototype,"datesInUnknownTimezone",void 0),ji([Cn({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],t.prototype,"displayField",void 0),ji([Cn({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],t.prototype,"definitionExpression",void 0),ji([Cn({readOnly:!0,type:fL})],t.prototype,"editFieldsInfo",void 0),ji([Cn({readOnly:!0})],t.prototype,"editingInfo",void 0),ji([il("editingInfo")],t.prototype,"readEditingInfo",null),ji([Cn((()=>{const e=V(Z$),t=e.json.origins;return t["web-map"]={read:!1,write:!1},t["portal-item"]={read:!1,write:!1},e})())],t.prototype,"elevationInfo",void 0),ji([Cn({type:YL,json:{read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo"}}})],t.prototype,"floorInfo",void 0),ji([Cn({type:Rc,json:{origins:{service:{read:{source:"extent"}}}}})],t.prototype,"fullExtent",void 0),ji([Cn()],t.prototype,"gdbVersion",void 0),ji([Cn({readOnly:!0,type:ZL,json:{read:{source:"geometryProperties"}}})],t.prototype,"geometryFieldsInfo",void 0),ji([Cn({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:xL.read}}}})],t.prototype,"geometryType",void 0),ji([Cn({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasM",void 0),ji([Cn({type:Boolean,json:{origins:{service:{read:!0}}}})],t.prototype,"hasZ",void 0),ji([Cn({readOnly:!0,type:A$})],t.prototype,"heightModelInfo",void 0),ji([Cn({type:Date})],t.prototype,"historicMoment",void 0),ji([Cn({readOnly:!0})],t.prototype,"isTable",void 0),ji([il("service","isTable",["type"])],t.prototype,"readIsTableFromService",null),ji([Cn({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],t.prototype,"layerId",void 0),ji([Cn(iL)],t.prototype,"minScale",void 0),ji([il("service","minScale",["minScale","effectiveMinScale"])],t.prototype,"readMinScale",null),ji([Cn(nL)],t.prototype,"maxScale",void 0),ji([il("service","maxScale",["maxScale","effectiveMaxScale"])],t.prototype,"readMaxScale",null),ji([Cn({type:String})],t.prototype,"globalIdField",void 0),ji([il("service","globalIdField",["globalIdField","fields"])],t.prototype,"readGlobalIdFieldFromService",null),ji([Cn({type:String})],t.prototype,"objectIdField",void 0),ji([il("service","objectIdField",["objectIdField","fields"])],t.prototype,"readObjectIdFieldFromService",null),ji([Cn({type:dL})],t.prototype,"preferredTimeReference",void 0),ji([Cn({type:[r_],readOnly:!0})],t.prototype,"relationships",void 0),ji([Cn()],t.prototype,"sourceJSON",void 0),ji([Cn({type:Boolean})],t.prototype,"returnM",void 0),ji([Cn({type:Boolean})],t.prototype,"returnZ",void 0),ji([Cn({readOnly:!0})],t.prototype,"serviceDefinitionExpression",void 0),ji([il("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],t.prototype,"readServiceDefinitionExpression",null),ji([Cn({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],t.prototype,"serviceItemId",void 0),ji([Cn({type:Fu,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],t.prototype,"spatialReference",void 0),ji([Cn({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],t.prototype,"subtypeField",void 0),ji([Cn({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],t.prototype,"trackIdField",void 0),ji([Cn({readOnly:!0,json:{write:!1}})],t.prototype,"serverGens",void 0),ji([Cn({type:by.ofType(pL),readOnly:!0})],t.prototype,"indexes",void 0),ji([Cn(H$)],t.prototype,"url",null),ji([Iu("url")],t.prototype,"writeUrl",null),ji([Cn({json:{origins:{service:{read:!0}},read:!1}})],t.prototype,"version",void 0),ji([il("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],t.prototype,"readVersion",null),t=ji([zs("esri.layers.mixins.FeatureLayerBase")],t),t};let w_=class extends(Yp(rl)){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};ji([Cn({type:String,json:{write:!0}})],w_.prototype,"expression",void 0),ji([Cn({type:String,json:{write:!0}})],w_.prototype,"title",void 0),ji([Cn({type:String,json:{write:!0}})],w_.prototype,"returnType",void 0),w_=ji([zs("esri.layers.support.ExpressionInfo")],w_);const S_=w_;var x_;let j_=x_=class extends rl{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new x_({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:V(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}};ji([Cn({type:Boolean,json:{write:!0}})],j_.prototype,"isAutoGenerated",void 0),ji([Cn({type:String,json:{write:!0}})],j_.prototype,"name",void 0),ji([Cn({type:String,json:{write:!0}})],j_.prototype,"alias",void 0),ji([Cn({type:String,json:{write:!0}})],j_.prototype,"onStatisticField",void 0),ji([Cn({type:S_,json:{write:!0}})],j_.prototype,"onStatisticExpression",void 0),ji([Cn({type:String,json:{write:!0}})],j_.prototype,"statisticType",void 0),j_=x_=ji([zs("esri.layers.support.AggregateField")],j_);const T_=j_;let I_=class extends rl{constructor(){super(...arguments),this.type=null}};ji([Cn({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],I_.prototype,"type",void 0),I_=ji([zs("esri.layers.support.FeatureReduction")],I_);const M_="__begin__",E_="__end__",F_=new RegExp(M_,"ig"),k_=new RegExp(E_,"ig"),A_=new RegExp("^"+M_,"i"),C_=new RegExp(E_+"$","i"),O_='"',P_=O_+" + ",D_=" + "+O_;function R_(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function N_(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function $_(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=R_(e.labelExpression),t.type="conventional"),t}function L_(e){const t=$_(e);if(!t)return null;switch(t.type){case"conventional":return q_(t.expression);case"arcade":return t.expression}return null}function __(e){const t=$_(e);if(!t)return null;switch(t.type){case"conventional":return z_(t.expression);case"arcade":return B_(t.expression)}return null}function q_(e){let t;return e?(t=ae(e,(e=>M_+'$feature["'+e+'"]'+E_)),t=A_.test(t)?t.replace(A_,""):O_+t,t=C_.test(t)?t.replace(C_,""):t+O_,t=t.replaceAll(F_,P_).replaceAll(k_,D_)):t='""',t}const V_=/^\s*\{([^}]+)\}\s*$/i;function z_(e){const t=e?.match(V_);return t&&t[1].trim()||null}const W_=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*$/i,U_=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])([\w\s]+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,G_=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])([\w\s]+)(\1)\s*\));?\s*$/i;function B_(e){if(!e)return null;let t=W_.exec(e)||U_.exec(e);return t?t[1]||t[3]:(t=G_.exec(e),t?t[2]:null)}var H_;let J_=H_=class extends rl{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,t){return t.value?q_(t.value):e}writeExpression(e,t,r){null!=this.value&&(e=q_(this.value)),null!=e&&(t[r]=e)}clone(){return new H_({expression:this.expression,title:this.title,value:this.value})}};ji([Cn({type:String,json:{write:{writerEnsuresNonNull:!0}}})],J_.prototype,"expression",void 0),ji([il("expression",["expression","value"])],J_.prototype,"readExpression",null),ji([Iu("expression")],J_.prototype,"writeExpression",null),ji([Cn({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],J_.prototype,"title",void 0),ji([Cn({json:{read:!1,write:!1}})],J_.prototype,"value",void 0),J_=H_=ji([zs("esri.layers.support.LabelExpressionInfo")],J_);const Z_=J_;const Q_=[252,146,31,255],K_={type:"esriSMS",style:"esriSMSCircle",size:6,color:Q_,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},Y_={type:"esriSLS",style:"esriSLSSolid",width:.75,color:Q_},X_={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},eq={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},tq={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},rq={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},iq={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null};const nq=FT.fromJSON(K_),sq=ww.fromJSON(Y_),oq=TT.fromJSON(X_),aq=CT.fromJSON(eq);const lq=FT.fromJSON(tq),uq=ww.fromJSON(rq),cq=TT.fromJSON(iq);var dq;const hq=new nl({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function fq(e,t,r){return{enabled:!kE(r?.layer)}}function pq(e){return!e||"service"!==e.origin&&!("map-image"===e.layer?.type)}function yq(e){return"map-image"===e?.type}function mq(e){return!!yq(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function vq(e){return pq(e)||mq(e?.layer)}let gq=dq=class extends rl{static evaluateWhere(e,t){const r=(e,t,r)=>{switch(t){case"=":return e==r;case"<>":return e!=r;case">":return e>r;case">=":return e>=r;case"<":return e<r;case"<=":return e<=r}return!1};try{if(null==e)return!0;const i=e.split(" ");if(3===i.length)return r(t[i[0]],i[1],i[2]);if(7===i.length){const e=r(t[i[0]],i[1],i[2]),n=i[3],s=r(t[i[4]],i[5],i[6]);switch(n){case"AND":return e&&s;case"OR":return e||s}}return!1}catch(t){console.log("Error.: can't parse = "+e)}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=aq,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const r=t.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,t,r){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=N_(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=B_(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[r]=e)}writeLabelExpressionInfo(e,t,r,i){if(null==e&&null!=this.labelExpression&&pq(i))e=new Z_({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(i);n.expression&&(t[r]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return $_(this)}getLabelExpressionArcade(){return L_(this)}getLabelExpressionSingleField(){return __(this)}hash(){return JSON.stringify(this)}clone(){return new dq({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:V(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:V(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};ji([Cn({type:String,json:{write:!0}})],gq.prototype,"name",void 0),ji([Cn({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:fq}}}}})],gq.prototype,"allowOverrun",void 0),ji([Cn({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:fq}}}}})],gq.prototype,"deconflictionStrategy",void 0),ji([Cn({type:String,json:{write:{overridePolicy(e,t,r){return this.labelExpressionInfo&&"service"===r?.origin&&mq(r.layer)?{enabled:!1}:{allowNull:!0}}}}})],gq.prototype,"labelExpression",void 0),ji([il("labelExpression")],gq.prototype,"readLabelExpression",null),ji([Iu("labelExpression")],gq.prototype,"writeLabelExpression",null),ji([Cn({type:Z_,json:{write:{overridePolicy:(e,t,r)=>vq(r)?{allowNull:!0}:{enabled:!1}}}})],gq.prototype,"labelExpressionInfo",void 0),ji([Iu("labelExpressionInfo")],gq.prototype,"writeLabelExpressionInfo",null),ji([Cn({type:hq.apiValues,json:{type:hq.jsonValues,read:hq.read,write:hq.write}})],gq.prototype,"labelPlacement",void 0),ji([Cn({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],gq.prototype,"labelPosition",void 0),ji([Cn({type:Number})],gq.prototype,"maxScale",void 0),ji([Iu("maxScale")],gq.prototype,"writeMaxScale",null),ji([Cn({type:Number})],gq.prototype,"minScale",void 0),ji([Iu("minScale")],gq.prototype,"writeMinScale",null),ji([Cn({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:fq}}}}})],gq.prototype,"repeatLabel",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:fq}}}}})],gq.prototype,"repeatLabelDistance",void 0),ji([Cn({types:VT,json:{origins:{"web-scene":{types:WT,write:qE,default:null}},write:qE,default:null}})],gq.prototype,"symbol",void 0),ji([Cn({type:Boolean,json:{write:!0}})],gq.prototype,"useCodedValues",void 0),ji([Cn({type:String,json:{write:!0}})],gq.prototype,"where",void 0),gq=dq=ji([zs("esri.layers.support.LabelClass")],gq);const bq=gq;var wq;const Sq="esri.layers.support.FeatureReductionBinning";let xq=wq=class extends I_{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=3,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.fields=[],this.renderer=null}writeFields(e,t,r){const i=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));te(r,i,t)}readRenderer(e,t,r){const i=t.drawingInfo?.renderer;return i?LA(i,t,r)??void 0:HL(t,r)}clone(){return new wq({fields:V(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:V(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:V(this.popupTemplate),renderer:V(this.renderer)})}};ji([iv({binning:"binning"})],xq.prototype,"type",void 0),ji([iv({geohash:"geohash"})],xq.prototype,"binType",void 0),ji([Cn({type:Number,range:{min:1,max:9},json:{write:!0}})],xq.prototype,"fixedBinLevel",void 0),ji([Cn({type:[bq],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],xq.prototype,"labelingInfo",void 0),ji([Cn(B$)],xq.prototype,"labelsVisible",void 0),ji([Cn({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],xq.prototype,"maxScale",void 0),ji([Cn(G$)],xq.prototype,"popupEnabled",void 0),ji([Cn({type:yb,json:{name:"popupInfo",write:!0}})],xq.prototype,"popupTemplate",void 0),ji([Cn({type:[T_],json:{write:!0}})],xq.prototype,"fields",void 0),ji([Iu("fields")],xq.prototype,"writeFields",null),ji([Cn({types:DA,json:{write:{target:"drawingInfo.renderer"}}})],xq.prototype,"renderer",void 0),ji([il("renderer",["drawingInfo.renderer"])],xq.prototype,"readRenderer",null),xq=wq=ji([zs(Sq)],xq);const jq=xq;var Tq;const Iq="esri.layers.support.FeatureReductionCluster";function Mq(e){return"simple"===e.type&&!e.visualVariables?.length}let Eq=Tq=class extends rl{constructor(e){super(e),this.type="cluster",this.clusterRadius=Vb("80px"),this.clusterMinSize=Vb("12px"),this.clusterMaxSize=Vb("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=null}readRenderer(e,t,r){const i=t.drawingInfo?.renderer;return i?.authoringInfo?.isAutoGenerated?null:i?Mq(i)?null:LA(i,t,r)??void 0:HL(t,r)}readSymbol(e,t,r){const i=t.drawingInfo?.renderer;if(i?.authoringInfo?.isAutoGenerated)return null;if(i&&Mq(i)){const e=LA(i,t,r);return e?.symbol}return null}writeSymbol(e,t,r,i){const n=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||n){const r=new kk({symbol:e});t.drawingInfo={renderer:r.write({},i)}}}writeFields(e,t,r){const i=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));te(r,i,t)}readFields(e,t,r){return e.filter((e=>!e.isAutoGenerated)).map((e=>T_.fromJSON(e)))}clone(){return new Tq({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:V(this.labelingInfo),labelsVisible:this.labelsVisible,fields:V(this.fields),maxScale:this.maxScale,renderer:V(this.renderer),symbol:V(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:V(this.popupTemplate)})}};ji([Cn({type:["cluster"],readOnly:!0,json:{write:!0}})],Eq.prototype,"type",void 0),ji([Cn({type:Number,cast:e=>"auto"===e?e:Vb(e),json:{write:!0}})],Eq.prototype,"clusterRadius",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Eq.prototype,"clusterMinSize",void 0),ji([Cn({type:Number,cast:Vb,json:{write:!0}})],Eq.prototype,"clusterMaxSize",void 0),ji([Cn({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],Eq.prototype,"maxScale",void 0),ji([Cn(G$)],Eq.prototype,"popupEnabled",void 0),ji([Cn({type:yb,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],Eq.prototype,"popupTemplate",void 0),ji([Cn({types:DA,json:{write:{target:"drawingInfo.renderer"}}})],Eq.prototype,"renderer",void 0),ji([il("renderer",["drawingInfo.renderer"])],Eq.prototype,"readRenderer",null),ji([Cn({types:LT})],Eq.prototype,"symbol",void 0),ji([il("symbol",["drawingInfo.renderer"])],Eq.prototype,"readSymbol",null),ji([Iu("symbol")],Eq.prototype,"writeSymbol",null),ji([Cn({type:[bq],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],Eq.prototype,"labelingInfo",void 0),ji([Cn(B$)],Eq.prototype,"labelsVisible",void 0),ji([Cn({type:[T_],json:{write:!0}})],Eq.prototype,"fields",void 0),ji([Iu("fields")],Eq.prototype,"writeFields",null),ji([il("fields")],Eq.prototype,"readFields",null),Eq=Tq=ji([zs(Iq)],Eq);const Fq=Eq;var kq;let Aq=kq=class extends I_{constructor(e){super(e),this.type="selection"}clone(){return new kq}};ji([Cn({type:["selection"]})],Aq.prototype,"type",void 0),Aq=kq=ji([zs("esri.layers.support.FeatureReductionSelection")],Aq);const Cq=Aq;const Oq={key:"type",base:I_,typeMap:{cluster:Fq,binning:jq}},Pq={types:{key:"type",base:I_,typeMap:{selection:Cq,cluster:Fq,binning:jq}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:Oq},"portal-item":{types:Oq},"web-scene":{types:{key:"type",base:I_,typeMap:{selection:Cq}}}}}};const Dq={Base64:0,Hex:1,String:2,Raw:3},Rq=8,Nq=(1<<Rq)-1;function $q(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function Lq(e){const t=[];for(let r=0,i=e.length*Rq;r<i;r+=Rq)t[r>>5]|=(e.charCodeAt(r/Rq)&Nq)<<r%32;return t}function _q(e){const t=[];for(let r=0,i=32*e.length;r<i;r+=Rq)t.push(String.fromCharCode(e[r>>5]>>>r%32&Nq));return t.join("")}function qq(e){const t="0123456789abcdef",r=[];for(let i=0,n=4*e.length;i<n;i++)r.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return r.join("")}function Vq(e){const t="=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[];for(let n=0,s=4*e.length;n<s;n+=3){const s=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let o=0;o<4;o++)8*n+6*o>32*e.length?i.push(t):i.push(r.charAt(s>>6*(3-o)&63))}return i.join("")}function zq(e,t){return e<<t|e>>>32-t}function Wq(e,t,r,i,n,s){return $q(zq($q($q(t,e),$q(i,s)),n),r)}function Uq(e,t,r,i,n,s,o){return Wq(t&r|~t&i,e,t,n,s,o)}function Gq(e,t,r,i,n,s,o){return Wq(t&i|r&~i,e,t,n,s,o)}function Bq(e,t,r,i,n,s,o){return Wq(t^r^i,e,t,n,s,o)}function Hq(e,t,r,i,n,s,o){return Wq(r^(t|~i),e,t,n,s,o)}function Jq(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let r=1732584193,i=-271733879,n=-1732584194,s=271733878;for(let t=0;t<e.length;t+=16){const o=r,a=i,l=n,u=s;r=Uq(r,i,n,s,e[t],7,-680876936),s=Uq(s,r,i,n,e[t+1],12,-389564586),n=Uq(n,s,r,i,e[t+2],17,606105819),i=Uq(i,n,s,r,e[t+3],22,-1044525330),r=Uq(r,i,n,s,e[t+4],7,-176418897),s=Uq(s,r,i,n,e[t+5],12,1200080426),n=Uq(n,s,r,i,e[t+6],17,-1473231341),i=Uq(i,n,s,r,e[t+7],22,-45705983),r=Uq(r,i,n,s,e[t+8],7,1770035416),s=Uq(s,r,i,n,e[t+9],12,-1958414417),n=Uq(n,s,r,i,e[t+10],17,-42063),i=Uq(i,n,s,r,e[t+11],22,-1990404162),r=Uq(r,i,n,s,e[t+12],7,1804603682),s=Uq(s,r,i,n,e[t+13],12,-40341101),n=Uq(n,s,r,i,e[t+14],17,-1502002290),i=Uq(i,n,s,r,e[t+15],22,1236535329),r=Gq(r,i,n,s,e[t+1],5,-165796510),s=Gq(s,r,i,n,e[t+6],9,-1069501632),n=Gq(n,s,r,i,e[t+11],14,643717713),i=Gq(i,n,s,r,e[t],20,-373897302),r=Gq(r,i,n,s,e[t+5],5,-701558691),s=Gq(s,r,i,n,e[t+10],9,38016083),n=Gq(n,s,r,i,e[t+15],14,-660478335),i=Gq(i,n,s,r,e[t+4],20,-405537848),r=Gq(r,i,n,s,e[t+9],5,568446438),s=Gq(s,r,i,n,e[t+14],9,-1019803690),n=Gq(n,s,r,i,e[t+3],14,-187363961),i=Gq(i,n,s,r,e[t+8],20,1163531501),r=Gq(r,i,n,s,e[t+13],5,-1444681467),s=Gq(s,r,i,n,e[t+2],9,-51403784),n=Gq(n,s,r,i,e[t+7],14,1735328473),i=Gq(i,n,s,r,e[t+12],20,-1926607734),r=Bq(r,i,n,s,e[t+5],4,-378558),s=Bq(s,r,i,n,e[t+8],11,-2022574463),n=Bq(n,s,r,i,e[t+11],16,1839030562),i=Bq(i,n,s,r,e[t+14],23,-35309556),r=Bq(r,i,n,s,e[t+1],4,-1530992060),s=Bq(s,r,i,n,e[t+4],11,1272893353),n=Bq(n,s,r,i,e[t+7],16,-155497632),i=Bq(i,n,s,r,e[t+10],23,-1094730640),r=Bq(r,i,n,s,e[t+13],4,681279174),s=Bq(s,r,i,n,e[t],11,-358537222),n=Bq(n,s,r,i,e[t+3],16,-722521979),i=Bq(i,n,s,r,e[t+6],23,76029189),r=Bq(r,i,n,s,e[t+9],4,-640364487),s=Bq(s,r,i,n,e[t+12],11,-421815835),n=Bq(n,s,r,i,e[t+15],16,530742520),i=Bq(i,n,s,r,e[t+2],23,-995338651),r=Hq(r,i,n,s,e[t],6,-198630844),s=Hq(s,r,i,n,e[t+7],10,1126891415),n=Hq(n,s,r,i,e[t+14],15,-1416354905),i=Hq(i,n,s,r,e[t+5],21,-57434055),r=Hq(r,i,n,s,e[t+12],6,1700485571),s=Hq(s,r,i,n,e[t+3],10,-1894986606),n=Hq(n,s,r,i,e[t+10],15,-1051523),i=Hq(i,n,s,r,e[t+1],21,-2054922799),r=Hq(r,i,n,s,e[t+8],6,1873313359),s=Hq(s,r,i,n,e[t+15],10,-30611744),n=Hq(n,s,r,i,e[t+6],15,-1560198380),i=Hq(i,n,s,r,e[t+13],21,1309151649),r=Hq(r,i,n,s,e[t+4],6,-145523070),s=Hq(s,r,i,n,e[t+11],10,-1120210379),n=Hq(n,s,r,i,e[t+2],15,718787259),i=Hq(i,n,s,r,e[t+9],21,-343485551),r=$q(r,o),i=$q(i,a),n=$q(n,l),s=$q(s,u)}return[r,i,n,s]}function Zq(e,t=Dq.Hex){const r=t||Dq.Base64,i=Jq(Lq(e),e.length*Rq);switch(r){case Dq.Raw:return i;case Dq.Hex:return qq(i);case Dq.String:return _q(i);case Dq.Base64:return Vq(i)}}var Qq;let Kq=Qq=class extends gE{writeLevels(e,t,r){for(const r in e){const e=this.levels[r];return void(t.stops=e)}}clone(){return new Qq({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:NM(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:NM(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops&&this.stops.map((e=>e.clone())),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions&&this.legendOptions.clone(),levels:V(this.levels)})}};ji([Cn()],Kq.prototype,"levels",void 0),ji([Iu("levels")],Kq.prototype,"writeLevels",null),Kq=Qq=ji([zs("esri.views.2d.engine.LevelDependentSizeVariable")],Kq);const Yq=fe.getLogger("esri.views.2d.layers.support.clusterUtils");t.add("esri-cluster-arcade-enabled",!0);const Xq=t("esri-cluster-arcade-enabled"),eV=(e,t,r,i,n)=>{const s=t.clone();if(!sV(s))return s;if(s.authoringInfo||(s.authoringInfo=new XI),s.authoringInfo.isAutoGenerated=!0,"visualVariables"in s){const t=(s.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression)),o=tV(t);t.forEach((t=>{"rotation"===t.type?t.field?t.field=lV(e,t.field,"avg_angle","number"):t.valueExpression&&(t.field=aV(e,t.valueExpression,"avg_angle","number"),t.valueExpression=null):t.normalizationField?(t.field=lV(e,t.field,"avg_norm","number",t.normalizationField),t.normalizationField=null):t.field?t.field=lV(e,t.field,"avg","number"):t.valueExpression&&(t.field=aV(e,t.valueExpression,"avg","number"),t.valueExpression=null)})),null==o&&!iV(t)&&n&&(t.push(nV(r,i)),s.dynamicClusterSize=!0),s.visualVariables=t}switch(s.type){case"simple":break;case"pie-chart":for(const t of s.attributes)t.field?t.field=lV(e,t.field,"sum","number"):t.valueExpression&&(t.field=aV(e,t.valueExpression,"sum","number"),t.valueExpression=null);break;case"unique-value":s.field?s.field=lV(e,s.field,"mode","string"):s.valueExpression&&(s.field=aV(e,s.valueExpression,"mode","string"),s.valueExpression=null);break;case"class-breaks":s.normalizationField?(s.field=lV(e,s.field,"avg_norm","number",s.normalizationField),s.normalizationField=null):s.field?s.field=lV(e,s.field,"avg","number"):s.valueExpression&&(s.field=aV(e,s.valueExpression,"avg","number"),s.valueExpression=null)}return s},tV=e=>{for(const t of e)if("size"===t.type)return t;return null};function rV(e,t,r){const i=e.clone();let n=!1;if("visualVariables"in i){const e=(i.visualVariables||[]).filter((e=>"$view.scale"!==e.valueExpression));null==tV(e)&&(i.visualVariables||(i.visualVariables=[]),i.visualVariables.push(nV(t,r)),i.dynamicClusterSize=!0,n=!0)}return{renderer:i,didInject:n}}const iV=e=>{for(const t of e)if("cluster_count"===t.field)return!0;return!1},nV=(e,t)=>{const r=[new AM({value:0,size:0}),new AM({value:1})];if(null==t)return new gE({field:"cluster_count",stops:[...r,new AM({value:2,size:0})]});const i=Object.keys(t).reduce(((i,n)=>({...i,[n]:[...r,new AM({value:Math.max(2,t[n].minValue),size:e.clusterMinSize}),new AM({value:Math.max(3,t[n].maxValue),size:e.clusterMaxSize})]})),{});return new Kq({field:"cluster_count",levels:i})},sV=e=>{const t=t=>Yq.error(new me("Unsupported-renderer",t,{renderer:e}));if(!e)return!1;switch(e.type){case"unique-value":if(e.field2||e.field3)return t("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(e.normalizationField){const r=e.normalizationType;if("field"!==r)return t(`FeatureReductionCluster does not support a normalizationType of ${r}`),!1}break;case"simple":case"pie-chart":break;default:return t(`FeatureReductionCluster does not support renderers of type ${e.type}`),!1}if(!Xq){if("valueExpression"in e&&e.valueExpression)return t("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in e&&e.visualVariables||[]).some((e=>!(!("valueExpression"in e)||!e.valueExpression))))return t("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function oV(e,t,r){switch(e){case"sum":return`cluster_sum_${t}`;case"avg":case"avg_angle":return`cluster_avg_${t}`;case"mode":return`cluster_type_${t}`;case"avg_norm":{const e=r,i="field",n=t.toLowerCase()+",norm:"+i+","+e.toLowerCase();return"cluster_avg_"+Zq(n)}}}function aV(e,t,r,i){const n=Zq(t),s="mode"===r?`cluster_type_${n}`:"sum"===r?`cluster_sum_${n}`:`cluster_avg_${n}`;return e.some((e=>e.name===s))||e.push(new T_({name:s,isAutoGenerated:!0,onStatisticExpression:new S_({expression:t,returnType:i}),statisticType:r})),s}function lV(e,t,r,i,n){if("cluster_count"===t||e.some((e=>e.name===t)))return t;const s=oV(r,t,n);return e.some((e=>e.name===s))||("avg_norm"===r?e.push(new T_({name:s,isAutoGenerated:!0,onStatisticExpression:new S_({expression:`$feature.${t} / $feature.${n}`,returnType:i}),statisticType:"avg"})):e.push(new T_({name:s,isAutoGenerated:!0,onStatisticField:t,statisticType:r}))),s}const uV=e=>{let t=class extends e{constructor(...e){super(...e),this.own(this.watch("renderer",(()=>{if(this.featureReduction){const e=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",e)}}),!0))}set featureReduction(e){const t=this._normalizeFeatureReduction(e);this._set("featureReduction",t)}set renderer(e){}_normalizeFeatureReduction(e){if("cluster"!==e?.type)return e;const t=e.clone(),r=[new T_({name:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],i=(t.fields??[]).filter((e=>!e.isAutoGenerated));if(e.renderer&&!e.renderer.authoringInfo?.isAutoGenerated)return t.fields=[...r,...i],t;if(e.symbol)return t.fields=[...r,...i],t.renderer=null,t;if(!this.renderer)return e;const n=eV(r,this.renderer,e,null,!1);return t.fields=[...r,...i],t.renderer=n,t}};return ji([Cn(Pq)],t.prototype,"featureReduction",null),t=ji([zs("esri.layers.mixins.FeatureReductionLayer")],t),t};const cV={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CSV:!0,GeoRSS:!0,GeoJSON:!0,GroupLayer:!0,KML:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},dV={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0,BingMapsAerial:!0,BingMapsRoad:!0,BingMapsHybrid:!0},hV={ArcGISFeatureLayer:!0},fV={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,GroupLayer:!0,IntegratedMeshLayer:!0,OGCFeatureLayer:!0,PointCloudLayer:!0,WebTiledLayer:!0,CSV:!0,GeoJSON:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,KML:!0,RasterDataLayer:!0,Voxel:!0,LineOfSightLayer:!0},"web-scene/basemap":{ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,WebTiledLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,ArcGISImageServiceLayer:!0,WMS:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-map/operational-layers":cV,"web-map/basemap":dV,"web-map/tables":hV,"link-chart/operational-layers":{...cV,LinkChartLayer:!0},"link-chart/basemap":dV,"link-chart/tables":hV,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISSceneServiceLayer:!0,PointCloudLayer:!0,BuildingSceneLayer:!0,IntegratedMeshLayer:!0,OrientedImageryLayer:!0}};const pV=e=>{let t=class extends e{constructor(){super(...arguments),this.title=null}writeListMode(e,t,r,i){(i&&"ground"===i.layerContainerType||e&&Ya(this,r,{},i))&&(t[r]=e)}writeOperationalLayerType(e,t,r,i){!e||i&&"tables"===i.layerContainerType||(t.layerType=e)}writeTitle(e,t){t.title=e??"Layer"}read(e,t){t&&(t.layer=this),Ja(this,e,(t=>super.read(e,t)),t)}write(e,t){if(t?.origin){const e=`${t.origin}/${t.layerContainerType||"operational-layers"}`,r=fV[e];let i=!!r?.[this.operationalLayerType];if("ArcGISTiledElevationServiceLayer"===this.operationalLayerType&&"web-scene/operational-layers"===e&&(i=!1),"ArcGISDimensionLayer"===this.operationalLayerType&&"web-map/operational-layers"===e&&(i=!1),!i)return t.messages?.push(new me("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const r=super.write(e,{...t,layer:this}),i=!!t&&!!t.messages&&!!t.messages.filter((e=>e instanceof me&&"web-document-write:property-required"===e.name)).length;return It(r?.url)?(t?.messages?.push(new me("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&i?null:r}beforeSave(){}};return ji([Cn({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],t.prototype,"id",void 0),ji([Cn(sL)],t.prototype,"listMode",void 0),ji([Iu("listMode")],t.prototype,"writeListMode",null),ji([Cn({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1}}}})],t.prototype,"operationalLayerType",void 0),ji([Iu("operationalLayerType")],t.prototype,"writeOperationalLayerType",null),ji([Cn(Y$)],t.prototype,"opacity",void 0),ji([Cn({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],t.prototype,"title",void 0),ji([Iu("title"),Iu(["web-scene"],"title")],t.prototype,"writeTitle",null),ji([Cn({type:Boolean,json:{name:"visibility"}})],t.prototype,"visible",void 0),t=ji([zs("esri.layers.mixins.OperationalLayer")],t),t};var yV;const mV=new nl({asc:"ascending",desc:"descending"});let vV=yV=class extends rl{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new yV({field:this.field,valueExpression:this.valueExpression,order:this.order})}};ji([Cn({type:String,json:{write:!0}})],vV.prototype,"field",void 0),ji([Cn({type:String,json:{write:!0}})],vV.prototype,"valueExpression",void 0),ji([Cn({type:mV.apiValues,json:{read:mV.read,write:mV.write}})],vV.prototype,"order",void 0),vV=yV=ji([zs("esri.layers.support.OrderByInfo")],vV);const gV=vV;function bV(e,t,r){if(!e)return null;const i=e.find((e=>!!e.field));if(!i)return null;const n=new gV;return n.read(i,r),[n]}function wV(e,t,r,i){const n=e.find((e=>!!e.field));n&&te(r,[n.toJSON()],t)}const SV=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return ji([Cn({type:[gV],json:{origins:{"web-scene":{write:!1,read:!1}},read:{source:"layerDefinition.orderBy",reader:bV},write:{target:"layerDefinition.orderBy",writer:wV}}})],t.prototype,"orderBy",void 0),t=ji([zs("esri.layers.mixins.OrderedLayer")],t),t};function xV(e,t,r){return Rr(e.map(((e,i)=>t.apply(r,[e,i]))))}async function jV(e,t,r){return(await Rr(e.map(((e,i)=>t.apply(r,[e,i]))))).map((e=>e.value))}function TV(e){return{ok:!0,value:e}}function IV(e){return{ok:!1,error:e}}function MV(e){return null!=e&&!0===e.ok?e.value:null}function EV(e){return null!=e&&!1===e.ok?e.error:null}async function FV(e){if(null==e)return{ok:!1,error:new Error("no promise provided")};try{return TV(await e)}catch(e){return IV(e)}}async function kV(e){try{return TV(await e)}catch(e){return Fr(e),IV(e)}}function AV(e,t){return new CV(e,t)}let CV=class extends $a{get value(){return MV(this._result)}get error(){return EV(this._result)}get finished(){return null!=this._result}constructor(e,t){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=je(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then((e=>{this._result=TV(e),this._cleanup()}),(e=>{this._result=IV(e),this._cleanup()})),this._abortHandle=Ar(t,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=xe(this._abortHandle),this._abortController=null}};ji([Cn()],CV.prototype,"value",null),ji([Cn()],CV.prototype,"error",null),ji([Cn()],CV.prototype,"finished",null),ji([Cn()],CV.prototype,"promise",void 0),ji([Cn()],CV.prototype,"_result",void 0),CV=ji([zs("esri.core.asyncUtils.ReactiveTask")],CV);let OV=class extends $a{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e&&e.portalItem&&e.path?{...e,path:this._normalizePath(e.path,e.portalItem)}:e}set path(e){null!=e&&Tt(e)?fe.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return this._normalizePath(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",t){const r=this.cdnUrl;if(null==r)throw new me("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey},signal:t?.signal})}async update(e,t){const{addOrUpdateResource:r}=await import("./p-56278127.js");return r(this,"update",e,t)}hasPath(){return null!=this.path}_normalizePath(e,t){return null==e?e:(e=e.replace(/^\/+/,""),null!=t&&Tt(e)&&(e=wt(e,t.itemUrl)),e?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}};ji([Cn()],OV.prototype,"portalItem",void 0),ji([Cn({type:String,value:null})],OV.prototype,"path",null),ji([Ru("path")],OV.prototype,"_castPath",null),ji([Cn({type:String,readOnly:!0})],OV.prototype,"url",null),ji([Cn({type:String,readOnly:!0})],OV.prototype,"cdnUrl",null),ji([Cn({type:String,readOnly:!0})],OV.prototype,"itemRelativeUrl",null),OV=ji([zs("esri.portal.PortalItemResource")],OV);const PV=OV;let DV=class extends $a{constructor(e){super(e),this.created=null,this.rating=null}};ji([Cn()],DV.prototype,"created",void 0),ji([Cn()],DV.prototype,"rating",void 0),DV=ji([zs("esri.portal.PortalRating")],DV);const RV=DV;var NV;const $V=new Set(["Map Service","Feature Service","Feature Collection","Scene Service","Image Service","Stream Service","Vector Tile Service","GeoJson","CSV","KML","WFS","WMTS","WMS","Feed"]),LV=new Set(["KML","GeoJson","CSV"]);let _V=NV=class extends(el(bx)){static from(e){return _i(NV,e)}constructor(e){super(e),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const e=this.type,t=this.typeKeywords||[];let r=e;return"Feature Service"===e||"Feature Collection"===e?r=t.includes("Table")?"Table":t.includes("Route Layer")?"Route Layer":t.includes("Markup")?"Markup":"Feature Layer":"Image Service"===e?r=t.includes("Elevation 3D Layer")?"Elevation Layer":t.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===e?r="Scene Layer":"Video Service"===e?r="Video Layer":"Scene Package"===e?r="Scene Layer Package":"Stream Service"===e?r="Feature Layer":"Geoprocessing Service"===e?r=t.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===e?r="Locator":"Geoenrichment Service"===e?r="GeoEnrichment Service":"Microsoft Powerpoint"===e?r="Microsoft PowerPoint":"GeoJson"===e?r="GeoJSON":"Globe Service"===e?r="Globe Layer":"Vector Tile Service"===e?r="Tile Layer":"netCDF"===e?r="NetCDF":"Map Service"===e?r=t.includes("Spatiotemporal")||!t.includes("Hosted Service")&&!t.includes("Tiled")||t.includes("Relational")?"Map Image Layer":"Tile Layer":e&&e.toLowerCase().includes("add in")?r=e.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===e?r="Big Data File Share":"Compact Tile Package"===e?r="Tile Package (tpkx)":"OGCFeatureServer"===e?r="OGC Feature Layer":"web mapping application"===e&&t.includes("configurableApp")?r="Instant App":"Insights Page"===e?r="Insights Report":"Excalibur Imagery Project"===e&&(r="Excalibur Project"),r}readExtent(e){return e&&e.length?new Rc(e[0][0],e[0][1],e[1][0],e[1][1]):null}get iconUrl(){const e=this.type&&this.type.toLowerCase()||"",t=this.typeKeywords||[],r="esri/images/portal/",i="16";let n,s=!1,o=!1,a=!1,l=!1,u=!1,c=!1;return e.indexOf("service")>0||"feature collection"===e||"kml"===e||"wms"===e||"wmts"===e||"wfs"===e?(s=t.includes("Hosted Service"),"feature service"===e||"feature collection"===e||"kml"===e||"wfs"===e?(o=t.includes("Table"),a=t.includes("Route Layer"),l=t.includes("Markup"),u=t.includes("Spatiotemporal"),c=t.includes("UtilityNetwork"),n=u&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":u?"spatiotemporal":s?"featureshosted":c?"utilitynetwork":"features"):n="map service"===e||"wms"===e||"wmts"===e?s||t.includes("Tiled")||"wmts"===e?"maptiles":"mapimages":"scene service"===e?t.includes("Line")?"sceneweblayerline":t.includes("3DObject")?"sceneweblayermultipatch":t.includes("Point")?"sceneweblayerpoint":t.includes("IntegratedMesh")?"sceneweblayermesh":t.includes("PointCloud")?"sceneweblayerpointcloud":t.includes("Polygon")?"sceneweblayerpolygon":t.includes("Building")?"sceneweblayerbuilding":t.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===e?t.includes("Elevation 3D Layer")?"elevationlayer":t.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===e?"streamlayer":"video service"===e?t.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===e?"vectortile":"datastore catalog service"===e?"datastorecollection":"geocoding service"===e?"geocodeservice":"geoprocessing service"===e?t.includes("Web Tool")?"tool":"layers":"geodata service"===e?"geodataservice":"layers"):n="web map"===e||"cityengine web scene"===e?"maps":"web scene"===e?t.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===e&&t.includes("configurableApp")?"instantapps":"web mapping application"===e||"mobile application"===e||"application"===e||"operation view"===e||"desktop application"===e?"apps":"map document"===e||"map package"===e||"published map"===e||"scene document"===e||"globe document"===e||"basemap package"===e||"mobile basemap package"===e||"mobile map package"===e||"project package"===e||"project template"===e||"pro map"===e||"layout"===e||"layer"===e&&t.includes("ArcGIS Pro")||"explorer map"===e&&t.indexOf("Explorer Document")?"mapsgray":"service definition"===e||"csv"===e||"shapefile"===e||"cad drawing"===e||"geojson"===e||"netcdf"===e||"administrative report"===e?"datafiles":"explorer add in"===e||"desktop add in"===e||"windows viewer add in"===e||"windows viewer configuration"===e?"appsgray":"360 vr experience"===e?"360vr":"arcgis pro add in"===e||"arcgis pro configuration"===e?"addindesktop":"rule package"===e||"file geodatabase"===e||"sqlite geodatabase"===e||"csv collection"===e||"kml collection"===e||"windows mobile package"===e||"map template"===e||"desktop application template"===e||"gml"===e||"arcpad package"===e||"code sample"===e||"form"===e||"document link"===e||"earth configuration"===e||"operations dashboard add in"===e||"rules package"===e||"image"===e||"workflow manager package"===e||"explorer map"===e&&t.includes("Explorer Mapping Application")||t.includes("Document")?"datafilesgray":"network analysis service"===e||"geoprocessing service"===e||"geodata service"===e||"geometry service"===e||"geoprocessing package"===e||"locator package"===e||"geoprocessing sample"===e||"workflow manager service"===e?"toolsgray":"layer"===e||"layer package"===e||"explorer layer"===e?"layersgray":"scene package"===e?"scenepackage":"mobile scene package"===e?"mobilescenepackage":"tile package"===e||"compact tile package"===e?"tilepackage":"task file"===e?"taskfile":"report template"===e?"report-template":"statistical data collection"===e?"statisticaldatacollection":"insights workbook"===e?"workbook":"insights model"===e?"insightsmodel":"insights page"===e?"insightspage":"insights theme"===e?"insightstheme":"hub initiative"===e?"hubinitiative":"hubpage"===e?"hubpage":"hub event"===e?"hubevent":"hub site application"===e?"hubsite":"hub project"===e?"hubproject":"relational database connection"===e?"relationaldatabaseconnection":"big data file share"===e?"datastorecollection":"image collection"===e?"imagecollection":"style"===e?"style":"desktop style"===e?"desktopstyle":"dashboard"===e?"dashboard":"raster function template"===e?"rasterprocessingtemplate":"vector tile package"===e?"vectortilepackage":"ortho mapping project"===e?"orthomappingproject":"ortho mapping template"===e?"orthomappingtemplate":"solution"===e?"solutions":"geopackage"===e?"geopackage":"deep learning package"===e?"deeplearningpackage":"real time analytic"===e?"realtimeanalytics":"big data analytic"===e?"bigdataanalytics":"feed"===e?"feed":"excalibur imagery project"===e?"excaliburimageryproject":"notebook"===e?"notebook":"storymap"===e?"storymap":"survey123 add in"===e?"survey123addin":"mission"===e?"mission":"mission report"===e?"missionreport":"quickcapture project"===e?"quickcaptureproject":"pro report"===e?"proreport":"pro report template"===e?"proreporttemplate":"urban model"===e?"urbanmodel":"web experience"===e?"experiencebuilder":"web experience template"===e?"webexperiencetemplate":"experience builder widget"===e?"experiencebuilderwidget":"experience builder widget package"===e?"experiencebuilderwidgetpackage":"workflow"===e?"workflow":"insights script"===e?"insightsscript":"kernel gateway connection"===e?"kernelgatewayconnection":"hub initiative template"===e?"hubinitiativetemplate":"storymap theme"===e?"storymaptheme":"knowledge graph"===e?"knowledgegraph":"native application"===e?"nativeapp":"native application installer"===e?"nativeappinstaller":"link chart"===e?"linkchart":"investigation"===e?"investigation":"ogcfeatureserver"===e?"features":"pro project"===e?"proproject":"insights workbook package"===e?"insightsworkbookpackage":"apache parquet"===e?"apacheparquet":"notebook code snippets"===e||"notebook code snippet library"===e?"notebookcodesnippets":"suitability model"===e?"suitabilitymodel":"esri classifier definition"===e?"classifierdefinition":"esri classification schema"===e?"classificationschema":"insights data engineering workbook"===e?"dataengineeringworkbook":"insights data engineering model"===e?"dataengineeringmodel":"deep learning studio project"===e?"deeplearningproject":"discussion"===e?"discussion":"allsource project"===e?"allsourceproject":"api key"===e?"apikey":"data pipeline"===e?"datapipelines":"maps",n?AO(r+n+i+".png"):null}get isLayer(){return null!=this.type&&$V.has(this.type)}get itemCdnUrl(){let e=this.itemUrl;return e&&pr&&!pr.findCredential(e)&&(e=pr._normalizeAGOLorgDomain(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}get itemPageUrl(){const e=this.portal?.itemPageUrl;return e&&this.id?`${e}?id=${this.id}`:null}get itemUrl(){const e=this.portal?.restUrl;return e&&this.id?`${e}/content/items/${this.id}`:null}get thumbnailUrl(){const e=this.itemUrl,t=this.thumbnail;return e&&t?this.portal?.normalizeUrl(`${e}/info/${t}?f=json`)??null:null}get userItemUrl(){const e=this.get("portal.restUrl");if(!e)return null;const t=this.owner||this.get("portal.user.username");if(!t)return null;return`${e}/content/users/${this.ownerFolder?`${t}/${this.ownerFolder}`:t}/items/${this.id}`}load(e){const t=this.portal??(this.portal=Vx.getDefault()),r=t.load(e).then((()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?t.request(this.itemUrl,{signal:null!=e?e.signal:null,query:{token:this.apiKey}}):{})).then((e=>{this.sourceJSON=e,this.read(e)}));return this.addResolvingPromise(r),Promise.resolve(this)}async addRating(e){const t={method:"post",query:{}};return e instanceof RV&&(e=e.rating),null==e||isNaN(e)||"number"!=typeof e||(t.query.rating=e),this.portal?(await this.portal.request(this.itemUrl+"/addRating",t),new RV({rating:e,created:new Date})):null}clone(){const e={access:this.access,accessInformation:this.accessInformation,applicationProxies:V(this.applicationProxies),avgRating:this.avgRating,categories:V(this.categories),created:V(this.created),culture:this.culture,description:this.description,extent:V(this.extent),groupCategories:V(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:V(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:V(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:V(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:V(this.typeKeywords),url:this.url};this.loaded&&(e.loadStatus="loaded");const t=new NV({sourceJSON:this.sourceJSON}).set(e);return t._set("isOrgItem",this.isOrgItem),t}createPostQuery(){const e=this.toJSON();for(const t of["tags","typeKeywords","categories"])e[t]=e[t]?.join(", ");const{extent:t}=e;return t&&(e.extent=JSON.stringify(t)),e}async deleteRating(){await ge(this.portal).request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(e="json",t){return ge(this.portal).request(this.itemUrl+"/data",{responseType:e,...t,query:{token:this.apiKey}})}async fetchRating(e){const t=await ge(this.portal).request(this.itemUrl+"/rating",{query:{token:this.apiKey},...e});return null!=t.rating?(t.created=new Date(t.created),new RV(t)):null}fetchRelatedItems(e,t){return ge(this.portal).requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...e,token:this.apiKey},...t},NV)}getThumbnailUrl(e){let t=this.thumbnailUrl;return t&&e&&(t+=`&w=${e}`),t}reload(){return ge(this.portal).request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then((e=>(this.sourceJSON=e,this.read(e),this)))}update(e){return this.id?this.load().then((()=>ge(this.portal).signIn())).then((()=>{const t=e&&e.data,r={method:"post"};r.query=this.createPostQuery();for(const e in r.query)null===r.query[e]&&(r.query[e]="");return r.query.clearEmptyFields=!0,null!=t&&("string"==typeof t?r.query.text=t:"object"==typeof t&&(r.query.text=JSON.stringify(t))),this.portal.request(`${this.userItemUrl}/update`,r).then((()=>this.reload()))})):Promise.reject(new me("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(e){if(!this.id)throw new me("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:t,itemUrl:r}=this;await ge(t).signIn();const{copyResources:i,folder:n,tags:s,title:o}=e||{},a={method:"post",query:{copyPrivateResources:"all"===i,folder:"string"==typeof n?n:n?.id,includeResources:!!i,tags:s?.join(","),title:o}},{itemId:l}=await t.request(`${r}/copy`,a);return new NV({id:l,portal:t})}updateThumbnail(e){return this.id?this.load().then((()=>this.portal.signIn())).then((()=>{const t=e.thumbnail,r=e.filename,i={method:"post"};if("string"==typeof t)Mt(t)?i.query={data:t}:i.query={url:bt(t)},null!=r&&(i.query.filename=r);else{const e=new FormData;null!=r?e.append("file",t,r):e.append("file",t),i.body=e}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,i).then((()=>this.reload()))})):Promise.reject(new me("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(e={},t){const{fetchResources:r}=await import("./p-56278127.js");return r(this,e,t)}async addResource(e,t,r){const{addOrUpdateResource:i}=await import("./p-56278127.js");return e.portalItem=this,i(e,"add",t,r)}async removeResource(e,t){const{removeResource:r}=await import("./p-56278127.js");if(e.portalItem&&e.portalItem.itemUrl!==this.itemUrl)throw new me("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return r(this,e,t)}async removeAllResources(e){const{removeAllResources:t}=await import("./p-56278127.js");return t(this,e)}resourceFromPath(e){return new PV({portalItem:this,path:e})}toJSON(){const e=this.extent,t={accessInformation:this.accessInformation,categories:V(this.categories),created:this.created&&this.created.getTime(),description:this.description,extent:e&&[[e.xmin,e.ymin],[e.xmax,e.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified&&this.modified.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:V(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:V(this.typeKeywords),url:this.url};return q(t)}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new NV({sourceJSON:e})}_getPostQuery(){const e=this.toJSON();for(const t in e)"tags"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"typeKeywords"===t&&null!==e[t]&&(e[t]=e[t].join(", ")),"extent"===t&&e[t]&&(e[t]=JSON.stringify(e[t]));return e}};ji([Cn({type:["private","shared","org","public"]})],_V.prototype,"access",void 0),ji([Cn()],_V.prototype,"accessInformation",void 0),ji([Cn({type:String})],_V.prototype,"apiKey",void 0),ji([Cn({json:{read:{source:"appProxies"}}})],_V.prototype,"applicationProxies",void 0),ji([Cn()],_V.prototype,"avgRating",void 0),ji([Cn()],_V.prototype,"categories",void 0),ji([Cn({type:Date})],_V.prototype,"created",void 0),ji([Cn()],_V.prototype,"culture",void 0),ji([Cn()],_V.prototype,"description",void 0),ji([Cn({readOnly:!0})],_V.prototype,"displayName",null),ji([Cn({type:Rc})],_V.prototype,"extent",void 0),ji([il("extent")],_V.prototype,"readExtent",null),ji([Cn()],_V.prototype,"groupCategories",void 0),ji([Cn({readOnly:!0})],_V.prototype,"iconUrl",null),ji([Cn()],_V.prototype,"id",void 0),ji([Cn({readOnly:!0})],_V.prototype,"isLayer",null),ji([Cn({type:Boolean,readOnly:!0})],_V.prototype,"isOrgItem",void 0),ji([Cn()],_V.prototype,"itemControl",void 0),ji([Cn({readOnly:!0})],_V.prototype,"itemPageUrl",null),ji([Cn({readOnly:!0})],_V.prototype,"itemUrl",null),ji([Cn()],_V.prototype,"licenseInfo",void 0),ji([Cn({type:Date})],_V.prototype,"modified",void 0),ji([Cn()],_V.prototype,"name",void 0),ji([Cn()],_V.prototype,"numComments",void 0),ji([Cn()],_V.prototype,"numRatings",void 0),ji([Cn()],_V.prototype,"numViews",void 0),ji([Cn()],_V.prototype,"owner",void 0),ji([Cn()],_V.prototype,"ownerFolder",void 0),ji([Cn({type:Vx})],_V.prototype,"portal",void 0),ji([Cn()],_V.prototype,"screenshots",void 0),ji([Cn()],_V.prototype,"size",void 0),ji([Cn()],_V.prototype,"snippet",void 0),ji([Cn()],_V.prototype,"sourceJSON",void 0),ji([Cn({type:String})],_V.prototype,"sourceUrl",void 0),ji([Cn({type:String})],_V.prototype,"spatialReference",void 0),ji([Cn()],_V.prototype,"tags",void 0),ji([Cn()],_V.prototype,"thumbnail",void 0),ji([Cn({readOnly:!0})],_V.prototype,"thumbnailUrl",null),ji([Cn()],_V.prototype,"title",void 0),ji([Cn()],_V.prototype,"type",void 0),ji([Cn()],_V.prototype,"typeKeywords",void 0),ji([Cn({type:String,json:{read(e,t){if(LV.has(t.type)){const t=this.portal?.restUrl;e||=t&&this.id?`${t}/content/items/${this.id}/data`:null}return e}}})],_V.prototype,"url",void 0),ji([Cn({readOnly:!0})],_V.prototype,"userItemUrl",null),_V=NV=ji([zs("esri.portal.PortalItem")],_V);const qV=_V;const VV=Object.freeze({__proto__:null,default:qV});let zV,WV=null;function UV(){return!!WV}function GV(){return!!t("esri-wasm")}function BV(){return zV||(zV=import("./p-bc819fac.js").then((e=>e.p)).then((({default:e})=>e({locateFile:e=>AO(`esri/geometry/support/${e}`)}))).then((e=>{oz(e)})),zV)}var HV,JV,ZV;!function(e){function t(e,t,r){WV.ensureCache.prepare();const i=uz(r),n=r===i,s=WV.ensureFloat64(i),o=WV._pe_geog_to_proj(WV.getPointer(e),t,s);return o&&cz(r,t,s,n),o}function r(e,r,n,s){switch(s){case JV.PE_TRANSFORM_P_TO_G:return i(e,r,n);case JV.PE_TRANSFORM_G_TO_P:return t(e,r,n)}return 0}function i(e,t,r){return n(e,t,r,0)}function n(e,t,r,i){WV.ensureCache.prepare();const n=uz(r),s=r===n,o=WV.ensureFloat64(n),a=WV._pe_proj_to_geog_center(WV.getPointer(e),t,o,i);return a&&cz(r,t,o,s),a}e.geogToProj=t,e.projGeog=r,e.projToGeog=i,e.projToGeogCenter=n}(HV||(HV={})),function(e){function t(){e.PE_BUFFER_MAX=WV.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=WV.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=WV.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=WV.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=WV.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=WV.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=WV.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=WV.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=WV.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=WV.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=WV.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=WV.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=WV.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=WV.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=WV.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=WV.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=WV.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=WV.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=WV.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=WV.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=WV.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=WV.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=WV.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=WV.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=WV.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=WV.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=WV.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=WV.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=WV.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=WV.PeDefs.prototype.PE_HORIZON_DELTA}e.init=t}(JV||(JV={})),function(e){const t={},r={},i=e=>{if(e){const t=e.getType();switch(t){case JV.PE_TYPE_GEOGCS:e=WV.castObject(e,WV.PeGeogcs);break;case JV.PE_TYPE_PROJCS:e=WV.castObject(e,WV.PeProjcs);break;case JV.PE_TYPE_GEOGTRAN:e=WV.castObject(e,WV.PeGeogtran);break;default:t&JV.PE_TYPE_UNIT&&(e=WV.castObject(e,WV.PeUnit))}}return e};function n(){WV.PeFactory.prototype.initialize(null)}function s(e){return o(JV.PE_TYPE_COORDSYS,e)}function o(e,r){let n=null,s=t[e];if(s||(s={},t[e]=s),s.hasOwnProperty(String(r)))n=s[r];else{const t=WV.PeFactory.prototype.factoryByType(e,r);WV.compare(t,WV.NULL)||(n=t,s[r]=n)}return n=i(n),n}function a(e,t){let n=null,s=r[e];if(s||(s={},r[e]=s),s.hasOwnProperty(t))n=s[t];else{const r=WV.PeFactory.prototype.fromString(e,t);WV.compare(r,WV.NULL)||(n=r,s[t]=n)}return n=i(n),n}function l(e){return o(JV.PE_TYPE_GEOGCS,e)}function u(e){return o(JV.PE_TYPE_GEOGTRAN,e)}function c(e){return WV.PeFactory.prototype.getCode(e)}function d(e){return o(JV.PE_TYPE_PROJCS,e)}function h(e){return o(JV.PE_TYPE_UNIT,e)}e.initialize=n,e.coordsys=s,e.factoryByType=o,e.fromString=a,e.geogcs=l,e.geogtran=u,e.getCode=c,e.projcs=d,e.unit=h}(ZV||(ZV={}));let QV=null;var KV,YV,XV,ez,tz,rz,iz,nz,sz;function oz(e){function t(e,t,r){e[t]=r(e[t])}WV=e,JV.init(),KV.init(),tz.init(),iz.init(),nz.init(),QV=class extends WV.PeGCSExtent{destroy(){WV.destroy(this)}};const r=[WV.PeDatum,WV.PeGeogcs,WV.PeGeogtran,WV.PeObject,WV.PeParameter,WV.PePrimem,WV.PeProjcs,WV.PeSpheroid,WV.PeUnit];for(const e of r)t(e.prototype,"getName",(e=>function(){return e.call(this,new Array(JV.PE_NAME_MAX))}));for(const e of[WV.PeGeogtran,WV.PeProjcs])t(e.prototype,"getParameters",(e=>function(){const t=new Array(JV.PE_PARM_MAX);let r=e.call(this);for(let e=0;e<t.length;e++){const i=WV.getValue(r,"*");t[e]=i?WV.wrapPointer(i,WV.PeParameter):null,r+=Int32Array.BYTES_PER_ELEMENT}return t}));t(WV.PeHorizon.prototype,"getCoord",(e=>function(){const t=this.getSize();if(!t)return null;const r=[];return cz(r,t,e.call(this)),r})),t(WV.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=WV._pe_getPeGTlistExtendedGTsSize();return function(){let r=null;const i=e.call(this);if(!WV.compare(i,WV.NULL)){r=[i];const e=this.getSteps();if(e>1){const n=WV.getPointer(i);for(let i=1;i<e;i++)r.push(WV.wrapPointer(n+t*i,WV.PeGTlistExtendedGTs))}}return r}}));const i=WV._pe_getPeHorizonSize(),n=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let r=null;const n=e.call(this);if(!WV.compare(n,WV.NULL)){r=[n];const e=n.getNump();if(e>1){const t=WV.getPointer(n);for(let n=1;n<e;n++)r.push(WV.wrapPointer(t+i*n,WV.PeHorizon))}}return t.set(e,r),r};t(WV.PeProjcs.prototype,"horizonGcsGenerate",n),t(WV.PeProjcs.prototype,"horizonPcsGenerate",n),WV.PeObject.prototype.toString=function(e=JV.PE_STR_OPTS_NONE){WV.ensureCache.prepare();const t=WV.getPointer(this),r=WV.ensureInt8(new Array(JV.PE_BUFFER_MAX));return WV.UTF8ToString(WV._pe_object_to_string_ext(t,e,r))}}function az(e){if(!e)return;const t=WV.getClass(e);if(!t)return;const r=WV.getCache(t);if(!r)return;const i=WV.getPointer(e);i&&delete r[i]}function lz(e,t){const r=[],i=new Array(t);for(let t=0;t<e;t++)r.push(WV.ensureInt8(i));return r}function uz(e){let t;return Array.isArray(e[0])?(t=[],e.forEach((e=>{t.push(e[0],e[1])}))):t=e,t}function cz(e,t,r,i=!1){if(i)for(let i=0;i<2*t;i++)e[i]=WV.getValue(r+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=0===e.length;for(let n=0;n<t;n++)i&&(e[n]=new Array(2)),e[n][0]=WV.getValue(r,"double"),e[n][1]=WV.getValue(r+Float64Array.BYTES_PER_ELEMENT,"double"),r+=2*Float64Array.BYTES_PER_ELEMENT}}!function(e){let t;function r(){e.PE_GTLIST_OPTS_COMMON=WV.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=WV._pe_getPeGTlistExtendedEntrySize()}function i(e,r,i,n,s,o){let a=null;const l=new WV.PeInteger(o);try{const u=WV.PeGTlistExtended.prototype.getGTlist(e,r,i,n,s,l);if((o=l.val)&&(a=[u],o>1)){const e=WV.getPointer(u);for(let r=1;r<o;r++)a.push(WV.wrapPointer(e+t*r,WV.PeGTlistExtendedEntry))}}finally{WV.destroy(l)}return a}e.init=r,e.getGTlist=i}(KV||(KV={})),function(e){function t(e){if(e&&e.length){for(const t of e)az(t),t.getEntries().forEach((e=>{az(e);const t=e.getGeogtran();az(t),t.getParameters().forEach(az),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{az(e);const t=e.getDatum();az(t),az(t.getSpheroid()),az(e.getPrimem()),az(e.getUnit())}))}));WV.PeGTlistExtendedEntry.prototype.Delete(e[0])}}e.destroy=t}(YV||(YV={})),function(e){function t(e,t,r,i,n){WV.ensureCache.prepare();const s=uz(r),o=r===s,a=WV.ensureFloat64(s);let l=0;i&&(l=WV.ensureFloat64(i));const u=WV._pe_geog_to_geog(WV.getPointer(e),t,a,l,n);return u&&cz(r,t,a,o),u}e.geogToGeog=t}(XV||(XV={})),function(e){const t=(e,t,r,i,n,s)=>{let o,a;switch(WV.ensureCache.prepare(),e){case"dd":o=WV._pe_geog_to_dd,a=JV.PE_DD_MAX;break;case"ddm":o=WV._pe_geog_to_ddm,a=JV.PE_DDM_MAX;break;case"dms":o=WV._pe_geog_to_dms,a=JV.PE_DMS_MAX}let l=0;t&&(l=WV.getPointer(t));const u=uz(i),c=WV.ensureFloat64(u),d=lz(r,a),h=o(l,r,c,n,WV.ensureInt32(d));if(h)for(let e=0;e<r;e++)s[e]=WV.UTF8ToString(d[e]);return h},r=(e,t,r,i,n)=>{let s;switch(WV.ensureCache.prepare(),e){case"dd":s=WV._pe_dd_to_geog;break;case"ddm":s=WV._pe_ddm_to_geog;break;case"dms":s=WV._pe_dms_to_geog}let o=0;t&&(o=WV.getPointer(t));const a=i.map((e=>WV.ensureString(e))),l=WV.ensureInt32(a),u=WV.ensureFloat64(new Array(2*r)),c=s(o,r,l,u);return c&&cz(n,r,u),c};function i(e,r,i,n,s){return t("dms",e,r,i,n,s)}function n(e,t,i,n){return r("dms",e,t,i,n)}function s(e,r,i,n,s){return t("ddm",e,r,i,n,s)}function o(e,t,i,n){return r("ddm",e,t,i,n)}function a(e,r,i,n,s){return t("dd",e,r,i,n,s)}function l(e,t,i,n){return r("dd",e,t,i,n)}e.geogToDms=i,e.dmsToGeog=n,e.geogToDdm=s,e.ddmToGeog=o,e.geogToDd=a,e.ddToGeog=l}(ez||(ez={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=WV.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=WV.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=WV.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=WV.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=WV.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function r(e,t,r,i,n,s,o){WV.ensureCache.prepare();let a=0;e&&(a=WV.getPointer(e));const l=uz(r),u=WV.ensureFloat64(l),c=lz(t,JV.PE_MGRS_MAX),d=WV.ensureInt32(c),h=WV._pe_geog_to_mgrs_extended(a,t,u,i,n,s,d);if(h)for(let e=0;e<t;e++)o[e]=WV.UTF8ToString(c[e]);return h}function i(e,t,r,i,n){WV.ensureCache.prepare();let s=0;e&&(s=WV.getPointer(e));const o=r.map((e=>WV.ensureString(e))),a=WV.ensureInt32(o),l=WV.ensureFloat64(new Array(2*t)),u=WV._pe_mgrs_to_geog_extended(s,t,a,i,l);return u&&cz(n,t,l),u}e.init=t,e.geogToMgrsExtended=r,e.mgrsToGeogExtended=i}(tz||(tz={})),function(e){function t(e,t,r,i,n,s,o){WV.ensureCache.prepare();let a=0;e&&(a=WV.getPointer(e));const l=uz(r),u=WV.ensureFloat64(l),c=lz(t,JV.PE_MGRS_MAX),d=WV.ensureInt32(c),h=WV._pe_geog_to_usng(a,t,u,i,n,s,d);if(h)for(let e=0;e<t;e++)o[e]=WV.UTF8ToString(c[e]);return h}function r(e,t,r,i){WV.ensureCache.prepare();let n=0;e&&(n=WV.getPointer(e));const s=r.map((e=>WV.ensureString(e))),o=WV.ensureInt32(s),a=WV.ensureFloat64(new Array(2*t)),l=WV._pe_usng_to_geog(n,t,o,a);return l&&cz(i,t,a),l}e.geogToUsng=t,e.usngToGeog=r}(rz||(rz={})),function(e){function t(){e.PE_UTM_OPTS_NONE=WV.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=WV.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=WV.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function r(e,t,r,i,n){WV.ensureCache.prepare();let s=0;e&&(s=WV.getPointer(e));const o=uz(r),a=WV.ensureFloat64(o),l=lz(t,JV.PE_UTM_MAX),u=WV.ensureInt32(l),c=WV._pe_geog_to_utm(s,t,a,i,u);if(c)for(let e=0;e<t;e++)n[e]=WV.UTF8ToString(l[e]);return c}function i(e,t,r,i,n){WV.ensureCache.prepare();let s=0;e&&(s=WV.getPointer(e));const o=r.map((e=>WV.ensureString(e))),a=WV.ensureInt32(o),l=WV.ensureFloat64(new Array(2*t)),u=WV._pe_utm_to_geog(s,t,a,i,l);return u&&cz(n,t,l),u}e.init=t,e.geogToUtm=r,e.utmToGeog=i}(iz||(iz={})),function(e){const t=new Map;function r(){e.PE_PCSINFO_OPTION_NONE=WV.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=WV.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=WV.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=WV.PePCSInfo.prototype.PE_POLE_POINT}function i(r,i=e.PE_PCSINFO_OPTION_DOMAIN){let n=null,s=null;return t.has(r)&&(s=t.get(r),s[i]&&(n=s[i])),n||(n=WV.PePCSInfo.prototype.generate(r,i),s||(s=[],t.set(r,s)),s[i]=n),n}e.init=r,e.generate=i}(nz||(nz={})),function(e){function t(){return WV.PeVersion.prototype.version_string()}e.versionString=t}(sz||(sz={}));const dz=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return HV},get PeDefs(){return JV},get PeFactory(){return ZV},get PeGCSExtent(){return QV},get PeGTTransformations(){return XV},get PeGTlistExtended(){return KV},get PeGTlistExtendedEntry(){return YV},get PeNotationDms(){return ez},get PeNotationMgrs(){return tz},get PeNotationUsng(){return rz},get PeNotationUtm(){return iz},get PePCSInfo(){return nz},get PeVersion(){return sz},_init:oz,get _pe(){return WV},isLoaded:UV,isSupported:GV,load:BV},Symbol.toStringTag,{value:"Module"}));const hz=al.radius,fz=al.eccentricitySquared,pz={a1:hz*fz,a2:hz*fz*hz*fz,a3:hz*fz*fz/2,a4:hz*fz*hz*fz*2.5,a5:hz*fz+hz*fz*fz/2,a6:1-fz};let yz=0;class mz{static fromGE(e){const t=new mz;return t._wkt=e.wkt,t._wkid=e.wkid,t._isInverse=e.isInverse,t}constructor(e){this.uid=yz++,e?(this._wkt=null!=e.wkt?e.wkt:null,this._wkid=null!=e.wkid?e.wkid:-1,this._isInverse=null!=e.isInverse&&!0===e.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(e){this._wkt=e,this.uid=yz++}get wkid(){return this._wkid}set wkid(e){this._wkid=e,this.uid=yz++}get isInverse(){return this._isInverse}set isInverse(e){this._isInverse=e,this.uid=yz++}getInverse(){const e=new mz;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}class vz{static cacheKey(e,t){return[void 0!==e.wkid&&null!==e.wkid?e.wkid.toString():"-1",void 0!==e.wkt&&null!==e.wkt?e.wkt.toString():"",void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():""].join(",")}static fromGE(e){const t=new vz;let r="";for(const i of e.steps){const e=mz.fromGE(i);t.steps.push(e),r+=e.uid.toString()+","}return t._cachedProjection={},t._gtlistentry=null,t._chain=r,t}constructor(e){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,e&&e.steps)for(const t of e.steps)t instanceof mz?this.steps.push(t):this.steps.push(new mz({wkid:t.wkid,wkt:t.wkt,isInverse:t.isInverse}))}getInverse(){const e=new vz;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];e.steps.push(r.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,t,r){this._cachedProjection[vz.cacheKey(e,t)]=r}getCachedGeTransformation(e,t){let r="";for(const e of this.steps)r+=e.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);const i=this._cachedProjection[vz.cacheKey(e,t)];return void 0===i?null:i}}let gz=null,bz=null,wz=null,Sz={};const xz=new ny;function jz(){return!!gz&&UV()}function Tz(e){return null==wz&&(wz=Promise.all([BV(),import("./p-9d842fd8.js").then((e=>e.g)),import("./p-a709101a.js")])),wz.then((([,t,{hydratedAdapter:r}])=>{Ir(e),bz=r,gz=t.default,gz._enableProjection(dz),xz.notify()}))}function Iz(e,t,r=null,i=null){return Array.isArray(e)?0===e.length?[]:Mz(bz,e,e[0].spatialReference,t,r,i):Mz(bz,[e],e.spatialReference,t,r,i)[0]}function Mz(e,t,r,i,n=null,s=null){if(null==r||null==i)return t;if(Nz(r,i,n))return t.map((e=>_z(e,r,i)));if(null==n){const e=vz.cacheKey(r,i);void 0!==Sz[e]?n=Sz[e]:(null==(n=kz(r,i,void 0))&&(n=new vz),Sz[e]=n)}if(null==gz||null==e)throw new Cz;return null!=s?gz._project(e,t,r,i,n,s):gz._project(e,t,r,i,n)}function Ez(e,t){const r=Fz([e],t);return null!=r.pending?{pending:r.pending,geometry:null}:null!=r.geometries?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}}function Fz(e,t){if(!jz())for(const r of e)if(null!=r&&!bl(r.spatialReference,t)&&Ol(r.spatialReference)&&Ol(t)&&!Nz(r.spatialReference,t))return Vn(xz),{pending:Tz(),geometries:null};return{pending:null,geometries:e.map((e=>null==e?null:bl(e.spatialReference,t)?e:Ol(e.spatialReference)&&Ol(t)?Rz(e,t):null))}}function kz(e,t,r=null){if(null==e||null==t)return null;if(null==gz||null==bz)throw new Cz;const i=gz._getTransformation(bz,e,t,r,r?.spatialReference);return null!==i?vz.fromGE(i):null}function Az(e,t,r=null){if(null==gz||null==bz)throw new Cz;const i=gz._getTransformationBySuitability(bz,e,t,r,r?.spatialReference);if(null!==i){const e=[];for(const t of i)e.push(vz.fromGE(t));return e}return[]}class Cz extends me{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}var Oz;function Pz(){gz=null,bz=null,wz=null,Sz={}}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",e[e.WGS84=2]="WGS84",e[e.WEB_MERCATOR=3]="WEB_MERCATOR",e[e.WGS84_ECEF=4]="WGS84_ECEF",e[e.CGCS2000=5]="CGCS2000",e[e.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT",e[e.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF",e[e.GCSMARS2000=8]="GCSMARS2000",e[e.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF",e[e.GCSMOON2000=10]="GCSMOON2000",e[e.LON_LAT=11]="LON_LAT",e[e.PLATE_CARREE=12]="PLATE_CARREE"}(Oz||(Oz={}));const Dz={get loadPromise(){return wz}};function Rz(e,t){try{const r=Iz(e,t);if(null==r)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const i=PP(r.type,e.spatialReference,t);return null!=i&&i(r),r}catch(e){if(!(e instanceof Cz))throw e;return null}}function Nz(e,t,r){return!r&&(!!bl(e,t)||Ol(e)&&Ol(t)&&!!YW(e,t,iU))}async function $z(e,t,r,i){if(jz())return Wr(i);if(Array.isArray(e)){for(const{source:t,dest:r,geographicTransformation:n}of e)if(!Nz(t,r,n))return Tz(i)}else if(!Nz(e,t,r))return Tz(i);return Wr(i)}function Lz(e,t){switch(YW(e,t,iU)){case gW:return"copy3";case _W:return"wgs84ToSphericalECEF";case jW:return"wgs84ToWebMercator";case MW:return"wgs84ToPlateCarree";case HW:return"wgs84ToWGS84ECEF";case bW:return"webMercatorToWGS84";case wW:return"webMercatorToSphericalECEF";case SW:return"webMercatorToWGS84ECEF";case FW:return"webMercatorToPlateCarree";case JW:return"wgs84ECEFToWGS84";case ZW:return"wgs84ECEFToSphericalECEF";case QW:return"wgs84ECEFToWebMercator";case WW:return"sphericalECEFToWGS84";case UW:return"sphericalECEFToWebMercator";case zW:return"sphericalMarsPCPFToMars2000";case VW:return"sphericalMoonPCPFToMoon2000";case GW:return"sphericalECEFToWGS84ECEF";case LW:return"mars2000ToSphericalPCPF";case $W:return"moon2000ToSphericalPCPF";default:return null}}function _z(e,t,r){return e?"x"in e?Vz(e,t,new tc,r,0):"xmin"in e?Kz(e,t,new Rc,r,0):"rings"in e?Zz(e,t,new Rp,r,0):"paths"in e?Gz(e,t,new _p,r,0):"points"in e?Wz(e,t,new Vc,r,0):null:null}function qz(e,t,r=t.spatialReference,i=0){return null!=r&&null!=e.spatialReference&&null!=Vz(e,e.spatialReference,t,r,i)}function Vz(e,t,r,i,n){cU[0]=e.x,cU[1]=e.y;const s=e.z;return cU[2]=void 0!==s?s:n,oW(cU,t,0,cU,i,0,1)?(r.x=cU[0],r.y=cU[1],r.spatialReference=i,void 0===s?(r.z=void 0,r.hasZ=!1):(r.z=cU[2],r.hasZ=!0),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function zz(e,t,r=t.spatialReference,i=0){return null!=e.spatialReference&&null!=r&&null!=Wz(e,e.spatialReference,t,r,i)}function Wz(e,t,r,i,n){const{points:s,hasZ:o,hasM:a}=e,l=[],u=s.length,c=[];for(const e of s)c.push(e[0],e[1],o?e[2]:n);if(!oW(c,t,0,c,i,0,u))return null;for(let e=0;e<u;++e){const t=3*e,r=c[t],i=c[t+1];o&&a?l.push([r,i,c[t+2],s[e][3]]):o?l.push([r,i,c[t+2]]):a?l.push([r,i,s[e][2]]):l.push([r,i])}return r.points=l,r.spatialReference=i,r.hasZ=o,r.hasM=a,r}function Uz(e,t,r=t.spatialReference,i=0){return null!=e.spatialReference&&null!=r&&null!=Gz(e,e.spatialReference,t,r,i)}function Gz(e,t,r,i,n){const{paths:s,hasZ:o,hasM:a}=e,l=[];return lW(s,o??!1,a??!1,t,l,i,n)?(r.paths=l,r.spatialReference=i,r.hasZ=o,r.hasM=a,r):null}function Bz({hasZ:e,spatialReference:t,paths:r},i,n=0){const s=vW(t,tU),o=KW[s][Oz.WGS84_COMPARABLE_LON_LAT];if(null==o)return!1;const a=e?e=>e:e=>_d(cU,e[0],e[1],n);for(const e of r){const t=[];for(const r of e){const e=[0,0,n];o(a(r),0,e,0),t.push(e)}i.push(t)}return!0}function Hz({hasZ:e,spatialReference:t,rings:r},i,n=0){const s=vW(t,tU),o=KW[s][Oz.WGS84_COMPARABLE_LON_LAT];if(null==o)return!1;const a=e?e=>e:e=>_d(cU,e[0],e[1],n);for(const e of r){const t=[];for(const r of e){const e=[0,0,n];o(a(r),0,e,0),t.push(e)}i.push(t)}return!0}function Jz(e,t,r=t.spatialReference,i=0){return null!=e.spatialReference&&null!=r&&null!=Zz(e,e.spatialReference,t,r,i)}function Zz(e,t,r,i,n){const{rings:s,hasZ:o,hasM:a}=e,l=[];return lW(s,o??!1,a??!1,t,l,i,n)?(r.rings=l,r.spatialReference=i,r.hasZ=o,r.hasM=a,r):null}function Qz(e,t,r=t.spatialReference,i=0){return null!=e.spatialReference&&null!=r&&null!=Kz(e,e.spatialReference,t,r,i)}function Kz(e,t,r,i,n){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:u,hasM:c}=e;if(!tW(s,o,u?e.zmin:n,t,cU,i))return null;r.xmin=cU[0],r.ymin=cU[1],u&&(r.zmin=cU[2]);return tW(a,l,u?e.zmax:n,t,cU,i)?(r.xmax=cU[0],r.ymax=cU[1],u&&(r.zmax=cU[2]),c&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=i,r):null}function Yz(e,t,r){if(null==t||null==r)return null;const i=new tc({spatialReference:r});return oW(e,t,0,cU,r,0,1)?(i.x=cU[0],i.y=cU[1],i.z=cU[2],i):null}function Xz(e,t,r){return oW(e,t,0,cU,r.spatialReference,0,1)?(r.x=cU[0],r.y=cU[1],r.z=cU[2],r):null}function eW(e,t,r,i=0){cU[0]=e.x,cU[1]=e.y;const n=e.z;return cU[2]=void 0!==n?n:i,oW(cU,e.spatialReference,0,t,r,0,1)}function tW(e,t,r,i,n,s){return aU[0]=e,aU[1]=t,aU[2]=r,oW(aU,i,0,n,s,0,1)}function rW(e,t,r,i){return!(null==t||null==i||e.length<2)&&(2===e.length&&(aU[0]=e[0],aU[1]=e[1],aU[2]=0,e=aU),oW(e,t,0,r,i,0,1))}function iW(e,t){cU[0]=e.x,cU[1]=e.y;const r=e.z;return cU[2]=void 0!==r?r:0,nW(cU,e.spatialReference,t)}function nW(e,t,r){return sW(e,t,r)}function sW(e,t,r){if(null==t)return!1;const i=vW(t,tU),n=KW[i][Oz.WGS84_COMPARABLE_LON_LAT];return null!=n&&(n(e,0,aU,0),r!==aU&&(r[0]=aU[0],r[1]=aU[1],r.length>2&&(r[2]=aU[2])),!0)}function oW(e,t,r,i,n,s,o=1){const a=YW(t,n,iU);if(null==a)return!1;if(a===gW){if(e===i&&r===s)return!0;const t=r+3*o;for(let n=r,o=s;n<t;n++,o++)i[o]=e[n];return!0}const l=r+3*o;for(let t=r,n=s;t<l;t+=3,n+=3)a(e,t,i,n);return!0}function aW(e,t,r,i,n){Ld(cU,e),qd(dU,e,t),rW(cU,r,cU,n),rW(dU,r,dU,n),Vd(i,dU,cU),nh(i,i)}function lW(e,t,r,i,n,s,o=0){const a=new Array;for(const r of e)for(const e of r)a.push(e[0],e[1],t?e[2]:o);if(!oW(a,i,0,a,s,0,a.length/3))return!1;let l=0;n.length=0;for(const i of e){const e=new Array;for(const n of i)t&&r?e.push([a[l++],a[l++],a[l++],n[3]]):t?e.push([a[l++],a[l++],a[l++]]):r?(e.push([a[l++],a[l++],n[2]]),l++):(e.push([a[l++],a[l++]]),l++);n.push(e)}return!0}function uW(e,t,r,i){if(null==t||null==i)return!1;const n=XW(t,i,nU);if(n.projector===gW)return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],!0;if(null==n.projector)return!1;const{source:s,dest:o}=n;if(o.spatialReferenceId===Oz.WEB_MERCATOR){const t=KW[s.spatialReferenceId][Oz.WGS84];return null!=t&&(t(e,0,lU,0),jW(lU,0,r,0),r[3]=cW(lU[1],e[2],e[3],al.radius),!0)}if(s.spatialReferenceId!==Oz.WGS84&&s.spatialReferenceId!==Oz.CGCS2000||o.spatialReferenceId!==Oz.PLATE_CARREE){n.projector(e,0,r,0);const t=s.metersPerUnit??1,i=o.metersPerUnit??1;r[3]=e[3]*t/i}else{const t=KW[s.spatialReferenceId][Oz.SPHERICAL_ECEF],i=KW[Oz.SPHERICAL_ECEF][Oz.PLATE_CARREE];let o=e[3];null!=t&&null!=i&&(o=cW(e[1],e[2],e[3],al.radius)),n.projector(e,0,r,0),r[3]=o}return!0}function cW(e,t,r,i){const n=i+t;if(n<i/2||r>n)return Number.MAX_VALUE;const s=Math.abs(sU*e)+Math.asin(r/n);return s>=Math.PI/2?Number.MAX_VALUE:r/Math.cos(s)}function dW(e,t,r,i){return null!=e&&(bl(t,i)?($f(r,e),!0):(aU[0]=e[0],aU[1]=e[1],aU[2]=0,!!oW(aU,t,0,aU,i,0,1)&&(r[0]=aU[0],r[1]=aU[1],aU[0]=e[2],aU[1]=e[3],aU[2]=0,!!oW(aU,t,0,aU,i,0,1)&&(r[2]=aU[0],r[3]=aU[1],!0))))}function hW(e,t,r,i){if(null==t||null==i)return!1;const n=vW(t,tU),s=vW(i,rU);if(n===s&&n!==Oz.UNKNOWN||bl(t,i))return r[0]=1,r[1]=1,r[2]=1,!0;if(n===Oz.SPHERICAL_ECEF){const t=$d(e),i=t/Math.sqrt(e[0]*e[0]+e[1]*e[1]),n=t/al.radius;if(s===Oz.WEB_MERCATOR)return r[0]=i*n,r[1]=i*n,r[2]=1,!0;if(s===Oz.WGS84||s===Oz.CGCS2000){const e=IW;return r[0]=e*i*n,r[1]=e*n,r[2]=1,!0}}else if(n===Oz.PLATE_CARREE){if(s===Oz.WGS84||s===Oz.CGCS2000)return r[0]=IW,r[1]=IW,r[2]=1,!0;if(s===Oz.WEB_MERCATOR){const t=e[1]/al.radius;return r[0]=1,r[1]=1/Math.cos(t),r[2]=1,!0}}return!1}function fW(e,t,r,i){if(null==e||null==i)return!1;const n=vW(e,tU),s=vW(i,rU);if(n===s&&!pW(s)&&(n!==Oz.UNKNOWN||bl(e,i)))return FD(r,t),!0;if(pW(s)){const e=KW[n][Oz.LON_LAT],i=KW[Oz.LON_LAT][s];return null!=e&&null!=i&&(e(t,0,lU,0),i(lU,0,uU,0),yW(sU*lU[0],sU*lU[1],r),r[12]=uU[0],r[13]=uU[1],r[14]=uU[2],!0)}if((s===Oz.WEB_MERCATOR||s===Oz.PLATE_CARREE)&&(n===Oz.WGS84||n===Oz.CGCS2000&&s===Oz.PLATE_CARREE||n===Oz.SPHERICAL_ECEF||n===Oz.WEB_MERCATOR)){const e=KW[n][Oz.LON_LAT],i=KW[Oz.LON_LAT][s];return null!=e&&null!=i&&(e(t,0,lU,0),i(lU,0,uU,0),n===Oz.SPHERICAL_ECEF?mW(sU*lU[0],sU*lU[1],r):yD(r),r[12]=uU[0],r[13]=uU[1],r[14]=uU[2],!0)}return!1}function pW(e){return e===Oz.SPHERICAL_ECEF||e===Oz.SPHERICAL_MARS_PCPF||e===Oz.SPHERICAL_MOON_PCPF}function yW(e,t,r){const i=Math.sin(e),n=Math.cos(e),s=Math.sin(t),o=Math.cos(t),a=r;return a[0]=-i,a[4]=-s*n,a[8]=o*n,a[12]=0,a[1]=n,a[5]=-s*i,a[9]=o*i,a[13]=0,a[2]=0,a[6]=o,a[10]=s,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}function mW(e,t,r){return yW(e,t,r),mD(r,r),r}function vW(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=uu(e,1)),e.wkt===$l.wkt?t.spatialReferenceId=Oz.SPHERICAL_ECEF:jl(e)?t.spatialReferenceId=Oz.WGS84:Il(e)?t.spatialReferenceId=Oz.WEB_MERCATOR:Ml(e)?t.spatialReferenceId=Oz.PLATE_CARREE:e.wkt===ql.wkt?t.spatialReferenceId=Oz.WGS84_ECEF:e.wkid===cl.CGCS2000?t.spatialReferenceId=Oz.CGCS2000:e.wkt===Ll.wkt?t.spatialReferenceId=Oz.SPHERICAL_MARS_PCPF:e.wkt===_l.wkt?t.spatialReferenceId=Oz.SPHERICAL_MOON_PCPF:Fl(e)?t.spatialReferenceId=Oz.GCSMARS2000:Al(e)?t.spatialReferenceId=Oz.GCSMOON2000:t.spatialReferenceId=Oz.UNKNOWN):Oz.UNKNOWN}function gW(e,t,r,i){e!==r&&(r[i++]=e[t++],r[i++]=e[t++],r[i]=e[t])}function bW(e,t,r,i){r[i++]=oU*(e[t++]/al.radius),r[i++]=oU*(Math.PI/2-2*Math.atan(Math.exp(-e[t++]/al.radius))),r[i]=e[t]}function wW(e,t,r,i){bW(e,t,r,i),_W(r,i,r,i)}function SW(e,t,r,i){bW(e,t,r,i),HW(r,i,r,i)}function xW(e,t,r,i,n){const s=.4999999*Math.PI,o=yf(sU*e[t+1],-s,s),a=Math.sin(o);r[i++]=sU*e[t]*n.radius,r[i++]=n.halfSemiMajorAxis*Math.log((1+a)/(1-a)),r[i]=e[t+2]}function jW(e,t,r,i){xW(e,t,r,i,al)}const TW=al.radius*Math.PI/180,IW=180/(al.radius*Math.PI);function MW(e,t,r,i){r[i]=e[t]*TW,r[i+1]=e[t+1]*TW,r[i+2]=e[t+2]}function EW(e,t,r,i){r[i]=e[t]*IW,r[i+1]=e[t+1]*IW,r[i+2]=e[t+2]}function FW(e,t,r,i){bW(e,t,r,i),MW(r,i,r,i)}function kW(e,t,r,i){JW(e,t,r,i),MW(r,i,r,i)}function AW(e,t,r,i){WW(e,t,r,i),MW(r,i,r,i)}function CW(e,t,r,i){EW(e,t,r,i),_W(r,i,r,i)}function OW(e,t,r,i){EW(e,t,r,i),jW(r,i,r,i)}function PW(e,t,r,i){EW(e,t,r,i),HW(r,i,r,i)}function DW(e){if(null==e)return!1;const t=vW(e,tU);return!!KW[t][Oz.WGS84_COMPARABLE_LON_LAT]}function RW(e,t,r,i){const n=Math.cos(r);e[0]=Math.cos(t)*n*i,e[1]=Math.sin(t)*n*i,e[2]=Math.sin(r)*i}function NW(e,t,r,i,n){const s=n+e[t+2],o=sU*e[t+1],a=sU*e[t],l=Math.cos(o);r[i++]=Math.cos(a)*l*s,r[i++]=Math.sin(a)*l*s,r[i]=Math.sin(o)*s}function $W(e,t,r,i){NW(e,t,r,i,ul.radius)}function LW(e,t,r,i){NW(e,t,r,i,ll.radius)}function _W(e,t,r,i){NW(e,t,r,i,al.radius)}function qW(e,t,r,i,n){const s=e[t],o=e[t+1],a=e[t+2],l=Math.sqrt(s*s+o*o+a*a),u=xf(a/(0===l?1:l)),c=Math.atan2(o,s);r[i++]=oU*c,r[i++]=oU*u,r[i]=l-n}function VW(e,t,r,i){qW(e,t,r,i,ul.radius)}function zW(e,t,r,i){qW(e,t,r,i,ll.radius)}function WW(e,t,r,i){qW(e,t,r,i,al.radius)}function UW(e,t,r,i){WW(e,t,r,i),jW(r,i,r,i)}function GW(e,t,r,i){WW(e,t,r,i),HW(r,i,r,i)}function BW(e,t,r,i,n){const s=sU*e[t],o=sU*e[t+1],a=e[t+2],l=Math.sin(o),u=Math.cos(o),c=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);r[i++]=(c+a)*u*Math.cos(s),r[i++]=(c+a)*u*Math.sin(s),r[i++]=(c*(1-n.eccentricitySquared)+a)*l}function HW(e,t,r,i){BW(e,t,r,i,al)}function JW(e,t,r,i){const n=pz,s=e[t],o=e[t+1],a=e[t+2];let l,u,c,d,h,f,p,y,m,v,g,b,w,S,x,j,T,I,M,E,F;l=Math.abs(a),u=s*s+o*o,c=Math.sqrt(u),d=u+a*a,h=Math.sqrt(d),E=Math.atan2(o,s),f=a*a/d,p=u/d,S=n.a2/h,x=n.a3-n.a4/h,p>.3?(y=l/h*(1+p*(n.a1+S+f*x)/h),M=Math.asin(y),v=y*y,m=Math.sqrt(1-v)):(m=c/h*(1-f*(n.a5-S-p*x)/h),M=Math.acos(m),v=1-m*m,y=Math.sqrt(v)),g=1-al.eccentricitySquared*v,b=al.radius/Math.sqrt(g),w=n.a6*b,S=c-b*m,x=l-w*y,T=m*S+y*x,j=m*x-y*S,I=j/(w/g+T),M+=I,F=T+j*I/2,a<0&&(M=-M),r[i++]=oU*E,r[i++]=oU*M,r[i]=F}function ZW(e,t,r,i){JW(e,t,r,i),_W(r,i,r,i)}function QW(e,t,r,i){JW(e,t,r,i),jW(r,i,r,i)}const KW={[Oz.WGS84]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:gW,[Oz.SPHERICAL_ECEF]:_W,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:jW,[Oz.PLATE_CARREE]:MW,[Oz.WGS84]:gW,[Oz.WGS84_ECEF]:HW},[Oz.CGCS2000]:{[Oz.CGCS2000]:gW,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:gW,[Oz.SPHERICAL_ECEF]:_W,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:MW,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:HW},[Oz.GCSMARS2000]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:gW,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:null,[Oz.SPHERICAL_ECEF]:null,[Oz.SPHERICAL_MARS_PCPF]:LW,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:null,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:null},[Oz.GCSMOON2000]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:gW,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:null,[Oz.SPHERICAL_ECEF]:null,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:$W,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:null,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:null},[Oz.WEB_MERCATOR]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:bW,[Oz.WGS84_COMPARABLE_LON_LAT]:bW,[Oz.SPHERICAL_ECEF]:wW,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:gW,[Oz.PLATE_CARREE]:FW,[Oz.WGS84]:bW,[Oz.WGS84_ECEF]:SW},[Oz.WGS84_ECEF]:{[Oz.CGCS2000]:JW,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:JW,[Oz.WGS84_COMPARABLE_LON_LAT]:JW,[Oz.SPHERICAL_ECEF]:ZW,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:QW,[Oz.PLATE_CARREE]:kW,[Oz.WGS84]:JW,[Oz.WGS84_ECEF]:gW},[Oz.SPHERICAL_ECEF]:{[Oz.CGCS2000]:WW,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:WW,[Oz.WGS84_COMPARABLE_LON_LAT]:WW,[Oz.SPHERICAL_ECEF]:gW,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:UW,[Oz.PLATE_CARREE]:AW,[Oz.WGS84]:WW,[Oz.WGS84_ECEF]:GW},[Oz.SPHERICAL_MARS_PCPF]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:zW,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:zW,[Oz.WGS84_COMPARABLE_LON_LAT]:null,[Oz.SPHERICAL_ECEF]:null,[Oz.SPHERICAL_MARS_PCPF]:gW,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:null,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:null},[Oz.SPHERICAL_MOON_PCPF]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:VW,[Oz.LON_LAT]:VW,[Oz.WGS84_COMPARABLE_LON_LAT]:null,[Oz.SPHERICAL_ECEF]:null,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:gW,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:null,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:null},[Oz.UNKNOWN]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:null,[Oz.WGS84_COMPARABLE_LON_LAT]:null,[Oz.SPHERICAL_ECEF]:null,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:gW,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:null,[Oz.WGS84]:null,[Oz.WGS84_ECEF]:null},[Oz.LON_LAT]:{[Oz.CGCS2000]:gW,[Oz.GCSMARS2000]:gW,[Oz.GCSMOON2000]:gW,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:gW,[Oz.SPHERICAL_ECEF]:_W,[Oz.SPHERICAL_MARS_PCPF]:LW,[Oz.SPHERICAL_MOON_PCPF]:$W,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:jW,[Oz.PLATE_CARREE]:MW,[Oz.WGS84]:gW,[Oz.WGS84_ECEF]:HW},[Oz.WGS84_COMPARABLE_LON_LAT]:{[Oz.CGCS2000]:null,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:gW,[Oz.WGS84_COMPARABLE_LON_LAT]:gW,[Oz.SPHERICAL_ECEF]:_W,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:null,[Oz.PLATE_CARREE]:MW,[Oz.WGS84]:gW,[Oz.WGS84_ECEF]:HW},[Oz.PLATE_CARREE]:{[Oz.CGCS2000]:EW,[Oz.GCSMARS2000]:null,[Oz.GCSMOON2000]:null,[Oz.LON_LAT]:EW,[Oz.WGS84_COMPARABLE_LON_LAT]:EW,[Oz.SPHERICAL_ECEF]:CW,[Oz.SPHERICAL_MARS_PCPF]:null,[Oz.SPHERICAL_MOON_PCPF]:null,[Oz.UNKNOWN]:null,[Oz.WEB_MERCATOR]:OW,[Oz.PLATE_CARREE]:gW,[Oz.WGS84]:EW,[Oz.WGS84_ECEF]:PW}};function YW(e,t,r=eU()){return null==e||null==t?null:XW(e,t,r).projector}function XW(e,t,r){if(null==e||null==t||r.source.spatialReference===e&&r.dest.spatialReference===t)return r;const i=vW(e,r.source),n=vW(t,r.dest);return i===Oz.UNKNOWN&&n===Oz.UNKNOWN?bl(e,t)?r.projector=gW:r.projector=null:r.projector=KW[i][n],r}function eU(){return{source:{spatialReference:null,spatialReferenceId:Oz.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:Oz.UNKNOWN,metersPerUnit:1},projector:gW}}const tU={spatialReference:null,spatialReferenceId:Oz.UNKNOWN},rU={spatialReference:null,spatialReferenceId:Oz.UNKNOWN},iU=eU(),nU=eU(),sU=bf(1),oU=wf(1),aU=fd(),lU=fd(),uU=fd(),cU=fd(),dU=fd();const hU=Object.freeze({__proto__:null,canProjectToWGS84ComparableLonLat:DW,canProjectWithoutEngine:Nz,computeENUToSphericalPCPFLocalRotation:yW,computeSphericalPCPFToENULocalRotation:mW,computeTranslationToOriginAndRotation:fW,getProjectorName:Lz,getTransformation:kz,getTransformations:Az,initializeProjection:$z,isLoaded:jz,load:Tz,localLinearScaleFactors:hW,lonLatToSphericalPCPF:RW,lonLatToWebMercatorComparable:xW,project:Iz,projectBoundingRect:dW,projectBoundingSphere:uW,projectBuffer:oW,projectDirection:aW,projectExtent:Qz,projectMany:Mz,projectMultipoint:zz,projectOrLoad:Ez,projectOrLoadMany:Fz,projectPoint:qz,projectPointToVector:eW,projectPointToWGS84ComparableLonLat:iW,projectPolygon:Jz,projectPolygonToWGS84ComparableLonLat:Hz,projectPolyline:Uz,projectPolylineToWGS84ComparableLonLat:Bz,projectVectorToDehydratedPoint:Xz,projectVectorToPoint:Yz,projectVectorToVector:rW,projectVectorToWGS84ComparableLonLat:nW,projectWithoutEngine:_z,projectXYZToVector:tW,sphericalPCPFtoLonLatElevation:qW,test:Dz,tryProjectWithZConversion:Rz,unload:Pz});async function fU(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return Qu(e);const r=Fu.WGS84;return await $z(t,r),Iz(e,r)}function pU(e,t){if(!yU(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function yU(e,t){return!!e.typeKeywords?.includes(t)}function mU(e){return yU(e,bU.HOSTED_SERVICE)}function vU(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}async function gU(e){const t=e.clone().normalize();let r;if(t.length>1)for(const e of t)r?e.width>r.width&&(r=e):r=e;else r=t[0];return fU(r)}const bU={DEVELOPER_BASEMAP:"DeveloperBasemap",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",SINGLE_LAYER:"Singlelayer",TABLE:"Table",HOSTED_SERVICE:"Hosted Service"};function wU(e){const{portal:t,isOrgItem:r,itemControl:i}=e,n=t.user?.privileges;let s=!n||n.includes("features:user:edit"),o=!!r&&!!n?.includes("features:user:fullEdit");const a="update"===i||"admin"===i;return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}const SU=e=>{let t=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=we(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(e){e!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",e))}readPortalItem(e,t,r){if(t.itemId)return new qV({id:t.itemId,portal:r&&r.portal})}writePortalItem(e,t){e&&e.id&&(t.itemId=e.id)}async loadFromPortal(e,t){if(this.portalItem&&this.portalItem.id)try{const{load:r}=await import("./p-ea3d1c3e.js");return Ir(t),await r({instance:this,supportedTypes:e.supportedTypes,validateItem:e.validateItem,supportsData:e.supportsData,layerModuleTypeMap:e.layerModuleTypeMap},t)}catch(e){throw Pr(e)||fe.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${e}`),e}}async finishLoadEditablePortalLayer(e){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(e).catch((e=>(Fr(e),!0))))}async _setUserPrivileges(e,t){if(!ne.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(t);if(this.url)try{const{features:{edit:r,fullEdit:i},content:{updateItem:n}}=await this._fetchUserPrivileges(e,t);this._set("userHasEditingPrivileges",r),this._set("userHasFullEditingPrivileges",i),this._set("userHasUpdateItemPrivileges",n)}catch(e){Fr(e)}}async _fetchUserPrivileges(e,t){let r=this.portalItem;if(!e||!r||!r.loaded||r.sourceUrl)return this._fetchFallbackUserPrivileges(t);const i=e===r.id;if(i&&r.portal.user)return wU(r);let n,s;if(i)n=r.portal.url;else try{n=await OE(this.url,t)}catch(e){Fr(e)}if(!n||!ht(n,r.portal.url))return this._fetchFallbackUserPrivileges(t);try{const e=null!=t?t.signal:null;s=await(pr?.getCredential(`${n}/sharing`,{prompt:!1,signal:e}))}catch(e){Fr(e)}const o=!0,a=!1,l=!1;if(!s)return{features:{edit:o,fullEdit:a},content:{updateItem:l}};try{if(i?await r.reload():(r=new qV({id:e,portal:{url:n}}),await r.load(t)),r.portal.user)return wU(r)}catch(e){Fr(e)}return{features:{edit:o,fullEdit:a},content:{updateItem:l}}}async _fetchFallbackUserPrivileges(e){let t=!0;try{t=await this._fetchUserHasEditingPrivileges(e)}catch(e){Fr(e)}return{features:{edit:t,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(e){const t=this.url?pr?.findCredential(this.url):null;if(!t)return!0;const r=xU.credential===t?xU.user:await this._fetchEditingUser(e);return xU.credential=t,xU.user=r,null==r||null==r.privileges||r.privileges.includes("features:user:edit")}async _fetchEditingUser(e){const t=this.portalItem?.portal?.user;if(t)return t;const r=pr.findServerInfo(this.url??"");if(!r?.owningSystemUrl)return null;const i=`${r.owningSystemUrl}/sharing/rest`,n=Vx.getDefault();if(n&&n.loaded&&St(n.restUrl)===St(i))return n.user;const s=`${i}/community/self`,o=null!=e?e.signal:null,a=await FV(Xr(s,{authMode:"no-prompt",query:{f:"json"},signal:o}));return a.ok?Rx.fromJSON(a.value.data):null}read(e,t){t&&(t.layer=this),super.read(e,t)}write(e,t){const r=t&&t.portal,i=this.portalItem&&this.portalItem.id&&(this.portalItem.portal||Vx.getDefault());return r&&i&&!ft(i.restUrl,r.restUrl)?(t.messages&&t.messages.push(new me("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(e,{...t,layer:this})}};return ji([Cn({type:qV})],t.prototype,"portalItem",null),ji([il("web-document","portalItem",["itemId"])],t.prototype,"readPortalItem",null),ji([Iu("web-document","portalItem",{itemId:{type:String}})],t.prototype,"writePortalItem",null),ji([Cn({clonable:!1})],t.prototype,"resourceReferences",void 0),ji([Cn({type:Boolean,readOnly:!0})],t.prototype,"userHasEditingPrivileges",void 0),ji([Cn({type:Boolean,readOnly:!0})],t.prototype,"userHasFullEditingPrivileges",void 0),ji([Cn({type:Boolean,readOnly:!0})],t.prototype,"userHasUpdateItemPrivileges",void 0),t=ji([zs("esri.layers.mixins.PortalLayer")],t),t},xU={credential:null,user:null};let jU=class extends $a{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};ji([Cn()],jU.prototype,"updating",void 0),ji([Cn()],jU.prototype,"status",void 0),jU=ji([zs("esri.layers.support.PublishingInfo")],jU);const TU=jU;const IU="esri.layers.mixins.PublishableLayer",MU=Symbol(IU);const EU=e=>{var t;let r=class extends e{constructor(){super(...arguments),this[t]=!0}get publishingInfo(){if(this.destroyed)return null;const e=this._get("publishingInfo");if(e)return e;const t=new TU;return this._checkPublishingStatus(t),t}_checkPublishingStatus(e){const t=250,r=125;let i=0;const n=async t=>{let o;e.updating=!0;try{o=await this.fetchPublishingStatus()}catch(e){o="unavailable"}"published"!==o&&"unavailable"!==o||("publishing"===e.status&&this.refresh(),s.remove()),e.status=o,e.updating=!1,s.removed||(i=setTimeout(n,t,t+r))},s={removed:!1,remove(){this.removed=!0,clearTimeout(i)}};this.when().catch((()=>s.remove())),n(t),this.own(s)}};return t=MU,ji([Cn({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=ji([zs(IU)],r),r};const FU=new by,kU=new WeakMap;function AU(e){OU(e)&&FU.push(e)}function CU(e){OU(e)&&FU.includes(e)&&FU.remove(e)}function OU(e){return null!=e&&"object"==typeof e&&"refreshInterval"in e&&"refresh"in e}function PU(e,t){return Number.isFinite(e)&&Number.isFinite(t)?t<=0?e:PU(t,e%t):0}let DU=0,RU=0;function NU(){const e=Date.now();for(const t of FU)if(t.refreshInterval){e-(kU.get(t)??0)+5>=6e4*t.refreshInterval&&(kU.set(t,e),t.refresh(e))}}ca((()=>{const e=Date.now();let t=0;for(const r of FU)t=PU(Math.round(6e4*r.refreshInterval),t),r.refreshInterval?kU.get(r)||kU.set(r,e):kU.delete(r);if(t!==RU){if(RU=t,clearInterval(DU),0===RU)return void(DU=0);DU=setInterval(NU,RU)}}));const $U=e=>{let t=class extends e{constructor(...e){super(...e),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=Vr((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||AU(this)}),(()=>{}))}destroy(){CU(this)}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(e=Date.now()){Dr(this._debounceHasDataChanged()).then((t=>{t&&this._set("refreshTimestamp",e),this.emit("refresh",{dataChanged:t})}),(e=>{fe.getLogger(this).error(e),this.emit("refresh",{dataChanged:!1,error:e})}))}async hasDataChanged(){return!0}};return ji([Cn({type:Number,cast:e=>e>=.1?e:e<=0?0:.1,json:{write:!0}})],t.prototype,"refreshInterval",void 0),ji([Cn({readOnly:!0})],t.prototype,"refreshTimestamp",void 0),ji([Cn()],t.prototype,"refreshParameters",null),t=ji([zs("esri.layers.mixins.RefreshableLayer")],t),t};const LU=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&_U(e,t.effectiveScaleRange);const r=this._get("effectiveScaleRange");return r&&r.minScale===e.minScale&&r.maxScale===e.maxScale?r:e}};return ji([Cn({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),ji([Cn({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),ji([Cn({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=ji([zs("esri.layers.mixins.ScaleRangeLayer")],t),t};function _U(e,t){return e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale,e}const qU=sl()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let VU=class extends(Yp(rl)){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return IN(this.value,this.unit,"milliseconds")}};ji([iv(qU,{nonNullable:!0})],VU.prototype,"unit",void 0),ji([Cn({type:Number,json:{write:!0},nonNullable:!0})],VU.prototype,"value",void 0),VU=ji([zs("esri.TimeInterval")],VU);const zU=VU;function WU(e,t){return zU.fromJSON({value:e,unit:t})}let UU=class extends(Yp(rl)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeReference=null,this.trackIdField=null,this.useTime=!0}readFullTimeExtent(e,t){if(!t.timeExtent||!Array.isArray(t.timeExtent)||2!==t.timeExtent.length)return null;const r=new Date(t.timeExtent[0]),i=new Date(t.timeExtent[1]);return new AN({start:r,end:i})}writeFullTimeExtent(e,t){e&&null!=e.start&&null!=e.end?t.timeExtent=[e.start.getTime(),e.end.getTime()]:t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?WU(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?WU(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};ji([Cn({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],UU.prototype,"cumulative",void 0),ji([Cn({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],UU.prototype,"endField",void 0),ji([Cn({type:AN,json:{write:{enabled:!0,allowNull:!0}}})],UU.prototype,"fullTimeExtent",void 0),ji([il("fullTimeExtent",["timeExtent"])],UU.prototype,"readFullTimeExtent",null),ji([Iu("fullTimeExtent")],UU.prototype,"writeFullTimeExtent",null),ji([Cn({type:Boolean,json:{write:!0}})],UU.prototype,"hasLiveData",void 0),ji([Cn({type:zU,json:{write:{enabled:!0,allowNull:!0}}})],UU.prototype,"interval",void 0),ji([il("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],UU.prototype,"readInterval",null),ji([Iu("interval")],UU.prototype,"writeInterval",null),ji([Cn({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],UU.prototype,"startField",void 0),ji([Cn({type:dL,json:{write:{enabled:!0,allowNull:!0}}})],UU.prototype,"timeReference",void 0),ji([Cn({type:String,json:{write:{enabled:!0,allowNull:!0}}})],UU.prototype,"trackIdField",void 0),ji([Cn({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],UU.prototype,"useTime",void 0),UU=ji([zs("esri.layers.support.TimeInfo")],UU);const GU=UU;const BU=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const r=t.timeInfo.exportOptions;if(!r)return null;const i=r.timeOffset,n=qU.fromJSON(r.timeOffsetUnits);return i&&n?new zU({value:i,unit:n}):null}set timeInfo(e){Ny(e,this.fieldsIndex),this._set("timeInfo",e)}};return ji([Cn({type:AN,json:{write:!1}})],t.prototype,"timeExtent",void 0),ji([Cn({type:zU})],t.prototype,"timeOffset",void 0),ji([il("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),ji([Cn({value:null,type:GU,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),ji([Cn({type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation"},origins:{"web-scene":{read:!1,write:!1}}}})],t.prototype,"useViewTime",void 0),t=ji([zs("esri.layers.mixins.TemporalLayer")],t),t};const HU=new nl({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let JU=class extends(Yp(rl)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};ji([Cn({json:{write:!0}})],JU.prototype,"name",void 0),ji([Cn({json:{write:!0}})],JU.prototype,"description",void 0),ji([Cn({json:{read:HU.read,write:HU.write}})],JU.prototype,"drawingTool",void 0),ji([Cn({json:{write:!0}})],JU.prototype,"prototype",void 0),ji([Cn({json:{write:!0}})],JU.prototype,"thumbnail",void 0),JU=ji([zs("esri.layers.support.FeatureTemplate")],JU);const ZU=JU;let QU=class extends(Yp(rl)){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const t={};for(const r of Object.keys(e))t[r]=dI(e[r]);return t}writeDomains(e,t){const r={};for(const t of Object.keys(e))e[t]&&(r[t]=e[t]?.toJSON());t.domains=r}};ji([Cn({json:{write:!0}})],QU.prototype,"id",void 0),ji([Cn({json:{write:!0}})],QU.prototype,"name",void 0),ji([Cn({json:{write:!0}})],QU.prototype,"domains",void 0),ji([il("domains")],QU.prototype,"readDomains",null),ji([Iu("domains")],QU.prototype,"writeDomains",null),ji([Cn({type:[ZU],json:{write:!0}})],QU.prototype,"templates",void 0),QU=ji([zs("esri.layers.support.FeatureType")],QU);const KU=QU;function YU(){return{fields:{type:[mI],value:null},fieldsIndex:{readOnly:!0,get(){return new pF(this.fields||[])}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e||!e.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e){const r=this.fieldsIndex?.has(t);r||fe.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e})}return Ly(this.fieldsIndex,e)}}}}const XU=fe.getLogger("esri.layers.support.labelingInfo"),eG=/\[([^\[\]]+)\]/gi;function tG(e,t,r){return e?e.map((e=>{const i=new bq;if(i.read(e,r),i.labelExpression){const e=t.fields||t.layerDefinition&&t.layerDefinition.fields||this.fields;i.labelExpression=i.labelExpression.replaceAll(eG,((t,r)=>`[${rG(r,e)}]`))}return i})):null}function rG(e,t){if(!t)return e;const r=e.toLowerCase();for(let e=0;e<t.length;e++){const i=t[e].name;if(i.toLowerCase()===r)return i}return e}const iG={esriGeometryPoint:["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along"],esriGeometryMultipoint:null};function nG(e,t){const r=V(e);return r.some((e=>sG(e,t)))?[]:r}function sG(e,t){const r=e.labelPlacement,i=iG[t];if(!e.symbol)return XU.warn("No ILabelClass symbol specified."),!0;if(!i)return XU.error(new me("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),!0;if(!i.includes(r)){const n=i[0];r&&XU.warn(`Found invalid label placement type ${r} for ${t}. Defaulting to ${n}`),e.labelPlacement=n}return!1}const oG=[];function aG(e,t){if(rD(e.url??""))return!0;const{wkid:r}=t;for(const t of oG){if((e.version??0)>=t[0])return!0;if("function"==typeof t[1]&&(t[1]=t[1]()),t[1].has(r))return!1}return!0}oG.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102901;t<=102955;t++)e.add(t);return e}]),oG.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),oG.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),oG.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),oG.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}]),oG.push([10.7,()=>{const e=new Set([8387,8391,8427,8545,8682,8685,8818,31370,104022,104024,104975]);for(let t=8065;t<=8068;t++)e.add(t);for(let t=8082;t<=8083;t++)e.add(t);for(let t=8379;t<=8385;t++)e.add(t);for(let t=8836;t<=8840;t++)e.add(t);for(let t=8857;t<=8860;t++)e.add(t);for(let t=53035;t<=53037;t++)e.add(t);for(let t=54090;t<=54091;t++)e.add(t);for(let t=102498;t<=102499;t++)e.add(t);return e}]),oG.push([10.61,()=>new Set([102497])]),oG.push([10.6,()=>{const e=new Set([7803,7805,7887,8086,8232,8237,8240,8246,8249,8252,8255,9019,9391]);for(let t=7755;t<=7787;t++)e.add(t);for(let t=7791;t<=7795;t++)e.add(t);for(let t=7799;t<=7801;t++)e.add(t);for(let t=7825;t<=7831;t++)e.add(t);for(let t=7877;t<=7878;t++)e.add(t);for(let t=7882;t<=7883;t++)e.add(t);for(let t=7991;t<=7992;t++)e.add(t);for(let t=8042;t<=8043;t++)e.add(t);for(let t=8058;t<=8059;t++)e.add(t);for(let t=8311;t<=8348;t++)e.add(t);for(let t=9060;t<=9067;t++)e.add(t);for(let t=102562;t<=102568;t++)e.add(t);for(let t=102799;t<=102900;t++)e.add(t);return e}]),oG.push([10.51,()=>{const e=new Set([7683,7881,7886,7899,8888,9e3]);for(let t=8013;t<=8032;t++)e.add(t);for(let t=9053;t<=9057;t++)e.add(t);for(let t=104017;t<=104018;t++)e.add(t);for(let t=104971;t<=104974;t++)e.add(t);return e}]),oG.push([10.5,()=>{const e=new Set([6962,7035,7037,7039,7041,7084,7086,7133,7798,102399]);for(let t=4087;t<=4088;t++)e.add(t);for(let t=5896;t<=5899;t++)e.add(t);for(let t=7005;t<=7007;t++)e.add(t);for(let t=7057;t<=7070;t++)e.add(t);for(let t=7073;t<=7082;t++)e.add(t);for(let t=7109;t<=7128;t++)e.add(t);for(let t=7844;t<=7859;t++)e.add(t);return e}]);async function lG(e,t,r){const i=e&&e.getAtOrigin&&e.getAtOrigin("renderer",t.origin);if(i&&"unique-value"===i.type&&i.styleOrigin){const n=await FV(i.populateFromStyle());if(Ir(r),!1===n.ok){const r=n.error;t&&t.messages&&t.messages.push(new es("renderer:style-reference",`Failed to create unique value renderer from style reference: ${r.message}`,{error:r,context:t})),e.clear("renderer",t?.origin)}}}var uG;let cG=uG=class extends rl{constructor(e){super(e),this.groupByFields=void 0,this.topCount=void 0,this.orderByFields=void 0}clone(){return new uG({groupByFields:this.groupByFields,topCount:this.topCount,orderByFields:this.orderByFields})}};ji([Cn({type:[String],json:{write:!0}})],cG.prototype,"groupByFields",void 0),ji([Cn({type:Number,json:{write:!0}})],cG.prototype,"topCount",void 0),ji([Cn({type:[String],json:{write:!0}})],cG.prototype,"orderByFields",void 0),cG=uG=ji([zs("esri.rest.support.TopFilter")],cG);const dG=cG;var hG;const fG=new nl({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),pG=new nl({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let yG=hG=class extends rl{constructor(e){super(e),this.cacheHint=void 0,this.distance=void 0,this.geometry=null,this.geometryPrecision=void 0,this.maxAllowableOffset=void 0,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.resultType=null,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.start=void 0,this.spatialRelationship="intersects",this.timeExtent=null,this.topFilter=void 0,this.units=null,this.where="1=1"}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10}clone(){return new hG(V({cacheHint:this.cacheHint,distance:this.distance,geometry:this.geometry,geometryPrecision:this.geometryPrecision,maxAllowableOffset:this.maxAllowableOffset,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,resultType:this.resultType,returnGeometry:this.returnGeometry,returnZ:this.returnZ,returnM:this.returnM,start:this.start,spatialRelationship:this.spatialRelationship,timeExtent:this.timeExtent,topFilter:this.topFilter,units:this.units,where:this.where}))}};ji([Cn({type:Boolean,json:{write:!0}})],yG.prototype,"cacheHint",void 0),ji([Cn({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],yG.prototype,"distance",void 0),ji([Cn({types:Kp,json:{read:Hp,write:!0}})],yG.prototype,"geometry",void 0),ji([Cn({type:Number,json:{write:!0}})],yG.prototype,"geometryPrecision",void 0),ji([Cn({type:Number,json:{write:!0}})],yG.prototype,"maxAllowableOffset",void 0),ji([Cn({type:Number,json:{read:{source:"resultRecordCount"}}})],yG.prototype,"num",void 0),ji([Cn({json:{write:!0}})],yG.prototype,"objectIds",void 0),ji([Cn({type:[String],json:{write:!0}})],yG.prototype,"orderByFields",void 0),ji([Cn({type:[String],json:{write:!0}})],yG.prototype,"outFields",void 0),ji([Cn({type:Fu,json:{read:{source:"outSR"},write:{target:"outSR"}}})],yG.prototype,"outSpatialReference",void 0),ji([Cn({type:String,json:{write:!0}})],yG.prototype,"resultType",void 0),ji([Cn({json:{write:!0}})],yG.prototype,"returnGeometry",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],yG.prototype,"returnM",void 0),ji([Cn({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],yG.prototype,"returnZ",void 0),ji([Cn({type:Number,json:{read:{source:"resultOffset"}}})],yG.prototype,"start",void 0),ji([Iu("start"),Iu("num")],yG.prototype,"writeStart",null),ji([Cn({type:String,json:{read:{source:"spatialRel",reader:fG.read},write:{target:"spatialRel",writer:fG.write}}})],yG.prototype,"spatialRelationship",void 0),ji([Cn({type:AN,json:{write:!0}})],yG.prototype,"timeExtent",void 0),ji([Cn({type:dG,json:{write:!0}})],yG.prototype,"topFilter",void 0),ji([Cn({type:String,json:{read:pG.read,write:{writer:pG.write,overridePolicy(e){return{enabled:null!=e&&null!=this.distance&&this.distance>0}}}}})],yG.prototype,"units",void 0),ji([Cn({type:String,json:{write:!0}})],yG.prototype,"where",void 0),yG=hG=ji([zs("esri.rest.support.TopFeaturesQuery")],yG),yG.from=Wi(yG);const mG=yG;function vG({displayField:e,editFieldsInfo:t,fields:r,objectIdField:i,title:n},s){if(!r)return null;const o=SG({editFieldsInfo:t,fields:r,objectIdField:i},s);if(!o.length)return null;const a=TG({titleBase:n,fields:r,displayField:e}),l=jG();return new yb({title:a,content:l,fieldInfos:o})}const gG=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):um(e,t);function bG(e,t){const r=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===r&&(e=e.slice()),e.sort(wG),e}function wG(e,t){return"oid"===e.type?-1:"oid"===t.type?1:IG(e)?-1:IG(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function SG(e,t){const r=t?.visibleFieldNames;return bG(e.fields??[],t?.ignoreFieldTypes||MG).map((t=>new Hv({fieldName:t.name,isEditable:lm(t,e),label:t.alias,format:xG(t),visible:gG(t,{...e,visibleFieldNames:r})})))}function xG(e){switch(e.type){case"small-integer":case"integer":case"single":return new Uv({digitSeparator:!0,places:0});case"double":return new Uv({digitSeparator:!0,places:2});case"date":return new Uv({dateFormat:"long-month-day-year"});default:return"string"===e.type&&zm(e.name)?new Uv({digitSeparator:!0,places:0}):null}}function jG(){return[new Qv,new Hm]}function TG(e){const t=Uy(e),{titleBase:r}=e;return t?`${r}: {${t.trim()}}`:r??""}function IG(e){if("name"===(e.name&&e.name.toLowerCase()))return!0;return"name"===(e.alias&&e.alias.toLowerCase())}const MG=["geometry","blob","raster","guid","xml"];const EG="FeatureLayer",FG="esri.layers.FeatureLayer",kG=fe.getLogger(FG);function AG(e,t){return new me("layer:unsupported",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function CG(e){return e&&e instanceof by}const OG=YU();function PG(e,t,r){const i=!!r?.writeLayerSchema;return{enabled:i,ignoreOrigin:i}}let DG=class extends(b_(uV(x$(EU(bN(hN(SV(BU(LU($U(aD(pV(SU(GA(fN(GP(Yp(iO)))))))))))))))))){constructor(...e){super(...e),this._handles=new Js,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Fu.WGS84,this.subtypeCode=null,this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0}destroy(){this.source?.destroy(),this._handles=we(this._handles)}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then((e=>this.initLayerProperties(e)))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection"]},e).catch(Fr).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\/*$/i.test(this.url)){const e=await this._fetchFirstLayerId(t);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new me("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(t))})).then((()=>this._setUserPrivileges(this.serviceItemId,e))).then((()=>WL(this,e)));return this.addResolvingPromise(r),Promise.resolve(this)}readCapabilities(e,t){return t=t.layerDefinition||t,u_(t,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome("editingEnabled",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}get effectiveEditingEnabled(){return GL(this)}readIsTable(e,t){return"Table"===(t=t?.layerDefinition??t).type||!t.geometryType}writeIsTable(e,t,r,i){i?.writeLayerSchema&&te(r,e?"Table":"Feature Layer",t)}readGlobalIdField(e,t){return LL(t.layerDefinition||t)}readObjectIdField(e,t){return _L(t.layerDefinition||t)}get parsedUrl(){const e=tt(this.url);return null!=e&&(null!=this.dynamicDataSource?e.path=xt(e.path,"dynamicLayer"):null!=this.layerId&&(e.path=xt(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){Dy(e,this.fieldsIndex),this._set("renderer",e)}readRenderer(e,t,r){t=t.layerDefinition||t;const i=t.drawingInfo?.renderer;if(i){const e=LA(i,t,r)??void 0;return e||kG.error("Failed to create renderer",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:r}),e}return HL(t,r)}set source(e){const t=this._get("source");t!==e&&(CG(t)&&this._resetMemorySource(t),CG(e)&&this._initMemorySource(e),this._set("source",e))}castSource(e){return e?Array.isArray(e)||e instanceof by?new WP({layer:this,items:e}):e:null}readSource(e,t){const r=wI.fromJSON(t.featureSet);return new WP({layer:this,items:r?.features??[]})}readTemplates(e,t){const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e=e&&e.map((e=>ZU.fromJSON(e))),this._fixTemplates(e,i),this._fixTemplates(e,n),e}readTitle(e,t){const r=t.layerDefinition?.name??t.name,i=t.title||t.layerDefinition&&t.layerDefinition.title;if(r){const e=this.portalItem&&this.portalItem.title;if("item-title"===this.sublayerTitleMode)return this.url?tD(this.url,r):r;let t=r;if(!t&&this.url){const e=YP(this.url);null!=e&&(t=e.title)}if(!t)return;return"item-title-and-service-name"===this.sublayerTitleMode&&e&&e!==t&&(t=e+" - "+t),eD(t)}if("item-title"===this.sublayerTitleMode&&i)return i}readTitleFromWebMap(e,t){return t.title||t.layerDefinition&&t.layerDefinition.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===r));e&&(r=e.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,i=r&&r.creatorField,n=r&&r.editorField;return e&&e.map((e=>(e=KU.fromJSON(e),this._fixTemplates(e.templates,i),this._fixTemplates(e.templates,n),e)))}readVisible(e,t){return t.layerDefinition&&null!=t.layerDefinition.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}async addAttachment(e,t){return jL(this,e,t,EG)}async updateAttachment(e,t,r){return IL(this,e,t,r,EG)}async applyEdits(e,t){return ML(this,e,t)}async uploadAssets(e,t){return EL(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return vG(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await Or(import("./p-848e63b2.js"),e);return new t({layer:this}).load({signal:e})}createQuery(){const e=$L(this);e.dynamicDataSource=this.dynamicDataSource;const t=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null,r=JA(this.definitionExpression,t);return e.where=r||"1=1",e}async deleteAttachments(e,t){return FL(this,e,t,EG)}async fetchRecomputedExtents(e){return kL(this,e,EG)}getFeatureType(e){const{typeIdField:t,types:r}=this;if(!t||!e)return null;const i=e.attributes?e.attributes[t]:void 0;if(null==i)return null;let n=null;return r?.some((e=>{const{id:t}=e;return null!=t&&(t.toString()===i.toString()&&(n=e),!!n)})),n}getFieldDomain(e,t){const r=t?.feature,i=this.getFeatureType(r);if(i){const t=i.domains&&i.domains[e];if(t&&"inherited"!==t.type)return t}return this._getLayerDomain(e)}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return AL(this,e,t,EG)}async queryFeatures(e,t){const r=await this.load(),i=await r.source.queryFeatures(u$.from(e)??r.createQuery(),t);if(i?.features)for(const e of i.features)e.layer=e.sourceLayer=r;return i}async queryObjectIds(e,t){return CL(this,e,t,EG)}async queryFeatureCount(e,t){return OL(this,e,t,EG)}async queryExtent(e,t){return PL(this,e,t,EG)}async queryRelatedFeatures(e,t){return DL(this,e,t,EG)}async queryRelatedFeaturesCount(e,t){return RL(this,e,t,EG)}async queryTopFeatures(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopFeatures||!i?.query?.supportsTopFeaturesQuery)throw new me(EG,"Layer source does not support queryTopFeatures capability");const n=await r.queryTopFeatures(mG.from(e),t);if(n?.features)for(const e of n.features)e.layer=e.sourceLayer=this;return n}async queryTopObjectIds(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopObjectIds||!i?.query.supportsTopFeaturesQuery)throw new me(EG,"Layer source does not support queryTopObjectIds capability");return r.queryTopObjectIds(mG.from(e),t)}async queryTopFeaturesExtent(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopExtents||!i?.query?.supportsTopFeaturesQuery)throw new me(EG,"Layer source does not support queryTopExtents capability");return r.queryTopExtents(mG.from(e),t)}async queryTopFeatureCount(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopCount||!i?.query?.supportsTopFeaturesQuery)throw new me(EG,"Layer source does not support queryFeatureCount capability");return r.queryTopCount(mG.from(e),t)}read(e,t){const r=e.featureCollection;if(r){const e=r.layers;e&&1===e.length&&(super.read(e[0],t),null!=r.showLegend&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&"service"===t.origin&&(this.revert(["objectIdField","fields","timeInfo"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:r,layerContainerType:i,messages:n}=t;if(this.dynamicDataSource)return n?.push(AG(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if("web-scene"===r||"web-map"===r&&"tables"!==i)return n?.push(AG(this,"using a table source cannot be written to web scenes and web maps")),null;if(this._hasMemorySource())return n?.push(AG(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&"web-map"===r&&"tables"===i)return n?.push(AG(this,"using a non-table source cannot be written to tables in web maps")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new me(EG,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&("memory"===this.source?.type||aG(this,e))}async save(e){const{save:t}=await import("./p-ef8948ce.js");return t(this,e)}async saveAs(e,t){const{saveAs:r}=await import("./p-ef8948ce.js");return r(this,e,t)}_readEditingEnabled(e,t,r){let i=e.layerDefinition?.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&"web-map"===r?.origin&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(",").map((e=>e.trim())).includes("editing")}_writeEditingEnabled(e,t,r,i){if(!e){const e=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";te("layerDefinition.capabilities",e,t),r&&!i?.writeLayerSchema&&(t.capabilities=e)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstLayerId(e){return Xr(this.url,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then((e=>{const t=e.data;if(t)return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}))}async initLayerProperties(e){return this._set("source",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Dy(this.renderer,this.fieldsIndex),Ny(this.timeInfo,this.fieldsIndex),lG(this,{origin:"service"})}async hasDataChanged(){return NL(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():"unavailable"}_verifyFields(){const e=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+e+")"),this.isTable||this._hasMemorySource()||-1!==e.search(/\/FeatureServer\//i)||this.fields?.some((e=>"geometry"===e.type))||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+e+")")}_fixTemplates(e,t){e&&e.forEach((e=>{const r=e.prototype&&e.prototype.attributes;r&&t&&delete r[t]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new me("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new me("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this._handles.add([e.on("after-add",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on("after-remove",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],"fl-source")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this._handles.remove("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}};ji([il("service","capabilities")],DG.prototype,"readCapabilities",null),ji([Cn({json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],DG.prototype,"charts",void 0),ji([Cn({readOnly:!0})],DG.prototype,"createQueryVersion",null),ji([Cn({json:{read:{source:"layerDefinition.copyrightText"}}})],DG.prototype,"copyright",void 0),ji([Cn({json:{read:{source:"layerDefinition.displayField"}}})],DG.prototype,"displayField",void 0),ji([Cn({types:$T,readOnly:!0})],DG.prototype,"defaultSymbol",void 0),ji([Cn({type:JN})],DG.prototype,"dynamicDataSource",void 0),ji([Cn({type:Boolean})],DG.prototype,"editingEnabled",null),ji([il(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],DG.prototype,"readEditingEnabled",null),ji([il("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],DG.prototype,"readEditingEnabledFromWebMap",null),ji([Iu(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],DG.prototype,"writeEditingEnabled",null),ji([Iu("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],DG.prototype,"writeEditingEnabledToWebMap",null),ji([Cn({readOnly:!0})],DG.prototype,"effectiveEditingEnabled",null),ji([Cn({...OG.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:PG}}}}})],DG.prototype,"fields",void 0),ji([Cn(OG.fieldsIndex)],DG.prototype,"fieldsIndex",void 0),ji([Cn({type:XC,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],DG.prototype,"formTemplate",void 0),ji([Cn({json:{read:{source:"layerDefinition.extent"}}})],DG.prototype,"fullExtent",void 0),ji([Cn({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:PG,writer(e,t,r){const i=e?xL.toJSON(e):null;i&&te(r,i,t)}}}},read:{source:"layerDefinition.geometryType",reader:xL.read}}})],DG.prototype,"geometryType",void 0),ji([Cn({json:{read:{source:"layerDefinition.hasM"}}})],DG.prototype,"hasM",void 0),ji([Cn({json:{read:{source:"layerDefinition.hasZ"}}})],DG.prototype,"hasZ",void 0),ji([Cn(rL)],DG.prototype,"id",void 0),ji([Cn({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],DG.prototype,"infoFor3D",void 0),ji([Cn({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],DG.prototype,"isTable",void 0),ji([il("service","isTable",["type","geometryType"]),il("isTable",["layerDefinition.type","layerDefinition.geometryType"])],DG.prototype,"readIsTable",null),ji([Iu("web-map","isTable")],DG.prototype,"writeIsTable",null),ji([Cn(B$)],DG.prototype,"labelsVisible",void 0),ji([Cn({type:[bq],json:{origins:{service:{read:{source:"drawingInfo.labelingInfo",reader:tG},write:{target:"drawingInfo.labelingInfo",enabled:!1}}},read:{source:"layerDefinition.drawingInfo.labelingInfo",reader:tG},write:{target:"layerDefinition.drawingInfo.labelingInfo"}}})],DG.prototype,"labelingInfo",void 0),ji([Cn((()=>{const e=V(X$);return e.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,t,r){te(r,Ub(e),t)}}},e})())],DG.prototype,"opacity",void 0),ji([Cn(J$)],DG.prototype,"legendEnabled",void 0),ji([Cn({type:["show","hide"],json:(()=>{const e=V(sL.json);return e.origins["portal-item"]={read:!1,write:!1},e})()})],DG.prototype,"listMode",void 0),ji([il("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],DG.prototype,"readGlobalIdField",null),ji([Cn({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:PG}}}}})],DG.prototype,"objectIdField",void 0),ji([il("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],DG.prototype,"readObjectIdField",null),ji([Cn({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],DG.prototype,"operationalLayerType",void 0),ji([Cn(OG.outFields)],DG.prototype,"outFields",void 0),ji([Cn({readOnly:!0})],DG.prototype,"parsedUrl",null),ji([Cn({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],DG.prototype,"path",void 0),ji([Cn(G$)],DG.prototype,"popupEnabled",void 0),ji([Cn({type:yb,json:{name:"popupInfo",write:!0}})],DG.prototype,"popupTemplate",void 0),ji([Cn({readOnly:!0})],DG.prototype,"defaultPopupTemplate",null),ji([Cn({types:DA,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:RA,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema})}}})],DG.prototype,"renderer",null),ji([il("service","renderer",["drawingInfo.renderer","defaultSymbol"]),il("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],DG.prototype,"readRenderer",null),ji([Cn((()=>{const e=V(U$);return e.json.origins["portal-item"]={read:!1,write:!1},e})())],DG.prototype,"screenSizePerspectiveEnabled",void 0),ji([Cn({clonable:!1})],DG.prototype,"source",null),ji([Ru("source")],DG.prototype,"castSource",null),ji([il("portal-item","source",["featureSet"]),il("web-map","source",["featureSet"])],DG.prototype,"readSource",null),ji([Cn({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],DG.prototype,"spatialReference",void 0),ji([Cn({type:Number})],DG.prototype,"subtypeCode",void 0),ji([Cn({type:[ZU]})],DG.prototype,"templates",void 0),ji([il("templates",["editFieldsInfo","creatorField","editorField","templates"])],DG.prototype,"readTemplates",null),ji([Cn({type:GU})],DG.prototype,"timeInfo",void 0),ji([Cn()],DG.prototype,"title",void 0),ji([il("service","title",["name"]),il("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],DG.prototype,"readTitle",null),ji([il("web-map","title",["layerDefinition.name","title"])],DG.prototype,"readTitleFromWebMap",null),ji([Cn({type:String})],DG.prototype,"sublayerTitleMode",void 0),ji([Cn({json:{read:!1}})],DG.prototype,"type",void 0),ji([Cn({type:String})],DG.prototype,"typeIdField",void 0),ji([il("service","typeIdField"),il("typeIdField",["layerDefinition.typeIdField"])],DG.prototype,"readTypeIdField",null),ji([Cn({type:[KU]})],DG.prototype,"types",void 0),ji([il("service","types",["types"]),il("types",["layerDefinition.types"])],DG.prototype,"readTypes",null),ji([Cn({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility"}}}}})],DG.prototype,"visible",void 0),ji([il("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],DG.prototype,"readVisible",null),DG=ji([zs(FG)],DG);const RG=DG;const NG=Object.freeze({__proto__:null,default:RG});const $G="unique-value",LG="class-breaks",_G="date",qG="pieSeries",VG="gaugeSeries",zG="lineSeries",WG="barSeries",UG="comboLineAndBarSeries",GG="layer",BG="same",HG="newer",JG="older",ZG="unrecognized";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function QG(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}var KG="object"==typeof global&&global&&global.Object===Object&&global,YG="object"==typeof self&&self&&self.Object===Object&&self,XG=KG||YG||Function("return this")(),eB=XG.Symbol,tB=Object.prototype,rB=tB.hasOwnProperty,iB=tB.toString,nB=eB?eB.toStringTag:void 0;var sB=Object.prototype.toString;var oB=eB?eB.toStringTag:void 0;function aB(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":oB&&oB in Object(e)?function(e){var t=rB.call(e,nB),r=e[nB];try{e[nB]=void 0;var i=!0}catch(e){}var n=iB.call(e);return i&&(t?e[nB]=r:delete e[nB]),n}(e):function(e){return sB.call(e)}(e)}function lB(e){return null!=e&&"object"==typeof e}function uB(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}var cB=Array.isArray,dB=eB?eB.prototype:void 0,hB=dB?dB.toString:void 0;function fB(e){if("string"==typeof e)return e;if(cB(e))return uB(e,fB)+"";if(function(e){return"symbol"==typeof e||lB(e)&&"[object Symbol]"==aB(e)}(e))return hB?hB.call(e):"";var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function pB(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function yB(e){return e}function mB(e){if(!pB(e))return!1;var t=aB(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var vB,gB=XG["__core-js_shared__"],bB=(vB=/[^.]+$/.exec(gB&&gB.keys&&gB.keys.IE_PROTO||""))?"Symbol(src)_1."+vB:"";var wB=Function.prototype.toString;function SB(e){if(null!=e){try{return wB.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var xB=/^\[object .+?Constructor\]$/,jB=Function.prototype,TB=Object.prototype,IB=jB.toString,MB=TB.hasOwnProperty,EB=RegExp("^"+IB.call(MB).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FB(e){return!(!pB(e)||(t=e,bB&&bB in t))&&(mB(e)?EB:xB).test(SB(e));var t}function kB(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return FB(r)?r:void 0}var AB=kB(XG,"WeakMap");function CB(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var OB=Date.now;var PB=function(){try{var e=kB(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),DB=PB,RB=DB?function(e,t){return DB(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:yB,NB=function(e){var t=0,r=0;return function(){var i=OB(),n=16-(i-r);if(r=i,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(RB),$B=NB;var LB=/^(?:0|[1-9]\d*)$/;function _B(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&LB.test(e))&&e>-1&&e%1==0&&e<t}function qB(e,t,r){"__proto__"==t&&DB?DB(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function VB(e,t){return e===t||e!=e&&t!=t}var zB=Object.prototype.hasOwnProperty;function WB(e,t,r){var i=e[t];zB.call(e,t)&&VB(i,r)&&(void 0!==r||t in e)||qB(e,t,r)}function UB(e,t,r,i){var n=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(r[a],e[a],a,r,e):void 0;void 0===l&&(l=e[a]),n?qB(r,a,l):WB(r,a,l)}return r}var GB=Math.max;function BB(e,t){return $B(function(e,t,r){return t=GB(void 0===t?e.length-1:t,0),function(){for(var i=arguments,n=-1,s=GB(i.length-t,0),o=Array(s);++n<s;)o[n]=i[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=i[n];return a[t]=r(o),CB(e,this,a)}}(e,t,yB),e+"")}function HB(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function JB(e){return null!=e&&HB(e.length)&&!mB(e)}function ZB(e,t,r){if(!pB(r))return!1;var i=typeof t;return!!("number"==i?JB(r)&&_B(t,r.length):"string"==i&&t in r)&&VB(r[t],e)}var QB=Object.prototype;function KB(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||QB)}function YB(e){return lB(e)&&"[object Arguments]"==aB(e)}var XB=Object.prototype,eH=XB.hasOwnProperty,tH=XB.propertyIsEnumerable,rH=YB(function(){return arguments}())?YB:function(e){return lB(e)&&eH.call(e,"callee")&&!tH.call(e,"callee")};var iH="object"==typeof exports&&exports&&!exports.nodeType&&exports,nH=iH&&"object"==typeof module&&module&&!module.nodeType&&module,sH=nH&&nH.exports===iH?XG.Buffer:void 0,oH=(sH?sH.isBuffer:void 0)||function(){return!1},aH={};function lH(e){return function(t){return e(t)}}aH["[object Float32Array]"]=aH["[object Float64Array]"]=aH["[object Int8Array]"]=aH["[object Int16Array]"]=aH["[object Int32Array]"]=aH["[object Uint8Array]"]=aH["[object Uint8ClampedArray]"]=aH["[object Uint16Array]"]=aH["[object Uint32Array]"]=!0,aH["[object Arguments]"]=aH["[object Array]"]=aH["[object ArrayBuffer]"]=aH["[object Boolean]"]=aH["[object DataView]"]=aH["[object Date]"]=aH["[object Error]"]=aH["[object Function]"]=aH["[object Map]"]=aH["[object Number]"]=aH["[object Object]"]=aH["[object RegExp]"]=aH["[object Set]"]=aH["[object String]"]=aH["[object WeakMap]"]=!1;var uH="object"==typeof exports&&exports&&!exports.nodeType&&exports,cH=uH&&"object"==typeof module&&module&&!module.nodeType&&module,dH=cH&&cH.exports===uH&&KG.process,hH=function(){try{var e=cH&&cH.require&&cH.require("util").types;return e||dH&&dH.binding&&dH.binding("util")}catch(e){}}(),fH=hH&&hH.isTypedArray,pH=fH?lH(fH):function(e){return lB(e)&&HB(e.length)&&!!aH[aB(e)]},yH=Object.prototype.hasOwnProperty;function mH(e,t){var r=cB(e),i=!r&&rH(e),n=!r&&!i&&oH(e),s=!r&&!i&&!n&&pH(e),o=r||i||n||s,a=o?function(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}(e.length,String):[],l=a.length;for(var u in e)!t&&!yH.call(e,u)||o&&("length"==u||n&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_B(u,l))||a.push(u);return a}function vH(e,t){return function(r){return e(t(r))}}var gH=vH(Object.keys,Object),bH=Object.prototype.hasOwnProperty;function wH(e){if(!KB(e))return gH(e);var t=[];for(var r in Object(e))bH.call(e,r)&&"constructor"!=r&&t.push(r);return t}function SH(e){return JB(e)?mH(e):wH(e)}var xH=Object.prototype.hasOwnProperty;function jH(e){if(!pB(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=KB(e),r=[];for(var i in e)("constructor"!=i||!t&&xH.call(e,i))&&r.push(i);return r}function TH(e){return JB(e)?mH(e,!0):jH(e)}var IH,MH=(IH=function(e,t,r,i){UB(t,TH(t),e,i)},BB((function(e,t){var r=-1,i=t.length,n=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(n=IH.length>3&&"function"==typeof n?(i--,n):void 0,s&&ZB(t[0],t[1],s)&&(n=i<3?void 0:n,i=1),e=Object(e);++r<i;){var o=t[r];o&&IH(e,o,r,n)}return e}))),EH=MH;kB(Object,"create");var FH=kB(XG,"Map");function kH(e){return null==e?"":fB(e)}var AH=vH(Object.getPrototypeOf,Object),CH=Function.prototype,OH=Object.prototype,PH=CH.toString,DH=OH.hasOwnProperty,RH=PH.call(Object);function NH(e){if(!lB(e))return!1;var t=aB(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!lB(e)||"[object Object]"!=aB(e))return!1;var t=AH(e);if(null===t)return!0;var r=DH.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&PH.call(r)==RH}(e)}var $H=BB((function(e,t){try{return CB(e,void 0,t)}catch(e){return NH(e)?e:new Error(e)}})),LH=$H;var _H="object"==typeof exports&&exports&&!exports.nodeType&&exports;_H&&"object"==typeof module&&module&&!module.nodeType&&module;var qH=kB(XG,"DataView"),VH=kB(XG,"Promise"),zH=kB(XG,"Set"),WH=SB(qH),UH=SB(FH),GH=SB(VH),BH=SB(zH),HH=SB(AB),JH=aB;(qH&&"[object DataView]"!=JH(new qH(new ArrayBuffer(1)))||FH&&"[object Map]"!=JH(new FH)||VH&&"[object Promise]"!=JH(VH.resolve())||zH&&"[object Set]"!=JH(new zH)||AB&&"[object WeakMap]"!=JH(new AB))&&(JH=function(e){var t=aB(e),r="[object Object]"==t?e.constructor:void 0,i=r?SB(r):"";if(i)switch(i){case WH:return"[object DataView]";case UH:return"[object Map]";case GH:return"[object Promise]";case BH:return"[object Set]";case HH:return"[object WeakMap]"}return t});var ZH,QH=(ZH={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==ZH?void 0:ZH[e]}),KH=/[&<>"']/g,YH=RegExp(KH.source);var XH=Object.prototype,eJ=XH.hasOwnProperty;function tJ(e,t,r,i){return void 0===e||VB(e,XH[r])&&!eJ.call(i,r)?t:e}var rJ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function iJ(e){return"\\"+rJ[e]}var nJ=/<%=([\s\S]+?)%>/g,sJ={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:nJ,variable:"",imports:{_:{escape:function(e){return(e=kH(e))&&YH.test(e)?e.replace(KH,QH):e}}}},oJ=/\b__p \+= '';/g,aJ=/\b(__p \+=) '' \+/g,lJ=/(__e\(.*?\)|\b__t\)) \+\n'';/g,uJ=/[()=,{}\[\]\/\s]/,cJ=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dJ=/($^)/,hJ=/['\n\r\u2028\u2029\\]/g,fJ=Object.prototype.hasOwnProperty;function pJ(e,t,r){var i=sJ.imports._.templateSettings||sJ;r&&ZB(e,t,r)&&(t=void 0),e=kH(e),t=EH({},t,i,tJ);var n,s,o=EH({},t.imports,i.imports,tJ),a=SH(o),l=function(e,t){return uB(t,(function(t){return e[t]}))}(o,a),u=0,c=t.interpolate||dJ,d="__p += '",h=RegExp((t.escape||dJ).source+"|"+c.source+"|"+(c===nJ?cJ:dJ).source+"|"+(t.evaluate||dJ).source+"|$","g"),f=fJ.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(t,r,i,o,a,l){return i||(i=o),d+=e.slice(u,l).replace(hJ,iJ),r&&(n=!0,d+="' +\n__e("+r+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),d+="';\n";var p=fJ.call(t,"variable")&&t.variable;if(p){if(uJ.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(oJ,""):d).replace(aJ,"$1").replace(lJ,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var y=LH((function(){return Function(a,f+"return "+d).apply(void 0,l)}));if(y.source=d,NH(y))throw y;return y}const yJ={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},mJ=[...Object.values(yJ),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","it-CH","it-IT"],vJ=[yJ.Arabic,yJ.Hebrew];function gJ(e,t){return pJ(e)(t)}function bJ(e,t){let r=yJ.English;const i=function(e){let t=e;if(void 0!==e&&-1!==e.indexOf("-")){const[r,i]=e.split("-");t=`${r}-${i.toUpperCase()}`}return t}(e);if(void 0!==i)if(!0===t.includes(i))r=i;else{const e=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{2})$/);let r=yJ.English;return null!=t&&(null==t?void 0:t.length)>1?r=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(r=e),r}(i);!0===t.includes(e)&&(r=e)}return r}function wJ(e=document.documentElement){var t;const r=(i="[lang]",function e(t){let r;return r=void 0===t||t===document||t===window?null:t.closest(i)||e(t.getRootNode().host),r}(e));var i;const n=null!==(t=null==r?void 0:r.lang)&&void 0!==t?t:window.navigator.language,s=Object.values(yJ),o=Object.values(mJ),a=bJ(n,s);let l=bJ(n,o);return l="ar"===l?"ar-u-nu-latn":l,{locale:a,rtl:vJ.includes(a),formatLocale:l}}function SJ(e,t){return QG(this,void 0,void 0,(function*(){const r=e.tagName.toLowerCase(),{locale:i,rtl:n}=wJ(e),s=yield function(e){return QG(this,void 0,void 0,(function*(){const{path:t,locale:r,baseURL:i}=e;let n={};try{const e=yield fetch(`${i}t9n/${t}.t9n.${r}.json`);n=yield e.json()}catch(e){const r=yield fetch(`${i}t9n/${t}.t9n.${yJ.English}.json`);n=yield r.json()}return n}))}({path:r,locale:i,baseURL:t});let o=e.getAttribute("dir");return"ltr"!==o&&"rtl"!==o&&(o=!0===n?"rtl":"ltr"),{strings:s,direction:o}}))}var xJ={exports:{}};function jJ(e,t,r,i){var n,s=null==(n=i)||"number"==typeof n||"boolean"==typeof n?i:r(i),o=t.get(s);return void 0===o&&(o=e.call(this,i),t.set(s,o)),o}function TJ(e,t,r){var i=Array.prototype.slice.call(arguments,3),n=r(i),s=t.get(n);return void 0===s&&(s=e.apply(this,i),t.set(n,s)),s}function IJ(e,t,r,i,n){return r.bind(t,e,i,n)}function MJ(e,t){return IJ(e,this,1===e.length?jJ:TJ,t.cache.create(),t.serializer)}function EJ(){return JSON.stringify(arguments)}function FJ(){this.cache=Object.create(null)}FJ.prototype.has=function(e){return e in this.cache},FJ.prototype.get=function(e){return this.cache[e]},FJ.prototype.set=function(e,t){this.cache[e]=t};var kJ={create:function(){return new FJ}};xJ.exports=function(e,t){var r=t&&t.cache?t.cache:kJ,i=t&&t.serializer?t.serializer:EJ;return(t&&t.strategy?t.strategy:MJ)(e,{cache:r,serializer:i})},xJ.exports.strategies={variadic:function(e,t){return IJ(e,this,TJ,t.cache.create(),t.serializer)},monadic:function(e,t){return IJ(e,this,jJ,t.cache.create(),t.serializer)}};var AJ=xJ.exports;const CJ={Simple:"simple",NoAggregation:"noAggregation",SplitByFieldValues:"splitByFieldValues",SplitByNumericalFields:"multipleNumericalFields",PieFromFields:"pieFromFields"};
/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var OJ=Function.prototype,PJ=OJ.toString;PJ.call(Object);var DJ={exports:{}},RJ={},NJ={exports:{}},$J={};function LJ(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}var _J=/javascript\s*\:/gim;$J.whiteList=LJ(),$J.getDefaultWhiteList=LJ,$J.onAttr=function(e,t,r){},$J.onIgnoreAttr=function(e,t,r){},$J.safeAttrValue=function(e,t){return _J.test(t)?"":t};var qJ={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};var VJ=function(e,t){";"!==(e=qJ.trimRight(e))[e.length-1]&&(e+=";");var r=e.length,i=!1,n=0,s=0,o="";function a(){if(!i){var r=qJ.trim(e.slice(n,s)),a=r.indexOf(":");if(-1!==a){var l=qJ.trim(r.slice(0,a)),u=qJ.trim(r.slice(a+1));if(l){var c=t(n,o.length,l,u,r);c&&(o+=c+"; ")}}}n=s+1}for(;s<r;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var u=e.indexOf("*/",s+2);if(-1===u)break;n=(s=u+1)+1,i=!1}else"("===l?i=!0:")"===l?i=!1:";"===l?i||a():"\n"===l&&a()}return qJ.trim(o)},zJ=$J,WJ=VJ;function UJ(e){return null==e}function GJ(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).whiteList=e.whiteList||zJ.whiteList,e.onAttr=e.onAttr||zJ.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||zJ.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||zJ.safeAttrValue,this.options=e}GJ.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onAttr,n=t.onIgnoreAttr,s=t.safeAttrValue;return WJ(e,(function(e,t,o,a,l){var u=r[o],c=!1;if(!0===u?c=u:"function"==typeof u?c=u(a):u instanceof RegExp&&(c=u.test(a)),!0!==c&&(c=!1),a=s(o,a)){var d,h={position:t,sourcePosition:e,source:l,isWhite:c};return c?UJ(d=i(o,a,h))?o+":"+a:d:UJ(d=n(o,a,h))?void 0:d}}))};var BJ=GJ;!function(e,t){var r=$J,i=BJ;for(var n in(t=e.exports=function(e,t){return new i(t).process(e)}).FilterCSS=i,r)t[n]=r[n]}(NJ,NJ.exports);var HJ={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},JJ=NJ.exports.FilterCSS,ZJ=NJ.exports.getDefaultWhiteList,QJ=HJ;function KJ(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var YJ=new JJ;function XJ(e){return e.replace(eZ,"&lt;").replace(tZ,"&gt;")}var eZ=/</g,tZ=/>/g,rZ=/"/g,iZ=/&quot;/g,nZ=/&#([a-zA-Z0-9]*);?/gim,sZ=/&colon;?/gim,oZ=/&newline;?/gim,aZ=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,lZ=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,uZ=/u\s*r\s*l\s*\(.*/gi;function cZ(e){return e.replace(rZ,"&quot;")}function dZ(e){return e.replace(iZ,'"')}function hZ(e){return e.replace(nZ,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function fZ(e){return e.replace(sZ,":").replace(oZ," ")}function pZ(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return QJ.trim(t)}function yZ(e){return e=pZ(e=fZ(e=hZ(e=dZ(e))))}function mZ(e){return e=XJ(e=cZ(e))}RJ.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},RJ.getDefaultWhiteList=KJ,RJ.onTag=function(e,t,r){},RJ.onIgnoreTag=function(e,t,r){},RJ.onTagAttr=function(e,t,r){},RJ.onIgnoreTagAttr=function(e,t,r){},RJ.safeAttrValue=function(e,t,r,i){if(r=yZ(r),"href"===t||"src"===t){if("#"===(r=QJ.trim(r)))return"#";if("http://"!==r.substr(0,7)&&"https://"!==r.substr(0,8)&&"mailto:"!==r.substr(0,7)&&"tel:"!==r.substr(0,4)&&"data:image/"!==r.substr(0,11)&&"ftp://"!==r.substr(0,6)&&"./"!==r.substr(0,2)&&"../"!==r.substr(0,3)&&"#"!==r[0]&&"/"!==r[0])return""}else if("background"===t){if(aZ.lastIndex=0,aZ.test(r))return""}else if("style"===t){if(lZ.lastIndex=0,lZ.test(r))return"";if(uZ.lastIndex=0,uZ.test(r)&&(aZ.lastIndex=0,aZ.test(r)))return"";!1!==i&&(r=(i=i||YJ).process(r))}return r=mZ(r)},RJ.escapeHtml=XJ,RJ.escapeQuote=cZ,RJ.unescapeQuote=dZ,RJ.escapeHtmlEntities=hZ,RJ.escapeDangerHtml5Entities=fZ,RJ.clearNonPrintableCharacter=pZ,RJ.friendlyAttrValue=yZ,RJ.escapeAttrValue=mZ,RJ.onIgnoreTagStripAll=function(){return""},RJ.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var r=!Array.isArray(e),i=[],n=!1;return{onIgnoreTag:function(s,o,a){if(function(t){return!!r||-1!==QJ.indexOf(e,t)}(s)){if(a.isClosing){var l="[/removed]",u=a.position+l.length;return i.push([!1!==n?n:a.position,u]),n=!1,l}return n||(n=a.position),"[removed]"}return t(s,o,a)},remove:function(e){var t="",r=0;return QJ.forEach(i,(function(i){t+=e.slice(r,i[0]),r=i[1]})),t+=e.slice(r)}}},RJ.stripCommentTag=function(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("\x3c!--",r);if(-1===i){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("--\x3e",i);if(-1===n)break;r=n+3}return t},RJ.stripBlankChar=function(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))}))).join("")},RJ.cssFilter=YJ,RJ.getDefaultCSSWhiteList=ZJ;var vZ={},gZ=HJ;function bZ(e){var t=gZ.spaceIndex(e);if(-1===t)var r=e.slice(1,-1);else r=e.slice(1,t+1);return"/"===(r=gZ.trim(r).toLowerCase()).slice(0,1)&&(r=r.slice(1)),"/"===r.slice(-1)&&(r=r.slice(0,-1)),r}function wZ(e){return"</"===e.slice(0,2)}var SZ=/[^a-zA-Z0-9_:\.\-]/gim;function xZ(e,t){for(;t<e.length;t++){var r=e[t];if(" "!==r)return"="===r?t:-1}}function jZ(e,t){for(;t>0;t--){var r=e[t];if(" "!==r)return"="===r?t:-1}}function TZ(e){return function(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}vZ.parseTag=function(e,t,r){var i="",n=0,s=!1,o=!1,a=0,l=e.length,u="",c="";e:for(a=0;a<l;a++){var d=e.charAt(a);if(!1===s){if("<"===d){s=a;continue}}else if(!1===o){if("<"===d){i+=r(e.slice(n,a)),s=a,n=a;continue}if(">"===d){i+=r(e.slice(n,s)),u=bZ(c=e.slice(s,a+1)),i+=t(s,i.length,u,c,wZ(c)),n=a+1,s=!1;continue}if('"'===d||"'"===d)for(var h=1,f=e.charAt(a-h);""===f.trim()||"="===f;){if("="===f){o=d;continue e}f=e.charAt(a-++h)}}else if(d===o){o=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i},vZ.parseAttr=function(e,t){var r=0,i=[],n=!1,s=e.length;function o(e,r){if(!((e=(e=gZ.trim(e)).replace(SZ,"").toLowerCase()).length<1)){var n=t(e,r||"");n&&i.push(n)}}for(var a=0;a<s;a++){var l,u=e.charAt(a);if(!1!==n||"="!==u)if(!1===n||a!==r||'"'!==u&&"'"!==u||"="!==e.charAt(a-1))if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===n){if(-1===(l=xZ(e,a))){o(gZ.trim(e.slice(r,a))),n=!1,r=a+1;continue}a=l-1;continue}if(-1===(l=jZ(e,a-1))){o(n,TZ(gZ.trim(e.slice(r,a)))),n=!1,r=a+1;continue}}else;else{if(-1===(l=e.indexOf(u,a+1)))break;o(n,gZ.trim(e.slice(r+1,l))),n=!1,r=(a=l)+1}else n=e.slice(r,a),r=a+1}return r<e.length&&(!1===n?o(e.slice(r)):o(n,TZ(gZ.trim(e.slice(r))))),gZ.trim(i.join(" "))};var IZ=NJ.exports.FilterCSS,MZ=RJ,EZ=vZ,FZ=EZ.parseTag,kZ=EZ.parseAttr,AZ=HJ;function CZ(e){return null==e}function OZ(e){(e=function(e){var t={};for(var r in e)t[r]=e[r];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=MZ.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||MZ.whiteList,e.onTag=e.onTag||MZ.onTag,e.onTagAttr=e.onTagAttr||MZ.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||MZ.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||MZ.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||MZ.safeAttrValue,e.escapeHtml=e.escapeHtml||MZ.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new IZ(e.css))}OZ.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,r=t.whiteList,i=t.onTag,n=t.onIgnoreTag,s=t.onTagAttr,o=t.onIgnoreTagAttr,a=t.safeAttrValue,l=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=MZ.stripBlankChar(e)),t.allowCommentTag||(e=MZ.stripCommentTag(e));var c=!1;if(t.stripIgnoreTagBody){c=MZ.StripTagBody(t.stripIgnoreTagBody,n);n=c.onIgnoreTag}var d=FZ(e,(function(e,t,c,d,h){var f,p={sourcePosition:e,position:t,isClosing:h,isWhite:r.hasOwnProperty(c)};if(!CZ(f=i(c,d,p)))return f;if(p.isWhite){if(p.isClosing)return"</"+c+">";var y=function(e){var t=AZ.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var r="/"===(e=AZ.trim(e.slice(t+1,-1)))[e.length-1];return r&&(e=AZ.trim(e.slice(0,-1))),{html:e,closing:r}}(d),m=r[c],v=kZ(y.html,(function(e,t){var r,i=-1!==AZ.indexOf(m,e);return CZ(r=s(c,e,t,i))?i?(t=a(c,e,t,u))?e+'="'+t+'"':e:CZ(r=o(c,e,t,i))?void 0:r:r}));d="<"+c;return v&&(d+=" "+v),y.closing&&(d+=" /"),d+=">"}return CZ(f=n(c,d,p))?l(d):f}),l);return c&&(d=c.remove(d)),d};var PZ=OZ;!function(e,t){var r=RJ,i=vZ,n=PZ;function s(e,t){return new n(t).process(e)}for(var o in(t=e.exports=s).filterXSS=s,t.FilterXSS=n,r)t[o]=r[o];for(var o in i)t[o]=i[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports)}(DJ,DJ.exports);function DZ(e){let t;if(0!==e.length){const r=e[0].type;!0===e.every((e=>e.type===r))&&(t=!1),!1===e.some((e=>e.type!==zG&&e.type!==WG))&&void 0===t&&(t=!0)}return t}function RZ(e,t){let r;if(void 0!==e&&e.length>0)if(void 0!==t&&t<e.length)r=e[t].type;else{const t=DZ(e);!1===t?r=e[0].type:!0===t&&(r=UG)}return r}function NZ(e){let t=e,r="";"'"===e.charAt(0)&&"'"===e.charAt(e.length-1)&&(t=e.slice(1,-1),r="'"),t=t.replace(/'/g,"''");let i="";return!0===function(e){let t=!1;"number"!=typeof e&&(t=[...e].some((e=>e.charCodeAt(0)>255)));return t}(t)&&(i="N"),`${i}${r}${t}${r}`}function $Z(e){const{value:t,keepSurroundingQuotes:r,escape:i}=e;let n=t.trim(),s="";return"'"===n.charAt(0)&&"'"===n.charAt(n.length-1)&&(n=n.slice(1,-1),!0===r&&(s="'")),!1!==i&&(n=function(e){let t=e;return t=t.replace(/'/g,"''"),t=t.replace(/[/\\"|[\]\\]/g,"\\$&"),t}(n)),n=`${s}${n}${s}`,n}function LZ(e,t){let r;return void 0!==t&&(r=Object.assign(Object.assign({},t),{rotated:e}),r.series=r.series.map((t=>{const r=Object.assign({},t);return r.rotated=e,r}))),r}function _Z(e){let t,r,i;return void 0!==e&&(t=e.type,t!==$G&&t!==LG||(r=e.field,t===LG&&(i=e.normalizationField))),{rendererType:t,rendererField:r,rendererNormalizationField:i}}const qZ=AJ((e=>{var t;const r=e.featureCollection;let i,n;if(void 0!==r&&void 0!==(null===(t=r.layers)||void 0===t?void 0:t[0])){const e=r.layers[0];i=e.featureSet,n=e.layerDefinition}else n=e.layerDefinition;const s={};if(void 0!==i){if(s.source=wI.fromJSON(i).features,void 0!==(null==n?void 0:n.fields)&&(s.fields=n.fields.map((e=>mI.fromJSON(e)))),void 0!==(null==n?void 0:n.objectIdField)&&(s.objectIdField=n.objectIdField),void 0!==(null==n?void 0:n.geometryType)){const e=Hp({geometryType:n.geometryType});void 0!==(null==e?void 0:e.type)&&"extent"!==(null==e?void 0:e.type)&&(s.geometryType=e.type)}void 0!==(null==n?void 0:n.spatialReference)&&(s.spatialReference=n.spatialReference)}else s.id=e.id,void 0!==(null==n?void 0:n.id)&&(s.layerId=n.id),void 0!==e.url&&(s.url=e.url),void 0!==e.itemId&&void 0!==(null==n?void 0:n.id)&&(s.portalItem={id:e.itemId});if(void 0!==n){const e=n.drawingInfo;void 0!==(null==e?void 0:e.renderer)&&(s.renderer=NA(e.renderer))}return new RG(s)}));function VZ(e){var t;return QG(this,void 0,void 0,(function*(){const{layer:r,view:i,chartConfig:n}=e;let s;if(void 0!==r)if(void 0!==i&&!1===r.isTable){r.outFields=["*"];s=yield i.whenLayerView(r)}else s=r;else(null===(t=null==n?void 0:n.dataSource)||void 0===t?void 0:t.type)===GG&&void 0!==n.dataSource.layer&&(s=qZ(n.dataSource.layer));return s}))}function zZ(e,t){let r="";return void 0!==e&&!0===e.includes("=")&&(r=!1!==t?$Z({value:e.split("=")[0]}):e.split("=")[0].trim()),r}function WZ(e){const{where:t,normalize:r,keepSurroundingQuotes:i,escape:n}=e;let s="";return void 0!==t&&!0===t.includes("=")&&(s=t.split("=")[1].trim(),s=!1===r?NZ(s):$Z({value:s,keepSurroundingQuotes:i,escape:n})),s}function UZ(e){let t=!1;if(void 0===e||""===e)t=!0;else if(!0===e.includes("=")){t=zZ(e,!1)===WZ({where:e,normalize:!1})}return t}function GZ(e){const t=RZ(e);let r=CJ.Simple;return void 0!==(null==e?void 0:e[0])&&(t===qG?r=function(e){var t,r;let i=CJ.Simple;return void 0===(null===(t=e[0].query)||void 0===t?void 0:t.outStatistics)?i=CJ.NoAggregation:void 0===(null===(r=e[0].query)||void 0===r?void 0:r.groupByFieldsForStatistics)&&(i=CJ.PieFromFields),i}(e):t!==WG&&t!==zG&&t!==UG||(r=function(e){var t,r;let i=CJ.Simple;return!1===UZ(null===(t=e[0].query)||void 0===t?void 0:t.where)?i=CJ.SplitByFieldValues:void 0===(null===(r=e[0].query)||void 0===r?void 0:r.outStatistics)?i=CJ.NoAggregation:e.length>1&&(i=CJ.SplitByNumericalFields),i}(e))),r}function BZ(e){const{seriesConfig:t,xAxisValueFormatType:r,setTimeBinningInfoWhenNotProvided:i}=e;let n=!1;if(RZ([t])===zG&&r===_G){if(GZ([t])!==CJ.NoAggregation){const{timeIntervalUnits:e,timeIntervalSize:r}=t;n=!0===i||void 0!==r&&r>0&&void 0!==e}}return n}const HZ={Default:"defaultError",LayerLoadFailure:"layerLoadFailure",QueryFeaturesError:"queryFeaturesError",ChartDisposed:"ChartDisposeError"};function JZ(e=wJ().locale){return QG(this,void 0,void 0,(function*(){let t=yield import("./p-02de2e55.js");switch(e){case yJ.Arabic:t=yield import("./p-795a2dc9.js");break;case yJ.Bosnian:t=yield import("./p-48e98dcf.js");break;case yJ.Bulgarian:t=yield import("./p-2e206dc8.js");break;case yJ.Catalan:t=yield import("./p-6b7cb587.js");break;case yJ.Czech:t=yield import("./p-ef80808b.js");break;case yJ.Danish:t=yield import("./p-f36fe06e.js");break;case yJ.German:t=yield import("./p-c5f9dab4.js");break;case yJ.Greek:t=yield import("./p-4667ef0f.js");break;case yJ.EnglishUSA:t=yield import("./p-5714fa2f.js");break;case yJ.Spanish:t=yield import("./p-e64291e3.js");break;case yJ.Estonian:t=yield import("./p-67327317.js");break;case yJ.Finnish:t=yield import("./p-d4eb49d4.js");break;case yJ.French:t=yield import("./p-3981c001.js");break;case yJ.Hebrew:t=yield import("./p-94b68a9b.js");break;case yJ.Croatian:t=yield import("./p-68473a2f.js");break;case yJ.Hungarian:t=yield import("./p-5ba035a8.js");break;case yJ.Indonesian:t=yield import("./p-c5038f69.js");break;case yJ.Italian:t=yield import("./p-926b97cd.js");break;case yJ.Japanese:t=yield import("./p-5b79f201.js");break;case yJ.Korean:t=yield import("./p-42573cd2.js");break;case yJ.Lithuanian:t=yield import("./p-3a831ada.js");break;case yJ.Latvian:t=yield import("./p-109418ec.js");break;case yJ.NorwegianBokml:t=yield import("./p-3111530e.js");break;case yJ.Dutch:t=yield import("./p-d73e67d2.js");break;case yJ.Polish:t=yield import("./p-7c7e9c4b.js");break;case yJ.PortugueseBrazil:t=yield import("./p-0f713d71.js");break;case yJ.PortuguesePortugal:t=yield import("./p-bae21662.js");break;case yJ.Romanian:t=yield import("./p-a237c9a1.js");break;case yJ.Russian:t=yield import("./p-6b784bbb.js");break;case yJ.Serbian:t=yield import("./p-b51d4413.js");break;case yJ.Slovak:t=yield import("./p-b074e0d8.js");break;case yJ.Slovenian:t=yield import("./p-098f67ad.js");break;case yJ.Swedish:t=yield import("./p-2ba4a9b8.js");break;case yJ.Thai:t=yield import("./p-9e4a69f5.js");break;case yJ.Turkish:t=yield import("./p-83098ec4.js");break;case yJ.Ukrainian:t=yield import("./p-bb14ccaa.js");break;case yJ.Vietnamese:t=yield import("./p-e0421b3f.js");break;case yJ.ChineseChina:t=yield import("./p-e8627b7d.js");break;case yJ.ChineseHongKong:t=yield import("./p-3be10ac9.js");break;case yJ.ChineseTaiwan:t=yield import("./p-b02825ec.js")}return t}))}const ZZ={Required:"required",MinLength:"minLength",MinItems:"minItems",MaxItems:"maxItems",Pattern:"pattern",AdditionalProperties:"additionalProperties",Enum:"enum",AnyOf:"anyOf"};const QZ=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1"],KZ={$schema:"http://json-schema.org/draft-07/schema#",definitions:{RESTFieldType:{enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"RESTFieldType"},RESTStatisticType:{enum:["avg","centroid-aggregate","convex-hull-aggregate","count","envelope-aggregate","max","min","no_aggregation","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"RESTStatisticType"},RESTSimpleLineSymbolStyle:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"RESTSimpleLineSymbolStyle"},RESTSimpleMarkerSymbolStyle:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"RESTSimpleMarkerSymbolStyle"},RESTSimpleFillSymbolStyle:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"RESTSimpleFillSymbolStyle"},RESTHorizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"RESTHorizontalAlignment"},RESTVerticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"RESTVerticalAlignment"},RESTSymbolType:{enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string",title:"RESTSymbolType"},RESTFontStyle:{enum:["italic","normal","oblique"],type:"string",title:"RESTFontStyle"},RESTFontWeight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"RESTFontWeight"},RESTFontDecoration:{enum:["line-through","none","underline"],type:"string",title:"RESTFontDecoration"},RESTRendererType:{enum:["class-breaks","dictionary","dot-density","heatmap","pie-chart","simple","unique-value"],type:"string",title:"RESTRendererType"},RESTUnits:{enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"RESTUnits"},WebChartTypes:{enum:["barSeries","boxPlotSeries","buffer","category","chart","chartAxis","chartGuide","chartLegend","chartOverlay","chartOverlays","chartText","comboLineAndBarSeries","cursorCrosshair","date","gaugeAxisTick","gaugeNeedle","gaugeSeries","histogramSeries","lineSeries","number","pieSeries","pieTick","probabilityPlotSeries","profileGraphSeries","scatterSeries","sizeScale"],type:"string",title:"WebChartTypes"},WebChartDataTransformations:{title:"WebChartDataTransformations",enum:["logarithmic","none","squareRoot"],type:"string"},WebChartColoringPatterns:{title:"WebChartColoringPatterns",enum:["colorMatch","singleColor"],type:"string"},WebChartLegendPositions:{title:"WebChartLegendPositions",enum:["bottom","left","right","top"],type:"string"},WebChartStackedKinds:{enum:["sideBySide","stacked","stacked100"],type:"string",title:"WebChartStackedKinds"},WebChartProbabilityPlotKinds:{title:"WebChartProbabilityPlotKinds",enum:["normalQQPlot","qqPlot"],type:"string"},WebChartSortOrderKinds:{enum:["ASC","DESC"],type:"string",title:"WebChartSortOrderKinds"},WebChartDataSourceTypes:{enum:["inline","layer"],type:"string",title:"WebChartDataSourceTypes"},WebChartLineSmoothedKinds:{enum:["bezier","monotoneX","monotoneY"],type:"string",title:"WebChartLineSmoothedKinds"},WebChartTimeIntervalUnits:{enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"WebChartTimeIntervalUnits"},WebChartNullPolicyTypes:{enum:["interpolate","null","zero"],type:"string",title:"WebChartNullPolicyTypes"},WebChartTimeAggregationTypes:{enum:["equalIntervalsFromEndTime","equalIntervalsFromStartTime"],type:"string",title:"WebChartTimeAggregationTypes"},WebChartLabelBehavior:{enum:["none","rotate","stagger","wrap"],type:"string",title:"WebChartLabelBehavior"},WebChartVersionStatus:{enum:["newer","older","same","unrecognized"],type:"string",title:"WebChartVersionStatus"},WebChartAxisTypes:{enum:["category","date","value"],type:"string",title:"WebChartAxisTypes"},GaugeChartSubTypes:{enum:["featureGauge","statisticGauge"],type:"string",title:"GaugeChartSubTypes"},SizePolicyScaleTypes:{enum:["linear","logarithmic"],type:"string",title:"SizePolicyScaleTypes"},LabelValueTypes:{enum:["modifiedValue","originalValue"],type:"string",title:"LabelValueTypes"},RGBObject:{description:"JSON representation of the color object",title:"RGBObject",type:"object",properties:{r:{type:"number",title:"r"},g:{type:"number",title:"g"},b:{type:"number",title:"b"},a:{default:1,type:"number",title:"a"}},required:["b","g","r"]},RGBArray:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3,title:"RGBArray"},WebChartConfigFields:{description:"Is an object which dictate which data-item field should be used for defining a property of the rendered element (line, point, bars, etc). Used in inline data source mode only.",title:"WebChartConfigFields",type:"object",properties:{fillColor:{type:"string",title:"fillColor"},fillOpacity:{type:"string",title:"fillOpacity"},fillStyle:{type:"string",title:"fillStyle"},lineColor:{type:"string",title:"lineColor"},lineOpacity:{type:"string",title:"lineOpacity"},lineWidth:{type:"string",title:"lineWidth"},lineStyle:{type:"string",title:"lineStyle"},markerSize:{type:"string",title:"markerSize"},outlineColor:{type:"string",title:"outlineColor"},outlineOpacity:{type:"string",title:"outlineOpacity"},outlineWidth:{type:"string",title:"outlineWidth"},outlineStyle:{type:"string",title:"outlineStyle"},displayLabel:{type:"string",title:"displayLabel"}}},WebChartDataItemColor:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"string"}],title:"WebChartDataItemColor"},WebChartDataItemValue:{title:"WebChartDataItemValue",anyOf:[{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"string",format:"date-time"},{$ref:"#/definitions/IExtent"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:["null","string","number","boolean"]}]},WebChartDataItem:{description:"JSON representation of a typical data item",title:"WebChartDataItem",type:"object",additionalProperties:{$ref:"#/definitions/WebChartDataItemValue"}},WebChartScatterPlotDataItem:{description:"JSON representation of the processed data for a Scatter plot",title:"WebChartScatterPlotDataItem",type:"object",properties:{r2:{type:"number",title:"r2"},trendLinePoints:{type:"array",items:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}],minItems:2,maxItems:2,title:"trendLinePoints"},dataItems:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"dataItems"}},required:["dataItems"]},TimeIntervalInfo:{title:"TimeIntervalInfo",type:"object",properties:{timeIntervalUnits:{enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"timeIntervalUnits"},timeIntervalSize:{type:"number",title:"timeIntervalSize"}}},WebChartGenericDataItem:{description:"JSON representation of the generic data structure for bar, line bar-line, gauge and pie chart",title:"WebChartGenericDataItem",type:"object",properties:{dataItems:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"dataItems"},timeIntervalInfo:{description:"Time interval information, only for line charts",$ref:"#/definitions/TimeIntervalInfo",title:"timeIntervalInfo"}},required:["dataItems"]},WebChartBin:{description:"JSON representation of a Histogram bin",title:"WebChartBin",type:"object",properties:{count:{type:"number",title:"count"},minValue:{description:"Min value in the bin",type:"number",title:"minValue"},maxValue:{description:"Max value in the bin",type:"number",title:"maxValue"},symbol:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"symbol"}},required:["count","maxValue","minValue"]},WebChartHistogramDataItem:{description:"JSON representation of the processed data for a Histogram",title:"WebChartHistogramDataItem",type:"object",properties:{mean:{type:"number",title:"mean"},median:{type:"number",title:"median"},stddev:{type:"number",title:"stddev"},max:{type:"number",title:"max"},min:{type:"number",title:"min"},sum:{description:"Sum of the values of all the points",type:"number",title:"sum"},count:{description:"Number of all the points/features in un-binned data (including only non-null entries)",type:"number",title:"count"},nulls:{description:"Number of null entries in the pool of points",type:"number",title:"nulls"},bins:{type:"array",items:{$ref:"#/definitions/WebChartBin"},title:"bins"}},required:["bins","max","mean","median","min","stddev"]},WebChartDataTypes:{title:"WebChartDataTypes",anyOf:[{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartGenericDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"}]},WebChartInlineDataSource:{description:"JSON representation of the inline data source",title:"WebChartInlineDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **inline** for inline data (arrays of POJOs).",type:"string",enum:["inline"],title:"type"},processed:{description:"Indicates whether the data is already processed and be used right away. If it is `false`, then the data needs to go through some transformation before being assigned to chart/series.",type:"boolean",title:"processed"},configFields:{description:"An object that is used to pass custom configuration like selecting the fill color based on a dataSource field.",$ref:"#/definitions/WebChartConfigFields",title:"configFields"},data:{$ref:"#/definitions/WebChartDataTypes",description:"Structure containing all the data for the chart.",title:"data"}},required:["data","processed","type"]},WebChartLayerDataSource:{description:"JSON representation of the feature layer data source",title:"WebChartLayerDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source.",type:"string",enum:["layer"],title:"type"},layer:{$ref:"#/definitions/IFeatureLayer",description:"Carries the properties necessary to build a JSAPI Feature Layer in order to fetch the chart data.",title:"layer"}},required:["layer","type"]},WebChartDataSources:{title:"WebChartDataSources",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartLayerDataSource"}]},ValueConversion:{description:"Stores information regarding a numeric conversion",title:"ValueConversion",type:"object",properties:{factor:{description:"A numeric value multiplying the value to convert",type:"number",title:"factor"},offset:{description:"A numeric offset to apply to the value to convert",type:"number",title:"offset"}}},WebChartText:{description:"Stores info on how some text is rendered on the chart and whether it is visible or not.",title:"WebChartText",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartText object. For ChartText object, it is "chartText".',type:"string",enum:["chartText"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},content:{$ref:"#/definitions/ITextSymbol",description:"Contains the styling info and text content. Details on **esriTS** are [here](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm).",title:"content"}},required:["content","type"]},WebChartCursorCrosshair:{description:"JSON representation of the cursor's crosshair for a chart.",title:"WebChartCursorCrosshair",type:"object",properties:{type:{description:"Represents a unique string identifier for the chart cursor's crosshair.",type:"string",enum:["cursorCrosshair"],title:"type"},style:{description:"Contains styling info on how the chart cursor's crosshair should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"style"},verticalLineVisible:{description:"Indicates whether the vertical crosshair line should be displayed",default:!1,type:"boolean",title:"verticalLineVisible"},horizontalLineVisible:{description:"Indicates whether the horizontal crosshair line should be displayed",default:!1,type:"boolean",title:"horizontalLineVisible"}},required:["type"]},WebChartLegend:{description:"JSON representation of the Chart's legend box",title:"WebChartLegend",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is "chartLegend".',type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"},roundMarkers:{description:"If set to true, the legend markers are displayed as circles. Otherwise they are rounded rectangles.",default:!1,type:"boolean",title:"roundMarkers"}},required:["body","position","type"]},WebChartPieChartLegend:{description:"Specific legend for the Pie chart",title:"WebChartPieChartLegend",type:"object",properties:{displayNumericValue:{description:"Indicates whether the numeric value associated to a slice is to be displayed in the legend.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`",default:!1,type:"boolean",title:"displayNumericValue"},displayPercentage:{description:"Indicates whether the percentage to a slice is to be displayed in the legend.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`",default:!1,type:"boolean",title:"displayPercentage"},labelMaxWidth:{description:"Maximum width in pixels of the label displaying the slice name. If the label is larger than the maximum width, it will automatically wrap.",default:200,type:"number",title:"labelMaxWidth"},valueLabelMaxWidth:{description:"Maximum width in pixels of the label displaying the slice name. If the label is larger than the maximum width, it will automatically wrap.",default:200,type:"number",title:"valueLabelMaxWidth"},type:{description:'Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is "chartLegend".',type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"},roundMarkers:{description:"If set to true, the legend markers are displayed as circles. Otherwise they are rounded rectangles.",default:!1,type:"boolean",title:"roundMarkers"}},required:["body","position","type"]},WebChartOverlay:{description:"JSON representation of the chart's overlays like trendline scatter plot, and median in histogram",title:"WebChartOverlay",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartOverlay object. For ChartOverlay object, it is "chartOverlay".',type:"string",enum:["chartOverlay"],title:"type"},created:{description:"Determines whether the overlay is created under the hood. It may or may not be visible.",default:!1,type:"boolean",title:"created"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},symbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the overlay should be rendered",title:"symbol"}},required:["symbol","type"]},NumberFormatOptions:{description:"Defines how the numerical(value) axis data should be formatted.",title:"NumberFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is "number". It can help us to differentiate numerical (value) axis from other types of axes viz., date-time axis and category axis.',type:"string",enum:["number"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.NumberFormatOptions",description:"Represents the JS native [Intl.NumberFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat), which is based on [CLDR](http://cldr.unicode.org/translation/numbers-currency/number-patterns) specifications.",title:"intlOptions"}},required:["intlOptions","type"]},CategoryFormatOptions:{description:"Defines how the category axis data (Categories) should be formatted.",title:"CategoryFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the CategoryFormatOptions object. For CategoryFormatOptions object, it is "category". It can help us to differentiate category axis from other types of axes, viz., date-time axis and numeric (value) axis.',type:"string",enum:["category"],title:"type"},characterLimit:{description:"Represents a positive integer which represents the limit on the number of characters to be displayed for all the category strings. The truncated string are appended with `...`. If property is not present or `null`, no truncation is done.",minimum:1,multipleOf:1,type:["null","number"],title:"characterLimit"}},required:["type"]},WebChartGuide:{description:"JSON representation of the chart's guide object. Can be used to represent both line and fill guides.",title:"WebChartGuide",type:"object",properties:{type:{description:'Represents a unique string identifier for the Guide object. For Guide class, it is "chartGuide".',type:"string",enum:["chartGuide"],title:"type"},start:{description:"Determines the value where the guide should begin.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"start"},end:{description:"Determines the value where the guide should end. If it is not specified, we get a line guide, otherwise we get a fill/rectangular guide.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"end"},style:{description:"Determines how the guide should be rendered. Line guide requires [esriSLS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format, and fill guide requires [esriSFS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format.",anyOf:[{$ref:"#/definitions/ISimpleLineSymbol"},{$ref:"#/definitions/ISimpleFillSymbol"}],title:"style"},name:{description:"A unique string identifier which is used to refer to a particular guide. It is displayed in the Chart Authoring UI to differentiate between different guides.",type:"string",title:"name"},label:{description:"Defines a text label for the given guide. It is displayed on the chart next to the concerned guide and is styled using **esriTS** format.",$ref:"#/definitions/ITextSymbol",title:"label"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},above:{description:"Determines whether the guide should be rendered on top of (overlapping) the series or under the series.",default:!1,type:"boolean",title:"above"}},required:["name","start","style","type"]},WebChartAxis:{description:"JSON representation of the chart's axis object",title:"WebChartAxis",type:"object",properties:{type:{description:'Represents a unique string identifier for the WebChartAxis object. For ChartAxis object, it is "chartAxis".',type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"},scrollbarVisible:{description:"Represents an option to add scrollbar to the axis of the chart",default:!1,type:"boolean",title:"scrollbarVisible"},displayZeroLine:{description:"Represents an option to hide/un-hide the zero line on value axis",default:!1,type:"boolean",title:"displayZeroLine"},integerOnlyValues:{description:"Represents an option to show `integer-only` values for a value axis",default:!1,type:"boolean",title:"integerOnlyValues"},displayCursorTooltip:{description:"Specifies whether cursor tooltip should be displayed.",default:!1,type:"boolean",title:"displayCursorTooltip"},buffer:{description:"Allows setting a buffer to a **value axis** to provide some space around the series.",default:!1,type:"boolean",title:"buffer"}},required:["labels","lineSymbol","title","type","valueFormat"]},WebChartGaugeAxisTick:{description:"JSON representation of the gauge axis ticks.",title:"WebChartGaugeAxisTick",type:"object",properties:{type:{description:'Represents a unique string identifier for the GaugeAxisTick object. For WebChartGaugeAxisTick object, it is "gaugeAxisTick".',type:"string",enum:["gaugeAxisTick"],title:"type"},visible:{description:"Determines the visibility of the axis ticks.",default:!0,type:"boolean",title:"visible"}},required:["type"]},WebChartNeedle:{title:"WebChartNeedle",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartNeedle object. For WebChartNeedle object, it is "gaugeNeedle".',type:"string",enum:["gaugeNeedle"],title:"type"},visible:{description:"Hides or shows the needle.",default:!0,type:"boolean",title:"visible"},symbol:{description:"Contains styling info on how the needle should be rendered",$ref:"#/definitions/ISimpleFillSymbol",title:"symbol"},startWidth:{description:"Represents the needle's thickness at the bottom (chart's center), in px",minimum:1,default:10,type:["null","number"],title:"startWidth"},endWidth:{description:"Represents the needle's thickness at the top, in px",minimum:1,default:1,type:["null","number"],title:"endWidth"},innerRadius:{description:"Represents the size of the hole in the middle of the chart. Can be visualized when guides are displayed.",minimum:0,maximum:100,default:25,type:["null","number"],title:"innerRadius"},displayPin:{description:"Hides or shows the needle's pin (centroid circle)",default:!1,type:"boolean",title:"displayPin"}},required:["type"]},WebChartGaugeAxis:{description:"JSON representation of the gauge chart's axis object. Inherits from the WebChartAxis properties.",title:"WebChartGaugeAxis",type:"object",properties:{innerLabel:{description:"Specifies how the axis' inner label needs to be displayed",$ref:"#/definitions/WebChartText",title:"innerLabel"},needle:{description:"Specifies how the axis' needle needs to be displayed",$ref:"#/definitions/WebChartNeedle",title:"needle"},ticks:{description:"Specifies how the axis' ticks need to be displayed",$ref:"#/definitions/WebChartGaugeAxisTick",title:"ticks"},labelsIncrement:{description:"If a label has a value being a multiple of that property, it will be displayed. Otherwise it will be hidden.\n\nIf the property is `undefined` or 0, the chart will be displayed with 6 axis labels distributed evenly along\nthe axis min and max.\n\nIf the property has a value that results in more than a set limit of axis labels (25 as defined in `ChartDefaults.gauge.maximumNumberOfLabelIntervals`)\nthis property value will be ignored and the chart will be displayed with only axis min/max with 4 ticks in between.",default:"undefined",type:"number",title:"labelsIncrement"},onlyShowFirstAndLastLabels:{description:"Specifies if only the first and last labels need to be displayed. If set to `true` all the other labels\nwill be hidden.\nTheir visibility still depends on the axis labels visibility (WebChartAxis.labels.visible).",default:!1,type:"boolean",title:"onlyShowFirstAndLastLabels"},minimumValueConversion:{description:"Defines how to convert the axis minimum",$ref:"#/definitions/ValueConversion",title:"minimumValueConversion"},maximumValueConversion:{description:"Defines how to convert the axis maximum",$ref:"#/definitions/ValueConversion",title:"maximumValueConversion"},minimumFromField:{description:"Specifies the field name of which numeric value is to be mapped to the axis minimum value.\nWhen the field name is not provided or the field does not contain a numeric value, the `minimum` value\nfrom the axis config, if provided, or the default value of 0, in that order, will be used.\n\nThis property is only applicable to FeatureGauge.",type:"string",title:"minimumFromField"},maximumFromField:{description:"Specifies the field name of which value is to be mapped to the axis maximum value.\nWhen the field name is not provided or the field does not contain a numeric value, the `maximum` value\nfrom the axis config, if provided, or the default value of 100, in that order, will be used.\n\nThis property is only applicable to FeatureGauge.",type:"string",title:"maximumFromField"},type:{description:'Represents a unique string identifier for the WebChartAxis object. For ChartAxis object, it is "chartAxis".',type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"},scrollbarVisible:{description:"Represents an option to add scrollbar to the axis of the chart",default:!1,type:"boolean",title:"scrollbarVisible"},displayZeroLine:{description:"Represents an option to hide/un-hide the zero line on value axis",default:!1,type:"boolean",title:"displayZeroLine"},integerOnlyValues:{description:"Represents an option to show `integer-only` values for a value axis",default:!1,type:"boolean",title:"integerOnlyValues"},displayCursorTooltip:{description:"Specifies whether cursor tooltip should be displayed.",default:!1,type:"boolean",title:"displayCursorTooltip"},buffer:{description:"Allows setting a buffer to a **value axis** to provide some space around the series.",default:!1,type:"boolean",title:"buffer"}},required:["labels","lineSymbol","title","type","valueFormat"]},IStatisticDefinitionExtended:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"],title:"IStatisticDefinitionExtended"},WebChartQuery:{description:"Chart query object inspired by [JSAPI Query](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html) class.",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statistics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"]},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},gdbVersion:{description:"Specifies the geodatabase version to display for feature service queries.",type:"string",title:"gdbVersion"},geometry:{description:"The geometry to apply to the spatial filter. A buffer can be applied to it by setting the properties `distance` and `units`.",anyOf:[{$ref:"#/definitions/IPoint"},{$ref:"#/definitions/IPolyline"},{$ref:"#/definitions/IPolygon"},{$ref:"#/definitions/IPolygonWithCurves"},{$ref:"#/definitions/IEnvelope"},{$ref:"#/definitions/IExtent"}],title:"geometry"},distance:{description:"Specifies a search distance for the `geometry`. To be associated with the `units` property. For compatible layers only.",type:"number",title:"distance"},units:{description:"The unit for calculating the buffer distance when `distance` and `geometry` are provided.\nIf not specified, the unit is derived from the geometry spatial reference.",enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"units"},timeExtent:{description:"A time extent ([timestamp, timestamp]) for a temporal query against time-aware layers.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"timeExtent"},start:{description:"The zero-based index indicating where to begin retrieving features.",type:"number",title:"start"},num:{description:"The number of features to retrieve.",type:"number",title:"num"},returnDistinctValues:{description:"If true then the query returns distinct values based on the field(s) specified in outFields. Available for count-based aggregations only.",default:!1,type:"boolean",title:"returnDistinctValues"},fetchNullValues:{description:"Indicates whether to fetch null values for them to be counted or displayed as categories on the chart.",default:!1,type:"boolean",title:"fetchNullValues"}},title:"WebChartQuery"},WebChartSeriesQuery:{description:"Subset of the WebChartQuery, use the series level",title:"WebChartSeriesQuery",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statistics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"]},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},returnDistinctValues:{description:"If true then the query returns distinct values based on the field(s) specified in outFields. Available for count-based aggregations only.",default:!1,type:"boolean",title:"returnDistinctValues"},fetchNullValues:{description:"Indicates whether to fetch null values for them to be counted or displayed as categories on the chart.",default:!1,type:"boolean",title:"fetchNullValues"}}},WebChartDataFilters:{description:"JSON representation of filters applied to the data",title:"WebChartDataFilters",type:"object",properties:{gdbVersion:{description:"Specifies the geodatabase version to display for feature service queries.",type:"string",title:"gdbVersion"},geometry:{description:"The geometry to apply to the spatial filter. A buffer can be applied to it by setting the properties `distance` and `units`.",anyOf:[{$ref:"#/definitions/IPoint"},{$ref:"#/definitions/IPolyline"},{$ref:"#/definitions/IPolygon"},{$ref:"#/definitions/IPolygonWithCurves"},{$ref:"#/definitions/IEnvelope"},{$ref:"#/definitions/IExtent"}],title:"geometry"},timeExtent:{description:"A time extent ([timestamp, timestamp]) for a temporal query against time-aware layers.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"timeExtent"},distance:{description:"Specifies a search distance for the `geometry`. To be associated with the `units` property. For compatible layers only.",type:"number",title:"distance"},units:{description:"The unit for calculating the buffer distance when `distance` and `geometry` are provided.\nIf not specified, the unit is derived from the geometry spatial reference.",enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"units"},where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"}}},WebChartSeries:{description:"JSON representation of the chart's series object. All other series extends this interface.",type:"object",properties:{type:{type:"string",title:"type"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","name","type","x"],title:"WebChartSeries"},WebChartBarChartSeries:{description:"[Bar chart](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/bar-chart.htm) shows the categorical distribution of String/DateTime data.",title:"WebChartBarChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the BarChartSeries object. For BarSeries object, it is "barSeries".',type:"string",enum:["barSeries"],title:"type"},y:{description:"Specifies which field represents the y-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},stackedType:{description:'Specifies how the bars/columns should be placed when multiple bar series are rendered in the same chart, say when "split by" operation is executed on any field or when multiple attributes/fields corresponding to the same set of classes are to be visualized.',enum:["sideBySide","stacked","stacked100"],type:"string",title:"stackedType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},dataLabels:{$ref:"#/definitions/WebChartText",description:"Specifies how the data labels should be rendered.",title:"dataLabels"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"}},required:["colorType","dataLabels","fillSymbol","id","name","type","x","y"]},HistogramOverlays:{description:"Object containing Histogram overlays",title:"HistogramOverlays",type:"object",properties:{type:{description:'Represents a unique string identifier for the HistogramOverlays object. For HistogramOverlays object, it is "chartOverlays".',type:"string",enum:["chartOverlays"],title:"type"},mean:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the mean overlay for histogram.",title:"mean"},median:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the median overlay for histogram.",title:"median"},standardDeviation:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the standard deviation overlay for histogram.",title:"standardDeviation"},comparisonDistribution:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the comparison distribution overlay for histogram.",title:"comparisonDistribution"}},required:["comparisonDistribution","mean","median","standardDeviation","type"]},WebChartHistogramSeries:{description:"[Histogram](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/histogram.htm) shows the numerical(frequency) distribution of a numerical field.",title:"WebChartHistogramSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the HistogramSeries object. For BarSeries object, it is "histogramSeries".',type:"string",enum:["histogramSeries"],title:"type"},binCount:{description:"Bin count must be a positive integer.",minimum:1,multipleOf:1,default:32,type:["null","number"],title:"binCount"},overlays:{$ref:"#/definitions/HistogramOverlays",description:"Specifies the chart overlays. Histogram supports 4 overlays: **mean**, **median**, **standardDeviation** and **comparisonDistribution**.",title:"overlays"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",description:"Specifies how the data should be transformed (e.g. square root, log, etc.) before binning.",title:"dataTransformationType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","dataTransformationType","fillSymbol","id","name","overlays","type","x"]},ScatterPlotOverlays:{description:"Object containing Scatter Plot overlays",title:"ScatterPlotOverlays",type:"object",properties:{type:{description:'Represents a unique string identifier for the ScatterPlotOverlays object. For ScatterPlotOverlays object, it is "chartOverlays".',type:"string",enum:["chartOverlays"],title:"type"},trendLine:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the trendline overlay for scatter plot.",title:"trendLine"}},required:["trendLine","type"]},SizePolicy:{title:"SizePolicy",type:"object",properties:{type:{description:'Represents a unique string identifier for the sizePolicy object. For sizePolicy object, it is "sizeScale".',type:"string",enum:["sizeScale"],title:"type"},scaleType:{description:"The type of scale to apply to the markers (linear or logarithmic)",default:"SizePolicyScaleTypes.Linear",enum:["linear","logarithmic"],type:"string",title:"scaleType"},field:{description:"The field which determines the markers size",type:"string",title:"field"},minSize:{description:"The minimum marker size",default:5,multipleOf:1,type:"number",title:"minSize"},maxSize:{description:"The maximum marker size",default:30,multipleOf:1,type:"number",title:"maxSize"}},required:["field","type"]},WebChartScatterPlotSeries:{description:"[Scatter plot](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/scatter-plot.htm) shows the relationship between two numerical fields.",title:"WebChartScatterPlotSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the ScatterSeries object. For ScatterSeries object, it is "scatterSeries".',type:"string",enum:["scatterSeries"],title:"type"},y:{description:"Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",description:'Specifies how each data point in the scatter plot should be rendered. The type is `"esriSMS"` and it is adopted from the [REST API Types](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm#GUID-C8D40B32-5F4B-45EB-8048-6D5A8763E13B).',title:"markerSymbol"},overlays:{$ref:"#/definitions/ScatterPlotOverlays",description:"Specifies all the chart overlays. The scatter plot implements only 1 overlay, **trendLine**.",title:"overlays"},sizePolicy:{description:"Specifies rules to use the scatter plot as bubble plot, by changing dynamically the markers size according to a specific field value",$ref:"#/definitions/SizePolicy",title:"sizePolicy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","markerSymbol","name","overlays","type","x","y"]},WebChartPieChartTick:{description:"JSON representation of the pie ticks.",title:"WebChartPieChartTick",type:"object",properties:{type:{description:'Represents a unique string identifier for the WebChartPieChartTick object. For PieTick object, it is "pieTick".',type:"string",enum:["pieTick"],title:"type"},visible:{description:"Determines the visibility of the tick.\nAssigning the `true` value will only be considered when the data labels are visible (`series.dataLabels.visible`) and\nwhen the data label associated to the tick is outside of the chart (`series.dataLabelsOffset` > 0).",type:"boolean",title:"visible"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the pie chart ticks should be rendered",title:"lineSymbol"}},required:["lineSymbol","type"]},WebChartPieChartSlice:{description:"JSON representation of the pie slices",title:"WebChartPieChartSlice",type:"object",properties:{sliceId:{description:"A unique string used identify the slice of a pie chart.",type:"string",title:"sliceId"},originalLabel:{description:"The slice's original label.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"originalLabel"},label:{description:"Custom label for the slice.\nFor grouped slice, the default value is `Other`.\nFor regular slice, it will be either the category or field name.",type:"string",title:"label"},fillSymbol:{description:"Contains styling info on how the slice should be rendered. If not provided, the slice will\nbe styled with default values.",$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"}},required:["sliceId"]},WebChartPieChartGroupSlice:{description:"JSON representation of the pie grouped slice",title:"WebChartPieChartGroupSlice",type:"object",properties:{percentageThreshold:{description:"Slices that have a percent value equal or lesser to this threshold are grouped into a unique slice",type:"number",title:"percentageThreshold"},dataLabels:{description:"Specifies how the grouped slice data labels should be rendered.\nIf the property is not set the `series.dataLabels` will be used instead.",$ref:"#/definitions/WebChartText",title:"dataLabels"},sliceId:{description:"A unique string used identify the slice of a pie chart.",type:"string",title:"sliceId"},originalLabel:{description:"The slice's original label.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"originalLabel"},label:{description:"Custom label for the slice.\nFor grouped slice, the default value is `Other`.\nFor regular slice, it will be either the category or field name.",type:"string",title:"label"},fillSymbol:{description:"Contains styling info on how the slice should be rendered. If not provided, the slice will\nbe styled with default values.",$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"}},required:["percentageThreshold","sliceId"]},WebChartPieChartSeries:{description:"JSON representation of the Pie Chart series",title:"WebChartPieChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the PieSeries object. For PieSeries object, it is "pieSeries".',type:"string",enum:["pieSeries"],title:"type"},y:{description:"Specifies which field represents the y-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",minimum:0,maximum:100,default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-90,type:["null","number"],title:"startAngle"},endAngle:{default:270,type:["null","number"],title:"endAngle"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the slices should be rendered",title:"fillSymbol"},displayNumericValueOnDataLabel:{description:"Indicates whether the numeric value associated to a slice is to be displayed on its data label.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`.\nThis property will be ignored if the chart options `dataLabelFormatter` is provided.",default:!0,type:"boolean",title:"displayNumericValueOnDataLabel"},displayPercentageOnDataLabel:{description:"Indicates whether the percentage associated to a slice is to be displayed on its data label.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `dataLabelFormatter` is provided.",default:!1,type:"boolean",title:"displayPercentageOnDataLabel"},displayNumericValueOnTooltip:{description:"Indicates whether the numeric value associated to a slice is to be displayed on its tooltip.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `tooltipFormatter` is provided.",default:!0,type:"boolean",title:"displayNumericValueOnTooltip"},displayPercentageOnTooltip:{description:"Indicates whether the percentage associated to a slice is to be displayed on its tooltip.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `tooltipFormatter` is provided.",default:!0,type:"boolean",title:"displayPercentageOnTooltip"},numericValueFormat:{description:"Specifies how the numerical values should be formatted (applied to label, tooltip and legend).\nCan be overridden for the tooltips by series.dataTooltipValueFormat.",$ref:"#/definitions/NumberFormatOptions",title:"numericValueFormat"},percentValueFormat:{description:"Specifies how the percent values should be formatted (applied to label, tooltip and legend)\nCan be overridden for the tooltips by series.dataTooltipPercentFormat.",$ref:"#/definitions/NumberFormatOptions",title:"percentValueFormat"},valuePrefix:{description:"Adds a prefix to all the values displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"valuePrefix"},valueSuffix:{description:"Adds a suffix to all the values displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"valueSuffix"},percentagePrefix:{description:"Adds a prefix to all the percentages displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"percentagePrefix"},percentageSuffix:{description:"Adds a suffix to all the percentages displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"percentageSuffix"},dataLabelsCharacterLimit:{description:'If set, the category on the data label is truncated to display only `characterLimit` characters, and an ellipsis ("...")\nis added to the end of the label.\nThis does not affect the value and percentage part of the labels.\nDoes not apply to tooltips and legend labels.',default:"undefined",minimum:1,multipleOf:1,type:["null","number"],title:"dataLabelsCharacterLimit"},ticks:{description:"Specifies how to render the ticks shown on each slide.\nTicks will be displayed with default values if not provided.",$ref:"#/definitions/WebChartPieChartTick",title:"ticks"},dataLabelsOffset:{description:"Determines in pixel how far the data labels should be placed from their slice.\nIf a negative value is provided the label will be placed inside of the chart.",default:10,type:"number",title:"dataLabelsOffset"},alignDataLabels:{description:"Aligns labels into columns to make them more readable and avoid them to overlap each other.",default:!1,type:"boolean",title:"alignDataLabels"},optimizeDataLabelsOverlapping:{description:"Optimizes the data labels rendering to avoid them to be cut off on the edges or to overlap the legend by wrapping them and adding padding to the chart.",default:!1,type:"boolean",title:"optimizeDataLabelsOverlapping"},sliceGrouping:{description:"Specifies if and how the slices under a given percentage threshold are grouped into a unique slice",$ref:"#/definitions/WebChartPieChartGroupSlice",title:"sliceGrouping"},slices:{description:"An array of WebChartPieChartSlice representing the ids, labels and styles of the pie slices.\n\nWhen this property is not defined, or when a pie slice does not have a matching slice in this array,\nthe series' fillSymbol will be used. If the series' fillSymbol does not contain color information, colors from the\ncolor ramps will be utilized.",type:"array",items:{$ref:"#/definitions/WebChartPieChartSlice"},title:"slices"},sortLabelsBy:{description:"Specifies the label value type to be used for sorting the pie slices.\nIt is either LabelValueTypes.OriginalValue or LabelValueTypes.ModifiedValue.\n\nThis property will only be considered when there is an `orderByFields` defined in the series[0].query object, and\nfor order based on category or field value (not for order by y value).",default:"LabelValueTypes.ModifiedValue",enum:["modifiedValue","originalValue"],type:"string",title:"sortLabelsBy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","fillSymbol","id","name","type","x","y"]},WebChartGaugeSeries:{description:"JSON representation of the `Gauge` series",title:"WebChartGaugeSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the GaugeSeries object. For GaugeSeries object, it is "gaugeSeries".',type:"string",enum:["gaugeSeries"],title:"type"},valueConversion:{description:"Defines the conversion to apply to the gauge value",$ref:"#/definitions/ValueConversion",title:"valueConversion"},featureIndex:{description:"Specifies the index of the feature to be rendered.\nThis property will be ignored for a statistic gauge (indicated via `WebGaugeChart.subType` property).\nFor feature-based gauge, if this property is not present, the first feature will be used (featureIndex = 0)",type:"number",title:"featureIndex"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","name","type","x"]},WebChartLineChartSeries:{description:"JSON representation of the Line Chart series",title:"WebChartLineChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the LineSeries object. For LineSeries object, it is "lineSeries".',type:"string",enum:["lineSeries"],title:"type"},y:{type:"string",title:"y"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the line/line segments should be rendered",title:"lineSymbol"},lineSmoothed:{description:"Specifies whether line segments should be smoothed.",default:!1,type:"boolean",title:"lineSmoothed"},showArea:{description:"Indicates whether line series show area.",default:!1,type:"boolean",title:"showArea"},markerVisible:{description:"Indicates whether to show or hide the markers/bullets of the line series.",default:!0,type:"boolean",title:"markerVisible"},markerSymbol:{description:"Contains styling info on how the marker should be rendered",$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},areaColor:{description:"Specifies the color of the filled area for line chart.\nareaColor will be applied only if showArea is true, and is defaulted to the line color if not provided.",type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"areaColor"},rotated:{description:"Specifies whether the series should be rotated.",default:!1,type:"boolean",title:"rotated"},stackedType:{description:'Specifies how the lines should be placed when multiple line series are rendered in the same chart, say when "split by" operation is executed on any field or\nwhen multiple attributes/fields corresponding to the same set of classes are to be visualized.',default:"sideBySide",enum:["sideBySide","stacked","stacked100"],type:"string",title:"stackedType"},stackNegativeValuesToBaseline:{description:"Specifies how negative values are treated in stacked series.\nIf true, negative values will be stacked on the base line.\nIf false, negative values will be stacked in relation to their previous values in the stack.",default:!0,type:"boolean",title:"stackNegativeValuesToBaseline"},timeIntervalUnits:{description:"The time unit that corresponds to the `timeIntervalSize`. Valid options include seconds, minutes, hours, days, weeks, months, and years.",enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"timeIntervalUnits"},timeIntervalSize:{description:"The span of time that will be binned or aggregated together. This property must be used in conjunction with `timeIntervalUnits`.",minimum:0,type:"number",title:"timeIntervalSize"},timeAggregationType:{description:"The time interval alignment type. Valid options include `equalIntervalsFromStartTime` and `equalIntervalsFromEndTime`.",default:"equalIntervalsFromStartTime",enum:["equalIntervalsFromEndTime","equalIntervalsFromStartTime"],type:"string",title:"timeAggregationType"},trimIncompleteTimeInterval:{description:"Determines whether incomplete time intervals at the start or end of the data span (depending on the `timeAggregationType`) will be removed from the chart.\nIncomplete intervals on a chart can cause misleading results in which the period in question is under- or overreported due to a different amount of time in the interval.\nSetting `true` indicates to trim these incomplete intervals. Setting `false` does not trim incomplete intervals.",default:!0,type:"boolean",title:"trimIncompleteTimeInterval"},nullPolicy:{description:"How summarized bins returning a null value are displayed. Supported options are `null`, `zero`, and `interpolate`.",default:"null",enum:["interpolate","null","zero"],type:"string",title:"nullPolicy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","lineSymbol","name","type","x","y"]},WebChartBoxPlotSeries:{description:"JSON representation of the Box plot series",title:"WebChartBoxPlotSeries",type:"object",properties:{type:{type:"string",enum:["boxPlotSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},showOutliers:{type:"boolean",title:"showOutliers"},showInnerPoints:{type:"boolean",title:"showInnerPoints"},showMean:{type:"boolean",title:"showMean"},standardizeValues:{type:"boolean",title:"standardizeValues"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","fillSymbol","id","name","showInnerPoints","showMean","showOutliers","standardizeValues","type","x","y"]},WebChartProbabilityPlotSeries:{description:"JSON representation of the Probability plot series",title:"WebChartProbabilityPlotSeries",type:"object",properties:{type:{type:"string",enum:["probabilityPlotSeries"],title:"type"},y:{type:"string",title:"y"},probabilityPlotType:{$ref:"#/definitions/WebChartProbabilityPlotKinds",title:"probabilityPlotType"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",title:"dataTransformationType"},showReferenceLine:{type:"boolean",title:"showReferenceLine"},standardizeValues:{type:"boolean",title:"standardizeValues"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},referenceLineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"referenceLineSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","dataTransformationType","id","markerSymbol","name","probabilityPlotType","referenceLineSymbol","showReferenceLine","standardizeValues","type","x","y"]},WebChartProfileGraphSeries:{description:"JSON representation of the Profile graph series",title:"WebChartProfileGraphSeries",type:"object",properties:{type:{type:"string",enum:["profileGraphSeries"],title:"type"},y:{type:"string",title:"y"},horizontalUnits:{type:"string",title:"horizontalUnits"},verticalUnits:{type:"string",title:"verticalUnits"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","horizontalUnits","id","lineSymbol","markerSymbol","name","type","verticalUnits","x","y"]},WebChartSeriesType:{description:"Type containing all the series types available",title:"WebChartSeriesType",anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},WebMapWebChart:{description:"Gives a JSON representation of the Chart object without the dataSource Object. Used in the Webmap Viewer workflows.",type:"object",properties:{version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,maxItems:2,title:"axes"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["series","type","version"],title:"WebMapWebChart"},WebMapWebGaugeChart:{description:"JSON representation of Gauge",type:"object",properties:{innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",default:50,type:["null","number"],title:"innerRadius"},startAngle:{description:"Represents where is the chart's starting point",default:-180,type:["null","number"],title:"startAngle"},endAngle:{description:"Represents where is the chart's ending point. To be related with startAngle. If endAngle-startAngle is 360 the chart will render as full circle.",default:180,type:["null","number"],title:"endAngle"},axes:{description:"Array of one WebChartGaugeAxis",type:"array",items:[{$ref:"#/definitions/WebChartGaugeAxis"}],minItems:1,maxItems:1,title:"axes"},subType:{description:"The type of Gauge, like FeatureGauge and StatisticGauge.\n\nWhen this property is not specified, it will be defaulted to `GaugeChartSubTypes.StatisticGauge`.",enum:["featureGauge","statisticGauge"],type:"string",title:"subType"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["axes","series","type","version"],title:"WebMapWebGaugeChart"},WebChart:{description:"Gives a JSON representation of the Chart object. Used by ArcGIS Charts packages.",type:"object",properties:{dataSource:{$ref:"#/definitions/WebChartDataSources",description:"Property representing the data source. Can be Layer or vanilla POJOs.",title:"dataSource"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,maxItems:2,title:"axes"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["dataSource","series","type","version"],title:"WebChart"},WebGaugeChart:{type:"object",properties:{dataSource:{$ref:"#/definitions/WebChartDataSources",description:"Property representing the data source. Can be Layer or vanilla POJOs.",title:"dataSource"},innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",default:50,type:["null","number"],title:"innerRadius"},startAngle:{description:"Represents where is the chart's starting point",default:-180,type:["null","number"],title:"startAngle"},endAngle:{description:"Represents where is the chart's ending point. To be related with startAngle. If endAngle-startAngle is 360 the chart will render as full circle.",default:180,type:["null","number"],title:"endAngle"},axes:{description:"Array of one WebChartGaugeAxis",type:"array",items:[{$ref:"#/definitions/WebChartGaugeAxis"}],minItems:1,maxItems:1,title:"axes"},subType:{description:"The type of Gauge, like FeatureGauge and StatisticGauge.\n\nWhen this property is not specified, it will be defaulted to `GaugeChartSubTypes.StatisticGauge`.",enum:["featureGauge","statisticGauge"],type:"string",title:"subType"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["axes","dataSource","series","type","version"],title:"WebGaugeChart"},OverlayTerms:{enum:["Mean","Median","Normal Distribution","Standard Deviation","Trendline"],type:"string",title:"OverlayTerms"},CalculatedMinMaxBoundsPayload:{type:"object",properties:{isXAxis:{type:"boolean",title:"isXAxis"},minimum:{type:["null","number"],title:"minimum"},maximum:{type:["null","number"],title:"maximum"}},required:["isXAxis"],title:"CalculatedMinMaxBoundsPayload"},ChartDeletePayload:{type:"object",properties:{chartId:{type:"string",title:"chartId"}},required:["chartId"],title:"ChartDeletePayload"},LegendItemVisibility:{type:"object",properties:{visible:{type:"boolean",title:"visible"},seriesId:{type:"string",title:"seriesId"},overlayType:{enum:["Mean","Median","Normal Distribution","Standard Deviation","Trendline"],type:"string",title:"overlayType"},sliceId:{type:"string",title:"sliceId"},sliceData:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"sliceData"}},required:["visible"],title:"LegendItemVisibility"},IExtent:{description:'Extents are used to define rectangles and bounding boxes.\n\n`IExtent` can also be imported from the following packages:\n\n```js\nimport { IExtent } from "@esri/arcgis-rest-geocoding";\nimport { IExtent } from "@esri/arcgis-rest-service-admin";\nimport { IExtent } from "@esri/arcgis-rest-feature-layer";\n```',title:"IExtent",type:"object",properties:{xmin:{type:"number",title:"xmin"},ymin:{type:"number",title:"ymin"},zmin:{type:"number",title:"zmin"},xmax:{type:"number",title:"xmax"},ymax:{type:"number",title:"ymax"},zmax:{type:"number",title:"zmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["xmax","xmin","ymax","ymin"]},ISpatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',title:"ISpatialReference",type:"object",properties:{wkid:{type:"number",title:"wkid"},latestWkid:{type:"number",title:"latestWkid"},vcsWkid:{type:"number",title:"vcsWkid"},latestVcsWkid:{type:"number",title:"latestVcsWkid"},wkt:{type:"string",title:"wkt"},latestWkt:{type:"string",title:"latestWkt"}}},IFeatureLayer:{description:"Feature layers can be created by referencing a layer from either a map service or a feature service or by specifying a feature collection object.\nUse a map service if you just want to retrieve geometries and attributes from the server and symbolize them yourself. Use a feature service if\nyou want to take advantage of symbols from the service's source map document. Also, use a feature service if you plan on doing editing with the\nfeature layer. Feature layers honor any feature templates configured in the source map document. Feature collection objects are used to create\na feature layer based on the supplied definition.",title:"IFeatureLayer",type:"object",properties:{capabilities:{description:"A comma-separated string listing which editing operations are allowed on an editable feature service.",type:"string",title:"capabilities"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},disablePopup:{description:"Indicates whether to allow a client to ignore popups defined by the service item.",enum:[!0],type:"boolean",title:"disablePopup"},featureCollection:{description:"A featureCollection object defining a layer of features whose geometry and attributes are either stored directly within the web map or with an item. Feature Collections can be created from CSVs, shapefiles, GPX, or map notes.",title:"featureCollection"},featureCollectionType:{description:"Indicates the type of features in the feature collection. If featureCollectionType is missing, it means the feature collection is a regular single-layer or multi-layer feature collection.",enum:["markup","notes","route"],type:"string",title:"featureCollectionType"},layerDefinition:{description:"A layerDefinition object defining the attribute schema and drawing information for the layer.",$ref:"#/definitions/ILayerDefinition",title:"layerDefinition"},layerType:{description:"String indicating the layer type.",type:"string",enum:["ArcGISFeatureLayer"],title:"layerType"},mode:{description:"0 is snapshot mode. 1 is on-demand mode. 2 is selection-only mode. Used with ArcGIS feature services and individual layers in ArcGIS map services.",enum:[0,1,2],type:"number",title:"mode"},popupInfo:{description:"A popupInfo object defining the content of popup windows when you click or query a feature.",$ref:"#/definitions/IPopupInfo",title:"popupInfo"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled.",type:"number",title:"refreshInterval"},showLabels:{description:"Labels will display if this property is set to true and the layer also has a labelingInfo property associated with it. This property can get stored in the web map config and in the item/data.",enum:[!0],type:"boolean",title:"showLabels"},visibleLayers:{description:"An array of sublayer ids that should appear visible. Used with feature layers that are based on feature collections.",type:"array",items:{type:"number"},title:"visibleLayers"},id:{description:"A unique identifying string for the layer.",title:"id"},name:{description:"Layer name",type:"string",title:"name"},itemId:{description:"Optional string containing the item ID of the service if it's registered on ArcGIS Online or your organization's portal.",type:"string",title:"itemId"},maxScale:{description:"Integer property used to determine the maximum scale at which the layer is displayed.",type:"number",title:"maxScale"},minScale:{description:"Integer property used to determine the minimum scale at which the layer is displayed.",type:"number",title:"minScale"},opacity:{description:"The degree of transparency applied to the layer on the client side, where 0 is full transparency and 1 is no transparency.",type:"number",title:"opacity"},showLegend:{description:"Boolean property indicating whether to display in the legend.",type:"boolean",title:"showLegend"},title:{description:"A user-friendly string title for the layer that can be used in a table of contents.",type:"string",title:"title"},type:{description:"Deprecated, use layerType instead.",type:"string",title:"type"},visibility:{description:"Boolean property determining whether the layer is initially visible in the web map.",type:"boolean",title:"visibility"},url:{description:"The URL to the layer. Not applicable to all layer types.",type:"string",title:"url"},timeAnimation:{description:"This property is applicable to layers that support time. If 'true', timeAnimation is enabled.",type:"boolean",title:"timeAnimation"}},required:["id","layerType"]},IDefinitionEditor:{description:"The definitionEditor stores interactive filters at the same level as layerDefinition.",title:"IDefinitionEditor",type:"object",properties:{inputs:{description:"An array of input objects.",type:"array",items:{$ref:"#/definitions/IDefinitionInput"},title:"inputs"},parameterizedExpression:{description:"A string value representing the where clause for the interactive filter.",type:"string",title:"parameterizedExpression"}}},IDefinitionInput:{title:"IDefinitionInput",type:"object",properties:{hint:{description:"A string value representing a hint for the input.",type:"string",title:"hint"},parameters:{description:"An array of parameter objects.",type:"array",items:{$ref:"#/definitions/IDefinitionParameter"},title:"parameters"},prompt:{description:"A string value representing the prompt for the input.",type:"string",title:"prompt"}}},IDefinitionParameter:{title:"IDefinitionParameter",type:"object",properties:{defaultValue:{description:"The default value that is automatically given if nothing is provided.",type:["string","number"],title:"defaultValue"},fieldName:{description:"A string value representing the name of the field to query.",type:"string",title:"fieldName"},parameterId:{description:"Number given to uniquely identify the specified parameter.",title:"parameterId"},type:{description:"The field type for the specified field parameter.",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"type"},utcValue:{description:"An integer value representing exact UNIX time used when defaultValue is a date string.",type:"number",title:"utcValue"}}},ILayerDefinition:{description:'`ILayerDefinition` can also be imported from the following packages:\n\n```js\nimport { ILayerDefinition } from "@esri/arcgis-rest-service-admin";\nimport { ILayerDefinition } from "@esri/arcgis-rest-feature-layer";\n```',title:"ILayerDefinition",type:"object",properties:{allowGeometryUpdates:{description:"Boolean value indicating whether the geometry of the features in the layer can be edited.",type:"boolean",title:"allowGeometryUpdates"},capabilities:{description:"A comma separated list of supported capabilities, e.g. Query,Editing.",type:"string",title:"capabilities"},copyrightText:{description:"String value for the copyright text information for the layer.",type:"string",title:"copyrightText"},currentVersion:{description:"Numeric value indicating the server version of the layer.",type:"number",title:"currentVersion"},defaultVisibility:{description:"Boolean value indicating whether the layer's visibility is turned on.",type:"boolean",title:"defaultVisibility"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},definitionExpression:{description:"SQL-based definition expression string that narrows the data to be displayed in the layer.",type:"string",title:"definitionExpression"},description:{description:"String value of the layer as defined in the map service.",type:"string",title:"description"},displayField:{description:"A string value that summarizes the feature.",type:"string",title:"displayField"},drawingInfo:{description:"Contains drawing, labeling, and transparency information.",title:"drawingInfo"},extent:{description:"An object defining the rectangular area.",anyOf:[{$ref:"#/definitions/IExtent"},{type:"null"}],title:"extent"},editingInfo:{description:"An object defining the editing info (last edit date).",$ref:"#/definitions/IEditingInfo",title:"editingInfo"},featureReduction:{description:"Feature reductions declutter the screen by hiding features that would otherwise intersect with other features on screen.",title:"featureReduction"},fields:{description:"An array of field objects containing information about the attribute fields for the feature collection or layer.",type:"array",items:{$ref:"#/definitions/IField"},title:"fields"},geometryType:{description:"A string defining the type of geometry. Possible geometry types are: esriGeometryPoint, esriGeometryMultipoint, esriGeometryPolyline, esriGeometryPolygon, and esriGeometryEnvelope.",enum:["esriGeometryEnvelope","esriGeometryMultipoint","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"],type:"string",title:"geometryType"},globalIdField:{description:"The unique identifier for a feature or table row within a geodatabase.",type:"string",title:"globalIdField"},hasAttachments:{description:"Indicates whether attachments should be loaded for the layer.",type:"boolean",title:"hasAttachments"},hasStaticData:{description:"Boolean value indicating whether data changes. True if it does not.",type:"boolean",title:"hasStaticData"},htmlPopupType:{description:"String value indicating the HTML popup type.",enum:["esriServerHTMLPopupTypeAsHTMLText","esriServerHTMLPopupTypeAsURL","esriServerHTMLPopupTypeNone"],type:"string",title:"htmlPopupType"},id:{description:"The identifier assigned to the layer.",type:"number",title:"id"},isDataVersioned:{description:"Boolean value indicating whether the data is versioned.",type:"boolean",title:"isDataVersioned"},maxRecordCount:{description:"Numeric value indicating tbe maximum number of records that will be returned at once for a query.",type:"number",title:"maxRecordCount"},maxScale:{description:"Represents the maximum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"maxScale"},minScale:{description:"Represents the minimum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"minScale"},name:{description:"Contains a unique name for the layer that can be displayed in a legend.",type:"string",title:"name"},objectIdField:{description:"Indicates the name of the object ID field in the dataset.",type:"string",title:"objectIdField"},overrideSymbols:{description:"Dictates whether a client can support having an end user modify symbols on individual features.",type:"boolean",title:"overrideSymbols"},rangeInfos:{description:"Indicates range information",title:"rangeInfos"},source:{description:"An object indicating the layerDefinition's layer source.",title:"source"},spatialReference:{description:"An object containing the WKID or WKT identifying the spatial reference of the layer's geometry.",$ref:"#/definitions/ISpatialReference",title:"spatialReference"},supportedQueryFormats:{description:"String value indicating the output formats that are supported in a query.",type:"string",title:"supportedQueryFormats"},supportsAdvancedQueries:{description:"Boolean value indicating whether the layer supports orderByFields in a query operation.",type:"boolean",title:"supportsAdvancedQueries"},supportsAttachmentsByUploadId:{description:"Boolean value indicating whether the layer supports uploading attachments with the Uploads operation. This can then be used in the Add Attachment and Update Attachment operations.",type:"boolean",title:"supportsAttachmentsByUploadId"},supportsCalculate:{description:"Boolean value indicating whether the layer supports the Calculate REST operation when updating features.",type:"boolean",title:"supportsCalculate"},supportsRollbackOnFailureParameter:{description:"Boolean value indicating whether the layer supports rolling back edits made on a feature layer if some of the edits fail.",type:"boolean",title:"supportsRollbackOnFailureParameter"},supportsStatistics:{description:"Boolean value indicating whether feature layer query operations support statistical functions.",type:"boolean",title:"supportsStatistics"},supportsValidateSql:{description:"Boolean value indicating whether the validateSQL operation is supported across a feature service layer.",type:"boolean",title:"supportsValidateSql"},templates:{description:"A property of the layer definition when there are no types defined; otherwise, templates are defined as properties of the types.",type:"array",items:{$ref:"#/definitions/ITemplate"},title:"templates"},timeInfo:{description:"The time info metadata of the layer. May be set for feature layers inside a feature collection item.",title:"timeInfo"},type:{description:"Indicates whether the layerDefinition applies to a Feature Layer or a Table.",enum:["Feature Layer","Table"],type:"string",title:"type"},typeIdField:{description:"Contains the name of the field holding the type ID for the features.",type:"string",title:"typeIdField"},types:{description:"Contains information about an attribute field.",title:"types"},visibilityField:{description:"String value indicating the attribute field that is used to control the visibility of a feature.\nIf applicable, when rendering a feature the client should use this field to control visibility.\nThe field's values are 0 = do not display, 1 = display.",type:"string",title:"visibilityField"},relationships:{type:"array",items:{},title:"relationships"},editFieldsInfo:{type:"object",properties:{creationDateField:{type:"string",title:"creationDateField"},creatorField:{type:"string",title:"creatorField"},editDateField:{type:"string",title:"editDateField"},editorField:{type:"string",title:"editorField"}},title:"editFieldsInfo"},parentLayerId:{type:"number",title:"parentLayerId"},ownershipBasedAccessControlForFeatures:{type:"boolean",title:"ownershipBasedAccessControlForFeatures"},syncCanReturnChanges:{type:"boolean",title:"syncCanReturnChanges"},archivingInfo:{type:"object",properties:{supportsQueryWithHistoricMoment:{type:"boolean",title:"supportsQueryWithHistoricMoment"},startArchivingMoment:{type:"number",title:"startArchivingMoment"}},title:"archivingInfo"},supportsValidateSQL:{type:"boolean",title:"supportsValidateSQL"},advancedQueryCapabilities:{type:"object",properties:{supportsPagination:{type:"boolean",title:"supportsPagination"},supportsTrueCurve:{type:"boolean",title:"supportsTrueCurve"},supportsQueryWithDistance:{type:"boolean",title:"supportsQueryWithDistance"},supportsReturningQueryExtent:{type:"boolean",title:"supportsReturningQueryExtent"},supportsStatistics:{type:"boolean",title:"supportsStatistics"},supportsOrderBy:{type:"boolean",title:"supportsOrderBy"},supportsDistinct:{type:"boolean",title:"supportsDistinct"},supportsSqlExpression:{type:"boolean",title:"supportsSqlExpression"},supportsPercentileStatistics:{type:"boolean",title:"supportsPercentileStatistics"}},title:"advancedQueryCapabilities"},allowTrueCurvesUpdates:{type:"boolean",title:"allowTrueCurvesUpdates"},onlyAllowTrueCurveUpdatesByTrueCurveClients:{type:"boolean",title:"onlyAllowTrueCurveUpdatesByTrueCurveClients"},supportsApplyEditsWithGlobalIds:{type:"boolean",title:"supportsApplyEditsWithGlobalIds"},subtypeField:{type:"string",title:"subtypeField"},indexes:{type:"array",items:{},title:"indexes"},dateFieldsTimeReference:{type:"object",properties:{timeZone:{type:"string",title:"timeZone"},respectsDaylightSaving:{type:"boolean",title:"respectsDaylightSaving"}},title:"dateFieldsTimeReference"},useStandardizedQueries:{type:"boolean",title:"useStandardizedQueries"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"}}},IEditingInfo:{title:"IEditingInfo",type:"object",properties:{lastEditDate:{description:"date of last edit to the layer",type:"number",title:"lastEditDate"}}},IField:{description:'Contains information about an attribute field.\n\n`IField` can also be imported from the following packages:\n\n```js\nimport { IField } from "@esri/arcgis-rest-feature-layer";\n```',title:"IField",type:"object",properties:{name:{description:"A string defining the field name.",type:"string",title:"name"},type:{$ref:"#/definitions/FieldType",description:"A string defining the field type.",title:"type"},alias:{description:"A string defining the field alias.",type:"string",title:"alias"},domain:{description:"Information for a field with a domain",type:"object",properties:{type:{$ref:"#/definitions/DomainType",description:"A string defining the domain type.",title:"type"},name:{description:"A string defining the field name.",type:"string",title:"name"},range:{description:"A 2 element array defining the range of possible values.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"range"},codedValues:{description:"An array of CodedValues for domains of type codedValue.",type:"array",items:{description:"CodedValue type",type:"object",properties:{name:{description:"User-friendly name for what the code means.",type:"string",title:"name"},code:{description:"The value stored in the feature attribute.",type:["string","number"],title:"code"}},required:["code","name"]},title:"codedValues"},description:{description:"Description of the domain",type:"string",title:"description"},mergePolicy:{description:"Merge policy",type:"string",title:"mergePolicy"},splitPolicy:{description:"Split Policy",type:"string",title:"splitPolicy"}},required:["type"],title:"domain"},editable:{description:"A Boolean defining whether this field is editable.",type:"boolean",title:"editable"},exactMatch:{description:"A Boolean defining whether or not the field is an exact match.",type:"boolean",title:"exactMatch"},length:{description:"A number defining how many characters are allowed in a string. field.",type:"number",title:"length"},nullable:{description:"A Boolean defining whether this field can have a null value.",type:"boolean",title:"nullable"},defaultValue:{description:"The value written in for new records by default.",title:"defaultValue"}},required:["name","type"]},FieldType:{description:"Field type.",title:"FieldType",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string"},DomainType:{description:"Domain types",title:"DomainType",enum:["codedValue","inherited","range"],type:"string"},ITemplate:{description:"Templates describe features that can be created in a layer. They are generally used with feature collections and editable web-based CSV layers.\nTemplates are not used with ArcGIS feature services as these already have templates defined in the service. They are also defined as properties\nof the layer definition when there are no defined types. Otherwise, templates are defined as properties of the types.",title:"ITemplate",type:"object",properties:{description:{description:"A string value containing a detailed description of the template.",title:"description"},drawingTool:{description:"An optional string that can define a client-side drawing tool to be used with this feature. For example, map notes used by the Online Map Viewer use this to represent the viewer's different drawing tools.",enum:["esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolDownArrow","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLeftArrow","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolRightArrow","esriFeatureEditToolText","esriFeatureEditToolTriangle","esriFeatureEditToolUpArrow"],type:"string",title:"drawingTool"},name:{description:"A string containing a user-friendly name for the template.",type:"string",title:"name"},prototype:{description:"A feature object representing a prototypical feature for the template.",$ref:"#/definitions/IFeature",title:"prototype"}}},IFeature:{description:'a spatial entity and its corresponding properties\n\n`IFeature` can also be imported from the following packages:\n\n```js\nimport { IFeature } from "@esri/arcgis-rest-feature-layer";\nimport { IFeature } from "@esri/arcgis-rest-routing";\n```',title:"IFeature",type:"object",properties:{geometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/IGeometry",title:"geometry"},attributes:{type:"object",additionalProperties:{},title:"attributes"},symbol:{$ref:"#/definitions/ISymbol",title:"symbol"}},required:["attributes"]},IGeometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',title:"IGeometry",type:"object",properties:{spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}}},ISymbol:{title:"ISymbol",type:"object",properties:{type:{$ref:"#/definitions/SymbolType",title:"type"},style:{type:"string",title:"style"}},required:["type"]},SymbolType:{title:"SymbolType",enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string"},IPopupInfo:{description:"Defines the look and feel of popup windows when a user clicks or queries a feature.",title:"IPopupInfo",type:"object",properties:{description:{description:"A string that appears in the body of the popup window as a description. It is also possible to specify the description as HTML-formatted content.",type:["null","string"],title:"description"},expressionInfos:{description:"List of Arcade expressions added to the pop-up.",type:"array",items:{$ref:"#/definitions/IPopupExpressionInfo"},title:"expressionInfos"},fieldInfos:{description:"Array of fieldInfo information properties. This information is provided by the service layer definition. When the description uses name/value pairs, the order of the array is how the fields display in the editable Map Viewer popup and the resulting popup. It is also possible to specify HTML-formatted content.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},layerOptions:{description:"Additional options that can be defined for the popup layer.",type:"object",properties:{showNoDataRecords:{description:"Indicates whether or not the NoData records should be displayed.",type:"boolean",title:"showNoDataRecords"}},required:["showNoDataRecords"],title:"layerOptions"},mediaInfos:{description:"Array of various mediaInfo to display. Can be of type image, piechart, barchart, columnchart, or linechart. The order given is the order in which is displays.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},popupElements:{description:"An array of popupElement objects that represent an ordered list of popup elements.",type:"array",items:{$ref:"#/definitions/IPopupElement"},title:"popupElements"},relatedRecordsInfo:{description:"Indicates whether to enable related records if they exist on a layer.",$ref:"#/definitions/IRelatedRecordsInfo",title:"relatedRecordsInfo"},showAttachments:{description:"Indicates whether attachments will be loaded for feature layers that have attachments.",type:"boolean",title:"showAttachments"},title:{description:"A string that appears at the top of the popup window as a title.",type:"string",title:"title"}}},IPopupExpressionInfo:{description:"Arcade expression added to the pop-up.",title:"IPopupExpressionInfo",type:"object",properties:{expression:{description:"The Arcade expression.",type:"string",title:"expression"},name:{description:"Unique identifier for the expression.",type:"string",title:"name"},returnType:{description:"Return type of the Arcade expression, can be number or string. Defaults to string value. Number values are assumed to be double. This can be determined by the authoring client by executing the expression using a sample feature(s), although it can be corrected by the user. Knowing the returnType allows the authoring client to present fields in relevant contexts. For example, numeric fields in numeric contexts such as charts.",enum:["number","string"],type:"string",title:"returnType"},title:{description:"Title of the expression.",type:"string",title:"title"}}},IFieldInfo:{description:"Defines how a field in the dataset participates (or does not participate) in a popup window.",title:"IFieldInfo",type:"object",properties:{fieldName:{description:"A string containing the field name as defined by the service. Anywhere that a fieldname is referenced as {field-name} in popupInfo, an Arcade expression can also be referenced as{expression/}`.",title:"fieldName"},format:{description:"A format object used with numerical or date fields to provide more detail about how the value should be displayed in a web map popup window.",$ref:"#/definitions/IFieldFormat",title:"format"},isEditable:{description:"A Boolean determining whether users can edit this field. Not applicable to Arcade expressions.",type:"boolean",title:"isEditable"},label:{description:"A string containing the field alias. This can be overridden by the web map author. Not applicable to Arcade expressions as title is used instead.",type:"string",title:"label"},stringFieldOption:{description:"A string determining what type of input box editors see when editing the field. Applies only to string fields. Not applicable to Arcade expressions.",enum:["richtext","textarea","textbox"],type:"string",title:"stringFieldOption"},tooltip:{description:"A string providing an editing hint for editors of the field. Not applicable to Arcade expressions.",type:"string",title:"tooltip"},visible:{description:"A Boolean determining whether the field is visible in the popup window.",type:"boolean",title:"visible"}}},IFieldFormat:{description:"The format object can be used with numerical or date fields to provide more detail about how values should be displayed in popup windows.",title:"IFieldFormat",type:"object",properties:{dateFormat:{description:"A string used with date fields to specify how the date should appear in popup windows.",enum:["dayShortMonthYear","longDate","longMonthDayYear","longMonthYear","shortDate","shortDateLE","shortDateLELongTime","shortDateLELongTime24","shortDateLEShortTime","shortDateLEShortTime24","shortDateLongTime","shortDateLongTime24","shortDateShortTime","shortDateShortTime24","shortMonthYear","year"],type:"string",title:"dateFormat"},digitSeparator:{description:"A Boolean used with numerical fields. A value of true allows the number to have a digit (or thousands) separator when the value appears in popup windows.\nDepending on the locale, this separator is a decimal point or a comma. A value of false means that no separator will be used.",type:"boolean",title:"digitSeparator"},places:{description:"An integer used with numerical fields to specify the number of supported decimal places that should appear in popup windows. Any places beyond this value are rounded.",type:"number",title:"places"}}},IMediaInfo:{description:"Defines an image or a chart to be displayed in a popup window.",title:"IMediaInfo",type:"object",properties:{caption:{description:"A string caption describing the media.",title:"caption"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled. If the property does not exist, it's equivalent to having a value of 0. Only applicable when type is set to image.",title:"refreshInterval"},title:{description:"A string title for the media.",type:["null","string"],title:"title"},type:{description:"A string defining the type of media.",enum:["barchart","columnchart","image","linechart","piechart"],type:"string",title:"type"},value:{description:"A value object containing information about how the image should be retrieved or how the chart should be constructed.",anyOf:[{$ref:"#/definitions/IMediaInfoValue"},{type:"null"}],title:"value"}}},IMediaInfoValue:{description:"The value object contains information for popup windows about how images should be retrieved or charts constructed.",title:"IMediaInfoValue",type:"object",properties:{fields:{description:"Used with charts. An array of strings, with each string containing the name of a field to display in the chart.",type:"array",items:{type:"string"},title:"fields"},linkURL:{description:"Used with images. A string containing a URL to be launched in a browser when a user clicks the image.",type:"string",title:"linkURL"},normalizeField:{description:"Used with charts. An optional string containing the name of a field. The values of all fields in the chart will be normalized (divided) by the value of this field.",type:"string",title:"normalizeField"},sourceURL:{description:"Used with images. A string containing the URL to the image.",type:"string",title:"sourceURL"},tooltipField:{description:"String value indicating the tooltip for a chart specified from another field. This field is needed when related records are not sued. It is used for showing tooltips from another field in the same layer or related layer/table.",type:"string",title:"tooltipField"}}},IPopupElement:{description:"Popup elements allow users to author popups, using multiple elements such as tabular views, string description, media (charts and images), and attachments of the attributes\nand control the order in which they appear. Specifically, popupElements do the following:\n1) provide the ability to explicitly add a field/ value table in addition to a description,\n2) allow adding multiple description elements, and\n3) allow a user to author and consume elements of a popup in the order of their choosing.",title:"IPopupElement",type:"object",properties:{displayType:{description:"This property applies to elements of type attachments. A string value indicating how to display the attachment.\nPossible values are, preview, and list. If list is specified, attachments show as links.",enum:["list","preview"],type:"string",title:"displayType"},fieldInfos:{description:"This property applies to elements of type fields. It is an array of popupInfo.fieldInfo objects representing a field/value pair displayed as a table within the popupElement.\nIf the fieldInfos property is not provided, the popupElement will display whatever is specified directly in the popupInfo.fieldInfos property.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},mediaInfos:{description:"This property applies to elements of type media. An array of popupInfo.mediaInfo objects representing an image or chart for display.\nIf no mediaInfos property is provided, the popupElement will display whatever is specified in the popupInfo.mediaInfo property.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},text:{description:"This property applies to elements of type text. This is string value indicating the text to be displayed within the popupElement.\nIf no text property is provided, the popupElement will display whatever is specified in the popupInfo.description property.",type:"string",title:"text"},type:{description:"String value indicating which elements to use.",enum:["attachments","fields","media","text"],type:"string",title:"type"}}},IRelatedRecordsInfo:{description:"The sort in the popupInfo for the parent feature. This impacts the sorting order for the returned child records.",title:"IRelatedRecordsInfo",type:"object",properties:{orderByFields:{description:"Array of orderByFields objects indicating the field display order for the related records and whether they should be sorted in ascending 'asc' or descending 'desc' order.",type:"array",items:{$ref:"#/definitions/IOrderByField"},title:"orderByFields"},showRelatedRecords:{description:"Required boolean value indicating whether to display related records. If true, client should let the user navigate to the related records. Defaults to true if the layer participates in a relationship AND the related layer/table has already been added to the map (either as an operationalLayer or as a table).",type:"boolean",title:"showRelatedRecords"}},required:["showRelatedRecords"]},IOrderByField:{description:"Object indicating the field display order for the related records and whether they should be sorted in ascending or descending order.",title:"IOrderByField",type:"object",properties:{field:{description:"The attribute value of the field selected that will drive the sorting of related records.",type:"string",title:"field"},order:{description:"Set the ascending or descending sort order of the returned related records.",enum:["asc","desc"],type:"string",title:"order"}}},ITextSymbol:{title:"ITextSymbol",type:"object",properties:{type:{type:"string",enum:["esriTS"],title:"type"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},backgroundColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"backgroundColor"},borderLineSize:{type:"number",title:"borderLineSize"},borderLineColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"borderLineColor"},haloSize:{type:"number",title:"haloSize"},haloColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"haloColor"},verticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"verticalAlignment"},horizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"horizontalAlignment"},rightToLeft:{type:"boolean",title:"rightToLeft"},kerning:{type:"boolean",title:"kerning"},font:{$ref:"#/definitions/IFont",title:"font"},text:{type:"string",title:"text"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"},style:{type:"string",title:"style"}},required:["type"]},IFont:{title:"IFont",type:"object",properties:{family:{type:"string",title:"family"},size:{type:"number",title:"size"},style:{enum:["italic","normal","oblique"],type:"string",title:"style"},weight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"weight"},decoration:{enum:["line-through","none","underline"],type:"string",title:"decoration"}}},ISimpleLineSymbol:{title:"ISimpleLineSymbol",type:"object",properties:{type:{type:"string",enum:["esriSLS"],title:"type"},style:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},width:{type:"number",title:"width"}},required:["type"]},"Intl.NumberFormatOptions":{title:"Intl.NumberFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},style:{type:"string",title:"style"},currency:{type:"string",title:"currency"},currencySign:{type:"string",title:"currencySign"},useGrouping:{type:"boolean",title:"useGrouping"},minimumIntegerDigits:{type:"number",title:"minimumIntegerDigits"},minimumFractionDigits:{type:"number",title:"minimumFractionDigits"},maximumFractionDigits:{type:"number",title:"maximumFractionDigits"},minimumSignificantDigits:{type:"number",title:"minimumSignificantDigits"},maximumSignificantDigits:{type:"number",title:"maximumSignificantDigits"},compactDisplay:{enum:["long","short"],type:"string",title:"compactDisplay"},notation:{enum:["compact","engineering","scientific","standard"],type:"string",title:"notation"},signDisplay:{enum:["always","auto","exceptZero","never"],type:"string",title:"signDisplay"},unit:{type:"string",title:"unit"},unitDisplay:{enum:["long","narrow","short"],type:"string",title:"unitDisplay"},currencyDisplay:{type:"string",title:"currencyDisplay"}}},ISimpleFillSymbol:{title:"ISimpleFillSymbol",type:"object",properties:{type:{type:"string",enum:["esriSFS"],title:"type"},style:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"}},required:["type"]},DateTimeFormatOptions:{description:"Defines how the DateTime axis data should be formatted.",title:"DateTimeFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is "date". It can help us to differentiate date-time axis from other types of axes viz., numeric (value) axis and category axis.',type:"string",enum:["date"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.DateTimeFormatOptions",description:"Represent the JS native [Intl.DateTimeFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormatt), which is based on [CLDR](http://cldr.unicode.org/translation/date-time-1/date-time-patterns) specifications.",title:"intlOptions"}},required:["intlOptions","type"]},"Intl.DateTimeFormatOptions":{title:"Intl.DateTimeFormatOptions",type:"object",properties:{localeMatcher:{enum:["best fit","lookup"],type:"string",title:"localeMatcher"},weekday:{enum:["long","narrow","short"],type:"string",title:"weekday"},era:{enum:["long","narrow","short"],type:"string",title:"era"},year:{enum:["2-digit","numeric"],type:"string",title:"year"},month:{enum:["2-digit","long","narrow","numeric","short"],type:"string",title:"month"},day:{enum:["2-digit","numeric"],type:"string",title:"day"},hour:{enum:["2-digit","numeric"],type:"string",title:"hour"},minute:{enum:["2-digit","numeric"],type:"string",title:"minute"},second:{enum:["2-digit","numeric"],type:"string",title:"second"},timeZoneName:{enum:["long","longGeneric","longOffset","short","shortGeneric","shortOffset"],type:"string",title:"timeZoneName"},formatMatcher:{enum:["basic","best fit"],type:"string",title:"formatMatcher"},hour12:{type:"boolean",title:"hour12"},timeZone:{type:"string",title:"timeZone"},calendar:{type:"string",title:"calendar"},dayPeriod:{enum:["long","narrow","short"],type:"string",title:"dayPeriod"},numberingSystem:{type:"string",title:"numberingSystem"},dateStyle:{enum:["full","long","medium","short"],type:"string",title:"dateStyle"},timeStyle:{enum:["full","long","medium","short"],type:"string",title:"timeStyle"},hourCycle:{enum:["h11","h12","h23","h24"],type:"string",title:"hourCycle"}}},IPoint:{description:'A simple point geometry, with spatial reference defined.\n\n`IPoint` can also be imported from the following packages:\n\n```js\nimport { IPoint } from "@esri/arcgis-rest-routing";\nimport { IPoint } from "@esri/arcgis-rest-geocoding";\n```',title:"IPoint",type:"object",properties:{x:{type:"number",title:"x"},y:{type:"number",title:"y"},z:{type:"number",title:"z"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["x","y"]},IPolyline:{title:"IPolyline",type:"object",properties:{paths:{type:"array",items:{type:"array",items:{$ref:"#/definitions/Position"}},title:"paths"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["paths"]},Position:{title:"Position",anyOf:[{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4}]},IPolygon:{title:"IPolygon",type:"object",properties:{rings:{type:"array",items:{type:"array",items:{$ref:"#/definitions/Position"}},title:"rings"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["rings"]},IPolygonWithCurves:{title:"IPolygonWithCurves",type:"object",properties:{curveRings:{type:"array",items:{type:"array",items:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/ICircularArc"},{$ref:"#/definitions/IArc"},{$ref:"#/definitions/IOldCircularArc"},{$ref:"#/definitions/IBezierCurve"}]}},title:"curveRings"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["curveRings"]},ICircularArc:{description:"a circular arc can be represented as a JSON curve object",title:"ICircularArc",type:"object",properties:{c:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2}],minItems:2,maxItems:2,title:"c"}},required:["c"]},IArc:{description:"an arc can be represented as a JSON curve object",title:"IArc",type:"object",properties:{a:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:7,maxItems:7,title:"a"}},required:["a"]},IOldCircularArc:{title:"IOldCircularArc",type:"object",properties:{a:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"a"}},required:["a"]},IBezierCurve:{description:"a bezier curve can be represented as a JSON curve object",title:"IBezierCurve",type:"object",properties:{b:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2}],minItems:3,maxItems:3,title:"b"}},required:["b"]},IEnvelope:{description:"An envelope is a rectangle defined by a range of values for each coordinate and attribute.",title:"IEnvelope",type:"object",properties:{xmin:{type:"number",title:"xmin"},xmax:{type:"number",title:"xmax"},ymin:{type:"number",title:"ymin"},ymax:{type:"number",title:"ymax"},zmin:{type:"number",title:"zmin"},zmax:{type:"number",title:"zmax"},mmin:{type:"number",title:"mmin"},mmax:{type:"number",title:"mmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["xmax","xmin","ymax","ymin"]},ISimpleMarkerSymbol:{title:"ISimpleMarkerSymbol",type:"object",properties:{type:{type:"string",enum:["esriSMS"],title:"type"},style:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},size:{type:"number",title:"size"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"}},required:["type"]}},$ref:"#/definitions/WebChart"};var YZ={exports:{}};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */!function(e){function t(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,n=1;n<i;++n)t[n]=t[n].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function r(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function s(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}function o(e,t){var r=e;if(t)for(var i in t)r[i]=t[i];return r}function a(e){var i="[A-Za-z]",n="[0-9]",s=t(n,"[A-Fa-f]"),o=r(r("%[EFef]"+s+"%"+s+s+"%"+s+s)+"|"+r("%[89A-Fa-f]"+s+"%"+s+s)+"|"+r("%"+s+s)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),u=e?"[\\uE000-\\uF8FF]":"[]",c=t(i,n,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");r(i+t(i,n,"[\\+\\-\\.]")+"*"),r(r(o+"|"+t(c,a,"[\\:]"))+"*");var d=r(r("25[0-5]")+"|"+r("2[0-4]"+n)+"|"+r("1"+n+n)+"|"+r("0?[1-9]"+n)+"|0?0?"+n),h=r(d+"\\."+d+"\\."+d+"\\."+d),f=r(s+"{1,4}"),p=r(r(f+"\\:"+f)+"|"+h),y=r(r(f+"\\:")+"{6}"+p),m=r("\\:\\:"+r(f+"\\:")+"{5}"+p),v=r(r(f)+"?\\:\\:"+r(f+"\\:")+"{4}"+p),g=r(r(r(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+r(f+"\\:")+"{3}"+p),b=r(r(r(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+r(f+"\\:")+"{2}"+p),w=r(r(r(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+p),S=r(r(r(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+p),x=r(r(r(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),j=r(r(r(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),T=r([y,m,v,g,b,w,S,x,j].join("|")),I=r(r(c+"|"+o)+"+");r("[vV]"+s+"+\\."+t(c,a,"[\\:]")+"+"),r(r(o+"|"+t(c,a))+"*");var M=r(o+"|"+t(c,a,"[\\:\\@]"));return r(r(o+"|"+t(c,a,"[\\@]"))+"+"),r(r(M+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",i,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,a),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,l),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+T+")"+r(r("\\%25|\\%(?!"+s+"{2})")+"("+I+")")+"?\\]?$")}}var l=a(!1),u=a(!0),c=function(){function e(e,t){var r=[],i=!0,n=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(i=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){n=!0,s=e}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},h=2147483647,f=36,p=1,y=26,m=38,v=700,g=72,b=128,w="-",S=/^xn--/,x=/[^\0-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=f-p,M=Math.floor,E=String.fromCharCode;function F(e){throw new RangeError(T[e])}function k(e,t){for(var r=[],i=e.length;i--;)r[i]=t(e[i]);return r}function A(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+k((e=e.replace(j,".")).split("."),t).join(".")}function C(e){for(var t=[],r=0,i=e.length;r<i;){var n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){var s=e.charCodeAt(r++);56320==(64512&s)?t.push(((1023&n)<<10)+(1023&s)+65536):(t.push(n),r--)}else t.push(n)}return t}var O=function(e){return String.fromCodePoint.apply(String,d(e))},P=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:f},D=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},R=function(e,t,r){var i=0;for(e=r?M(e/v):e>>1,e+=M(e/t);e>I*y>>1;i+=f)e=M(e/I);return M(i+(I+1)*e/(e+m))},N=function(e){var t=[],r=e.length,i=0,n=b,s=g,o=e.lastIndexOf(w);o<0&&(o=0);for(var a=0;a<o;++a)e.charCodeAt(a)>=128&&F("not-basic"),t.push(e.charCodeAt(a));for(var l=o>0?o+1:0;l<r;){for(var u=i,c=1,d=f;;d+=f){l>=r&&F("invalid-input");var m=P(e.charCodeAt(l++));(m>=f||m>M((h-i)/c))&&F("overflow"),i+=m*c;var v=d<=s?p:d>=s+y?y:d-s;if(m<v)break;var S=f-v;c>M(h/S)&&F("overflow"),c*=S}var x=t.length+1;s=R(i-u,x,0==u),M(i/x)>h-n&&F("overflow"),n+=M(i/x),i%=x,t.splice(i++,0,n)}return String.fromCodePoint.apply(String,t)},$=function(e){var t=[],r=(e=C(e)).length,i=b,n=0,s=g,o=!0,a=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var d=u.value;d<128&&t.push(E(d))}}catch(e){a=!0,l=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw l}}var m=t.length,v=m;for(m&&t.push(w);v<r;){var S=h,x=!0,j=!1,T=void 0;try{for(var I,k=e[Symbol.iterator]();!(x=(I=k.next()).done);x=!0){var A=I.value;A>=i&&A<S&&(S=A)}}catch(e){j=!0,T=e}finally{try{!x&&k.return&&k.return()}finally{if(j)throw T}}var O=v+1;S-i>M((h-n)/O)&&F("overflow"),n+=(S-i)*O,i=S;var P=!0,N=!1,$=void 0;try{for(var L,_=e[Symbol.iterator]();!(P=(L=_.next()).done);P=!0){var q=L.value;if(q<i&&++n>h&&F("overflow"),q==i){for(var V=n,z=f;;z+=f){var W=z<=s?p:z>=s+y?y:z-s;if(V<W)break;var U=V-W,G=f-W;t.push(E(D(W+U%G,0))),V=M(U/G)}t.push(E(D(V,0))),s=R(n,O,v==m),n=0,++v}}}catch(e){N=!0,$=e}finally{try{!P&&_.return&&_.return()}finally{if(N)throw $}}++n,++i}return t.join("")},L=function(e){return A(e,(function(e){return S.test(e)?N(e.slice(4).toLowerCase()):e}))},_=function(e){return A(e,(function(e){return x.test(e)?"xn--"+$(e):e}))},q={version:"2.1.0",ucs2:{decode:C,encode:O},decode:N,encode:$,toASCII:_,toUnicode:L},V={};function z(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function W(e){for(var t="",r=0,i=e.length;r<i;){var n=parseInt(e.substr(r+1,2),16);if(n<128)t+=String.fromCharCode(n),r+=3;else if(n>=194&&n<224){if(i-r>=6){var s=parseInt(e.substr(r+4,2),16);t+=String.fromCharCode((31&n)<<6|63&s)}else t+=e.substr(r,6);r+=6}else if(n>=224){if(i-r>=9){var o=parseInt(e.substr(r+4,2),16),a=parseInt(e.substr(r+7,2),16);t+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a)}else t+=e.substr(r,9);r+=9}else t+=e.substr(r,3),r+=3}return t}function U(e,t){function r(e){var r=W(e);return r.match(t.UNRESERVED)?r:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,r).replace(t.NOT_USERINFO,z).replace(t.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,r).toLowerCase().replace(t.NOT_HOST,z).replace(t.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,r).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,z).replace(t.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,r).replace(t.NOT_QUERY,z).replace(t.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,r).replace(t.NOT_FRAGMENT,z).replace(t.PCT_ENCODED,n)),e}function G(e){return e.replace(/^0*(.*)/,"$1")||"0"}function B(e,t){var r=e.match(t.IPV4ADDRESS)||[],i=c(r,2)[1];return i?i.split(".").map(G).join("."):e}function H(e,t){var r=e.match(t.IPV6ADDRESS)||[],i=c(r,3),n=i[1],s=i[2];if(n){for(var o=n.toLowerCase().split("::").reverse(),a=c(o,2),l=a[0],u=a[1],d=u?u.split(":").map(G):[],h=l.split(":").map(G),f=t.IPV4ADDRESS.test(h[h.length-1]),p=f?7:8,y=h.length-p,m=Array(p),v=0;v<p;++v)m[v]=d[v]||h[y+v]||"";f&&(m[p-1]=B(m[p-1],t));var g=m.reduce((function(e,t,r){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===r?i.length++:e.push({index:r,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(g&&g.length>1){var w=m.slice(0,g.index),S=m.slice(g.index+g.length);b=w.join(":")+"::"+S.join(":")}else b=m.join(":");return s&&(b+="%"+s),b}return e}var J=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z=void 0==="".match(/(){0}/)[1];function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=!1!==t.iri?u:l;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var n=e.match(J);if(n){Z?(r.scheme=n[1],r.userinfo=n[3],r.host=n[4],r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=n[7],r.fragment=n[8],isNaN(r.port)&&(r.port=n[5])):(r.scheme=n[1]||void 0,r.userinfo=-1!==e.indexOf("@")?n[3]:void 0,r.host=-1!==e.indexOf("//")?n[4]:void 0,r.port=parseInt(n[5],10),r.path=n[6]||"",r.query=-1!==e.indexOf("?")?n[7]:void 0,r.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(r.port)&&(r.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),r.host&&(r.host=H(B(r.host,i),i)),void 0!==r.scheme||void 0!==r.userinfo||void 0!==r.host||void 0!==r.port||r.path||void 0!==r.query?void 0===r.scheme?r.reference="relative":void 0===r.fragment?r.reference="absolute":r.reference="uri":r.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==r.reference&&(r.error=r.error||"URI is not a "+t.reference+" reference.");var s=V[(t.scheme||r.scheme||"").toLowerCase()];if(t.unicodeSupport||s&&s.unicodeSupport)U(r,i);else{if(r.host&&(t.domainHost||s&&s.domainHost))try{r.host=q.toASCII(r.host.replace(i.PCT_ENCODED,W).toLowerCase())}catch(e){r.error=r.error||"Host's domain name can not be converted to ASCII via punycode: "+e}U(r,l)}s&&s.parse&&s.parse(r,t)}else r.error=r.error||"URI can not be parsed.";return r}function K(e,t){var r=!1!==t.iri?u:l,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(H(B(String(e.host),r),r).replace(r.IPV6ADDRESS,(function(e,t,r){return"["+t+(r?"%25"+r:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var Y=/^\.\.?\//,X=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function re(e){for(var t=[];e.length;)if(e.match(Y))e=e.replace(Y,"");else if(e.match(X))e=e.replace(X,"/");else if(e.match(ee))e=e.replace(ee,"/"),t.pop();else if("."===e||".."===e)e="";else{var r=e.match(te);if(!r)throw new Error("Unexpected dot segment condition");var i=r[0];e=e.slice(i.length),t.push(i)}return t.join("")}function ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.iri?u:l,i=[],n=V[(t.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,t),e.host)if(r.IPV6ADDRESS.test(e.host));else if(t.domainHost||n&&n.domainHost)try{e.host=t.iri?q.toUnicode(e.host):q.toASCII(e.host.replace(r.PCT_ENCODED,W).toLowerCase())}catch(r){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+r}U(e,r),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var s=K(e,t);if(void 0!==s&&("suffix"!==t.reference&&i.push("//"),i.push(s),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var o=e.path;t.absolutePath||n&&n.absolutePath||(o=re(o)),void 0===s&&(o=o.replace(/^\/\//,"/%2F")),i.push(o)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function ne(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={};return arguments[3]||(e=Q(ie(e,r),r),t=Q(ie(t,r),r)),!(r=r||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=re(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=re(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=re(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function se(e,t,r){var i=o({scheme:"null"},r);return ie(ne(Q(e,i),Q(t,i),i,!0),i)}function oe(e,t){return"string"==typeof e?e=ie(Q(e,t),t):"object"===i(e)&&(e=Q(ie(e,t),t)),e}function ae(e,t,r){return"string"==typeof e?e=ie(Q(e,r),r):"object"===i(e)&&(e=ie(e,r)),"string"==typeof t?t=ie(Q(t,r),r):"object"===i(t)&&(t=ie(t,r)),e===t}function le(e,t){return e&&e.toString().replace(t&&t.iri?u.ESCAPE:l.ESCAPE,z)}function ue(e,t){return e&&e.toString().replace(t&&t.iri?u.PCT_ENCODED:l.PCT_ENCODED,W)}var ce={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var r="https"===String(e.scheme).toLowerCase();return e.port!==(r?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},de={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function he(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var fe={scheme:"ws",domainHost:!0,parse:function(e,t){var r=e;return r.secure=he(r),r.resourceName=(r.path||"/")+(r.query?"?"+r.query:""),r.path=void 0,r.query=void 0,r},serialize:function(e,t){if(e.port!==(he(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var r=e.resourceName.split("?"),i=c(r,2),n=i[0],s=i[1];e.path=n&&"/"!==n?n:void 0,e.query=s,e.resourceName=void 0}return e.fragment=void 0,e}},pe={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},ye={},me="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ve="[0-9A-Fa-f]",ge=r(r("%[EFef]"+ve+"%"+ve+ve+"%"+ve+ve)+"|"+r("%[89A-Fa-f]"+ve+"%"+ve+ve)+"|"+r("%"+ve+ve)),be="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",we=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Se="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",xe=new RegExp(me,"g"),je=new RegExp(ge,"g"),Te=new RegExp(t("[^]",be,"[\\.]",'[\\"]',we),"g"),Ie=new RegExp(t("[^]",me,Se),"g"),Me=Ie;function Ee(e){var t=W(e);return t.match(xe)?t:e}var Fe={scheme:"mailto",parse:function(e,t){var r=e,i=r.to=r.path?r.path.split(","):[];if(r.path=void 0,r.query){for(var n=!1,s={},o=r.query.split("&"),a=0,l=o.length;a<l;++a){var u=o[a].split("=");switch(u[0]){case"to":for(var c=u[1].split(","),d=0,h=c.length;d<h;++d)i.push(c[d]);break;case"subject":r.subject=ue(u[1],t);break;case"body":r.body=ue(u[1],t);break;default:n=!0,s[ue(u[0],t)]=ue(u[1],t)}}n&&(r.headers=s)}r.query=void 0;for(var f=0,p=i.length;f<p;++f){var y=i[f].split("@");if(y[0]=ue(y[0]),t.unicodeSupport)y[1]=ue(y[1],t).toLowerCase();else try{y[1]=q.toASCII(ue(y[1],t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}i[f]=y.join("@")}return r},serialize:function(e,t){var r=e,i=s(e.to);if(i){for(var o=0,a=i.length;o<a;++o){var l=String(i[o]),u=l.lastIndexOf("@"),c=l.slice(0,u).replace(je,Ee).replace(je,n).replace(Te,z),d=l.slice(u+1);try{d=t.iri?q.toUnicode(d):q.toASCII(ue(d,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}i[o]=c+"@"+d}r.path=i.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var f=[];for(var p in h)h[p]!==ye[p]&&f.push(p.replace(je,Ee).replace(je,n).replace(Ie,z)+"="+h[p].replace(je,Ee).replace(je,n).replace(Me,z));return f.length&&(r.query=f.join("&")),r}},ke=/^([^\:]+)\:(.*)/,Ae={scheme:"urn",parse:function(e,t){var r=e.path&&e.path.match(ke),i=e;if(r){var n=t.scheme||i.scheme||"urn",s=r[1].toLowerCase(),o=r[2],a=n+":"+(t.nid||s),l=V[a];i.nid=s,i.nss=o,i.path=void 0,l&&(i=l.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var r=t.scheme||e.scheme||"urn",i=e.nid,n=r+":"+(t.nid||i),s=V[n];s&&(e=s.serialize(e,t));var o=e,a=e.nss;return o.path=(i||t.nid)+":"+a,o}},Ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Oe={scheme:"urn:uuid",parse:function(e,t){var r=e;return r.uuid=r.nss,r.nss=void 0,t.tolerant||r.uuid&&r.uuid.match(Ce)||(r.error=r.error||"UUID is not valid."),r},serialize:function(e,t){var r=e;return r.nss=(e.uuid||"").toLowerCase(),r}};V[ce.scheme]=ce,V[de.scheme]=de,V[fe.scheme]=fe,V[pe.scheme]=pe,V[Fe.scheme]=Fe,V[Ae.scheme]=Ae,V[Oe.scheme]=Oe,e.SCHEMES=V,e.pctEncChar=z,e.pctDecChars=W,e.parse=Q,e.removeDotSegments=re,e.serialize=ie,e.resolveComponents=ne,e.resolve=se,e.normalize=oe,e.equal=ae,e.escapeComponent=le,e.unescapeComponent=ue,Object.defineProperty(e,"__esModule",{value:!0})}(YZ.exports);var XZ=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(t)){if((i=t.length)!=r.length)return!1;for(n=i;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((i=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=i;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;0!=n--;){var o=s[n];if(!e(t[o],r[o]))return!1}return!0}return t!=t&&r!=r},eQ={copy:function(e,t){for(var r in t=t||{},e)t[r]=e[r];return t},checkDataType:tQ,checkDataTypes:function(e,t,r){if(1===e.length)return tQ(e[0],t,r,!0);var i="",n=iQ(e);for(var s in n.array&&n.object&&(i=n.null?"(":"(!"+t+" || ",i+="typeof "+t+' !== "object")',delete n.null,delete n.array,delete n.object),n.number&&delete n.integer,n)i+=(i?" && ":"")+tQ(s,t,r,!0);return i},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++){var n=t[i];(rQ[n]||"array"===e&&"array"===n)&&(r[r.length]=n)}if(r.length)return r}else{if(rQ[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:iQ,getProperty:oQ,escapeQuotes:aQ,equal:XZ,ucs2length:function(e){for(var t,r=0,i=e.length,n=0;n<i;)r++,(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<i&&56320==(64512&(t=e.charCodeAt(n)))&&n++;return r},varOccurences:function(e,t){t+="[^0-9]";var r=e.match(new RegExp(t,"g"));return r?r.length:0},varReplace:function(e,t,r){return t+="([^0-9])",r=r.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),r+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var r in e)if(t[r])return!0},schemaHasRulesExcept:function(e,t,r){if("boolean"==typeof e)return!e&&"not"!=r;for(var i in e)if(i!=r&&t[i])return!0},schemaUnknownRules:function(e,t){if("boolean"==typeof e)return;for(var r in e)if(!t[r])return r},toQuotedString:lQ,getPathExpr:function(e,t,r,i){return dQ(e,r?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,r){var i=lQ(r?"/"+hQ(t):oQ(t));return dQ(e,i)},getData:function(e,t,r){var i,n,s,o;if(""===e)return"rootData";if("/"==e[0]){if(!uQ.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,s="rootData"}else{if(!(o=e.match(cQ)))throw new Error("Invalid JSON-pointer: "+e);if(i=+o[1],"#"==(n=o[2])){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return r[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(s="data"+(t-i||""),!n)return s}for(var a=s,l=n.split("/"),u=0;u<l.length;u++){var c=l[u];c&&(s+=oQ(fQ(c)),a+=" && "+s)}return a},unescapeFragment:function(e){return fQ(decodeURIComponent(e))},unescapeJsonPointer:fQ,escapeFragment:function(e){return encodeURIComponent(hQ(e))},escapeJsonPointer:hQ};function tQ(e,t,r,i){var n=i?" !== ":" === ",s=i?" || ":" && ",o=i?"!":"",a=i?"":"!";switch(e){case"null":return t+n+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+s+"typeof "+t+n+'"object"'+s+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+n+'"number"'+s+a+"("+t+" % 1)"+s+t+n+t+(r?s+o+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+n+'"'+e+'"'+(r?s+o+"isFinite("+t+")":"")+")";default:return"typeof "+t+n+'"'+e+'"'}}var rQ=iQ(["string","number","integer","boolean","null"]);function iQ(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}var nQ=/^[a-z$_][a-z$_0-9]*$/i,sQ=/'|\\/g;function oQ(e){return"number"==typeof e?"["+e+"]":nQ.test(e)?"."+e:"['"+aQ(e)+"']"}function aQ(e){return e.replace(sQ,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function lQ(e){return"'"+aQ(e)+"'"}var uQ=/^\/(?:[^~]|~0|~1)*$/,cQ=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function dQ(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function hQ(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function fQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var pQ=eQ,yQ=function(e){pQ.copy(e,this)};var mQ={exports:{}},vQ=mQ.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),gQ(t,"function"==typeof(r=t.cb||r)?r:r.pre||function(){},r.post||function(){},e,"",e)};function gQ(e,t,r,i,n,s,o,a,l,u){if(i&&"object"==typeof i&&!Array.isArray(i)){for(var c in t(i,n,s,o,a,l,u),i){var d=i[c];if(Array.isArray(d)){if(c in vQ.arrayKeywords)for(var h=0;h<d.length;h++)gQ(e,t,r,d[h],n+"/"+c+"/"+h,s,n,c,i,h)}else if(c in vQ.propsKeywords){if(d&&"object"==typeof d)for(var f in d)gQ(e,t,r,d[f],n+"/"+c+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),s,n,c,i,f)}else(c in vQ.keywords||e.allKeys&&!(c in vQ.skipKeywords))&&gQ(e,t,r,d,n+"/"+c,s,n,c,i)}r(i,n,s,o,a,l,u)}}vQ.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},vQ.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},vQ.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},vQ.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var bQ=YZ.exports,wQ=XZ,SQ=eQ,xQ=yQ,jQ=mQ.exports,TQ=IQ;function IQ(e,t,r){var i=this._refs[r];if("string"==typeof i){if(!this._refs[i])return IQ.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[r])instanceof xQ)return CQ(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var n,s,o,a=MQ.call(this,t,r);return a&&(n=a.schema,t=a.root,o=a.baseId),n instanceof xQ?s=n.validate||e.call(this,n.schema,t,void 0,o):void 0!==n&&(s=CQ(n,this._opts.inlineRefs)?n:e.call(this,n,t,void 0,o)),s}function MQ(e,t){var r=bQ.parse(t),i=RQ(r),n=DQ(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==n){var s=$Q(i),o=this._refs[s];if("string"==typeof o)return EQ.call(this,e,o,r);if(o instanceof xQ)o.validate||this._compile(o),e=o;else{if(!((o=this._schemas[s])instanceof xQ))return;if(o.validate||this._compile(o),s==$Q(t))return{schema:o,root:e,baseId:n};e=o}if(!e.schema)return;n=DQ(this._getId(e.schema))}return kQ.call(this,r,n,e.schema,e)}function EQ(e,t,r){var i=MQ.call(this,e,t);if(i){var n=i.schema,s=i.baseId;e=i.root;var o=this._getId(n);return o&&(s=LQ(s,o)),kQ.call(this,r,s,n,e)}}IQ.normalizeId=$Q,IQ.fullPath=DQ,IQ.url=LQ,IQ.ids=function(e){var t=$Q(this._getId(e)),r={"":t},i={"":DQ(t,!1)},n={},s=this;return jQ(e,{allKeys:!0},(function(e,t,o,a,l,u,c){if(""!==t){var d=s._getId(e),h=r[a],f=i[a]+"/"+l;if(void 0!==c&&(f+="/"+("number"==typeof c?c:SQ.escapeFragment(c))),"string"==typeof d){d=h=$Q(h?bQ.resolve(h,d):d);var p=s._refs[d];if("string"==typeof p&&(p=s._refs[p]),p&&p.schema){if(!wQ(e,p.schema))throw new Error('id "'+d+'" resolves to more than one schema')}else if(d!=$Q(f))if("#"==d[0]){if(n[d]&&!wQ(e,n[d]))throw new Error('id "'+d+'" resolves to more than one schema');n[d]=e}else s._refs[d]=f}r[t]=h,i[t]=f}})),n},IQ.inlineRef=CQ,IQ.schema=MQ;var FQ=SQ.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function kQ(e,t,r,i){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var n=e.fragment.split("/"),s=1;s<n.length;s++){var o=n[s];if(o){if(void 0===(r=r[o=SQ.unescapeFragment(o)]))break;var a;if(!FQ[o]&&((a=this._getId(r))&&(t=LQ(t,a)),r.$ref)){var l=LQ(t,r.$ref),u=MQ.call(this,i,l);u&&(r=u.schema,i=u.root,t=u.baseId)}}}return void 0!==r&&r!==i.schema?{schema:r,root:i,baseId:t}:void 0}}var AQ=SQ.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function CQ(e,t){return!1!==t&&(void 0===t||!0===t?OQ(e):t?PQ(e)<=t:void 0)}function OQ(e){var t;if(Array.isArray(e)){for(var r=0;r<e.length;r++)if("object"==typeof(t=e[r])&&!OQ(t))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(t=e[i])&&!OQ(t))return!1}return!0}function PQ(e){var t,r=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(t=e[i])&&(r+=PQ(t)),r==1/0)return 1/0}else for(var n in e){if("$ref"==n)return 1/0;if(AQ[n])r++;else if("object"==typeof(t=e[n])&&(r+=PQ(t)+1),r==1/0)return 1/0}return r}function DQ(e,t){return!1!==t&&(e=$Q(e)),RQ(bQ.parse(e))}function RQ(e){return bQ.serialize(e).split("#")[0]+"#"}var NQ=/#\/?$/;function $Q(e){return e?e.replace(NQ,""):""}function LQ(e,t){return t=$Q(t),bQ.resolve(e,t)}var _Q=TQ,qQ={Validation:zQ((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:zQ(VQ)};function VQ(e,t,r){this.message=r||VQ.message(e,t),this.missingRef=_Q.url(e,t),this.missingSchema=_Q.normalizeId(_Q.fullPath(this.missingRef))}function zQ(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}VQ.message=function(e,t){return"can't resolve reference "+t+" from id "+e};var WQ=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r,i="boolean"==typeof t.cycles&&t.cycles,n=t.cmp&&(r=t.cmp,function(e){return function(t,i){var n={key:t,value:e[t]},s={key:i,value:e[i]};return r(n,s)}}),s=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var r,o;if(Array.isArray(t)){for(o="[",r=0;r<t.length;r++)r&&(o+=","),o+=e(t[r])||"null";return o+"]"}if(null===t)return"null";if(-1!==s.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var a=s.push(t)-1,l=Object.keys(t).sort(n&&n(t));for(o="",r=0;r<l.length;r++){var u=l[r],c=e(t[u]);c&&(o&&(o+=","),o+=JSON.stringify(u)+":"+c)}return s.splice(a,1),"{"+o+"}"}}(e)},UQ=function(e,t,r){var i="",n=!0===e.schema.$async,s=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var a=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(a){var l="unknown keyword: "+a;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l)}}if(e.isTop&&(i+=" var validate = ",n&&(e.async=!0,i+="async "),i+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(i+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!s&&!e.schema.$ref){t="false schema";var u=e.level,c=e.dataLevel,d=e.schema[t],h=e.schemaPath+e.util.getProperty(t),f=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,y="data"+(c||""),m="valid"+u;if(!1===e.schema){e.isTop?p=!0:i+=" var "+m+" = false; ",(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'boolean schema is false' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),i+=" } "):i+=" {} ";var v=i;i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i+=n?" return data; ":" validate.errors = null; return true; ":i+=" var "+m+" = true; ";return e.isTop&&(i+=" }; return validate; "),i}if(e.isTop){var g=e.isTop;u=e.level=0,c=e.dataLevel=0,y="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}i+=" var vErrors = null; ",i+=" var errors = 0;     ",i+=" if (rootData === undefined) rootData = data; "}else{u=e.level,y="data"+((c=e.dataLevel)||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),n&&!e.async)throw new Error("async schema in sync schema");i+=" var errs_"+u+" = errors;"}m="valid"+u,p=!e.opts.allErrors;var w="",S="",x=e.schema.type,j=Array.isArray(x);if(x&&e.opts.nullable&&!0===e.schema.nullable&&(j?-1==x.indexOf("null")&&(x=x.concat("null")):"null"!=x&&(x=[x,"null"],j=!0)),j&&1==x.length&&(x=x[0],j=!1),e.schema.$ref&&s){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(s=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(i+=" "+e.RULES.all.$comment.code(e,"$comment")),x){if(e.opts.coerceTypes)var T=e.util.coerceToTypes(e.opts.coerceTypes,x);var I=e.RULES.types[x];if(T||j||!0===I||I&&!K(I)){h=e.schemaPath+".type",f=e.errSchemaPath+"/type",h=e.schemaPath+".type",f=e.errSchemaPath+"/type";var M=j?"checkDataTypes":"checkDataType";if(i+=" if ("+e.util[M](x,y,e.opts.strictNumbers,!0)+") { ",T){var E="dataType"+u,F="coerced"+u;i+=" var "+E+" = typeof "+y+"; var "+F+" = undefined; ","array"==e.opts.coerceTypes&&(i+=" if ("+E+" == 'object' && Array.isArray("+y+") && "+y+".length == 1) { "+y+" = "+y+"[0]; "+E+" = typeof "+y+"; if ("+e.util.checkDataType(e.schema.type,y,e.opts.strictNumbers)+") "+F+" = "+y+"; } "),i+=" if ("+F+" !== undefined) ; ";var k=T;if(k)for(var A,C=-1,O=k.length-1;C<O;)"string"==(A=k[C+=1])?i+=" else if ("+E+" == 'number' || "+E+" == 'boolean') "+F+" = '' + "+y+"; else if ("+y+" === null) "+F+" = ''; ":"number"==A||"integer"==A?(i+=" else if ("+E+" == 'boolean' || "+y+" === null || ("+E+" == 'string' && "+y+" && "+y+" == +"+y+" ","integer"==A&&(i+=" && !("+y+" % 1)"),i+=")) "+F+" = +"+y+"; "):"boolean"==A?i+=" else if ("+y+" === 'false' || "+y+" === 0 || "+y+" === null) "+F+" = false; else if ("+y+" === 'true' || "+y+" === 1) "+F+" = true; ":"null"==A?i+=" else if ("+y+" === '' || "+y+" === 0 || "+y+" === false) "+F+" = null; ":"array"==e.opts.coerceTypes&&"array"==A&&(i+=" else if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+y+" == null) "+F+" = ["+y+"]; ");i+=" else {   ",(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=j?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=j?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),i+=" } "):i+=" {} ";v=i;i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } if ("+F+" !== undefined) {  ";var P=c?"data"+(c-1||""):"parentData";i+=" "+y+" = "+F+"; ",c||(i+="if ("+P+" !== undefined)"),i+=" "+P+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+F+"; } "}else{(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=j?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=j?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),i+=" } "):i+=" {} ";v=i;i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}i+=" } "}}if(e.schema.$ref&&!s)i+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(i+=" } if (errors === ",i+=g?"0":"errs_"+u,i+=") { ",S+="}");else{var D=e.RULES;if(D)for(var R=-1,N=D.length-1;R<N;)if(K(I=D[R+=1])){if(I.type&&(i+=" if ("+e.util.checkDataType(I.type,y,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==I.type&&e.schema.properties){d=e.schema.properties;var $=Object.keys(d);if($)for(var L,_=-1,q=$.length-1;_<q;){if(void 0!==(W=d[L=$[_+=1]]).default){var V=y+e.util.getProperty(L);if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else i+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+V+" === null || "+V+" === '' "),i+=" ) "+V+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(W.default)+" ":i+=" "+JSON.stringify(W.default)+" ",i+="; "}}}else if("array"==I.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){C=-1;for(var W,U=z.length-1;C<U;)if(void 0!==(W=z[C+=1]).default){V=y+"["+C+"]";if(e.compositeRule){if(e.opts.strictDefaults){b="default is ignored for: "+V;if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b)}}else i+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(i+=" || "+V+" === null || "+V+" === '' "),i+=" ) "+V+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(W.default)+" ":i+=" "+JSON.stringify(W.default)+" ",i+="; "}}}var G=I.rules;if(G)for(var B,H=-1,J=G.length-1;H<J;)if(Y(B=G[H+=1])){var Z=B.code(e,B.keyword,I.type);Z&&(i+=" "+Z+" ",p&&(w+="}"))}if(p&&(i+=" "+w+" ",w=""),I.type&&(i+=" } ",x&&x===I.type&&!T)){i+=" else { ";var Q;h=e.schemaPath+".type",f=e.errSchemaPath+"/type";(Q=Q||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",i+=j?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=j?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+y+" "),i+=" } "):i+=" {} ";v=i;i=Q.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}p&&(i+=" if (errors === ",i+=g?"0":"errs_"+u,i+=") { ",S+="}")}}function K(e){for(var t=e.rules,r=0;r<t.length;r++)if(Y(t[r]))return!0}function Y(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var r=t.implements,i=0;i<r.length;i++)if(void 0!==e.schema[r[i]])return!0}(t)}return p&&(i+=" "+S+" "),g?(n?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }; return validate;"):i+=" var "+m+" = errors === errs_"+u+";",i},GQ=TQ,BQ=eQ,HQ=qQ,JQ=WQ,ZQ=UQ,QQ=BQ.ucs2length,KQ=XZ,YQ=HQ.Validation,XQ=function e(t,r,i,n){var s=this,o=this._opts,a=[void 0],l={},u=[],c={},d=[],h={},f=[];r=r||{schema:t,refVal:a,refs:l};var p=eK.call(this,t,r,n),y=this._compilations[p.index];if(p.compiling)return y.callValidate=function e(){var t=y.validate,r=t.apply(this,arguments);return e.errors=t.errors,r};var m=this._formats,v=this.RULES;try{var g=w(t,r,i,n);y.validate=g;var b=y.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,o.sourceCode&&(b.source=g.source)),g}finally{tK.call(this,t,r,n)}function w(t,i,n,c){var h=!i||i&&i.schema==t;if(i.schema!=r.schema)return e.call(s,t,i,n,c);var p,y=!0===t.$async,g=ZQ({isTop:!0,schema:t,isRoot:h,baseId:c,root:i,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:HQ.MissingRef,RULES:v,validate:ZQ,util:BQ,resolve:GQ,resolveRef:S,usePattern:T,useDefault:I,useCustomRule:M,opts:o,formats:m,logger:s.logger,self:s});g=aK(a,sK)+aK(u,iK)+aK(d,nK)+aK(f,oK)+g,o.processCode&&(g=o.processCode(g,t));try{p=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",g)(s,v,m,r,a,d,f,KQ,QQ,YQ),a[0]=p}catch(e){throw s.logger.error("Error compiling schema, function code:",g),e}return p.schema=t,p.errors=null,p.refs=l,p.refVal=a,p.root=h?p:i,y&&(p.$async=!0),!0===o.sourceCode&&(p.source={code:g,patterns:u,defaults:d}),p}function S(t,n,u){n=GQ.url(t,n);var c,d,h=l[n];if(void 0!==h)return j(c=a[h],d="refVal["+h+"]");if(!u&&r.refs){var f=r.refs[n];if(void 0!==f)return j(c=r.refVal[f],d=x(n,c))}d=x(n);var p=GQ.call(s,w,r,n);if(void 0===p){var y=i&&i[n];y&&(p=GQ.inlineRef(y,o.inlineRefs)?y:e.call(s,y,r,i,t))}if(void 0!==p)return function(e,t){var r=l[e];a[r]=t}(n,p),j(p,d);!function(e){delete l[e]}(n)}function x(e,t){var r=a.length;return a[r]=t,l[e]=r,"refVal"+r}function j(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function T(e){var t=c[e];return void 0===t&&(t=c[e]=u.length,u[t]=e),"pattern"+t}function I(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return BQ.toQuotedString(e);case"object":if(null===e)return"null";var t=JQ(e),r=h[t];return void 0===r&&(r=h[t]=d.length,d[r]=e),"default"+r}}function M(e,t,r,i){if(!1!==s._opts.validateSchema){var n=e.definition.dependencies;if(n&&!n.every((function(e){return Object.prototype.hasOwnProperty.call(r,e)})))throw new Error("parent schema must have all required keywords: "+n.join(","));var a=e.definition.validateSchema;if(a)if(!a(t)){var l="keyword schema is invalid: "+s.errorsText(a.errors);if("log"!=s._opts.validateSchema)throw new Error(l);s.logger.error(l)}}var u,c=e.definition.compile,d=e.definition.inline,h=e.definition.macro;if(c)u=c.call(s,t,r,i);else if(h)u=h.call(s,t,r,i),!1!==o.validateSchema&&s.validateSchema(u,!0);else if(d)u=d.call(s,i,e.keyword,t,r);else if(!(u=e.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var p=f.length;return f[p]=u,{code:"customRule"+p,validate:u}}};function eK(e,t,r){var i=rK.call(this,e,t,r);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:t,baseId:r},{index:i,compiling:!1})}function tK(e,t,r){var i=rK.call(this,e,t,r);i>=0&&this._compilations.splice(i,1)}function rK(e,t,r){for(var i=0;i<this._compilations.length;i++){var n=this._compilations[i];if(n.schema==e&&n.root==t&&n.baseId==r)return i}return-1}function iK(e,t){return"var pattern"+e+" = new RegExp("+BQ.toQuotedString(t[e])+");"}function nK(e){return"var default"+e+" = defaults["+e+"];"}function sK(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function oK(e){return"var customRule"+e+" = customRules["+e+"];"}function aK(e,t){if(!e.length)return"";for(var r="",i=0;i<e.length;i++)r+=t(i,e);return r}var lK={exports:{}},uK=lK.exports=function(){this._cache={}};uK.prototype.put=function(e,t){this._cache[e]=t},uK.prototype.get=function(e){return this._cache[e]},uK.prototype.del=function(e){delete this._cache[e]},uK.prototype.clear=function(){this._cache={}};var cK=eQ,dK=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,hK=[0,31,28,31,30,31,30,31,31,30,31,30,31],fK=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,pK=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,yK=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,mK=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,vK=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,gK=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,bK=/^(?:\/(?:[^~/]|~0|~1)*)*$/,wK=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,SK=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,xK=jK;function jK(e){return e="full"==e?"full":"fast",cK.copy(jK[e])}function TK(e){var t=e.match(dK);if(!t)return!1;var r=+t[1],i=+t[2],n=+t[3];return i>=1&&i<=12&&n>=1&&n<=(2==i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(r)?29:hK[i])}function IK(e,t){var r=e.match(fK);if(!r)return!1;var i=r[1],n=r[2],s=r[3],o=r[5];return(i<=23&&n<=59&&s<=59||23==i&&59==n&&60==s)&&(!t||o)}jK.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":mK,url:vK,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:pK,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:kK,uuid:gK,"json-pointer":bK,"json-pointer-uri-fragment":wK,"relative-json-pointer":SK},jK.full={date:TK,time:IK,"date-time":function(e){var t=e.split(MK);return 2==t.length&&TK(t[0])&&IK(t[1],!0)},uri:function(e){return EK.test(e)&&yK.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":mK,url:vK,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:pK,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:kK,uuid:gK,"json-pointer":bK,"json-pointer-uri-fragment":wK,"relative-json-pointer":SK};var MK=/t|\s/i;var EK=/\/|:/;var FK=/[^\\]\\Z/;function kK(e){if(FK.test(e))return!1;try{return!0}catch(e){return!1}}var AK=function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a;var f="maximum"==t,p=f?"exclusiveMaximum":"exclusiveMinimum",y=e.schema[p],m=e.opts.$data&&y&&y.$data,v=f?"<":">",g=f?">":"<",b=void 0;if(!h&&"number"!=typeof a&&void 0!==a)throw new Error(t+" must be number");if(!m&&void 0!==y&&"number"!=typeof y&&"boolean"!=typeof y)throw new Error(p+" must be number or boolean");if(m){var w=e.util.getData(y.$data,o,e.dataPathArr),S="exclusive"+s,x="exclType"+s,j="exclIsNumber"+s,T="' + "+(E="op"+s)+" + '";n+=" var schemaExcl"+s+" = "+w+"; ",n+=" var "+S+"; var "+x+" = typeof "+(w="schemaExcl"+s)+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var I;b=p;(I=I||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(n+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var M=n;n=I.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),n+=" "+x+" == 'number' ? ( ("+S+" = "+i+" === undefined || "+w+" "+v+"= "+i+") ? "+d+" "+g+"= "+w+" : "+d+" "+g+" "+i+" ) : ( ("+S+" = "+w+" === true) ? "+d+" "+g+"= "+i+" : "+d+" "+g+" "+i+" ) || "+d+" !== "+d+") { var op"+s+" = "+S+" ? '"+v+"' : '"+v+"='; ",void 0===a&&(b=p,u=e.errSchemaPath+"/"+p,i=w,h=m)}else{T=v;if((j="number"==typeof y)&&h){var E="'"+T+"'";n+=" if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),n+=" ( "+i+" === undefined || "+y+" "+v+"= "+i+" ? "+d+" "+g+"= "+y+" : "+d+" "+g+" "+i+" ) || "+d+" !== "+d+") { "}else{j&&void 0===a?(S=!0,b=p,u=e.errSchemaPath+"/"+p,i=y,g+="="):(j&&(i=Math[f?"min":"max"](y,a)),y===(!j||i)?(S=!0,b=p,u=e.errSchemaPath+"/"+p,g+="="):(S=!1,T+="="));E="'"+T+"'";n+=" if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),n+=" "+d+" "+g+" "+i+" || "+d+" !== "+d+") { "}}b=b||t,(I=I||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+E+", limit: "+i+", exclusive: "+S+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be "+T+" ",n+=h?"' + "+i:i+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";M=n;return n=I.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+M+"]); ":n+=" validate.errors = ["+M+"]; return false; ":n+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { "),n},CK=function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),n+=" "+d+".length "+("maxItems"==t?">":"<")+" "+i+") { ";var f=t,p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxItems"==t?"more":"fewer",n+=" than ",n+=h?"' + "+i+" + '":""+a,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},OK=function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");var f="maxLength"==t?">":"<";n+="if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===e.opts.unicode?n+=" "+d+".length ":n+=" ucs2length("+d+") ",n+=" "+f+" "+i+") { ";var p=t,y=y||[];y.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be ",n+="maxLength"==t?"longer":"shorter",n+=" than ",n+=h?"' + "+i+" + '":""+a,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=y.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},PK=function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),n+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+i+") { ";var f=t,p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxProperties"==t?"more":"fewer",n+=" than ",n+=h?"' + "+i+" + '":""+a,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;return n=p.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},DK={$ref:function(e,t,r){var i,n,s=" ",o=e.level,a=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(a||""),h="valid"+o;if("#"==l||"#/"==l)e.isRoot?(i=e.async,n="validate"):(i=!0===e.root.schema.$async,n="root.refVal[0]");else{var f=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===f){var p=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(p),(g=g||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var y=s;s=g.pop(),!e.compositeRule&&c?e.async?s+=" throw new ValidationError(["+y+"]); ":s+=" validate.errors = ["+y+"]; return false; ":s+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,p);e.logger.warn(p),c&&(s+=" if (true) { ")}}else if(f.inline){var m=e.util.copy(e);m.level++;var v="valid"+m.level;m.schema=f.schema,m.schemaPath="",m.errSchemaPath=l,s+=" "+e.validate(m).replace(/validate\.schema/g,f.code)+" ",c&&(s+=" if ("+v+") { ")}else i=!0===f.$async||e.async&&!1!==f.$async,n=f.code}if(n){var g;(g=g||[]).push(s),s="",e.opts.passContext?s+=" "+n+".call(this, ":s+=" "+n+"( ",s+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var b=s+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(s=g.pop(),i){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(s+=" var "+h+"; "),s+=" try { await "+b+"; ",c&&(s+=" "+h+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(s+=" "+h+" = false; "),s+=" } ",c&&(s+=" if ("+h+") { ")}else s+=" if (!"+b+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s},allOf:function(e,t,r){var i=" ",n=e.schema[t],s=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var c="valid"+l.level,d=l.baseId,h=!0,f=n;if(f)for(var p,y=-1,m=f.length-1;y<m;)p=f[y+=1],(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0||!1===p:e.util.schemaHasRules(p,e.RULES.all))&&(h=!1,l.schema=p,l.schemaPath=s+"["+y+"]",l.errSchemaPath=o+"/"+y,i+="  "+e.validate(l)+" ",l.baseId=d,a&&(i+=" if ("+c+") { ",u+="}"));return a&&(i+=h?" if (true) { ":" "+u.slice(0,-1)+" "),i},anyOf:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h="errs__"+n,f=e.util.copy(e),p="";f.level++;var y="valid"+f.level,m=o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(m){var v=f.baseId;i+=" var "+h+" = errors; var "+d+" = false;  ";var g=e.compositeRule;e.compositeRule=f.compositeRule=!0;var b=o;if(b)for(var w,S=-1,x=b.length-1;S<x;)w=b[S+=1],f.schema=w,f.schemaPath=a+"["+S+"]",f.errSchemaPath=l+"/"+S,i+="  "+e.validate(f)+" ",f.baseId=v,i+=" "+d+" = "+d+" || "+y+"; if (!"+d+") { ",p+="}";e.compositeRule=f.compositeRule=g,i+=" "+p+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else u&&(i+=" if (true) { ");return i},$comment:function(e,t,r){var i=" ",n=e.schema[t],s=e.errSchemaPath+"/"+t;var o=e.util.toQuotedString(n);return!0===e.opts.$comment?i+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(i+=" self._opts.$comment("+o+", "+e.util.toQuotedString(s)+", validate.root.schema);"),i},const:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h=e.opts.$data&&o&&o.$data;h&&(i+=" var schema"+n+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; "),h||(i+=" var schema"+n+" = validate.schema"+a+";"),i+="var "+d+" = equal("+c+", schema"+n+"); if (!"+d+") {   ";var f=f||[];f.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var p=i;return i=f.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+p+"]); ":i+=" validate.errors = ["+p+"]; return false; ":i+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i},contains:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h="errs__"+n,f=e.util.copy(e);f.level++;var p="valid"+f.level,y="i"+n,m=f.dataLevel=e.dataLevel+1,v="data"+m,g=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(i+="var "+h+" = errors;var "+d+";",b){var w=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=o,f.schemaPath=a,f.errSchemaPath=l,i+=" var "+p+" = false; for (var "+y+" = 0; "+y+" < "+c+".length; "+y+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers,!0);var S=c+"["+y+"]";f.dataPathArr[m]=y;var x=e.validate(f);f.baseId=g,e.util.varOccurences(x,v)<2?i+=" "+e.util.varReplace(x,v,S)+" ":i+=" var "+v+" = "+S+"; "+x+" ",i+=" if ("+p+") break; }  ",e.compositeRule=f.compositeRule=w,i+="  if (!"+p+") {"}else i+=" if ("+c+".length == 0) {";var j=j||[];j.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var T=i;return i=j.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",b&&(i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i},dependencies:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="errs__"+n,h=e.util.copy(e),f="";h.level++;var p="valid"+h.level,y={},m={},v=e.opts.ownProperties;for(S in o)if("__proto__"!=S){var g=o[S],b=Array.isArray(g)?m:y;b[S]=g}i+="var "+d+" = errors;";var w=e.errorPath;for(var S in i+="var missing"+n+";",m)if((b=m[S]).length){if(i+=" if ( "+c+e.util.getProperty(S)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),u){i+=" && ( ";var x=b;if(x)for(var j=-1,T=x.length-1;j<T;){A=x[j+=1],j&&(i+=" || "),i+=" ( ( "+(D=c+(P=e.util.getProperty(A)))+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(A)+"') "),i+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?A:P)+") ) "}i+=")) {  ";var I="missing"+n,M="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,I,!0):w+" + "+I);var E=E||[];E.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+M+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+e.util.escapeQuotes(b[0]):i+="properties "+e.util.escapeQuotes(b.join(", ")),i+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var F=i;i=E.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+F+"]); ":i+=" validate.errors = ["+F+"]; return false; ":i+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var k=b;if(k)for(var A,C=-1,O=k.length-1;C<O;){A=k[C+=1];var P=e.util.getProperty(A),D=(M=e.util.escapeQuotes(A),c+P);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,A,e.opts.jsonPointers)),i+=" if ( "+D+" === undefined ",v&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(A)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(S)+"', missingProperty: '"+M+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==b.length?i+="property "+e.util.escapeQuotes(b[0]):i+="properties "+e.util.escapeQuotes(b.join(", ")),i+=" when property "+e.util.escapeQuotes(S)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",u&&(f+="}",i+=" else { ")}e.errorPath=w;var R=h.baseId;for(var S in y){g=y[S];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all))&&(i+=" "+p+" = true; if ( "+c+e.util.getProperty(S)+" !== undefined ",v&&(i+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),i+=") { ",h.schema=g,h.schemaPath=a+e.util.getProperty(S),h.errSchemaPath=l+"/"+e.util.escapeFragment(S),i+="  "+e.validate(h)+" ",h.baseId=R,i+=" }  ",u&&(i+=" if ("+p+") { ",f+="}"))}return u&&(i+="   "+f+" if ("+d+" == errors) {"),i},enum:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h=e.opts.$data&&o&&o.$data;h&&(i+=" var schema"+n+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var f="i"+n,p="schema"+n;h||(i+=" var "+p+" = validate.schema"+a+";"),i+="var "+d+";",h&&(i+=" if (schema"+n+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+n+")) "+d+" = false; else {"),i+=d+" = false;for (var "+f+"=0; "+f+"<"+p+".length; "+f+"++) if (equal("+c+", "+p+"["+f+"])) { "+d+" = true; break; }",h&&(i+="  }  "),i+=" if (!"+d+") {   ";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+n+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var m=i;return i=y.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+m+"]); ":i+=" validate.errors = ["+m+"]; return false; ":i+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",u&&(i+=" else { "),i},format:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||"");if(!1===e.opts.format)return u&&(i+=" if (true) { "),i;var d,h=e.opts.$data&&o&&o.$data;h?(i+=" var schema"+n+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ",d="schema"+n):d=o;var f=e.opts.unknownFormats,p=Array.isArray(f);if(h){i+=" var "+(y="format"+n)+" = formats["+d+"]; var "+(m="isObject"+n)+" = typeof "+y+" == 'object' && !("+y+" instanceof RegExp) && "+y+".validate; var "+(v="formatType"+n)+" = "+m+" && "+y+".type || 'string'; if ("+m+") { ",e.async&&(i+=" var async"+n+" = "+y+".async; "),i+=" "+y+" = "+y+".validate; } if (  ",h&&(i+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),i+=" (","ignore"!=f&&(i+=" ("+d+" && !"+y+" ",p&&(i+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),i+=") || "),i+=" ("+y+" && "+v+" == '"+r+"' && !(typeof "+y+" == 'function' ? ",e.async?i+=" (async"+n+" ? await "+y+"("+c+") : "+y+"("+c+")) ":i+=" "+y+"("+c+") ",i+=" : "+y+".test("+c+"))))) {"}else{var y;if(!(y=e.formats[o])){if("ignore"==f)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(i+=" if (true) { "),i;if(p&&f.indexOf(o)>=0)return u&&(i+=" if (true) { "),i;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,v=(m="object"==typeof y&&!(y instanceof RegExp)&&y.validate)&&y.type||"string";if(m){var g=!0===y.async;y=y.validate}if(v!=r)return u&&(i+=" if (true) { "),i;if(g){if(!e.async)throw new Error("async format in sync schema");i+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+c+"))) { "}else{i+=" if (! ";var b="formats"+e.util.getProperty(o);m&&(b+=".validate"),i+="function"==typeof y?" "+b+"("+c+") ":" "+b+".test("+c+") ",i+=") { "}}var w=w||[];w.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",i+=h?""+d:""+e.util.toQuotedString(o),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=h?"' + "+d+" + '":""+e.util.escapeQuotes(o),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+a:""+e.util.toQuotedString(o),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var S=i;return i=w.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",u&&(i+=" else { "),i},if:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h="errs__"+n,f=e.util.copy(e);f.level++;var p="valid"+f.level,y=e.schema.then,m=e.schema.else,v=void 0!==y&&(e.opts.strictKeywords?"object"==typeof y&&Object.keys(y).length>0||!1===y:e.util.schemaHasRules(y,e.RULES.all)),g=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=f.baseId;if(v||g){var w;f.createErrors=!1,f.schema=o,f.schemaPath=a,f.errSchemaPath=l,i+=" var "+h+" = errors; var "+d+" = true;  ";var S=e.compositeRule;e.compositeRule=f.compositeRule=!0,i+="  "+e.validate(f)+" ",f.baseId=b,f.createErrors=!0,i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=S,v?(i+=" if ("+p+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",i+="  "+e.validate(f)+" ",f.baseId=b,i+=" "+d+" = "+p+"; ",v&&g?i+=" var "+(w="ifClause"+n)+" = 'then'; ":w="'then'",i+=" } ",g&&(i+=" else { ")):i+=" if (!"+p+") { ",g&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",i+="  "+e.validate(f)+" ",f.baseId=b,i+=" "+d+" = "+p+"; ",v&&g?i+=" var "+(w="ifClause"+n)+" = 'else'; ":w="'else'",i+=" } "),i+=" if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+w+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match \"' + "+w+" + '\" schema' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" }   ",u&&(i+=" else { ")}else u&&(i+=" if (true) { ");return i},items:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h="errs__"+n,f=e.util.copy(e),p="";f.level++;var y="valid"+f.level,m="i"+n,v=f.dataLevel=e.dataLevel+1,g="data"+v,b=e.baseId;if(i+="var "+h+" = errors;var "+d+";",Array.isArray(o)){var w=e.schema.additionalItems;if(!1===w){i+=" "+d+" = "+c+".length <= "+o.length+"; ";var S=l;l=e.errSchemaPath+"/additionalItems",i+="  if (!"+d+") {   ";var x=x||[];x.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var j=i;i=x.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+j+"]); ":i+=" validate.errors = ["+j+"]; return false; ":i+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l=S,u&&(p+="}",i+=" else { ")}var T=o;if(T)for(var I,M=-1,E=T.length-1;M<E;)if(I=T[M+=1],e.opts.strictKeywords?"object"==typeof I&&Object.keys(I).length>0||!1===I:e.util.schemaHasRules(I,e.RULES.all)){i+=" "+y+" = true; if ("+c+".length > "+M+") { ";var F=c+"["+M+"]";f.schema=I,f.schemaPath=a+"["+M+"]",f.errSchemaPath=l+"/"+M,f.errorPath=e.util.getPathExpr(e.errorPath,M,e.opts.jsonPointers,!0),f.dataPathArr[v]=M;var k=e.validate(f);f.baseId=b,e.util.varOccurences(k,g)<2?i+=" "+e.util.varReplace(k,g,F)+" ":i+=" var "+g+" = "+F+"; "+k+" ",i+=" }  ",u&&(i+=" if ("+y+") { ",p+="}")}if("object"==typeof w&&(e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all))){f.schema=w,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+y+" = true; if ("+c+".length > "+o.length+") {  for (var "+m+" = "+o.length+"; "+m+" < "+c+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);F=c+"["+m+"]";f.dataPathArr[v]=m;k=e.validate(f);f.baseId=b,e.util.varOccurences(k,g)<2?i+=" "+e.util.varReplace(k,g,F)+" ":i+=" var "+g+" = "+F+"; "+k+" ",u&&(i+=" if (!"+y+") break; "),i+=" } }  ",u&&(i+=" if ("+y+") { ",p+="}")}}else if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){f.schema=o,f.schemaPath=a,f.errSchemaPath=l,i+="  for (var "+m+" = 0; "+m+" < "+c+".length; "+m+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);F=c+"["+m+"]";f.dataPathArr[v]=m;k=e.validate(f);f.baseId=b,e.util.varOccurences(k,g)<2?i+=" "+e.util.varReplace(k,g,F)+" ":i+=" var "+g+" = "+F+"; "+k+" ",u&&(i+=" if (!"+y+") break; "),i+=" }"}return u&&(i+=" "+p+" if ("+h+" == errors) {"),i},maximum:AK,minimum:AK,maxItems:CK,minItems:CK,maxLength:OK,minLength:OK,maxProperties:PK,minProperties:PK,multipleOf:function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;if(h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,!h&&"number"!=typeof a)throw new Error(t+" must be number");n+="var division"+s+";if (",h&&(n+=" "+i+" !== undefined && ( typeof "+i+" != 'number' || "),n+=" (division"+s+" = "+d+" / "+i+", ",e.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+s+") - division"+s+") > 1e-"+e.opts.multipleOfPrecision+" ":n+=" division"+s+" !== parseInt(division"+s+") ",n+=" ) ",h&&(n+="  )  "),n+=" ) {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=h?"' + "+i:i+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var p=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},not:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="errs__"+n,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=l,i+=" var "+d+" = errors;  ";var p,y=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(p=h.opts.allErrors,h.opts.allErrors=!1),i+=" "+e.validate(h)+" ",h.createErrors=!0,p&&(h.opts.allErrors=p),e.compositeRule=h.compositeRule=y,i+=" if ("+f+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var v=i;i=m.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+v+"]); ":i+=" validate.errors = ["+v+"]; return false; ":i+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(i+=" if (false) { ");return i},oneOf:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h="errs__"+n,f=e.util.copy(e),p="";f.level++;var y="valid"+f.level,m=f.baseId,v="prevValid"+n,g="passingSchemas"+n;i+="var "+h+" = errors , "+v+" = false , "+d+" = false , "+g+" = null; ";var b=e.compositeRule;e.compositeRule=f.compositeRule=!0;var w=o;if(w)for(var S,x=-1,j=w.length-1;x<j;)S=w[x+=1],(e.opts.strictKeywords?"object"==typeof S&&Object.keys(S).length>0||!1===S:e.util.schemaHasRules(S,e.RULES.all))?(f.schema=S,f.schemaPath=a+"["+x+"]",f.errSchemaPath=l+"/"+x,i+="  "+e.validate(f)+" ",f.baseId=m):i+=" var "+y+" = true; ",x&&(i+=" if ("+y+" && "+v+") { "+d+" = false; "+g+" = ["+g+", "+x+"]; } else { ",p+="}"),i+=" if ("+y+") { "+d+" = "+v+" = true; "+g+" = "+x+"; }";return e.compositeRule=f.compositeRule=b,i+=p+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+g+" } ",!1!==e.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i},pattern:function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h=e.opts.$data&&a&&a.$data;h?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,n+="if ( ",h&&(n+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),n+=" !"+(h?"(new RegExp("+i+"))":e.usePattern(a))+".test("+d+") ) {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",n+=h?""+i:""+e.util.toQuotedString(a),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=h?"' + "+i+" + '":""+e.util.escapeQuotes(a),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+l:""+e.util.toQuotedString(a),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var p=n;return n=f.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+p+"]); ":n+=" validate.errors = ["+p+"]; return false; ":n+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",c&&(n+=" else { "),n},properties:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="errs__"+n,h=e.util.copy(e),f="";h.level++;var p="valid"+h.level,y="key"+n,m="idx"+n,v=h.dataLevel=e.dataLevel+1,g="data"+v,b="dataProperties"+n,w=Object.keys(o||{}).filter(P),S=e.schema.patternProperties||{},x=Object.keys(S).filter(P),j=e.schema.additionalProperties,T=w.length||x.length,I=!1===j,M="object"==typeof j&&Object.keys(j).length,E=e.opts.removeAdditional,F=I||M||E,k=e.opts.ownProperties,A=e.baseId,C=e.schema.required;if(C&&(!e.opts.$data||!C.$data)&&C.length<e.opts.loopRequired)var O=e.util.toHash(C);function P(e){return"__proto__"!==e}if(i+="var "+d+" = errors;var "+p+" = true;",k&&(i+=" var "+b+" = undefined;"),F){if(i+=k?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+y+" = "+b+"["+m+"]; ":" for (var "+y+" in "+c+") { ",T){if(i+=" var isAdditional"+n+" = !(false ",w.length)if(w.length>8)i+=" || validate.schema"+a+".hasOwnProperty("+y+") ";else{var D=w;if(D)for(var R=-1,N=D.length-1;R<N;)Z=D[R+=1],i+=" || "+y+" == "+e.util.toQuotedString(Z)+" "}if(x.length){var $=x;if($)for(var L=-1,_=$.length-1;L<_;)se=$[L+=1],i+=" || "+e.usePattern(se)+".test("+y+") "}i+=" ); if (isAdditional"+n+") { "}if("all"==E)i+=" delete "+c+"["+y+"]; ";else{var q=e.errorPath,V="' + "+y+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers)),I)if(E)i+=" delete "+c+"["+y+"]; ";else{i+=" "+p+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is an invalid additional property":i+="should NOT have additional properties",i+="' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var W=i;i=re.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+W+"]); ":i+=" validate.errors = ["+W+"]; return false; ":i+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(i+=" break; ")}else if(M)if("failing"==E){i+=" var "+d+" = errors;  ";var U=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=j,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);var G=c+"["+y+"]";h.dataPathArr[v]=y;var B=e.validate(h);h.baseId=A,e.util.varOccurences(B,g)<2?i+=" "+e.util.varReplace(B,g,G)+" ":i+=" var "+g+" = "+G+"; "+B+" ",i+=" if (!"+p+") { errors = "+d+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+y+"]; }  ",e.compositeRule=h.compositeRule=U}else{h.schema=j,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);G=c+"["+y+"]";h.dataPathArr[v]=y;B=e.validate(h);h.baseId=A,e.util.varOccurences(B,g)<2?i+=" "+e.util.varReplace(B,g,G)+" ":i+=" var "+g+" = "+G+"; "+B+" ",u&&(i+=" if (!"+p+") break; ")}e.errorPath=q}T&&(i+=" } "),i+=" }  ",u&&(i+=" if ("+p+") { ",f+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(w.length){var J=w;if(J)for(var Z,Q=-1,K=J.length-1;Q<K;){var Y=o[Z=J[Q+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all)){var X=e.util.getProperty(Z),ee=(G=c+X,H&&void 0!==Y.default);h.schema=Y,h.schemaPath=a+X,h.errSchemaPath=l+"/"+e.util.escapeFragment(Z),h.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),h.dataPathArr[v]=e.util.toQuotedString(Z);B=e.validate(h);if(h.baseId=A,e.util.varOccurences(B,g)<2){B=e.util.varReplace(B,g,G);var te=G}else{te=g;i+=" var "+g+" = "+G+"; "}if(ee)i+=" "+B+" ";else{if(O&&O[Z]){i+=" if ( "+te+" === undefined ",k&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+p+" = false; ";q=e.errorPath,z=l;var re,ie=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(q,Z,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(re=re||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ie+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+ie+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";W=i;i=re.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+W+"]); ":i+=" validate.errors = ["+W+"]; return false; ":i+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=q,i+=" } else { "}else u?(i+=" if ( "+te+" === undefined ",k&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+p+" = true; } else { "):(i+=" if ("+te+" !== undefined ",k&&(i+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(Z)+"') "),i+=" ) { ");i+=" "+B+" } "}}u&&(i+=" if ("+p+") { ",f+="}")}}if(x.length){var ne=x;if(ne)for(var se,oe=-1,ae=ne.length-1;oe<ae;){Y=S[se=ne[oe+=1]];if(e.opts.strictKeywords?"object"==typeof Y&&Object.keys(Y).length>0||!1===Y:e.util.schemaHasRules(Y,e.RULES.all)){h.schema=Y,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),i+=k?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+m+"=0; "+m+"<"+b+".length; "+m+"++) { var "+y+" = "+b+"["+m+"]; ":" for (var "+y+" in "+c+") { ",i+=" if ("+e.usePattern(se)+".test("+y+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,y,e.opts.jsonPointers);G=c+"["+y+"]";h.dataPathArr[v]=y;B=e.validate(h);h.baseId=A,e.util.varOccurences(B,g)<2?i+=" "+e.util.varReplace(B,g,G)+" ":i+=" var "+g+" = "+G+"; "+B+" ",u&&(i+=" if (!"+p+") break; "),i+=" } ",u&&(i+=" else "+p+" = true; "),i+=" }  ",u&&(i+=" if ("+p+") { ",f+="}")}}}return u&&(i+=" "+f+" if ("+d+" == errors) {"),i},propertyNames:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="errs__"+n,h=e.util.copy(e);h.level++;var f="valid"+h.level;if(i+="var "+d+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=a,h.errSchemaPath=l;var p="key"+n,y="idx"+n,m="i"+n,v="' + "+p+" + '",g="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+n,w=e.opts.ownProperties,S=e.baseId;w&&(i+=" var "+b+" = undefined; "),i+=w?" "+b+" = "+b+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+b+".length; "+y+"++) { var "+p+" = "+b+"["+y+"]; ":" for (var "+p+" in "+c+") { ",i+=" var startErrs"+n+" = errors; ";var x=p,j=e.compositeRule;e.compositeRule=h.compositeRule=!0;var T=e.validate(h);h.baseId=S,e.util.varOccurences(T,g)<2?i+=" "+e.util.varReplace(T,g,x)+" ":i+=" var "+g+" = "+x+"; "+T+" ",e.compositeRule=h.compositeRule=j,i+=" if (!"+f+") { for (var "+m+"=startErrs"+n+"; "+m+"<errors; "+m+"++) { vErrors["+m+"].propertyName = "+p+"; }   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+v+"' } ",!1!==e.opts.messages&&(i+=" , message: 'property name \\'"+v+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),u&&(i+=" break; "),i+=" } }"}return u&&(i+="  if ("+d+" == errors) {"),i},required:function(e,t,r){var i=" ",n=e.level,s=e.dataLevel,o=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,c="data"+(s||""),d="valid"+n,h=e.opts.$data&&o&&o.$data;h&&(i+=" var schema"+n+" = "+e.util.getData(o.$data,s,e.dataPathArr)+"; ");var f="schema"+n;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],y=o;if(y)for(var m,v=-1,g=y.length-1;v<g;){m=y[v+=1];var b=e.schema.properties[m];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(p[p.length]=m)}}else p=o;if(h||p.length){var w=e.errorPath,S=h||p.length>=e.opts.loopRequired,x=e.opts.ownProperties;if(u)if(i+=" var missing"+n+"; ",S){h||(i+=" var "+f+" = validate.schema"+a+"; ");var j="' + "+(k="schema"+n+"["+(M="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,k,e.opts.jsonPointers)),i+=" var "+d+" = true; ",h&&(i+=" if (schema"+n+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+n+")) "+d+" = false; else {"),i+=" for (var "+M+" = 0; "+M+" < "+f+".length; "+M+"++) { "+d+" = "+c+"["+f+"["+M+"]] !== undefined ",x&&(i+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+f+"["+M+"]) "),i+="; if (!"+d+") break; } ",h&&(i+="  }  "),i+="  if (!"+d+") {   ",(F=F||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+j+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";var T=i;i=F.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var I=p;if(I)for(var M=-1,E=I.length-1;M<E;){C=I[M+=1],M&&(i+=" || "),i+=" ( ( "+(R=c+(D=e.util.getProperty(C)))+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),i+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?C:D)+") ) "}i+=") {  ";var F;j="' + "+(k="missing"+n)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(w,k,!0):w+" + "+k),(F=F||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+j+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ";T=i;i=F.pop(),!e.compositeRule&&u?e.async?i+=" throw new ValidationError(["+T+"]); ":i+=" validate.errors = ["+T+"]; return false; ":i+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(S){h||(i+=" var "+f+" = validate.schema"+a+"; ");var k;j="' + "+(k="schema"+n+"["+(M="i"+n)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(w,k,e.opts.jsonPointers)),h&&(i+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+j+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),i+=" for (var "+M+" = 0; "+M+" < "+f+".length; "+M+"++) { if ("+c+"["+f+"["+M+"]] === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+f+"["+M+"]) "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+j+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(i+="  }  ")}else{var A=p;if(A)for(var C,O=-1,P=A.length-1;O<P;){C=A[O+=1];var D=e.util.getProperty(C),R=(j=e.util.escapeQuotes(C),c+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(w,C,e.opts.jsonPointers)),i+=" if ( "+R+" === undefined ",x&&(i+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(C)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+j+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+j+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=w}else u&&(i+=" if (true) {");return i},uniqueItems:function(e,t,r){var i,n=" ",s=e.level,o=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,d="data"+(o||""),h="valid"+s,f=e.opts.$data&&a&&a.$data;if(f?(n+=" var schema"+s+" = "+e.util.getData(a.$data,o,e.dataPathArr)+"; ",i="schema"+s):i=a,(a||f)&&!1!==e.opts.uniqueItems){f&&(n+=" var "+h+"; if ("+i+" === false || "+i+" === undefined) "+h+" = true; else if (typeof "+i+" != 'boolean') "+h+" = false; else { "),n+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,y=Array.isArray(p);if(!p||"object"==p||"array"==p||y&&(p.indexOf("object")>=0||p.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var m="checkDataType"+(y?"s":"");n+=" if ("+e.util[m](p,"item",e.opts.strictNumbers,!0)+") continue; ",y&&(n+=" if (typeof item == 'string') item = '\"' + item; "),n+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+h+") {   ";var v=v||[];v.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(n+=" , schema:  ",n+=f?"validate.schema"+l:""+a,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;n=v.pop(),!e.compositeRule&&c?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",c&&(n+=" else { ")}else c&&(n+=" if (true) { ");return n},validate:UQ},RK=DK,NK=eQ.toHash,$K=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],LK=qQ.MissingRef,_K=function e(t,r,i){var n=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof r&&(i=r,r=void 0);var s=o(t).then((function(){var e=n._addSchema(t,void 0,r);return e.validate||a(e)}));i&&s.then((function(e){i(null,e)}),i);return s;function o(t){var r=t.$schema;return r&&!n.getSchema(r)?e.call(n,{$ref:r},!0):Promise.resolve()}function a(e){try{return n._compile(e)}catch(t){if(t instanceof LK)return function(t){var i=t.missingSchema;if(u(i))throw new Error("Schema "+i+" is loaded but "+t.missingRef+" cannot be resolved");var s=n._loadingSchemas[i];s||(s=n._loadingSchemas[i]=n._opts.loadSchema(i)).then(l,l);return s.then((function(e){if(!u(i))return o(e).then((function(){u(i)||n.addSchema(e,i,void 0,r)}))})).then((function(){return a(e)}));function l(){delete n._loadingSchemas[i]}function u(e){return n._refs[e]||n._schemas[e]}}(t);throw t}}};var qK={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},VK=qK,zK={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:VK.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:VK.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},WK=/^[a-z_$][a-z0-9_$-]*$/i,UK=function(e,t,r){var i,n,s=" ",o=e.level,a=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(a||""),f="valid"+o,p="errs__"+o,y=e.opts.$data&&l&&l.$data;y?(s+=" var schema"+o+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",n="schema"+o):n=l;var m,v,g,b,w,S=this,x="definition"+o,j=S.definition,T="";if(y&&j.$data){w="keywordValidate"+o;var I=j.validateSchema;s+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+w+" = "+x+".validate;"}else{if(!(b=e.useCustomRule(S,l,e.schema,e)))return;n="validate.schema"+u,w=b.code,m=j.compile,v=j.inline,g=j.macro}var M=w+".errors",E="i"+o,F="ruleErr"+o,k=j.async;if(k&&!e.async)throw new Error("async keyword in sync schema");if(v||g||(s+=M+" = null;"),s+="var "+p+" = errors;var "+f+";",y&&j.$data&&(T+="}",s+=" if ("+n+" === undefined) { "+f+" = true; } else { ",I&&(T+="}",s+=" "+f+" = "+x+".validateSchema("+n+"); if ("+f+") { ")),v)j.statements?s+=" "+b.validate+" ":s+=" "+f+" = "+b.validate+"; ";else if(g){var A=e.util.copy(e);T="";A.level++;var C="valid"+A.level;A.schema=b.validate,A.schemaPath="";var O=e.compositeRule;e.compositeRule=A.compositeRule=!0;var P=e.validate(A).replace(/validate\.schema/g,w);e.compositeRule=A.compositeRule=O,s+=" "+P}else{($=$||[]).push(s),s="",s+="  "+w+".call( ",e.opts.passContext?s+="this":s+="self",m||!1===j.schema?s+=" , "+h+" ":s+=" , "+n+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",'""'!=e.errorPath&&(s+=" + "+e.errorPath);var D=a?"data"+(a-1||""):"parentData",R=a?e.dataPathArr[a]:"parentDataProperty",N=s+=" , "+D+" , "+R+" , rootData )  ";s=$.pop(),!1===j.errors?(s+=" "+f+" = ",k&&(s+="await "),s+=N+"; "):s+=k?" var "+(M="customErrors"+o)+" = null; try { "+f+" = await "+N+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+M+" = e.errors; else throw e; } ":" "+M+" = null; "+f+" = "+N+"; "}if(j.modifying&&(s+=" if ("+D+") "+h+" = "+D+"["+R+"];"),s+=""+T,j.valid)d&&(s+=" if (true) { ");else{var $;s+=" if ( ",void 0===j.valid?(s+=" !",s+=g?""+C:""+f):s+=" "+!j.valid+" ",s+=") { ",i=S.keyword,($=$||[]).push(s),s="",($=$||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+S.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+S.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var L=s;s=$.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+L+"]); ":s+=" validate.errors = ["+L+"]; return false; ":s+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var _=s;s=$.pop(),v?j.errors?"full"!=j.errors&&(s+="  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+F+" = vErrors["+E+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+F+".schema = "+n+"; "+F+".data = "+h+"; "),s+=" } "):!1===j.errors?s+=" "+_+" ":(s+=" if ("+p+" == errors) { "+_+" } else {  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+F+" = vErrors["+E+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+F+".schemaPath === undefined) { "+F+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+F+".schema = "+n+"; "+F+".data = "+h+"; "),s+=" } } "):g?(s+="   var err =   ",!1!==e.createErrors?(s+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+S.keyword+"' } ",!1!==e.opts.messages&&(s+=" , message: 'should pass \""+S.keyword+"\" keyword validation' "),e.opts.verbose&&(s+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):!1===j.errors?s+=" "+_+" ":(s+=" if (Array.isArray("+M+")) { if (vErrors === null) vErrors = "+M+"; else vErrors = vErrors.concat("+M+"); errors = vErrors.length;  for (var "+E+"="+p+"; "+E+"<errors; "+E+"++) { var "+F+" = vErrors["+E+"]; if ("+F+".dataPath === undefined) "+F+".dataPath = (dataPath || '') + "+e.errorPath+";  "+F+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(s+=" "+F+".schema = "+n+"; "+F+".data = "+h+"; "),s+=" } } else { "+_+" } "),s+=" } ",d&&(s+=" else { ")}return s},GK=zK,BK={add:function(e,t){var r=this.RULES;if(r.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!WK.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var i=t.type;if(Array.isArray(i))for(var n=0;n<i.length;n++)o(e,i[n],t);else o(e,i,t);var s=t.metaSchema;s&&(t.$data&&this._opts.$data&&(s={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(s,!0))}function o(e,t,i){for(var n,s=0;s<r.length;s++){var o=r[s];if(o.type==t){n=o;break}}n||(n={type:t,rules:[]},r.push(n));var a={keyword:e,definition:i,custom:!0,code:UK,implements:i.implements};n.rules.push(a),r.custom[e]=a}return r.keywords[e]=r.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var r=0;r<t.length;r++)for(var i=t[r].rules,n=0;n<i.length;n++)if(i[n].keyword==e){i.splice(n,1);break}return this},validate:function e(t,r){e.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(GK,!0);if(i(t))return!0;if(e.errors=i.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return!1}};var HK={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},JK=XQ,ZK=TQ,QK=lK.exports,KK=yQ,YK=WQ,XK=xK,eY=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=NK(t),e.types=NK(["number","integer","string","array","object","boolean","null"]),e.forEach((function(r){r.rules=r.rules.map((function(r){var i;if("object"==typeof r){var n=Object.keys(r)[0];i=r[n],r=n,i.forEach((function(r){t.push(r),e.all[r]=!0}))}return t.push(r),e.all[r]={keyword:r,code:RK[r],implements:i}})),e.all.$comment={keyword:"$comment",code:RK.$comment},r.type&&(e.types[r.type]=r)})),e.keywords=NK(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e},tY=function(e,t){for(var r=0;r<t.length;r++){e=JSON.parse(JSON.stringify(e));var i,n=t[r].split("/"),s=e;for(i=1;i<n.length;i++)s=s[n[i]];for(i=0;i<$K.length;i++){var o=$K[i],a=s[o];a&&(s[o]={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e},rY=eQ,iY=uY;uY.prototype.validate=function(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);r=i.validate||this._compile(i)}var n=r(t);!0!==r.$async&&(this.errors=r.errors);return n},uY.prototype.compile=function(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)},uY.prototype.addSchema=function(e,t,r,i){if(Array.isArray(e)){for(var n=0;n<e.length;n++)this.addSchema(e[n],void 0,r,i);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return yY(this,t=ZK.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,r,i,!0),this},uY.prototype.addMetaSchema=function(e,t,r){return this.addSchema(e,t,r,!0),this},uY.prototype.validateSchema=function(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(oY)?oY:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(r,e);if(!i&&t){var n="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(n);this.logger.error(n)}return i},uY.prototype.getSchema=function(e){var t=cY(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var r=ZK.schema.call(e,{schema:{}},t);if(r){var i=r.schema,n=r.root,s=r.baseId,o=JK.call(e,i,n,void 0,s);return e._fragments[t]=new KK({ref:t,fragment:!0,schema:i,root:n,baseId:s,validate:o}),o}}(this,e)}},uY.prototype.removeSchema=function(e){if(e instanceof RegExp)return dY(this,this._schemas,e),dY(this,this._refs,e),this;switch(typeof e){case"undefined":return dY(this,this._schemas),dY(this,this._refs),this._cache.clear(),this;case"string":var t=cY(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,i=r?r(e):e;this._cache.del(i);var n=this._getId(e);n&&(n=ZK.normalizeId(n),delete this._schemas[n],delete this._refs[n])}return this},uY.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));return this._formats[e]=t,this},uY.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,n="",s=0;s<e.length;s++){var o=e[s];o&&(n+=i+o.dataPath+" "+o.message+r)}return n.slice(0,-r.length)},uY.prototype._addSchema=function(e,t,r,i){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var n=this._opts.serialize,s=n?n(e):e,o=this._cache.get(s);if(o)return o;i=i||!1!==this._opts.addUsedSchema;var a=ZK.normalizeId(this._getId(e));a&&i&&yY(this,a);var l,u=!1!==this._opts.validateSchema&&!t;u&&!(l=a&&a==ZK.normalizeId(e.$schema))&&this.validateSchema(e,!0);var c=ZK.ids.call(this,e),d=new KK({id:a,schema:e,localRefs:c,cacheKey:s,meta:r});"#"!=a[0]&&i&&(this._refs[a]=d);this._cache.put(s,d),u&&l&&this.validateSchema(e,!0);return d},uY.prototype._compile=function(e,t){if(e.compiling)return e.validate=n,n.schema=e.schema,n.errors=null,n.root=t||n,!0===e.schema.$async&&(n.$async=!0),n;var r,i;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{i=JK.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=i,e.refs=i.refs,e.refVal=i.refVal,e.root=i.root,i;function n(){var t=e.validate,r=t.apply(this,arguments);return n.errors=t.errors,r}},uY.prototype.compileAsync=_K;var nY=BK;uY.prototype.addKeyword=nY.add,uY.prototype.getKeyword=nY.get,uY.prototype.removeKeyword=nY.remove,uY.prototype.validateKeyword=nY.validate;var sY=qQ;uY.ValidationError=sY.Validation,uY.MissingRefError=sY.MissingRef,uY.$dataMetaSchema=tY;var oY="http://json-schema.org/draft-07/schema",aY=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],lY=["/properties"];function uY(e){if(!(this instanceof uY))return new uY(e);e=this._opts=rY.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:mY,warn:mY,error:mY};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=XK(e.format),this._cache=e.cache||new QK,this._loadingSchemas={},this._compilations=[],this.RULES=eY(),this._getId=function(e){switch(e.schemaId){case"auto":return pY;case"id":return hY;default:return fY}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=YK),this._metaOpts=function(e){for(var t=rY.copy(e._opts),r=0;r<aY.length;r++)delete t[aY[r]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var r=e._opts.keywords[t];e.addKeyword(t,r)}}(this),function(e){var t;e._opts.$data&&(t=HK,e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var r=qK;e._opts.$data&&(r=tY(r,lY));e.addMetaSchema(r,oY,!0),e._refs["http://json-schema.org/schema"]=oY}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}(this)}function cY(e,t){return t=ZK.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function dY(e,t,r){for(var i in t){var n=t[i];n.meta||r&&!r.test(i)||(e._cache.del(n.cacheKey),delete t[i])}}function hY(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function fY(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function pY(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function yY(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function mY(){}function vY(e,t){let r=0;if(e!==t){const i=e.split("."),n=t.split(".");for(let e=0;e<i.length;e+=1){const t=parseInt(i[e],10),s=parseInt(n[e],10);if(t>s||Number.isNaN(s)){r=1;break}if(t<s){r=-1;break}}}return r}function gY(e){let t=BG,r=[];var i;if(!0===(void 0!==(i=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/.test(i))&&void 0!==e){QZ.sort(vY);const i=vY(e,QZ[QZ.length-1]);if(1===i?t=HG:-1===i&&(t=JG),t===HG||t===BG)r.push(e);else{for(let t=QZ.length-2;t>=0;t-=1)if(vY(e,QZ[t])>=0){r=QZ.slice(t,QZ.length);break}0===r.length&&r.push("1.0.0")}}else t=ZG,r.push("unrecognized.version");return{versionStatus:t,versions:r}}function bY(e,t){return Object.assign(Object.assign({},e),{$ref:`#/definitions/${t}`})}(function(){const e=new iY({allErrors:!0});return(t,r)=>QG(this,void 0,void 0,(function*(){let i=KZ;r===VG&&(i=bY(KZ,"WebGaugeChart")),void 0===(null==t?void 0:t.dataSource)&&(i=bY(KZ,"WebMapWebChart"));const n=e.compile(i);n(t);let s=[];return null!==n.errors&&void 0!==n.errors&&(s=yield function(e){return QG(this,void 0,void 0,(function*(){const t=yield JZ();return e.map((e=>{let r=e;const i="."===e.dataPath[0]?e.dataPath.substring(1):e.dataPath;switch(e.keyword){case ZZ.Required:r=Object.assign(Object.assign({},e),{message:gJ(t.requiredProperty,{dataPath:i,missingProperty:e.params.missingProperty})});break;case ZZ.MinLength:r=Object.assign(Object.assign({},e),{message:gJ(t.minLength,{dataPath:i,limit:e.params.limit.toString()})});break;case ZZ.MinItems:r=Object.assign(Object.assign({},e),{message:gJ(t.minItems,{dataPath:i,limit:e.params.limit.toString()})});break;case ZZ.MaxItems:r=Object.assign(Object.assign({},e),{message:gJ(t.maxItems,{dataPath:i,limit:e.params.limit.toString()})});break;case ZZ.Pattern:"\\w+"===e.params.pattern&&(r=Object.assign(Object.assign({},e),{message:gJ(t.whiteSpacePattern,{dataPath:i}),params:{}}));break;case ZZ.AdditionalProperties:r=Object.assign(Object.assign({},e),{message:gJ(t.additionalProperty,{dataPath:i,additionalProperty:e.params.additionalProperty})});break;case ZZ.Enum:r=Object.assign(Object.assign({},e),{message:gJ(t.enumValues,{dataPath:i,allowedValues:e.params.allowedValues.join(", ")})});break;case ZZ.AnyOf:{let n=[];"#/properties/legend/anyOf"===e.schemaPath&&(n=KZ.definitions.WebChart.properties.legend.anyOf.map((e=>function(e){const t=e.lastIndexOf("/");return-1!==t?e.slice(t+1):e}(e.$ref)))),r=Object.assign(Object.assign({},e),{params:n,message:gJ(t.anyOfValues,{dataPath:i,schemaOptions:n.join(", ")})});break}}return r}))}))}(n.errors)),s}))})();function wY(e,t){return QG(this,void 0,void 0,(function*(){if(void 0!==(null==t?void 0:t.series)){const r=yield JZ();for(let i=0;i<t.series.length;i+=1){const n=t.series[i].type;if(!1===e.includes(n)){const t=gJ(r.invalidSeriesType,{receivedType:n,seriesIndex:`${i}`,expectedType:e.join(` ${r.or} `)});console.error(t)}}}}))}const SY={MonoSelection:"monoSelection",MultiSelection:"multiSelection",MultiSelectionWithCtrlKey:"multiSelectionWithCtrlKey",Zoom:"zoom",None:"none"};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */const xY={FilterBySelection:"filterBySelection",FilterByExtent:"filterByExtent",Legend:"legend",RotateChart:"rotateChart",Selection:"selection",ClearSelection:"clearSelection",SwitchSelection:"switchSelection",Zoom:"zoom",FullExtent:"fullExtent",Configure:"configure"};const jY={actionBar:"action-bar",customActionTop:"custom-action-top",customActionBelow:"custom-action-below",expandTooltip:"expand-tooltip"};export{Mb as $,Dk as A,Lr as B,gJ as C,xY as D,hI as E,be as F,e$ as G,Em as H,SJ as I,g as J,rD as K,Im as L,ZT as M,wI as N,Sm as O,el as P,Pr as Q,x as R,jY as S,ox as T,V as U,by as V,Iu as W,Yi as X,Gb as Y,Ub as Z,bx as _,LZ as a,uu as a$,DE as a0,NE as a1,ty as a2,$a as a3,Ru as a4,Yp as a5,tc as a6,Ci as a7,il as a8,yf as a9,wf as aA,ve as aB,Bs as aC,aO as aD,gr as aE,an as aF,A$ as aG,YP as aH,jz as aI,Nz as aJ,Iz as aK,Tz as aL,je as aM,Er as aN,oO as aO,dx as aP,dL as aQ,bl as aR,Ck as aS,Rc as aT,Fu as aU,AN as aV,Lk as aW,$r as aX,hx as aY,_r as aZ,Ol as a_,Kp as aa,Hp as ab,Js as ac,Ak as ad,_k as ae,we as af,bo as ag,nO as ah,zo as ai,xe as aj,So as ak,Ta as al,Ca as am,jr as an,lO as ao,LF as ap,Nr as aq,AV as ar,zr as as,Vo as at,Pk as au,qk as av,Tr as aw,Ii as ax,Ar as ay,zb as az,fe as b,AE as b$,Au as b0,Dd as b1,wl as b2,Bc as b3,Qg as b4,ic as b5,uc as b6,Rp as b7,es as b8,UV as b9,bt as bA,AO as bB,Vr as bC,ra as bD,Un as bE,kr as bF,UO as bG,br as bH,wr as bI,nl as bJ,kd as bK,Zf as bL,Rf as bM,W as bN,Rt as bO,tt as bP,qV as bQ,ca as bR,iO as bS,Sl as bT,Cr as bU,Ks as bV,Cl as bW,_b as bX,yk as bY,pk as bZ,jV as b_,Kd as ba,Co as bb,av as bc,uv as bd,FV as be,Zu as bf,Bu as bg,Dr as bh,TP as bi,Hs as bj,_i as bk,RG as bl,p$ as bm,Vx as bn,VZ as bo,RZ as bp,GZ as bq,BZ as br,CJ as bs,_Z as bt,uF as bu,NT as bv,RT as bw,xV as bx,ow as by,Td as bz,ne as c,vU as c$,Ms as c0,ee as c1,Up as c2,Gp as c3,Bp as c4,Wp as c5,zp as c6,ax as c7,iy as c8,Cd as c9,Ft as cA,nt as cB,Pe as cC,St as cD,dt as cE,ir as cF,yr as cG,FD as cH,AP as cI,te as cJ,Fr as cK,$z as cL,du as cM,or as cN,s as cO,gN as cP,yN as cQ,At as cR,K_ as cS,Y_ as cT,X_ as cU,fd as cV,yd as cW,pU as cX,a as cY,CE as cZ,gU as c_,Or as ca,JN as cb,Jp as cc,Qp as cd,_p as ce,Qu as cf,sS as cg,nS as ch,Lf as ci,PP as cj,ge as ck,ny as cl,Vn as cm,Z as cn,To as co,ko as cp,qr as cq,xt as cr,_P as cs,au as ct,OO as cu,pr as cv,q as cw,Be as cx,mt as cy,rt as cz,Wi as d,pu as d$,bU as d0,S as d1,aD as d2,pV as d3,SU as d4,GA as d5,Te as d6,H$ as d7,Wr as d8,N as d9,jA as dA,gA as dB,bA as dC,nr as dD,Cy as dE,hm as dF,Il as dG,Hu as dH,Mz as dI,Pl as dJ,iS as dK,Uw as dL,Ju as dM,Gu as dN,Ap as dO,Ep as dP,id as dQ,rd as dR,aF as dS,oF as dT,tS as dU,Hw as dV,p as dW,up as dX,aS as dY,h as dZ,Qf as d_,D as da,c as db,Qo as dc,le as dd,yv as de,XP as df,Bt as dg,FE as dh,lG as di,yU as dj,KP as dk,Vc as dl,Qc as dm,dr as dn,kc as dp,ft as dq,pF as dr,aL as ds,wA as dt,WE as du,Gt as dv,vA as dw,PS as dx,Sj as dy,bj as dz,Xr as e,qf as e$,yc as e0,Ac as e1,nc as e2,ke as e3,d as e4,Xd as e5,_d as e6,Ld as e7,sh as e8,oh as e9,rR as eA,Sh as eB,jd as eC,SD as eD,jD as eE,nu as eF,$l as eG,Ll as eH,_l as eI,ql as eJ,Ch as eK,Ph as eL,zh as eM,Kh as eN,Yh as eO,Bh as eP,Hh as eQ,Qh as eR,nf as eS,sf as eT,kh as eU,Mi as eV,N$ as eW,ue as eX,kV as eY,_f as eZ,Jf as e_,Sf as ea,jh as eb,Vd as ec,nh as ed,bf as ee,qd as ef,r as eg,pf as eh,Oh as ei,P as ej,Md as ek,Ed as el,Id as em,md as en,pd as eo,qD as ep,gD as eq,dh as er,tR as es,oW as et,Tl as eu,Fl as ev,Al as ew,fW as ex,hh as ey,Vu as ez,MP as f,Hf as f$,Gf as f0,W$ as f1,Am as f2,Cm as f3,_m as f4,kf as f5,ta as f6,FO as f7,Qk as f8,Jk as f9,jo as fA,vd as fB,HF as fC,$d as fD,WF as fE,GF as fF,AD as fG,Cf as fH,Gs as fI,$t as fJ,qt as fK,qp as fL,Yw as fM,hS as fN,Me as fO,F as fP,A as fQ,l as fR,Se as fS,R as fT,o as fU,mf as fV,De as fW,er as fX,vf as fY,Wb as fZ,i as f_,Zk as fa,on as fb,al as fc,My as fd,Ee as fe,Fe as ff,Vb as fg,j as fh,fh as fi,sl as fj,oM as fk,yM as fl,vz as fm,zI as fn,WI as fo,Pf as fp,ZV as fq,JV as fr,HV as fs,XV as ft,nz as fu,kz as fv,eh as fw,ah as fx,Yd as fy,th as fz,n$ as g,ib as g$,Nf as g0,Zg as g1,Wf as g2,Uf as g3,Yc as g4,uq as g5,cq as g6,lq as g7,AR as g8,jR as g9,Mt as gA,Bf as gB,ae as gC,zv as gD,Pv as gE,Nv as gF,Rv as gG,Dv as gH,qm as gI,Ov as gJ,zm as gK,Uv as gL,Vv as gM,EE as gN,vL as gO,Vg as gP,Hv as gQ,VF as gR,n as gS,wL as gT,tg as gU,Ti as gV,kg as gW,$g as gX,Qv as gY,Xm as gZ,de as g_,TR as ga,ck as gb,zc as gc,Wc as gd,cp as ge,yp as gf,sd as gg,dp as gh,ad as gi,Hc as gj,ed as gk,cd as gl,kS as gm,qb as gn,OS as go,Vf as gp,Fy as gq,Xc as gr,tq as gs,rq as gt,iq as gu,nG as gv,JA as gw,rV as gx,eV as gy,qM as gz,t as h,k as h$,ob as h0,eb as h1,TT as h2,$F as h3,Vp as h4,FT as h5,_y as h6,Wl as h7,em as h8,Ly as h9,eW as hA,wt as hB,Xp as hC,ot as hD,mr as hE,mG as hF,hN as hG,LU as hH,ln as hI,$U as hJ,BA as hK,Q$ as hL,vG as hM,RA as hN,G$ as hO,YU as hP,nw as hQ,GP as hR,tL as hS,J$ as hT,Z$ as hU,rL as hV,tD as hW,eD as hX,nD as hY,sD as hZ,E as h_,to as ha,hk as hb,RM as hc,w$ as hd,eL as he,Vy as hf,cm as hg,Hy as hh,Ky as hi,Zy as hj,Yy as hk,qy as hl,tV as hm,nV as hn,sV as ho,yb as hp,kk as hq,Xi as hr,oS as hs,hp as ht,dc as hu,jc as hv,Ez as hw,$T as hx,NS as hy,DS as hz,Ty as i,no as i$,RS as i0,Fz as i1,SV as i2,fN as i3,uV as i4,x$ as i5,BU as i6,Dy as i7,Ny as i8,B$ as i9,PA as iA,VI as iB,sA as iC,iD,Jz as iE,On as iF,WS as iG,io as iH,Tt as iI,_S as iJ,It as iK,jn as iL,qS as iM,US as iN,ce as iO,Ie as iP,Gw as iQ,Jw as iR,Bw as iS,HA as iT,EO as iU,cF as iV,mU as iW,u_ as iX,Oi as iY,ON as iZ,YL as i_,bq as ia,tG as ib,Y$ as ic,DA as id,U$ as ie,ZU as ig,KU as ih,jl as ii,Ab as ij,ww as ik,hT as il,gE as im,ju as io,xu as ip,Tu as iq,Dn as ir,aG as is,IE as it,XI as iu,EM as iv,cE as iw,HM as ix,iF as iy,ZE as iz,SY as j,iR as j$,CT as j0,zf as j1,Yf as j2,Xf as j3,Ot as j4,Jt as j5,LA as j6,bN as j7,dA as j8,I_ as j9,NL as jA,GU as jB,M as jC,Xe as jD,Oe as jE,VS as jF,Rd as jG,gf as jH,Wd as jI,zd as jJ,X$ as jK,oD as jL,Ya as jM,hl as jN,zl as jO,Zq as jP,Dq as jQ,dk as jR,$_ as jS,Iy as jT,B_ as jU,Eh as jV,I as jW,Br as jX,Xw as jY,eS as jZ,nR as j_,Cq as ja,HL as jb,nL as jc,iL as jd,dI as je,ns as jf,$L as jg,XC as jh,rM as ji,oq as jj,sq as jk,nq as jl,b_ as jm,WL as jn,GL as jo,jL as jp,IL as jq,ML as jr,FL as js,kL as jt,AL as ju,CL as jv,OL as jw,PL as jx,DL as jy,RL as jz,u$ as k,xD as k0,rS as k1,L as k2,$ as k3,_ as k4,Et as k5,CD as k6,TD as k7,Pt as k8,Of as k9,xi as ka,dE as kb,xF as kc,SL as kd,hU as ke,NG as kf,ji as l,HZ as m,zs as n,rl as o,gY as p,iv as q,Rr as r,me as s,NA as t,mI as u,wY as v,Ir as w,Mm as x,Cn as y,iI as z};
//# sourceMappingURL=p-b54724b6.js.map