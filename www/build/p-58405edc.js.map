{"version":3,"names":["n","e","r","key","level","row","col","i","constructor","super","this","_tileInfoView","requiresDedicatedFBO","renderChildren","sortChildren","setStencilReference","createRenderParams","state","s","requiredLevel","getClosestInfoForScale","scale","displayLevel","tileInfo","scaleToZoom","prepareRenderPasses","push","registerRenderPass","name","brushes","t","drawPhase","DEBUG","MAP","HIGHLIGHT","target","getStencilTarget","has","children","stencilRef"],"sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/TileContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{WGLDrawPhase as e}from\"./enums.js\";import r from\"./WGLContainer.js\";import s from\"./brushes/WGLBrushInfo.js\";import t from\"./brushes/WGLBrushStencil.js\";const n=(e,r)=>e.key.level-r.key.level!=0?e.key.level-r.key.level:e.key.row-r.key.row!=0?e.key.row-r.key.row:e.key.col-r.key.col;class i extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(n),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:r}=e,s=super.createRenderParams(e);return s.requiredLevel=this._tileInfoView.getClosestInfoForScale(r.scale).level,s.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(r.scale),s}prepareRenderPasses(r){const n=super.prepareRenderPasses(r);return n.push(r.registerRenderPass({name:\"stencil\",brushes:[t],drawPhase:e.DEBUG|e.MAP|e.HIGHLIGHT,target:()=>this.getStencilTarget()})),has(\"esri-tiles-debug\")&&n.push(r.registerRenderPass({name:\"tileInfo\",brushes:[s],drawPhase:e.DEBUG,target:()=>this.children})),n}getStencilTarget(){return this.children}setStencilReference(e){let r=1;for(const s of this.children)s.stencilRef=r++}}export{i as default};\n"],"mappings":"0HAIyM,MAAMA,EAAE,CAACC,EAAEC,IAAID,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,OAAO,EAAEH,EAAEE,IAAIC,MAAMF,EAAEC,IAAIC,MAAMH,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,KAAK,EAAEJ,EAAEE,IAAIE,IAAIH,EAAEC,IAAIE,IAAIJ,EAAEE,IAAIG,IAAIJ,EAAEC,IAAIG,IAAI,MAAMC,UAAUL,EAAEM,YAAYP,GAAGQ,QAAQC,KAAKC,cAAcV,CAAC,CAAKW,2BAAuB,OAAO,CAAC,CAACC,eAAeZ,GAAGS,KAAKI,aAAad,GAAGU,KAAKK,oBAAoBd,GAAGQ,MAAMI,eAAeZ,EAAE,CAACe,mBAAmBf,GAAG,MAAMgB,MAAMf,GAAGD,EAAEiB,EAAET,MAAMO,mBAAmBf,GAAG,OAAOiB,EAAEC,cAAcT,KAAKC,cAAcS,uBAAuBlB,EAAEmB,OAAOjB,MAAMc,EAAEI,aAAaZ,KAAKC,cAAcY,SAASC,YAAYtB,EAAEmB,OAAOH,CAAC,CAACO,oBAAoBvB,GAAG,MAAMF,EAAES,MAAMgB,oBAAoBvB,GAAG,OAAOF,EAAE0B,KAAKxB,EAAEyB,mBAAmB,CAACC,KAAK,UAAUC,QAAQ,CAACC,GAAGC,UAAU9B,EAAE+B,MAAM/B,EAAEgC,IAAIhC,EAAEiC,UAAUC,OAAO,IAAIzB,KAAK0B,sBAAsBC,EAAI,qBAAqBrC,EAAE0B,KAAKxB,EAAEyB,mBAAmB,CAACC,KAAK,WAAWC,QAAQ,CAACX,GAAGa,UAAU9B,EAAE+B,MAAMG,OAAO,IAAIzB,KAAK4B,YAAYtC,CAAC,CAACoC,mBAAmB,OAAO1B,KAAK4B,QAAQ,CAACvB,oBAAoBd,GAAG,IAAIC,EAAE,EAAE,IAAI,MAAMgB,KAAKR,KAAK4B,SAASpB,EAAEqB,WAAWrC,GAAG,S"}