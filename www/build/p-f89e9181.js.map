{"version":3,"names":["t","r","e","n","url","field","async","s","u","findCredential","restUrl","loadStatus","user","sourceJSON","responseType","query","f","returnUserLicenseTypeExtensions","data","username","o","error"],"sources":["./node_modules/@arcgis/core/arcade/portalUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{id as r}from\"../kernel.js\";import e from\"../request.js\";import n from\"../portal/Portal.js\";function t(r,e){if(null===r)return e;return new n({url:r.field(\"url\")})}async function s(n,t,s){const u=r?.findCredential(n.restUrl);if(!u)return null;if(\"loaded\"===n.loadStatus&&\"\"===t&&n.user&&n.user.sourceJSON&&!1===s)return n.user.sourceJSON;if(\"\"===t){const r=await e(n.restUrl+\"/community/self\",{responseType:\"json\",query:{f:\"json\",...!1===s?{}:{returnUserLicenseTypeExtensions:!0}}});if(r.data){const e=r.data;if(e&&e.username)return e}return null}const o=await e(n.restUrl+\"/community/users/\"+t,{responseType:\"json\",query:{f:\"json\"}});if(o.data){const r=o.data;return r.error?null:r}return null}export{t as getPortal,s as lookupUser};\n"],"mappings":"+CAIkG,SAASA,EAAEC,EAAEC,GAAG,GAAG,OAAOD,EAAE,OAAOC,EAAE,OAAO,IAAIC,EAAE,CAACC,IAAIH,EAAEI,MAAM,QAAQ,CAACC,eAAeC,EAAEJ,EAAEH,EAAEO,GAAG,MAAMC,EAAEP,GAAGQ,eAAeN,EAAEO,SAAS,IAAIF,EAAE,OAAO,KAAK,GAAG,WAAWL,EAAEQ,YAAY,KAAKX,GAAGG,EAAES,MAAMT,EAAES,KAAKC,aAAa,IAAIN,EAAE,OAAOJ,EAAES,KAAKC,WAAW,GAAG,KAAKb,EAAE,CAAC,MAAMC,QAAQC,EAAEC,EAAEO,QAAQ,kBAAkB,CAACI,aAAa,OAAOC,MAAM,CAACC,EAAE,WAAW,IAAIT,EAAE,GAAG,CAACU,iCAAiC,MAAM,GAAGhB,EAAEiB,KAAK,CAAC,MAAMhB,EAAED,EAAEiB,KAAK,GAAGhB,GAAGA,EAAEiB,SAAS,OAAOjB,CAAC,CAAC,OAAO,IAAI,CAAC,MAAMkB,QAAQlB,EAAEC,EAAEO,QAAQ,oBAAoBV,EAAE,CAACc,aAAa,OAAOC,MAAM,CAACC,EAAE,UAAU,GAAGI,EAAEF,KAAK,CAAC,MAAMjB,EAAEmB,EAAEF,KAAK,OAAOjB,EAAEoB,MAAM,KAAKpB,CAAC,CAAC,OAAO,IAAI,Q"}