{"version":3,"names":["t","s","attach","this","view","timeline","record","layer","title","_bitmapView","r","_tileInfoView","container","addChild","detach","removeChild","removeAllChildren","e","i","HTMLImageElement","naturalWidth","width","naturalHeight","height","n","l","u","level","tileInfo","size","a","getTileResolution","c","g","getLODInfoAt","h","getXForColumn","col","d","getYForRow","row","f","m","v","w","Math","round","I","M","F","L","o","getContext","drawImage","document","createElement"],"sources":["./node_modules/@arcgis/core/views/2d/layers/BitmapTileLayerView2D.js","./node_modules/@arcgis/core/views/2d/layers/support/imageUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import\"../../../core/Error.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{BitmapTileContainer as r}from\"../engine/BitmapTileContainer.js\";const t=t=>{let s=class extends t{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new r(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren()}};return s=e([i(\"esri.views.2d.layers.BitmapTileLayerView2D\")],s),s};export{t as BitmapTileLayerView2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return e instanceof HTMLImageElement?e.naturalWidth:e.width}function t(e){return e instanceof HTMLImageElement?e.naturalHeight:e.height}function n(n,l,r,u){if(r.level===u.level)return l;const i=n.tileInfo.size,a=n.getTileResolution(r.level),c=n.getTileResolution(u.level);let g=n.getLODInfoAt(u.level);const h=g.getXForColumn(u.col),d=g.getYForRow(u.row);g=n.getLODInfoAt(r.level);const f=g.getXForColumn(r.col),s=g.getYForRow(r.row),m=e(l)/i[0],v=t(l)/i[1],w=Math.round(m*((h-f)/a)),I=Math.round(v*(-(d-s)/a)),M=Math.round(m*i[0]*(c/a)),F=Math.round(v*i[1]*(c/a)),L=o(i);return L.getContext(\"2d\").drawImage(l,w,I,M,F,0,0,i[0],i[1]),L}function o(e){const t=document.createElement(\"canvas\");return[t.width,t.height]=e,t}export{o as createBlankImage,n as resampleImage};\n"],"mappings":"0EAIiY,MAACA,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,SAASC,KAAKC,KAAKC,SAASC,OAAO,GAAGH,KAAKI,MAAMC,kCAAkCL,KAAKM,YAAY,IAAIC,EAAEP,KAAKQ,eAAeR,KAAKS,UAAUC,SAASV,KAAKM,YAAY,CAACK,SAASX,KAAKS,UAAUG,YAAYZ,KAAKM,aAAaN,KAAKM,aAAaO,mBAAmB,GAAG,OAAOf,EAAEgB,EAAE,CAACC,EAAE,+CAA+CjB,GAAGA,GCApuB,SAASgB,EAAEA,GAAG,OAAOA,aAAaE,iBAAiBF,EAAEG,aAAaH,EAAEI,KAAK,CAAC,SAASrB,EAAEiB,GAAG,OAAOA,aAAaE,iBAAiBF,EAAEK,cAAcL,EAAEM,MAAM,CAAC,SAASC,EAAEA,EAAEC,EAAEf,EAAEgB,GAAG,GAAGhB,EAAEiB,QAAQD,EAAEC,MAAM,OAAOF,EAAE,MAAMP,EAAEM,EAAEI,SAASC,KAAKC,EAAEN,EAAEO,kBAAkBrB,EAAEiB,OAAOK,EAAER,EAAEO,kBAAkBL,EAAEC,OAAO,IAAIM,EAAET,EAAEU,aAAaR,EAAEC,OAAO,MAAMQ,EAAEF,EAAEG,cAAcV,EAAEW,KAAKC,EAAEL,EAAEM,WAAWb,EAAEc,KAAKP,EAAET,EAAEU,aAAaxB,EAAEiB,OAAO,MAAMc,EAAER,EAAEG,cAAc1B,EAAE2B,KAAKpC,EAAEgC,EAAEM,WAAW7B,EAAE8B,KAAKE,EAAEzB,EAAEQ,GAAGP,EAAE,GAAGyB,EAAE3C,EAAEyB,GAAGP,EAAE,GAAG0B,EAAEC,KAAKC,MAAMJ,IAAIP,EAAEM,GAAGX,IAAIiB,EAAEF,KAAKC,MAAMH,KAAKL,EAAErC,GAAG6B,IAAIkB,EAAEH,KAAKC,MAAMJ,EAAExB,EAAE,IAAIc,EAAEF,IAAImB,EAAEJ,KAAKC,MAAMH,EAAEzB,EAAE,IAAIc,EAAEF,IAAIoB,EAAEC,EAAEjC,GAAG,OAAOgC,EAAEE,WAAW,MAAMC,UAAU5B,EAAEmB,EAAEG,EAAEC,EAAEC,EAAE,EAAE,EAAE/B,EAAE,GAAGA,EAAE,IAAIgC,CAAC,CAAC,SAASC,EAAElC,GAAG,MAAMjB,EAAEsD,SAASC,cAAc,UAAU,OAAOvD,EAAEqB,MAAMrB,EAAEuB,QAAQN,EAAEjB,CAAC,Q"}