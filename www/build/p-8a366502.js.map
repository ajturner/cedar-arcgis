{"version":3,"names":["r","a","t","u","readArcadeFeature","evaluate","$feature","services","n","e","getLogger","warn","constructor","s","this","_canCacheExpressionValue","_sourceInfo","_storage","_bitsets","computed","getBitset","createBitset","storage","invalidate","clear","async","i","_schema","has","console","debug","targets","name","attributes","o","c","type","push","_createArcadeComputedField","_createLabelArcadeComputedField","_computedFields","Promise","all","some","expression","referencesScale","_statisticFields","setComputedAttributes","set","_evaluateField","resultType","setComputedNumericAtIndex","fieldIndex","setComputedStringAtIndex","spatialReference","fieldsIndex","valueExpression","createLabelFunction","import","label","builder","$view","scale","static","copy","super","createInstance","fullSchema","_currentIndex","_reader","_indices","fields","hasNext","length","getSize","getCursor","next","_nextIndex","_getExists","setIndex","setArcadeSpatialReference","attachStorage","geometryType","hasFeatures","exceededTransferLimit","hasZ","hasM","getStorage","getComputedNumeric","getComputedNumericAtIndex","setComputedNumeric","getComputedString","getComputedStringAtIndex","setComputedString","transform","d","readAttribute","readAttributes","joinAttributes","geometry","field","hasField","setField","keys","castToText","getQuantizationTransform","getAttributeHash","getObjectId","getDisplayId","setDisplayId","getGroupId","setGroupId","getXHydrated","getYHydrated","getX","getY","getIndex","readLegacyFeature","readOptimizedFeature","readLegacyPointGeometry","readLegacyGeometry","readLegacyCentroid","readGeometryArea","readUnquantizedGeometry","readHydratedGeometry","readGeometry","readCentroid","_readAttribute","Error","_readAttributes","h","I","getAttributes","getAttribute","cloneWithGeometry","getGeometry","getCentroid","featureAdapter","events","_featureSetsByInstance","Map","_objectIdToDisplayId","_spatialIndexInvalid","_indexSearchCache","_index","minX","getXMin","minY","getYMin","maxX","getXMax","maxY","getYMax","mode","storeStatistics","forEach","isPoint","lengths","reduce","featureCount","vertexCount","ringCount","hasInstance","onTileData","addOrUpdate","instance","_insertFeature","emit","search","_rebuildIndex","id","find","tileId","readers","_searchIndex","bounds","getInstanceId","get","from","enqueue","insert","createDisplayId","setInstanceId","remove","delete","releaseDisplayId","removeAtIndex","isEmpty","_lookupFeature","forEachUnsafe","_getFeatureSet","forEachInBounds","lookupFeatureByDisplayId","forEachBounds","sweepFeatures","unsetAttributeData","sweepFeatureSets","lookupObjectId","lookupDisplayId","lookupByDisplayIdUnsafe","setBounds","load"],"sources":["./node_modules/@arcgis/core/views/2d/arcade/callExpressionWithCursor.js","./node_modules/@arcgis/core/views/2d/layers/features/Store2D.js","./node_modules/@arcgis/core/views/2d/layers/features/support/FeatureSetReaderPBFIndirect.js","./node_modules/@arcgis/core/views/2d/layers/features/FeatureStore2D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";function r(r,a,t){if(null==r)return null;const u=a.readArcadeFeature();try{return r.evaluate({...t,$feature:u},r.services)}catch(n){return e.getLogger(\"esri.views.2d.support.arcadeOnDemand\").warn(\"Feature arcade evaluation failed:\",n),null}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport has from\"../../../../core/has.js\";import{diff as e,hasDiff as s}from\"../../../../core/accessorSupport/diffUtils.js\";import{createRendererExpression as t}from\"../../../../support/arcadeOnDemand.js\";import i from\"../../arcade/callExpressionWithCursor.js\";class a{constructor(e,s){this._canCacheExpressionValue=!1,this._sourceInfo=e,this._storage=s,this._bitsets={computed:s.getBitset(s.createBitset())}}get storage(){return this._storage}invalidate(){this._bitsets.computed.clear()}async updateSchema(t,i){const a=e(this._schema,i);if(this._schema=i,!i||null==a||!s(a,\"attributes\"))return;has(\"esri-2d-update-debug\")&&console.debug(\"Applying Update - Store:\",a),this._bitsets.computed.clear(),t.targets[i.name]=!0;const r=i.attributes,o=[],c=[];for(const e in r){const s=r[e];switch(s.type){case\"field\":break;case\"expression\":o.push(this._createArcadeComputedField(s));break;case\"label-expression\":o.push(this._createLabelArcadeComputedField(s));break;case\"statistic\":c.push(s)}}this._computedFields=await Promise.all(o),this._canCacheExpressionValue=!this._computedFields.some((e=>\"expression\"===e.type&&null!=e.expression&&e.expression.referencesScale())),this._statisticFields=c}setComputedAttributes(e,s,t,i){const a=this._bitsets.computed;if(!this._canCacheExpressionValue||!a.has(t)){a.set(t);for(const a of this._computedFields){const r=this._evaluateField(s,a,i);switch(a.resultType){case\"numeric\":e.setComputedNumericAtIndex(t,a.fieldIndex,r);break;case\"string\":e.setComputedStringAtIndex(t,a.fieldIndex,r)}}}}async _createArcadeComputedField(e){const s=this._sourceInfo.spatialReference,i=this._sourceInfo.fieldsIndex;return{...e,expression:await t(e.valueExpression,s,i)}}async _createLabelArcadeComputedField(e){const s=this._sourceInfo.spatialReference,t=this._sourceInfo.fieldsIndex,{createLabelFunction:i}=await import(\"../../../../layers/support/labelFormatUtils.js\"),a=await i(e.label,t,s);return{...e,builder:a}}_evaluateField(e,s,t){switch(s.type){case\"label-expression\":{const t=e.readArcadeFeature();return s.builder.evaluate(t)||\"\"}case\"expression\":{const{expression:a}=s;return i(a,e,{$view:{scale:t}})}}}}export{a as Store2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{FeatureSetReader as e}from\"./FeatureSetReader.js\";class r extends e{static from(e,t){return new r(e.copy(),t)}constructor(r,t){super(e.createInstance(),r.fullSchema()),this._currentIndex=-1,this._reader=r,this._indices=t}get fields(){return this._reader.fields}get hasNext(){return this._currentIndex+1<this._indices.length}getSize(){return this._indices.length}getCursor(){return this.copy()}copy(){const e=new r(this._reader.copy(),this._indices);return e._currentIndex=this._currentIndex,e}next(){for(;this._nextIndex()&&!this._reader._getExists(););return this._currentIndex<this._indices.length}_nextIndex(){return++this._currentIndex<this._indices.length&&(this._reader.setIndex(this._indices[this._currentIndex]),!0)}setArcadeSpatialReference(e){this._reader.setArcadeSpatialReference(e)}attachStorage(e){this._reader.attachStorage(e)}get geometryType(){return this._reader.geometryType}get hasFeatures(){return this._reader.hasFeatures}get exceededTransferLimit(){return this._reader.exceededTransferLimit}get hasZ(){return this._reader.hasZ}get hasM(){return this._reader.hasM}getStorage(){return this._reader.getStorage()}getComputedNumeric(e){return this._reader.getComputedNumericAtIndex(0)}setComputedNumeric(e,r){return this._reader.setComputedNumericAtIndex(r,0)}getComputedString(e){return this._reader.getComputedStringAtIndex(0)}setComputedString(e,r){return this._reader.setComputedStringAtIndex(0,r)}getComputedNumericAtIndex(e){return this._reader.getComputedNumericAtIndex(e)}setComputedNumericAtIndex(e,r){this._reader.setComputedNumericAtIndex(e,r)}getComputedStringAtIndex(e){return this._reader.getComputedStringAtIndex(e)}setComputedStringAtIndex(e,r){return this._reader.setComputedStringAtIndex(e,r)}transform(e,r,t,d){const a=this.copy();return a._reader=this._reader.transform(e,r,t,d),a}readAttribute(e,r=!1){return this._reader.readAttribute(e,r)}readAttributes(){return this._reader.readAttributes()}joinAttributes(e){return this._reader.joinAttributes(e)}readArcadeFeature(){return this._reader.readArcadeFeature()}geometry(){return this._reader.geometry()}field(e){return this.readAttribute(e,!0)}hasField(e){return this._reader.hasField(e)}setField(e,r){return this._reader.setField(e,r)}keys(){return this._reader.keys()}castToText(e=!1){return this._reader.castToText(e)}getQuantizationTransform(){return this._reader.getQuantizationTransform()}getAttributeHash(){return this._reader.getAttributeHash()}getObjectId(){return this._reader.getObjectId()}getDisplayId(){return this._reader.getDisplayId()}setDisplayId(e){return this._reader.setDisplayId(e)}getGroupId(){return this._reader.getGroupId()}setGroupId(e){return this._reader.setGroupId(e)}getXHydrated(){return this._reader.getXHydrated()}getYHydrated(){return this._reader.getYHydrated()}getX(){return this._reader.getX()}getY(){return this._reader.getY()}setIndex(e){return this._reader.setIndex(e)}getIndex(){return this._reader.getIndex()}readLegacyFeature(){return this._reader.readLegacyFeature()}readOptimizedFeature(){return this._reader.readOptimizedFeature()}readLegacyPointGeometry(){return this._reader.readLegacyPointGeometry()}readLegacyGeometry(){return this._reader.readLegacyGeometry()}readLegacyCentroid(){return this._reader.readLegacyCentroid()}readGeometryArea(){return this._reader.readGeometryArea()}readUnquantizedGeometry(){return this._reader.readUnquantizedGeometry()}readHydratedGeometry(){return this._reader.readHydratedGeometry()}readGeometry(){return this._reader.readGeometry()}readCentroid(){return this._reader.readCentroid()}_readAttribute(e,r){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}_readAttributes(){throw new Error(\"Error: Should not be called. Underlying _reader should be used instead\")}}export{r as FeatureSetReaderIndirect};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../../../core/CircularArray.js\";import e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{r as s}from\"../../../../chunks/rbush.js\";import{create as a,fromRectValues as r}from\"../../../../geometry/support/aaBoundingBox.js\";import{Store2D as n}from\"./Store2D.js\";import{FeatureSetReaderIndirect as i}from\"./support/FeatureSetReaderPBFIndirect.js\";const o=a();function d(t,e){return t<<16|e}function h(t){return(4294901760&t)>>>16}function c(t){return 65535&t}const I={getObjectId:t=>t.getObjectId(),getAttributes:t=>t.readAttributes(),getAttribute:(t,e)=>t.readAttribute(e),cloneWithGeometry:(t,e)=>t,getGeometry:t=>t.readHydratedGeometry(),getCentroid:(t,e)=>t.readCentroid()};class u extends n{constructor(a,r,n){super(a,r),this.featureAdapter=I,this.events=new e,this._featureSetsByInstance=new Map,this._objectIdToDisplayId=new Map,this._spatialIndexInvalid=!0,this._indexSearchCache=new t(50),this._index=s(9,(t=>({minX:this._storage.getXMin(t),minY:this._storage.getYMin(t),maxX:this._storage.getXMax(t),maxY:this._storage.getYMax(t)}))),this.mode=n}get storeStatistics(){let t=0,e=0,s=0;return this.forEach((a=>{const r=a.readGeometry();r&&(e+=r.isPoint?1:r.lengths.reduce(((t,e)=>t+e),0),s+=r.isPoint?1:r.lengths.length,t+=1)})),{featureCount:t,vertexCount:e,ringCount:s}}hasInstance(t){return this._featureSetsByInstance.has(t)}onTileData(t,e){if(null==e.addOrUpdate)return e;if(e.addOrUpdate.attachStorage(this._storage),\"snapshot\"===this.mode){const s=e.addOrUpdate.getCursor();for(;s.next();){const e=s.getDisplayId();this.setComputedAttributes(this._storage,s,e,t.scale)}return e}this._featureSetsByInstance.set(e.addOrUpdate.instance,e.addOrUpdate);const s=e.addOrUpdate.getCursor();for(;s.next();)this._insertFeature(s,t.scale);return this._spatialIndexInvalid=!0,this.events.emit(\"changed\"),e}search(t){this._rebuildIndex();const e=t.id,s=this._indexSearchCache.find((t=>t.tileId===e));if(null!=s)return s.readers;const a=new Map,r=this._searchIndex(t.bounds),n=[];for(const i of r){const t=this._storage.getInstanceId(i),e=h(t),s=c(t);a.has(e)||a.set(e,[]);a.get(e).push(s)}return a.forEach(((t,e)=>{const s=this._featureSetsByInstance.get(e);n.push(i.from(s,t))})),this._indexSearchCache.enqueue({tileId:e,readers:n}),n}insert(t){const e=t.getCursor(),s=this._storage;for(;e.next();){const t=d(e.instance,e.getIndex()),a=e.getObjectId(),r=this._objectIdToDisplayId.get(a)??this._storage.createDisplayId();e.setDisplayId(r),s.setInstanceId(r,t),this._objectIdToDisplayId.set(a,r)}this._featureSetsByInstance.set(t.instance,t),this._spatialIndexInvalid=!0}remove(t){const e=this._objectIdToDisplayId.get(t);if(!e)return;const s=this._storage.getInstanceId(e),a=c(s),r=h(s),n=this._featureSetsByInstance.get(r);this._objectIdToDisplayId.delete(t),this._storage.releaseDisplayId(e),n.removeAtIndex(a),n.isEmpty&&this._featureSetsByInstance.delete(r),this._spatialIndexInvalid=!0}forEach(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=this._lookupFeature(s);t(a)}))}forEachUnsafe(t){this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e),a=h(s),r=c(s),n=this._getFeatureSet(a);n.setIndex(r),t(n)}))}forEachInBounds(t,e){const s=this._searchIndex(t);for(const a of s){e(this.lookupFeatureByDisplayId(a,this._storage))}}forEachBounds(t,e){this._rebuildIndex();for(const s of t){if(!s.readGeometry())continue;const t=s.getDisplayId();r(o,this._storage.getXMin(t),this._storage.getYMin(t),this._storage.getXMax(t),this._storage.getYMax(t)),e(o)}}sweepFeatures(t,e,s){this._spatialIndexInvalid=!0,this._objectIdToDisplayId.forEach(((a,r)=>{t.has(a)||(e.releaseDisplayId(a),s&&s.unsetAttributeData(a),this._objectIdToDisplayId.delete(r))})),this.events.emit(\"changed\")}sweepFeatureSets(t){this._spatialIndexInvalid=!0,this._featureSetsByInstance.forEach(((e,s)=>{t.has(s)||this._featureSetsByInstance.delete(s)}))}lookupObjectId(t,e){const s=this.lookupFeatureByDisplayId(t,e);return null==s?null:s.getObjectId()}lookupDisplayId(t){return this._objectIdToDisplayId.get(t)}lookupFeatureByDisplayId(t,e){const s=e.getInstanceId(t);return this._lookupFeature(s)}lookupByDisplayIdUnsafe(t){const e=this._storage.getInstanceId(t),s=h(e),a=c(e),r=this._getFeatureSet(s);return r?(r.setIndex(a),r):null}_insertFeature(t,e){const s=this._storage,a=t.getObjectId(),r=d(t.instance,t.getIndex());s.getInstanceId(t.getDisplayId());let n=this._objectIdToDisplayId.get(a);n||(n=s.createDisplayId(),this._objectIdToDisplayId.set(a,n),this._spatialIndexInvalid=!0),t.setDisplayId(n),s.setInstanceId(n,r),this.setComputedAttributes(s,t,n,e)}_searchIndex(t){this._rebuildIndex();const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this._index.search(e)}_rebuildIndex(){if(!this._spatialIndexInvalid)return;const t=[];\"snapshot\"===this.mode?this._featureSetsByInstance.forEach((e=>{const s=e.getCursor();for(;s.next();){const e=s.getDisplayId();this._storage.setBounds(e,s)&&t.push(e)}})):this._objectIdToDisplayId.forEach((e=>{const s=this._storage.getInstanceId(e);this._storage.setBounds(e,this._lookupFeature(s))&&t.push(e)})),this._index.clear(),this._index.load(t),this._indexSearchCache.clear(),this._spatialIndexInvalid=!1}_lookupFeature(t){const e=h(t),s=this._getFeatureSet(e);if(!s)return;const a=s.getCursor(),r=c(t);return a.setIndex(r),a}_getFeatureSet(t){return this._featureSetsByInstance.get(t)}}export{u as FeatureStore2D,I as featureAdapter};\n"],"mappings":"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"}