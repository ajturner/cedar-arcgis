{"version":3,"names":["r","e","constructor","super","arguments","this","_prevFBO","requiresDedicatedFBO","dispose","doRender","createRenderParams","context","o","painter","s","profiler","n","getBoundFramebufferObject","recordContainerStart","name","i","_getFbo","a","getRenderTarget","bindFramebuffer","setRenderTarget","setDepthWriteEnabled","setColorMask","setClearColor","setClearDepth","clear","gl","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","t","children","beforeRender","processRender","afterRender","releaseFbo","beforeRenderLayer","_clippingInfos","computedOpacity","colorTexture","setStencilTestEnabled","setStencilWriteMask","blitTexture","NEAREST","compositeLayer","recordContainerEnd","blendMode","effects","computedEffects","globalOpacity","width","height","getViewport","acquireFbo"],"sources":["./node_modules/@arcgis/core/views/2d/engine/webgl/GroupContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"./WGLContainer.js\";import{TextureSamplingMode as t}from\"../../../webgl/enums.js\";class r extends e{constructor(){super(...arguments),this._prevFBO=void 0,this.requiresDedicatedFBO=!1}dispose(){}doRender(e){const r=this.createRenderParams(e),{context:o,painter:s,profiler:n}=r;this._prevFBO=o.getBoundFramebufferObject(),n.recordContainerStart(this.name);const i=this._getFbo(r),a=s.getRenderTarget();o.bindFramebuffer(i),s.setRenderTarget(i),o.setDepthWriteEnabled(!0),o.setColorMask(!0,!0,!0,!0),o.setClearColor(0,0,0,0),o.setClearDepth(1),o.clear(o.gl.COLOR_BUFFER_BIT|o.gl.DEPTH_BUFFER_BIT),o.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const t of this.children)t.processRender(r);for(const t of this.children)t.afterRender(e);s.setRenderTarget(a),s.releaseFbo(i),o.bindFramebuffer(this._prevFBO),s.beforeRenderLayer(r,this._clippingInfos?255:0,this.computedOpacity),i.colorTexture&&(o.setStencilTestEnabled(!1),o.setStencilWriteMask(0),s.blitTexture(o,i.colorTexture,t.NEAREST)),s.compositeLayer(r,this.computedOpacity),n.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:o,height:s}=t.getViewport();return r.acquireFbo(o,s)}}export{r as GroupContainer};\n"],"mappings":"wEAI+F,MAAMA,UAAUC,EAAEC,cAAcC,SAASC,WAAWC,KAAKC,cAAc,EAAED,KAAKE,sBAAsB,CAAC,CAACC,UAAS,CAAEC,SAASR,GAAG,MAAMD,EAAEK,KAAKK,mBAAmBT,IAAIU,QAAQC,EAAEC,QAAQC,EAAEC,SAASC,GAAGhB,EAAEK,KAAKC,SAASM,EAAEK,4BAA4BD,EAAEE,qBAAqBb,KAAKc,MAAM,MAAMC,EAAEf,KAAKgB,QAAQrB,GAAGsB,EAAER,EAAES,kBAAkBX,EAAEY,gBAAgBJ,GAAGN,EAAEW,gBAAgBL,GAAGR,EAAEc,sBAAsB,GAAGd,EAAEe,cAAc,GAAG,GAAG,GAAG,GAAGf,EAAEgB,cAAc,EAAE,EAAE,EAAE,GAAGhB,EAAEiB,cAAc,GAAGjB,EAAEkB,MAAMlB,EAAEmB,GAAGC,iBAAiBpB,EAAEmB,GAAGE,kBAAkBrB,EAAEc,sBAAsB,GAAG,IAAI,MAAMQ,KAAK7B,KAAK8B,SAASD,EAAEE,aAAanC,GAAG,IAAI,MAAMiC,KAAK7B,KAAK8B,SAASD,EAAEG,cAAcrC,GAAG,IAAI,MAAMkC,KAAK7B,KAAK8B,SAASD,EAAEI,YAAYrC,GAAGa,EAAEW,gBAAgBH,GAAGR,EAAEyB,WAAWnB,GAAGR,EAAEY,gBAAgBnB,KAAKC,UAAUQ,EAAE0B,kBAAkBxC,EAAEK,KAAKoC,eAAe,IAAI,EAAEpC,KAAKqC,iBAAiBtB,EAAEuB,eAAe/B,EAAEgC,uBAAuB,GAAGhC,EAAEiC,oBAAoB,GAAG/B,EAAEgC,YAAYlC,EAAEQ,EAAEuB,aAAaT,EAAEa,UAAUjC,EAAEkC,eAAehD,EAAEK,KAAKqC,iBAAiB1B,EAAEiC,oBAAoB,CAACvC,mBAAmBT,GAAG,MAAM,IAAIE,MAAMO,mBAAmBT,GAAGiD,UAAU7C,KAAK6C,UAAUC,QAAQ9C,KAAK+C,gBAAgBC,cAAc,EAAE,CAAChC,QAAQpB,GAAG,MAAMU,QAAQuB,EAAErB,QAAQb,GAAGC,GAAGqD,MAAM1C,EAAE2C,OAAOzC,GAAGoB,EAAEsB,cAAc,OAAOxD,EAAEyD,WAAW7C,EAAEE,EAAE,S"}