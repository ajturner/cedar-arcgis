import { h as h$n, r as registerInstance, e as createEvent, g as getAssetPath, f as Host, i as getElement } from './index-0c4dc1bb.js';
import { h as h$e, b as has, r as r$g, u as u$m, c as j$7, s as s$m, n as n$q, d as u$n, e as a$s, f as d$l, g as j$9, i as j$a, k as s$n, l as a$t, o as i$w, q as s$p, t as d$n, K as K$3, V as V$9, $ as $$8, _ as _$8, w as f$h, x as m$m, y as b$b, z as t$m, A as l$j, B as e$g, E as y$e, F as a$u, G as o$p, H as _$9, J as s$q, L as u$o, M as y$f, R as R$5, N as ae$2, O as j$c, P as A$9, Q as i$x, T as a$v, U as ue$1, W as j$d, X as w$d, Y as se$2, Z as h$i, a0 as d$p, a1 as te$2, a2 as u$p, a3 as d$q, a4 as n$s, a5 as o$q, a6 as r$h, a7 as T$7, a8 as r$i, a9 as n$t, aa as E$6, ab as S$8, ac as n$u, ad as m$p, ae as s$s, af as i$y, ag as x$7, ah as a$x, ai as o$s, aj as i$z, ak as n$w, al as p$w, am as t$p, an as l$l, ao as h$j, ap as l$m, aq as t$q, ar as c$r, as as A$a, at as o$t, au as t$r, av as y$g, aw as x$8, ax as i$B, ay as i$C, az as P$7, aA as d$s, aB as r$k, aC as C$b, aD as w$e, aE as c$s, aF as v$b, aG as a$y, aH as w$f, aI as n$z, aJ as c$t, aK as m$q, aL as i$D, aM as n$A, aN as o$u, aO as d$t, aP as t$s, aQ as e$i, aR as v$c, aS as p$x, aT as Y$3, aU as Cn$1, aV as nn$1, aW as $$a, aX as e$j, aY as a$z, aZ as a$A, a_ as m$r, a$ as c$u, b0 as U$8, b1 as g$i, b2 as S$9, b3 as f$k, b4 as M$6, b5 as f$l, b6 as c$v, b7 as p$z, b8 as T$8, b9 as H$4, ba as s$u, bb as p$A, bc as r$n, bd as d$u, be as o$w, bf as i$F, bg as t$u, bh as f$n, bi as j$f, bj as s$x, bk as r$r, bl as g$k, bm as n$C, bn as c$w, bo as s$y, bp as _$a, bq as d$v, br as g$l, bs as y$i, bt as c$x, bu as v$e, bv as t$x, bw as Be$1, bx as d$x, by as j$h, a as Ss$1, I as Ia$1, v as vp$1, m as ml$1, S as Slot, p as pp$1, C as Ca$1, bz as os$1, bA as Bs$1, bB as Ks$1, bC as Mo$1, bD as Fs$1, bE as js$1 } from './interfaces-f9f0dded.js';
import { J as J$4, d as d$k, h as h$g, g as g$e, a as h$h, p as p$u, y as y$d, f as f$g, q as q$5, b as g$f, D as D$6, I as I$7, c as b$a, e as d$m } from './utils-3c908942.js';
import { y as y$c, p as p$t } from './colorUtils-3c42b70c.js';
import { n as n$n, i as i$v, h as h$f, m as m$l, a as n$x, e as e$h, b as i$A, c as n$F, o as o$x, W as W$5, d as e$l, t as t$w } from './messageBundle-251c02f0.js';
import { i as i$u, n as n$o, c as c$o, e as e$f, a as n$p, o as o$o, f as f$m, r as r$m, M as M$7, h as h$k } from './TileStrategy-7487a7f8.js';
import { resolveWebStyleSymbol as j$8 } from './webStyleSymbolUtils-0542add6.js';
import { j as j$b, g as g$g, F as F$5, d as d$o, p as p$v, c as c$q, v as v$9, z as z$7, I as I$8, a as v$a, x as x$6, b as b$c } from './statsWorker-e4850868.js';
import { s as s$o, O as O$7 } from './Basemap-0d067aec.js';
import { a as a$w, n as n$r } from './generateRendererUtils-ef8214c8.js';
import { f as f$j } from './executeQuery-dca07954.js';
import { f as f$i } from './normalizeUtils-6257e368.js';
import './AttachmentInfo-fac6a5e9.js';
import './pbf-70fc9f43.js';
import './featureConversionUtils-da87b7fc.js';
import { m as m$o } from './quantizationUtils-33eaa35c.js';
import { $ as $$9, c as c$p, m as m$n, s as s$r, g as g$h, F as F$6, S as S$7, N as N$4 } from './utils-9b101bd7.js';
import { t as t$n } from './loadAll-dc49c260.js';
import { n as n$v } from './CollectionFlattener-78984a9a.js';
import { o as o$r, u as u$q } from './infoFor3D-0047d262.js';
import { l as l$k, d as d$r, t as t$o, n as n$y } from './TablesMixin-e984f376.js';
import { s as s$t } from './Cyclical-5ec65b13.js';
import { p as p$B, j as j$g } from './TileInfo-4a28547b.js';
import { r as r$j, I as I$9, F as F$7 } from './Scheduler-1e6f0e40.js';
import { l as l$n, i as i$E, p as p$y } from './GraphicsCollection-a0dc229c.js';
import { l as l$o } from './ViewingMode-0a71038b.js';
import { r as r$p, t as t$t } from './unitBezier-a3c7a2db.js';
import { r as r$l, a as a$B, l as l$p, g as g$j, C as C$c, o as o$v, v as v$d, y as y$h, j as j$e, q as q$6, z as z$8, s as s$v, m as m$s } from './vec2-c2da03bd.js';
import { n as n$B, r as r$o } from './vec2f64-25ab05ca.js';
import { d as d$w, h as h$m } from './TileStore-178dd7b2.js';
import './TileKey-4c2c49c7.js';
import { s as s$w, r as r$q, M as M$8, h as h$l, i as i$G } from './mat3-eb290db7.js';
import { e as e$k } from './mat3f32-1cfc4913.js';
import { t as t$v } from './vec2f32-cdd4dd4e.js';
import './imageUtils-a77011bc.js';
import { n as n$D } from './capabilities-43dc968b.js';
import { n as n$E } from './contextUtils-e38d5070.js';

/**
 * Version of the current specification.
 */
const WebChartCurrentVersion = "6.2.1";

const RESTFieldType = {
    Blob: "esriFieldTypeBlob",
    Date: "esriFieldTypeDate",
    Double: "esriFieldTypeDouble",
    Geometry: "esriFieldTypeGeometry",
    GlobalID: "esriFieldTypeGlobalID",
    GUID: "esriFieldTypeGUID",
    Integer: "esriFieldTypeInteger",
    OID: "esriFieldTypeOID",
    Raster: "esriFieldTypeRaster",
    Single: "esriFieldTypeSingle",
    SmallInteger: "esriFieldTypeSmallInteger",
    String: "esriFieldTypeString",
    XML: "esriFieldTypeXML"
};
const RESTStatisticType = {
    Count: "count",
    Sum: "sum",
    Minimum: "min",
    Maximum: "max",
    Average: "avg",
    StandardDeviation: "stddev",
    Variance: "var",
    ContinuousPercentile: "percentile_cont",
    DiscretePercentile: "percentile_disc",
    EnvelopeAggregate: "envelope-aggregate",
    CentroidAggregate: "centroid-aggregate",
    ConvexHullAggregate: "convex-hull-aggregate",
    NoAggregation: "no_aggregation" // TODO: that property needs to be exported to another interface, as it is not REST compatible (see issue #2352)
};
const RESTSimpleLineSymbolStyle = {
    Dash: "esriSLSDash",
    DashDot: "esriSLSDashDot",
    DashDotDot: "esriSLSDashDotDot",
    Dot: "esriSLSDot",
    Null: "esriSLSNull",
    Solid: "esriSLSSolid"
};
const RESTSimpleMarkerSymbolStyle = {
    Circle: "esriSMSCircle",
    Cross: "esriSMSCross",
    Diamond: "esriSMSDiamond",
    Square: "esriSMSSquare",
    X: "esriSMSX",
    Triangle: "esriSMSTriangle"
};
const RESTSimpleFillSymbolStyle = {
    BackwardDiagonal: "esriSFSBackwardDiagonal",
    Cross: "esriSFSCross",
    DiagonalCross: "esriSFSDiagonalCross",
    ForwardDiagonal: "esriSFSForwardDiagonal",
    Horizontal: "esriSFSHorizontal",
    Null: "esriSFSNull",
    Solid: "esriSFSSolid",
    Vertical: "esriSFSVertical"
};
const RESTHorizontalAlignment = {
    Left: "left",
    Right: "right",
    Center: "center",
    Justify: "justify"
};
const RESTVerticalAlignment = {
    Baseline: "baseline",
    Top: "top",
    Middle: "middle",
    Bottom: "bottom"
};
const RESTSymbolType = {
    SLS: "esriSLS",
    SMS: "esriSMS",
    SFS: "esriSFS",
    PMS: "esriPMS",
    PFS: "esriPFS",
    TS: "esriTS"
};
const RESTFontStyle = {
    Italic: "italic",
    Normal: "normal",
    Oblique: "oblique"
};
const RESTFontWeight = {
    Bold: "bold",
    Bolder: "bolder",
    Lighter: "lighter",
    Normal: "normal"
};
const RESTFontDecoration = {
    LineThrough: "line-through",
    Underline: "underline",
    None: "none"
};
const RESTRendererType = {
    UniqueValue: "unique-value",
    Simple: "simple",
    ClassBreaks: "class-breaks",
    Heatmap: "heatmap",
    DotDensity: "dot-density",
    Dictionary: "dictionary",
    PieChart: "pie-chart"
};
const RESTUnits = {
    Feet: "feet",
    Miles: "miles",
    NauticalMiles: "nautical-miles",
    USNauticalMiles: "us-nautical-miles",
    Meters: "meters",
    Kilometers: "kilometers"
};

const WebChartTypes = {
    Chart: "chart",
    Text: "chartText",
    Overlay: "chartOverlay",
    Overlays: "chartOverlays",
    Legend: "chartLegend",
    CursorCrosshair: "cursorCrosshair",
    Axis: "chartAxis",
    GaugeAxisTick: "gaugeAxisTick",
    GaugeNeedle: "gaugeNeedle",
    CategoryAxisFormat: "category",
    NumberAxisFormat: "number",
    DateAxisFormat: "date",
    Guide: "chartGuide",
    ScatterSeries: "scatterSeries",
    PieSeries: "pieSeries",
    PieTick: "pieTick",
    GaugeSeries: "gaugeSeries",
    LineSeries: "lineSeries",
    BarSeries: "barSeries",
    HistogramSeries: "histogramSeries",
    BoxPlotSeries: "boxPlotSeries",
    ProbabilityPlotSeries: "probabilityPlotSeries",
    ProfileGraphSeries: "profileGraphSeries",
    ComboLineAndBarSeries: "comboLineAndBarSeries",
    Buffer: "buffer",
    SizePolicy: "sizeScale"
};
const WebChartDataTransformations = {
    None: "none",
    Log: "logarithmic",
    Sqrt: "squareRoot"
};
const WebChartColoringPatterns = {
    Single: "singleColor",
    Match: "colorMatch" // apply the color from the layer's renderer symbology
};
const WebChartLegendPositions = {
    Left: "left",
    Right: "right",
    Top: "top",
    Bottom: "bottom"
};
const WebChartStackedKinds = {
    Side: "sideBySide",
    Stacked: "stacked",
    Stacked100: "stacked100"
};
const WebChartProbabilityPlotKinds = {
    General: "qqPlot",
    Normalized: "normalQQPlot"
};
const WebChartSortOrderKinds = {
    Ascending: "ASC",
    Descending: "DESC"
};
const WebChartDataSourceTypes = {
    Inline: "inline",
    Layer: "layer"
};
const StatisticsDefaults = {
    statisticType: RESTStatisticType.Count,
    sortingOrder: WebChartSortOrderKinds.Ascending
};
const WebChartLineSmoothedKinds = {
    Bezier: "bezier",
    MonotoneX: "monotoneX",
    MonotoneY: "monotoneY"
};
const WebChartTimeIntervalUnits = {
    Seconds: "esriTimeUnitsSeconds",
    Minutes: "esriTimeUnitsMinutes",
    Hours: "esriTimeUnitsHours",
    Days: "esriTimeUnitsDays",
    Weeks: "esriTimeUnitsWeeks",
    Months: "esriTimeUnitsMonths",
    Years: "esriTimeUnitsYears"
};
const WebChartNullPolicyTypes = {
    Null: "null",
    Zero: "zero",
    Interpolate: "interpolate"
};
const WebChartTimeAggregationTypes = {
    Start: "equalIntervalsFromStartTime",
    End: "equalIntervalsFromEndTime"
};
const WebChartLabelBehavior = {
    None: "none",
    Rotate: "rotate",
    Stagger: "stagger",
    Wrap: "wrap"
};
const WebChartVersionStatus = {
    Same: "same",
    Newer: "newer",
    Older: "older",
    Unrecognized: "unrecognized"
};
const WebChartAxisTypes = {
    Value: "value",
    Date: "date",
    Category: "category"
};
const GaugeChartSubTypes = {
    FeatureGauge: "featureGauge",
    StatisticGauge: "statisticGauge"
};
const SizePolicyScaleTypes = {
    Linear: "linear",
    Logarithmic: "logarithmic"
};
const LabelValueTypes = {
    OriginalValue: "originalValue",
    ModifiedValue: "modifiedValue" // data label or custom label for pie slices
};

const defaultPieFromFieldsName = "arcgis_charts_pie_from_fields_name";
const defaultPieFromFieldsValue = "arcgis_charts_pie_from_fields_value";

const OverlayTerms = {
    Mean: "Mean",
    Median: "Median",
    StdDev: "Standard Deviation",
    Normal: "Normal Distribution",
    Trendline: "Trendline"
};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var t$l;!function(a){a[a.size=22]="size",a[a.lineWidth=50]="lineWidth",a[a.maxSize=120]="maxSize",a[a.maxOutlineSize=80]="maxOutlineSize",a[a.tallSymbolWidth=20]="tallSymbolWidth";}(t$l||(t$l={}));const e$e={fill:[{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 Z"}],squareFill:[{type:"path",path:"M -10,-10 L 10,-10 L 10,10 L -10,10 L -10,-10 Z"}],pathSymbol3DLayer:[{type:"path",path:"M 3,12 L 12,0 L 11,-2 L -4,5 L -1,5 L 1,7 L 3,10 L 3,12 Z"},{type:"circle",cx:-2,cy:10,r:5}],extrudeSymbol3DLayer:[{type:"path",path:"M -7,-5 L -2,0 L -2,7 L -7,3 L -7,-5 Z"},{type:"path",path:"M -2,0 L -2,7 L 10,-3 L 10,-10 L -2,0 Z"},{type:"path",path:"M -7,-5 L -2,0 L 10,-10 L -2,-10 L -7,-5 Z"}],cone:[{type:"path",path:"M 0,-10 L -8,5 L -4,6.5 L 0,7 L 4,6.5 L 8,5 Z"}],tallCone:[{type:"path",path:"M 0,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 0,-9 Z"}],invertedCone:[{type:"path",path:"M 0,7 L -8,-8 L 8,-8 Z"},{type:"path",path:"M -8,-8 L -4,-9.5 L 0,-10 L 4,-9.5 L 8,-8 L 4,-6.5 L 0,-6 L -4,-6.5 Z"}],cube:[{type:"path",path:"M -10,-7 L 0,-12 L 10,-7 L 0,-2 L -10,-7 Z"},{type:"path",path:"M -10,-7 L 0,-2 L 0,12 L -10,7 L -10,-7 Z"},{type:"path",path:"M 0,-2 L 10,-7 L 10,7 L 0,12 L 0,-2 Z"}],tallCube:[{type:"path",path:"M -3.5,-8.5 L 0,-9.5 L 3.5,-8.5 L 0,-7.5 L -3.5,-8.5 Z"},{type:"path",path:"M -3.5,-8.5 L 0,-7.5 L 0,9 L -3.5,8 L -3.5,-8.5 Z"},{type:"path",path:"M 0,-7.5 L 3.5,-8.5 L 3.5,8 L 0,9 L 0,-7.5 Z"}],cylinder:[{type:"path",path:"M -8,-9 L -8,7 L -4,8.5 L 0,9 L 4,8.5 L 8,7 L 8,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:8,ry:2}],tallCylinder:[{type:"path",path:"M -3.5,-9 L -3.5,7 L -1.5,7.8 L 0,8 L 1.5,7.8 L 3.5,7 L 3.5,-9 Z"},{type:"ellipse",cx:0,cy:-9,rx:3.5,ry:1}],diamond:[{type:"path",path:"M 0,-10 L 10,-1 L -1,1 L 0,-10 Z"},{type:"path",path:"M 0,-10 L -1,1 L -8,-1 L 0,-10 Z"},{type:"path",path:"M -1,1 L 0,10 L -8,-1 L -1,1 Z"},{type:"path",path:"M -1,0 L 0,10 L 10,-1 L -1,1 Z"}],tetrahedron:[{type:"path",path:"M 0,-10 L 10,7 L 0,0 L 0,-10 Z"},{type:"path",path:"M 0,-10 L 0,0 L -8,7 L 0,-10 Z"},{type:"path",path:"M 10,7 L 0,0 L -8,7 L 10,7 Z"}]};function m$k(a,e,m){const c=t$l.size;let n=c,p=c;a<1?n*=.75:a>1&&(p*=1.25);const L=0,l=0;let o=c,s=c;e&&m&&(n=p=o=s=0);return [{type:"path",path:[{command:"M",values:[o,L]},{command:"L",values:[m?o:.875*o,L]},{command:"L",values:[m?n-.5*o:l,p-.5*s]},{command:"L",values:[n-.5*o,p-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[o,L]},{command:"L",values:[o,e?L:.125*s]},{command:"L",values:[n-.5*o,e?p-.5*s:s]},{command:"L",values:[n-.5*o,p-.5*s]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[n-.5*o,p-.5*s]},{command:"L",values:[m?n-.5*o:l,p-.5*s]},{command:"L",values:[m?n-.5*o:l,e?p-.5*s:s]},{command:"L",values:[n-.5*o,e?p-.5*s:s]},{command:"Z",values:[]}]}]}function c$n(a){const e=t$l.size,m=.5*a,c=0,n=0;return [{type:"path",path:[{command:"M",values:[n,.7*e*.5]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+m]},{command:"L",values:[n,.7*e+m-.7*e*.5]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,.7*e]},{command:"L",values:[.3*e,.7*e+m]},{command:"L",values:[e,m]},{command:"L",values:[e,c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.3*e,c]},{command:"L",values:[e,c]},{command:"L",values:[.3*e,.7*e]},{command:"L",values:[n,.7*e*.5]},{command:"Z",values:[]}]}]}function n$m(){return [{type:"path",path:"M80,80.2v-27c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4C8.3,59.3,5.7,58,3.9,56c-1.1-1.2-2.4-2.1-3.9-2.8v27"},{type:"path",path:"M11,59.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8v-24c-1.5,0.7-2.8,1.6-3.9,2.8c-1.8,2.1-4.4,3.3-7.1,3.5c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-2.2-2.3-4.7-3.6-7.4-3.6s-5.1,1.3-7.4,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.7-0.1-5.3-1.4-7.1-3.4c-1.1-1.2-2.4-2.1-3.9-2.8v24c1.5,0.7,2.8,1.6,3.9,2.8C5.7,58,8.3,59.3,11,59.4z"},{type:"path",path:"M11,35.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.4-3.6s5.1,1.3,7.4,3.6c1.8,2,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c2.2-2.3,4.7-3.6,7.3-3.6s5.1,1.3,7.4,3.6c1.8,2.1,4.4,3.3,7.2,3.4c2.7-0.1,5.3-1.4,7.1-3.4c1.1-1.2,2.4-2.1,3.9-2.8V3.6c-1.5,0.7-2.8,1.6-3.9,2.8c-2.2,2.1-4.6,3.4-7.1,3.4s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6S42.5,9.9,40,9.9s-5-1.3-7.1-3.4s-4.7-3.6-7.4-3.6s-5.1,1.3-7.3,3.6c-1.8,2.1-4.4,3.3-7.2,3.4c-2.5,0-5-1.3-7.1-3.4C2.8,5.3,1.4,4.3,0,3.6v25.6c1.5,0.7,2.8,1.6,3.9,2.8C5.7,34.1,8.3,35.3,11,35.4z"}]}function p$s(a,e){let m=e?t$l.tallSymbolWidth:a;const c=a,n=e?4:6;m<=t$l.size?m-=.5*n:m-=n;const p=0,L=0,l=e?.35*m:.5*m;return [{type:"path",path:[{command:"M",values:[.5*m,p]},{command:"L",values:[m,.5*l]},{command:"L",values:[.5*m,l]},{command:"L",values:[L,.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[p,.5*l]},{command:"L",values:[.5*m,l]},{command:"L",values:[.5*m,c]},{command:"L",values:[L,c-.5*l]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.5*m,l]},{command:"L",values:[.5*m,c]},{command:"L",values:[m,c-.5*l]},{command:"L",values:[m,.5*l]},{command:"Z",values:[]}]}]}function L$9(a,e){let m=e?t$l.tallSymbolWidth:a;const c=a,n=e?4:6;m<=t$l.size?m-=.5*n:m-=n;const p=.5*m,L=.15*m,l=0,o=c-L;return [{type:"ellipse",cx:.5*m,cy:o,rx:p,ry:L},{type:"path",path:[{command:"M",values:[l,L]},{command:"L",values:[l,o]},{command:"L",values:[m,o]},{command:"L",values:[m,L]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*m,cy:L,rx:p,ry:L}]}function l$i(a,e){let m=e?t$l.tallSymbolWidth:a;const c=a,n=e?4:6;m<=t$l.size?m-=.5*n:m-=n;const p=.15*m,L=c-p;return [{type:"ellipse",cx:.5*m,cy:L,rx:.5*m,ry:p},{type:"path",path:[{command:"M",values:[.5*m,0]},{command:"L",values:[m,L]},{command:"L",values:[0,L]},{command:"Z",values:[]}]}]}function o$n(a){let e=a;const m=a,c=6;e<t$l.size?e-=.5*c:e-=c;const n=.15*e,p=0;return [{type:"path",path:[{command:"M",values:[0,p]},{command:"L",values:[e,p]},{command:"L",values:[.5*e,m-n]},{command:"Z",values:[]}]},{type:"ellipse",cx:.5*e,cy:p,rx:.5*e,ry:n}]}function s$l(a){let e=a;const m=a,c=4;e<t$l.size?e-=.5*c:e-=c;const n=0,p=0,L=e,l=m,o=Math.floor(a/10)-1||1;return [{type:"path",path:[{command:"M",values:[.45*L,n]},{command:"L",values:[L,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,n]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"L",values:[p,.5*l-o]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[p,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"L",values:[.45*L,m]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*L,m]},{command:"L",values:[L,.5*l-o]},{command:"L",values:[.45*L-o,.5*l+o]},{command:"Z",values:[]}]}]}function u$l(a){const e=a,m=2;let c=a;c<t$l.size?c-=.5*m:c-=m;const n=0,p=0;return [{type:"path",path:[{command:"M",values:[.45*e,n]},{command:"L",values:[e,c]},{command:"L",values:[.45*e,.6*c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[.45*e,n]},{command:"L",values:[.45*e,.6*c]},{command:"L",values:[p,c]},{command:"Z",values:[]}]},{type:"path",path:[{command:"M",values:[p,c]},{command:"L",values:[.45*e,.6*c]},{command:"L",values:[e,c]},{command:"Z",values:[]}]}]}function h$d(a,t){const e=.75;return Math.round(Math.min(Math.max(a+255*t*e,0),255))}function d$j(t,e){if(null==t)return new h$e;if("type"in t&&("linear"===t.type||"pattern"===t.type))return t;const m=new h$e(t);return new h$e([h$d(m.r,e),h$d(m.g,e),h$d(m.b,e),m.a])}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f$f="http://www.w3.org/2000/svg";let c$m=0,d$i=0;const u$k=has("android"),y$b=has("chrome")||u$k&&u$k>=4?"auto":"optimizeLegibility",p$r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},g$d=/([A-DF-Za-df-z])|([-+]?\d*[.]?\d+(?:[eE][-+]?\d+)?)/g;let m$j={},x$5={};const w$c={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]},k$7=Math.PI;let b$9=1;function j$6(t,e){const i=t*(k$7/180);return Math.abs(e*Math.sin(i))+Math.abs(e*Math.cos(i))}function v$8(t){return t.map((t=>`${t.command} ${t.values.join(" ")}`)).join(" ").trim()}function M$5(t,i,n,r){if(t){if("circle"===t.type)return n$n("circle",{fill:i,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-dashoffset":n.dashOffset,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,r:t.r});if("ellipse"===t.type)return n$n("ellipse",{fill:i,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",cx:t.cx,cy:t.cy,rx:t.rx,ry:t.ry});if("rect"===t.type)return n$n("rect",{fill:i,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",x:t.x,y:t.y,width:t.width,height:t.height});if("image"===t.type)return n$n("image",{href:t.src,x:t.x,y:t.y,width:t.width,height:t.height,preserveAspectRatio:"none"});if("path"===t.type){const e="string"!=typeof t.path?v$8(t.path):t.path;return n$n("path",{fill:i,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4",d:e})}if("text"===t.type)return r$g(r),n$n("text",{"dominant-baseline":r.dominantBaseline,fill:i,"fill-rule":"evenodd",stroke:n.color,"stroke-width":n.width,"stroke-linecap":n.cap,"stroke-linejoin":n.join,"stroke-dasharray":n.dashArray,"stroke-miterlimit":"4","text-anchor":r.align,"text-decoration":r.decoration,kerning:r.kerning,rotate:r.rotate,"text-rendering":y$b,"font-style":r.font.style,"font-variant":r.font.variant,"font-weight":r.font.weight,"font-size":r.font.size,"font-family":r.font.family,x:t.x,y:t.y},t.text)}return null}function A$8(e){const i={fill:"none",pattern:null,linearGradient:null};if(e)if("type"in e&&"pattern"===e.type){const t="patternId-"+ ++c$m;i.fill=`url(#${t})`,i.pattern={id:t,x:e.x,y:e.y,width:e.width,height:e.height,image:{x:0,y:0,width:e.width,height:e.height,href:e.src}};}else if("type"in e&&"linear"===e.type){const n="linearGradientId-"+ ++d$i;i.fill=`url(#${n})`,i.linearGradient={id:n,x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stops:e.colors.map((e=>({offset:e.offset,color:e.color&&new h$e(e.color).toString()})))};}else if(e){const n=new h$e(e);i.fill=n.toString();}return i}function S$6(e){const i={color:"none",width:1,cap:"butt",join:"4",dashArray:"none",dashOffset:"0"};if(e&&(null!=e.width&&(i.width=e.width),e.cap&&(i.cap=e.cap),e.join&&(i.join=e.join.toString()),e.color&&(i.color=new h$e(e.color).toString()),e.dashArray&&(i.dashArray=e.dashArray),e.dashArray&&(i.dashOffset=e.dashoffset),e.style)){let t=null;if(e.style in w$c&&(t=w$c[e.style]),Array.isArray(t)){t=t.slice(0);const i=e.width??0;for(let e=0;e<t.length;++e)t[e]*=i;if("butt"!==e.cap){for(let e=0;e<t.length;e+=2)t[e]-=i,t[e]<1&&(t[e]=1);for(let e=1;e<t.length;e+=2)t[e]+=i;}t=t.join(",");}i.dashArray=t;}return i}function $$7(t,i){const n={align:null,decoration:null,kerning:null,rotate:null,font:{style:null,variant:null,weight:null,size:null,family:null}};if(t){const r=t.alignBaseline,o="baseline"===r?"auto":"top"===r?"text-top":"bottom"===r?"hanging":r;n.align=t.align,n.dominantBaseline=o,n.decoration=t.decoration,n.kerning=t.kerning?"auto":"0",n.rotate=t.rotated?"90":"0",r$g(i),n.font.style=i.style||"normal",n.font.variant=i.variant||"normal",n.font.weight=i.weight||"normal",n.font.size=i.size&&i.size.toString()||"10pt",n.font.family=i.family||"serif";}return n}function N$3(t){const{pattern:e,linearGradient:i}=t;if(e)return n$n("pattern",{id:e.id,patternUnits:"userSpaceOnUse",x:e.x,y:e.y,width:e.width,height:e.height},n$n("image",{x:e.image.x,y:e.image.y,width:e.image.width,height:e.image.height,href:e.image.href}));if(i){const t=i.stops.map(((t,e)=>n$n("stop",{key:`${e}-stop`,offset:t.offset,"stop-color":t.color})));return n$n("linearGradient",{id:i.id,gradientUnits:"userSpaceOnUse",x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},t)}return null}function G$4(t,e){if(!t||0===t.length)return null;const i=[];for(const n of t){const{shape:t,fill:e,stroke:r,font:o}=n,s=A$8(e),a=S$6(r),l="text"===t.type?$$7(t,o):null,h=M$5(t,s.fill,a,l);h&&i.push(h);}return n$n("mask",{id:e,maskUnits:"userSpaceOnUse"},n$n("g",null,i))}function I$6(t,e,i){return i$u(t,n$o(t),[e,i])}function z$6(t,e,i,n,r){return c$o(t,n$o(t),[e,i]),t[4]=t[4]*e-n*e+n,t[5]=t[5]*i-r*i+r,t}function B$6(t,e,i,n){const r=e%360*Math.PI/180;e$f(t,n$o(t),r);const o=Math.cos(r),a=Math.sin(r),h=t[4],f=t[5];return t[4]=h*o-f*a+n*a-i*o+i,t[5]=f*o+h*a-i*a-n*o+n,t}function U$7(t,e){m$j&&"left"in m$j?(null!=m$j.left&&m$j.left>t&&(m$j.left=t),(null==m$j.right||m$j.right<t)&&(m$j.right=t),(null==m$j.top||m$j.top>e)&&(m$j.top=e),(null==m$j.bottom||m$j.bottom<e)&&(m$j.bottom=e)):m$j={left:t,bottom:e,right:t,top:e};}function F$4(t){const e=t.args,i=e.length;let n;switch(t.action){case"M":case"L":case"C":case"S":case"Q":case"T":for(n=0;n<i;n+=2)U$7(e[n],e[n+1]);x$5.x=e[i-2],x$5.y=e[i-1];break;case"H":for(n=0;n<i;++n)U$7(e[n],x$5.y);x$5.x=e[i-1];break;case"V":for(n=0;n<i;++n)U$7(x$5.x,e[n]);x$5.y=e[i-1];break;case"m":{let t=0;"x"in x$5||(U$7(x$5.x=e[0],x$5.y=e[1]),t=2);for(n=t;n<i;n+=2)U$7(x$5.x+=e[n],x$5.y+=e[n+1]);break}case"l":case"t":for(n=0;n<i;n+=2)U$7(x$5.x+=e[n],x$5.y+=e[n+1]);break;case"h":for(n=0;n<i;++n)U$7(x$5.x+=e[n],x$5.y);break;case"v":for(n=0;n<i;++n)U$7(x$5.x,x$5.y+=e[n]);break;case"c":for(n=0;n<i;n+=6)U$7(x$5.x+e[n],x$5.y+e[n+1]),U$7(x$5.x+e[n+2],x$5.y+e[n+3]),U$7(x$5.x+=e[n+4],x$5.y+=e[n+5]);break;case"s":case"q":for(n=0;n<i;n+=4)U$7(x$5.x+e[n],x$5.y+e[n+1]),U$7(x$5.x+=e[n+2],x$5.y+=e[n+3]);break;case"A":for(n=0;n<i;n+=7)U$7(e[n+5],e[n+6]);x$5.x=e[i-2],x$5.y=e[i-1];break;case"a":for(n=0;n<i;n+=7)U$7(x$5.x+=e[n+5],x$5.y+=e[n+6]);}}function O$6(t,e,i){const n=p$r[t.toLowerCase()];let r;"number"==typeof n&&(n?e.length>=n&&(r={action:t,args:e.slice(0,e.length-e.length%n)},i.push(r),F$4(r)):(r={action:t,args:[]},i.push(r),F$4(r)));}function T$6(t){const e=("string"!=typeof t.path?v$8(t.path):t.path).match(g$d),i=[];if(m$j={},x$5={},!e)return null;let n="",r=[];const o=e.length;for(let a=0;a<o;++a){const t=e[a],o=parseFloat(t);isNaN(o)?(n&&O$6(n,r,i),r=[],n=t):r.push(o);}O$6(n,r,i);const s={x:0,y:0,width:0,height:0};return m$j&&"left"in m$j&&(s.x=m$j.left,s.y=m$j.top,s.width=m$j.right-m$j.left,s.height=m$j.bottom-m$j.top),s}function E$5(t){const e={x:0,y:0,width:0,height:0};if("circle"===t.type)e.x=t.cx-t.r,e.y=t.cy-t.r,e.width=2*t.r,e.height=2*t.r;else if("ellipse"===t.type)e.x=t.cx-t.rx,e.y=t.cy-t.ry,e.width=2*t.rx,e.height=2*t.ry;else if("image"===t.type||"rect"===t.type)e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;else if("path"===t.type){const n=u$m(T$6(t));e.x=n.x,e.y=n.y,e.width=n.width,e.height=n.height;}return e}function V$8(t){const e={x:0,y:0,width:0,height:0};let i=null,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY;for(const o of t)i?(i.x=Math.min(i.x,o.x),i.y=Math.min(i.y,o.y),n=Math.max(n,o.x+o.width),r=Math.max(r,o.y+o.height)):(i=e,i.x=o.x,i.y=o.y,n=o.x+o.width,r=o.y+o.height);return i&&(i.width=n-i.x,i.height=r-i.y),i}function C$a(t,e,i,o,s,a,l,h,f){let c=(l&&a?j$6(a,e):e)/2,d=(l&&a?j$6(a,i):i)/2;if(f){const t=f[0],e=f[1];c=(l&&a?j$6(a,t):t)/2,d=(l&&a?j$6(a,e):e)/2;}const u=t.width+o,y=t.height+o,p=n$p(),g=n$p();let m=!1;if(s&&0!==u&&0!==y){const t=e!==i?e/i:u/y,n=e>i?e:i;let o=1,s=1;isNaN(n)||(t>1?(o=n/u,s=n/t/y):(s=n/y,o=n*t/u)),o$o(g,g,z$6(p,o,s,c,d)),m=!0;}const x=t.x+(u-o)/2,w=t.y+(y-o)/2;if(o$o(g,g,I$6(p,c-x,d-w)),!m&&(u>e||y>i)){const t=u/e>y/i,n=(t?e:i)/(t?u:y);o$o(g,g,z$6(p,n,n,x,w));}return a&&o$o(g,g,B$6(p,a,x,w)),h&&o$o(g,g,I$6(p,h[0],h[1])),`matrix(${g[0]},${g[1]},${g[2]},${g[3]},${g[4]},${g[5]})`}function D$5(t,e,i){const n=t?.effects.find((t=>"bloom"===t.type));if(!n)return null;const{strength:r,radius:o}=n,s=r>0?o:0,a=(r+s)*e,l=4*r+1;return n$n("filter",{id:`bloom${i}`,x:"-100%",y:"-100%",width:"300%",height:"300%",filterUnits:"userSpaceOnUse"},n$n("feMorphology",{operator:"dilate",radius:(r+.5*s)*(5**(e/100)*(.4+e/100)),in:"SourceGraphic",result:"dilate"}),n$n("feGaussianBlur",{in:"dilate",stdDeviation:a/25,result:"blur"}),n$n("feGaussianBlur",{in:"blur",stdDeviation:a/50,result:"intensityBlur"}),n$n("feComponentTransfer",{in:"SourceGraphic",result:"intensityBrightness"},n$n("feFuncR",{type:"linear",slope:l}),n$n("feFuncG",{type:"linear",slope:l}),n$n("feFuncB",{type:"linear",slope:l})),n$n("feMerge",null,n$n("feMergeNode",{in:"intensityBlur"}),n$n("feMergeNode",{in:"intensityBrightness"}),n$n("feGaussianBlur",{stdDeviation:r/10})))}function L$8(t,n,r,o={}){const s=[],a=[],l=++b$9,c=D$5(o.effectView,n,l);let d=null;if(c){const t=o.effectView?.effects.find((t=>"bloom"===t.type)),e=(t.strength?t.strength+t.radius/2:0)/3,i=n+n*e,s=r+r*e;d=[Math.max(i,10),Math.max(s,10)];}for(let e=0;e<t.length;e++){const l=t[e],f=[],c=[];let u=0,y=0,p=0;for(const t of l){const{shape:e,fill:i,stroke:n,font:r,offset:a}=t;o.ignoreStrokeWidth||"text"===e.type||(u+=n&&n.width||0);const l=A$8(i),h=S$6(n),d="text"===e.type?$$7(e,r):null;s.push(N$3(l)),f.push(M$5(e,l.fill,h,d)),c.push(E$5(e)),a&&(y+=a[0],p+=a[1]);}const g=C$a(u$m(V$8(c)),n,r,u,o.scale??!1,o.rotation,o.useRotationSize??!1,[y,p],d);let m=null;if(o.masking){const t=`mask-${e}`,i=o.masking[e];s.push(G$4(i,t)),m=`url(#${t})`;}a.push(m?n$n("g",{mask:m},n$n("g",{transform:g},f)):n$n("g",{transform:g},f));}o.useRotationSize&&o.rotation&&(n=j$6(o.rotation,n),r=j$6(o.rotation,r)),c&&(r$g(d),n=d[0],r=d[1]);return n$n("svg",{xmlns:f$f,width:n,height:r,style:"display: block;","aria-labelledby":o.ariaLabel,role:"img",focusable:!1},c,n$n("defs",null,s),c?n$n("g",{filter:`url(#bloom${l})`},a):a)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s$k=i$v();function h$c(t,e){s$k.append(t,e),s$k.detach(e);}function l$h(t,e,i){const r=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!t.some((t=>!!t.length)))return null;const o=i&&i.node||document.createElement("div");null!=i.opacity&&(o.style.opacity=i.opacity.toString()),null!=i.effectView&&(o.style.filter=J$4(i.effectView));return h$c(o,(()=>L$8(t,r,n,i))),o}function m$i(t,e){t=Math.ceil(t),e=Math.ceil(e);const i=document.createElement("canvas");i.width=t,i.height=e,i.style.width=t+"px",i.style.height=e+"px";const r=i.getContext("2d");return r.clearRect(0,0,t,e),r}function g$c(t,i,r){return t?j$7(t,{responseType:"image"}).then((t=>{const e=t.data,n=e.width,o=e.height,a=n/o;let c=i;if(r){const t=Math.max(n,o);c=Math.min(c,t);}return {image:e,width:a<=1?Math.ceil(c*a):c,height:a<=1?c:Math.ceil(c/a)}})):Promise.reject(new s$m("renderUtils: imageDataSize","href not provided."))}function u$j(t,e){return !(!t||"ignore"===e)&&("multiply"!==e||255!==t.r||255!==t.g||255!==t.b||1!==t.a)}function f$e(t,e,n,o,a){switch(a){case"multiply":t[e]*=n[0],t[e+1]*=n[1],t[e+2]*=n[2],t[e+3]*=n[3];break;default:{const a=y$c({r:t[e],g:t[e+1],b:t[e+2]});a.h=o.h,a.s=o.s,a.v=a.v/100*o.v;const c=p$t(a);t[e]=c.r,t[e+1]=c.g,t[e+2]=c.b,t[e+3]*=n[3];break}}}function d$h(e,r,n,o,a){return g$c(e,r,a).then((a=>{const c=a.width??r,s=a.height??r;if(a.image&&u$j(n,o)){let t=a.image.width,r=a.image.height;has("edge")&&/\.svg$/i.test(e)&&(t-=1,r-=1);const h=m$i(c,s);h.drawImage(a.image,0,0,t,r,0,0,c,s);const l=h.getImageData(0,0,c,s),g=[n.r/255,n.g/255,n.b/255,n.a],u=y$c(n);for(let e=0;e<l.data.length;e+=4)f$e(l.data,e,g,u,o);h.putImageData(l,0,0),e=h.canvas.toDataURL("image/png");}else {const i=n$q&&n$q.findCredential(e);if(i&&i.token){const t=e.includes("?")?"&":"?";e=`${e}${t}token=${i.token}`;}}return {url:e,width:c,height:s}})).catch((()=>({url:e,width:r,height:r})))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const b$8="esri-relationship-ramp",u$i=`${b$8}--diamond`,c$l=`${b$8}--square`,f$d="http://www.w3.org/2000/svg",p$q={diamondContainer:`${u$i}__container`,diamondLeftCol:`${u$i}__left-column`,diamondRightCol:`${u$i}__right-column`,diamondMidCol:`${u$i}__middle-column`,diamondMidColLabel:`${u$i}__middle-column--label`,diamondMidColRamp:`${u$i}__middle-column--ramp`,squareTable:`${c$l}__table`,squareTableRow:`${c$l}__table-row`,squareTableCell:`${c$l}__table-cell`,squareTableLabel:`${c$l}__table-label`,squareTableLabelLeftBottom:`${c$l}__table-label--left-bottom`,squareTableLabelRightBottom:`${c$l}__table-label--right-bottom`,squareTableLabelLeftTop:`${c$l}__table-label--left-top`,squareTableLabelRightTop:`${c$l}__table-label--right-top`};function h$b(e,l,a={}){const{focus:r,labels:t}=e,s=!!r,o=T$5(e,l,a),i={justifyContent:"center"},b=h$f();return s?n$n("div",{class:p$q.diamondContainer,styles:i},n$n("div",{class:p$q.diamondLeftCol},b?t.right:t.left),n$n("div",{class:p$q.diamondMidCol},n$n("div",{class:p$q.diamondMidColLabel},t.top),o,n$n("div",{class:p$q.diamondMidColLabel},t.bottom)),n$n("div",{class:p$q.diamondRightCol},b?t.left:t.right)):n$n("div",{class:p$q.squareTable},n$n("div",{class:p$q.squareTableRow},n$n("div",{class:m$l(p$q.squareTableCell,p$q.squareTableLabel,p$q.squareTableLabelRightBottom)},b?t.top:t.left),n$n("div",{class:p$q.squareTableCell}),n$n("div",{class:m$l(p$q.squareTableCell,p$q.squareTableLabel,p$q.squareTableLabelLeftBottom)},b?t.left:t.top)),n$n("div",{class:p$q.squareTableRow},n$n("div",{class:p$q.squareTableCell}),o,n$n("div",{class:p$q.squareTableCell})),n$n("div",{class:p$q.squareTableRow},n$n("div",{class:m$l(p$q.squareTableCell,p$q.squareTableLabel,p$q.squareTableLabelRightTop)},b?t.right:t.bottom),n$n("div",{class:p$q.squareTableCell}),n$n("div",{class:m$l(p$q.squareTableCell,p$q.squareTableLabel,p$q.squareTableLabelLeftTop)},b?t.bottom:t.right)))}function k$6(e,l,a){const r=`${a}_arrowStart`,t=`${a}_arrowEnd`,s="left"===e,o={markerStart:null,markerEnd:null};switch(l){case"HL":s?o.markerStart=`url(#${t})`:o.markerEnd=`url(#${r})`;break;case"LL":o.markerStart=`url(#${t})`;break;case"LH":s?o.markerEnd=`url(#${r})`:o.markerStart=`url(#${t})`;break;default:o.markerEnd=`url(#${r})`;}return o}function T$5(n,d,b={}){const{focus:u,numClasses:c,colors:h,rotation:T}=n,{opacity:_,effectList:q,ariaLabel:L}=b,g=b.size??60,$=!!u,C=Math.sqrt(g**2+g**2)+($?0:5),v=[],w=[],y=[],x=(g||75)/c;for(let s=0;s<c;s++){const o=s*x;for(let i=0;i<c;i++){const n=i*x,d=A$8(h[s][i]),m=S$6(null),b={type:"rect",x:n,y:o,width:x,height:x},u=N$3(d);u&&v.push(u);const c=M$5(b,d.fill,m,null);c&&w.push(c),y.push(E$5(b));}}const R=10,E=15,M=15,S=10;let j=null;$||(j="margin: -15px -15px -18px -15px");const B=k$6("left",u,d),H=k$6("right",u,d),U=V$8(y),W=C$a(U,C,C,0,!1,T,!1),X=C$a(U,C,C,0,!1,$?-45:null,!1),Y={filter:J$4(q)??void 0,opacity:null==_?"":`${_}`};return n$n("div",{styles:Y,class:$?p$q.diamondMidColRamp:p$q.squareTableCell},n$n("svg",{xmlns:f$d,width:C,height:C,style:j,"aria-labelledBy":L,role:"image",focusable:!1},n$n("defs",null,n$n("marker",{id:`${d}_arrowStart`,markerWidth:"10",markerHeight:"10",refX:"5",refY:"5",markerUnits:"strokeWidth",orient:"auto"},n$n("polyline",{points:"0,0 5,5 0,10",fill:"none",stroke:"#555555","stroke-width":"1"})),n$n("marker",{id:`${d}_arrowEnd`,markerWidth:"10",markerHeight:"10",refX:"0",refY:"5",markerUnits:"strokeWidth",orient:"auto"},n$n("polyline",{points:"5,0 0,5 5,10",fill:"none",stroke:"#555555","stroke-width":"1"})),v),n$n("g",{transform:W},w),n$n("g",{transform:X},n$n("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":B.markerStart,"marker-end":B.markerEnd,x1:-R,y1:g-E,x2:-R,y2:E}),n$n("line",{fill:"none",stroke:"#555555","stroke-width":"1","marker-start":H.markerStart,"marker-end":H.markerEnd,x1:M,y1:g+S,x2:g-M,y2:g+S}))))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const D$4=t$l.size,O$5=t$l.maxSize,C$9=t$l.maxOutlineSize,R$4=t$l.lineWidth,E$4=t$l.tallSymbolWidth;function I$5(e){const t=e.outline,s=null!=e.material?e.material.color:null,a=null!=s?s.toHex():null;if(null==t||"pattern"in t&&null!=t.pattern&&"style"===t.pattern.type&&"none"===t.pattern.style)return "fill"===e.type&&"#ffffff"===a?{color:"#bdc3c7",width:.75}:null;const l=u$n(t.size)||0;return {color:"rgba("+(null!=t.color?t.color.toRgba():"255,255,255,1")+")",width:Math.min(l,C$9),style:"pattern"in t&&null!=t.pattern&&"style"===t.pattern.type?d$k(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}async function Z$3(t,s){if(t.thumbnail?.url)return t.thumbnail.url;if("icon"===s.type){const e=s?.resource?.href;if(e)return h$g(s)}const a=a$s("esri/images/Legend/legend3dsymboldefault.png");if(t.styleOrigin&&(t.styleOrigin.styleName||t.styleOrigin.styleUrl)){const e=await j$8(t.styleOrigin,{portal:t.styleOrigin.portal},"webRef").catch((()=>null));if(e&&"thumbnail"in e&&e.thumbnail?.url)return e.thumbnail.url}return a}function q$4(e,a=1){const l=e.a,r=y$c(e),n=r.h,o=r.s/a,i=100-(100-r.v)/a,{r:c,g:p,b:u}=p$t({h:n,s:o,v:i});return [c,p,u,l]}function H$3(e){return "water"===e.type?null==e.color?null:e.color:null==e.material||null==e.material.color?null:e.material.color}function N$2(e,t=0){const s=H$3(e);if(!s){if("fill"===e.type)return null;const s=g$e.r,a=h$d(s,t);return [a,a,a,100]}const a=s.toRgba();for(let l=0;l<3;l++)a[l]=h$d(a[l],t);return a}async function T$4(t,s){const a=t.style;if("none"===a)return null;return {type:"pattern",x:0,y:0,src:await h$h(a$s(`esri/symbols/patterns/${a}.png`),s.toCss(!0)),width:5,height:5}}function W$4(e){return e.outline?I$5(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function $$6(e,t){const s=H$3(e);if(!s)return null;let a="rgba(";return a+=h$d(s.r,t)+",",a+=h$d(s.g,t)+",",a+=h$d(s.b,t)+",",a+s.a+");"}function A$7(e,t){const s=$$6(e,t);if(!s)return {};if("pattern"in e&&null!=e.pattern&&"style"===e.pattern.type&&"none"===e.pattern.style)return null;return {color:s,width:Math.min(e.size?u$n(e.size):.75,C$9),style:"pattern"in e&&null!=e.pattern&&"style"===e.pattern.type?d$k(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?u$n(2):e.join:null}}function B$5(e,t,s){const a=null!=s?.75*s:0;return {type:"linear",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function F$3(e){const t=e.depth,s=e.height,a=e.width;return 0!==a&&0!==t&&0!==s&&a===t&&null!=a&&null!=s&&a<s}function G$3(e,t,s){const a=[];if(!e)return a;switch(e.type){case"icon":{const s=0,l=0,r=t,n=t;switch(e.resource&&e.resource.primitive||j$9){case"circle":a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:N$2(e,0),stroke:I$5(e)});break;case"square":a.push({shape:{type:"path",path:[{command:"M",values:[s,n]},{command:"L",values:[s,l]},{command:"L",values:[r,l]},{command:"L",values:[r,n]},{command:"Z",values:[]}]},fill:N$2(e,0),stroke:I$5(e)});break;case"triangle":a.push({shape:{type:"path",path:[{command:"M",values:[s,n]},{command:"L",values:[.5*r,l]},{command:"L",values:[r,n]},{command:"Z",values:[]}]},fill:N$2(e,0),stroke:I$5(e)});break;case"cross":a.push({shape:{type:"path",path:[{command:"M",values:[.5*r,l]},{command:"L",values:[.5*r,n]},{command:"M",values:[s,.5*n]},{command:"L",values:[r,.5*n]}]},stroke:W$4(e)});break;case"x":a.push({shape:{type:"path",path:[{command:"M",values:[s,l]},{command:"L",values:[r,n]},{command:"M",values:[r,l]},{command:"L",values:[s,n]}]},stroke:W$4(e)});break;case"kite":a.push({shape:{type:"path",path:[{command:"M",values:[s,.5*n]},{command:"L",values:[.5*r,l]},{command:"L",values:[r,.5*n]},{command:"L",values:[.5*r,n]},{command:"Z",values:[]}]},fill:N$2(e,0),stroke:I$5(e)});}break}case"object":switch(e.resource&&e.resource.primitive||d$l){case"cone":{const l=B$5(N$2(e,0),N$2(e,-.6),s?E$4:t),r=l$i(t,s);a.push({shape:r[0],fill:l}),a.push({shape:r[1],fill:l});break}case"inverted-cone":{const s=N$2(e,0),l=B$5(s,N$2(e,-.6),t),r=o$n(t);a.push({shape:r[0],fill:l}),a.push({shape:r[1],fill:s});break}case"cube":{const l=p$s(t,s);a.push({shape:l[0],fill:N$2(e,0)}),a.push({shape:l[1],fill:N$2(e,-.3)}),a.push({shape:l[2],fill:N$2(e,-.5)});break}case"cylinder":{const l=B$5(N$2(e,0),N$2(e,-.6),s?E$4:t),r=L$9(t,s);a.push({shape:r[0],fill:l}),a.push({shape:r[1],fill:l}),a.push({shape:r[2],fill:N$2(e,0)});break}case"diamond":{const s=s$l(t);a.push({shape:s[0],fill:N$2(e,-.3)}),a.push({shape:s[1],fill:N$2(e,0)}),a.push({shape:s[2],fill:N$2(e,-.3)}),a.push({shape:s[3],fill:N$2(e,-.7)});break}case"sphere":{const s=B$5(N$2(e,0),N$2(e,-.6));s.x1=0,s.y1=0,s.x2=.25*t,s.y2=.25*t,a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:s});break}case"tetrahedron":{const s=u$l(t);a.push({shape:s[0],fill:N$2(e,-.3)}),a.push({shape:s[1],fill:N$2(e,0)}),a.push({shape:s[2],fill:N$2(e,-.6)});break}}break}return a}function J$3(e){const t="number"==typeof e?.size?e?.size:null;return t?u$n(t):null}function K$2(e){return "icon"===e.type?"multiply":"tint"}function Q$3(e,t){const s=J$3(t),a=t?.maxSize?u$n(t.maxSize):null,r=t?.disableUpsampling??!1,i=e.symbolLayers,c=[];let p=0,u=0;const h=i.at(-1);let m;return h&&"icon"===h.type&&(m=h.size&&u$n(h.size)),i.forEach((l=>{if("icon"!==l.type&&"object"!==l.type)return;const n="icon"===l.type?l.size&&u$n(l.size):0,i=s||n?Math.ceil(Math.min(s||n,a||O$5)):D$4;if(l&&l.resource&&l.resource.href){const t=Z$3(e,l).then((e=>{const t=l.get("material.color"),s=K$2(l);return d$h(e,i,t,s,r)})).then((e=>{const t=e.width,s=e.height;return p=Math.max(p,t),u=Math.max(u,s),[{shape:{type:"image",x:0,y:0,width:t,height:s,src:e.url},fill:null,stroke:null}]}));c.push(t);}else {let e=i;"icon"===l.type&&m&&s&&(e=i*(n/m));const a="tall"===t?.symbolConfig||t?.symbolConfig?.isTall||"object"===l.type&&F$3(l);p=Math.max(p,a?E$4:e),u=Math.max(u,e),c.push(Promise.resolve(G$3(l,e,a)));}})),j$a(c).then((e=>{const s=[];return e.forEach((e=>{e.value?s.push(e.value):e.error&&s$n.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error);})),l$h(s,[p,u],{node:t&&t.node,scale:!1,opacity:t&&t.opacity,ariaLabel:t?.ariaLabel})}))}function V$7(e,t){const s=e.symbolLayers,a=[],l=p$u(e),r=J$3(t),n=(t&&t.maxSize?u$n(t.maxSize):null)||C$9;let i,c=0,p=0;return s.forEach(((e,t)=>{if(!e)return;if("line"!==e.type&&"path"!==e.type)return;const s=[];switch(e.type){case"line":{const a=A$7(e,0);if(null==a)break;const l=a&&a.width||0;0===t&&(i=l);const o=Math.min(r||l,n),u=0===t?o:r?o*(l/i):o,h=u>R$4/2?2*u:R$4;p=Math.max(p,u),c=Math.max(c,h),a.width=u,s.push({shape:{type:"path",path:[{command:"M",values:[0,.5*p]},{command:"L",values:[c,.5*p]}]},stroke:a});break}case"path":{const t=Math.min(r||D$4,n),a=N$2(e,0),l=N$2(e,-.2),o=$$6(e,-.4),i=o?{color:o,width:1}:{};if("quad"===e.profile){const t=e.width,r=e.height,n=m$k(t&&r?t/r:1,0===r,0===t),o={...i,join:"bevel"};s.push({shape:n[0],fill:l,stroke:o}),s.push({shape:n[1],fill:l,stroke:o}),s.push({shape:n[2],fill:a,stroke:o});}else s.push({shape:e$e.pathSymbol3DLayer[0],fill:l,stroke:i}),s.push({shape:e$e.pathSymbol3DLayer[1],fill:a,stroke:i});p=Math.max(p,t),c=p;}}a.push(s);})),Promise.resolve(l$h(a,[c,p],{node:t&&t.node,scale:l,opacity:t&&t.opacity,ariaLabel:t?.ariaLabel}))}async function X$3(e,t){const s="mesh-3d"===e.type,a=e.symbolLayers,l=J$3(t),n=t&&t.maxSize?u$n(t.maxSize):null,i=l||D$4,c=[];let p=0,u=0,h=!1;for(let o=0;o<a.length;o++){const e=a.at(o),t=[];if(s&&"fill"!==e.type)continue;const l=e$e.fill[0];switch(e.type){case"fill":{const a=I$5(e),r=Math.min(i,n||O$5);p=Math.max(p,r),u=Math.max(u,r),h=!0;let o=N$2(e,0);const c="pattern"in e?e.pattern:null,m=H$3(e);!s&&null!=c&&"style"===c.type&&"solid"!==c.style&&m&&(o=await T$4(c,m)),t.push({shape:l,fill:o,stroke:a});break}case"line":{const s=A$7(e,0);if(null==s)break;const a={stroke:s,shape:l};p=Math.max(p,D$4),u=Math.max(u,D$4),t.push(a);break}case"extrude":{const s={join:"round",width:1,...A$7(e,-.4)},a=N$2(e,0),l=N$2(e,-.2),r=Math.min(i,n||O$5),o=c$n(r);s.width=1,t.push({shape:o[0],fill:l,stroke:s}),t.push({shape:o[1],fill:l,stroke:s}),t.push({shape:o[2],fill:a,stroke:s});const c=D$4,h=.7*D$4+.5*r;p=Math.max(p,c),u=Math.max(u,h);break}case"water":{const s=u$m(H$3(e)),a=q$4(s),l=q$4(s,2),o=q$4(s,3),c=n$m();h=!0,t.push({shape:c[0],fill:a}),t.push({shape:c[1],fill:l}),t.push({shape:c[2],fill:o});const m=Math.min(i,n||O$5);p=Math.max(p,m),u=Math.max(u,m);break}}c.push(t);}return l$h(c,[p,u],{node:t&&t.node,scale:h,opacity:t&&t.opacity,ariaLabel:t?.ariaLabel})}function Y$2(e,t){if(0===e.symbolLayers.length)return Promise.reject(new s$m("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return Q$3(e,t);case"line-3d":return V$7(e,t);case"polygon-3d":case"mesh-3d":return X$3(e,t)}return Promise.reject(new s$m("symbolPreview: swatchInfo3D","symbol not supported."))}

const previewSymbol3D = /*#__PURE__*/Object.freeze({
    __proto__: null,
    getPatternDescriptor: T$4,
    getSizeFromOptions: J$3,
    getSymbolLayerFill: N$2,
    previewSymbol3D: Y$2
});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s$j={HH:315,HL:45,LL:135,LH:225},l$g={2:[["HL","HH"],["LL","LH"]],3:[["HL","HM","HH"],["ML","MM","MH"],["LL","LM","LH"]],4:[["HL","HM1","HM2","HH"],["M2L","M2M1","M2M2","M2H"],["M1L","M1M1","M1M2","M1H"],["LL","LM1","LM2","LH"]]};function n$l(t){if(!t)return;const{type:s}=t;if(s.includes("3d"))return N$2(t.symbolLayers.at(0));if("simple-line"===s){const e=y$d(t);return e&&e.color}if("simple-marker"===t.type&&("x"===t.style||"cross"===t.style)){const e=y$d(t);return e&&e.color}return f$g(t)}function H$2(t,o){const e=o.HH.label,r=o.LL.label,s=o.HL.label,l=o.LH.label;switch(t){case"HH":default:return {top:e,bottom:r,left:s,right:l};case"HL":return {top:s,bottom:l,left:r,right:e};case"LL":return {top:r,bottom:e,left:l,right:s};case"LH":return {top:l,bottom:s,left:e,right:r}}}function L$7(o,e){const r=[],s=o.length**.5,l=a$t(o),n=(e||"HH").split(""),H=n[0],L="H"===n[1];for(;l.length;){const t=[];for(;t.length<s;)t.push(l.shift());L&&t.reverse(),r.push(t);}return "L"===H&&r.reverse(),r}function i$t(t){const{focus:o,infos:e,numClasses:r}=t,s=l$g[r],L={};e.forEach((t=>{L[t.value]={label:t.label,fill:n$l(t.symbol)};}));const i=[];for(let l=0;l<r;l++){const t=[];for(let o=0;o<r;o++){const e=L[s[l][o]];t.push(e.fill);}i.push(t);}return {type:"relationship-ramp",numClasses:r,focus:o,colors:i,labels:H$2(o,L),rotation:u$h(o)}}function u$h(t){let o=s$j[t];return t&&null==o&&(o=s$j.HH),o||0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let y$a=null;const d$g=[255,255,255];function m$h(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function b$7(e,t,i){const{backgroundColor:r,outline:a,dotSize:s}=e,n=i&&i.swatchSize||t$l.size,o=.8,c=Math.round(n*n/s**2*o),u=window.devicePixelRatio,f=document.createElement("canvas"),p=n*u;f.width=p,f.height=p,f.style.width=f.width/u+"px",f.style.height=f.height/u+"px";const h=f.getContext("2d");if(r&&(h.fillStyle=r.toCss(!0),h.fillRect(0,0,p,p),h.fill()),h.fillStyle=t?.toCss(!0)??"",y$a&&y$a.length/2===c)for(let l=0;l<2*c;l+=2){const e=y$a[l],t=y$a[l+1];h.fillRect(e,t,s*u,s*u),h.fill();}else {y$a=[];for(let e=0;e<2*c;e+=2){const e=m$h(0,p),t=m$h(0,p);y$a.push(e,t),h.fillRect(e,t,s*u,s*u),h.fill();}}a&&(a.color&&(h.strokeStyle=a.color.toCss(!0)),h.lineWidth=a.width,h.strokeRect(0,0,p,p));const d=new Image(n,n);return d.src=f.toDataURL(),d.ariaLabel=i?.ariaLabel??null,d.alt=i?.ariaLabel??"",d}function g$b(e,l={}){const r=l.radius||40,a=2*Math.PI*r,s=e.length,n=a/s,o=[],c=y$d(l.outline);null!=c?.width&&(c.width*=2),(c||l.backgroundColor)&&o.push({shape:{type:"circle",cx:r,cy:r,r},fill:l.backgroundColor,stroke:c,offset:[0,0]});const u=l.values,f=u&&u.length===s&&100===u.reduce(((e,t)=>e+t),0),p=[0];for(let t=0;t<s;t++){let l=null;f&&(l=u[t]*a/100,p.push(l+p[t])),o.push({shape:{type:"circle",cx:r,cy:r,r:r/2},fill:[0,0,0,0],stroke:{width:r,dashArray:`${(l??n)/2} ${a}`,dashoffset:"-"+(f?p[t]/2:t*(n/2)),color:e[t]},offset:[0,0]});}let h=null;const y=2*r+(c?.width||0),m=l.holePercentage;if(m){c&&o.push({shape:{type:"circle",cx:r,cy:r,r:r*m},fill:null,stroke:c,offset:[0,0]});const e=y/2;h=[[{shape:{type:"circle",cx:e,cy:e,r:e},fill:d$g,stroke:c?{...c,color:d$g}:null,offset:[0,0]},{shape:{type:"circle",cx:e,cy:e,r:r*m},fill:[0,0,0],stroke:null,offset:[0,0]}]];}return l$h([o],[y,y],{effectView:l.effectList,ignoreStrokeWidth:!0,masking:h,rotation:-90,ariaLabel:l.ariaLabel})}function w$b(e,t={}){const l=e?.authoringInfo;if(!("relationship"===l?.type)||!l?.numClasses||!e.uniqueValueInfos)return null;const{focus:i,numClasses:a}=l,s=i$t({focus:i,numClasses:a,infos:e.uniqueValueInfos}),n=t&&t.node||document.createElement("div");return h$c(n,(()=>h$b(s,t.id||"relationship",{opacity:t.opacity||1,effectList:t.effectList,ariaLabel:t.ariaLabel}))),n}function S$5(e,t={}){const l=24,i=75,r="horizontal"===t.align,a=r?i:l,s=r?l:i,n=t.width??a,o=t.height??s,c=t.gradient??!0,u=window.devicePixelRatio,f=n*u,p=o*u,h=document.createElement("canvas");h.width=f,h.height=p,h.ariaLabel=t.ariaLabel??null,h.style.width=`${n}px`,h.style.height=`${o}px`;const y=h.getContext("2d"),d=r?f:0,m=r?0:p;if(c){const t=y.createLinearGradient(0,0,d,m),l=e.length,i=1===l?0:1/(l-1);e.forEach(((e,l)=>t.addColorStop(l*i,e.toString()))),y.fillStyle=t,y.fillRect(0,0,f,p);}else {const t=r?f/e.length:f,l=r?p:p/e.length;let i=0,a=0;for(const s of e)y.fillStyle=s.toString(),y.fillRect(i,a,t,l),i=r?i+t:0,a=r?0:a+l;}const b=document.createElement("div");return b.style.width=`${n}px`,b.style.height=`${o}px`,v$7(b,t?.effectList),b.appendChild(h),b}function v$7(e,t){if(!t)return;e.style.filter=J$4(t);const l=t.effects;if(l)for(const i of l)if("drop-shadow"===i?.type){i.offsetX<0?e.style.marginLeft=`${Math.abs(i.offsetX)}px`:e.style.marginRight=`${i.offsetX}px`;break}}async function V$6(e,t){switch(e.type){case"web-style":{const{previewWebStyleSymbol:l}=await import('./previewWebStyleSymbol-479e7ab6.js');return l(e,V$6,t)}case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":{const{previewSymbol3D:l}=await Promise.resolve().then(function () { return previewSymbol3D; });return l(e,t)}case"simple-marker":case"simple-line":case"simple-fill":case"picture-marker":case"picture-fill":case"text":{const{previewSymbol2D:l}=await import('./previewSymbol2D-d1a14748.js');return l(e,t)}case"cim":{const{previewCIMSymbol:l}=await import('./previewCIMSymbol-442f58bf.js');return l(e,t)}default:return}}function L$6(e){return e&&"opacity"in e?e.opacity*L$6(e.parent):1}async function x$4(t,l){if(!t)return;const i=t.sourceLayer,r=(null!=l&&l.useSourceLayer?i:t.layer)??i,a=L$6(r);if(null!=t.symbol&&(null==l||!0!==l.ignoreGraphicSymbol)){const e="web-style"===t.symbol.type?await q$5(t.symbol,{...l,cache:null!=l?l.webStyleCache:null}):t.symbol.clone();return g$f(e,null,a),e}const u=(null!=l?l.renderer:null)??(r&&"renderer"in r?r.renderer:null);let f=u&&"getSymbolAsync"in u?await u.getSymbolAsync(t,l):null;if(!f)return;if(f="web-style"===f.type?await f.fetchSymbol({...l,cache:null!=l?l.webStyleCache:null}):f.clone(),!(u&&"visualVariables"in u&&u.visualVariables&&u.visualVariables.length))return g$f(f,null,a),f;if("arcadeRequiredForVisualVariables"in u&&u.arcadeRequiredForVisualVariables&&(null==l||null==l.arcade)){const t={...l};t.arcade=await i$w(),l=t;}const{getColor:p,getOpacity:h,getAllSizes:y,getRotationAngle:d}=await import('./interfaces-f9f0dded.js').then(function (n) { return n.kU; }),m=[],b=[],g=[],w=[];for(const e of u.visualVariables)switch(e.type){case"color":m.push(e);break;case"opacity":b.push(e);break;case"rotation":w.push(e);break;case"size":e.target||g.push(e);}const S=!!m.length&&m[m.length-1],v=S?p(S,t,l):null,V=!!b.length&&b[b.length-1];let x=V?h(V,t,l):null;if(null!=a&&(x=null!=x?x*a:a),g$f(f,v,x),g.length){const e=y(g,t,l);await D$6(f,e);}for(const e of w)I$7(f,d(e,t,l),e.axis);return f}async function k$5(t,l){if(!t)return;const i=L$6(t.layer||t.sourceLayer);if(null!=t.symbol&&(null==l||!0!==l.ignoreGraphicSymbol)){const e="web-style"===t.symbol.type?await q$5(t.symbol,l):t.symbol.clone();return b$a(e,i)}const r=null!=l&&l.renderer||t.get("layer.renderer")||t.get("sourceLayer.renderer");let a=await r.getSymbolAsync(t,l);if(!a)return;a="web-style"===a.type?await q$5(a,l):a.clone();const n=b$a(a,i);if(!("visualVariables"in r)||"visualVariables"in r&&!r.visualVariables||"visualVariables"in r&&!r.visualVariables?.length)return n;if(r.arcadeRequiredForVisualVariables&&(null==l||null==l.arcade)){const t={...l};t.arcade=await i$w(),l=t;}const{getColor:o,getOpacity:c}=await import('./interfaces-f9f0dded.js').then(function (n) { return n.kU; }),p=[],h=[];for(const e of r.visualVariables)switch(e.type){case"color":p.push(e);break;case"opacity":h.push(e);}const y=p.length>0?p[p.length-1]:null,d=y?o(y,t,l):n,m=h.length>0?h[h.length-1]:null;let b=m?c(m,t,l):null;return null!=i&&(b=null!=b?b*i:i),d?d$m(d,b):null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$d="aggregateCount";function i$s(e,i){if(!e.view)throw new s$m(`${i}:missing-parameters`,"'view' parameter is required for binning");if(e.sqlExpression)throw new s$m(`${i}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===e.view.type)throw new s$m(`${i}:invalid-parameters`,"3d view is not supported for binning")}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c$k=s$n.getLogger("esri.support.basemapUtils");function o$m(){return {}}function f$c(e){for(const r in e){const n=e[r];!1===n?.destroyed&&n.destroy(),delete e[r];}}function p$p(n,a){let t;if("string"==typeof n){if(!(n in s$o)){const e=Object.entries(s$o).filter((([e,n])=>s$p.apiKey&&!n.classic||!s$p.apiKey&&n.classic&&!n.deprecated)).map((([e])=>`"${e}"`)).join(", ");return c$k.warn(`Unable to find basemap definition for: ${n}. Try one of these: ${e}`),null}a&&(t=a[n]),t||(t=O$7.fromId(n),a&&(a[n]=t));}else t=d$n(O$7,n);return t?.destroyed&&(c$k.warn("The provided basemap is already destroyed",{basemap:t}),t=null),t}function y$9(e){return "Web Scene"===e.portalItem?.type}function m$g(e,r){return e.basemap?.referenceLayers?.some((e=>e.uid===r))||e.basemap?.baseLayers?.some((e=>e.uid===r))}function d$f(e,r=null){const n=p$p(e);if(!n)return null;const a=n.clone();return r&&(a.baseLayers=g$a(a.baseLayers,r.baseLayers),a.referenceLayers=g$a(a.referenceLayers,r.referenceLayers)),a}let b$6;function L$5(e){if(b$6)return b$6(e);let r=null;const n=w$a(e),a=!n?.baseLayers.length;for(const t in s$o){const e=$$5(n,U$6(s$o[t]),{mustMatchReferences:a});if("equal"===e){r=t;break}"base-layers-equal"===e&&(r=t);}return r}function S$4(e){b$6=e;}function v$6(e,r){if(e===r)return !0;return "equal"===$$5(w$a(e),w$a(r),{mustMatchReferences:!0})}function g$a(e,r){const a=new V$9;return e.forEach((e=>{const n=r.find((r=>A$6(j$5(e),j$5(r))))||e;a.includes(n)?a.push(e):a.push(n);})),a}function h$a(e){return !!e?.baseLayers.concat(e.referenceLayers).some(R$3)}function R$3(e){if(q$3(e.url))return !0;if("vector-tile"===e.type)for(const r in e.sourceNameToSource){const n=e.sourceNameToSource[r];if(q$3(n?.sourceUrl))return !0}return !1}function I$4(e,r){if(null==r||null==e)return {spatialReference:null,updating:!1};if("not-loaded"===r.loadStatus)return r.load(),{spatialReference:null,updating:!0};if(r.spatialReference)return {spatialReference:r.spatialReference,updating:!1};if(0===r.baseLayers.length)return {spatialReference:null,updating:!1};const n=r.baseLayers.at(0);switch(n.loadStatus){case"not-loaded":n.load();case"loading":return {spatialReference:null,updating:!0};case"failed":return {spatialReference:null,updating:!1}}const a=(("supportedSpatialReferences"in n?n.supportedSpatialReferences:null)||["tileInfo"in n?n.tileInfo?.spatialReference:n.spatialReference]).filter(Boolean),t=e.spatialReference;return t?{spatialReference:a.find((e=>t.equals(e)))??a[0]??null,updating:!1}:{spatialReference:a[0],updating:!1}}const T$3=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;function q$3(e){if(!e)return !1;const r=new $$8(_$8(e));return !!r.authority&&T$3.test(r.authority)}function w$a(e){return e?!e.loaded&&e.resourceInfo?U$6(e.resourceInfo.data):{baseLayers:x$3(e.baseLayers),referenceLayers:x$3(e.referenceLayers)}:null}function x$3(e){return (V$9.isCollection(e)?e.toArray():e).map(j$5)}function j$5(e){return {type:e.type,url:B$4("urlTemplate"in e&&e.urlTemplate||e.url||"styleUrl"in e&&e.styleUrl||""),minScale:"minScale"in e&&null!=e.minScale?e.minScale:0,maxScale:"maxScale"in e&&null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visible||!!e.visible,sublayers:"map-image"!==e.type&&"wms"!==e.type||null==e.sublayers?void 0:e.sublayers?.map((e=>({id:e.id,visible:e.visible}))),activeLayerId:"wmts"===e.type?e.activeLayer?.id:void 0}}function U$6(e){return e?{baseLayers:M$4((e.baseMapLayers??[]).filter((e=>!e.isReference))),referenceLayers:M$4((e.baseMapLayers??[]).filter((e=>e.isReference)))}:null}function M$4(e){return e.map((e=>k$4(e)))}function k$4(e){let r;switch(e.layerType){case"VectorTileLayer":r="vector-tile";break;case"ArcGISTiledMapServiceLayer":r="tile";break;default:r="unknown";}return {type:r,url:B$4(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:null!=e.minScale?e.minScale:0,maxScale:null!=e.maxScale?e.maxScale:0,opacity:null!=e.opacity?e.opacity:1,visible:null==e.visibility||!!e.visibility,sublayers:void 0,activeLayerId:void 0}}function $$5(e,r,n){if(null!=e!=(null!=r))return "not-equal";if(!e||!r)return "equal";if(!C$8(e.baseLayers,r.baseLayers))return "not-equal";return C$8(e.referenceLayers,r.referenceLayers)?"equal":n.mustMatchReferences?"not-equal":"base-layers-equal"}function C$8(e,r){if(e.length!==r.length)return !1;for(let n=0;n<e.length;n++)if(!A$6(e[n],r[n]))return !1;return !0}function A$6(e,r){if(e.type!==r.type||"scene"===e.type||e.url!==r.url||e.minScale!==r.minScale||e.maxScale!==r.maxScale||e.visible!==r.visible||e.opacity!==r.opacity)return !1;if(null!=e.activeLayerId||null!=r.activeLayerId)return e.activeLayerId===r.activeLayerId;if(null!=e.sublayers||null!=r.sublayers){if(null==e.sublayers||null==r.sublayers||e.sublayers.length!==r.sublayers.length)return !1;for(let n=0;n<e.sublayers.length;n++){const a=e.sublayers.at(n),t=r.sublayers.at(n);if(a?.id!==t?.id||a?.visible!==t?.visible)return !1}}return !0}function B$4(e){return e?K$3(e).replace(/^\s*https?:/i,"").toLowerCase():""}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$f=",",i$r={light:["streets","gray","topo","terrain","national-geographic","oceans","osm","gray-vector","streets-vector","topo-vector","streets-relief-vector","streets-navigation-vector","arcgis-light-gray","arcgis-navigation","arcgis-streets","arcgis-streets-relief","arcgis-topographic","arcgis-oceans","osm-standard","osm-standard-relief","osm-streets","osm-streets-relief","osm-light-gray","arcgis-terrain","arcgis-charted-territory","arcgis-community","arcgis-colored-pencil","arcgis-modern-antique","arcgis-midcentury","arcgis-newspaper","arcgis-hillshade-light"],dark:["satellite","hybrid","dark-gray","dark-gray-vector","streets-night-vector","arcgis-imagery","arcgis-imagery-standard","arcgis-dark-gray","arcgis-navigation-night","arcgis-streets-night","osm-dark-gray","arcgis-nova","arcgis-hillshade-dark"]},n$k="percent-of-total",s$i="field",a$r={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864e5},o$l=["integer","small-integer"];let c$j=null;async function l$f(t){const{field:r,field2:i,field3:n,normalizationField:s,valueExpression:a}=t;let o=[];if(a){if(!c$j){const{arcadeUtils:t}=await i$w();c$j=t;}o=c$j.extractFieldNames(a);}return r&&o.push(r),i&&o.push(i),n&&o.push(n),s&&o.push(s),o}function g$9(e){let t=e.normalizationType;return t||(e.normalizationField?t=s$i:null!=e.normalizationTotal&&(t=n$k)),t??void 0}function u$g(e){return String(e).padStart(2,"0")}function d$e(e,t,r){let i;if("date"===t||"number"===t){"number"===t&&(e=new Date(e));i=`TIMESTAMP'${r?e.getFullYear():e.getUTCFullYear()}-${u$g((r?e.getMonth():e.getUTCMonth())+1)}-${u$g(r?e.getDate():e.getUTCDate())} ${u$g(r?e.getHours():e.getUTCHours())}:${u$g(r?e.getMinutes():e.getUTCMinutes())}:${u$g(r?e.getSeconds():e.getUTCSeconds())}'`;}else i=e;return i}function f$b(e,t,r,i){const{hasQueryEngine:n}=e;let s=`(${d$e(r,m$f(e,r),n)} - ${d$e(t,m$f(e,t),n)})`;n&&(s=`(${s} * ${a$r.milliseconds})`);let o=a$r[i],c="/";o<1&&(o=1/o,c="*");return {sqlExpression:1===o?s:`(${s} ${c} ${o})`,sqlWhere:null}}function m$f(e,t){if(t instanceof Date)return "date";if("number"==typeof t)return "number";if("string"==typeof t){const r=e.getField(t);if("<now>"===t.toLowerCase())return;if(r&&"date"===r.type)return "field"}}function p$o(e,t=i$r){for(const r in t)if(t[r].includes(e))return r}function h$9(e,r,i=!0){let n=null;return e&&("string"==typeof e?r.includes(e)&&(n=e):n=L$5(e)),i?n||"gray":n}function y$8(e,t){const r=t&&e.getField(t);return !!r&&o$l.includes(r.type)}function $$4(e){return `cast(${e} as float)`}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n$j{constructor(){this.connection=null;}async open(t){this.connection=await f$h("statsWorker",{strategy:"distributed",signal:t});}destroy(){this.connection?.close();}static getInstance(){return n$j.instance||(n$j.instance=new n$j),n$j.instance}async summaryStatistics(e,n){if(!this.connection)throw new s$m("worker-client:summary-statistics","connection is required");return this.connection.invoke("summaryStatistics",{attribute:e,features:n})}async uniqueValues(e,n){if(!this.connection)throw new s$m("worker-client:unique-values","connection is required");return this.connection.invoke("uniqueValues",{attribute:e,features:n})}async classBreaks(e,n){if(!this.connection)throw new s$m("worker-client:class-breaks","connection is required");return this.connection.invoke("classBreaks",{attribute:e,features:n})}async histogram(e,n){if(!this.connection)throw new s$m("worker-client:histogram","connection is required");return this.connection.invoke("histogram",{attribute:e,features:n})}async heatmapStatistics(e,n){if(!this.connection)throw new s$m("worker-client:heatmap-statistics","connection is required");return this.connection.invoke("heatmapStatistics",{attribute:e,features:n})}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
async function n$i(e,r,i,s){const n=f$i(e),{source:a,checkValueRange:u}=r,{classificationDefinition:p}=i,m={...i.toJSON(),f:"json"};let c=null;if(c="class-breaks-definition"===p?.type?p.classificationField:p?.attributeField,a){const t={source:a?.toJSON()};m.layer=JSON.stringify(t);}m.classificationDef&&(m.classificationDef=JSON.stringify(m.classificationDef));let f={query:m};s&&(f={...s,...f});const y={url:n.path,field:c,checkValueRange:u},j=n.path+"/generateRenderer";return j$7(j,f).then((t=>l$e(y,t)))}function l$e(t,e){const{field:o,checkValueRange:n,url:l}=t,u=e&&e.data;if(!u)return;if(!n){const t=a$q(u);return Promise.resolve(t)}const p=new m$m({statisticType:"min",onStatisticField:o}),m=new m$m({statisticType:"max",onStatisticField:o}),c=new b$b({outStatistics:[p,m]});return f$j(l,c).then((t=>{const e=t.features[0].attributes;let r=null,o=null;for(const i in e)0===i.toLowerCase().indexOf("min")?r=e[i]:o=e[i];return a$q(u,r,o)}))}function a$q(t,r,o){if("classBreaks"===t.type){const i=t$m(t);return {classBreaks:i.classBreakInfos.map(((t,e)=>(0===e&&null!=r&&(t.minValue=r),e===i.classBreakInfos.length-1&&null!=o&&(t.maxValue=o),{minValue:t.minValue,maxValue:t.maxValue,label:t.label}))),normalizationTotal:i.normalizationTotal}}const{uniqueValueInfos:i}=t;return {uniqueValues:i?.map(((t,e)=>(0===e&&null!=r&&(t.value=r),e===i.length-1&&null!=o&&(t.value=o),{count:t.count,value:t.value,label:t.label})))??[]}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t$k=class extends l$j{constructor(r){super(r),this.classificationDefinition=null,this.where=null;}};e$g([y$e({json:{name:"classificationDef",write:!0}})],t$k.prototype,"classificationDefinition",void 0),e$g([y$e({type:String,json:{write:!0}})],t$k.prototype,"where",void 0),t$k=e$g([a$u("esri.rest.support.GenerateRendererParameters")],t$k);const i$q=t$k;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s$h=class extends l$j{constructor(t){super(t),this.type="unique-value-definition",this.attributeField=null,this.attributeField2=null,this.attributeField3=null,this.fieldDelimiter=null;}get uniqueValueFields(){const t=[];return this.attributeField&&t.push(this.attributeField),this.attributeField2&&t.push(this.attributeField2),this.attributeField3&&t.push(this.attributeField3),t}};e$g([o$p({uniqueValueDef:"unique-value-definition"})],s$h.prototype,"type",void 0),e$g([y$e()],s$h.prototype,"attributeField",void 0),e$g([y$e()],s$h.prototype,"attributeField2",void 0),e$g([y$e()],s$h.prototype,"attributeField3",void 0),e$g([y$e({json:{write:!0}})],s$h.prototype,"fieldDelimiter",void 0),e$g([y$e({json:{write:!0}})],s$h.prototype,"uniqueValueFields",null),s$h=e$g([a$u("esri.rest.support.UniqueValueDefinition")],s$h);const u$f=s$h;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$c="no_dominant_category";function l$d(n){return `(${n.map((n=>`${n} >= 0`)).join(" OR ")})`}function u$e(n){return {expression:r$e(n,{returnFieldName:!0,defaultValue:`'${e$c}'`})}}function r$e(e,l){const{returnFieldName:u,defaultValue:r,layer:t}=l,i=[];if(u&&r){const n=e.map((n=>`${n} <= 0`)).join(" AND ");i.push(`WHEN ${n} THEN ${r}`);}for(const o of e){const l=e.reduce(((n,a)=>(o!==a&&n.push(`${o} > ${a}`),n)),[]).join(" AND "),r=t&&y$8(t,o),s=u&&`'${o}'`?`'${o}'`:r?$$4(o):o;i.push(`WHEN ${l} THEN ${s}`);}return `CASE ${i.join(" ")} ELSE ${r||"0"} END`}function t$j(n,a){const e=a.join(" + "),u={sqlExpression:`(${e})`,sqlWhere:l$d(a)},t={sqlExpression:`(( (${r$e(a,{layer:n})}) / (${e}) ) * 100)`,sqlWhere:`${l$d(a)} AND ((${e}) > 0)`};return {predominantCategory:{valueExpression:s$g(a)},size:{valueExpression:p$n(a),statisticsQuery:u,histogramQuery:u},opacity:{valueExpression:$$3(a),statisticsQuery:t,histogramQuery:t}}}function i$p(n){return n&&n.map((n=>`$feature["${n}"];`)).join("\n")+"\n"||""}function o$k(n,a=!1){const e=n.map((n=>`"${n}"`)),l="\n  if(value != null && value >= 0) {\n    if (totalValue == null) { totalValue = 0; }\n    totalValue = totalValue + value;\n  }\n  ";return `\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var maxValueField = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueField = fieldNames[i];\n      }\n      else if (value == maxValue) {\n        maxValueField = null;\n      }\n    }\n    ${a?l:""}\n  }\n  `}function s$g(n){const a=o$k(n);return `\n  ${i$p(n)}\n  ${a}\n  return maxValueField;\n  `}function f$a(n){const a=o$k(n);return `\n  ${i$p(n)}\n  ${a}\n  return maxValue;\n  `}function v$5(n,a){const e=n.map((n=>n.fieldName)),l=i$p(e),u=n.map((n=>n.label?`"${n.label}"`:`"${n.fieldName}"`)),r=e.map((n=>`Number($feature["${n}"])`)),t=[];return a&&a.forEach(((n,a)=>{t.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),r.push(`Number(getValueForExpr${a}())`),u.push(`"${n.title||n.name}"`);})),`\n  ${l}\n\n  ${t.length?t.join("\n"):""}\n\n  var values = [ ${r.join(", ")} ];\n  var aliases = [ ${u.join(", ")} ];\n  var numValues = ${r.length};\n  var maxValueAlias = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numValues; i++) {\n    value = values[i];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueAlias = aliases[i];\n      }\n      else if (value == maxValue) {\n        maxValueAlias = "Tie";\n      }\n    }\n  }\n  return maxValueAlias;\n  `}function m$e(n){return `\n  ${i$p(n)}\n  var fieldValues = [ ${n.map((n=>`$feature["${n}"]`)).join(", ")} ];\n  var totalValue = Sum(fieldValues);\n  var order = Reverse(Sort(fieldValues));\n  return IIF(totalValue > 0, Round(((order[0] - order[1]) / totalValue) * 100, 2), null);\n  `}function p$n(n){const a=i$p(n),e=n.map((n=>`"${n}"`));return `\n  ${a}\n  var fieldNames = [ ${e.join(", ")} ];\n  var numFields = ${e.length};\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value != null && value >= 0) {\n      if (totalValue == null) { totalValue = 0; }\n      totalValue = totalValue + value;\n    }\n  }\n\n  return totalValue;\n  `}function $$3(n){const a=o$k(n,!0);return `\n  ${i$p(n)}\n  ${a}\n\n  var strength = null;\n\n  if (maxValueField != null && totalValue > 0) {\n    strength = (maxValue / totalValue) * 100;\n  }\n\n  return strength;\n  `}function V$5(n,a){const e=i$p(n.map((n=>n.fieldName))),l=n.map((n=>`{\n    value: Number($feature["${n.fieldName}"]),\n    alias: "${n.label||n.fieldName}"\n    }`)),u=[];return a&&a.forEach(((n,a)=>{u.push(`function getValueForExpr${a}() {\n  ${n.expression} \n}`),l.push(`{\n          value: Number(getValueForExpr${a}()),\n          alias: "${n.title||n.name}"\n          }`);})),`\n  ${e}\n\n  ${u.length?u.join("\n"):""}\n\n  var groups = [ ${l.join(", ")} ];\n  var numTopValues = Count(groups);\n\n  function getValuesArray(arr){\n    var valuesArray = []\n    for(var i in arr){\n      valuesArray[i] = arr[i].value;\n    }\n    return valuesArray;\n  }\n\n  function findAliases(top5Array, fullArray){\n    var aliases = [];\n    var found = "";\n    for(var i in top5Array){\n      for(var k in fullArray){\n        if(top5Array[i] == fullArray[k].value && Find(fullArray[k].alias, found) == -1){\n          found += fullArray[k].alias;\n          aliases[Count(aliases)] = {\n            alias: fullArray[k].alias,\n            value: top5Array[i]\n          };\n        }\n      }\n    }\n    return aliases;\n  }\n\n  function getTopGroups(groupsArray){\n    var values = getValuesArray(groupsArray);\n    var top5Values = IIF(Max(values) > 0, Top(Reverse(Sort(values)),numTopValues), "no data");\n    var top5Aliases = findAliases(top5Values,groupsArray);\n\n    if(TypeOf(top5Values) == "String"){\n      return top5Values;\n    } else {\n      var content = "";\n      for(var i in top5Aliases){\n        if(top5Aliases[i].value > 0){\n          content += (i+1) + ". " + top5Aliases[i].alias + " (" + Text(top5Aliases[i].value, "#,###") + ")";\n          content += IIF(i < numTopValues-1, TextFormatting.NewLine, "");\n        }\n      }\n    }\n\n    return content;\n  }\n\n  getTopGroups(groups);\n  `}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p$m=class extends _$9{constructor(o){super(o);}};e$g([y$e({constructOnly:!0})],p$m.prototype,"layer",void 0),e$g([y$e()],p$m.prototype,"geometryType",void 0),e$g([y$e()],p$m.prototype,"objectIdField",void 0),e$g([y$e()],p$m.prototype,"supportsSQLExpression",void 0),e$g([y$e()],p$m.prototype,"hasQueryEngine",void 0),e$g([y$e()],p$m.prototype,"minScale",void 0),e$g([y$e()],p$m.prototype,"maxScale",void 0),e$g([y$e()],p$m.prototype,"fullExtent",void 0),p$m=e$g([a$u("esri.smartMapping.support.adapters.LayerAdapter")],p$m);const s$f=p$m;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const x$2=/_value$/i,h$8=Math.LOG10E,F$2=10;function w$9(e){return e.map((e=>e.toJSON()))}function E$3(e,t){const n=[],l=e.layer,i="featureReduction"in l?l.featureReduction:null,o="binning"===i?.type,a=null!=i&&"fields"in i?i.fields?.map((e=>e.name?.toLowerCase())).filter(Boolean):[];if(!o||!t)return n;for(const r of t)a.includes(r.toLowerCase())||n.push(r);return n}function V$4(e,t,n){const l=[];if(t)for(const i of t){const t=e.getField(i);t&&n&&"availableFields"in n&&!n.availableFields?.includes(t.name)&&l.push(t.name);}return l}function z$5(e,t){const n=e&&e.features;if(0===n?.length)return {avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const l=n?.[0]?.attributes,i={};for(const o in l)i[o.replace(x$2,"").toLowerCase()]=l[o];return null!=i.totalcount&&i.totalcount>=i.count&&(i.nullcount=i.totalcount-i.count),delete i.totalcount,i.min===i.max&&null!=i.min&&null==i.stddev&&(i.stddev=i.variance=0),t&&(["min","max","avg","stddev","sum","variance"].forEach((e=>{null!=i[e]&&(i[e]=Math.ceil(i[e]));})),i.min===i.max&&null!=i.min&&(i.avg=i.min,i.stddev=i.variance=0)),i}function S$3(e){const t=[],n=e.classBreaks,l=n[0].minValue,i=n[n.length-1].maxValue;n.forEach((e=>{t.push([e.minValue,e.maxValue]);}));const o={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return {min:l,max:i,intervals:t,sqlExpr:T$2(o),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function T$2(e){const{field:t,normalizationType:n,normalizationField:l,normalizationTotal:i,layer:o}=e,a=y$8(o,t);let r=t;return "percent-of-total"===n?r=`((${a?$$4(t):t} / ${i}) * 100)`:"log"===n?r=`(log(${t}) * ${h$8})`:"field"===n?r=`(${a?$$4(t):t} / ${l})`:"natural-log"===n?r=`(log(${a?$$4(t):t}))`:"square-root"===n&&(r=`(power(${a?$$4(t):t}, 0.5))`),r}function q$2(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()!==t){n=e[l];break}return n}function $$2(e,t){let n;if(t=t.toLowerCase(),e)for(const l in e)if(l.toLowerCase()===t){n=e[l];break}return n}function b$5(e,t,n,l,i){const o={},a="countOFExpr";e&&e.features&&e.features.forEach((e=>{const t=e.attributes,n=q$2(t,a),l=$$2(t,a);null!=n&&null!=l&&0!==n&&(o[n]=l);}));const r=[];return $$9(t,n,l).forEach(((e,t)=>{const n=(t+1).toString();r.push({minValue:e[0],maxValue:e[1],count:o.hasOwnProperty(n)?o[n]:0});})),{bins:r,minValue:t,maxValue:n,normalizationTotal:i}}function j$4(e,n){const l=e&&e.features,{field:i,field2:o,field3:a,fieldDelimiter:r,layer:s,view:u,signal:c,labels:m}=n,f=`countOF${!(!i||!o)?"Expr":i||"Expr"}`,p={};let d=!1;if(l.forEach((e=>{const t=e.attributes,n=$$2(t,f);let l=i?$$2(t,i):q$2(t,f),s=o?$$2(t,o):null,u=a?$$2(t,a):null;null===l&&0===n&&(d=!0),(null==l||"string"==typeof l&&""===l.trim())&&(l=null),o&&(null==s||"string"==typeof s&&""===s.trim())&&(s=null),a&&(null==u||"string"==typeof u&&""===u.trim())&&(u=null);let c=l;o&&(c=`${c$p(c)}${r}${c$p(s)}`,a&&(c=`${c}${r}${c$p(u)}`)),null==p[c]?p[c]={count:n,data:c}:p[c].count=p[c].count+n;})),i&&d){const e=i+" is NULL";return s.queryFeatureCount({whereClause:e,view:u,signal:c}).then((e=>(e=e||0,p.null.count=p.null.count+e,C$7(p,m)))).catch((()=>(s$q(c),C$7(p,m))))}return Promise.resolve(C$7(p,m))}function C$7(e,t){if(t)for(const n in e)e[n].label=t[n];return {count:e}}async function L$4(e,t,n){const i=e?n.getField(e):null,o=i?n.getFieldDomain(i.name):null;if(o)return o;const{uniqueValueInfos:a}=await n.uniqueValues({field:e,sqlWhere:t.sqlWhere,features:t.features,useFeaturesInView:t.useFeaturesInView,view:t.view,signal:t.signal}),r=a.map((e=>({code:e.value})));return new u$o({codedValues:r})}async function D$3(e,t){if(!e.returnAllCodedValues)return [];const{field:n,field2:l,field3:i}=e;if(n&&!l){const e=n?t.getField(n):null,l=e?t.getFieldDomain(e.name):null;return l?[l]:[]}const o=[];return n&&(o.push(L$4(n,e,t)),l&&(o.push(L$4(l,e,t)),i&&o.push(L$4(i,e,t)))),Promise.all(o)}function O$4(e,t){return f$b(e,new Date(0),t,"milliseconds").sqlExpression}function R$2(e){return {viewingMode:"2d"===e.type?"map":e.viewingMode,scale:e.scale,spatialReference:e.spatialReference?.toJSON()}}function I$3(e,t){const n=e.map((e=>e.value)),l=t.filter((e=>!n.includes(e)));for(const i of l)e.push({value:i,count:0});e.sort(((e,n)=>t.indexOf(e.value)-t.indexOf(n.value)));for(const i of e)i.value===e$c&&(i.value=null);return {predominantCategoryInfos:e}}function B$3(t){const n="featureReduction"in t?t.featureReduction:null;return ((null!=n&&"fields"in n?n.fields:null)??[]).map((e=>{const n=N$1(e,t.fieldsIndex);return n?new y$f({type:n,name:e.name,alias:e.alias}):null})).filter(R$5)}function N$1(e,t){switch(e.statisticType){case"avg":case"avg_angle":return "double";case"count":return "integer";case"min":case"max":case"sum":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?null:"double":null;case"mode":return e.onStatisticField?t.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?"string":"double":null;default:return null}}function Q$2(e,t,n){const{field:l,normalizationType:i,normalizationField:r,normalizationTotal:m,minValue:f,maxValue:p,filter:d}=t,v=e.supportsSQLExpression&&n?O$4(e,l):t.sqlExpression,x=T$2({field:l,normalizationType:i,normalizationField:r,normalizationTotal:m,layer:e}),h=v||x,F=h?j$b(h,f,p):null,w=g$g({field:l,normalizationField:r,normalizationType:i}),E=F$5(t.sqlWhere,w),V=F$5(E,F),z=m$n({normalizationField:r,normalizationType:i,sqlExpression:v,supportsSQLExpression:e.supportsSQLExpression,minValue:f,maxValue:p}),S=ae$2(e.getField(l??void 0)),q=s$r.filter((e=>"nullcount"===e?z:!S||"count"===e)),$=e.createQuery();return $.where=F$5($.where,V),$.sqlFormat=v?"standard":null,$.outStatistics=q.map((t=>{const n=new m$m;let l=null,i=null,o=`${t}_value`;return "variance"===t?(l="var",i=h):"nullcount"===t?(l="count",i=e.objectIdField,o="totalcount_value"):"median"===t?(l="percentile-continuous",i=h,n.statisticParameters={value:.5}):(l=t,i=h),n.statisticType=l,n.onStatisticField=i,n.outStatisticFieldName=o,n})),U$5($,d),$}function U$5(e,t){t&&(e.geometry=t.geometry,e.spatialRelationship=t.spatialRelationship);}function M$3(e,t){const{field:n,field2:l,field3:i,sqlExpression:o}=t,a=!(!n||!l),r=e.createQuery();return r.where=F$5(r.where,t.sqlWhere),r.sqlFormat=o?"standard":null,r.outStatistics=[P$6(a?null:n,a?"1":o)].filter(Boolean),r.groupByFieldsForStatistics=[n||o,l,i].filter(Boolean),U$5(r,t.filter),r}function P$6(e,t){const n="countOF"+(e||"Expr"),l=new m$m;return l.statisticType="count",l.onStatisticField=t?"1":e,l.outStatisticFieldName=n,l}function W$3(e,t,n,l=F$2,i,o,a){const{min:r,max:s,normTotal:u,excludeZerosExpr:c}=t,m=t.intervals||$$9(r,s,l),f=t.sqlExpr||n;return _$7(e,m,f,c,i,o,a).then((e=>({bins:e.map(((e,t)=>({minValue:m[t][0],maxValue:m[t][1],count:e.value}))),minValue:r,maxValue:s,normalizationTotal:u})))}function _$7(e,t,l,i,o,a,r){const s=[],u=t.length;for(let n=0;n<u;n++){const e=F$5(i,F$5(l+" >= "+t[n][0],null!==t[n][1]?l+(n===u-1?" <= ":" < ")+t[n][1]:""));s.push(e);}return j$a(s.map((t=>e.queryFeatureCount({whereClause:t,view:o,filter:a,signal:r}))))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const J$2=5;let P$5=null,U$4=class extends s$f{constructor(){super(...arguments),this._hasLocalSource=!1,this.adapterName="in-memory-layer-adapter";}destroy(){this.workerClient?.destroy();}async _waitForLayerViewUpdate(e){if(!e)throw new s$m(`${this.adapterName}:insufficient-data", "layerView is required to fetch the features`);const t=new AbortController,i=j$c((()=>!e.updating),t.signal);await A$9(i,5e3,t).catch((e=>{throw s$n.getLogger(this).warn("LayerView is taking too long to update. Aborting fetch from layerView."),e}));}async _fetchFeatureSetFromMemory(e,t,a){const i=this.layer;if(this._hasLocalSource)return i.queryFeatures(e);if(!t)throw new s$m(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=await t.whenLayerView(this.layer);return await this._waitForLayerViewUpdate(s),s.queryFeatures(e,{signal:a})}async _fetchFeaturesFromMemory(e,t,a,i){const s=this.layer,o="json"===i;if(this._hasLocalSource){const e=await s.queryFeatures(t);return o?w$9(e.features):e.features}if(await this._waitForLayerViewUpdate(e),o&&"queryFeaturesJSON"in e&&e.queryFeaturesJSON){const{features:r}=await e.queryFeaturesJSON(t,{signal:a});return r}if(!("queryFeatures"in e))throw new s$m(`${this.adapterName}:not-supported`,"'queryFeatures' is not supported on the layerView");const n=await e.queryFeatures(t,{signal:a});return o?w$9(n.features):n.features}_fetchFeaturesForStats(e,t){return l$f({field:e.field,field2:e.field2,field3:e.field3,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,filter:e.filter,requiredFields:r,signal:e.signal},t)))}async _summaryStatsFromClientQuery(e,t){const{view:r,signal:a}=e,i=Q$2(this,e,t),s=await this._fetchFeatureSetFromMemory(i,r,a),o=z$5(s,t);return g$h(o)}async _getNormalizationTotalFromMemory(e,t,a){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,l=(!i&&!s&&o&&"querySummaryStatistics"in o?await o.querySummaryStatistics(n,{field:e},{signal:a}):i?await this.workerClient.summaryStatistics({field:e},i):await d$o({attribute:{field:e},features:s??[]})).sum;if(null==l)throw new s$m(`${this.adapterName}:invalid`,"invalid normalizationTotal");return l}async _summaryStatsFromMemory(e,t){const{view:r,field:a,valueExpression:i,normalizationType:s,signal:o}=e,n={field:a,valueExpression:i,normalizationType:s,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue},{featuresJSON:l,graphics:u,layerView:p,query:y,fieldInfos:f}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"querySummaryStatistics"});return i&&r&&(l||u)&&(n.fieldType=t?.type?i$x.toJSON(t.type):null,n.viewInfoParams=R$2(r),n.fieldInfos=f),"percent-of-total"===s&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:l,graphics:u,layerView:p,query:y},o)),!l&&!u&&p&&"querySummaryStatistics"in p?p.querySummaryStatistics(y,n,{signal:o}):l?this.workerClient.summaryStatistics(n,l):d$o({attribute:n,features:u})}async _getFilteredFeatures(e,t){let r=[];if("intersects"===t?.spatialRelationship){const{intersect:a}=await import('./geometryEngineAsync-80d6d28e.js'),i=null!=t.geometry?t.geometry:null;for(const t of e){const e=null!=t.geometry?t.geometry:null;if(e&&i){await a(e,i)&&r.push(t);}}}else r=e;return e.length&&"declaredClass"in e[0]&&"esri.Graphic"===e[0].declaredClass?{graphics:r}:{featuresJSON:r}}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:a,field:i,field2:s,field3:o,normalizationField:n,valueExpression:l,layerViewFunc:u,signal:m}=e;let p=e.returnGeometry;if(null==p&&l){if(!P$5){const{arcadeUtils:e}=await i$w();P$5=e;}const e=P$5.hasGeometryOperations(l);e&&await P$5.enableGeometryOperations(),p=e;}let y=null,f=null,c=null,d=null,h=null;if(a)try{y=await a.whenLayerView(this.layer),f=null!=u&&u in y&&"function"==typeof y[u];}catch{f=!1;}if(f)try{await this._waitForLayerViewUpdate(y);const e=await l$f({field:i,field2:s,field3:o,normalizationField:n,valueExpression:l});V$4(this,e,y).length?f=!1:(c=this.layer.createQuery(),c.outFields=e,c.returnGeometry=!1,U$5(c,r)),y.suspended&&(f=!1);}catch{f=!1;}return f||(d=await this._fetchFeaturesForStats({field:i,field2:s,field3:o,valueExpression:l,normalizationField:n,returnGeometry:p,filter:r,view:a,signal:m},"json"),h=(await l$f({valueExpression:l})).map((e=>this.getField(e)?.toJSON())).filter(Boolean)),{layerView:y,query:c,featuresJSON:d,fieldInfos:h}}async _uvFromClientQuery(e,t){const{view:r,signal:a}=e,i=M$3(this,e),s=await this._fetchFeatureSetFromMemory(i,r,a),o=await j$4(s,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:r$f,view:e.view,signal:e.signal});return F$6(o,t,e.returnAllCodedValues,r$f)}async _uvFromMemory(e,t){const{view:r,field:a,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:u,query:m,fieldInfos:p}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryUniqueValues"}),y={field:a,field2:e.field2,field3:e.field3,fieldDelimiter:r$f,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&r&&(n||l)&&(y.viewInfoParams=R$2(r),y.fieldInfos=p),!n&&!l&&u&&"queryUniqueValues"in u?u.queryUniqueValues(m,y,{signal:o}):n?this.workerClient.uniqueValues(y,n):p$v({attribute:y,features:l})}_histogramForField(e){let t=null;return t=null!=e.minValue&&null!=e.maxValue?Promise.resolve({min:e.minValue,max:e.maxValue}):this.summaryStatistics(e).then((e=>{if(!e.count)throw new s$m(`${this.adapterName}:insufficient-data`,"Either the layer has no features or none of the features have data for the field");return {min:e.min,max:e.max}})),t.then((t=>W$3(this,{min:t.min,max:t.max},e.field,e.numBins??void 0,e.view,e.filter,e.signal)))}async _histogramFromMemory(e){const{view:t,field:r,valueExpression:a,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryHistogram"}),m={field:r,valueExpression:a,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return a&&t&&(s||o)&&(m.viewInfoParams=R$2(t),m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryHistogram"in n?n.queryHistogram(l,m,{signal:i}):s?this.workerClient.histogram(m,s):c$q({attribute:m,features:o})}_classBreaksFromInterpolation(e){const{minValue:t,maxValue:r}=e,a=e.numClasses||J$2,i=[],s=(r-t)/a;for(let l=0;l<a;l++){const e=t+l*s;i.push({minValue:e,maxValue:e+s});}i[a-1].maxValue=r;const o={classBreaks:i,normalizationTotal:e.normalizationTotal},n=S$7(o,e.classificationMethod);return Promise.resolve(n)}async _classBreaksFromMemory(e){const{view:t,field:r,valueExpression:a,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryClassBreaks"}),m={field:r,valueExpression:a,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return a&&t&&(s||o)&&(m.viewInfoParams=R$2(t),m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryClassBreaks"in n?n.queryClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):v$9({attribute:m,features:o})}async _heatmapStatsFromMemory(e,t){const{view:r,field:a,radius:s}=e,{featuresJSON:o,graphics:n}=await this._processStatsFromMemoryParams({...e,returnGeometry:!0});r$g(r,"InMemoryLayerAdapter: must have a view");const l=new a$v({extent:r.extent,tolerance:"2d"===r.type?r.state.resolution:r.pixelSizeAt?.(r.center)}),m={field:a,fieldOffset:t,radius:s,transform:m$o(l),spatialReference:r.spatialReference?.toJSON(),size:r.size};return o?.length||n?.length?o?this.workerClient.heatmapStatistics(m,o):z$7({attribute:m,features:n}):{count:0,min:null,max:null,avg:null,stddev:null}}getField(e=""){return this.layer.getField(e)}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!0,supportsStatistics:!0}:null}getFieldDomain(e,t){return this.layer.getFieldDomain(e,t)}createQuery(){return this.layer.createQuery()}async summaryStatistics(e){const{field:t,valueExpression:a,sqlExpression:i,features:s,view:o}=e,n=t?this.getField(t):null,l=ue$1(n),u=!!a,m="3d"===o?.type;if(!a&&i&&!this.supportsSQLExpression)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return u||s||m?this._summaryStatsFromMemory(e,n):this._summaryStatsFromClientQuery(e,l)}async uniqueValues(e){const{valueExpression:t,sqlExpression:a,features:i,view:s}=e,o=await D$3(e,this),n=!!t,l="3d"===s?.type;if(!t&&a&&!this.supportsSQLExpression)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return n||i||l?this._uvFromMemory(e,o):this._uvFromClientQuery(e,o)}async histogram(e){const{features:t,valueExpression:a,normalizationType:i,sqlExpression:s}=e,o=t||!!a;if(!a&&s&&!this.supportsSQLExpression)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return o||i?this._histogramFromMemory(e):this._histogramForField(e)}async classBreaks(e){return !1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)}async queryFeatureCount(e){const{whereClause:t,view:a,signal:i}=e;if(!a)throw new s$m(`${this.adapterName}:insufficient-data`,"view is required to fetch the features from layerView");const s=this.layer.createQuery();s.where=F$5(s.where,t);const n=await a.whenLayerView(this.layer);return await j$c((()=>!n.updating),i),n.queryFeatureCount(s,{signal:i})}async generateRenderer(e,t){throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation")}async predominantCategories(e){const{fields:t,view:r,signal:a}=e,i=s$g(t),s=await this._uvFromMemory({valueExpression:i,view:r,signal:a});return I$3(s.uniqueValueInfos,t)}async heatmapStatistics(e){const{field:t,fieldOffset:r,view:a,signal:i}=e;return (t&&null==r?this.summaryStatistics({field:t,view:a,signal:i}):Promise.resolve(null)).then((t=>{let a=r||0;if(t){const{count:e,min:r,max:i}=t;e?r===i&&0===r?a=1:i<=0?a="abs":r<0&&(a=-1.01*r):a=1;}return this._heatmapStatsFromMemory(e,a).then((e=>({...e,summaryStatistics:t,fieldOffset:a})))}))}async getSampleFeatures(e,a){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e,m=this.layer.createQuery(),p=1;if(m.outSpatialReference=e.spatialReference||i&&i.spatialReference,m.returnGeometry=!!n,m.outFields=o,U$5(m,l),!i)throw new s$m(`${this.adapterName}:not-supported`,"view is required to get sample features for Layer");const y=await i.whenLayerView(this.layer);if(V$4(this,o,y).length)throw new s$m(`${this.adapterName}:not-supported`,"Required fields need to be passed in the outFields for Layer");const f=await this._fetchFeaturesFromMemory(y,m,u,a),c=null!=s&&s>0&&s<=f.length?s:f.length;return j$d(f,c,p)}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=t.get("capabilities.query.supportsSqlExpression"),this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=n$j.getInstance(),await this.workerClient.open(e.signal);}));return this.addResolvingPromise(t),Promise.resolve(this)}};e$g([y$e({constructOnly:!0})],U$4.prototype,"layer",void 0),U$4=e$g([a$u("esri.smartMapping.support.adapters.InMemoryLayerAdapter")],U$4);const B$2=U$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const O$3=5,G$2=2e4,P$4=4e5;let A$5=class extends B$2{constructor(){super(...arguments),this.adapterName="feature-layer-adapter";}_isStatsSupportedOnService(){const e=this.layer;if(!e.get("capabilities.query.supportsStatistics")||"multipatch"===this.geometryType&&!w$d(e.url)&&e.version<10.5)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support statistics query");return Promise.resolve()}_fetchFeaturesFromService(e,t){return this.layer.queryFeatures(e,{signal:t}).then((e=>e.features))}_fetchFeaturesJSONFromService(e,t){return this._fetchFeaturesFromService(e,t).then(w$9)}_summaryStatsFromGenRend(e){const t=e.normalizationType,r=e.normalizationField;return this.classBreaks({field:e.field,numClasses:O$3,classificationMethod:"standard-deviation",standardDeviationInterval:.25,normalizationType:t,normalizationField:"field"===t?r:void 0,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,signal:e.signal}).then((e=>{let t,r,i;if(e.classBreakInfos?.some((e=>(e.hasAvg&&(t=e),!!t))),t){const e=t.maxValue-t.minValue;r=t.minValue+e/2,i=4*e;}const s={min:e.minValue,max:e.maxValue,avg:r,stddev:i};return g$h(s)}))}async _summaryStatsFromServiceQuery(e,t){await this._isStatsSupportedOnService(),"percent-of-total"===e.normalizationType&&(e.normalizationTotal=await this._getNormalizationTotal(e.field,e.normalizationType,e.filter));const r=Q$2(this,e,t),i=await this.layer.queryFeatures(r,{signal:e.signal}),s=z$5(i,t);return g$h(s)}_uvFromGenRenderer(e,t){const r=e.field??void 0,i=new u$f;i.attributeField=r;const s=new i$q;return s.classificationDefinition=i,this.generateRenderer(s,e.signal).then((e=>{const t={},i=this.getField(r);return e.uniqueValues.forEach((e=>{let r=e.value;null!=r&&""!==r&&("string"!=typeof r||""!==r.trim()&&"<null>"!==r.toLowerCase())||(r=null),null==t[r]?t[r]={count:e.count,data:se$2(i)&&r?Number(r):r}:t[r].count=t[r].count+e.count;})),{count:t}})).then((r=>F$6(r,[t],e.returnAllCodedValues)))}async _uvFromServiceQuery(e,t){return this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(M$3(this,e),{signal:e.signal}))).then((t=>j$4(t,{layer:this,field:e.field,field2:e.field2,field3:e.field3,fieldDelimiter:r$f,view:e.view,signal:e.signal}))).then((r=>F$6(r,t,e.returnAllCodedValues,r$f)))}_calcBinsSQL(e,t,r){const i=[],s=t.length;return t.forEach(((t,a)=>{const[n,o]=t;let l=null;l=0!==a||r?a!==s-1||r?F$5(`${e} >= ${n}`,`${e} ${a===s-1?" <= ":" < "} ${o}`):`${e} >= ${n}`:`${e} < ${o}`,i.push("WHEN ("+l+") THEN "+(a+1));})),["CASE",i.join(" "),"ELSE 0","END"].join(" ")}_getNormalizationTotal(e,t,r,i){return e&&"percent-of-total"===t?this.summaryStatistics({field:e,filter:r,signal:i}).then((e=>e.sum)):Promise.resolve(null)}_getQueryParamsForExpr(e,t){const r=e.valueExpression||e.sqlExpression,i=e.signal;if(!r){const{field:r,normalizationType:s,normalizationField:a}=e,n=r?this.getField(r):null,o=ue$1(n),l={field:r,normalizationType:s,normalizationField:a,normalizationTotal:t,layer:this};return {sqlExpression:o?O$4(this,r):T$2(l),sqlWhere:o?null:e.sqlWhere||g$g({field:r,normalizationType:s,normalizationField:a}),filter:e.filter,signal:i}}return {valueExpression:e.valueExpression,sqlExpression:e.sqlExpression,sqlWhere:e.sqlWhere,filter:e.filter,signal:i}}_getDataRange(e,t,r){return null!=t&&null!=r?Promise.resolve({min:t,max:r}):this.summaryStatistics(e).then((e=>({min:e.min,max:e.max})))}_histogramForExpr(e){return this._getNormalizationTotal(e.field,e.normalizationType,e.filter,e.signal).then((t=>{const r=this._getQueryParamsForExpr(e,t);return this._getDataRange(r,e.minValue,e.maxValue).then((i=>{const s=i.min,a=i.max;if(null==s||null==a)return {bins:[],minValue:s,maxValue:a,normalizationTotal:t};const n=e.numBins||F$2,o=$$9(s,a,n),l=this._calcBinsSQL(r.sqlExpression,o,null!=e.minValue&&null!=e.maxValue),u=new m$m({statisticType:"count",outStatisticFieldName:"countOFExpr",onStatisticField:"1"}),m=this.layer.createQuery();return m.where=F$5(m.where,r.sqlWhere),m.sqlFormat="standard",m.outStatistics=[u],m.groupByFieldsForStatistics=[l],m.orderByFields=[l],U$5(m,e.filter),this._isStatsSupportedOnService().then((()=>this.layer.queryFeatures(m,{signal:r.signal}))).then((e=>b$5(e,s,a,n,t)))}))}))}_binParamsFromGenRend(e,t){const{field:r,normalizationType:i,normalizationField:s,signal:a}=e,n=g$g({field:r,normalizationType:i,normalizationField:s}),o=new i$q({classificationDefinition:N$4({field:r,normalizationType:i,normalizationField:s,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numBins||F$2}),where:F$5(n,t)});return this.generateRenderer(o,a).then((e=>{const{normalizationTotal:t,classBreaks:a}=e;return S$3({field:r,normalizationType:i,normalizationField:s,normalizationTotal:t,classBreaks:a,where:n,layer:this})}))}_classBreaksFromGenRend(e){const{field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,signal:a}=e,n=g$g({field:t,normalizationType:r,normalizationField:i}),o=T$2({field:t,normalizationType:r,normalizationField:i,normalizationTotal:s,layer:this}),l=j$b(o,e.minValue,e.maxValue),u=N$4({field:t,normalizationType:r,normalizationField:i,classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||O$3}),m=new i$q;return m.classificationDefinition=u,m.where=F$5(n,l),this.generateRenderer(m,a).then((t=>S$7(t,e.classificationMethod)))}async summaryStatistics(e){const{field:t,normalizationType:i,sqlExpression:a,view:n,features:o,useFeaturesInView:l}=e,m=t?this.getField(t):null,c=ue$1(m),h=e.valueExpression||a,p=h&&!a,d=this._hasLocalSource||o||l,f=n&&"3d"===n.type;if(d||p)return p||o||l||f?this._summaryStatsFromMemory(e,m):this._summaryStatsFromClientQuery(e,c);if(!this.supportsSQLExpression&&(c||h||"natural-log"===i||"square-root"===i))throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return (i&&!this.supportsSQLExpression?this._summaryStatsFromGenRend(e):this._summaryStatsFromServiceQuery(e,c)).catch((()=>(s$q(e.signal),this._summaryStatsFromMemory(e,m))))}async uniqueValues(e){const{valueExpression:t,sqlExpression:r,features:i,useFeaturesInView:a,signal:n}=e,o=t&&(!r||!this.supportsSQLExpression),l=this._hasLocalSource||i||a||o,u=e.view,m=u&&"3d"===u.type,c=await D$3(e,this);return l?o||i||a||m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c):this._uvFromServiceQuery(e,c).catch((t=>(s$q(n),!e.field||e.field2||e.field3||e.filter?t:this._uvFromGenRenderer(e,c[0])))).catch((()=>(s$q(n),m?this._uvFromMemory(e,c):this._uvFromClientQuery(e,c))))}async histogram(e){const{field:t,normalizationType:i,normalizationField:s,classificationMethod:a,view:n,filter:o,signal:l}=e,m=t?this.getField(t):null,c=ue$1(m),h=e.valueExpression||e.sqlExpression,p=h&&!e.sqlExpression,d=this._hasLocalSource||e.features||e.useFeaturesInView||p,f=this.supportsSQLExpression,y=!a||"equal-interval"===a,F=e.minValue,g=e.maxValue,v=null!=F&&null!=g,w=e.numBins||F$2;if(d)return this._histogramFromMemory(e);if((h||f)&&y){if(!f&&(h||"natural-log"===i||"square-root"===i))throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support standardized SQL expression for queries");return this._histogramForExpr(e)}if(c&&y)throw new s$m(`${this.adapterName}:not-supported`,"Normalization and date field are not allowed when layer does not support standardized SQL expression for queries");return i||!y?this._binParamsFromGenRend(e).then((a=>{if(!v)return W$3(this,a,t,w,n,o,l);if(F>a.max||g<a.min)throw new s$m(`${this.adapterName}:insufficient-data`,"Range defined by 'minValue' and 'maxValue' does not intersect available data range of the field");if(y)return W$3(this,{min:F,max:g,sqlExpr:a.sqlExpr,excludeZerosExpr:a.excludeZerosExpr},t,w,n,o,l);{const r={field:t,normalizationType:i,normalizationField:s,normalizationTotal:a.normTotal,layer:this},u=T$2(r),m=j$b(u,F,g);return this._binParamsFromGenRend(e,m).then((e=>W$3(this,e,t,w,n,o,l)))}})):this._histogramForField(e)}async classBreaks(e){const t=!1!==e.analyzeData,r=this._hasLocalSource||e.features||e.useFeaturesInView||e.valueExpression||e.filter;if(t&&r)return this._classBreaksFromMemory(e);return (t?this._classBreaksFromGenRend(e):this._classBreaksFromInterpolation(e)).catch((()=>(s$q(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){if(this._hasLocalSource)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support count query");const t=this.layer,i=t.createQuery();return i.where=F$5(i.where,e.whereClause),U$5(i,e.filter),t.queryFeatureCount(i,{signal:e.signal})}async generateRenderer(e,t){const i=this.layer;if(this._hasLocalSource||i.version<10.1)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support generateRenderer operation (requires ArcGIS Server version 10.1+)");const s=i.createQuery();return e.where=F$5(e.where,s.where),n$i(i.parsedUrl.path,{source:i.dynamicDataSource??void 0,gdbVersion:i.gdbVersion??void 0},e,{signal:t})}async heatmapStatistics(e){const{field:t,fieldOffset:r,view:i,signal:s}=e;return (t&&null==r?this.summaryStatistics({field:t,view:i,signal:s}):Promise.resolve(null)).then((t=>{let i=r||0;if(t){const{count:e,min:r,max:s}=t;e?r===s&&0===r?i=1:s<=0?i="abs":r<0&&(i=-1.01*r):i=1;}return this._heatmapStatsFromMemory(e,i).then((e=>({...e,summaryStatistics:t,fieldOffset:i})))}))}async predominantCategories(e){if(!this._hasLocalSource&&!this.supportsSQLExpression)throw new s$m(`${this.adapterName}:not-supported`,"Layer does not support advanced SQL expressions and standardized queries");const{fields:t,view:i,signal:s}=e,a=s$g(t),n=u$e(t),o=i&&this._hasLocalSource?await this._uvFromMemory({valueExpression:a,view:i,signal:s}):await this._uvFromServiceQuery({sqlExpression:n.expression,valueExpression:a,signal:s});return I$3(o.uniqueValueInfos,t)}async getSampleFeatures(e,r){const{view:a,sampleSize:n,requiredFields:o,returnGeometry:l,filter:u,signal:m}=e,c=this.layer.createQuery(),h=1,p="json"===r;c.outSpatialReference=e.spatialReference||a&&a.spatialReference,c.returnGeometry=!!l,c.outFields=o,U$5(c,u);let d=[],f=!1;if(a)try{const e=await a.whenLayerView(this.layer);if(f=!V$4(this,o,e).length,f&&(d=await this._fetchFeaturesFromMemory(e,c,m,r),d.length&&null!=n&&n>0&&n<=d.length))return j$d(d,n,h)}catch(y){s$q(m);}try{if(this._hasLocalSource)return f?d:p?this._fetchFeaturesJSONFromService(c,m):this._fetchFeaturesFromService(c,m);const r=await this.queryFeatureCount({view:a,filter:u,signal:m}),s=this.layer.capabilities.query.maxRecordCount;let o=-1===n?r:n;if(o=s&&o>s?s:o,r<=d.length||d.length>=s)return d;r$g(a,"FeatureLayerAdapter: must have a view");const l=a.extent.width/a.width/a.scale*P$4;if(c.maxAllowableOffset=e.resolution||l,r<=o)return p?this._fetchFeaturesJSONFromService(c,m):this._fetchFeaturesFromService(c,m);if(r<=G$2){const e=this.layer.createQuery();U$5(e,u);const r=await this.layer.queryObjectIds();return c.objectIds=j$d(r,o,h),p?this._fetchFeaturesJSONFromService(c,m):this._fetchFeaturesFromService(c,m)}return this.layer.get("capabilities.query.supportsPagination")&&(c.num=Math.min(o,G$2)),p?this._fetchFeaturesJSONFromService(c,m):this._fetchFeaturesFromService(c,m)}catch(y){return s$q(m),d}}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=t.get("capabilities.query.supportsSqlExpression"),this._hasLocalSource=!t.url&&!!t.source,this.hasQueryEngine=this._hasLocalSource,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,this.workerClient=n$j.getInstance(),await this.workerClient.open(e.signal);}));return this.addResolvingPromise(t),Promise.resolve(this)}};e$g([y$e({constructOnly:!0})],A$5.prototype,"layer",void 0),A$5=e$g([a$u("esri.smartMapping.support.adapters.FeatureLayerAdapter")],A$5);const U$3=A$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let u$d=class extends U$3{constructor(){super(...arguments),this.adapterName="csv-layer-adapter";}async _createGenerateRendererResult(e,r,o,n,l){const c=e?.features,u=c?.length;if(!u)throw new s$m("csv-layer-adapter:insufficient-data","No features are available to calculate statistics");const m=w$9(c);let d=null;if("percent-of-total"===n){if(d=(await this.workerClient.summaryStatistics({field:r},m)).sum,null==d)throw new s$m("csv-layer-adapter:invalid","invalid normalizationTotal")}if("class-breaks-definition"===l?.type){const e=(await I$8({field:r,normalizationType:n,normalizationField:o,normalizationTotal:d},m)).filter((e=>Number.isFinite(e)));return a$w({definition:l,values:e,normalizationTotal:d})}const f=(await I$8({field:r},m)).filter((e=>null!=e&&"string"==typeof e&&""!==e.trim()));return n$r(f)}generateRenderer(e,t){const r=e.classificationDefinition;let i=null,s=null,a=null;"class-breaks-definition"===r?.type?(i=r.classificationField,s=r.normalizationField,a=r.normalizationType):i=r?.attributeField;const n=this.layer;return l$f({field:i,normalizationField:s}).then((l=>{const c=n.createQuery();return c.returnGeometry=!1,c.outFields=l,c.where=F$5(c.where,e.where),n.queryFeatures(c,{signal:t}).then((e=>this._createGenerateRendererResult(e,i,s,a,r)))}))}load(e){const t=this.layer.load(e).then((async t=>{this.geometryType=t.geometryType,this.objectIdField=t.objectIdField,this.supportsSQLExpression=!0,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.workerClient=n$j.getInstance(),await this.workerClient.open(e.signal);}));return this.addResolvingPromise(t),Promise.resolve(this)}};u$d=e$g([a$u("esri.smartMapping.support.adapters.CSVLayerAdapter")],u$d);const m$d=u$d;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let V$3=class extends U$3{constructor(){super(...arguments),this.adapterName="feature-layer-binning-adapter";}async _getNormalizationTotalFromMemory(e,t,r){const{featuresJSON:i,graphics:s,layerView:o,query:n}=t,u=(!i&&!s&&o&&"queryAggregateSummaryStatistics"in o?await o.queryAggregateSummaryStatistics(n,{field:e},{signal:r}):i?await this.workerClient.summaryStatistics({field:e},i):await d$o({attribute:{field:e},features:s})).sum;if(null==u)throw new s$m(`${this.adapterName}:invalid`,"invalid normalizationTotal");return u}async _processStatsFromMemoryParams(e){const{features:t,filter:r}=e;if(t?.length)return this._getFilteredFeatures(t,r);const{view:i,field:s,field2:o,field3:n,normalizationField:l,valueExpression:u,returnGeometry:m,layerViewFunc:p,signal:g}=e;let y=null,f=null,c=null,v=null,S=null;if(i)try{if(y=await i.whenLayerView(this.layer),f=null!=p&&p in y&&"function"==typeof y[p],f){await this._waitForLayerViewUpdate(y);const e=await l$f({field:s,field2:o,field3:n,normalizationField:l,valueExpression:u});E$3(this,e).length?f=!1:(c="createAggregateQuery"in y?y.createAggregateQuery():null,c?(c.outFields=e,c.returnGeometry=!1,U$5(c,r)):f=!1),y.suspended&&(f=!1);}}catch{f=!1;}if(!f&&(S=B$3(this.layer).map((e=>e.toJSON())),v=await this._fetchFeaturesForStats({field:s,field2:o,field3:n,valueExpression:u,normalizationField:l,returnGeometry:m,filter:r,view:i,signal:g},"json"),!v?.length))throw new s$m(`${this.adapterName}:insufficient-data`,"No features are available to calculate statistics");return {layerView:y,query:c,featuresJSON:v,fieldInfos:S}}async _summaryStatsFromMemory(e,t){const{view:a,field:r,valueExpression:i,normalizationType:o,signal:n}=e,u={field:r,valueExpression:i,normalizationType:o,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue},{featuresJSON:m,graphics:p,layerView:g,query:y,fieldInfos:d}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateSummaryStatistics"});return i&&a&&(m||p)&&(u.fieldType=t?.type?i$x.toJSON(t.type):null,u.viewInfoParams=R$2(a),u.fieldInfos=d),"percent-of-total"===o&&null==e.normalizationTotal&&(u.normalizationTotal=await this._getNormalizationTotalFromMemory(r,{featuresJSON:m,graphics:p,layerView:g,query:y},n)),!m&&!p&&g&&"queryAggregateSummaryStatistics"in g?g.queryAggregateSummaryStatistics(y,u,{signal:n}):m?this.workerClient.summaryStatistics(u,m):d$o({attribute:u,features:p})}async _uvFromMemory(e,t){const{view:a,field:r,valueExpression:i,returnAllCodedValues:s,signal:o}=e,{featuresJSON:n,graphics:l,layerView:m,query:p,fieldInfos:g}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateUniqueValues"}),y={field:r,field2:e.field2,field3:e.field3,fieldDelimiter:r$f,valueExpression:i,domains:t,returnAllCodedValues:s};return i&&a&&(n||l)&&(y.viewInfoParams=R$2(a),y.fieldInfos=g),!n&&!l&&m&&"queryAggregateUniqueValues"in m?m.queryAggregateUniqueValues(p,y,{signal:o}):n?this.workerClient.uniqueValues(y,n):p$v({attribute:y,features:l})}async _histogramFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateHistogram"}),p={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return r&&t&&(s||o)&&(p.viewInfoParams=R$2(t),p.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(p.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateHistogram"in n?n.queryAggregateHistogram(l,p,{signal:i}):s?this.workerClient.histogram(p,s):c$q({attribute:p,features:o})}async _classBreaksFromMemory(e){const{view:t,field:a,valueExpression:r,signal:i}=e,{featuresJSON:s,graphics:o,layerView:n,query:l,fieldInfos:u}=await this._processStatsFromMemoryParams({...e,layerViewFunc:"queryAggregateClassBreaks"}),m={field:a,valueExpression:r,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return r&&t&&(s||o)&&(m.viewInfoParams=R$2(t),m.fieldInfos=u),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(m.normalizationTotal=await this._getNormalizationTotalFromMemory(a,{featuresJSON:s,graphics:o,layerView:n,query:l},i)),!s&&!o&&n&&"queryAggregateClassBreaks"in n?n.queryAggregateClassBreaks(l,m,{signal:i}):s?this.workerClient.classBreaks(m,s):v$9({attribute:m,features:o})}getField(e=""){const t=B$3(this.layer);return t?.find((t=>t.name.toLowerCase()===e?.toLowerCase()))}getFieldUsageInfo(e){return this.getField(e)?{supportsLabelingInfo:!0,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:!1,supportsStatistics:!0}:null}getFieldDomain(e,t){return null}async summaryStatistics(e){const{field:t}=e,r=t?this.getField(t):null,i=ue$1(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new s$m(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._summaryStatsFromMemory(e,r)}async uniqueValues(e){const t=await D$3(e,this);return this._uvFromMemory(e,t)}async histogram(e){const{field:t}=e,r=t?this.getField(t):null,i=ue$1(r),s=e.sqlExpression&&!e.valueExpression&&!t;if(i||s)throw new s$m(`${this.adapterName}:not-supported`,"Date field and sqlExpression are not supported");return this._histogramFromMemory(e)}async classBreaks(e){return (!1!==e.analyzeData?this._classBreaksFromMemory(e):this._classBreaksFromInterpolation(e)).catch((()=>(s$q(e.signal),this._classBreaksFromMemory(e))))}async queryFeatureCount(e){const t=await(e.view?.whenLayerView(this.layer));if(!t||!("queryAggregateCount"in t)||!t.queryAggregateCount)throw new s$m(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(t);const r=t.createAggregateQuery();return r.where=F$5(r.where,e.whereClause),U$5(r,e.filter),t.queryAggregateCount(r,{signal:e.signal})}generateRenderer(e,t){throw new s$m(`${this.adapterName}:not-supported`,"'generateRenderer' is not supported.")}heatmapStatistics(e){throw new s$m(`${this.adapterName}:not-supported`,"'heatmapStatistics' is not supported.")}async predominantCategories(e){const{fields:t,view:a,signal:r}=e,i=s$g(t),s=await this._uvFromMemory({valueExpression:i,view:a,signal:r});return I$3(s.uniqueValueInfos,t)}async getSampleFeatures(e,r){const{view:i,sampleSize:s,requiredFields:o,returnGeometry:n,filter:l,signal:u}=e;if(!i)throw new s$m(`${this.adapterName}:not-supported`,"'view' is required to get sample features for binning.");if("3d"===i.type)throw new s$m(`${this.adapterName}:not-supported`,"3d 'view' is not supported to get sample features for binning.");const m=await i.whenLayerView(this.layer);if(!("queryAggregateJSON"in m&&m.queryAggregateJSON&&"queryAggregates"in m&&m.queryAggregates))throw new s$m(`${this.adapterName}:not-supported`,"LayerView is not supported.");await this._waitForLayerViewUpdate(m);if(E$3(this,o).length)throw new s$m(`${this.adapterName}:insufficient-data`,"Layer does not have required fields");const p=1,g="json"===r,y=m.createAggregateQuery();y.outSpatialReference=e.spatialReference||i&&i.spatialReference,y.returnGeometry=!!n,y.outFields=o,U$5(y,l);const{features:d}=g?await m.queryAggregateJSON(y,{signal:u}):await m.queryAggregates(y,{signal:u});return d.length&&null!=s&&s>0&&s<=d.length?j$d(d,s,p):d}load(e){const t=this.layer.load(e).then((async t=>{if(this.geometryType="polygon",this.objectIdField=null,this.supportsSQLExpression=!1,this._hasLocalSource=!1,this.hasQueryEngine=!0,this.minScale=t.minScale,this.maxScale=t.maxScale,this.fullExtent=t.fullExtent,"geometryType"in t&&"point"!==t.geometryType)throw new s$m(`${this.adapterName}:invalid-parameters`,"Only 'point' geometry type is supported");const r="featureReduction"in t?t.featureReduction:null;if("binning"!==r?.type&&"cluster"!==r?.type)throw new s$m(`${this.adapterName}:invalid-parameters`,`Feature reduction type ${r?.type} is not supported`);this.workerClient=n$j.getInstance(),await this.workerClient.open(e.signal);}));return this.addResolvingPromise(t),Promise.resolve(this)}};V$3=e$g([a$u("esri.smartMapping.support.adapters.FeatureLayerBinningAdapter")],V$3);const z$4=V$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let A$4=class extends s$f{constructor(e){super(e),this._featureLayerAdapter=null,this.workerClient=null;}destroy(){this.workerClient?.destroy();}_hasCachedStatistics(e){return this.layer.hasCachedStatistics(e)}_updateQuery(e,t=[],r=[]){if(!e||!r.length)return e;const a=this.layer.objectIdField,s=e.clone(),i=t.filter((e=>{const t=this.layer.getField(e);return !r.includes(t.name)})),o=i.some((e=>this.layer.getField(e).name===a));return s.outFields=o?i:[...i,a],s}async _fetchFeaturesFromMemory(e,t,r){if(!e)throw new s$m("scene-layer-adapter:insufficient-data","view is required to fetch the features from layerView");const n=await e.whenLayerView(this.layer),l=new AbortController,u=l.signal,p=j$c((()=>!n.updating),u);await A$9(p,5e3,l);const m=V$4(this,r,n);s$q(u);const c=this._updateQuery(t,r??[],m),d=await n.queryFeatures(c,{signal:u});s$q(u);const h=d.features;return m.length?n.whenGraphicAttributes(h,m):h}async _fetchFeaturesJSONFromMemory(e,t,r){return this._fetchFeaturesFromMemory(e,t,r).then(w$9)}_fetchFeaturesForStats(e,t){return l$f({field:e.field,normalizationField:e.normalizationField,valueExpression:e.valueExpression}).then((r=>this.getSampleFeatures({sampleSize:-1,view:e.view,returnGeometry:e.returnGeometry,requiredFields:r,signal:e.signal},t)))}async _processStatsFromMemoryParams(e){const t=e.features;if(t?.length){return t.length&&"declaredClass"in t[0]&&"esri.Graphic"===t[0].declaredClass?{graphics:t}:{featuresJSON:t}}const{view:r,field:s,normalizationField:i,valueExpression:o,signal:n}=e,l=await this._fetchFeaturesForStats({field:s,valueExpression:o,normalizationField:i,view:r,signal:n});if(!l?.length)throw new s$m("scene-layer-adapter:insufficient-data","No features are available to calculate statistics");return {graphics:l}}_generateFeatureSetForCachedHistogram(e,r=e.minimum,a=e.maximum,s){const i=[];for(let t=0;t<s;t++)i[t]=0;const o=e.counts.length,n=e.minimum,l=e.maximum;for(let t=0;t<o;t++){const u=(t+.5)/o,p=((1-u)*n+u*l-r)/(a-r)*s;p>=0&&p<=s&&(i[p===s?s-1:Math.floor(p)]+=e.counts[t]);}const u=[];i.forEach(((e,r)=>{const a=new h$i({attributes:{}});a.attributes.EXPR_1=r+1,a.attributes.countOFExpr=e,u.push(a);}));const p=new d$p;return p.features=u,p}_getCachedStatistics(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.minValue||e.maxValue?Promise.reject(new s$m("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression', 'sqlWhere', 'minValue' or 'maxValue' is specified")):r.queryCachedStatistics(t?.name,{signal:e.signal}).then((e=>{const t=e.stats,{min:r,max:a,totalValuesCount:s}=t;let{avg:i,stddev:o,sum:n,variance:l,count:u}=t;return 0===r&&0===a||(i=0===i?null:i,n=0===n?null:n,o=0===o?null:o,l=0===l?null:l,u=0===u?null:u),null==u&&(null!=n&&null!=i?u=Math.round(n/i):null!=s&&(u=s)),{avg:i,count:u,max:a,min:r,stddev:o,sum:n,variance:l}}))}async _getNormalizationTotal(e,t,r){const s=(t?await this.workerClient.summaryStatistics({field:e},t):await d$o({attribute:{field:e},features:r})).sum;if(null==s)throw new s$m("scene-layer-adapter:invalid","invalid normalizationTotal");return s}async _getSummaryStatisticsFromMemory(e,t){const{view:r,field:a,normalizationField:s,valueExpression:i}=e,{featuresJSON:o,graphics:n}=await this._processStatsFromMemoryParams(e),l={field:a,valueExpression:i,normalizationType:e.normalizationType,normalizationField:s,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue};return e.valueExpression&&r&&o&&(l.fieldType=t?.type?i$x.toJSON(t.type):null,l.viewInfoParams=R$2(r)),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(l.normalizationTotal=await this._getNormalizationTotal(a,o,n)),o?this.workerClient.summaryStatistics(l,o):d$o({attribute:l,features:n})}_getCachedStatisticsForUniqueValues(e,r){const s=this.layer,i=r?.name,o=r&&e.field?this.getFieldDomain(e.field):null;return e.valueExpression||e.sqlExpression||e.sqlWhere?Promise.reject(new s$m("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression', 'sqlExpression' or 'sqlWhere' is specified")):s.queryCachedStatistics(i,{signal:e.signal}).then((a=>{const o=a.stats;if(!o.mostFrequentValues)throw new Error;const n=a.labels&&a.labels.labels,l={},u=[],d="countOF"+i;o.mostFrequentValues.forEach((e=>{const a=new h$i({attributes:{}});a.attributes[i]=r&&r.name!==s.objectIdField&&(se$2(r)||ue$1(r))?Number(e.value):e.value,a.attributes[d]=e.count,u.push(a);})),n&&n.forEach((e=>{l[e.value]=e.label;}));const h=new d$p;return h.features=u,j$4(h,{layer:this,field:e.field,labels:l,view:e.view,signal:e.signal})})).then((t=>F$6(t,[o],e.returnAllCodedValues)))}async _getUniqueValuesFromMemory(e,t){const{view:r,field:a,field2:s,field3:i,valueExpression:o,returnAllCodedValues:n}=e,l={field:a,field2:s,field3:i,fieldDelimiter:r$f,valueExpression:o,domains:t,returnAllCodedValues:n},{featuresJSON:u,graphics:p}=await this._processStatsFromMemoryParams(e);return e.valueExpression&&r&&u&&(l.viewInfoParams=R$2(r)),u?this.workerClient.uniqueValues(l,u):p$v({attribute:l,features:p})}_getCachedStatisticsForHistogram(e,t){const r=this.layer;return e.valueExpression||e.sqlExpression||e.sqlWhere||e.normalizationType?Promise.reject(new s$m("scene-layer-adapter:not-supported","This Layer does not support calculating statistics when 'valueExpression' or 'sqlExpression' or 'sqlWhere' or 'normalizationType' is specified")):r.queryCachedStatistics(t&&t.name,{signal:e.signal}).then((t=>{const r=t.stats,{minValue:a,maxValue:s}=e,i=null!=a?a:r.min,o=null!=s?s:r.max,n=e.numBins||10,l=this._generateFeatureSetForCachedHistogram(r.histogram,i,o,n);return b$5(l,i,o,n)}))}async _getClassBreaksFromMemory(e){const{view:t,field:r,normalizationField:a,valueExpression:s}=e,{featuresJSON:i,graphics:o}=await this._processStatsFromMemoryParams(e),n={field:r,valueExpression:s,normalizationType:e.normalizationType,normalizationField:a,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numClasses:e.numClasses};return e.valueExpression&&t&&i&&(n.viewInfoParams=R$2(t)),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(n.normalizationTotal=await this._getNormalizationTotal(r,i,o)),i?this.workerClient.classBreaks(n,i):v$9({attribute:n,features:o})}async _getHistogramFromMemory(e){const{view:t,field:r}=e,{featuresJSON:a,graphics:s}=await this._processStatsFromMemoryParams(e),i={field:r,valueExpression:e.valueExpression,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,minValue:e.minValue,maxValue:e.maxValue,standardDeviationInterval:e.standardDeviationInterval,classificationMethod:e.classificationMethod,numBins:e.numBins};return e.valueExpression&&t&&a&&(i.viewInfoParams=R$2(t)),"percent-of-total"===e.normalizationType&&null==e.normalizationTotal&&(i.normalizationTotal=await this._getNormalizationTotal(r,a,s)),a?this.workerClient.histogram(i,a):c$q({attribute:i,features:s})}getField(e){return this.layer.getField(e??"")}getFieldUsageInfo(e){const t=this.getField(e);if(!t)return null;const r=this.layer.getFieldUsageInfo(t.name);return {supportsLabelingInfo:r.supportsLabelingInfo,supportsPopupTemplate:r.supportsPopupTemplate,supportsRenderer:r.supportsRenderer,supportsLayerQuery:r.supportsLayerQuery,supportsStatistics:!0}}getFieldDomain(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.getFieldDomain(e,t):null}createQuery(){return this.layer.createQuery()}summaryStatistics(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.summaryStatistics(e);if(e.filter)throw new s$m("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t&&t.name)?this._getCachedStatistics(e,t).catch((()=>(s$q(e.signal),this._getSummaryStatisticsFromMemory(e,t)))):this._getSummaryStatisticsFromMemory(e,t)}async uniqueValues(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.uniqueValues(e);if(e.filter)throw new s$m("scene-layer-adapter:not-supported","filter is not supported");const t=await D$3(e,this),{field:r,field2:s}=e,o=r&&s,n=this.getField(r);return !o&&n&&this._hasCachedStatistics(n.name)?this._getCachedStatisticsForUniqueValues(e,n).catch((()=>(s$q(e.signal),this._getUniqueValuesFromMemory(e,t)))):this._getUniqueValuesFromMemory(e,t)}histogram(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.histogram(e);if(e.filter)throw new s$m("scene-layer-adapter:not-supported","filter is not supported");return t&&this._hasCachedStatistics(t.name)?this._getCachedStatisticsForHistogram(e,t).catch((()=>(s$q(e.signal),this._getHistogramFromMemory(e)))):this._getHistogramFromMemory(e)}classBreaks(e){const t=this.getField(e.field);if(this._featureLayerAdapter)return this._featureLayerAdapter.classBreaks(e);if(e.filter)throw new s$m("scene-layer-adapter:not-supported","filter is not supported");return this._hasCachedStatistics(t&&t.name)?Promise.reject(new s$m("scene-layer-adapter:not-supported","Cached stats not supported")):this._getClassBreaksFromMemory(e)}queryFeatureCount(e){return this._featureLayerAdapter?this._featureLayerAdapter.queryFeatureCount(e):Promise.reject(new s$m("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support count query"))}generateRenderer(e,t){return this._featureLayerAdapter?this._featureLayerAdapter.generateRenderer(e,t):Promise.reject(new s$m("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support generateRenderer operation"))}heatmapStatistics(e){return this._featureLayerAdapter?this._featureLayerAdapter.heatmapStatistics(e):Promise.reject(new s$m("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support heatmapStatistics operation"))}async predominantCategories(e){if(this._featureLayerAdapter)return this._featureLayerAdapter.predominantCategories(e);throw new s$m("scene-layer-adapter:not-supported","SceneLayer without associated FeatureLayer does not support predominantCategories")}async getSampleFeatures(e,t){if(e.filter)throw new s$m("scene-layer-adapter:not-supported","filter is not supported");const{view:s,sampleSize:o,requiredFields:n,returnGeometry:l,signal:u}=e,p=1,m="json"===t,c=this.createQuery();c.outFields=n,c.returnGeometry=!!l,c.where=null,c.num=o;let d=[];try{if(d=m?await this._fetchFeaturesJSONFromMemory(s,c,n):await this._fetchFeaturesFromMemory(s,c,n),d.length&&null!=o&&o>0&&o<=d.length)return j$d(d,o,p)}catch(f){s$q(u);}let h=null;if(this._featureLayerAdapter){const r={...e};delete r.view,h=await this._featureLayerAdapter.getSampleFeatures(r,t);}return h&&h.length?h:j$d(d,d.length,p)}load(e){const t=this.layer.load(e).then((async t=>{this.workerClient=n$j.getInstance(),await this.workerClient.open(e.signal);const r=t.associatedLayer;if(this.geometryType=t.geometryType,null!=r){this._featureLayerAdapter=new U$3({layer:r});return this._featureLayerAdapter.load(e).then((()=>{this.objectIdField=this._featureLayerAdapter.objectIdField,this.supportsSQLExpression=this._featureLayerAdapter.supportsSQLExpression,this.minScale=this._featureLayerAdapter.minScale,this.maxScale=this._featureLayerAdapter.maxScale,this.fullExtent=this._featureLayerAdapter.fullExtent;}))}this.objectIdField=t.objectIdField,this.supportsSQLExpression=!1,this.hasQueryEngine=!1,this.fullExtent=t.fullExtent;}));return this.addResolvingPromise(t),Promise.resolve(this)}};e$g([y$e({constructOnly:!0})],A$4.prototype,"layer",void 0),A$4=e$g([a$u("esri.smartMapping.support.adapters.SceneLayerAdapter")],A$4);const j$3=A$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t$i=class extends j$3{constructor(s){super(s);}getField(s){return this.layer.fieldsIndex.get(s??"")}getFieldUsageInfo(s){const e=this.getField(s);if(!e)return null;const r=this._hasCachedStatistics(e.name);return {supportsLabelingInfo:r,supportsPopupTemplate:r,supportsRenderer:r,supportsLayerQuery:!1,supportsStatistics:r}}getFieldDomain(){return null}load(s){const e=this.layer.load(s).then((()=>{this.geometryType="point",this.objectIdField=null,this.supportsSQLExpression=!1,this.hasQueryEngine=!1;}));return this.addResolvingPromise(e),Promise.resolve(this)}};t$i=e$g([a$u("esri.smartMapping.support.adapters.PointCloudLayerAdapter")],t$i);const o$j=t$i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i$o=class extends B$2{async _summaryStatsFromClientQuery(t,r){const{signal:s,view:i}=t,p=Q$2(this,t,r);p.outStatistics=p.outStatistics?.filter((t=>"totalcount_value"!==t.outStatisticFieldName));const c=await this._fetchFeatureSetFromMemory(p,i,s),m=z$5(c,r);return g$h(m)}};i$o=e$g([a$u("esri.smartMapping.support.adapters.StreamLayerAdapter")],i$o);const p$l=i$o;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var p$k;!function(e){e[e.CSVLayer=0]="CSVLayer",e[e.GeoJSONLayer=1]="GeoJSONLayer",e[e.FeatureLayer=2]="FeatureLayer",e[e.OGCFeatureLayer=3]="OGCFeatureLayer",e[e.SceneLayer=4]="SceneLayer",e[e.StreamLayer=5]="StreamLayer",e[e.PointCloudLayer=6]="PointCloudLayer",e[e.WFSLayer=7]="WFSLayer";}(p$k||(p$k={}));const u$c={[p$k.CSVLayer]:{adapter:m$d,type:"csv",label:"CSVLayer"},[p$k.FeatureLayer]:{adapter:U$3,type:"feature",label:"FeatureLayer"},[p$k.OGCFeatureLayer]:{adapter:B$2,type:"ogc-feature",label:"OGCFeatureLayer"},[p$k.GeoJSONLayer]:{adapter:U$3,type:"geojson",label:"GeoJSONLayer"},[p$k.SceneLayer]:{adapter:j$3,type:"scene",label:"SceneLayer"},[p$k.StreamLayer]:{adapter:p$l,type:"stream",label:"StreamLayer"},[p$k.PointCloudLayer]:{adapter:o$j,type:"point-cloud",label:"PointCloudLayer"},[p$k.WFSLayer]:{adapter:U$3,type:"wfs",label:"WFSLayer"}},S$2=[p$k.CSVLayer,p$k.FeatureLayer,p$k.OGCFeatureLayer,p$k.GeoJSONLayer,p$k.SceneLayer,p$k.StreamLayer,p$k.PointCloudLayer,p$k.WFSLayer],l$c=[p$k.CSVLayer,p$k.FeatureLayer,p$k.OGCFeatureLayer,p$k.SceneLayer,p$k.StreamLayer,p$k.GeoJSONLayer,p$k.WFSLayer],m$c=[p$k.CSVLayer,p$k.FeatureLayer,p$k.OGCFeatureLayer,p$k.StreamLayer,p$k.GeoJSONLayer,p$k.WFSLayer];function d$d(e){return e.map((e=>u$c[e].label))}function i$n(e){return e.map((e=>u$c[e].type))}function F$1(e,r=S$2,t){if(e instanceof s$f)return e;const L=C$6(e,r);return L?t?new z$4({layer:e}):new L({layer:e}):null}function C$6(e,r=S$2){let a=null;return r.some((r=>{const t=e.type===u$c[r].type;return t&&(a=u$c[r].adapter),t})),a}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h$7=["date",...te$2];async function u$b(e){if(!(e&&e.layer&&(e.field||e.valueExpression||e.sqlExpression)))throw new s$m("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new s$m("histogram:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&i$s(e,"histogram");const{layer:u,...w}=e,c=e.forBinning?m$c:S$2,g=F$1(u,c,e.forBinning);if(!g)throw new s$m("histogram:invalid-parameters","'layer' must be one of these types: "+d$d(c).join(", "));const v={layerAdapter:g,...w};v.normalizationType=g$9(v);const x=null!=v.signal?{signal:v.signal}:null;await g.load(x);const E=v.valueExpression||v.sqlExpression,y=v.field,q=y?g.getField(y):null,j=!v.classificationMethod||"equal-interval"===v.classificationMethod,z=await l$f({field:y,normalizationField:v.normalizationField,valueExpression:v.valueExpression}),M=v$a(g,z,"histogram:invalid-parameters");if(M)throw M;if(q){const e=x$6(g,q,"histogram:invalid-parameters",h$7);if(e)throw e;if(ue$1(q)){if(v.normalizationType)throw new s$m("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!j)throw new s$m("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(E){if(v.normalizationType)throw new s$m("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!j)throw new s$m("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}const B=b$c(v.filter,"histogram:invalid-parameters");if(B)throw B;return v}async function w$8(i){const{layerAdapter:e,...r}=await u$b(i);return e.histogram(r)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var t$h;let p$j=t$h=class extends l$j{constructor(r){super(r),this.type="none";}clone(){return new t$h({type:this.type})}};e$g([o$p({none:"none",stayAbove:"stay-above"})],p$j.prototype,"type",void 0),p$j=t$h=e$g([a$u("esri.ground.NavigationConstraint")],p$j);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var C$5;let S$1=C$5=class extends(u$p(_$9)){constructor(r){super(r),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new V$9;const e=r=>{r.parent&&r.parent!==this&&"remove"in r.parent&&r.parent.remove(r),r.parent=this,"elevation"!==r.type&&"base-elevation"!==r.type&&s$n.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`);},t=r=>{r.parent=null;};this.addHandles([this.layers.on("after-add",(r=>e(r.item))),this.layers.on("after-remove",(r=>t(r.item)))]);}initialize(){this.when().catch((r=>{d$q(r)||s$n.getLogger(this).error("#load()","Failed to load ground",r);})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context);}destroy(){const r=this.layers.removeAll();for(const e of r)e.destroy();this.layers.destroy();}normalizeCtorArgs(r){return r&&"resourceInfo"in r&&(this._set("resourceInfo",r.resourceInfo),delete(r={...r}).resourceInfo),r}set layers(r){this._set("layers",n$s(r,this._get("layers")));}writeLayers(r,e,o,t){const i=[];r?(t={...t,layerContainerType:"ground"},r.forEach((r=>{if("write"in r){const e={};o$q(r)().write(e,t)&&i.push(e);}else t&&t.messages&&t.messages.push(new s$m("layer:unsupported",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted in the ground`,{layer:r}));})),e.layers=i):e.layers=i;}load(r){return this.addResolvingPromise(this._loadFromSource(r)),Promise.resolve(this)}loadAll(){return t$n(this,(r=>{r(this.layers);}))}async queryElevation(r,e){await this.load({signal:e?.signal});const{ElevationQuery:o}=await import('./ElevationQuery-89ffdf47.js');s$q(e);const t=new o,s=this.layers.filter(L$3).toArray();return t.queryAll(s,r,e)}async createElevationSampler(r,e){await this.load({signal:e?.signal});const{ElevationQuery:o}=await import('./ElevationQuery-89ffdf47.js');s$q(e);const t=new o,s=this.layers.filter(L$3).toArray();return t.createSamplerAll(s,r,e)}clone(){const r={opacity:this.opacity,surfaceColor:a$t(this.surfaceColor),navigationConstraint:a$t(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(r.loadStatus="loaded"),new C$5({resourceInfo:this.resourceInfo}).set(r)}read(r,e){this.resourceInfo||this._set("resourceInfo",{data:r,context:e}),super.read(r,e);}_loadFromSource(r){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,r):Promise.resolve()}_loadLayersFromJSON(r,e,o){const t=e&&e.origin||"web-scene",s=e&&e.portal||null,a=e&&e.url||null;return import('./layersCreator-b2606958.js').then((({populateOperationalLayers:e})=>{s$q(o);const i=[];if(r.layers&&Array.isArray(r.layers)){const o={context:{origin:t,url:a,portal:s,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};i.push(e(this.layers,r.layers,o));}return j$a(i)})).then((()=>{}))}};function I$2(r){return r&&"createElevationSampler"in r}function L$3(r){return "elevation"===r.type||I$2(r)}e$g([y$e({json:{read:!1}})],S$1.prototype,"layers",null),e$g([r$h("layers")],S$1.prototype,"writeLayers",null),e$g([y$e({readOnly:!0})],S$1.prototype,"resourceInfo",void 0),e$g([y$e({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:T$7,read:{reader:r$i,source:"transparency"},write:{writer:(r,e)=>{e.transparency=n$t(r);},target:"transparency"}}})],S$1.prototype,"opacity",void 0),e$g([y$e({type:h$e,json:{type:[T$7],write:(r,e)=>{e.surfaceColor=r.toJSON().slice(0,3);}}})],S$1.prototype,"surfaceColor",void 0),e$g([y$e({type:p$j,json:{write:!0}})],S$1.prototype,"navigationConstraint",void 0),S$1=C$5=e$g([a$u("esri.Ground")],S$1);const A$3=S$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$b(o){return !(!(o&&"object"==typeof o&&"loaded"in o&&o.loaded&&E$6(o)?.operations?.supportsEditing&&"type"in o)||"editingEnabled"in o&&!S$8(o)||"scene"===o.type&&!i$m(o))}function i$m(n){const r=n.infoFor3D;if(!r)return !0;const{supportedFormats:e,queryFormats:i}=r,s=o$r("model/gltf-binary",e)??u$q("glb",e);return null!=s&&i.includes(s)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$l={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function t$g(t){let a=null;if("string"==typeof t)if(t in i$l){const r=i$l[t];a=new A$3({resourceInfo:{data:{layers:[r]}}});}else s$n.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else a=d$n(A$3,t);return a}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let f$9=class extends(l$k(d$r(n$u.EventedMixin(m$p)))){constructor(s){super(s),this.allLayers=new n$v({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:s=>"layers"in s?s.layers:null}),this.allTables=t$o(this),this.basemap=null,this.editableLayers=new n$v({getCollections:()=>[this.allLayers],itemFilterFunction:e$b}),this.ground=new A$3,this._basemapCache=o$m();}destroy(){this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.ground?.destroy(),this.basemap?.destroy(),f$c(this._basemapCache),this._basemapCache=null;}castBasemap(s){return p$p(s,this._basemapCache)}castGround(s){const e=t$g(s);return e??this._get("ground")}findLayerById(s){return this.allLayers.find((e=>e.id===s))}findTableById(s){return this.allTables.find((e=>e.id===s))}};e$g([y$e({readOnly:!0,dependsOn:[]})],f$9.prototype,"allLayers",void 0),e$g([y$e({readOnly:!0})],f$9.prototype,"allTables",void 0),e$g([y$e({type:O$7})],f$9.prototype,"basemap",void 0),e$g([s$s("basemap")],f$9.prototype,"castBasemap",null),e$g([y$e({readOnly:!0})],f$9.prototype,"editableLayers",void 0),e$g([y$e({type:A$3,nonNullable:!0})],f$9.prototype,"ground",void 0),e$g([s$s("ground")],f$9.prototype,"castGround",null),f$9=e$g([a$u("esri.Map")],f$9);const j$2=f$9;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let u$a=class extends(i$y(l$j)){constructor(...o){super(...o),this.position=new x$7([0,0,0]),this.heading=0,this.tilt=0,this.fov=55;}normalizeCtorArgs(o,r,t,e){if(o&&"object"==typeof o&&("x"in o||Array.isArray(o))){const s={position:o};return null!=r&&(s.heading=r),null!=t&&(s.tilt=t),null!=e&&(s.fov=e),s}return o}writePosition(o,r,t,e){const s=o.clone();s.x=a$x(o.x||0),s.y=a$x(o.y||0),s.z=o.hasZ?a$x(o.z||0):o.z,r[t]=s.write({},e);}readPosition(o,r){const t=new x$7;return t.read(o,r),t.x=a$x(t.x||0),t.y=a$x(t.y||0),t.z=t.hasZ?a$x(t.z||0):t.z,t}equals(o){return null!=o&&(this.tilt===o.tilt&&this.heading===o.heading&&this.fov===o.fov&&this.position.equals(o.position))}};e$g([y$e({type:x$7,json:{write:{isRequired:!0}}})],u$a.prototype,"position",void 0),e$g([r$h("position")],u$a.prototype,"writePosition",null),e$g([o$s("position")],u$a.prototype,"readPosition",null),e$g([y$e({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),s$s((o=>s$t.normalize(a$x(o))))],u$a.prototype,"heading",void 0),e$g([y$e({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),s$s((o=>i$z(a$x(o),-180,180)))],u$a.prototype,"tilt",void 0),e$g([y$e({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],u$a.prototype,"fov",void 0),u$a=e$g([a$u("esri.Camera")],u$a);const d$c=u$a;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var p$i;let n$h=p$i=class extends l$j{constructor(r){super(r),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null;}castRotation(r){return (r%=360)<0&&(r+=360),r}clone(){return new p$i({rotation:this.rotation,scale:this.scale,targetGeometry:null!=this.targetGeometry?this.targetGeometry.clone():null,camera:null!=this.camera?this.camera.clone():null})}};function m$b(){return {enabled:!this.camera}}e$g([y$e({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:m$b}}}}})],n$h.prototype,"rotation",void 0),e$g([s$s("rotation")],n$h.prototype,"castRotation",null),e$g([y$e({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:m$b}}}}})],n$h.prototype,"scale",void 0),e$g([y$e({types:n$w,json:{read:p$w,write:!0,origins:{"web-scene":{read:p$w,write:{overridePolicy:m$b}}}}})],n$h.prototype,"targetGeometry",void 0),e$g([y$e({type:d$c,json:{write:!0}})],n$h.prototype,"camera",void 0),n$h=p$i=e$g([a$u("esri.Viewpoint")],n$h);const l$b=n$h;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$g={widthBreakpoint:{getValue(e){const i=e.viewSize[0],s=e.breakpoints,a=this.values;return i<=s.xsmall?a.xsmall:i<=s.small?a.small:i<=s.medium?a.medium:i<=s.large?a.large:a.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(e){const i=e.viewSize[1],s=e.breakpoints,a=this.values;return i<=s.xsmall?a.xsmall:i<=s.small?a.small:i<=s.medium?a.medium:i<=s.large?a.large:a.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(e){const i=e.viewSize,s=i[0],a=i[1],t=this.values;return a>=s?t.portrait:t.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},o$i={xsmall:544,small:768,medium:992,large:1200};function m$a(e){const i=e;return i&&i.xsmall<i.small&&i.small<i.medium&&i.medium<i.large}function g$8(e,i){return i?n$g[e].valueToClassName[i].split(" "):[]}const w$7=w=>{let d=class extends w{constructor(...e){super(...e),this._breakpointsHandles=new t$p,this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=o$i;}initialize(){this._breakpointsHandles.add(l$l((()=>[this.breakpoints,this.size]),(()=>this._updateClassNames()),h$j));}destroy(){this.destroyed||(this._removeActiveClassNames(),this._breakpointsHandles=l$m(this._breakpointsHandles));}set breakpoints(e){if(e===this._get("breakpoints"))return;const i=m$a(e);if(!i){const e=JSON.stringify(o$i,null,2);console.warn("provided breakpoints are not valid, using defaults:"+e);}e=i?e:o$i,this._set("breakpoints",{...e});}_updateClassNames(){if(!this.container)return;const e=t$q.acquire(),s=t$q.acquire();let a,t=!1;for(a in n$g){const i=this[a],r=n$g[a].getValue({viewSize:this.size,breakpoints:this.breakpoints});i!==r&&(t=!0,this[a]=r,g$8(a,i).forEach((e=>s.push(e))),g$8(a,r).forEach((i=>e.push(i))));}t&&(this._applyClassNameChanges(e,s),t$q.release(e),t$q.release(s));}_applyClassNameChanges(e,i){const s=this.container;s&&(i.forEach((e=>s.classList.remove(e))),e.forEach((e=>s.classList.add(e))));}_removeActiveClassNames(){const e=this.container;if(!e)return;let i;for(i in n$g)g$8(i,this[i]).forEach((i=>e.classList.remove(i)));}};return e$g([y$e()],d.prototype,"breakpoints",null),e$g([y$e()],d.prototype,"orientation",void 0),e$g([y$e()],d.prototype,"widthBreakpoint",void 0),e$g([y$e()],d.prototype,"heightBreakpoint",void 0),d=e$g([a$u("esri.views.BreakpointsOwner")],d),d};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a$p=class extends m$p{constructor(){super(...arguments),this.items=new V$9,this._watchUpdatingTracking=new c$r,this._callbacks=new Map,this._projector=i$v(),this._hiddenProjector=i$v();}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange((()=>this.items),(t=>{for(const e of t.added){const t=()=>e.render();this._callbacks.set(e,t),this._projector.append(this.surface,t);}for(const e of t.removed){const t=this._projector.detach(this._callbacks.get(e));this.surface.removeChild(t.domNode),this._callbacks.delete(e);}}));}addItem(t){this.items.add(t);}removeItem(t){this.items.remove(t);}destroy(){this.items.removeAll(),this._callbacks.forEach((t=>this._projector.detach(t))),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy();}render(){this._projector.renderNow();}computeBoundingRect(t){const e=this._hiddenSurface,r=this._hiddenProjector;let o;const s=()=>(o=t.render(),o);r.append(e,s),r.renderNow();const i={left:0,top:0,right:0,bottom:0};if(o&&o.domNode){const t=o.domNode.getBoundingClientRect();i.left=t.left,i.top=t.top,i.right=t.right,i.bottom=t.bottom;}for(r.detach(s);e.firstChild;)e.removeChild(e.firstChild);return i}overlaps(t,e){const r=this.computeBoundingRect(t),o=this.computeBoundingRect(e);return Math.max(r.left,o.left)<=Math.min(r.right,o.right)&&Math.max(r.top,o.top)<=Math.min(r.bottom,o.bottom)}get hasVisibleItems(){return this.items.some((t=>t.visible))}async prepare(){await document.fonts.load(this._fontString()).catch((()=>{}));}renderCanvas(t){if(!this.items.some((t=>t.visible)))return;const e=t.getContext("2d");e.save(),e.font=this._fontString(),this.items.forEach((t=>{e.save(),t.renderCanvas(e),e.restore();})),e.restore();}_fontString(){return `10px ${getComputedStyle(this.surface).fontFamily}`}};e$g([y$e({readOnly:!0})],a$p.prototype,"surface",void 0),e$g([y$e({readOnly:!0})],a$p.prototype,"items",void 0),e$g([y$e({readOnly:!0})],a$p.prototype,"needsRender",null),e$g([y$e({readOnly:!0})],a$p.prototype,"_watchUpdatingTracking",void 0),e$g([y$e({readOnly:!0})],a$p.prototype,"updating",null),a$p=e$g([a$u("esri.views.overlay.ViewOverlay")],a$p);const c$i=a$p;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p$h=[0,0];function f$8(e){const t=(e.ownerDocument||window.document).defaultView,s=e.getBoundingClientRect();return p$h[0]=s.left+(t?.pageXOffset??0),p$h[1]=s.top+(t?.pageYOffset??0),p$h}function m$9(e){e&&(n$x(e),e.parentNode&&e.parentNode.removeChild(e));}function y$7(e){const t=document.createElement("div");return e.appendChild(t),t}const g$7=16,v$4=750,_$6=512,w$6=2,C$4=i=>{let p=class extends i{constructor(...e){super(...e),this._freqInfo={freq:g$7,time:v$4},this._overlayRenderTaskHandle=null,this.height=0,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([l$l((()=>this.cursor),(e=>{const{surface:t}=this;t&&t.setAttribute("data-cursor",e);})),l$l((()=>this.navigating),(e=>{const{surface:t}=this;t&&t.setAttribute("data-navigating",e.toString());}))]);}initialize(){this.addHandles([l$l((()=>this.ui),((e,t)=>this._handleUIChange(e,t)),h$j),this.on("focus",(()=>this.notifyChange("focused"))),this.on("blur",(()=>this.notifyChange("focused")))]);}destroy(){this.destroyed||(this.ui=l$m(this.ui),this.container=null);}get container(){return this._get("container")??null}set container(e){const i=this._get("container"),o=e$h(e);if(o||"string"!=typeof e||s$n.getLogger(this).error("#container",`element with id '${e}' not found`),i===o)return;if(this._stopMeasuring(),i&&(i.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(m$9(this.root),this._set("root",null)),this.userContent&&(i$A(this.userContent,i),m$9(this.userContent),this._set("userContent",null))),!o)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);o.classList.add("esri-view");const h=document.createElement("div");h.className="esri-view-user-storage",i$A(o,h),o.appendChild(h),this._set("userContent",h);const l=document.createElement("div");l.className="esri-view-root",o.insertBefore(l,o.firstChild),this._set("root",l);const u=document.createElement("div");u.className="esri-view-surface",u.setAttribute("role","application"),u.tabIndex=0,l.appendChild(u),this._set("surface",u);const p=new c$i;l.appendChild(p.surface),this._set("overlay",p),this.addHandles(l$l((()=>p.needsRender),(e=>{e&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=A$a({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=o$t(this._overlayRenderTaskHandle);}))),this.forceDOMReadyCycle(),this._set("container",o),this._startMeasuring();}get focused(){const e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return [this.width,this.height]}blur(){this.surface?.blur();}focus(){this.surface?.focus();}pageToContainer(e,t,s){const i=this.position;return e-=i?i[0]:0,t-=i?i[1]:0,s?(s[0]=e,s[1]=t):s=[e,t],s}containerToPage(e,t,s){const i=this.position;return e+=i?i[0]:0,t+=i?i[1]:0,s?(s[0]=e,s[1]=t):s=[e,t],s}_handleUIChange(e,t){this.removeHandles("ui"),t&&t!==e&&t.destroy(),e&&(e.view=this,this.addHandles(l$l((()=>this.root),(t=>{e.container=t?y$7(t):null;}),h$j),"ui")),this._set("ui",e);}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1);}_startMeasuring(){const e=this._freqInfo;e.freq=g$7,e.time=v$4,this.addHandles([(()=>{const t=()=>{e.freq=g$7,e.time=v$4;};return window.addEventListener("resize",t),{remove(){window.removeEventListener("resize",t);}}})(),A$a({prepare:e=>{const t=this._measure(),s=this._freqInfo;if(s.time+=e.deltaTime,t&&(s.freq=g$7,this._get("resizing")||this._set("resizing",!0)),s.time<s.freq)return;s.time=0;const i=this._position();s.freq=i||t?g$7:Math.min(v$4,s.freq*w$6),!t&&s.freq>=_$6&&this._get("resizing")&&this._set("resizing",!1);}})],"measuring"),this._measure(),this._position();}_measure(){const e=this.container,t=e?e.clientWidth:0,s=e?e.clientHeight:0;if(0===t||0===s)return this.suspended||this._set("suspended",!0),!1;const i=this.width,r=this.height;return t===i&&s===r?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",t),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:i,oldHeight:r,width:t,height:s}),!0)}_position(){const e=this.container,t=this.position,s=e&&f$8(e);return !!s&&((!t||s[0]!==t[0]||s[1]!==t[1])&&(this._set("position",[s[0],s[1]]),!0))}forceDOMReadyCycle(){}};return e$g([y$e()],p.prototype,"container",null),e$g([y$e({readOnly:!0})],p.prototype,"focused",null),e$g([y$e({readOnly:!0})],p.prototype,"height",void 0),e$g([y$e({type:c$i})],p.prototype,"overlay",void 0),e$g([y$e({readOnly:!0})],p.prototype,"position",void 0),e$g([y$e({readOnly:!0})],p.prototype,"resizing",void 0),e$g([y$e({readOnly:!0})],p.prototype,"root",void 0),e$g([y$e({value:null,readOnly:!0})],p.prototype,"size",null),e$g([y$e({readOnly:!0})],p.prototype,"surface",void 0),e$g([y$e({readOnly:!0})],p.prototype,"suspended",void 0),e$g([y$e()],p.prototype,"ui",void 0),e$g([y$e({readOnly:!0})],p.prototype,"userContent",void 0),e$g([y$e({readOnly:!0})],p.prototype,"width",void 0),e$g([y$e()],p.prototype,"widthBreakpoint",void 0),p=e$g([a$u("esri.views.DOMContainer")],p),p};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o$h{constructor(r,o){this._owner=o,this._properties={},this._afterDispatchHandle=null;for(const t in r){const o=r[t],s=new t$r(o,void 0,void 0,2,2);this._properties[t]={pool:s,acquired:[]};}this._afterDispatchHandle=y$g((()=>this._release()));}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const t=this._properties[e];for(const e of t.acquired)x$8(e)||t.pool.release(e);t.pool.destroy(),t.pool=null,t.acquired=null;}this._properties=null,this._owner=null;}get(e){const t=this._owner._get(e),r=this._properties[e];let o=r.pool.acquire();for(r.acquired.push(o);o===t;)r.acquired.push(o),o=r.pool.acquire();return o}_release(){for(const e in this._properties){const t=this._properties[e];let o=0;for(const e of t.acquired)x$8(e)?t.acquired[o++]=e:t.pool.release(e);t.acquired.length=o;}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const e$a=has("mac")?"Meta":"Ctrl",t$f={8:"Backspace",9:"Tab",13:"Enter",27:"Escape",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete"};for(let n=48;n<58;n++)t$f[n]=String.fromCharCode(n);for(let n=1;n<25;n++)t$f[111+n]=`F${n}`;for(let n=65;n<91;n++)t$f[n]=[String.fromCharCode(n+32),String.fromCharCode(n)];function o$g(e){if(void 0!==e.key)return i$B(e);const o=t$f[e.keyCode];return Array.isArray(o)?e.shiftKey?o[1]:o[0]:o}function a$o(r){switch(r){case"Ctrl":case"Alt":case"Shift":case"Meta":case"Primary":return !0}return !1}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e$9{constructor(e,t=[]){this.eventType=e,this.keyModifiers=t;}matches(e){if(e.type!==this.eventType)return !1;if(0===this.keyModifiers.length)return !0;const t=e.modifiers;for(const i of this.keyModifiers)if(!t.has(i))return !1;return !0}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const n$f=s$n.getLogger("esri.views.input.InputHandler");class i$k{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e;}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const t=this._incoming[e];for(const e of t)this._incomingEventMatches.push(e.match);}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map((e=>e.eventType))),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return !1}onInstall(e){this._manager?n$f.error("This InputHandler has already been registered with an InputManager"):(e.setEventCallback((e=>this._handleEvent(e))),e.setUninstallCallback((()=>this._onUninstall())),this._manager=e);}onUninstall(){}registerIncoming(e,n,i){let a;"function"==typeof n?(i=n,a=[]):a=n||[];const o="string"==typeof e?new e$9(e,a):e,h=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null;},r=e=>{const t=this._incoming[e.match.eventType];if(t){const n=t.indexOf(e);t.splice(n,1),h(),this._manager&&this._manager.updateDependencies();}},g=new s$e(o,i,{onPause:r,onRemove:r,onResume:e=>{const t=this._incoming[e.match.eventType];t&&!t.includes(e)&&(t.push(e),h(),this._manager&&this._manager.updateDependencies());}});let c=this._incoming[o.eventType];return c||(c=[],this._incoming[o.eventType]=c),c.push(g),h(),this._manager&&this._manager.updateDependencies(),g}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const t=new a$n(e,{onEmit:(e,t,n,i)=>{this._manager?.emit(e.eventType,t,n,i);},onRemove:e=>{delete this._outgoing[e.eventType],this._manager?.updateDependencies();}});return this._outgoing[e]=t,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),t}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0);}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1);}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs();}_onUninstall(){this._manager?(this.onUninstall(),this._manager=null):n$f.error("This InputHandler is not registered with an InputManager");}_handleEvent(e){const t=this._incoming[e.type];if(t)for(const n of t)if(n.match.matches(e)&&(n.callback?.(e),e.shouldStopPropagation()))break}}class s$e{constructor(e,t,n){this.match=e,this._callback=t,this._handler=n;}pause(){this._handler.onPause(this);}resume(){this._handler.onResume(this);}remove(){this._handler.onRemove(this);}get callback(){return this._callback}}class a$n{constructor(e,t){this.eventType=e,this._removed=!1,this._handler=t;}emit(e,t,n){this._removed||this._handler.onEmit(this,e,t,n);}remove(){this._removed=!0,this._handler.onRemove(this);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$d extends i$k{constructor(t){super(!0),this._onChange=t,this._value="mouse",this._x=null,this._y=null,this.registerIncoming("pointer-move",(t=>{this._update(t.data);}));}_update(t){const s="touch"===t.native.pointerType?"touch":"mouse",{x:e,y:i}=t;s===this._value&&this._x===e&&this._y===i||(this._value=s,this._x=e,this._y=i,this._onChange(s,e,i));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i$j extends i$k{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=r$j(!1),this._onPointerAdd=({data:t})=>{"touch"===t.pointerType&&(this._activeTouchPointerIds.add(t.native.pointerId),this._update());},this._onPointerRemove=({data:t})=>{"touch"===t.pointerType&&(this._activeTouchPointerIds.delete(t.native.pointerId),this._update());},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove);}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d$b=class extends m$p{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=e$a,this._latestPointerType="mouse",this._propertiesPool=new o$h({latestPointerLocation:P$3},this),this.latestPointerLocation=null,this._paused=!1,this.test={timestamp:void 0,hasCurrentPropagation:()=>!!this._currentPropagation};}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers();}destroy(){const e=Object.keys(this._nameToGroup);for(const t of e)this.uninstallHandlers(t);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy();}get hasPendingInputs(){return this._handlers.some((e=>e.handler.hasPendingInputs))}get latestPointerType(){return this._latestPointerType}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,t,i=_$5.INTERNAL){if(this._nameToGroup[e])return void s$n.getLogger(this).error("There is already an InputHandler group registered under the name `"+e+"`");if(0===t.length)return void s$n.getLogger(this).error("Can't register a group of zero handlers");const n={name:e,handlers:t.map((e=>({handler:e,active:!0,removed:!1,priorityIndex:0,groupPriority:i,eventCallback:null,uninstallCallback:null})))};this._nameToGroup[e]=n;for(let r=n.handlers.length-1;r>=0;r--){const e=n.handlers[r];this._handlers.push(e),e.handler.onInstall({updateDependencies:()=>{this.updateDependencies();},emit:(t,r,i,n,s)=>{this._emitInputEvent(e.priorityIndex+1,t,r,i,s,n);},setPointerCapture:(t,r)=>{this._setPointerCapture(n,e,t,r);},setEventCallback:t=>{e.eventCallback=t;},setUninstallCallback:t=>{e.uninstallCallback=t;},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs");}});}this.updateDependencies();}uninstallHandlers(e){const t=this._nameToGroup[e];t?(t.handlers.forEach((e=>{e.removed=!0,e.uninstallCallback?.();})),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):s$n.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`");}hasHandlers(e){return void 0!==this._nameToGroup[e]}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,t=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const e=this._handlers[r];e.priorityIndex=r,this._handlersPriority.push(e);}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const i=this._handlersPriority[r];i.priorityIndex=r;let n=i.handler.hasSideEffects;if(!n)for(const t of i.handler.outgoingEventTypes)if(e.has(t)){n=!0;break}if(n)for(const r of i.handler.incomingEventMatches){e.add(r.eventType);for(const e of r.keyModifiers)a$o(e)||t.add(e);}i.active=n;}this._sourceEvents=e,this._keyModifiers=t,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents);}_setLatestPointer(e,t,r){this._latestPointerType=e;const i=this._get("latestPointerLocation");if(null==i||i.x!==t||i.y!==r){const e=this._propertiesPool.get("latestPointerLocation");e.x=t,e.y=r,this._set("latestPointerLocation",e);}}_onEventReceived(e,t){if("pointer-capture-lost"===e){const e=t;this._pointerCaptures.delete(e.native.pointerId);}this._updateKeyModifiers(e,t);const r=null!=this.test.timestamp?this.test.timestamp:t.native?t.native.timestamp:void 0,i=t.native?t.native.cancelable:void 0;this._emitInputEventFromSource(e,t,r,i);}_updateKeyModifiers(e,t){if(!t)return;let r=!1;const i=()=>{if(!r){const e=new Set;this._activeKeyModifiers.forEach((t=>{e.add(t);})),this._activeKeyModifiers=e,r=!0;}},n=(e,t)=>{t&&!this._activeKeyModifiers.has(e)?(i(),this._activeKeyModifiers.add(e)):!t&&this._activeKeyModifiers.has(e)&&(i(),this._activeKeyModifiers.delete(e));};if("key-down"===e||"key-up"===e){const r=t.key;this._keyModifiers.has(r)&&n(r,"key-down"===e);}const s=t.native;n("Alt",!(!s||!s.altKey)),n("Ctrl",!(!s||!s.ctrlKey)),n("Shift",!(!s||!s.shiftKey)),n("Meta",!(!s||!s.metaKey)),n("Primary",this._activeKeyModifiers.has(this.primaryKey));}_installRecognizers(){this._latestPointerHandler=new s$d(((e,t,r)=>this._setLatestPointer(e,t,r))),this._multiTouchHandler=new i$j,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],_$5.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,_$5.INTERNAL);}_setPointerCapture(e,t,r,i){const n=e.name+"-"+t.priorityIndex,s=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,s),i?(s.add(n),1===s.size&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):s.has(n)&&(s.delete(n),0===s.size&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)));}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter((e=>!e.removed)),this.updateDependencies();}_emitInputEventFromSource(e,t,r,i){this._emitInputEvent(0,e,t,r,i);}_emitInputEvent(e,t,r,i,n,s){const o=void 0!==i?i:this._currentPropagation?this._currentPropagation.timestamp:performance.now(),a=void 0!==n&&n,p={event:new u$9(t,r,o,s||this._activeKeyModifiers,a),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(p):this._doNewPropagation(p);}_doNewPropagation(e){this._currentPropagation={events:new i$C,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation();}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:t,priorityIndex:r}=e.events.pop(),i=t.data&&t.data.eventId;if(!(null!=i&&this._stoppedPropagationEventIds.has(i)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else {if(e.currentHandler.active&&!t.shouldStopPropagation()&&e.currentHandler.eventCallback?.(t),t.shouldStopPropagation()){null!=i&&this._stoppedPropagationEventIds.add(i);break}if(t.shouldPausePropagation((()=>this._continuePropagation())))return void this._pausePropagation({event:t,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1];}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies();}}_pausePropagation(e){const t=new i$C;t.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)t.push(r.events.pop());r.events=t,r.currentHandler=null,this._paused=!0;}}_compareHandlerPriority(e,t){if(e.handler.hasSideEffects!==t.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==t.groupPriority)return e.groupPriority>t.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const e of t.handler.incomingEventMatches){if(r.eventType!==e.eventType)continue;const t=r.keyModifiers.filter((t=>e.keyModifiers.includes(t)));if(t.length===r.keyModifiers.length!==(t.length===e.keyModifiers.length))return r.keyModifiers.length>e.keyModifiers.length?-1:1}return e.priorityIndex>t.priorityIndex?-1:1}_sortHandlersPriority(e){const t=[];for(const r of e){let e=0;for(;e<t.length&&this._compareHandlerPriority(r,t[e])>=0;)e++;t.splice(e,0,r);}return t}get debug(){const e=e=>{const t=this._setPointerCapture;this._setPointerCapture=()=>{},e(),this._setPointerCapture=t;};return {injectEvent:(t,r)=>{e((()=>{this._onEventReceived(t,r);}));},disablePointerCapture:e}}};e$g([y$e({readOnly:!0})],d$b.prototype,"hasPendingInputs",null),e$g([y$e({constructOnly:!0})],d$b.prototype,"eventSource",void 0),e$g([y$e({constructOnly:!0})],d$b.prototype,"recognizers",void 0),e$g([y$e()],d$b.prototype,"_latestPointerType",void 0),e$g([y$e()],d$b.prototype,"latestPointerType",null),e$g([y$e()],d$b.prototype,"multiTouchActive",null),e$g([y$e({readOnly:!0})],d$b.prototype,"latestPointerLocation",void 0),e$g([y$e()],d$b.prototype,"_paused",void 0),e$g([y$e({readOnly:!0})],d$b.prototype,"updating",null),d$b=e$g([a$u("esri.views.input.InputManager")],d$b);class u$9{constructor(e,t,r,i,n){this.type=e,this.data=t,this.timestamp=r,this.modifiers=i,this.cancelable=n,this._propagationState=c$h.NONE,this._resumeCallback=null;}stopPropagation(){this._propagationState|=c$h.STOPPED;}shouldStopPropagation(){return 0!=(this._propagationState&c$h.STOPPED)}async(e){this._propagationState|=c$h.PAUSED;const t=(e,t)=>{this._propagationState&=~c$h.PAUSED;const r=this._resumeCallback;if(this._resumeCallback=null,r&&r(),t)throw e;return e};return ("function"==typeof e?e():e).then((e=>t(e,!1)),(e=>t(e,!0)))}shouldPausePropagation(e){return !!(this._propagationState&c$h.PAUSED)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault();}}var c$h;!function(e){e[e.NONE=0]="NONE",e[e.STOPPED=1]="STOPPED",e[e.PAUSED=2]="PAUSED";}(c$h||(c$h={}));const _$5={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3};class g$6{}const P$3=g$6;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function d$a(e){return null!=e&&"open"in e&&"declaredClass"in e}function y$6(e){return null!=e&&"declaredClass"in e&&"dockOptions"in e}const w$5=w=>{let m=class extends w{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0;}initialize(){this.addHandles([l$l((()=>[this.ui,this.popup]),(([e,p],t)=>{const i="popup",s="manual";if(t){const[e,p]=t;e&&d$a(p)&&(p.view=null,y$6(p)&&e.remove(p,i));}e&&d$a(p)&&(p.view=this,y$6(p)&&e.add(p,{key:i,position:s,internal:!0}));}),h$j),this.on("click",(e=>{this.popup&&this.popupEnabled&&("mouse"!==e.pointerType||0===e.button)&&(!d$a(this.popup)&&"autoOpenEnabled"in this.popup&&!1===this.popup.autoOpenEnabled||(d$a(this.popup)?this.popup.viewModel.handleViewClick(e):e.async((async()=>{await this.setupPopup(),d$a(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e);}))));}),_$5.WIDGET)]),j$c((()=>this.ready&&this.popupEnabled&&!this.updating)).then((()=>{import('./Popup-f8d010ba.js').then(function (n) { return n.a0; });}));}destroy(){this.destroyed||this.closePopup();}async openPopup(e){d$a(this.popup)&&this.popup.open(e);try{if(await this.setupPopup(),!this.popup)return void s$n.getLogger(this).error(new s$m("view:null-popup","Popup is null and can't be opened"));this.popup.open(e);}catch{}}closePopup(){this._popupSetupTask?.abort(),d$a(this.popup)&&this.popup.close();}async fetchPopupFeatures(e,p){await this.when();const{location:t,queryArea:i,layerViewsAndGraphics:s,clientOnlyGraphics:r}=await this._prepareFetchPopupFeatures(e,p),a=Promise.resolve(r),n=this._queryLayerPopupFeatures(i,s,p),u=n.map((e=>e.promise));return {location:t,clientOnlyGraphics:r,allGraphicsPromise:P$7([a,...u]).then((e=>Array.from(new Set(e.flat())))),promisesPerLayerView:n}}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!d$a(this.popup))return this._popupSetupTask=d$s((async e=>{const{default:p}=await import('./Popup-f8d010ba.js').then(function (n) { return n.a0; });if(s$q(e),!this.popup||d$a(this.popup))return;const t=this.popup;delete t.open,delete t.close,this.popup=new p(t);})),this._popupSetupTask.promise}_queryLayerPopupFeatures(e,p,t){return p.map((({layerView:p,graphics:i})=>{const s={clientGraphics:i,event:null!=t?t.event:void 0,signal:null!=t?t.signal:void 0,defaultPopupTemplateEnabled:null!=t&&!!t.defaultPopupTemplateEnabled},o=p.fetchPopupFeatures(e,s);return {layerView:p,promise:o}}))}_isValidPopupGraphic(e,p){return e&&!!e.getEffectivePopupTemplate(null!=p&&p.defaultPopupTemplateEnabled)}async _prepareFetchPopupFeatures(e,p){const{clientGraphics:t,queryArea:i,location:s}=await this._popupHitTestGraphics(e,p),o=this._getFetchPopupLayerViews(),{layerViewsAndGraphics:r,clientOnlyGraphics:a}=this._graphicsPerFetchPopupLayerView(t,o);return {clientOnlyGraphics:a,layerViewsAndGraphics:r,queryArea:i,location:s}}async _popupHitTestGraphics(e,p){const t=await this.popupHitTest(e),i=t.results,s=t.mapPoint,o=i.filter((e=>"graphic"===e.type&&this._isValidPopupGraphic(e.graphic,p))),r=o.length?o[0].mapPoint:null;return {clientGraphics:o.map((e=>e.graphic)),queryArea:s,location:s||r}}_getFetchPopupLayerViews(){const e=[];return this.allLayerViews.forEach((p=>{this._isValidPopupLayerView(p)&&e.push(p);})),null!=this.graphicsView&&this._isValidPopupLayerView(this.graphicsView)&&e.push(this.graphicsView),e.reverse()}_isValidPopupLayerView(e){return null!=e&&(!("layer"in e)||!e.suspended)&&"fetchPopupFeatures"in e}_graphicsPerFetchPopupLayerView(e,p){const t=[],i=new Map,s=p.map((e=>{const p=[];return "layer"in e?i.set(e.layer,p):i.set(e.graphics,p),{layerView:e,graphics:p}}));for(const o of e){const e=i.get(o.layer)||i.get(o.sourceLayer)||null;e?e.push(o):t.push(o);}return {layerViewsAndGraphics:s,clientOnlyGraphics:t}}};return e$g([y$e({cast(e){return !e||d$a(e)||"object"==typeof e&&(e.open=e=>(r$k(s$n.getLogger(this),"view.popup is no longer created by default. view.popup.open() will stop working when the popup isn't created",{replacement:"Use view.openPopup() instead.",version:"4.27"}),this.openPopup(e)),e.close=()=>(r$k(s$n.getLogger(this),"view.popup is no longer created by default. view.popup.close() will stop working when the popup isn't created",{replacement:"Use view.closePopup() instead.",version:"4.27"}),this.closePopup())),e}})],m.prototype,"popup",void 0),e$g([y$e()],m.prototype,"popupEnabled",void 0),m=e$g([a$u("esri.views.PopupView")],m),m};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t$e=class extends l$n{constructor(e){super(e),this.handles.add(this.on("before-add",(e=>{null!=e.item&&e.item.parent===this.owner&&(s$n.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),e.preventDefault());})));}_own(e){e.parent=this.owner;}_release(e){e.parent=null;}};t$e=e$g([a$u("esri.support.AnalysesCollection")],t$e);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$e=class extends m$p{constructor(e){super(e),this.view=null,this.baseLayerViews=new V$9,this.referenceLayerViews=new V$9,this._loadingHandle=l$l((()=>this.view?.map?.basemap),(e=>{e&&e.load().catch((()=>{}));}),h$j);}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(const e of this.baseLayerViews)e.destroy();this.baseLayerViews.length=0;for(const e of this.referenceLayerViews)e.destroy();this.referenceLayerViews.length=0;}get suspended(){return !this.view||this.view.suspended}get updating(){if(this.view&&this.view.suspended)return !1;const e=this.view?.map?.basemap;return !!e&&(!!e.loaded&&(this.baseLayerViews.some((e=>e.updating))||this.referenceLayerViews.some((e=>e.updating))))}};e$g([y$e({constructOnly:!0})],n$e.prototype,"view",void 0),e$g([y$e({readOnly:!0})],n$e.prototype,"baseLayerViews",void 0),e$g([y$e({readOnly:!0})],n$e.prototype,"referenceLayerViews",void 0),e$g([y$e({readOnly:!0})],n$e.prototype,"suspended",null),e$g([y$e({type:Boolean,readOnly:!0})],n$e.prototype,"updating",null),n$e=e$g([a$u("esri.views.BasemapView")],n$e);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function g$5(e){return "tryRecycleWith"in e}class v$3{constructor(e,r,t){this.layer=e,this.view=r,this.layerViewImporter=t,this._controller=new AbortController,this._deferred=C$b(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,w$e(this._controller.signal,(()=>{const r=new s$m("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred.reject(r);}));}tryRecycle(e){if(!this.done||!this.layerView||!g$5(this.layerView))return null;const r=this.layer.type,i=this._controller.signal;for(let t=0;t<e.length;t++){const s=e[t];if(s.type!==r)continue;const a=this.layerView.tryRecycleWith(s,{signal:i});if(a){e.splice(t,1),this.layer=s;const r=this.layerView,i=r.view;return this.promise=Promise.race([a.then((()=>(s$q(this._controller.signal),s.emit("layerview-destroy",{view:i,layerView:r}),i.emit("layerview-destroy",{view:i,layerView:r}),s.emit("layerview-create",{view:i,layerView:r}),i.emit("layerview-create",{view:i,layerView:r}),r))),new Promise(((e,r)=>w$e(this._controller.signal,(()=>r(c$s())))))]),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:r,view:i}=this;r.emit("layerview-destroy",{view:i,layerView:e}),i.emit("layerview-destroy",{layer:r,layerView:e});}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null;}async start(){if(this._started)return;this._started=!0;const{_controller:{signal:e},layer:r,view:t}=this;this._map=t.map;try{let o,l;if(await r.load({signal:e}),"prefetchResources"in r&&await(r.prefetchResources?.({signal:e})),M$2(r))o=await r.createLayerView(t,{signal:e});else {if(!this.layerViewImporter.hasLayerViewModule(r))throw new s$m("layer:view-not-supported","No layerview implementation was found");const s=await this.layerViewImporter.importLayerView(r);s$q(e),o="default"in s?new s.default({layer:r,view:t}):new s({layer:r,view:t});}const n=()=>{l=o$t(l),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0;};l=w$e(e,n),s$q(e);try{await o.when();}catch(s){throw n(),s}const c=this._map?.allLayers?.includes(r);if(!c)return n(),void this._deferred.reject(new s$m("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=o,r.emit("layerview-create",{view:t,layerView:o}),t.emit("layerview-create",{layer:r,layerView:o}),this.done=!0,this._deferred.resolve(o);}catch(s){r.emit("layerview-create-error",{view:t,error:s}),t.emit("layerview-create-error",{layer:r,error:s}),this.done=!0,this._deferred.reject(new s$m("layerview:create-error","layerview creation failed",{layer:r,error:s}));}}}let V$2=class extends m$p{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new c$r,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const e=this.view.map?.allLayers;if(e)for(const r of e)this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r);},this._reschedule=()=>this.destroyed?Promise.reject():(null==this._workPromise&&(this._workPromise=C$b(),this._workPromise.promise.catch((()=>{}))),this.removeHandles("reschedule"),this.addHandles(v$b(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const e=this.view.map;if(this._map!==e&&(this.clear(),this._map=e),null==this._workPromise)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,i=[],t=this.view.ready,s=e=>{if(null!=e)for(const a of e)if(a){r.add(a);const e=this._layerLayerViewInfoMap.get(a);e&&t?e.start():e||this._recyclingInfoMap.has(a)||i.push(a),"layers"in a&&a.layers&&s(a.layers);}};for(const o of this._rootCollectionNames)s(this.get(o));for(const[o,l]of this._layerLayerViewInfoMap)if(!r.has(o)){this._layerLayerViewInfoMap.delete(l.layer);const e=l.tryRecycle(i);e?(this.notifyChange("updating"),this._recyclingInfoMap.set(l.layer,l),e.then((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(l.layer),this._layerLayerViewInfoMap.set(l.layer,l),this._reschedule();})).catch((()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(l.layer),l.destroy(),this._reschedule();}))):l.destroy();}for(const[o,l]of this._recyclingInfoMap)r.has(o)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(l.layer),l.destroy());for(const o of i)this._createLayerView(o);this._refreshCollections();const a=[e?.ground?.layers,e?.basemap?.baseLayers,e?.basemap?.referenceLayers,e?.layers].filter((e=>!!e));r.forEach((e=>"layers"in e&&a.push(e.layers))),this.addHandles(a.map((e=>this._watchUpdatingTracking.addOnCollectionChange((()=>e),this._reschedule))),"collection-change"),this._workPromise.resolve(),this._workPromise=null;};}initialize(){this.own([a$y((()=>this.view?.map?.allLayers),"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),l$l((()=>{const e=this.view,r=e?.map;return [r?.basemap,r?.ground,r?.layers,e?.ready]}),(()=>this._reschedule()),w$f)]),this._preloadLayerViewModules(),this._reschedule();}destroy(){this.clear(),n$y(this._recyclingInfoMap),n$y(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,null!=this._workPromise&&(this._workPromise.reject(c$s()),this._workPromise=null);}get _layersToLayerViews(){const e=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&e.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(e)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return null!=this._workPromise||this._watchUpdatingTracking.updating||n$z(this._layerLayerViewInfoMap,(e=>!e.done))||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const r of this._layerLayerViewInfoMap.values())r.done||++e;return e}clear(){this.destroyed||(n$y(this._layerLayerViewInfoMap),this._refreshCollections());}async whenLayerView(e){if(await this._reschedule(),!this._layerLayerViewInfoMap.has(e)){if(this._recyclingInfoMap.has(e))return this._recyclingInfoMap.get(e).promise;throw new s$m("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e})}return this._layerLayerViewInfoMap.get(e).promise}_refreshCollections(){for(const[e,r]of this._layersToLayerViews)this._populateLayerViewsOwners(this.get(e),this.get(r),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining");}_populateLayerViewsOwners(e,r,i){if(!e||!r)return void(r&&r.removeAll());let t=0;for(const s of e){const e=this._layerLayerViewInfoMap.get(s);if(!e||!e.layerView)continue;const a=e.layerView;a.layer=s,a.parent=i,r.at(t)!==a&&r.splice(t,0,a),s.layers&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),t+=1;}t<r.length&&r.splice(t,r.length);}_createLayerView(e){e.load().catch((()=>{})),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const r=new v$3(e,this.view,this.layerViewImporter);r.promise.then((()=>this._refreshCollections()),(r=>{r&&(d$q(r)||"cancelled:layerview-create"===r.name)||s$n.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this._refreshCollections();})),this._layerLayerViewInfoMap.set(e,r),this.view.ready&&r.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining");}};e$g([y$e()],V$2.prototype,"_workPromise",void 0),e$g([y$e({readOnly:!0})],V$2.prototype,"_watchUpdatingTracking",void 0),e$g([y$e({readOnly:!0})],V$2.prototype,"_layersToLayerViews",null),e$g([y$e({readOnly:!0})],V$2.prototype,"_rootCollectionNames",null),e$g([y$e()],V$2.prototype,"layerViewImporter",void 0),e$g([y$e()],V$2.prototype,"supportsGround",void 0),e$g([y$e({readOnly:!0})],V$2.prototype,"updating",null),e$g([y$e({readOnly:!0})],V$2.prototype,"updatingRemaining",null),e$g([y$e({constructOnly:!0})],V$2.prototype,"view",void 0),V$2=e$g([a$u("esri.views.LayerViewManager")],V$2);const L$2=V$2;function M$2(e){return "createLayerView"in e&&null!=e.createLayerView}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i$i=class extends m$p{constructor(o){super(o),this.factor=1.5,this.offset=c$t(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0;}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};e$g([y$e({type:Number})],i$i.prototype,"factor",void 0),e$g([y$e({nonNullable:!0})],i$i.prototype,"offset",void 0),e$g([y$e()],i$i.prototype,"position",void 0),e$g([y$e({type:Number,range:{min:0}})],i$i.prototype,"size",void 0),e$g([y$e()],i$i.prototype,"maskUrl",void 0),e$g([y$e()],i$i.prototype,"maskEnabled",void 0),e$g([y$e()],i$i.prototype,"overlayUrl",void 0),e$g([y$e()],i$i.prototype,"overlayEnabled",void 0),e$g([y$e({readOnly:!0})],i$i.prototype,"version",null),e$g([y$e({type:Boolean})],i$i.prototype,"visible",void 0),i$i=e$g([a$u("esri.views.Magnifier")],i$i);const p$g=i$i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a$m=class extends m$p{constructor(e,t){super({}),this._stage=e,this._textureRequests=new Map,this._frameTask=t?.registerTask(I$9.TEXTURE_UNLOAD)??F$7;}normalizeCtorArgs(){return {}}destroy(){super.destroy(),this._frameTask?.remove(),this._textureRequests?.forEach((e=>this._releaseTextureRequest(e))),this._textureRequests?.clear();}get updating(){return this._frameTask.updating}fromData(e,t,r){const s=this.makeUid(e);let o=this._textureRequests.get(s);if(!o){const e=new i$h(r);e.texture=t(),this._stage?.add(e.texture),this._stage?.loadImmediate(e.texture),this._textureRequests.set(s,e),o=e;}return o.referenceCount++,{uid:s,texture:o.texture,release:()=>this._release(s)}}_release(e){const t=this._textureRequests.get(e);t?(t.referenceCount<1&&console.warn("TextureCollection: reference count is < 1 for "+e),t.referenceCount--,t.referenceCount<1&&this._frameTask.schedule((()=>this._releaseNow(e)))):console.warn(`TextureCollection: texture doesn't exist: '${e}'`);}get test(){return {textureRequests:this._textureRequests}}_releaseNow(e){if(!this._textureRequests)return;const t=this._textureRequests.get(e);!t||t.referenceCount>0||(this._releaseTextureRequest(t),this._textureRequests.delete(e));}_releaseTextureRequest(e){e.onRemove&&e.onRemove(),e.texture?this._stage?.remove(e.texture):e.abortController&&(e.abortController.abort(),e.abortController=null);}makeUid(e,t=null){return null!=t?`${e}.${t}px`:e}};e$g([y$e()],a$m.prototype,"_frameTask",void 0),e$g([y$e()],a$m.prototype,"updating",null),a$m=e$g([a$u("esri.views.3d.support.TextureCollection")],a$m);class i$h{constructor(e){this.onRemove=e,this.referenceCount=0;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var t$d;!function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right";}(t$d||(t$d={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const r$d=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],i$g={};function o$f(t){return !!i$g[t]}function s$c(t){for(const e of t)if(!o$f(e))return !1;return !0}r$d.forEach((t=>{i$g[t]=!0;}));class p$f{constructor(t){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=t,this.inputManager=null;}connect(t){t&&this.disconnect(),this.inputManager=t,this._handlers.forEach((({handler:t,priority:e},a)=>this.inputManager?.installHandlers(a,[t],e)));}disconnect(){this.inputManager&&this._handlers.forEach(((t,e)=>this.inputManager?.uninstallHandlers(e))),this.inputManager=null;}destroy(){this.disconnect(),this._handlers.clear(),this.view=null;}on(t,e,a,r){const i=Array.isArray(t)?t:t.split(",");if(!s$c(i))return i.some(o$f)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let p,l;Array.isArray(e)?l=e:(p=e,l=[]),"function"==typeof a?p=a:r=a,r=null!=r?r:_$5.DEFAULT;const u=this._createUniqueGroupName(),m=new c$g(this.view,i,l,p);this._handlers.set(u,{handler:m,priority:r});for(const n of i){const t=this._handlerCounts.get(n)||0;this._handlerCounts.set(n,t+1);}return this.inputManager&&this.inputManager.installHandlers(u,[m],r),{remove:()=>this._removeHandler(u,i)}}hasHandler(t){return !!this._handlerCounts.get(t)}_removeHandler(t,e){if(this._handlers.has(t)){this._handlers.delete(t);for(const t of e){const e=this._handlerCounts.get(t);void 0===e?console.error("Trying to remove handler for event that has no handlers registered: ",t):1===e?this._handlerCounts.delete(t):this._handlerCounts.set(t,e-1);}}this.inputManager&&this.inputManager.uninstallHandlers(t);}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}}class c$g extends i$k{constructor(t,e,a,n){super(!0),this._latestDragStart=void 0,this.view=t;for(const r of e)switch(r){case"click":this.registerIncoming("click",a,(t=>n(this._wrapClick(t))));break;case"double-click":this.registerIncoming("double-click",a,(t=>n(this._wrapDoubleClick(t))));break;case"immediate-click":this.registerIncoming("immediate-click",a,(t=>n(this._wrapImmediateClick(t))));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",a,(t=>n(this._wrapImmediateDoubleClick(t))));break;case"hold":this.registerIncoming("hold",a,(t=>n(this._wrapHold(t))));break;case"drag":this.registerIncoming("drag",a,(t=>{const e=this._wrapDrag(t);e&&n(e);}));break;case"key-down":this.registerIncoming("key-down",a,(t=>n(this._wrapKeyDown(t))));break;case"key-up":this.registerIncoming("key-up",a,(t=>n(this._wrapKeyUp(t))));break;case"pointer-down":this.registerIncoming("pointer-down",a,(t=>n(this._wrapPointer(t,"pointer-down"))));break;case"pointer-move":this.registerIncoming("pointer-move",a,(t=>n(this._wrapPointer(t,"pointer-move"))));break;case"pointer-up":this.registerIncoming("pointer-up",a,(t=>n(this._wrapPointer(t,"pointer-up"))));break;case"pointer-drag":this.registerIncoming("pointer-drag",a,(t=>n(this._wrapPointerDrag(t))));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",a,(t=>n(this._wrapMouseWheel(t))));break;case"pointer-enter":this.registerIncoming("pointer-enter",a,(t=>n(this._wrapPointer(t,"pointer-enter"))));break;case"pointer-leave":this.registerIncoming("pointer-leave",a,(t=>n(this._wrapPointer(t,"pointer-leave"))));break;case"gamepad":this.registerIncoming("gamepad",a,(t=>{n(this._wrapGamepad(t));}));break;case"focus":this.registerIncoming("focus",a,(t=>{n(this._wrapFocus(t));}));break;case"blur":this.registerIncoming("blur",a,(t=>{n(this._wrapBlur(t));}));}}_wrapFocus(t){return {type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapBlur(t){return {type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapClick(t){const{pointerType:a,button:n,buttons:r,x:i,y:o,native:s,eventId:p}=t.data,{cancelable:c,timestamp:l}=t;return {type:"click",pointerType:a,button:n,buttons:r,x:i,y:o,native:s,timestamp:l,screenPoint:c$t(i,o),mapPoint:this._getMapPoint(i,o),eventId:p,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,{cancelable:p,timestamp:c}=t;return {type:"double-click",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:c,mapPoint:this._getMapPoint(r,i),eventId:s,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapImmediateClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return {type:"immediate-click",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this._getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapImmediateDoubleClick(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o,eventId:s}=t.data,p=o.pointerId,{cancelable:c,timestamp:l}=t;return {type:"immediate-double-click",pointerId:p,pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:l,mapPoint:this._getMapPoint(r,i),eventId:s,cancelable:c,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapHold(t){const{pointerType:e,button:a,buttons:n,x:r,y:i,native:o}=t.data,{cancelable:s,timestamp:p}=t;return {type:"hold",pointerType:e,button:a,buttons:n,x:r,y:i,native:o,timestamp:p,mapPoint:this._getMapPoint(r,i),cancelable:s,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_getMapPoint(t,a){return this.view.toMap(c$t(t,a),{exclude:[]})}_wrapDrag(e){const a=e.data,{x:n,y:r}=a.center,{action:i,pointerType:o,button:s}=a;if("start"===i&&(this._latestDragStart=a),!this._latestDragStart)return;const p=a.pointer.native,c=a.buttons,{cancelable:l,timestamp:u}=e,m={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return "end"===i&&(this._latestDragStart=void 0),{type:"drag",action:i,x:n,y:r,origin:m,pointerType:o,button:s,buttons:c,radius:a.radius,angle:m$q(a.angle),native:p,timestamp:u,cancelable:l,stopPropagation:()=>e.stopPropagation(),async:t=>e.async(t),preventDefault:()=>e.preventDefault()}}_wrapKeyDown(t){const{key:e,repeat:a,native:n}=t.data,{cancelable:r,timestamp:i}=t;return {type:"key-down",key:e,repeat:a,native:n,timestamp:i,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapKeyUp(t){const{key:e,native:a}=t.data,{cancelable:n,timestamp:r}=t;return {type:"key-up",key:e,native:a,timestamp:r,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapPointer(t,e){const{x:a,y:n,button:r,buttons:i,native:o,eventId:s}=t.data,p=o.pointerId,c=o.pointerType,{cancelable:l,timestamp:u}=t;return {type:e,x:a,y:n,pointerId:p,pointerType:c,button:r,buttons:i,native:o,timestamp:u,eventId:s,cancelable:l,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapPointerDrag(t){const{x:e,y:a,buttons:n,native:r,eventId:i}=t.data.currentEvent,{button:o}=t.data.startEvent,s=t.data.startEvent.native.pointerId,p=t.data.startEvent.native.pointerType,c=t.data.action,l={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:u,timestamp:m}=t;return {type:"pointer-drag",x:e,y:a,pointerId:s,pointerType:p,button:o,buttons:n,action:c,origin:l,native:r,timestamp:m,eventId:i,cancelable:u,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapMouseWheel(t){const{cancelable:e,data:a,timestamp:n}=t,{x:r,y:i,deltaY:o,native:s}=a;return {type:"mouse-wheel",x:r,y:i,deltaY:o,native:s,timestamp:n,cancelable:e,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}_wrapGamepad(t){const{action:e,state:a,device:n}=t.data,{cancelable:r,timestamp:i}=t,{buttons:o,axes:s}=a;return {type:"gamepad",device:n,timestamp:i,action:e,buttons:o,axes:s,cancelable:r,stopPropagation:()=>t.stopPropagation(),async:e=>t.async(e),preventDefault:()=>t.preventDefault()}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var o$e,t$c,u$8;!function(o){o[o.USER=0]="USER",o[o.MANAGER=1]="MANAGER";}(o$e||(o$e={})),function(o){o[o.None=0]="None",o[o.Unfocused=1]="Unfocused",o[o.Focused=2]="Focused",o[o.Unselected=4]="Unselected",o[o.Selected=8]="Selected",o[o.All=15]="All";}(t$c||(t$c={})),function(o){o[o.None=0]="None",o[o.Custom1=16]="Custom1",o[o.Custom2=32]="Custom2",o[o.Custom3=64]="Custom3",o[o.Custom4=128]="Custom4",o[o.Custom5=256]="Custom5",o[o.Custom6=512]="Custom6",o[o.Custom7=1024]="Custom7",o[o.Custom8=2048]="Custom8",o[o.Custom9=4096]="Custom9",o[o.Custom10=8192]="Custom10",o[o.Custom11=16384]="Custom11",o[o.Custom12=32768]="Custom12",o[o.All=65520]="All";}(u$8||(u$8={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o$d(t){return [t.on("before-add",(o=>{const i=o.item;if(null==i||t.includes(i))return s$n.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void o.preventDefault();i.onAdd();})),t.on("after-remove",(e=>{const t=e.item;t.active&&(t.view.activeTool=null),t.destroy();}))]}function i$f(e){return e.visible&&null!=e.getEditableFlag&&e.getEditableFlag(o$e.USER)&&e.getEditableFlag(o$e.MANAGER)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$d(t){return c$t(t.x,t.y)}function c$f(e){return i$D(e.x,e.y)}function i$e(t,n){const c=(t instanceof HTMLElement?t:t.surface)?.getBoundingClientRect();return c?c$t(n.clientX-c.left,n.clientY-c.top):c$t(0,0)}function r$c(e,t){return t instanceof Event?i$e(e,t):n$d(t)}function o$c(e){if(e instanceof Event)return !0;if("object"==typeof e&&"type"in e){switch(e.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return !0;default:return !1}}return !1}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$b{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._revertToNullActiveTool=!1,this._cursor=null;}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(t,e){const i=()=>t.stopPropagation();switch(t.type){case"pointer-move":l$a(t.pointerType)&&this._pointerLocations.set(t.pointerId,{x:t.x,y:t.y,pointerType:t.pointerType});break;case"drag":this._grabbedManipulators.size>0&&(this._stopDrag=!0),this._stopDrag&&(i(),"end"===t.action&&(this._stopDrag=!1));break;case"pointer-down":{if(!p$e(t))break;const o=n$d(t),r=this._intersect(o,t.pointerType,e.forEachTool);if(null==r)break;const a=r.manipulator,s=r.tool;null==a||null==s||!a.interactive||a.grabbable&&a.grabbableForEvent(t)||!a.grabbing||a.dragging||this._ungrabManipulatorBeforeDragging(a,t,e),null!=a&&null!=s&&a.interactive&&a.grabbable&&a.grabbableForEvent(t)&&!a.grabbing&&(this._grabbedManipulators.set(t.pointerId,{manipulator:a,tool:s,start:o,pointerType:t.pointerType}),1===this._grabbedManipulators.size&&null==e.activeTool&&(this._revertToNullActiveTool=!0,e.setActiveTool(r.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:t.pointerType,screenPoint:o}),i());break}case"pointer-up":this._draggedManipulators.has(t.pointerId)||this._handlePointerEnd(t,e);break;case"pointer-drag":{if(!p$e(t))break;const a=this._grabbedManipulators.get(t.pointerId),s=n$A(a,(({manipulator:t})=>t)),l=n$A(a,(({tool:t})=>t));if(null==s||null==l)break;const u=n$d(t);u.x=i$z(u.x,0,e.view.width),u.y=i$z(u.y,0,e.view.height);const c=a.start,h=this._draggedManipulators.get(t.pointerId);switch(t.action){case"start":case"update":"update"!==t.action&&1!==this._grabbedManipulators.size||(s.dragging=!0,h?s.events.emit("drag",{action:"update",start:c,screenPoint:u}):s.events.emit("drag",{action:"start",start:c,screenPoint:u,pointerType:t.pointerType}),this._draggedManipulators.set(t.pointerId,{tool:l,manipulator:s,start:c}));break;case"end":s.dragging=!1,h&&s.events.emit("drag",{action:"end",start:c,screenPoint:u}),this._draggedManipulators.delete(t.pointerId),this._handlePointerEnd(t,e);}i();break}case"immediate-click":{const o=n$d(t),r=this._intersect(o,t.pointerType,e.forEachTool);if(u$7(t)||e.forEachTool((t=>{if((null==r||r.tool!==t||t.automaticManipulatorSelection)&&t.manipulators){let e=!1;t.manipulators.forEach((({manipulator:t})=>{t.selected&&(t.selected=!1,e=!0);})),e&&t.onManipulatorSelectionChanged&&t.onManipulatorSelectionChanged();}})),null==r)break;const{manipulator:a,tool:s}=r;if(!a.interactive)break;a.selectable&&s.automaticManipulatorSelection&&(a.selected=!a.selected,s.onManipulatorSelectionChanged&&s.onManipulatorSelectionChanged());const l=t.native.shiftKey;a.events.emit("immediate-click",{screenPoint:o,button:t.button,pointerType:t.pointerType,shiftKey:l,stopPropagation:i});break}case"click":{const o=n$d(t),r=this._intersect(o,t.pointerType,e.forEachTool),a=null!=r?r.manipulator:null;if(null==a||!a.interactive)break;const s=t.native.shiftKey;a.events.emit(t.type,{screenPoint:o,button:t.button,pointerType:t.pointerType,shiftKey:s}),i();break}case"double-click":{const o=n$d(t),r=this._intersect(o,t.pointerType,e.forEachTool),a=null!=r?r.manipulator:null;if(null==a||!a.interactive)break;const s=t.native.shiftKey;a.events.emit("double-click",{screenPoint:o,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:i});break}case"immediate-double-click":{const o=n$d(t),r=this._intersect(o,t.pointerType,e.forEachTool),a=null!=r?r.manipulator:null;if(null==a||!a.interactive)break;const s=t.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:o,button:t.button,pointerType:t.pointerType,shiftKey:s,stopPropagation:i});break}}this._onFocusChange(e.forEachTool);}_ungrabManipulatorBeforeDragging(t,e,o){t.grabbing=!1,t.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:n$d(e)}),this._grabbedManipulators.forEach((({manipulator:e},o)=>{e===t&&this._grabbedManipulators.delete(o);})),this._afterManipulatorUngrab(o.setActiveTool);}_handlePointerEnd(t,e){const o=n$A(this._grabbedManipulators.get(t.pointerId),(({manipulator:t})=>t));null!=o&&o.grabbing&&(o.grabbing=!1,o.events.emit("grab-changed",{action:"end",pointerType:t.pointerType,screenPoint:n$d(t)}),this._grabbedManipulators.delete(t.pointerId),this._afterManipulatorUngrab(e.setActiveTool));}_cursorFromMap(t){let o=null;return n$z(t,(({manipulator:t})=>!(null==t||!t.interactive)&&(t.grabbing&&t.grabCursor?(o=t.grabCursor,!0):!!t.cursor&&(o=t.cursor,!0)))),o}_onFocusChange(t){this._updateCursor(),this._updateFocusedManipulatorTools(t);}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=this._cursorFromMap(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=this._cursorFromMap(this._hoveredManipulators)||"pointer":this._cursor=null;}_updateFocusedManipulatorTools(e){const o=new Set,r=new Set;this._grabbedManipulators.forEach((({tool:t})=>{o.add(t);})),this._hoveredManipulators.forEach((({tool:t})=>{r.add(t);})),e((e=>{e.hasGrabbedManipulators=o.has(e),e.hasHoveredManipulators=r.has(e);const i=this._grabbedManipulators.values(),a=o$u(i,(({tool:t})=>t===e));e.firstGrabbedManipulator=null!=a?a.manipulator:null;}));}clearPointers(t,{forEachTool:e,setActiveTool:o},r=!0,i){const a=(e,o)=>e===t&&(null==i||i===o);this._grabbedManipulators.forEach((({tool:t,manipulator:e,pointerType:o},r)=>{a(t,e)&&(this._grabbedManipulators.delete(r),e.grabbing=!1,e.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:o}));})),this._draggedManipulators.forEach((({tool:t,manipulator:e},o)=>{a(t,e)&&(this._draggedManipulators.delete(o),e.dragging=!1,e.events.emit("drag",{action:"cancel"}));})),r&&this._hoveredManipulators.forEach((({tool:t,manipulator:e},o)=>{a(t,e)&&(this._hoveredManipulators.delete(o),e.hovering=!1);})),this._afterManipulatorUngrab(o),this._onFocusChange(e);}_intersect(t,e,o){let r=null;return o((o=>{if(null==o.manipulators||!i$f(o))return !1;const i=o.manipulators.intersect(t,e);return null!=i&&(r={tool:o,manipulator:i},!0)})),r}updateHoveredStateFromKnownPointers(t){this._pointerLocations.forEach(((e,o)=>{this._updateHoveredStateForPointerAtScreenPosition(c$t(e.x,e.y),o,e.pointerType,t);}));}handleHoverEvent(t,e){"pointer-up"!==t.type&&"immediate-click"!==t.type&&"pointer-move"!==t.type||!l$a(t.pointerType)||this._updateHoveredStateForPointerAtScreenPosition(n$d(t),t.pointerId,t.pointerType,e);}_updateHoveredStateForPointerAtScreenPosition(t,e,o,i){let a=this._intersect(t,o,i);const n=n$A(this._hoveredManipulators.get(e),(({manipulator:t})=>t));null==a||a.manipulator.interactive||(a=null),null!=a&&n===a.manipulator||(null!=n&&(n.hovering=!1),null!=a?(a.manipulator.hovering=!0,this._hoveredManipulators.set(e,a)):this._hoveredManipulators.delete(e),this._onFocusChange(i));}_afterManipulatorUngrab(t){0===this._grabbedManipulators.size&&this._revertToNullActiveTool&&(t(null),this._revertToNullActiveTool=!1);}}function l$a(t){return "mouse"===t}function p$e(t){return "mouse"!==t.pointerType||0===t.button}function u$7(t){return !!t.native.shiftKey}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f$7="attached",E$2="tools",y$5=1e3;let w$4=class extends d$t{constructor(t){super(t),this._clock=t$s,this._manipulatorState=new s$b,this.tools=new V$9,this.cursor=null,this._interacting=!1,this._interactingTimeout=null,this._forEachTool=t=>{for(const e of this.tools.items)if(t(e))return};}initialize(){this.handles.add([this.view.on(r$d,(t=>{this._handleInputEvent(t);}),_$5.TOOL),...o$d(this.tools),this.tools.on("before-add",(({item:t})=>{this._updateToolEditableFlag(t);})),this.tools.on("before-remove",(({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor();})),this.tools.on("change",(()=>{this._refreshToolWatchers();}))]);}destroy(){this.detach(),this.handles.removeAll();}get _manipulatorStateEventArgs(){return {forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t;},view:this.view}}set activeTool(t){if(null!=t&&!this.view.ready)return void s$n.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;const e=this.activeTool;this._set("activeTool",t),null!=e&&e.deactivate(),null!=t&&t.activate(),this._removeIncompleteTools(t);for(const o of this.tools){this._updateToolEditableFlag(o);const t=i$f(o);null!=this.activeTool&&t||this._manipulatorState.clearPointers(o,this._manipulatorStateEventArgs,!t);}this._updateCursor();}get updating(){return this.updatingHandles.updating||this.tools.some((t=>t.updating))||(this.textures?.updating??!1)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeout=o$t(this._interactingTimeout);}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeout=this._clock.setTimeout((()=>this._interacting=!1),y$5);}attach(){"3d"===this.view.type?(this._set("textures",new a$m(this.view._stage,this.view.resourceController.scheduler)),this.handles.add([l$l((()=>{const{state:t}=this.view;return "camera"in t&&t.camera}),(()=>this._forEachManipulator((t=>t.onViewChange())))),this.view.elevationProvider?.on("elevation-change",(t=>this._forEachManipulator((e=>e.onElevationChange(t))))),e$i((()=>this._set("textures",l$m(this.textures))))],f$7)):this.handles.add(l$l((()=>this.view.extent),(()=>this._forEachManipulator((t=>t.onViewChange())))));}detach(){this.activeTool=null,this.tools.removeAll(),this.handles.remove(f$7),this._clearInteractingTimeout(),this._interacting=!1;}_forEachManipulator(t){this._forEachTool((e=>{e.manipulators&&e.manipulators.forEach((({manipulator:o})=>t(o,e)));}));}_handleInputEvent(t){let e=!1;const o={...t,stopPropagation:()=>{e=!0,t.stopPropagation();}};null!=this.activeTool?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(o):this._forEachTool((t=>{!e&&t.visible&&t.handleInputEvent(o);})),!e&&"key-down"===t.type&&"Escape"===t.key&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(o,this._manipulatorStateEventArgs),e||null==this.activeTool||this.activeTool.handleInputEventAfter(o),this._manipulatorState.handleHoverEvent(o,this._forEachTool),this._updateCursor(),"pointer-move"===t.type&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout());}_refreshToolWatchers(){this.handles.remove(E$2),this._forEachTool((t=>{if(t instanceof m$p){const e=l$l((()=>[t.cursor,t.visible,t.editable]),(()=>{i$f(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor();}));this.handles.add(e,E$2);}t.manipulators&&this.handles.add([t.manipulators.on("after-remove",(e=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,e.item.manipulator);})),t.manipulators.on("change",(()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor();}))],E$2);})),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor();}_updateToolEditableFlag(t){t.setEditableFlag?.(o$e.MANAGER,null==this.activeTool||t===this.activeTool);}_updateCursor(){let t=this._manipulatorState.cursor;null==t&&this._forEachTool((e=>!(null==e.cursor||!e.visible)&&(t=e.cursor,!0))),this._get("cursor")!==t&&this._set("cursor",t);}_removeIncompleteTools(t){this.tools.filter((e=>(null==t||e!==t)&&!e.created&&e.removeIncompleteOnCancel)).forEach((t=>{this.tools.remove(t);}));}get test(){return {setClock:t=>this._clock=t}}};e$g([y$e({constructOnly:!0,nonNullable:!0})],w$4.prototype,"view",void 0),e$g([y$e({readOnly:!0,nonNullable:!0})],w$4.prototype,"textures",void 0),e$g([y$e({value:null})],w$4.prototype,"activeTool",null),e$g([y$e({readOnly:!0,type:V$9})],w$4.prototype,"tools",void 0),e$g([y$e({readOnly:!0})],w$4.prototype,"cursor",void 0),e$g([y$e({readOnly:!0})],w$4.prototype,"updating",null),e$g([y$e()],w$4.prototype,"_interacting",void 0),e$g([y$e({readOnly:!0})],w$4.prototype,"interacting",null),w$4=e$g([a$u("esri.views.ToolViewManager")],w$4);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$c=class extends m$p{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown","standard"===e.mapping?this._detectedDeviceType="standard":o$b.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index;}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return null!=this.nativeIndex&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return i$d[this.deviceType]}};e$g([y$e({nonNullable:!0,readOnly:!0})],n$c.prototype,"nativeIndex",void 0),e$g([y$e({type:String,readOnly:!0})],n$c.prototype,"deviceType",null),e$g([y$e({type:Number,readOnly:!0})],n$c.prototype,"axisThreshold",null),n$c=e$g([a$u("esri.views.input.gamepad.GamepadInputDevice")],n$c);const o$b=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),i$d={standard:.15,spacemouse:.025,unknown:0},a$l=n$c;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let c$e=class extends m$p{constructor(...e){super(...e),this.devices=new V$9,this.enabledFocusMode="document";}};e$g([y$e({type:V$9.ofType(a$l),readOnly:!0})],c$e.prototype,"devices",void 0),e$g([y$e({type:["document","view","none"]})],c$e.prototype,"enabledFocusMode",void 0),c$e=e$g([a$u("esri.views.input.gamepad.GamepadSettings")],c$e);const i$c=c$e;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p$d=class extends m$p{constructor(){super(...arguments),this.gamepad=new i$c;}};e$g([y$e({readOnly:!0})],p$d.prototype,"gamepad",void 0),p$d=e$g([a$u("esri.views.input.Input")],p$d);const a$k=p$d;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s$a=class extends m$p{constructor(o){super(o),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1;}};e$g([y$e({type:Boolean,nonNullable:!0})],s$a.prototype,"enabled",void 0),e$g([y$e({type:a$l})],s$a.prototype,"device",void 0),e$g([y$e({type:["pan","zoom"],nonNullable:!0})],s$a.prototype,"mode",void 0),e$g([y$e({type:["forward-down","forward-up"],nonNullable:!0})],s$a.prototype,"tiltDirection",void 0),e$g([y$e({type:Number,nonNullable:!0})],s$a.prototype,"velocityFactor",void 0),s$a=e$g([a$u("esri.views.navigation.gamepad.GamepadSettings")],s$a);const a$j=s$a;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let a$i=class extends m$p{constructor(o){super(o),this.browserTouchPanEnabled=!0,this.gamepad=new a$j,this.momentumEnabled=!0,this.mouseWheelZoomEnabled=!0;}};e$g([y$e({type:Boolean})],a$i.prototype,"browserTouchPanEnabled",void 0),e$g([y$e({type:a$j,nonNullable:!0})],a$i.prototype,"gamepad",void 0),e$g([y$e({type:Boolean})],a$i.prototype,"momentumEnabled",void 0),e$g([y$e({type:Boolean})],a$i.prototype,"mouseWheelZoomEnabled",void 0),a$i=e$g([a$u("esri.views.navigation.Navigation")],a$i);const p$c=a$i;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$b(n,i){if(!n)return null;if(!s$9(n))return new s$m("webscene:unsupported-height-model-info","The vertical coordinate system of the scene is not supported",{heightModelInfo:n});const r=n.heightUnit,o=v$c.deriveUnitFromSR(n,i).heightUnit;return r!==o?new s$m("webscene:incompatible-height-unit",`The vertical units of the scene (${r}) must match the horizontal units of the scene (${o})`,{verticalUnit:r,horizontalUnit:o}):null}function r$b(n,i,r){const s=l$9(n),h=i,u=o$a(s,h,r);if(s){const i=v$c.deriveUnitFromSR(s,n.spatialReference).heightUnit;if(!r&&i!==s.heightUnit){const t=new s$m("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${i})`,{horizontalUnit:i});return new s$m("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:s,error:t})}}if(!c$d(n)||u===a$h.Unsupported)return new s$m("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:s});switch(u){case a$h.Units:{const t=s?.heightUnit||"unknown",n=h?.heightUnit||"unknown",i=new s$m("layerview:incompatible-height-unit",`The vertical units of the layer (${t}) must match the vertical units of the scene (${n})`,{layerUnit:t,sceneUnit:n});return new s$m("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:h,error:i})}case a$h.HeightModel:{const t=s?.heightModel||"unknown",n=h?.heightModel||"unknown",i=new s$m("layerview:incompatible-height-model",`The height model of the layer (${t}) must match the height model of the scene (${n})`,{layerHeightModel:t,sceneHeightModel:n});return new s$m("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:h,error:i})}case a$h.CRS:{const t=s?.vertCRS||"unknown",n=h?.vertCRS||"unknown",i=new s$m("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${t}) must match the vertical datum of the scene (${n})`,{layerDatum:t,sceneDatum:n});return new s$m("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:s,sceneHeightModelInfo:h,error:i})}}return null}function o$a(e,t,n){if(!s$9(e)||!s$9(t))return a$h.Unsupported;if(null==e||null==t)return a$h.Ok;if(!n&&e.heightUnit!==t.heightUnit)return a$h.Units;if(e.heightModel!==t.heightModel)return a$h.HeightModel;switch(e.heightModel){case"gravity-related-height":return a$h.Ok;case"ellipsoidal":return e.vertCRS===t.vertCRS?a$h.Ok:a$h.CRS;default:return a$h.Unsupported}}var a$h;function s$9(e){return null==e||null!=e.heightModel&&null!=e.heightUnit}function c$d(e){return "heightModelInfo"in e&&null!=e.heightModelInfo||null!=e.spatialReference||!d$9(e)}function l$9(e){const i=e.url?p$x(e.url):void 0,r=e.spatialReference?.vcsWkid;return !(null==r&&null!=i&&"ImageServer"===i.serverType)&&h$6(e)&&e.heightModelInfo?e.heightModelInfo:d$9(e)?v$c.deriveUnitFromSR(p$b,e.spatialReference):null}function h$6(e){return "heightModelInfo"in e}function u$6(e){if("unknown"===e.type||!("capabilities"in e))return !1;switch(e.type){case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return !0;default:return !1}}function d$9(e){return u$6(e)?!!(e.capabilities&&e.capabilities.data&&e.capabilities.data.supportsZ):f$6(e)}function g$4(e){return null!=e.layers||f$6(e)||u$6(e)||h$6(e)}function f$6(e){switch(e.type){case"building-scene":case"elevation":case"integrated-mesh":case"point-cloud":case"scene":case"voxel":return !0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"csv":case"dimension":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return !1}return !1}!function(e){e[e.Ok=0]="Ok",e[e.Units=1]="Units",e[e.HeightModel=2]="HeightModel",e[e.CRS=3]="CRS",e[e.Unsupported=4]="Unsupported";}(a$h||(a$h={}));const p$b=new v$c({heightModel:"gravity-related-height"});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$b,s$8=null;async function c$c(r){s$8||(s$8=import('./geometryServiceUtils-26ece903.js').then((e=>n$b=e))),await s$8,s$q(r);}async function p$a(e,s,a,m){if(!e)return null;const l=e.spatialReference;return Y$3()||Cn$1(l,s)?nn$1(e,s):n$b?n$b.projectGeometry(e,s,a,m):(await Promise.race([c$c(m),$$a(m)]),p$a(e,s,a,m))}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let d$8=class extends m$p{constructor(e){super(e),this.required={tileInfo:!1,heightModelInfo:!1,extent:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null};}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=e$j(this._projectExtentTask.task)),this._set("map",null);}get ready(){return !this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return !this._heightModelInfoTask.updating}get spatialReference(){return null!=this.userSpatialReference?this.userSpatialReference:this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return null==this.userSpatialReference||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),t=[];return null!=this.priorityCollection&&t.push(this.priorityCollection),t.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),t}get _allLayers(){return this._collectLayers(this.mapCollections)}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};const{layers:e,updating:t}=this._allLayers;let n=null;for(const s of e){const e=this._getSupportedSpatialReferences(s);if(e.length>0){const t=this._narrowDownSpatialReferenceCandidates(n,e);null!=t&&(n=t);}if(null!=n&&1===n.length)break}if(t&&(null==n||1!==n.length))return {updating:!0};const a=this._pickSpatialReferenceCandidate(n);return {spatialReference:null!=a?a.spatialReference:null,viewingMode:null!=a?a.viewingMode:null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};if(!this.spatialReference)return {updating:this._spatialReferenceTask.updating};const{layers:e,updating:t}=this._collectLayers([{parent:this.map?.()?.basemap,layers:this.map?.()?.basemap?.baseLayers},{layers:this.map?.()?.layers}]);if(e&&e.length>0&&"tileInfo"in e[0]){const t=e[0].tileInfo;return {tileInfo:t&&t.spatialReference.equals(this.spatialReference)?t:null,updating:!1}}return {updating:t}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};const{layers:e,updating:t}=this._allLayers;for(const n of e)if(g$4(n)){const e=l$9(n);if(e)return {heightModelInfo:e,vcsWkid:n.spatialReference?.vcsWkid,latestVcsWkid:n.spatialReference?.latestVcsWkid,updating:!1}}return {updating:t}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return {updating:this._spatialReferenceTask.updating};const e=this._allLayers,t=e.updating,n=[];for(const a of e.layers){const e="fullExtents"in a&&a.fullExtents||(null!=a.fullExtent?[a.fullExtent]:[]),t=this.requiresExtentInSpatialReference?null:e[0],s=e.find((e=>e.spatialReference.equals(this.spatialReference)))??t;if(s)return {candidates:[{extent:s,layer:a}],updating:!1};if(this._getSupportedSpatialReferences(a).length>0)for(const i of e)n.push({extent:i,layer:a});}return {candidates:n,updating:t}}get _extentTask(){const{candidates:e,updating:t}=this._extentCandidatesTask;if(t)return {updating:t};if(null==e||0===e.length)return {updating:!1};if(!this.spatialReference)return {updating:this._spatialReferenceTask.updating};const i=this._pickExtentCandidate(e),r=this.spatialReference;return i.extent.equals(this._projectExtentTask.input)&&r.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:null!=this._projectExtentTask.task&&!this._projectExtentTask.task.finished}:(null!=this._projectExtentTask.task&&(this._projectExtentTask.task=e$j(this._projectExtentTask.task)),this._projectExtentTask={input:i.extent.clone(),output:null,spatialReference:r.clone(),task:d$s((async e=>{try{const t=await p$a(i.extent,r,"portalItem"in i.layer?i.layer.portalItem:void 0,e);this._projectExtentTask={...this._projectExtentTask,task:null,output:t};}catch(t){if(a$z(e))return;this._projectExtentTask={...this._projectExtentTask,task:null};}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,t){if(null==e)return t;const n=[],a=(e,t)=>null!=e?null!=t?e===t&&e:e:t;for(const s of e)for(const e of t){if(!s.spatialReference.equals(e.spatialReference))continue;const t=a(s.viewingMode,e.viewingMode);if(!1!==t){n.push({spatialReference:s.spatialReference,viewingMode:t});break}}return n.length>0?n:null}_pickSpatialReferenceCandidate(e){const t=this.defaultSpatialReference;return null==e||e.length<1?null!=t?{spatialReference:t,viewingMode:null}:null:(null!=t&&e.length>1&&e.some((({spatialReference:e})=>e.equals(t)))&&(e=e.filter((({spatialReference:e})=>e.equals(t)))),e.length>1&&e.some((({viewingMode:e})=>e!==l$o.Local))&&(e=e.filter((({viewingMode:e})=>e!==l$o.Local))),e[0])}_getSupportedSpatialReferences(e){const t="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(0===t.length)return [];const n=[];for(const a of t){const t=this.getSpatialReferenceSupport({spatialReference:a,layer:e});if(null!=t){const e=null!=t.constraints?t.constraints:[{spatialReference:a,viewingMode:null}];for(const{spatialReference:t,viewingMode:a}of e)this.requiresExtentInSpatialReference&&null!=this.userSpatialReference&&!t.equals(this.userSpatialReference)||n.push({spatialReference:t,viewingMode:a});}}return n}_pickExtentCandidate(e){const t=this.spatialReference;return e.find((({extent:e})=>t.equals(e.spatialReference)))||e[0]}_collectLayers(e){if("loaded"!==this._loadMaybe(this.map?.()))return {layers:[],updating:!0};const t=new f$5;for(const n of e)if(this._collectCollection(n,t),t.preloading===this.sourcePreloadCount)break;return {layers:t.layers,updating:t.updating}}_collectCollection(e,t){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return t.updating=!0,void++t.preloading;case"failed":return}for(const n of e.layers){switch(this._loadMaybe(n)){case"failed":continue;case"loading":t.updating=!0,++t.preloading;break;case"loaded":t.updating||t.layers.push(n),"layers"in n&&this._collectCollection({layers:n.layers},t);}if(t.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&null!=e.loadStatus?"not-loaded"===e.loadStatus?(e.load().catch((e=>{d$q(e)||console.log(e);})),"loading"):e.loadStatus:"loaded"}};e$g([y$e()],d$8.prototype,"required",void 0),e$g([y$e({constructOnly:!0})],d$8.prototype,"map",void 0),e$g([y$e({constructOnly:!0})],d$8.prototype,"getSpatialReferenceSupport",void 0),e$g([y$e()],d$8.prototype,"defaultSpatialReference",void 0),e$g([y$e()],d$8.prototype,"userSpatialReference",void 0),e$g([y$e()],d$8.prototype,"sourcePreloadCount",void 0),e$g([y$e()],d$8.prototype,"priorityCollection",void 0),e$g([y$e()],d$8.prototype,"requiresExtentInSpatialReference",void 0),e$g([y$e()],d$8.prototype,"suspended",void 0),e$g([y$e({readOnly:!0})],d$8.prototype,"ready",null),e$g([y$e({readOnly:!0})],d$8.prototype,"heightModelInfoReady",null),e$g([y$e({readOnly:!0})],d$8.prototype,"spatialReference",null),e$g([y$e({readOnly:!0})],d$8.prototype,"extent",null),e$g([y$e({readOnly:!0})],d$8.prototype,"heightModelInfo",null),e$g([y$e({readOnly:!0})],d$8.prototype,"vcsWkid",null),e$g([y$e({readOnly:!0})],d$8.prototype,"latestVcsWkid",null),e$g([y$e({readOnly:!0})],d$8.prototype,"viewingMode",null),e$g([y$e({readOnly:!0})],d$8.prototype,"tileInfo",null),e$g([y$e({readOnly:!0})],d$8.prototype,"mapCollections",null),e$g([y$e({readOnly:!0})],d$8.prototype,"_allLayers",null),e$g([y$e({readOnly:!0})],d$8.prototype,"_spatialReferenceTask",null),e$g([y$e({readOnly:!0})],d$8.prototype,"_tileInfoTask",null),e$g([y$e({readOnly:!0})],d$8.prototype,"_heightModelInfoTask",null),e$g([y$e({readOnly:!0})],d$8.prototype,"_extentCandidatesTask",null),e$g([y$e()],d$8.prototype,"_extentTask",null),e$g([y$e()],d$8.prototype,"_projectExtentTask",void 0),d$8=e$g([a$u("esri.views.support.DefaultsFromMap")],d$8);class f$5{constructor(){this.layers=new Array,this.preloading=-1,this.updating=!1;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var k$3;let W$2=k$3=class extends(a$A(n$u.EventedMixin(m$r(m$p)))){constructor(e){super(e),this._userSpatialReference=null,this._cursor=null,this.allLayerViews=new n$v({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:A$2}),this.groundView=null,this.basemapView=null,this.fatalError=null,this.graphics=new i$E,this.analyses=new t$e,this.typeSpecificPreconditionsReady=!0,this.layerViews=new V$9,this.magnifier=new p$g,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this.spatialReferenceWarningDelay=1e3,this.supportsGround=!0,this.timeExtent=null,this.timeReference=new c$u,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new a$k,this.navigation=new p$c,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new p$f(this),this.persistableViewModels=new V$9,this._isValid=!1,this._readyCycleForced=!1,this._currentSpatialReference=null,this.handles.add(l$l((()=>this.preconditionsReady),(e=>{e?(this._currentSpatialReference=this.spatialReference,k$3.views.add(this)):(this._currentSpatialReference=null,k$3.views.remove(this)),this.notifyChange("spatialReference"),!e&&this.ready?(this.toolViewManager?.detach(),null!=this.analysisViewManager&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown()):e&&!this.ready&&(this._startup(),null!=this.analysisViewManager&&this.analysisViewManager.attach(),this.toolViewManager.attach());}),U$8));}initialize(){this.addResolvingPromise(this.validate().then((()=>(this._isValid=!0,j$c((()=>this.ready)))))),this.basemapView=new n$e({view:this}),this.layerViewManager=new L$2({view:this,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},supportsGround:this.supportsGround}),this.toolViewManager=new w$4({view:this}),this._setupSpatialReferenceLogger(),this.handles.add([l$l((()=>this.initialExtentRequired),(e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e}),{sync:!0,initial:!0}),l$l((()=>this.ready),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference);}),{sync:!0}),l$l((()=>this._userSpatialReference),(e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e);}),{sync:!0,initial:!0})]);}_setupSpatialReferenceLogger(){let e=null;this.handles.add([l$l((()=>this.defaultsFromMap?.ready),(t=>{const i=this.map?.allLayers.length>0;if(t&&!this.spatialReference&&i){if(null!=e)return;const t=e$i((()=>e=e$j(e)));e=d$s((async t=>{try{await g$i(this.spatialReferenceWarningDelay,null,t);}catch{return}finally{e=null;}s$n.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers");})),this.handles.add(t,"spatial-reference-logger-task");}else this.handles.remove("spatial-reference-logger-task");}),{sync:!0})]);}destroy(){this.destroyed||(k$3.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=l$m(this.graphics),this.analyses=l$m(this.analyses),this.handles.remove("defaultsFromMap"),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),l$m(this.analysisViewManager),this.toolViewManager=l$m(this.toolViewManager),this.layerViewManager=l$m(this.layerViewManager),this.basemapView=l$m(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach((e=>e.destroy())),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.removeAll(),this.map=l$m(this.map));}_startup(){this._set("ready",!0);}_teardown(){this._set("ready",!1);}whenReady(){return Promise.resolve(this)}toMap(){return s$n.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e);}get animation(){return this._get("animation")}set animation(e){this._set("animation",e);}get center(){return null}get _defaultsFromMapSettings(){return {}}get defaultsFromMap(){return new d$8({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:e=>this.getSpatialReferenceSupport(e),...this._defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e);}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get interacting(){return this.navigating}get navigating(){return !1}get preconditionsReady(){return !(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||_$9.isLoadable(this.map)&&!this.map.loaded||0===this.width||0===this.height||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._currentSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(s$n.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),_$9.isLoadable(e)&&e.load().catch((()=>{})),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._currentSpatialReference=null),this._set("map",e));}get spatialReference(){let e=this._userSpatialReference||this._currentSpatialReference||this.getDefaultSpatialReference()||null;return e&&this.defaultsFromMap?.required?.heightModelInfo&&(e=e.clone(),e.vcsWkid=this.defaultsFromMap.vcsWkid,e.latestVcsWkid=this.defaultsFromMap.latestVcsWkid),e}set spatialReference(e){const t=!S$9(e,this._get("spatialReference"));this._set("_userSpatialReference",e),t&&(this._set("spatialReference",e),this._spatialReferenceChanged(e));}_spatialReferenceChanged(e){}get stationary(){return !this.animation&&!this.navigating&&!this.resizing}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){const e=this.toolViewManager?this.toolViewManager.cursor:null;return null!=e?e:this._cursor||"default"}set cursor(e){this._cursor=e,this.notifyChange("cursor");}get size(){return [this.width,this.height]}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return (this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}importLayerView(e){throw new s$m("importLayerView() not implemented")}hasLayerViewModule(e){return !1}async validate(){}invalidate(){this._isValid=!1;}getSpatialReferenceSupport(){return {constraints:null}}_validateSpatialReference(e){return null!=this.getSpatialReferenceSupport({spatialReference:e})}when(e,t){return this.isResolved()&&!this.ready&&s$n.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,t)}forceReadyCycle(){this.ready&&(f$k((()=>this.destroyed||!1===this.preconditionsReady),(()=>this._readyCycleForced=!1),{once:!0}),this._readyCycleForced=!0);}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e;}tryFatalErrorRecovery(){this.fatalError=null;}};W$2.views=new V$9,e$g([y$e()],W$2.prototype,"_userSpatialReference",void 0),e$g([y$e()],W$2.prototype,"activeTool",null),e$g([y$e({readOnly:!0})],W$2.prototype,"allLayerViews",void 0),e$g([y$e()],W$2.prototype,"groundView",void 0),e$g([y$e()],W$2.prototype,"animation",null),e$g([y$e()],W$2.prototype,"basemapView",void 0),e$g([y$e()],W$2.prototype,"center",null),e$g([y$e({readOnly:!0})],W$2.prototype,"_defaultsFromMapSettings",null),e$g([y$e()],W$2.prototype,"defaultsFromMap",null),e$g([y$e()],W$2.prototype,"fatalError",void 0),e$g([y$e({type:M$6})],W$2.prototype,"extent",null),e$g([y$e(p$y(i$E,"graphics"))],W$2.prototype,"graphics",void 0),e$g([y$e(p$y(t$e,"analyses"))],W$2.prototype,"analyses",void 0),e$g([y$e({readOnly:!0,type:v$c})],W$2.prototype,"heightModelInfo",null),e$g([y$e({readOnly:!0})],W$2.prototype,"interacting",null),e$g([y$e({readOnly:!0})],W$2.prototype,"navigating",null),e$g([y$e({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_currentSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],W$2.prototype,"preconditionsReady",null),e$g([y$e({readOnly:!0})],W$2.prototype,"typeSpecificPreconditionsReady",void 0),e$g([y$e({type:V$9,readOnly:!0})],W$2.prototype,"layerViews",void 0),e$g([y$e()],W$2.prototype,"resolution",null),e$g([y$e({type:p$g})],W$2.prototype,"magnifier",void 0),e$g([y$e({value:null,type:j$2})],W$2.prototype,"map",null),e$g([y$e()],W$2.prototype,"padding",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"ready",void 0),e$g([y$e({type:f$l})],W$2.prototype,"spatialReference",null),e$g([y$e()],W$2.prototype,"spatialReferenceWarningDelay",void 0),e$g([y$e()],W$2.prototype,"stationary",null),e$g([y$e({readOnly:!0})],W$2.prototype,"supportsGround",void 0),e$g([y$e({type:c$v})],W$2.prototype,"timeExtent",void 0),e$g([y$e({type:c$u,nonNullable:!0})],W$2.prototype,"timeReference",void 0),e$g([y$e()],W$2.prototype,"tools",null),e$g([y$e()],W$2.prototype,"toolViewManager",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"type",void 0),e$g([y$e({type:Number})],W$2.prototype,"scale",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"updating",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"initialExtentRequired",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"initialExtent",null),e$g([y$e()],W$2.prototype,"cursor",null),e$g([y$e({readOnly:!0})],W$2.prototype,"input",void 0),e$g([y$e({type:p$c,nonNullable:!0})],W$2.prototype,"navigation",void 0),e$g([y$e()],W$2.prototype,"layerViewManager",void 0),e$g([y$e()],W$2.prototype,"analysisViewManager",void 0),e$g([y$e()],W$2.prototype,"width",void 0),e$g([y$e()],W$2.prototype,"height",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"resizing",void 0),e$g([y$e({value:null,readOnly:!0})],W$2.prototype,"size",null),e$g([y$e({readOnly:!0})],W$2.prototype,"suspended",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"viewEvents",void 0),e$g([y$e({readOnly:!0})],W$2.prototype,"persistableViewModels",void 0),e$g([y$e()],W$2.prototype,"_isValid",void 0),e$g([y$e()],W$2.prototype,"_readyCycleForced",void 0),e$g([y$e()],W$2.prototype,"_currentSpatialReference",void 0),W$2=k$3=e$g([a$u("esri.views.View")],W$2);const z$3=W$2;function A$2(e){return e.layerViews}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$a=class extends p$z{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null;}initialize(){this._resolver=C$b(),this.addResolvingPromise(this._resolver.promise);}get done(){return "finished"===this.state||"stopped"===this.state}stop(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","stopped"),this._resolver?.reject(new s$m("ViewAnimation stopped")));}finish(){"stopped"!==this.state&&"finished"!==this.state&&(this._set("state","finished"),this._resolver?.resolve());}update(t,s){s||(s=T$8(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",s);}};e$g([y$e({readOnly:!0})],n$a.prototype,"done",null),e$g([y$e({readOnly:!0,type:String})],n$a.prototype,"state",void 0),e$g([y$e()],n$a.prototype,"target",void 0),n$a=e$g([a$u("esri.views.ViewAnimation")],n$a),function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"};}(n$a||(n$a={}));const a$g=n$a;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$8(){return [1,0,0,1,0,0]}function r$a(e){return [e[0],e[1],e[2],e[3],e[4],e[5]]}function t$b(e,r,t,n,o,a){return [e,r,t,n,o,a]}function n$9(e,r){return new Float64Array(e,r,6)}const o$9=Object.freeze(Object.defineProperty({__proto__:null,clone:r$a,create:e$8,createView:n$9,fromValues:t$b},Symbol.toStringTag,{value:"Module"}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const C$3=96,E$1=39.37,O$2=180/Math.PI;function Q$1(t){return t.wkid?t:t.spatialReference||f$l.WGS84}function U$2(t,e){return e.type?r$l(t,e.x,e.y):a$B(t,e)}function B$1(t){return H$4(t)}function D$2(t,e){const n=Math.max(1,e[0]),r=Math.max(1,e[1]);return Math.max(t.width/n,t.height/r)*ot$1(t.spatialReference)}async function T$1(t,n,r,o){let a,i;if(!t)return null;if(Array.isArray(t)&&!t.length)return null;if(V$9.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&"object"==typeof t[0]){const e=t.every((t=>"attributes"in t)),a=t.some((t=>!t.geometry));let i=t;if(e&&a&&n&&n.allLayerViews){const e=new Map;for(const n of t){const t=n.layer,r=e.get(t)||[],o=n.attributes[t.objectIdField];null!=o&&r.push(o),e.set(t,r);}const r=[];e.forEach(((t,e)=>{const o=n.allLayerViews.find((t=>t.layer.id===e.id));if(o&&"queryFeatures"in o){const n=e.createQuery();n.objectIds=t,n.returnGeometry=!0,r.push(o.queryFeatures(n));}}));const o=await Promise.all(r),a=[];for(const t of o)if(t&&t.features&&t.features.length)for(const e of t.features)null!=e.geometry&&a.push(e.geometry);i=a;}for(const t of i)o=await T$1(t,n,r,o);return o}if(Array.isArray(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1])a=new x$7(t);else if(t instanceof p$A)a=t;else if("geometry"in t)if(t.geometry)a=t.geometry;else if(t.layer){const e=t.layer,r=n.allLayerViews.find((t=>t.layer.id===e.id));if(r&&"queryFeatures"in r){const n=e.createQuery();n.objectIds=[t.attributes[e.objectIdField]],n.returnGeometry=!0;const o=await r.queryFeatures(n);a=o?.features?.[0]?.geometry;}}if(null==a)return null;if(i="point"===a.type?new M$6({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference}):a.extent,!i)return null;Y$3()||Cn$1(i.spatialReference,r)||await $$a();const c=nn$1(i,r);return c?o=o?o.union(c):c:null}function W$1(t){if(t&&(!Array.isArray(t)||"number"!=typeof t[0])&&("object"==typeof t||Array.isArray(t)&&"object"==typeof t[0])){if("layer"in t&&t.layer&&t.layer.minScale&&t.layer.maxScale){const e=t.layer;return {min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every((t=>"layer"in t))){let e=0,n=0;for(const r of t){const t=r.layer;t&&t.minScale&&t.maxScale&&(e=t.minScale<e?t.minScale:e,n=t.maxScale>n?t.maxScale:n);}return e&&n?{min:e,max:n}:null}}}function H$1(t,e){return S$9(Q$1(t),e)?t:nn$1(t,e)}async function J$1(e,n){if(!e||!n)return new l$b({targetGeometry:new x$7,scale:0,rotation:0});let r=n.spatialReference;const{constraints:o,padding:a,viewpoint:i,size:c}=n,s=[a?c[0]-a.left-a.right:c[0],a?c[1]-a.top-a.bottom:c[1]];let u=null;e instanceof l$b?u=e:e.viewpoint?u=e.viewpoint:e.target&&"esri.Viewpoint"===e.target.declaredClass&&(u=e.target);let f=null;u&&u.targetGeometry?f=u.targetGeometry:e instanceof M$6?f=e:(e||e&&("center"in e||"extent"in e||"target"in e))&&(f=await T$1(e.center,n,r)||await T$1(e.extent,n,r)||await T$1(e.target,n,r)||await T$1(e,n,r)),!f&&i&&i.targetGeometry?f=i.targetGeometry:!f&&n.extent&&(f=n.extent),r||(r=Q$1(n.spatialReference||n.extent||f)),Y$3()||S$9(f.spatialReference,r)||Cn$1(f,r)||await $$a();const l=H$1(f.center??f,r);let m=0;if(u&&null!=u.targetGeometry&&"point"===u.targetGeometry.type)m=u.scale;else if("scale"in e&&e.scale)m=e.scale;else if("zoom"in e&&-1!==e.zoom&&o&&o.effectiveLODs)m=o.zoomToScale(e.zoom);else if(Array.isArray(f)||"point"===f.type||"extent"===f.type&&0===f.width&&0===f.height){const t=H$1(n.extent,r);m=null!=t?D$2(t,s):n.extent?D$2(n.extent,s):i.scale;}else m=D$2(H$1(f.extent,r),s);const y=W$1(e);y&&(y.min&&y.min>m?m=y.min:y.max&&y.max<m&&(m=y.max));let p=0;u?p=u.rotation:e.hasOwnProperty("rotation")?p=e.rotation:i&&(p=i.rotation);let g=new l$b({targetGeometry:l,scale:m,rotation:p});return o&&(g=o.fit(g),o.constrainByGeometry(g),o.rotationEnabled||(g.rotation=p)),g}function K$1(t,e){const n=t.targetGeometry,r=e.targetGeometry;return n.x=r.x,n.y=r.y,n.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function X$2(t,e,n){return n?r$l(t,.5*(e[0]-n.right+n.left),.5*(e[1]-n.bottom+n.top)):l$p(t,e,.5)}const Y$1=function(){const t=n$B();return function(e,n,r){const o=n.targetGeometry;U$2(t,o);const a=.5*et$1(n);return e.xmin=t[0]-a*r[0],e.ymin=t[1]-a*r[1],e.xmax=t[0]+a*r[0],e.ymax=t[1]+a*r[1],e.spatialReference=o.spatialReference,e}}();function Z$2(t,e,n,r,o){return yt$1(t,e,n.center),t.scale=D$2(n,r),o?.constraints?.constrain(t),t}function $$1(t,e,n,r){return ct$1(t,e,n,r),r$m(t,t)}const _$4=function(){const t=n$B();return function(e,n,r){return C$c(e,at$1(e,n),X$2(t,n,r))}}(),tt$1=function(){const t=e$8(),e=n$B();return function(n,r,c,s){const u=et$1(r),f=rt$1(r);return r$l(e,u,u),M$7(t,e),e$f(t,t,f),i$u(t,t,_$4(e,c,s)),i$u(t,t,[0,s.top-s.bottom]),r$l(n,t[4],t[5])}}();function et$1(t){return t.scale*nt$1(t.targetGeometry)}function nt$1(t){return null!=t&&s$u(t.spatialReference)?1/(B$1(t.spatialReference)*E$1*C$3):1}function rt$1(t){return r$n(t.rotation)||0}function ot$1(t){return s$u(t)?B$1(t)*E$1*C$3:1}function at$1(t,e){return l$p(t,e,.5)}const it$1=function(){const t=n$B(),e=n$B(),n=n$B();return function(r,o,u,f,l,p){return g$j(t,o),l$p(e,u,.5*p),r$l(n,1/f*p,-1/f*p),f$m(r,e),l&&e$f(r,r,l),c$o(r,r,n),i$u(r,r,t),r}}(),ct$1=function(){const t=n$B();return function(e,n,r,o){const a=et$1(n),i=rt$1(n);return U$2(t,n.targetGeometry),it$1(e,t,r,a,i,o)}}(),st$1=function(){const t=n$B();return function(e,n,r,o){const a=et$1(n);return U$2(t,n.targetGeometry),it$1(e,t,r,a,0,o)}}();function ut$1(t){const e=d$u(t);return e?e.valid[1]-e.valid[0]:0}function ft$1(t,e){return Math.round(ut$1(t)/e)}const lt$1=function(){const t=n$B(),e=n$B(),n=[0,0,0];return function(r,o,a){o$v(t,r,o),v$d(t,t),o$v(e,r,a),v$d(e,e),y$h(n,t,e);let i=Math.acos(j$e(t,e)/(q$6(t)*q$6(e)))*O$2;return n[2]<0&&(i=-i),isNaN(i)&&(i=0),i}}(),mt$1=function(){const t=n$B();return function(e,n,r,o){const a=e.targetGeometry;return K$1(e,n),tt$1(t,n,r,o),a.x+=t[0],a.y+=t[1],e}}(),yt$1=function(t,e,n){K$1(t,e);const r=t.targetGeometry;return r.x=n.x,r.y=n.y,r.spatialReference=n.spatialReference,t},pt$1=function(){const t=n$B();return function(e,n,r,o,a){a||(a="center"),C$c(t,r,o),l$p(t,t,.5);const i=t[0],c=t[1];switch(a){case"center":r$l(t,0,0);break;case"left":r$l(t,-i,0);break;case"top":r$l(t,0,c);break;case"right":r$l(t,i,0);break;case"bottom":r$l(t,0,-c);break;case"top-left":r$l(t,-i,c);break;case"bottom-left":r$l(t,-i,-c);break;case"top-right":r$l(t,i,c);break;case"bottom-right":r$l(t,i,-c);}return Rt$1(e,n,t),e}}();function gt$1(t,e,n){return K$1(t,e),t.rotation+=n,t}function xt$1(t,e,n){return K$1(t,e),t.rotation=n,t}const ht$1=function(){const t=n$B();return function(e,n,r,o,a){return K$1(e,n),isNaN(r)||0===r||(jt$1(t,o,n,a),e.scale=n.scale*r,Gt$1(t,t,e,a),Rt$1(e,e,r$l(t,t[0]-o[0],o[1]-t[1]))),e}}();function bt$1(t,e,n){return K$1(t,e),t.scale=n,t}const wt$1=function(){const t=n$B();return function(e,n,r,o,a,i){return K$1(e,n),isNaN(r)||0===r||(jt$1(t,a,n,i),e.scale=n.scale*r,e.rotation+=o,Gt$1(t,t,e,i),Rt$1(e,e,r$l(t,t[0]-a[0],a[1]-t[1]))),e}}(),dt$1=function(){const t=n$B(),e=n$B();return function(n,r,o,a,i,c,s){return _$4(e,c,s),s$v(t,i,e),a?wt$1(n,r,o,a,t,c):ht$1(n,r,o,t,c)}}(),jt$1=function(){const t=e$8();return function(e,n,r,o){return z$8(e,n,$$1(t,r,o,1))}}(),Gt$1=function(){const t=e$8();return function(e,n,r,o){return z$8(e,n,ct$1(t,r,o,1))}}(),Rt$1=function(){const t=n$B(),e=e$8();return function(n,r,o){K$1(n,r);const a=et$1(r),i=n.targetGeometry;return h$k(e,rt$1(r)),c$o(e,e,r$o(a,a)),z$8(t,o,e),i.x+=t[0],i.y+=t[1],n}}();

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class u$5{constructor(t,i,s,e){const o=t.targetGeometry,n=i.targetGeometry;e?"string"==typeof e&&(e=r$p(e)||t$t.ease):e=t$t.ease,this.easing=e,this.duration=s,this.sCenterX=o.x,this.sCenterY=o.y,this.sScale=t.scale,this.sRotation=t.rotation,this.tCenterX=n.x,this.tCenterY=n.y,this.tScale=i.scale,this.tRotation=i.rotation,this.dCenterX=this.tCenterX-this.sCenterX,this.dCenterY=this.tCenterY-this.sCenterY,this.dScale=this.tScale-this.sScale,this.dRotation=this.tRotation-this.sRotation,this.dRotation>180?this.dRotation-=360:this.dRotation<-180&&(this.dRotation+=360);}applyRatio(t,i){const s=this.easing(i);let e,o,n,a;i>=1?(e=this.tCenterX,o=this.tCenterY,n=this.tRotation,a=this.tScale):(e=this.sCenterX+s*this.dCenterX,o=this.sCenterY+s*this.dCenterY,n=this.sRotation+s*this.dRotation,a=this.sScale+s*this.dScale),t.targetGeometry.x=e,t.targetGeometry.y=o,t.scale=a,t.rotation=n;}}let d$7=class extends m$p{constructor(t){super(t),this.updateFunction=null,this.animation=null,this.duration=200,this.transition=null,this.easing=t$t.ease,this.view=null,this.viewpoint=new l$b({targetGeometry:new x$7,scale:0,rotation:0}),this._updateTask=A$a({postRender:this._postRender.bind(this)}),this._updateTask.pause();}destroy(){this._updateTask=o$t(this._updateTask);}animate(t,i,s){this.stop();const e=this.viewpoint;K$1(e,i),this.transition=new u$5(this.viewpoint,t.target,s&&s.duration||this.duration,s&&s.easing||this.easing);const o=()=>{this.animation===t&&this._updateTask&&("finished"===t.state&&(this.transition?.applyRatio(this.viewpoint,1),this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null);};return t.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;const s=new a$g({target:t.clone()}),e=()=>{this.animation===s&&this._updateTask&&(this.animation=null,this.updateFunction=null);};return s.when(e,e),this._startTime=performance.now(),this._updateTask.resume(),this.animation=s,s}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null);}_postRender(t){const i=this.animation;if(i&&i.state!==a$g.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime);else {const t=this.transition,i=(performance.now()-this._startTime)/t.duration,s=i>=1;t.applyRatio(this.viewpoint,i),s&&this.animation?.finish();}this.view?.state&&(this.view.state.viewpoint=this.viewpoint.clone());}else this._updateTask.pause();}};e$g([y$e()],d$7.prototype,"animation",void 0),e$g([y$e()],d$7.prototype,"duration",void 0),e$g([y$e()],d$7.prototype,"transition",void 0),e$g([y$e()],d$7.prototype,"easing",void 0),e$g([y$e()],d$7.prototype,"view",void 0),e$g([y$e()],d$7.prototype,"viewpoint",void 0),d$7=e$g([a$u("esri.views.2d.AnimationManager")],d$7);const l$8=d$7;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a$f{constructor(t){this.view=t,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this.stationary=!0,this.animationInProgress=!1,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions);},this.update=()=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:t,graphicsView:e,labelManager:a,state:{id:s}}=this.view;t.forEach(this._updateLayerView,this),null!=a&&(a.lastUpdateId!==s&&(a.viewChange(),a.lastUpdateId=s),a.updateRequested&&a.processUpdate(this._updateParameters)),null!=e&&(e.lastUpdateId!==s&&(e.viewChange(),e.lastUpdateId=s),e.updateRequested&&e.processUpdate(this._updateParameters)),this.view.graphicsTileStore.setViewState(this._updateParameters.state),this.animationInProgress||this._updateRequested||this._frameTaskHandle?.pause();};}destroy(){this.stop();}start(){if(this._frameTaskHandle)return;const a=this.view;this.stationary=a.stationary,this._updateParameters={state:a.state,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:a.renderingOptions},this._stationaryHandle=l$l((()=>a.stationary),(t=>{this.stationary=t,this.requestFrame();})),this._frameTaskHandle=A$a(this),this.requestUpdate();}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0,this.animationInProgress=!1);}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame());}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume();}_updateLayerView(t){if(!t.attached)return void this.requestUpdate();const e=this.view.state,a=t.lastUpdateId;null!=a&&(this.stationary||t.moving)||(t.moving=!0,t.moveStart()),a!==e.id&&t.viewChange(),this.stationary&&t.moving&&(t.moving=!1,t.moveEnd()),t.lastUpdateId=e.id,t.updateRequested&&t.processUpdate(this._updateParameters),"layerViews"in t&&t.layerViews?.forEach(this._updateLayerView,this);}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function r$9(){return Promise.all([import('./webglDeps-0871d7e4.js'),import('./mapViewDeps-664d4a1d.js')])}const a$e=()=>r$9().then((()=>import('./TileLayerView2D-788a3274.js'))),t$a=()=>r$9().then((()=>import('./FeatureLayerView2D-75d856d9.js'))),s$7={"base-dynamic":()=>r$9().then((()=>import('./BaseDynamicLayerView2D-32e34ac3.js'))),"base-tile":a$e,"bing-maps":a$e,csv:t$a,"geo-rss":()=>r$9().then((()=>import('./GeoRSSLayerView2D-27e7d84a.js'))),feature:t$a,geojson:t$a,graphics:()=>r$9().then((()=>import('./GraphicsLayerView2D-e544c091.js'))),group:()=>r$9().then((()=>import('./GroupLayerView2D-f7814c64.js'))),imagery:()=>r$9().then((()=>import('./ImageryLayerView2D-ea8c08ce.js'))),"imagery-tile":()=>r$9().then((()=>import('./ImageryTileLayerView2D-217108c2.js'))),kml:()=>r$9().then((()=>import('./KMLLayerView2D-b3277c5c.js'))),"knowledge-graph":()=>r$9().then((()=>import('./KnowledgeGraphLayerView2D-9f382da7.js'))),"link-chart":()=>r$9().then((()=>import('./KnowledgeGraphLayerView2D-9f382da7.js'))),"knowledge-graph-sublayer":t$a,"map-image":()=>r$9().then((()=>import('./MapImageLayerView2D-46761302.js'))),"map-notes":()=>r$9().then((()=>import('./MapNotesLayerView2D-91526819.js'))),media:()=>r$9().then((()=>import('./MediaLayerView2D-d8d2aeca.js'))),"ogc-feature":()=>r$9().then((()=>import('./OGCFeatureLayerView2D-aac91949.js'))),"open-street-map":a$e,"oriented-imagery":t$a,route:()=>r$9().then((()=>import('./RouteLayerView2D-69c930fb.js'))),stream:()=>r$9().then((()=>import('./StreamLayerView2D-0141858b.js'))),"subtype-group":()=>r$9().then((()=>import('./SubtypeGroupLayerView2D-895c9a9c.js'))),tile:a$e,"vector-tile":()=>r$9().then((()=>import('./VectorTileLayerView2D-62f827f7.js'))),video:()=>r$9().then((()=>import('./VideoLayerView2D-51e61202.js'))),wcs:()=>r$9().then((()=>import('./ImageryTileLayerView2D-217108c2.js'))),"web-tile":a$e,wfs:t$a,wms:()=>r$9().then((()=>import('./WMSLayerView2D-4d8c1bb1.js'))),wmts:()=>r$9().then((()=>import('./WMTSLayerView2D-4d2551d4.js'))),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"point-cloud":null,voxel:null,scene:null,unknown:null,unsupported:null};function i$a(r){const a=r.declaredClass?r.declaredClass.slice(r.declaredClass.lastIndexOf(".")+1):"Unknown",t=a.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new s$m(`${t}:view-not-supported`,`${a} is not supported in 2D`)}const l$7={hasLayerViewModule:e=>null!=s$7[e.type],importLayerView:e=>{const r=s$7[e.type];if(null==r)throw i$a(e);return r(e)}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function o$8(o,m){const{spatialReference:r}=m,i=[m.x,m.y];let s=Number.POSITIVE_INFINITY,x=0,c=0;const a=[0,0],f="extent"===o.type?[[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]]]:o.rings;for(const n of f)for(let o=0;o<n.length-1;o++){o$w(a,i,n,o);const m=m$s(i,a);m<s&&(s=m,x=a[0],c=a[1]);}return {coordinate:new x$7({x,y:c,spatialReference:r}),distance:s}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var p$9;let l$6=p$9=class extends(i$F(m$p)){constructor(e){super(e),this.geometry=null,this.spatialReference=null;}get normalizedGeometry(){if(null==this.geometry||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return nn$1(this.geometry,this.spatialReference)}catch(e){return s$n.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:e}),null}return this.geometry}constrain(e,r){if(null==this.normalizedGeometry)return e;const t=e.targetGeometry;if("extent"===this.normalizedGeometry.type?t$u(this.normalizedGeometry,t):f$n(this.normalizedGeometry,t))return e;const{coordinate:o}=o$8(this.normalizedGeometry,t);return o?(e.targetGeometry=o,e):e}clone(){return new p$9({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};e$g([y$e({constructOnly:!0})],l$6.prototype,"geometry",void 0),e$g([y$e({readOnly:!0})],l$6.prototype,"normalizedGeometry",null),e$g([y$e({constructOnly:!0})],l$6.prototype,"spatialReference",void 0),l$6=p$9=e$g([a$u("esri.views.2d.constraints.GeometryConstraint")],l$6);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var a$d;let n$8=a$d=class extends(i$F(m$p)){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0;}constrain(o,r){return this.enabled&&r?(this.rotationEnabled||(o.rotation=r.rotation),o):o}clone(){return new a$d({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};e$g([y$e()],n$8.prototype,"enabled",void 0),e$g([y$e()],n$8.prototype,"rotationEnabled",void 0),n$8=a$d=e$g([a$u("esri.views.2d.constraints.RotationConstraint")],n$8);const i$9=n$8;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var a$c;let c$b=a$c=class extends(i$F(m$p)){constructor(e){super(e),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0;}initialize(){let e,{lods:t,minScale:o,maxScale:s,minZoom:i,maxZoom:a}=this,c=-1,r=-1,l=!1,n=!1;if(0!==o&&0!==s&&o<s&&([o,s]=[s,o]),!t||!t.length)return this._set("effectiveMinScale",o),void this._set("effectiveMaxScale",s);t=t.map((e=>e.clone())),t.sort(((e,t)=>t.scale-e.scale)),t.forEach(((e,t)=>e.level=t));for(const f of t)!l&&o>0&&o>=f.scale&&(c=f.level,l=!0),!n&&s>0&&s>=f.scale&&(r=e?e.level:-1,n=!0),e=f;-1===i&&(i=0===o?0:c),-1===a&&(a=0===s?t.length-1:r),i=Math.max(i,0),i=Math.min(i,t.length-1),a=Math.max(a,0),a=Math.min(a,t.length-1),i>a&&([i,a]=[a,i]),o=t[i].scale,s=t[a].scale,t.splice(0,i),t.splice(a-i+1,t.length),t.forEach(((e,t)=>{this._lodByScale[e.scale]=e,this._scales[t]=e.scale;})),this._set("effectiveLODs",t),this._set("effectiveMinZoom",i),this._set("effectiveMaxZoom",a),this._set("effectiveMinScale",o),this._set("effectiveMaxScale",s);}constrain(e,t){if(t&&e.scale===t.scale)return e;const o=this.effectiveMinScale,s=this.effectiveMaxScale,i=e.targetGeometry,a=t&&t.targetGeometry,c=0!==s&&e.scale<s,r=0!==o&&e.scale>o;if(c||r){const c=r?o:s;if(t&&a){const o=(c-t.scale)/(e.scale-t.scale);i.x=a.x+(i.x-a.x)*o,i.y=a.y+(i.y-a.y)*o;}e.scale=c;}return this.snapToZoom&&this.effectiveLODs&&(e.scale=this._getClosestScale(e.scale)),e}fit(e){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(e,null);const t=this.scaleToZoom(e.scale),o=Math.abs(t-Math.floor(t));return e.scale=this.zoomToScale(o>.99?Math.round(t):Math.floor(t)),e}zoomToScale(e){if(!this.effectiveLODs)return 0;e-=this.effectiveMinZoom,e=Math.max(0,e);const t=this._scales;if(e<=0)return t[0];if(e>=t.length)return t[t.length-1];const o=Math.round(e-.5),s=Math.round(e);return t[s]+(s-e)*(t[o]-t[s])}scaleToZoom(e){if(!this.effectiveLODs)return -1;const t=this._scales;let o,s;if(e>=t[0])return this.effectiveMinZoom;if(e<=t[t.length-1])return this.effectiveMaxZoom;for(let i=0;i<t.length-1;i++){if(o=t[i],s=t[i+1],s===e){return i+this.effectiveMinZoom+1}if(o>e&&s<e){return i+this.effectiveMinZoom+1-(e-s)/(o-s)}}return -1}snapToClosestScale(e){if(!this.effectiveLODs)return e;const t=this.scaleToZoom(e);return this.zoomToScale(Math.round(t))}snapToNextScale(e,t=.5){if(!this.effectiveLODs)return e*t;const o=Math.round(this.scaleToZoom(e));return this.zoomToScale(o+1)}snapToPreviousScale(e,t=2){if(!this.effectiveLODs)return e*t;const o=Math.round(this.scaleToZoom(e));return this.zoomToScale(o-1)}clone(){return new a$c({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(e){return this._lodByScale[e]||(e=this._scales.reduce(((t,o)=>Math.abs(o-e)<=Math.abs(t-e)?o:t),this._scales[0])),this._lodByScale[e].scale}};e$g([y$e({readOnly:!0})],c$b.prototype,"effectiveLODs",void 0),e$g([y$e({readOnly:!0})],c$b.prototype,"effectiveMinZoom",void 0),e$g([y$e({readOnly:!0})],c$b.prototype,"effectiveMaxZoom",void 0),e$g([y$e({readOnly:!0})],c$b.prototype,"effectiveMinScale",void 0),e$g([y$e({readOnly:!0})],c$b.prototype,"effectiveMaxScale",void 0),e$g([y$e()],c$b.prototype,"lods",void 0),e$g([y$e()],c$b.prototype,"minZoom",void 0),e$g([y$e()],c$b.prototype,"maxZoom",void 0),e$g([y$e()],c$b.prototype,"minScale",void 0),e$g([y$e()],c$b.prototype,"maxScale",void 0),e$g([y$e()],c$b.prototype,"snapToZoom",void 0),c$b=a$c=e$g([a$u("esri.views.2d.constraints.ZoomConstraint")],c$b);const r$8=c$b;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const p$8={base:null,key:"type",typeMap:{extent:M$6,polygon:j$f}};let y$4=class extends m$p{constructor(o){super(o),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new V$9;}destroy(){this.view=null;}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(o){o?this._set("geometry",o):this._set("geometry",null);}get version(){return `${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const o=this._get("_geometry");return o&&this.geometry===o.geometry&&this.view?.constraintsInfo.spatialReference===o.spatialReference?o:new l$6({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new i$9({rotationEnabled:this.rotationEnabled})}get _zoom(){const o=this._get("_zoom"),t=this.lods||this.view?.constraintsInfo.lods,e=this.minZoom,r=this.maxZoom,s=this.minScale,i=this.maxScale,n=this.snapToZoom;return o&&o.lods===t&&o.minZoom===e&&o.maxZoom===r&&o.minScale===s&&o.maxScale===i&&o.snapToZoom===n?o:new r$8({lods:t,minZoom:e,maxZoom:r,minScale:s,maxScale:i,snapToZoom:n})}canZoomInTo(o){const t=this.effectiveMaxScale;return 0===t||o>=t}canZoomOutTo(o){const t=this.effectiveMinScale;return 0===t||o<=t}constrain(o,t){return this._zoom.constrain(o,t),this._rotation.constrain(o,t),this._geometry.constrain(o,t),this.customConstraints.forEach((e=>e.constrain(o,t))),o}constrainByGeometry(o){return this._geometry.constrain(o)}fit(o){return this._zoom.fit(o)}zoomToScale(o){return this._zoom.zoomToScale(o)}scaleToZoom(o){return this._zoom.scaleToZoom(o)}snapScale(o){return this._zoom.snapToClosestScale(o)}snapToNextScale(o){return this._zoom.snapToNextScale(o)}snapToPreviousScale(o){return this._zoom.snapToPreviousScale(o)}};e$g([y$e({readOnly:!0})],y$4.prototype,"effectiveLODs",null),e$g([y$e({readOnly:!0})],y$4.prototype,"effectiveMinScale",null),e$g([y$e({readOnly:!0})],y$4.prototype,"effectiveMaxScale",null),e$g([y$e({readOnly:!0})],y$4.prototype,"effectiveMinZoom",null),e$g([y$e({readOnly:!0})],y$4.prototype,"effectiveMaxZoom",null),e$g([y$e({types:p$8,value:null})],y$4.prototype,"geometry",null),e$g([y$e({type:[p$B]})],y$4.prototype,"lods",void 0),e$g([y$e()],y$4.prototype,"minScale",void 0),e$g([y$e()],y$4.prototype,"maxScale",void 0),e$g([y$e()],y$4.prototype,"minZoom",void 0),e$g([y$e()],y$4.prototype,"maxZoom",void 0),e$g([y$e()],y$4.prototype,"rotationEnabled",void 0),e$g([y$e()],y$4.prototype,"snapToZoom",void 0),e$g([y$e({type:V$9})],y$4.prototype,"customConstraints",void 0),e$g([y$e()],y$4.prototype,"view",void 0),e$g([y$e({readOnly:!0})],y$4.prototype,"version",null),e$g([y$e({type:l$6,readOnly:!0})],y$4.prototype,"_geometry",null),e$g([y$e({type:i$9})],y$4.prototype,"_rotation",null),e$g([y$e({readOnly:!0,type:r$8})],y$4.prototype,"_zoom",null),y$4=e$g([a$u("esri.views.2d.MapViewConstraints")],y$4);const f$4=y$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$7(n){return n instanceof Float32Array&&n.length>=2}function r$7(n){return Array.isArray(n)&&n.length>=2}function t$9(t){return n$7(t)||r$7(t)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var b$4;const G$1=[0,0];let O$1=b$4=class extends l$j{constructor(t){super(t),this._viewpoint2D={center:n$B(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new M$6,this.id=0,this.inverseTransform=e$8(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=e$8(),this.transformNoRotation=e$8(),this.displayMat3=e$k(),this.displayViewMat3=e$k(),this.viewMat3=e$k(),this.viewMat2d=n$p(),this.worldScreenWidth=0,this.size=[0,0];}set pixelRatio(t){this._set("pixelRatio",t),this._update();}set size(t){this._set("size",t),this._update();}set viewpoint(t){if(t){const s=this._viewpoint2D,i=t.targetGeometry;s.center[0]=i.x,s.center[1]=i.y,s.rotation=t.rotation,s.scale=t.scale,s.spatialReference=i.spatialReference;}this._update();}copy(t){const s=this.size,i=this.viewpoint;return i&&s?(this.viewpoint=K$1(i,t.viewpoint),this._set("size",a$B(s,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new b$4({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,s,i){return t$9(s)?z$8(t,s,this.inverseTransform):(G$1[0]=s,G$1[1]=i,z$8(t,G$1,this.inverseTransform))}toScreen(t,s,i){return t$9(s)?z$8(t,s,this.transform):(G$1[0]=s,G$1[1]=i,z$8(t,G$1,this.transform))}toScreenNoRotation(t,s,i){return t$9(s)?z$8(t,s,this.transformNoRotation):(G$1[0]=s,G$1[1]=i,z$8(t,G$1,this.transformNoRotation))}getScreenTransform(t,s){const{center:i}=this._viewpoint2D,e=this._get("pixelRatio")||1,o=this._get("size");return it$1(t,i,o,s,0,e),t}_update(){const{center:t,spatialReference:i,scale:e,rotation:o}=this._viewpoint2D,c=this._get("pixelRatio")||1,m=this._get("size"),d=new l$b({targetGeometry:new x$7(t[0],t[1],i),scale:e,rotation:o});if(this._set("viewpoint",d),!m||!i||!e)return;this.resolution=et$1(d),this.rotation=o,this.scale=e,this.spatialReference=i,a$B(this.center,t);const y=0!==m[0]?2/m[0]:0,_=0!==m[1]?-2/m[1]:0;s$w(this.displayMat3,y,0,0,0,_,0,-1,1,1);const x=r$q(this.viewMat3),z=t$v(m[0]/2,m[1]/2),g=t$v(-m[0]/2,-m[1]/2),D=r$n(o);M$8(x,x,z),h$l(x,x,D),M$8(x,x,g),i$G(this.displayViewMat3,this.displayMat3,x);const b=f$m(this.viewMat2d,z);return e$f(b,b,D),i$u(b,b,g),Y$1(this.extent,d,m),ct$1(this.transform,d,m,c),r$m(this.inverseTransform,this.transform),st$1(this.transformNoRotation,d,m,c),this.worldScreenWidth=ft$1(this.spatialReference,this.resolution),this._set("id",this.id+1),this}};e$g([y$e({readOnly:!0})],O$1.prototype,"id",void 0),e$g([y$e({value:1,json:{write:!0}})],O$1.prototype,"pixelRatio",null),e$g([y$e({json:{write:!0}})],O$1.prototype,"size",null),e$g([y$e()],O$1.prototype,"spatialReference",void 0),e$g([y$e({type:l$b,json:{write:!0}})],O$1.prototype,"viewpoint",null),O$1=b$4=e$g([a$u("esri.views.2d.ViewState")],O$1);const U$1=O$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var l$5,m$8;let w$3=l$5=class extends m$p{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0;}clone(){return new l$5({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};e$g([y$e()],w$3.prototype,"left",void 0),e$g([y$e()],w$3.prototype,"top",void 0),e$g([y$e()],w$3.prototype,"right",void 0),e$g([y$e()],w$3.prototype,"bottom",void 0),w$3=l$5=e$g([a$u("esri.views.2d.PaddedViewState.Padding")],w$3);let u$4=m$8=class extends U$1{constructor(...t){super(...t),this.paddedViewState=new U$1,this._updateContent=(()=>{const t=n$B();return ()=>{const e=this._get("size"),i=this._get("padding");if(!e||!i)return;const o=this.paddedViewState;r$l(t,i.left+i.right,i.top+i.bottom),o$v(t,e,t),a$B(o.size,t);const s=o.viewpoint;s&&(this.viewpoint=s);}})(),this.addHandles(l$l((()=>[this.size,this.padding]),(()=>this._updateContent()),U$8)),this.padding=new w$3,this.size=[0,0];}set padding(t){this._set("padding",t||new w$3);}set viewpoint(t){if(t){const e=t.clone();this.paddedViewState.viewpoint=t,mt$1(e,t,this._get("size"),this._get("padding"));const i=this._viewpoint2D,o=e.targetGeometry;i.center[0]=o.x,i.center[1]=o.y,i.rotation=e.rotation,i.scale=e.scale,i.spatialReference=o.spatialReference,this._update();}}clone(){return new m$8({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};e$g([y$e()],u$4.prototype,"paddedViewState",void 0),e$g([y$e({type:w$3})],u$4.prototype,"padding",null),e$g([y$e()],u$4.prototype,"viewpoint",null),u$4=m$8=e$g([a$u("esri.views.2d.PaddedViewState")],u$4);const f$3=u$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let z$2=class extends m$p{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([l$l((()=>this.constraints?.version),(t=>{this.constraints&&t&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint));}),U$8)]);}get center(){if(!this.ready)return this._get("center");const{center:t,spatialReference:e}=this.state.paddedViewState;return this.state.commitProperty("id"),new x$7({x:t[0],y:t[1],spatialReference:e})}set center(t){if(null==t)return;if(!this.ready)return void this._set("center",t);let e;try{e=this._project(t,this.state.spatialReference);}catch(o){return void s$n.getLogger(this).error(new s$m("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:o}))}const i=this.viewpoint;yt$1(i,i,e),this.viewpoint=i;}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(null==t)return;if(!t.width||!t.height)return void s$n.getLogger(this).error(new s$m("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let e;try{e=this._project(t,this.state.spatialReference);}catch(o){return void s$n.getLogger(this).error(new s$m("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:o}))}const i=this.viewpoint;Z$2(i,i,e,this.state.size,{constraints:this.constraints}),this.viewpoint=i;}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t);}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);const e=this.viewpoint;xt$1(e,e,t),this.viewpoint=e;}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);const e=this._get("extent");return void(e&&(this._set("extent",void 0),this._set("center",e.center)))}const e=this.viewpoint;bt$1(e,e,t),this.viewpoint=e;}get viewpoint(){if(!this.ready)return this._get("viewpoint");return this.state.paddedViewState.viewpoint.clone()}set viewpoint(t){if(null==t)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,o;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?o=new s$m("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):null==t.targetGeometry&&(o=new s$m("mapview:invalid-viewpoint","geometry not defined"));}catch(a){o=new s$m("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:a});}if(o)return void s$n.getLogger(this).error(o);this._scaleBeforeChangingSpatialReference=null;const n=new l$b({targetGeometry:new x$7,scale:0,rotation:0});K$1(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n);}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);const e=this._get("extent");return void(e&&(this._set("extent",void 0),this._set("center",e.center)))}const e=this.constraints?.zoomToScale(t)??0;if(!e)return void this._set("zoom",-1);const i=this.viewpoint;bt$1(i,i,e),this.viewpoint=i,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1);}getUserStartupOptions(t){if(!t[0]&&!t[1])return {center:void 0,rotation:void 0,scale:void 0};const{padding:e,constraints:i}=this,s=this._get("center"),r=this._get("extent"),o=this._get("scale"),n=this._get("rotation"),a=this._get("viewpoint"),c=this._get("zoom"),p=null!=c&&null!=i&&i.zoomToScale(c)||void 0;let h,l,d;const v=a?.rotation,m=a?.targetGeometry;"extent"===m?.type?h=m:"point"===m?.type&&(l=m,d=a?.scale);const u=r??h;return {center:s??l??u?.center,rotation:n??v,scale:(o??p??d??(u&&D$2(u,[t[0]-e.left-e.right,t[1]-e.top-e.bottom])))||void 0}}startup(t,e,i,s){const o=t.targetGeometry;try{this._project(t,i);}catch(n){s$n.getLogger(this).warn(new s$x("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:i,error:n})),t.targetGeometry=s||new x$7({x:0,y:0,spatialReference:i});}this.constraints?.fit(t),this._set("state",new f$3({padding:this.padding,size:e,viewpoint:t})),this._set("ready",!0);}teardown(){this._set("ready",!1);const{center:[t,e],spatialReference:i,rotation:s,scale:r}=this.state.paddedViewState,o=new x$7({x:t,y:e,spatialReference:i});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",s),this._set("scale",r),this._set("state",null);}changeSpatialReference(t){const i=this.state.paddedViewState.clone();if(null==this._scaleBeforeChangingSpatialReference)this._scaleBeforeChangingSpatialReference=i.scale;else {const t=i.viewpoint.clone();t.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=t;}const s=i.clone(),[o,n]=i.center;let a=null;try{a=this._project(new x$7({x:o,y:n,spatialReference:i.spatialReference}),t);}catch(h){r$r()||s$n.getLogger(this).warn(new s$x("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:a?.toJSON(),spatialReference:t,error:h}));}a||(a=new x$7({x:0,y:0,spatialReference:t}));const p=yt$1(new l$b({targetGeometry:new x$7,scale:0,rotation:0}),i.viewpoint,a);s.viewpoint=p;try{const e=20,r=[i.size[0]/2,i.size[1]/2],o=[r[0]+e,r[1]],n=i.toMap([0,0],o),{x:a,y:c}=this._project(new x$7({x:n[0],y:n[1],spatialReference:i.spatialReference}),t);n[0]=a,n[1]=c,s.toScreen(n,n);const h=lt$1(r,n,o),l=Math.hypot(n[0]-r[0],n[1]-r[1])/e;!Number.isFinite(l)||Math.abs(l)>4?(p.rotation=0,p.targetGeometry=new x$7({x:0,y:0,spatialReference:t})):(p.scale*=l,p.scale>has("mapview-srswitch-adjust-rotation-scale-threshold")?p.rotation=0:p.rotation+=Number.isFinite(h)?h:0);}catch{}this._get("constraints")?.constrain(p,void 0),this._get("state").viewpoint=p;}resize(t,e){if(!this.ready)return;const i=this.state;let s=this.state.paddedViewState.viewpoint;const r=this.state.paddedViewState.size.concat();i.size=[t,e],pt$1(s,s,r,this.state.paddedViewState.size,this.resizeAlign),s=this.constraints?.constrain(s,void 0)??s,this.state.viewpoint=s;}toMap(t){if(!this.ready)return null;const e=[0,0],[i,s]=this.state.toMap(e,[t.x,t.y]),r=this.state.spatialReference;return new x$7({x:i,y:s,spatialReference:r})}toScreen(t){if(!this.ready)return null;const e=this._project(t,this.state.spatialReference),i=[e.x,e.y];return this.state.toScreen(i,i),c$t(i[0],i[1])}_project(t,e){const i=t&&t.targetGeometry||t;if(!e)return t;if(!i)return null;if(e.imageCoordinateSystem||i.spatialReference?.imageCoordinateSystem)return t;if(S$9(e,i.spatialReference))return t;const r=nn$1(i,e);if(!r)throw new s$m("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:i,spatialReference:e});return V$1(t)?(t.targetGeometry=r,t):r}};function V$1(t){return "esri.Viewpoint"===t?.declaredClass}e$g([y$e({type:x$7})],z$2.prototype,"center",null),e$g([y$e()],z$2.prototype,"constraints",void 0),e$g([y$e({type:M$6})],z$2.prototype,"extent",null),e$g([y$e({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],z$2.prototype,"padding",null),e$g([y$e()],z$2.prototype,"ready",void 0),e$g([y$e()],z$2.prototype,"resizeAlign",void 0),e$g([y$e({readOnly:!0})],z$2.prototype,"resolution",null),e$g([y$e({type:Number})],z$2.prototype,"rotation",null),e$g([y$e({type:Number})],z$2.prototype,"scale",null),e$g([y$e({readOnly:!0})],z$2.prototype,"state",void 0),e$g([y$e({type:l$b})],z$2.prototype,"viewpoint",null),e$g([y$e()],z$2.prototype,"zoom",null),z$2=e$g([a$u("esri.views.2d.ViewStateManager")],z$2);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$8(t,r){switch(r){case"primary":return "touch"===t.pointerType||0===t.button;case"secondary":return "touch"!==t.pointerType&&2===t.button;case"tertiary":return "touch"!==t.pointerType&&1===t.button}}function r$6(t,r){if("touch"===t.pointerType)return !1;switch(r){case"primary":return 0===t.button;case"secondary":return 2===t.button;case"tertiary":return 1===t.button}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a$b extends i$k{constructor(t,i){super(!0),this._view=t,this.registerIncoming("double-click",i,(t=>this._handleDoubleClick(t,i)));}_handleDoubleClick(t,a){t$8(t.data,"primary")&&(t.stopPropagation(),a?this._view.mapViewNavigation.zoomOut([t.data.x,t.data.y]):this._view.mapViewNavigation.zoomIn([t.data.x,t.data.y]));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e$7 extends i$k{constructor(t,e,a){super(!0),this.view=t,this.pointerType=e,this.registerIncoming("double-tap-drag",a,(t=>this._handleDoubleTapDrag(t)));}_handleDoubleTapDrag(t){const{data:e}=t,{pointerType:a}=e;if(a!==this.pointerType)return;t.stopPropagation();const{action:s,delta:i}=e,{view:r}=this,{mapViewNavigation:n}=r;switch(s){case"begin":{const{scale:t}=r;this._startScale=t,this._currentScale=t,this._previousDelta=i,n.begin();break}case"update":{if(this._previousDelta.y===i.y)return;this._previousDelta=i;const t=1.015**i.y,e=this._startScale*t,a=e/this._currentScale;n.setViewpointImmediate(a),this._currentScale=e;break}case"end":{const{constraints:t}=r,{effectiveLODs:e,snapToZoom:a}=t;if(!a||!e)return void n.end();const s=t.snapScale(this._currentScale),o=(i.y>0?Math.max(s,t.snapToPreviousScale(this._startScale)):Math.min(s,t.snapToNextScale(this._startScale)))/this._currentScale;n.zoom(o);break}}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class t$7{constructor(t){this._callbacks=t,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0);}handle(t){const s=t.data,i=s.pointers.size;switch(s.action){case"start":this._currentCount=i,this._emitStart(t);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"update":this._emitUpdate(t);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=i,this._emitStart(t);break;case"end":this._emitEnd(t),this._currentCount=0;}this._previousEvent=t;}_emitStart(t){this._startEvent=t,this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.start(this._currentCount,t,this._startEvent);}_emitUpdate(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.update(this._currentCount,t,this._startEvent);}_emitEnd(t){this._callbacks.condition?.(this._currentCount,t)&&this._callbacks.end(this._currentCount,t,this._startEvent),this._startEvent=null;}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class n$6 extends i$k{constructor(t,i,a){super(!0),this.view=t,this.pointerAction=i,this.registerIncoming("drag",a,(t=>this._handleDrag(t))),this.registerIncoming("pointer-down",(()=>this.stopMomentumNavigation()));}onInstall(i){super.onInstall(i),this._dragEventSeparator=new t$7({start:(t,i)=>{this.view.mapViewNavigation.pan.begin(this.view,i.data),i.stopPropagation();},update:(t,i)=>{this.view.mapViewNavigation.pan.update(this.view,i.data),i.stopPropagation();},end:(t,i)=>{this.view.mapViewNavigation.pan.end(this.view,i.data),i.stopPropagation();},condition:(t,i)=>1===t&&t$8(i.data,this.pointerAction)});}_handleDrag(t){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(t);}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class o$7 extends i$k{constructor(a,o,r){super(!0),this._view=a,this.pointerAction=o;const e=this._view.mapViewNavigation;this._dragEventSeparator=new t$7({start:(t,a)=>{e.rotate.begin(this._view,a.data),a.stopPropagation();},update:(t,a)=>{e.rotate.update(this._view,a.data),a.stopPropagation();},end:(t,a)=>{e.rotate.end(),a.stopPropagation();},condition:(t,a)=>1===t&&t$8(a.data,this.pointerAction)}),this.registerIncoming("drag",r,(t=>this._dragEventSeparator.handle(t)));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function n$5(t){let n=t*t;return t<0&&(n*=-1),n}function a$a(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function i$8(a,i,o){const s=o,e=a.state,r=a.device,l="forward-down"===i.tiltDirection?1:-1,c=1;return "standard"===r.deviceType?(s.translation[0]=n$5(e.axes[0]),s.translation[1]=n$5(e.axes[1]),s.translation[2]=n$5(e.buttons[7])-n$5(e.buttons[6]),s.heading=n$5(e.axes[2]),s.tilt=n$5(e.axes[3])):"spacemouse"===r.deviceType&&(s.translation[0]=1.2*n$5(e.axes[0]),s.translation[1]=1.2*n$5(e.axes[1]),s.translation[2]=2*-n$5(e.axes[2]),s.heading=1.2*n$5(e.axes[5]),s.tilt=1.2*n$5(e.axes[3])),s.tilt*=l,g$k(s.translation,s.translation,c),s}function o$6(t,n){const a=n;return a.translation[0]=t[1]-t[0],a.translation[1]=t[3]-t[2],a.translation[2]=t[4]-t[5],a.heading=t[7]-t[6],a.tilt=t[8]-t[9],a.zoom=t[10]-t[11],a}function s$6(t){return 0===t.translation[0]&&0===t.translation[1]&&0===t.translation[2]&&0===t.heading&&0===t.tilt&&0===t.zoom}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class d$6 extends i$k{constructor(i){super(!0),this._view=i,this._frameTask=null,this._watchHandles=new t$p,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",(t=>this._handleGamePadEvent(t))),this._handle.pause();}onInstall(t){super.onInstall(t),this._watchHandles.add([l$l((()=>this._view.navigation.gamepad?.enabled),(t=>{t?(this._handle.resume(),this._frameTask||(this._frameTask=A$a({update:t=>this._frameUpdate(t.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null));}),h$j)]);}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall();}_handleGamePadEvent(t){const i=this._view.navigation.gamepad.device;i&&t.data.device!==i||this._currentDevice&&this._currentDevice!==t.data.device||("end"===t.data.action?(this._currentDevice=null,a$a(this._transformation)):(this._currentDevice=t.data.device,i$8(t.data,this._view.navigation.gamepad,this._transformation)));}_frameUpdate(t){const i=this._transformation;if(s$6(i))return;const e=this._view.viewpoint.clone(),a=this._view.navigation.gamepad.velocityFactor,r=_$3*a*t;Rt$1(e,e,[i.translation[0]*r,-i.translation[1]*r]);const o=1+i.translation[2]*c$a*t,h=this._view.constraints.rotationEnabled?-i.heading*m$7*t:0,d=this._view.size,v=[d[0]/2,d[1]];wt$1(e,e,o,h,v,d);const p=this._view.constraints.constrain(e,this._view.viewpoint);this._view.viewpoint=p;}}const m$7=.06,_$3=.7,c$a=6e-4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i$7 extends i$k{constructor(e,i,t){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",t,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",t,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",t,(()=>this._handleBlur()));}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0);}_handleKeyUp(e){this._handleKey(e,!1);}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop());}_handleKey(e,i){const t=this._keyMap[e.data.key];if(this._pressed=null!=t,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),t){case"left":this.view.mapViewNavigation.continousPanLeft();break;case"right":this.view.mapViewNavigation.continousPanRight();break;case"up":this.view.mapViewNavigation.continousPanUp();break;case"down":this.view.mapViewNavigation.continousPanDown();}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class i$6 extends i$k{constructor(e,i,t){super(!0),this.view=e,this.keys=i,this._pressed=!1,this._keyToDirection={[i.clockwiseOption1]:"clockwise",[i.clockwiseOption2]:"clockwise",[i.counterClockwiseOption1]:"counterClockwise",[i.counterClockwiseOption2]:"counterClockwise",[i.resetOption1]:"reset",[i.resetOption2]:"reset"},this.registerIncoming("key-down",t,(e=>this._handleKeyDown(e))),this.registerIncoming("key-up",t,(e=>this._handleKeyUp(e))),this.registerIncoming("blur",t,(()=>this._handleBlur()));}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0);}_handleKeyUp(e){this._handleKey(e,!1);}_handleBlur(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop());}_handleKey(e,i){const t=e.modifiers;if(t.size>0&&!t.has("Shift")||!this.view.constraints.rotationEnabled)return;const s=this._keyToDirection[e.data.key];if(this._pressed=null!=s,this._pressed){if(i)switch(this.view.mapViewNavigation.begin(),s){case"clockwise":this.view.mapViewNavigation.continousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation();}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var t$6;!function(o){o[o.IN=0]="IN",o[o.OUT=1]="OUT";}(t$6||(t$6={}));class e$6 extends i$k{constructor(o,e,i){super(!0),this.view=o,this.keys=e,this._keysToZoomAction={},this.registerIncoming("key-down",i,(o=>this._handleKeyDown(o))),e.zoomIn.forEach((o=>this._keysToZoomAction[o]=t$6.IN)),e.zoomOut.forEach((o=>this._keysToZoomAction[o]=t$6.OUT));}_handleKeyDown(o){this._handleKey(o);}_handleKey(o){const e=o.modifiers;if(e.size>0&&!e.has("Shift"))return;const{key:i}=o.data;if(!(i in this._keysToZoomAction))return;const n=this._keysToZoomAction[i],{mapViewNavigation:s}=this.view;let r=null;switch(n){case t$6.IN:r=s.zoomIn();break;case t$6.OUT:r=s.zoomOut();break;default:return}s.begin(),r.then((()=>s.end())),o.stopPropagation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$5=.6;class o$5 extends i$k{constructor(e,t){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",t,(e=>this._handleMouseWheel(e)));}_handleMouseWheel(e){if(!this._view.navigation.mouseWheelZoomEnabled)return;if(e.preventDefault(),e.stopPropagation(),!this._canZoom)return;const o=this._view.mapViewNavigation,{x:n,y:i,deltaY:s}=e.data,a=1/t$5**(1/60*s),h=o.zoom(a,[n,i]);h&&(this._canZoom=!1,h.catch((()=>{})).then((()=>{this._canZoom=!0,o.end();})));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a$9 extends i$k{constructor(i){super(!0),this.view=i,this.registerIncoming("drag",(t=>this._handleDrag(t))),this.registerIncoming("pointer-down",(()=>this._stopMomentumNavigation()));const a=this.view.mapViewNavigation;this._dragEventSeparator=new t$7({start:(t,i)=>{a.pinch.begin(this.view,i.data),i.stopPropagation();},update:(t,i)=>{a.pinch.update(this.view,i.data),i.stopPropagation();},end:(t,i)=>{a.pinch.end(this.view),i.stopPropagation();},condition:t=>t>=2});}_handleDrag(t){this._dragEventSeparator.handle(t);}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$4(t){const n=t.native;return n?{buttons:n.buttons.map((t=>t.pressed?t.value||1:0)),axes:n.axes.map((n=>s$5(n,t.axisThreshold)))}:{buttons:[],axes:[]}}function n$4(t,n){if(t.axes.length!==n.axes.length)return !1;if(t.buttons.length!==n.buttons.length)return !1;for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==n.axes[e])return !1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==n.buttons[e])return !1;return !0}function e$5(t){for(let n=0;n<t.axes.length;n++)if(0!==t.axes[n])return !1;for(let n=0;n<t.buttons.length;n++)if(0!==t.buttons[n])return !1;return !0}function s$5(t,n){const e=Math.abs(t);return e<n?0:Math.sign(t)*(e-n)/(1-n)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class a$8{constructor(e,t){this._element=e,this._input=t,this._hasEventListeners=!1,this._onConnectGamepad=e=>{this._connectGamepad(e.gamepad);},this._onDisconnectGamepad=e=>{const t=e.gamepad,i=t.index,n=this._inputDevices[i];n&&(this._emitGamepadEvent(t,t$4(n),!1),this._inputDevices.splice(i,1),this._latestUpdate.splice(i,1),this._input.gamepad.devices.remove(n),this.ensurePollingState());},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const i="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=i&&n,this.supported&&(this._forEachGamepad((e=>this._connectGamepad(e))),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState());}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad));}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState());}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e;}_connectGamepad(e){const s=new a$l(e);"unknown"!==s.deviceType&&(this._inputDevices[e.index]=s,this._input.gamepad.devices.add(s)),this.ensurePollingState();}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling();}_startPolling(){null==this._frameTask&&(this._frameTask=A$a({update:()=>this._readGamepadState()}));}_stopPolling(){null!=this._frameTask&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array);}_readGamepadState(){const e=document.hasFocus(),t=this._element.contains(document.activeElement),a="document"===this._input.gamepad.enabledFocusMode&&!e||"view"===this._input.gamepad.enabledFocusMode&&!t;this._forEachGamepad((e=>{const t=this._inputDevices[e.index];if(!t)return;const d=this._latestUpdate[e.index],o=t$4(t),r=a||e$5(o);if(d){if(d.timestamp===e.timestamp)return;if(!d.active&&r)return;if(n$4(d.state,o))return}this._emitGamepadEvent(e,o,!r);}));}_forEachGamepad(e){const t=window.navigator.getGamepads();for(let s=0;s<t.length;s++){const i=t[s];this._validate(i)&&e(i);}}_emitGamepadEvent(e,t,s){const i=this._latestUpdate[e.index],n=i&&i.active;if(!n&&!s)return;const a=!n&&s?"start":n&&s?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:t,active:s},this._callback&&this._callback({device:this._inputDevices[e.index],state:t,action:a});}_validate(e){if(!e)return !1;if(!e.connected)return !1;for(let t=0;t<e.axes.length;t++)if(isNaN(e.axes[t]))return !1;return !0}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$4=has("edge"),a$7=has("chrome"),s$4=has("ff"),r$5=has("safari"),h$5="esri-view-surface",l$4={touchNone:`${h$5}--touch-none`,touchPan:`${h$5}--touch-pan`};class c$9{constructor(e,t){this._input=t,this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new a$8(e,this._input),this._gamepadSource.onEvent=e=>this._callback("gamepad",e);}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach((e=>{this._releasePointerCaptureSafe(e);})),this._gamepadSource=l$m(this._gamepadSource),this._activePointerCaptures=null,this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault);}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling();}set onEventReceived(e){this._callback=e;}set activeEvents(e){for(const t in this._active)if(!e||!e.has(t)){const e=this._active[t];this._element.removeEventListener(u$3[t],e),delete this._active[t];}e&&e.forEach((e=>{if(!this._active[e]&&u$3[e]){const t=(this._eventHandlers[e]||this._handleDefault).bind(this,e);this._element.addEventListener(u$3[e],t),this._active[e]=t;}})),this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1;}setPointerCapture(e,t){t?this._setPointerCatpureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId));}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?l$4.touchNone:l$4.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?l$4.touchPan:l$4.touchNone);}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning);}_removeTouchAction(){this._element.classList.remove(l$4.touchNone),this._element.classList.remove(l$4.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning);}_setPointerCatpureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e);}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e);}catch(t){}}_updateNormalizedPointerLikeEvent(e,t){const n=i$e(this._element,e);return c$9.test.disableSubpixelCoordinates&&(n.x=Math.round(n.x),n.y=Math.round(n.y)),t.x=n.x,t.y=n.y,t}_handleKey(e,n){const i=o$g(n);i&&"key-up"===e&&this._keyDownState.delete(i);const o={native:n,key:i,repeat:!!i&&this._keyDownState.has(i)};i&&"key-down"===e&&this._keyDownState.add(o.key),this._callback(e,o);}_handlePointer(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});this._callback(e,n);}_handlePointerPreventDefault(e,t){const n=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,pointerType:t.pointerType,button:t.button,buttons:t.buttons,eventId:this._eventId++});t.preventDefault(),this._callback(e,n);}_handleMouseWheel(e,t){let n=t.deltaY;switch(t.deltaMode){case 0:o$4&&(n=n/document.documentElement.clientHeight*600);break;case 1:n*=30;break;case 2:n*=900;}o$4?n*=.7:a$7||r$5?n*=.6:s$4&&(n*=1.375);const i=100,h=Math.abs(n);if(h>i){const e=.02;n=n/h*200/(1+Math.exp(-e*(h-i)));}const l=this._updateNormalizedPointerLikeEvent(t,{native:t,x:0,y:0,deltaY:n});this._callback(e,l);}_handlePointerCaptureLost(e,t){this._activePointerCaptures.delete(t.pointerId),this._handleDefault(e,t);}_handleDefault(e,t){const n={native:t};t.preventDefault(),this._callback(e,n);}_preventAltKeyDefault(e){"Alt"===e.key&&e.preventDefault();}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault();}}c$9.test={disableSubpixelCoordinates:!1};const u$3={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class e$4 extends i$k{constructor(){super(!0),this.registerIncoming("context-menu",(t=>{t.data.native.preventDefault();}));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function e$3(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function n$3(t,e){const n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function r$4(e,n){if(n?(n.radius=0,n.center.x=0,n.center.y=0):n={radius:0,center:c$t()},0===e.length)return n;if(1===e.length)return n.center.x=e[0].x,n.center.y=e[0].y,n;if(2===e.length){const[t,r]=e,[c,o]=[r.x-t.x,r.y-t.y];return n.radius=Math.sqrt(c*c+o*o)/2,n.center.x=(t.x+r.x)/2,n.center.y=(t.y+r.y)/2,n}let r=0,c=0;for(let t=0;t<e.length;t++)r+=e[t].x,c+=e[t].y;r/=e.length,c/=e.length;const o=e.map((t=>t.x-r)),s=e.map((t=>t.y-c));let u=0,i=0,x=0,y=0,a=0,h=0,l=0;for(let t=0;t<o.length;t++){const e=o[t],n=s[t],r=e*e,c=n*n;u+=r,i+=c,x+=e*n,y+=r*e,a+=c*n,h+=e*c,l+=n*r;}const f=.5*(y+h),g=.5*(a+l),p=u*i-x*x,d=(f*i-g*x)/p,m=(u*g-x*f)/p,M=c$t(d+r,m+c);return {radius:Math.sqrt(d*d+m*m+(u+i)/e.length),center:M}}function c$8(t){const{native:e}=t,{pointerId:n,button:r,pointerType:c}=e;return "mouse"===c?`${n}:${r}`:`${c}`}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const l$3={maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};class m$6 extends i$k{constructor(t=l$3.maximumDoubleClickDelay,i=l$3.maximumDoubleClickDistance,o=l$3.maximumDoubleTouchDelay,n=l$3.maximumDoubleTouchDistance,s=t$s){super(!1),this._maximumDoubleClickDelay=t,this._maximumDoubleClickDistance=i,this._maximumDoubleTouchDelay=o,this._maximumDoubleTouchDistance=n,this._clock=s,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",this._handleImmediateClick.bind(this)),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this));}onUninstall(){this._pointerState.forEach((e=>e.doubleClickTimer=o$t(e.doubleClickTimer)));}get hasPendingInputs(){return n$z(this._pointerState,(e=>null!=e.doubleClickTimer))}_clearDoubleClickTimer(e,t){const o=this._pointerState.get(e);o&&(o.doubleClickTimer=o$t(o.doubleClickTimer),t&&this._click.emit(o.event.data,void 0,o.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs());}_doubleClickTimeoutExceeded(e){const t=this._pointerState.get(e);1===t.pointerDownCount&&this._click.emit(t.event.data,void 0,t.event.modifiers),t.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs();}_getPointerId(e){const{pointerId:t,pointerType:i,button:o}=e.native;return "mouse"===i?`${t}:${o}`:`${i}`}_handleImmediateClick(e){const t=e.data,{pointerType:i}=t.native,o=this._getPointerId(t);if(!this._pointerState.has(o))return void this._startClick(e);const s=this._pointerState.get(o),{data:l,modifiers:m}=s.event,c="touch"===i?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;e$3(l,t)>c?(this._clearDoubleClickTimer(o,!0),this._startClick(e)):(this._clearDoubleClickTimer(o,!1),2===s.pointerDownCount&&this._doubleClick.emit(l,void 0,m));}_handlePointerDown(e){const t=c$8(e.data),i=this._pointerState.get(t);i&&(i.pointerDownCount+=1);}_startClick(e){const{data:t}=e,{native:{pointerType:i}}=t,o=c$8(t),n="touch"===i?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,l=this._clock.setTimeout((()=>this._doubleClickTimeoutExceeded(o)),n),m=1;this._pointerState.set(o,{event:e,doubleClickTimer:l,pointerDownCount:m}),this.refreshHasPendingInputs();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class p$7 extends i$k{constructor(e=l$3.maximumDoubleClickDelay,a=l$3.maximumDoubleClickDistance,r=l$3.maximumDoubleTouchDelay,n=l$3.maximumDoubleTouchDistance,u=t$s){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=a,this._maximumDoubleTouchDelay=r,this._maximumDoubleTouchDistance=n,this._clock=u,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=c$t(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new t$7({start:(t,e)=>this._dragStart(t,e),update:(t,e)=>this._dragUpdate(e),end:(t,e)=>this._dragEnd(e)}),this.registerIncoming("drag",(t=>this._dragEventSeparator.handle(t))),this.registerIncoming("pointer-down",(t=>this._handlePointerDown(t))),this.registerIncoming("pointer-up",(()=>this._handlePointerUp()));}onUninstall(){this._pointerState.forEach((t=>{t.doubleTapTimeout=o$t(t.doubleTapTimeout);}));}get hasPendingInputs(){return n$z(this._pointerState,(t=>null!=t.doubleTapTimeout))}_clearPointerDown(t){const e=this._pointerState.get(t);e&&(e.doubleTapTimeout=o$t(e.doubleTapTimeout),this._pointerState.delete(t),this.refreshHasPendingInputs());}_createDoubleTapDragData(t,e,a){const{button:i,buttons:o,pointer:r,pointers:s,pointerType:n,timestamp:u}=a;return {action:t,delta:e,button:i,buttons:o,pointer:r,pointers:s,pointerType:n,timestamp:u}}_dragStart(t,e){if(!this._doubleTapDragReady||1!==t)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:a,modifiers:o}=e,{center:r}=a;this._dragStartCenter=r;const s=this._createDoubleTapDragData("begin",c$t(0,0),a);this._doubleTapDrag.emit(s,void 0,o),e.stopPropagation();}_dragUpdate(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:a}=t,{center:o}=e,r=c$t(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("update",r,e);this._doubleTapDrag.emit(s,void 0,a),t.stopPropagation();}_dragEnd(t){if(!this._doubleTapDragActive)return;const{data:e,modifiers:a}=t,{center:o}=e,r=c$t(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),s=this._createDoubleTapDragData("end",r,e);this._doubleTapDrag.emit(s,void 0,a),this._doubleTapDragActive=!1,t.stopPropagation();}_handlePointerDown(t){const{data:e}=t,a=c$8(e),i=this._pointerState.get(a),{pointerType:o}=e.native;if(i){const r="touch"===o?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(a),e$3(i.event.data,e)>r?this._storePointerDown(t):this._doubleTapDragReady=!0;}else this._storePointerDown(t);}_handlePointerUp(){this._doubleTapDragReady=!1;}_storePointerDown(t){const{data:e}=t,{pointerType:a}=e.native,i=c$8(e),o="touch"===a?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,r=this._clock.setTimeout((()=>this._clearPointerDown(i)),o);this._pointerState.set(i,{event:t,doubleTapTimeout:r}),this.refreshHasPendingInputs();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class s$3 extends i$k{constructor(t){super(!1),this._navigationTouch=t,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this));}_createPayload(t,e,i,n){return {action:t,pointerType:this._pointerType,button:this._mouseButton,buttons:e.buttons,timestamp:n,pointers:o$3(this._activePointerMap),pointer:e,angle:i.angle,radius:i.radius,center:i.center}}_addPointer(t){const e=t.native.pointerId,i=a$6(this._activePointerMap).angle,n={event:t,initialAngle:0,lastAngle:0};this._activePointerMap.set(e,n);const s=h$4(n,r$3(this._activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(i);}_updatePointer(t){if(t&&null==t.x&&null==t.y)return;const e=t.native.pointerId,i=this._activePointerMap.get(e);i?i.event=t:this._addPointer(t);}_removePointer(t){const e=a$6(this._activePointerMap).angle;this._activePointerMap.delete(t),this._updatePointerAngles(e);}_updatePointerAngles(t){const e=a$6(this._activePointerMap);this._activePointerMap.forEach((i=>{i.initialAngle=h$4(i,e)-t,i.lastAngle=h$4(i,e)-t;}));}_emitEvent(t,e,i){const n=a$6(this._activePointerMap);this._drag.emit(this._createPayload(t,e,n,i),void 0,this._startStateModifiers);}_handlePointerUpAndPointerLost(t){const i=t.data.native.pointerId,n=n$C(t.timestamp);this._activePointerMap.get(i)&&(1===this._activePointerMap.size?(this._updatePointer(t.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",t.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",t.data,n$C(t.timestamp))));}_handlePointerDrag(t){const i=t.data,n=i.currentEvent,s=n$C(t.timestamp);switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,s)):(this._addPointer(n),this._emitEvent("added",n,s),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=t.data.startEvent.pointerType,this._mouseButton=t.data.startEvent.button,this._startStateModifiers=t.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,s));}}get _isSuppressed(){return !!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&"touch"===this._pointerType&&1===this._activePointerMap.size}}function r$3(e){const i=[];return e.forEach((e=>{i.push(c$t(e.event.x,e.event.y));})),r$4(i)}function a$6(t){const e=r$3(t);let i=0;return t.forEach((t=>{let n=h$4(t,e),s=n-t.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=t.lastAngle+s,t.lastAngle=n;const r=n-t.initialAngle;i+=r;})),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function o$3(t){const e=new Map;return t.forEach(((t,i)=>e.set(i,t.event))),e}function h$4(t,e){const i=t.event,n=i.x-e.center.x,s=i.y-e.center.y;return Math.atan2(s,n)}var p$6;!function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined";}(p$6||(p$6={}));

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
class m$5 extends i$k{constructor(e=l$3.maximumDoubleClickDelay,o=l$3.maximumDoubleClickDistance,a=l$3.maximumDoubleTouchDelay,m=l$3.maximumDoubleTouchDistance,n=t$s){super(!1),this._maximumDoubleClickDelay=e,this._maximumDoubleClickDistance=o,this._maximumDoubleTouchDelay=a,this._maximumDoubleTouchDistance=m,this._clock=n,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this));}onUninstall(){this._pointerState.forEach((t=>{t.immediateDoubleClick&&t.immediateDoubleClick.timeoutHandle.remove();})),super.onUninstall();}_handlePointerDown(t){const e=t.data,i=c$8(e);if(!this._pointerState.has(i)){const t={downButton:e.native.button,immediateDoubleClick:null};this._pointerState.set(i,t),this.startCapturingPointer(e.native);}}_handlePointerUp(t){const e=t.data,i=c$8(e),m=this._pointerState.get(i);if(m&&m.downButton===e.native.button){const i=m.immediateDoubleClick;if(i){i.timeoutHandle.remove();const o="touch"===t.data.native.pointerType?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;e$3(i,t.data)>o?this._startImmediateDoubleClick(t,m):(this._immediateDoubleClick.emit(t.data,void 0,i.modifiers),this._removeState(e));}else this._startImmediateDoubleClick(t,m);}}_startImmediateDoubleClick(t,e){const i="touch"===t.data.native.pointerType?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;e.immediateDoubleClick={x:t.data.x,y:t.data.y,modifiers:t.modifiers,timeoutHandle:this._clock.setTimeout((()=>this._removeState(t.data)),i)};}_removeState(t){const e=c$8(t);this._pointerState.delete(e),this.stopCapturingPointer(t.native),this.refreshHasPendingInputs();}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const o$2={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500};class r$2 extends i$k{constructor(e=o$2.maximumClickDelay,i=o$2.movementUntilMouseDrag,n=o$2.movementUntilPenDrag,r=o$2.movementUntilTouchDrag,s=o$2.holdDelay,a=t$s){super(!1),this._maximumClickDelay=e,this._movementUntilMouseDrag=i,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=r,this._holdDelay=s,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",(t=>{this._handlePointerLoss(t,"pointer-up");})),this.registerIncoming("pointer-capture-lost",(t=>{this._handlePointerLoss(t,"pointer-capture-lost");})),this.registerIncoming("pointer-cancel",(t=>{this._handlePointerLoss(t,"pointer-cancel");})),this._moveHandle=this.registerIncoming("pointer-move",this._handlePointerMove.bind(this)),this._moveHandle.pause();}onUninstall(){this._pointerState.forEach((t=>{t.holdTimeout=o$t(t.holdTimeout);})),super.onUninstall();}_handlePointerDown(t){const e=t.data,i=e.native.pointerId;let n=null;0===this._pointerState.size&&(n=this._clock.setTimeout((()=>{const e=this._pointerState.get(i);if(e){if(!e.isDragging){const i=e.previousEvent;this._pointerHold.emit(i,void 0,t.modifiers),e.holdEmitted=!0;}e.holdTimeout=null;}}),this._holdDelay));const o={startEvent:e,previousEvent:e,startTimestamp:t.timestamp,isDragging:!1,downButton:e.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(i,o),this.startCapturingPointer(e.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(t);}_createPointerDragData(t,e,i){return {action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}_handlePointerMove(t){const e=t.data,i=e.native.pointerId,o=this._pointerState.get(i);if(o){if(o.isDragging)this._pointerDrag.emit(this._createPointerDragData("update",o,e),void 0,o.modifiers);else {n$3(e,o.startEvent)>this._getDragThreshold(e.native.pointerType)&&this._startDragging(t);}o.previousEvent=e;}}_getDragThreshold(t){switch(t){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(t){const e=t.data,i=e.native.pointerId;this._pointerState.forEach((n=>{null!=n.holdTimeout&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=t.modifiers,n.isDragging=!0,i===n.startEvent.native.pointerId?this._pointerDrag.emit(this._createPointerDragData("start",n,e)):this._pointerDrag.emit(this._createPointerDragData("start",n,n.previousEvent),t.timestamp));}));}_handlePointerLoss(t,e){const i=t.data,n=i.native.pointerId,o=this._pointerState.get(n);if(o){if(null!=o.holdTimeout&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging)this._pointerDrag.emit(this._createPointerDragData("end",o,"pointer-up"===e?i:o.previousEvent),void 0,o.modifiers);else if("pointer-up"===e&&o.downButton===i.native.button){t.timestamp-o.startTimestamp<=this._maximumClickDelay&&!o.holdEmitted&&this._immediateClick.emit(i);}this._pointerState.delete(n),this.stopCapturingPointer(i.native),0===this._pointerState.size&&this._moveHandle.pause();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const z$1={counter:"Ctrl",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwiseOption1:"a",clockwiseOption2:"A",counterClockwiseOption1:"d",counterClockwiseOption2:"D",resetOption1:"n",resetOption2:"N"}};let k$2=class extends m$p{constructor(){super(...arguments),this._handles=new t$p;}initialize(){const e=()=>this.view?.ready;this._handles.add([f$k((()=>!e()),(()=>this._disconnect())),f$k(e,(()=>this._connect()))]);}destroy(){this._handles=l$m(this._handles),this._disconnect();}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}_disconnect(){this.view.viewEvents.disconnect(),this._inputManager=l$m(this._inputManager);}_connect(){const e=this.view.surface,t=new c$9(e,this.view.input),o=[new m$5,new r$2,new m$6,new s$3(this.view.navigation),new p$7],r=new d$b({eventSource:t,recognizers:o});r.installHandlers("prevent-context-menu",[new e$4],_$5.INTERNAL),r.installHandlers("navigation",[new a$9(this.view),new d$6(this.view),new o$5(this.view),new a$b(this.view),new a$b(this.view,[z$1.counter]),new n$6(this.view,"primary"),new i$7(this.view,z$1.pan),new e$6(this.view,z$1.zoom),new i$6(this.view,z$1.rotate),new o$7(this.view,"secondary"),new e$7(this.view,"touch")],_$5.INTERNAL),this.view.viewEvents.connect(r),this._source=t,this._inputManager=r,l$l((()=>this.view?.navigation?.browserTouchPanEnabled),(e=>{this._source&&(this._source.browserTouchPanningEnabled=!e);}),h$j);}get test(){return {inputManager:this._inputManager}}};e$g([y$e()],k$2.prototype,"view",void 0),e$g([y$e()],k$2.prototype,"latestPointerType",null),e$g([y$e()],k$2.prototype,"latestPointerLocation",null),e$g([y$e()],k$2.prototype,"multiTouchActive",null),k$2=e$g([a$u("esri.views.2d.input.MapViewInputManager")],k$2);const C$2=k$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let i$5=class extends m$p{constructor(){super(...arguments),this.color=new h$e([0,255,255]),this.haloOpacity=1,this.fillOpacity=.25;}equals(o){return this.color.equals(o.color)&&(this.haloColor||this.color).equals(o.haloColor||o.color)&&this.haloOpacity===o.haloOpacity&&this.fillOpacity===o.fillOpacity}};e$g([y$e({type:h$e})],i$5.prototype,"color",void 0),e$g([y$e({type:h$e})],i$5.prototype,"haloColor",void 0),e$g([y$e()],i$5.prototype,"haloOpacity",void 0),e$g([y$e()],i$5.prototype,"fillOpacity",void 0),i$5=e$g([a$u("esri.views.2d.support.HighlightOptions")],i$5);const c$7=i$5;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const s$2=s=>s.includes("Brush");class e$2{constructor(){this._names=new Map;}begin(e){this._names.has(e)||(this._names.set(e,!1),s$2(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`));}end(s){this._names.has(s)&&!this._names.get(s)&&(this._names.set(s,!0),performance.mark(`Esri.${s}.End`));}record(s){this._names.has(s)||(this._names.set(s,!0),performance.mark(`Esri.${s}`));}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function t$3(t,h,i,e,l,d,n,o){t.ignorePadding&&(e={left:0,right:0,top:0,bottom:0});let u=null;null!=t.width&&null!=t.height?u=[t.width,t.height]:null==t.width&&null!=t.height?u=[t.height,t.height]:null!=t.width&&null==t.height?u=[t.width,t.width]:null==t.width&&null==t.height&&(u=null);const r=i[0]-(e.left+e.right),a=i[1]-(e.top+e.bottom);let g,w,c=t.area||{x:0,y:0,width:r,height:a};if(u){const t=r/a,h=u[0]/u[1];if(h>t){const t=c.width/h;c={x:c.x,y:Math.round(c.y+(c.height-t)/2),width:c.width,height:Math.round(t)};}else {const t=c.height*h;c={x:Math.round(c.x+(c.width-t)/2),y:c.y,width:Math.round(t),height:c.height};}}else u=[c.width,c.height];u[0]>c.width?(g=Math.min(u[0]/c.width,h),w=u[0]/c.width/g):(g=1,w=u[0]/c.width);return {resolutionScale:g,cropArea:{x:Math.round((c.x+e.left)*g),y:Math.round((c.y+e.top)*g),width:Math.round(c.width*g),height:Math.round(c.height*g)},outputScale:w,format:l,quality:d,children:n,rotation:o}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h$3=2048,i$4=1.5,e$1=8;function o$1(h,i){const{format:e,quality:o,rotation:n,disableDecorations:a}=h||{},r=b$3(h,i.padding),l=p$5(h,{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom}),{width:g,height:f}=m$4(h,l),d=j$1(e),u=R$1[d];return {format:d,quality:i$z(null!=o?o:u,0,100),area:l,width:g,height:f,rotation:n,disableDecorations:!!a,ignoreBackground:!(!h||!h.ignoreBackground),ignorePadding:!(!h||!h.ignorePadding)}}function n$2(t,h){const i=o$1(t,h),e=i.area,n=i.width/e.width,a=b$3(i,h.padding),r=a.left+a.right,l=a.top+a.bottom,g=h.width-r,f=h.height-l,d=Math.floor(g*n+r),u=Math.floor(f*n+l),c=t&&t.layers?t.layers:[],s=i.ignoreBackground,w=i.ignorePadding;return {framebufferWidth:d,framebufferHeight:u,region:{x:Math.floor(e.x*n)+a.left,y:Math.floor(e.y*n)+a.top,width:i.width,height:i.height},format:i.format,quality:i.quality,rotation:i.rotation,pixelRatio:n,layers:c,disableDecorations:i.disableDecorations,ignoreBackground:s,ignorePadding:w,objectAndLayerIdColor:!1}}function a$5(t,h,i){const{ctx:e,canvas:o}=l$2(t,i),n=e.getImageData(0,0,t.width,t.height),a=u$2(o,h);return g$3(o),{dataUrl:a,data:n}}function r$1(t,h){const{ctx:i,canvas:e}=l$2(t,h),o=i.getImageData(0,0,t.width,t.height);return g$3(e),o}function l$2(t,h){const i=f$2();h.premultipliedAlpha&&q$1(t),i.width=t.width,i.height=t.height;const e=i.getContext("2d",{willReadFrequently:!0});return e.putImageData(t,0,0),h.flipY&&D$1(e),{ctx:e,canvas:i}}function g$3(t){t.width=0,t.height=0;}function f$2(){return null==d$5&&(d$5=document.createElement("canvas")),d$5}let d$5=null;function u$2(t,h){const i=v$2[h.format],e=h.quality/100;return t.toDataURL(i,e)}function c$6(h,i){const e=j$1(h),o=R$1[e];return {format:e,quality:i$z(null!=i?i:o,0,100)}}function s$1(t,h){return h/Math.max(t[0],t[1])}function w$2(t,h,i,e=0,o=0,n=t.width-e,a=t.height-o,r=!1){const{data:l}=t,{width:g,height:f,data:d}=h,u=n/g,c=a/f,s=Math.ceil(u/2),w=Math.ceil(c/2),M=t.width;for(let m=0;m<f;m++)for(let t=0;t<g;t++){const h=4*(t+(r?f-m-1:m)*g);let n=0,a=0,p=0,y=0,x=0,b=0;const j=(m+.5)*c;for(let r=Math.floor(m*c);r<(m+1)*c;r++){const h=Math.abs(j-(r+.5))/w,g=(t+.5)*u,f=h*h;for(let d=Math.floor(t*u);d<(t+1)*u;d++){const t=Math.abs(g-(d+.5))/s,h=Math.sqrt(f+t*t);if(h>=1)continue;let u=2*h*h*h-3*h*h+1;const c=4*(e+d+(o+r)*M);b+=u*l[c+3],a+=u,!i&&l[c+3]<255&&(u=u*l[c+3]/255),p+=u*l[c],y+=u*l[c+1],x+=u*l[c+2],n+=u;}}d[h]=p/n,d[h+1]=y/n,d[h+2]=x/n,d[h+3]=b/a;}return h}function M$1(t,o,n){if(!o)return t;const{framebufferWidth:a,framebufferHeight:r,pixelRatio:l,region:g}=t,f=b$3(t,n),d=f.left+f.right,u=f.top+f.bottom,c=a-d,s=r-u,w=Math.min(e$1,Math.min((h$3-d)/c,(h$3-u)/s));return w<i$4?t:{...t,framebufferWidth:Math.round(c*w)+d,framebufferHeight:Math.round(s*w)+u,pixelRatio:l*w,resample:{region:{x:Math.round((g.x-f.left)*w)+f.left,y:Math.round((g.y-f.top)*w)+f.top,width:Math.round(g.width*w),height:Math.round(g.height*w)},width:a,height:r}}}function m$4(t,h){if(!t)return h;const i=t.width,e=t.height;if(null!=i&&null!=e)return {width:Math.floor(i),height:Math.floor(e)};if(null==i&&null==e)return h;const o=h.width/h.height;return null==e?{width:Math.floor(i),height:Math.floor(i/o)}:{width:Math.floor(e*o),height:Math.floor(e)}}function p$5(t,h){const i={x:0,y:0,width:h.width,height:h.height};if(t&&t.area){null!=t.area.x&&(i.x=Math.floor(t.area.x)),null!=t.area.y&&(i.y=Math.floor(t.area.y));const e=null!=t.area.width?Math.floor(t.area.width):null,o=null!=t.area.height?Math.floor(t.area.height):null;if(i.width=h.width-i.x,i.height=h.height-i.y,null!=e&&null!=o)i.width=Math.min(i.width,e),i.height=Math.min(i.height,o);else if(null==e&&null!=o){const t=Math.min(i.width,e);i.height=t/i.width*i.height,i.width=t;}else if(null!=e&&null==o){const t=Math.min(i.height,o);i.width=t/i.height*i.width,i.height=t;}}return y$3(x$1(i,t),h)}function y$3(t,h){const i=Math.floor(Math.max(t.x,0)),e=Math.floor(Math.max(t.y,0)),o={x:i,y:e,width:Math.floor(Math.min(t.width,h.width-i)),height:Math.floor(Math.min(t.height,h.height-e))},n=o.width/o.height,a=t.width/t.height;if(a===n)return o;if(a>n){const t=Math.floor(o.width/a),h=o.height-t;return {x:o.x,y:Math.floor(o.y+h/2),width:o.width,height:t}}const r=Math.floor(o.height*a),l=o.width-r;return {x:Math.floor(o.x+l/2),y:o.y,width:r,height:o.height}}function x$1(t,h){if(!h||null==h.width||null==h.height)return t;const i=h.width/h.height,e=t.width/t.height;if(e===i)return t;if(e<i){const h=Math.floor(t.height*i);return t.x-=(h-t.width)/2,t.width=h,t}const o=Math.floor(t.width/i);return t.y-=(o-t.height)/2,t.height=o,t}function b$3(t,h){return !h||t&&t.ignorePadding?k$1:h}function j$1(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return P$2}}function D$1(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore();}function q$1(t){const h=t.data,i=h.length;for(let e=0;e<i;e+=4){const t=h[e+3];if(255!==t&&t>0){const i=255/t;h[e]=h[e]*i,h[e+1]=h[e+1]*i,h[e+2]=h[e+2]*i;}}}const v$2={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},I$1=98,P$2="png",R$1={png:100,jpg:I$1,jpeg:I$1},k$1={top:0,right:0,bottom:0,left:0};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$3(i){const s=n$D(i);if(!s.available)return new s$m("webgl:required","3d"===i?"WebGL2 is required but not supported.":"WebGL is required but not supported.",(new Error).stack);if("3d"===i&&s.majorPerformanceCaveat)return new s$m("webgl:major-performance-caveat-detected","Your WebGL implementation doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.");if(!s.supportsHighPrecisionFragment)return new s$m("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported.");if(!s.supportsVertexShaderSamplers)return new s$m("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported.");if(s.type===n$E.WEBGL1){if(!s.supportsElementIndexUint)return new s$m("webgl:element-index-uint-required","WebGL support for uint vertex indices is required but not supported.");if(!s.supportsStandardDerivatives)return new s$m("webgl:standard-derivatives-required","WebGL support for standard derivatives is required but not supported.");if(!s.supportsInstancedArrays)return new s$m("webgl:instanced-arrays-required","WebGL support for instanced rendering is required but not supported.")}return null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function i$2(t){return t&&"nodeType"in t}function d$4(t){return t&&"function"==typeof t.render}const c$5={component:"esri-component"};let p$4=class extends m$p{constructor(){super(...arguments),this.widget=null;}destroy(){this.node=null,this.widget?.destroy();}get id(){return this.get("widget.id")||this.get("node.id")}set node(t){const o=this._get("node");t!==o&&(t&&t.classList.add(c$5.component),o&&o.classList.remove(c$5.component),this._set("node",t));}castNode(t){return this.widget?.destroy(),t?"string"==typeof t||i$2(t)?(this._set("widget",null),e$h(t)):(d$4(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};e$g([y$e({dependsOn:[]})],p$4.prototype,"id",null),e$g([y$e()],p$4.prototype,"node",null),e$g([s$s("node")],p$4.prototype,"castNode",null),e$g([y$e({readOnly:!0})],p$4.prototype,"widget",void 0),p$4=e$g([a$u("esri.views.ui.Component")],p$4);const l$1=p$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const f$1={left:0,top:0,bottom:0,right:0},_$2={bottom:30,top:15,right:15,left:15},g$2="esri-ui",y$2={ui:g$2,corner:`${g$2}-corner`,innerContainer:`${g$2}-inner-container`,manualContainer:`${g$2}-manual-container`,cornerContainer:`${g$2}-corner-container`,topLeft:`${g$2}-top-left`,topRight:`${g$2}-top-right`,bottomLeft:`${g$2}-bottom-left`,bottomRight:`${g$2}-bottom-right`};function C$1(t){return t&&!t._started&&"function"==typeof t.postMixInProperties&&"function"==typeof t.buildRendering&&"function"==typeof t.postCreate&&"function"==typeof t.startup}function v$1(t){return 0===t?"0":`${t}px`}function b$2(t){const o="object"==typeof t&&null!==t&&Object.getPrototypeOf(t);return (null===o||o===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function w$1(t,{top:o,bottom:n,left:i,right:e}){t.style.top=o,t.style.bottom=n,t.style.left=i,t.style.right=e;}let P$1=class extends n$u.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._locale=c$w(),this.view=null,this._applyViewPadding=()=>{const t=this.container;t&&w$1(t,this._toPixelPosition(this._getViewPadding()));},this._applyUIPadding=()=>{const t=this._innerContainer;t&&w$1(t,this._toPixelPosition(this.padding));},this._initContainers();}initialize(){this.addHandles([l$l((()=>[this.view?.padding,this.container]),this._applyViewPadding,h$j),l$l((()=>this.padding),this._applyUIPadding,h$j),l$l((()=>[this.container,this._locale]),(([t,o])=>{t&&t.setAttribute("lang",o);}),h$j),s$y((t=>{this._locale=t;}))]);}destroy(){this.container=null;for(const t of this._components)t.destroy();this._components.length=0,this._componentMap.clear();}set container(t){const o=this._get("container");t!==o&&(t&&(t.classList.add(y$2.ui),n$F(t),this._attachContainers(t)),o&&(o.classList.remove(y$2.ui),w$1(o,{top:"",bottom:"",left:"",right:""}),n$x(o)),this._set("container",t));}get height(){const t=this.view?.height??0;if(0===t)return t;const o=this._getViewPadding(),{top:n,bottom:i}=o;return Math.max(t-n-i,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t);}castPadding(t){return "number"==typeof t?{bottom:t,top:t,right:t,left:t}:{..._$2,...t}}get width(){const t=this.view?.width??0;if(0===t)return t;const o=this._getViewPadding(),{left:n,right:i}=o;return Math.max(t-n-i,0)}add(t,o){let n,i,e;if(Array.isArray(t))return void t.forEach((t=>this.add(t,o)));const r=b$2(t);r&&({index:n,position:o,component:t,key:i}=r),o&&"object"==typeof o&&({index:n,key:i,position:o,internal:e}=o),!t||o&&!this._isValidPosition(o)||this._add(t,o,n,i,e);}remove(t,o){if(!t)return;if(Array.isArray(t))return t.map((t=>this.remove(t,o)));const n=this._find(t);if(n){if(this._componentMap.has(t)&&this._componentMap.get(t)?.key!==o)return;const i=this._components.indexOf(n),e=n.node.parentNode;return e?.removeChild(n.node),this._componentMap.delete(t),this._components.splice(i,1)[0]}}empty(t,o={removeInternal:!1}){if(Array.isArray(t)){for(const n of t)this.empty(n,o);return}const n=this._positionNameToContainerLookup[t??"manual"],i=Array.prototype.slice.call(n.children).map((t=>this._findByNode(t))).filter((t=>{if(null==t)return !1;return !(this._componentMap.get(t)?.internal??!1)||o.removeInternal}));for(const e of i)this.remove(e);}move(t,o){if(Array.isArray(t)&&t.forEach((t=>this.move(t,o))),!t)return;let n;const i=b$2(t)||b$2(o);if(i&&(n=i.index,o=i.position,t=i.component||t),o&&!this._isValidPosition(o))return;const e=this.remove(t);e&&this.add(e,{position:o,index:n});}find(t){if(!t)return null;const o=this._findById(t);return o&&(o.widget||o.node)}getComponents(t,o={includeInternal:!1}){return t?Array.isArray(t)?t.map((t=>this._getComponentsAtPosition(t,o))).flat():this._getComponentsAtPosition(t,o):this._components.filter((t=>o.includeInternal||!this._componentMap.get(t)?.internal)).map((({widget:t,node:o})=>t??o))}getPosition(t){for(const o in this._positionNameToContainerLookup){if(this._positionNameToContainerLookup[o].contains(t))return o}return null}_add(t,o,n,i,e){t instanceof l$1||(t=new l$1({node:t})),this._place({component:t,position:o,index:n}),this._components.push(t),this._componentMap.set(t,{key:i,internal:e});}_find(t){return t?t instanceof l$1?this._findByComponent(t):"string"==typeof t?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.view?.padding??f$1}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer);}_initContainers(){const t=document.createElement("div");t.classList.add(y$2.innerContainer,y$2.cornerContainer);const o=document.createElement("div");o.classList.add(y$2.innerContainer,y$2.manualContainer);const n=document.createElement("div");n.classList.add(y$2.topLeft,y$2.corner),t.appendChild(n);const i=document.createElement("div");i.classList.add(y$2.topRight,y$2.corner),t.appendChild(i);const e=document.createElement("div");e.classList.add(y$2.bottomLeft,y$2.corner),t.appendChild(e);const r=document.createElement("div");r.classList.add(y$2.bottomRight,y$2.corner),t.appendChild(r),this._innerContainer=t,this._manualContainer=o;const s=h$f();this._cornerNameToContainerLookup={"top-left":n,"top-right":i,"bottom-left":e,"bottom-right":r,"top-leading":s?i:n,"top-trailing":s?n:i,"bottom-leading":s?r:e,"bottom-trailing":s?e:r},this._positionNameToContainerLookup={manual:o,...this._cornerNameToContainerLookup};}_isValidPosition(t){return !!this._positionNameToContainerLookup[t]}_place(t){const o=t.position??"manual",{component:n,index:e}=t,r=this._positionNameToContainerLookup[o],s=null!=e&&e>-1;if(C$1(n.widget)&&n.widget.startup(),!s)return void r.appendChild(n.node);const a=Array.from(r.children);if(0===e)return void(r.firstChild?o$x(n.node,r.firstChild):r.appendChild(n.node));e>=a.length?r.appendChild(n.node):o$x(n.node,a[e]);}_toPixelPosition(t){return {top:v$1(t.top),left:v$1(t.left),right:v$1(t.right),bottom:v$1(t.bottom)}}_findByComponent(t){return this._components.find((o=>o===t))??null}_findById(t){return this._components.find((({id:o})=>o===t))??null}_findByNode(t){return this._components.find((({node:o})=>o===t))??null}_getComponentsAtPosition(t,n){const i=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(i.children).map((t=>this._findByNode(t))).filter(R$5).filter((t=>n.includeInternal||!this._componentMap.get(t)?.internal)).map((({widget:t,node:o})=>t??o))}};e$g([y$e()],P$1.prototype,"_locale",void 0),e$g([y$e()],P$1.prototype,"container",null),e$g([y$e()],P$1.prototype,"height",null),e$g([y$e({value:_$2})],P$1.prototype,"padding",null),e$g([s$s("padding")],P$1.prototype,"castPadding",null),e$g([y$e()],P$1.prototype,"view",void 0),e$g([y$e()],P$1.prototype,"width",null),P$1=e$g([a$u("esri.views.ui.UI")],P$1);const L$1=P$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function m$3(t,e){return t&&"copyright"in t&&(!e||"function"==typeof t.originOf&&"user"===t.originOf("copyright"))}function f(t,e){return t.length!==e.length||t.some(((t,i)=>t.text!==e[i].text))}function y$1(t,e,i){if(!i||!e)return;t.find((t=>t.layerView===e&&t.text===i))||t.push({text:i,layerView:e});}function b$1(t){return "bing-maps"===t.type}const g$1=[];let _$1=class extends d$t{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.handles.remove("suspension"),this.notifyChange("state");},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new V$9,this.view=null,this._allLayerViewsChange=t=>{this.handles.remove("suspension");const e=this.get("view.allLayerViews");e&&this.handles.add(e.map((t=>l$l((()=>[t.suspended,t.layer?.attributionVisible]),(()=>this._updateAttributionItems())))),"suspension"),t&&t.removed&&t.removed.forEach((t=>{this._pendingAttributions.delete(t),this._fetchedAttributionData.delete(t);})),this._updateAttributionItems();},this.handles.add([a$y((()=>this.view?.allLayerViews),"change",(t=>this._allLayerViewsChange(t)),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),f$k((()=>!0===this.view?.stationary),(()=>this._updateAttributionItems()))]);}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll();}get state(){return this.get("view.ready")?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const t=this.view,e=t?.allLayerViews;g$1.length=0,t&&e?(e.forEach((e=>{if(e.suspended||!e.layer?.attributionVisible)return;const i=e.layer;if(m$3(i,"user"))return void y$1(g$1,e,i.copyright);if(i.hasAttributionData){if(this._fetchedAttributionData.has(e)){const r=this._fetchedAttributionData.get(e);return void(r?y$1(g$1,e,this._getDynamicAttribution(r,t,i)):m$3(i)&&y$1(g$1,e,i.copyright))}return void this._fetchAttributionData(e)}const r=i.get("portalItem.accessInformation");y$1(g$1,e,r||i.copyright);})),f(this.items,g$1)&&(this.items.removeAll(),this.items.addMany(g$1)),g$1.length=0,this.notifyChange("state")):this._clear();}async _fetchAttributionData(t){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);const i=await _$a(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){const e=i.ok?this._createContributionIndex(i.value,b$1(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,e);}this._updateAttributionItems();}_createContributionIndex(t,e){const i=t.contributors,r={};if(!i)return r;for(let o=0;o<i.length;o++){const t=i[o],s=t.coverageAreas;if(!s)return;for(const i of s){const s=i.bbox,n=i.zoomMin-(e&&i.zoomMin?1:0),a=i.zoomMax-(e&&i.zoomMax?1:0),c=new M$6({xmin:s[1],ymin:s[0],xmax:s[3],ymax:s[2],spatialReference:f$l.WGS84}),l={extent:d$v(c),attribution:t.attribution||"",score:null!=i.score?i.score:100,id:o};for(let t=n;t<=a;t++)r[t]??=[],r[t].push(l);}}return r.maxKey=Math.max.apply(null,Object.keys(r)),r}_getDynamicAttribution(t,e,i){const{extent:r,scale:o}=e;let s=i.tileInfo?.scaleToZoom(o)??0;if(s=Math.min(t.maxKey??0,Math.round(s)),!r||null==s||s<=-1)return "";const n=t[s],a=g$l(r.center.clone().normalize(),e.spatialReference),c=new Set;return n?n.filter((t=>{const e=t.id,i=!c.has(e)&&a&&t.extent&&t$u(t.extent,a);return i&&c.add(e),i})).sort(((t,e)=>e.score-t.score||t.objectId-e.objectId)).map((t=>t.attribution)).join(", "):""}};e$g([y$e({readOnly:!0,type:V$9})],_$1.prototype,"items",void 0),e$g([y$e({readOnly:!0})],_$1.prototype,"state",null),e$g([y$e()],_$1.prototype,"view",void 0),_$1=e$g([a$u("esri.widgets.Attribution.AttributionViewModel")],_$1);const A$1=_$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const l="esri-attribution",d$3={base:`${l} esri-widget`,poweredBy:`${l}__powered-by`,sources:`${l}__sources`,open:`${l}--open`,sourcesOpen:`${l}__sources--open`,link:`${l}__link`,widgetIcon:"esri-icon-description",interactive:"esri-interactive"};let a$4=class extends W$5{constructor(e,t){super(e,t),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver((e=>e.forEach((({target:e})=>this._checkSourceTextOverflow(e))))),this.iconClass=d$3.widgetIcon,this.icon=null,this.itemDelimiter=" | ",this.messages=null,this.viewModel=new A$1;}initialize(){this.addHandles(a$y((()=>this.viewModel?.items),"change",(()=>this.scheduleRender())));}destroy(){this._resizeObserver?.disconnect();}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce(((e,t)=>(e.includes(t.text)||e.push(t.text),e)),[]).join(this.itemDelimiter)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e);}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e;}render(){const e={[d$3.open]:this._isOpen};return n$n("div",{bind:this,class:this.classes(d$3.base,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this.renderSourcesNode(),this.renderPoweredBy())}renderPoweredBy(){return n$n("div",{class:d$3.poweredBy},"Powered by"," ",n$n("a",{class:d$3.link,href:"http://www.esri.com/",target:"_blank",rel:"noreferrer"},"Esri"))}renderSourcesNode(){const e=this._isOpen,t=this._isInteractive,i=t?"0":"",{attributionText:r}=this,s={[d$3.sourcesOpen]:e,[d$3.interactive]:t};return n$n("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(d$3.sources,s),innerHTML:r,tabindex:i})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._resizeObserver.observe(e);}_checkSourceTextOverflow(e){let t=!1;const{clientHeight:i,clientWidth:r,scrollWidth:s}=e,o=s>r,n=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,n&&(t=!0),this._isOpen){const e=i<this._prevSourceNodeHeight;this._prevSourceNodeHeight=i,e&&(this._isOpen=!1,t=!0);}t&&this.scheduleRender();}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen);}};e$g([y$e()],a$4.prototype,"_isOpen",void 0),e$g([y$e()],a$4.prototype,"_isInteractive",null),e$g([y$e()],a$4.prototype,"_attributionTextOverflowed",void 0),e$g([y$e()],a$4.prototype,"_prevSourceNodeHeight",void 0),e$g([y$e({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],a$4.prototype,"attributionText",null),e$g([y$e()],a$4.prototype,"iconClass",void 0),e$g([y$e()],a$4.prototype,"icon",void 0),e$g([y$e()],a$4.prototype,"itemDelimiter",void 0),e$g([y$e()],a$4.prototype,"label",null),e$g([y$e(),e$l("esri/widgets/Attribution/t9n/Attribution")],a$4.prototype,"messages",void 0),e$g([y$e()],a$4.prototype,"view",null),e$g([y$e({type:A$1})],a$4.prototype,"viewModel",void 0),e$g([t$w()],a$4.prototype,"_toggleState",null),a$4=e$g([a$u("esri.widgets.Attribution")],a$4);const h$2=a$4;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$2=t=>{let i=class extends t{constructor(...o){super(...o),this.goToOverride=null,this.view=null;}callGoTo(o){const{view:s}=this;return r$g(s),this.goToOverride?this.goToOverride(s,o):s.goTo(o.target,o.options)}};return e$g([y$e()],i.prototype,"goToOverride",void 0),e$g([y$e()],i.prototype,"view",void 0),i=e$g([a$u("esri.widgets.support.GoTo")],i),i};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const h$1="esri.widgets.CompassViewModel";let d$2=class extends(t$2(m$p)){constructor(t){super(t),this._handles=new t$p,this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this);}initialize(){this._handles.add(l$l((()=>this.view),this._updateRotationWatcher,h$j));}destroy(){o$t(this._handles),this.view=null;}get canShowNorth(){const t=this.get("view.spatialReference");return !(!t||!t.isWebMercator&&!t.isGeographic)}get state(){return this.get("view.ready")?this.canShowNorth?"compass":"rotation":"disabled"}reset(){if(!this.get("view.ready"))return;const t={};"2d"===this.view?.type?t.rotation=0:t.heading=0,this.callGoTo({target:t});}_updateForRotation(t){null!=t&&(this.orientation={z:t});}_updateForCamera(t){if(!t)return;const o=-t.heading;this.orientation={x:0,y:0,z:o};}_updateRotationWatcher(t){this._handles.removeAll(),t&&this._handles.add("2d"===t.type?l$l((()=>t?.rotation),this._updateForRotation,h$j):l$l((()=>t?.camera),this._updateForCamera,h$j));}};e$g([y$e({readOnly:!0})],d$2.prototype,"canShowNorth",null),e$g([y$e()],d$2.prototype,"orientation",void 0),e$g([y$e({readOnly:!0})],d$2.prototype,"state",null),e$g([y$e()],d$2.prototype,"view",void 0),d$2=e$g([a$u(h$1)],d$2);const c$4=d$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const i$1={base:"esri-compass esri-widget--button esri-widget",text:"esri-icon-font-fallback-text",icon:"esri-compass__icon",rotationIcon:"esri-icon-dial",northIcon:"esri-icon-compass",widgetIcon:"esri-icon-locate-circled",interactive:"esri-interactive",disabled:"esri-disabled"};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let n$1=class extends W$5{constructor(e,s){super(e,s),this.iconClass=i$1.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new c$4;}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e;}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e);}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e;}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:s}=this.viewModel,o="disabled"===s,t="compass"===("rotation"===s?"rotation":"compass"),r=o?-1:0,a={[i$1.disabled]:o,[i$1.interactive]:!o},p={[i$1.northIcon]:t,[i$1.rotationIcon]:!t},{messages:n}=this;return n$n("div",{bind:this,class:this.classes(i$1.base,a),onclick:this._reset,onkeydown:this._reset,role:"button",tabIndex:r,"aria-label":n.reset,title:n.reset},n$n("span",{"aria-hidden":"true",class:this.classes(i$1.icon,p),styles:this._toRotationTransform(e)}),n$n("span",{class:i$1.text},n.reset))}_reset(){this.viewModel.reset();}_toRotationTransform(e){return {transform:`rotateZ(${e.z}deg)`}}};e$g([y$e()],n$1.prototype,"goToOverride",null),e$g([y$e()],n$1.prototype,"iconClass",void 0),e$g([y$e()],n$1.prototype,"icon",void 0),e$g([y$e()],n$1.prototype,"label",null),e$g([y$e(),e$l("esri/widgets/Compass/t9n/Compass")],n$1.prototype,"messages",void 0),e$g([y$e()],n$1.prototype,"view",null),e$g([y$e({type:c$4})],n$1.prototype,"viewModel",void 0),e$g([t$w()],n$1.prototype,"_reset",null),n$1=e$g([a$u("esri.widgets.Compass")],n$1);const d$1=n$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const t$1="esri-navigation-toggle",o={base:`${t$1} esri-widget`,button:`${t$1}__button esri-widget--button`,activeButton:`${t$1}__button--active`,panButton:`${t$1}__button--pan`,rotateButton:`${t$1}__button--rotate`,isLayoutHorizontal:`${t$1}--horizontal`,rotationIcon:"esri-icon-rotate",panIcon:"esri-icon-pan",widgetIcon:"esri-icon-pan2",disabled:"esri-disabled"};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let r=class extends m$p{constructor(t){super(t),this.navigationMode="pan",this.view=null;}initialize(){this.own(f$k((()=>this.view?.inputManager),(()=>this._setNavigationMode())));}destroy(){this.view=null;}get state(){return this.get("view.ready")&&"3d"===this.view?.type?"ready":"disabled"}toggle(){"disabled"!==this.state&&(this.navigationMode="pan"!==this.navigationMode?"pan":"rotate",this._setNavigationMode());}_setNavigationMode(){this.get("view.inputManager").primaryDragAction="pan"===this.navigationMode?"pan":"rotate";}};e$g([y$e({readOnly:!0})],r.prototype,"state",null),e$g([y$e()],r.prototype,"navigationMode",void 0),e$g([y$e()],r.prototype,"view",void 0),r=e$g([a$u("esri.widgets.NavigationToggleViewModel")],r);const a$3=r;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let p$3=class extends W$5{constructor(t,o$1){super(t,o$1),this.iconClass=o.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new a$3;}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t);}set layout(t){"horizontal"!==t&&(t="vertical"),this._set("layout",t);}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t;}toggle(){return this.viewModel.toggle()}render(){const t="disabled"===this.get("viewModel.state"),o$1="pan"===this.get("viewModel.navigationMode"),e={[o.disabled]:t,[o.isLayoutHorizontal]:"horizontal"===this.layout},s={[o.activeButton]:o$1},r={[o.activeButton]:!o$1},a=t?-1:0,l=this.messages.toggle;return n$n("div",{bind:this,class:this.classes(o.base,e),onclick:this._toggle,onkeydown:this._toggle,tabIndex:a,"aria-label":l,title:l},n$n("div",{class:this.classes(o.button,o.panButton,s)},n$n("span",{class:o.panIcon})),n$n("div",{class:this.classes(o.button,o.rotateButton,r)},n$n("span",{class:o.rotationIcon})))}_toggle(){this.toggle();}};e$g([y$e()],p$3.prototype,"iconClass",void 0),e$g([y$e()],p$3.prototype,"icon",void 0),e$g([y$e()],p$3.prototype,"label",null),e$g([y$e({value:"vertical"})],p$3.prototype,"layout",null),e$g([y$e(),e$l("esri/widgets/NavigationToggle/t9n/NavigationToggle")],p$3.prototype,"messages",void 0),e$g([y$e()],p$3.prototype,"view",null),e$g([y$e({type:a$3})],p$3.prototype,"viewModel",void 0),e$g([t$w()],p$3.prototype,"_toggle",null),p$3=e$g([a$u("esri.widgets.NavigationToggle")],p$3);const g=p$3;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const c$3={button:"esri-widget--button esri-widget",disabled:"esri-disabled",interactive:"esri-interactive",iconText:"esri-icon-font-fallback-text",icon:"esri-icon"};let n=class extends W$5{constructor(){super(...arguments),this.enabled=!0,this.iconClass=null,this.icon=null,this.title="";}render(){const t=this.enabled?0:-1,s={[c$3.disabled]:!this.enabled,[c$3.interactive]:this.enabled};return n$n("div",{bind:this,class:this.classes(c$3.button,s),onclick:this._triggerAction,onkeydown:this._triggerAction,role:"button",tabIndex:t,title:this.title},n$n("span",{"aria-hidden":"true",role:"presentation",class:this.classes(c$3.icon,this.iconClass??"")}),n$n("span",{class:c$3.iconText},this.title))}_triggerAction(){this.action.call(this);}};e$g([y$e()],n.prototype,"action",void 0),e$g([y$e()],n.prototype,"enabled",void 0),e$g([y$e()],n.prototype,"iconClass",void 0),e$g([y$e()],n.prototype,"icon",void 0),e$g([y$e()],n.prototype,"title",void 0),e$g([t$w()],n.prototype,"_triggerAction",null),n=e$g([a$u("esri.widgets.IconButton")],n);const a$2=n;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let s=class extends m$p{get canZoomIn(){if(!this.get("view.ready"))return !1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMaxScale");return 0===t||e>t}get canZoomOut(){if(!this.get("view.ready"))return !1;const e=this.get("view.animation.target.scale")||this.get("view.scale"),t=this.get("view.constraints.effectiveMinScale");return 0===t||e<t}};e$g([y$e({readOnly:!0})],s.prototype,"canZoomIn",null),e$g([y$e({readOnly:!0})],s.prototype,"canZoomOut",null),e$g([y$e()],s.prototype,"view",void 0),s=e$g([a$u("esri.widgets.Zoom.ZoomConditions2D")],s);const i=s;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let t=class extends m$p{get canZoomIn(){return !!this.view.ready}get canZoomOut(){return !!this.view.ready}};e$g([y$e({readOnly:!0})],t.prototype,"canZoomIn",null),e$g([y$e({readOnly:!0})],t.prototype,"canZoomOut",null),e$g([y$e()],t.prototype,"view",void 0),t=e$g([a$u("esri.widgets.Zoom.ZoomConditions3D")],t);const c$2=t;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let m$2=class extends m$p{constructor(o){super(o);}destroy(){this.view=null;}get canZoomIn(){return null!=this._zoomConditions&&this._zoomConditions.canZoomIn}get canZoomOut(){return null!=this._zoomConditions&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(o){o?"2d"===o.type?this._zoomConditions=new i({view:o}):"3d"===o.type&&(this._zoomConditions=new c$2({view:o})):this._zoomConditions=null,this._set("view",o);}zoomIn(){if(!this.canZoomIn)return;const o=this.view;"2d"===o.type?o.mapViewNavigation.zoomIn():y$i(o.goTo({zoomFactor:2}));}zoomOut(){if(!this.canZoomOut)return;const o=this.view;"2d"===o.type?o.mapViewNavigation.zoomOut():y$i(o.goTo({zoomFactor:.5}));}};e$g([y$e()],m$2.prototype,"_zoomConditions",void 0),e$g([y$e()],m$2.prototype,"canZoomIn",null),e$g([y$e()],m$2.prototype,"canZoomOut",null),e$g([y$e({readOnly:!0})],m$2.prototype,"state",null),e$g([y$e()],m$2.prototype,"view",null),m$2=e$g([a$u("esri.widgets.Zoom.ZoomViewModel")],m$2);const p$2=m$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const u$1={base:"esri-zoom esri-widget",horizontalLayout:"esri-zoom--horizontal",zoomInIcon:"esri-icon-plus",zoomOutIcon:"esri-icon-minus",widgetIcon:"esri-icon-zoom-in-magnifying-glass"};let a$1=class extends W$5{constructor(o,t){super(o,t),this.iconClass=u$1.widgetIcon,this.icon=null,this.messages=null,this.viewModel=new p$2;}initialize(){this._zoomInButton=new a$2({action:this.zoomIn.bind(this),iconClass:u$1.zoomInIcon}),this._zoomOutButton=new a$2({action:this.zoomOut.bind(this),iconClass:u$1.zoomOutIcon});}destroy(){this._zoomInButton=l$m(this._zoomInButton),this._zoomOutButton=l$m(this._zoomOutButton);}get label(){return this.messages?.widgetLabel??""}set label(o){this._overrideIfSome("label",o);}set layout(o){"horizontal"!==o&&(o="vertical"),this._set("layout",o);}set view(o){this.viewModel.view=o;}get view(){return this.viewModel.view}render(){const o=this.viewModel,t={[u$1.horizontalLayout]:"horizontal"===this.layout},{canZoomIn:s,canZoomOut:e}=o;this._zoomInButton.enabled=s,this._zoomOutButton.enabled=e;const{zoomIn:i,zoomOut:r}=this.messages;return this._zoomInButton.title=i,this._zoomOutButton.title=r,n$n("div",{class:this.classes(u$1.base,t)},this._zoomInButton.render(),this._zoomOutButton.render())}zoomIn(){return this.viewModel.zoomIn()}zoomOut(){return this.viewModel.zoomOut()}};e$g([y$e()],a$1.prototype,"iconClass",void 0),e$g([y$e()],a$1.prototype,"icon",void 0),e$g([y$e()],a$1.prototype,"label",null),e$g([y$e({value:"vertical"})],a$1.prototype,"layout",null),e$g([y$e(),e$l("esri/widgets/Zoom/t9n/Zoom")],a$1.prototype,"messages",void 0),e$g([y$e()],a$1.prototype,"view",null),e$g([y$e({type:p$2})],a$1.prototype,"viewModel",void 0),a$1=e$g([a$u("esri.widgets.Zoom")],a$1);const c$1=a$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
function m$1(t){return void 0!==t?.view}let u=class extends L$1{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=t=>{this.components.forEach((o=>{const e=this._find(o),s=e?.widget;m$1(s)&&(s.view=t);}));},this._componentsWatcher=(t,o)=>{this._removeComponents(o),this._addComponents(t),this._adjustPadding(t);};}initialize(){this.addHandles([l$l((()=>this.components),this._componentsWatcher,h$j),l$l((()=>this.view),this._updateViewAwareWidgets,h$j)]);}_add(t,o,e,s,i){let r=t;if("string"==typeof t&&this._defaultPositionLookup[t]){if(this._find(t))return;r=this._createComponent(t);}super._add(r,o,e,s,i);}_removeComponents(t){t.forEach((t=>{const o=this._find(t);o&&(this.remove(o),o.destroy());}));}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){const{top:t}=this.padding;this.padding=t;}}_addComponents(t){this.constructed&&t.forEach((t=>this.add(this._createComponent(t),this._defaultPositionLookup[t])));}_createComponent(t){const o=this._createWidget(t);return new l$1({id:t,node:o})}_createWidget(t){const{view:o}=this;switch(t){case"attribution":return new h$2({view:o});case"compass":return new d$1({view:o});case"navigation-toggle":return new g({view:o});case"zoom":return new c$1({view:o})}}};e$g([y$e()],u.prototype,"components",void 0),u=e$g([a$u("esri.views.ui.DefaultUI")],u);const h=u;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let e=class extends h{constructor(o){super(o),this.components=["attribution","zoom"];}};e$g([y$e()],e.prototype,"components",void 0),e=e$g([a$u("esri.views.ui.2d.DefaultUI2D")],e);const p$1=e;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
var p;let a=p=class extends l$j{constructor(o){super(o),this.color=new h$e([0,0,0,1]);}clone(){return new p(a$t({color:this.color}))}};e$g([y$e({type:h$e,json:{write:!0}})],a.prototype,"color",void 0),a=p=e$g([a$u("esri.webmap.background.ColorBackground")],a);const m=a;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
let X$1,Z$1,ee$1,te$1,ie$1,re$1;async function se$1(){const[,{GraphicsView2D:e,GraphicContainer:t,LabelManager:i,MapViewNavigation:r,MagnifierView2D:s,Stage:a}]=await Promise.all([import('./webglDeps-0871d7e4.js'),import('./mapViewDeps-664d4a1d.js')]);Z$1=e,ee$1=t,te$1=i,ie$1=r,re$1=s,X$1=a;}const ae$1=160,ne$1={flipY:!0,premultipliedAlpha:!0};let oe$1=class extends(w$7(w$5(C$4(z$3)))){constructor(e){super(e),this._magnifierView=null,this._stage=null,this._resolveWhenReady=[],this.rootLayerViews=new n$v({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.fullOpacity=1,this.graphicsView=null,this.stateManager=new z$2({constraints:new f$4({view:this})}),this.labelManager=null,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.rendering=!1,this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this._stationaryTimer=null,this._gotoTask=null,this.frameTask=new a$f(this),this._pePromise=null,this.floors=new V$9,this.highlightOptions=new c$7,this.inputManager=new C$2({view:this}),this.map=null,this.spatialReferenceLocked=!1,this.timeline=new e$2,this.type="2d",this.ui=new p$1,this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([l$l((()=>this.viewpoint),(()=>{this._lastStationaryEventTimestamp=performance.now(),this._flipStationary(ae$1);}),U$8),this.on("resize",(e=>this.stateManager.resize(e.width,e.height))),l$l((()=>this.animationManager?.animation),(e=>{this.animation=e;}))]),c$x();}destroy(){this._set("preconditionsReady",!1),this.frameTask=l$m(this.frameTask),this._gotoTask=null,this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null);}get graphicsTileStore(){return new d$w(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,t=this.spatialReference;return {lods:e?.spatialReference?.equals(t)?e.lods:null,spatialReference:t}}get state(){return this.stateManager.state}get initialExtentRequired(){if(!this.stateManager)return !1;const{scale:e,constraints:t,center:i,viewpoint:r,extent:s}=this;let a=this.zoom;return !(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&(!s&&(t?.effectiveLODs||(a=-1),(!i||0===e&&-1===a)&&(!r||null==r.targetGeometry||"extent"!==r.targetGeometry.type&&!r.scale)))}get resourceManager(){return this._stage.resourceManager}get textureManager(){return this._stage.painter.textureManager}get _defaultsFromMapSettings(){return {required:{tileInfo:!0,heightModelInfo:!1,extent:!1},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get _projectionEngineLoaded(){return !!Y$3()||(this._pePromise||(this._pePromise=$$a().finally((()=>{this._pePromise=null;}))),!1)}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return !1;const t=this.spatialReference,i=e.targetGeometry;return !!Cn$1(i.spatialReference,t)||this._projectionEngineLoaded}set animation(e){const t=this._get("animation");if(e===t)return;if(t&&t.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e),this.frameTask.animationInProgress=!0;const i=()=>{e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame()),this.frameTask.animationInProgress=!1;};e.when(i,i);}get background(){return ce$1(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e);}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e;}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;const t=this.stateManager.constraints;this.stateManager.constraints=e,t?.destroy();}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e;}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e);}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e;}get resolution(){return this.stateManager.resolution??0}get rotation(){return this.stateManager.rotation??0}set rotation(e){this.stateManager.rotation=e;}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e);}get stationary(){return !(this.animation||this.navigating||this.resizing||this._stationaryTimer)}get updating(){const e=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||!0===this.layerViewManager.updating||!0===this.labelManager.updating||!0===this.graphicsView.updating||this.allLayerViews.some((e=>!e.destroyed&&!("layerViews"in e)&&!0===e.updating)));if(has("esri-2d-log-updating")){const t=this.allLayerViews.reduce(((e,t)=>({...e,[t.layer.id]:!t.destroyed&&!("layerViews"in t)&&t.updating})),{});console.log(`Updating MapView: ${e}\n-> Null LayerViewManager: ${!this.layerViewManager}\n-> Null LabelManager: ${!this.labelManager}\n-> Null GraphicsView: ${!this.graphicsView}\n-> layerViewManager.updating: ${this.layerViewManager?.updating}\n-> labelManager.updating: ${this.labelManager?.updating}\n-> graphicsView.updating: ${this.graphicsView?.updating}\n-> allLayerViews: ${JSON.stringify(t)}\n`);}return e}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame();}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e;}get navigating(){return !(!this.mapViewNavigation||!this.mapViewNavigation.interacting)}goTo(e,t){if(e)return this.animation&&(this.animation=null),this._createAnimation(),j$c((()=>this.ready),t).then((()=>{const i={animate:!0,...t},r=J$1(e,this);return this.animation?.update(r),this._gotoTask={},i.animate?this._gotoAnimated(r,i):this._gotoImmediate(r,i)}));s$n.getLogger(this).error("#goTo()","target cannot be null or undefined");}async hitTest(e,t){const i=o$c(e)?r$c(this,e):e;if(!this.ready||isNaN(i.x)||isNaN(i.y))return {screenPoint:i,results:[]};let s=new Set,a=!1,n=null,o=null;t?.include?ge$1(t.include,he$1(this,(e=>s.add(e)),(e=>{n||(n=new Set),n.add(e);}),(e=>s.add(e)),(()=>a=!0))):(a=!0,s=new Set(this.allLayerViews)),t?.exclude&&ge$1(t.exclude,he$1(this,(e=>s.delete(e)),(e=>{o||(o=new Set),o.add(e);})));const l=this.allLayerViews.filter((e=>!e.suspended&&s.has(e))).reverse(),p=this.toMap(i);let h=[...a?this.graphicsView.hitTest(p).map((e=>({type:"graphic",graphic:e,layer:null,mapPoint:p}))):[],...await Promise.all(l.map((e=>e.hitTest(p,i))).toArray())].filter(R$5).flat().filter(R$5);return n&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||n?.has(pe$1(e.graphic))))),o&&(h=h.filter((e=>!("graphic"in e)||!e.graphic||!o?.has(pe$1(e.graphic))))),{screenPoint:i,results:h}}async takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return a$5(i,{format:t.format,quality:t.quality,rotation:0,disableDecorations:!1},ne$1)}async _takeScreenshot(e){const t=this._createScreenshotPlan(e),i=await this._stage.takeScreenshot(t);return r$1(i,ne$1)}_createScreenshotPlan(e){e=e??{};const t=this.supersampleScreenshotsEnabled?Math.min(4,s$1(this.size,Math.min(4096,this._stage.context.parameters.maxTextureSize))):1;let i;e.layers?(i=[],e.layers.forEach((e=>{const t=this.allLayerViews.find((t=>t.layer.id===e.id));t&&"container"in t&&t.container&&i.push(t.container);}))):i=this._stage.children;const{format:r,quality:s}=c$6(e.format,e.quality);return t$3(e,t,this.size,this.padding,r,s,i,e.rotation)}get test(){return {takeScreenshot:e=>this._takeScreenshot(e)}}toMap(e){if(!this.ready)return null;const t=o$c(e)?r$c(this,e):e;return this.stateManager.toMap(t)}toScreen(e){return this.stateManager.toScreen(e)}on(e,t,i,r){const s=this.inputManager&&this.viewEvents.on(e,t,i,r);return s||super.on(e,t)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){if(this.graphicsView){this.graphicsView.graphicUpdateHandler(e);}}whenReady(){return new Promise((e=>{this.ready?e(this):this._resolveWhenReady.push(e);}))}forceDOMReadyCycle(){this.forceReadyCycle();}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map?.initialViewProperties?.spatialReference||this.defaultsFromMap?.spatialReference||null}hasLayerViewModule(e){return l$7.hasLayerViewModule(e)}importLayerView(e){return l$7.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(s$n.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(e){return this.hitTest(e).then((t=>({...t,mapPoint:this.toMap(e)})))}requestUpdate(){this.ready&&this.frameTask.requestUpdate();}validate(){let e=i$3(this.type);return has("safari")&&has("safari")<9&&(e=new s$m("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:has("safari")})),null!=e?(s$n.getLogger(this).warn("#validate()",e.message),Promise.reject(e)):se$1()}_createAnimation(){return this.animation&&!this.animation.done||(this.animation=new a$g),this.animation}_cancellableGoTo(e,t,i){const r=()=>e===this._gotoTask,s=i.then((()=>{r()&&(this.animation=null);})).catch((e=>{throw r()&&(t&&!t.done&&(t.stop(),this.frameTask.animationInProgress=!1),this.animation=null),e})),a=new Promise((e=>e(s)));return t.when().catch((()=>{r()&&a.cancel&&a.cancel();})),a}_gotoImmediate(e,t){const i=this._gotoTask,r=this.animation,s=e.then((e=>{if(s$q(t),i!==this._gotoTask)throw new s$m("view:goto-interrupted","Goto was interrupted");this.viewpoint=r.target=e,r.finish();}));return this._cancellableGoTo(i,r,s)}_flipStationary(e){return null!==this._stationaryTimer||(this._stationaryTimer=setTimeout((()=>{this._stationaryTimer=null;const e=performance.now()-this._lastStationaryEventTimestamp;e<ae$1&&(this._stationaryTimer=this._flipStationary(e));}),e)),this._stationaryTimer}_getDefaultViewpoint(){const{constraints:e,initialExtent:t,map:r,padding:s,size:a}=this;if(!e)return null;const n=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,o=this.stateManager.getUserStartupOptions(this.size),l=n?.viewpoint,p=l?.targetGeometry?.extent??t,h=p?.center,g=l?.rotation??0,c=l?.scale||p&&D$2(p,[a[0]-s.left-s.right,a[1]-s.top-s.bottom]),u=o.center??h,d=o.rotation??g,m=o.scale??c;return u&&m?new l$b({targetGeometry:u,scale:m,rotation:d}):null}_gotoAnimated(e,t){const i=this._gotoTask,r=this.animation;if(!r)return Promise.resolve();const s=e.then((e=>{if(s$q(t),i!==this._gotoTask)throw new s$m("view:goto-interrupted","Goto was interrupted");return r.update(e),this.animationManager.animate(r,this.viewpoint,t),r.when().then((()=>{}),(()=>{}))}));return this._cancellableGoTo(i,r,s)}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const t=new X$1(this.surface,{canvas:this.renderCanvas,supersampleScreenshots:this.supersampleScreenshotsEnabled,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this._stage=t,this._magnifierView=new re$1,this._magnifierView.magnifier=this.magnifier;const i=new te$1({view:this});this._set("labelManager",i);const r=new l$8({view:this});this._set("animationManager",r);const s=new ie$1({view:this,animationManager:r});this._set("mapViewNavigation",s),this._setupSpatialReferenceDependentProperties(),this.handles.add([this.rootLayerViews.on("change",(()=>this._updateStageChildren())),t.on("post-render",(()=>this._set("rendering",t.renderRequested))),t.on("will-render",(()=>this._set("rendering",t.renderRequested))),t.on("webgl-error",(e=>this.fatalError=e.error)),l$l((()=>this.stationary),(e=>t.stationary=e),w$f),l$l((()=>this.background),(e=>{t.backgroundColor=e?.color,this._magnifierView.backgroundColor=e?.color;}),w$f),l$l((()=>this.magnifier),(e=>this._magnifierView.magnifier=e),w$f),l$l((()=>this.renderingOptions),(e=>t.renderingOptions=e),w$f),l$l((()=>this.highlightOptions),(e=>t.highlightOptions=e),w$f),l$l((()=>this.state.id),(()=>t.state=this.state),w$f)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach((e=>e(this))),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0);}_teardown(){this._destroySpatialReferenceDependentProperties(),this.handles.remove("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._stage.destroy(),this._stage=null,this._set("graphicsView",null),this._magnifierView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this._stationaryTimer&&(clearTimeout(this._stationaryTimer),this._stationaryTimer=null),this._set("ready",!1),this.stateManager.teardown(),this.animation=null;}_updateStageChildren(){this._stage.removeAllChildren(),this.rootLayerViews.forEach((e=>{this._stage.addChild(e.container);}));const e=this.graphicsView;this._stage.addChild(e.container),this._stage.addChild(this._magnifierView);}_setupSpatialReferenceDependentProperties(){const e=new h$m(j$g.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const t=new Z$1({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new ee$1(e)});this._set("graphicsView",t);}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null);}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const e of this.allLayerViews)e.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this._stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const e of this.allLayerViews)e.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren();}}};oe$1.type="2d",e$g([y$e({readOnly:!0})],oe$1.prototype,"animationManager",void 0),e$g([y$e({constructOnly:!0})],oe$1.prototype,"deactivatedWebGLExtensions",void 0),e$g([y$e({constructOnly:!0})],oe$1.prototype,"debugWebGLExtensions",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"featuresTilingScheme",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"fullOpacity",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"graphicsTileStore",null),e$g([y$e()],oe$1.prototype,"graphicsView",void 0),e$g([y$e()],oe$1.prototype,"stateManager",void 0),e$g([y$e()],oe$1.prototype,"constraintsInfo",null),e$g([y$e({readOnly:!0})],oe$1.prototype,"state",null),e$g([y$e()],oe$1.prototype,"initialExtentRequired",null),e$g([y$e()],oe$1.prototype,"labelManager",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"resourceManager",null),e$g([y$e({readOnly:!0})],oe$1.prototype,"textureManager",null),e$g([y$e({readOnly:!0})],oe$1.prototype,"mapViewNavigation",void 0),e$g([y$e({constructOnly:!0})],oe$1.prototype,"renderCanvas",void 0),e$g([y$e()],oe$1.prototype,"renderingOptions",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"rendering",void 0),e$g([y$e({constructOnly:!0})],oe$1.prototype,"supersampleScreenshotsEnabled",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"supportsGround",void 0),e$g([y$e()],oe$1.prototype,"_stationaryTimer",void 0),e$g([y$e()],oe$1.prototype,"_defaultsFromMapSettings",null),e$g([y$e()],oe$1.prototype,"_pePromise",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"typeSpecificPreconditionsReady",null),e$g([y$e()],oe$1.prototype,"animation",null),e$g([y$e({type:m})],oe$1.prototype,"background",null),e$g([y$e()],oe$1.prototype,"center",null),e$g([y$e({type:f$4})],oe$1.prototype,"constraints",null),e$g([y$e()],oe$1.prototype,"extent",null),e$g([y$e()],oe$1.prototype,"floors",void 0),e$g([y$e({type:c$7})],oe$1.prototype,"highlightOptions",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"inputManager",void 0),e$g([y$e()],oe$1.prototype,"map",void 0),e$g([y$e()],oe$1.prototype,"padding",null),e$g([y$e()],oe$1.prototype,"resizeAlign",null),e$g([y$e({readOnly:!0})],oe$1.prototype,"resolution",null),e$g([y$e()],oe$1.prototype,"rotation",null),e$g([y$e()],oe$1.prototype,"scale",null),e$g([y$e({constructOnly:!0})],oe$1.prototype,"spatialReferenceLocked",void 0),e$g([y$e()],oe$1.prototype,"stationary",null),e$g([y$e({type:e$2,readOnly:!0})],oe$1.prototype,"timeline",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"type",void 0),e$g([y$e({readOnly:!0})],oe$1.prototype,"updating",null),e$g([y$e()],oe$1.prototype,"viewpoint",null),e$g([y$e()],oe$1.prototype,"zoom",null),e$g([y$e({readOnly:!0})],oe$1.prototype,"navigating",null),e$g([y$e(),s$s((e=>e instanceof h?e:v$e(p$1,e)))],oe$1.prototype,"ui",void 0),oe$1=e$g([a$u("esri.views.MapView")],oe$1);const le$1=oe$1;function pe$1(e){const t=e.getObjectId();return t?`${e.layer?.uid??e.sourceLayer?.uid??"MapView"}/${t}`:`"MapView/${e.uid}`}function he$1(e,i,r,s,a){return n=>{if(n instanceof h$i){if(n.layer===e)a?.();else {const t=e.allLayerViews.find((e=>e.layer===n.layer));t&&s?.(t);}r(pe$1(n));}else {const t=e.allLayerViews.find((e=>e.layer===n));t&&i(t);}}}function ge$1(e,t){if(e)if(t$x(e))for(const i of e)if(t$x(i))for(const e of i)t(e);else t(i);else t(e);}function ce$1(e){return "esri.WebMap"===e?.declaredClass}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.27/esri/copyright.txt for details.
*/
const d=[...te$2,"date","string"];async function c(i){if(!(i&&i.layer&&(i.field||i.valueExpression||i.sqlExpression)))throw new s$m("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new s$m("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&i$s(i,"summary-statistics");const{layer:c,...y}=i,w=i.forBinning?m$c:S$2,v=F$1(c,w,i.forBinning);if(!v)throw new s$m("summary-statistics:invalid-parameters","'layer' must be one of these types: "+d$d(w).join(", "));const x={layerAdapter:v,...y};x.normalizationType=g$9(x);const E=null!=x.signal?{signal:x.signal}:null;await v.load(E);const g=x.field,h=x.normalizationType,j=x.valueExpression||x.sqlExpression,q=g?v.getField(g):null,z=await l$f({field:x.field,normalizationField:x.normalizationField,valueExpression:x.valueExpression}),B=v$a(v,z,"summary-statistics:invalid-parameters");if(B)throw B;if(q){const i=x$6(v,q,"summary-statistics:invalid-parameters",d);if(i)throw i;if(ue$1(q)&&h)throw new s$m("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(j&&h)throw new s$m("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");const F=b$c(x.filter,"summary-statistics:invalid-parameters");if(F)throw F;return x}async function y(s){const{layerAdapter:i,...r}=await c(s);return i.summaryStatistics(r)}

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e));}catch(e){a(e);}}function s(e){try{l(n.throw(e));}catch(e){a(e);}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t);}))).then(o,s);}l((n=n.apply(e,t||[])).next());}))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t;}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);},b(e,t)};function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e;}b(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i);}var C=function(){return C=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},C.apply(this,arguments)};function S(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e));}catch(e){a(e);}}function s(e){try{l(n.throw(e));}catch(e){a(e);}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t);}))).then(o,s);}l((n=n.apply(e,t||[])).next());}))}function _(e,t){var i,n,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,n&&(r=2&a[0]?n.return:a[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,a[1])).done)return r;switch(n=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o);}catch(e){a=[6,e],n=0;}finally{i=r=0;}if(5&a[0])throw a[1];return {value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function P(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return {next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value);}catch(e){r={error:e};}finally{try{n&&!n.done&&(i=a.return)&&i.call(a);}finally{if(r)throw r.error}}return o}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}var T=function(){function e(e){this._value=e;}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value/100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"percent",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this._value+"%"},e}();function A(e){return new T(e)}function O(e){return Number(e)!==e}function k(e){return {}.toString.call(e)}function F(e){if("string"==typeof e)return e;if("number"==typeof e)return ""+e;throw new Error("Expected a string or number but got "+k(e))}function D(e){return !!e}function M(e){if(j(e)&&!W(e)){var t=Number(e);return O(t)&&N(e)&&""!=e?M(e.replace(/[^0-9.\-]+/g,"")):t}return e}function L(e){if(j(e)&&!N(e)){if(W(e))return F(e);if(z(e))return e.toString()}return e}function E(e){return !j(e)||W(e)||function(e){return e instanceof T}(e)?e:N(e)&&-1!=e.indexOf("%")?A(M(e)):M(e)}function j(e){return null!=e}function V(e){if(j(e))return e;throw new Error("Value doesn't exist")}function R(e,t){return j(e)?e:t}function B(e){return "[object Date]"===k(e)}function N(e){return "string"==typeof e}function W(e){return "number"==typeof e&&Number(e)==e}function z(e){return "object"==typeof e&&null!=e}function H(e){return Array.isArray(e)}var G=Math.PI,U=G/2,q=G/180,$=180/G;function Y(e,t,i){return j(e)?J(e=M(e),t,i):e}function K(e,t,i){if(!W(t)||t<=0){var n=Math.round(e);return i&&n-e==.5&&n--,n}var r=Math.pow(10,t);return Math.round(e*r)/r}function X(e,t){if(!W(t)||t<=0)return Math.ceil(e);var i=Math.pow(10,t);return Math.ceil(e*i)/i}function J(e,t,i){if(W(t)){if(W(i)&&i<t){var n=i;i=t,t=n;}e<t&&(e=t);}return W(i)&&e>i&&(e=i),e}function Z(e){return K(Math.sin(q*e),10)}function Q(e){return K(Math.tan(q*e),10)}function ee(e){return K(Math.cos(q*e),10)}function te(e,t){return W(e)?W(t)&&t>e?t:e:W(t)?t:null}function ie(e,t){return W(e)?W(t)&&t<e?t:e:W(t)?t:null}function ne(e,t){var i=V(e.start),n=V(t.start),r=V(e.end),a=V(t.end);return Math.max(i,n)<=Math.min(r,a)}function re(e){var t=V(e.start);return {start:1-V(e.end),end:1-t}}function ae(e,t){return e?(t||(t={x:0,y:0}),Math.sqrt(Math.pow(Math.abs(e.x-t.x),2)+Math.pow(Math.abs(e.y-t.y),2))):0}function oe(e,t,i,n,r){if(!e)return 0;t||(t={x:0,y:0});var a=0,o=e;if(r>0)for(var s=0;s<=r;s++){var l=pe(e,t,i,n,s/r);a+=ae(o,l),o=l;}return a}function se(e,t,i,n){var r=ae(t,n),a=ae(e,i);return Math.abs(a/r)}function le(e,t,i){return W(i)||(i=.5),{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}}function ue(e,t){t||(t={x:2*e.x,y:2*e.y});var i=t.x-e.x,n=t.y-e.y,r=Math.atan2(n,i)*$;return r<0&&(r+=360),ye(r)}function de(e){if(e){var t=e.length;if(0!==t){for(var i,n=void 0,r=void 0,a=void 0,o=0;o<t;o++){var s=e[o];(!W(r)||s.x>r)&&(r=s.x),(!W(n)||s.x<n)&&(n=s.x),(!W(i)||s.y<i)&&(i=s.y),(!W(a)||s.y>a)&&(a=s.y);}return {x:n,y:i,width:r-n,height:a-i}}}return {x:0,y:0,width:0,height:0}}function ce(e){var t=e.length;if(0!==t){for(var i=void 0,n=void 0,r=void 0,a=void 0,o=0;o<t;o++){var s=e[o];i=ie(s.x,i),n=ie(s.y,n),r=te(s.x+s.width,r),a=te(s.y+s.height,a);}return {x:i,y:n,width:r-i,height:a-n}}}function he(e,t,i,n){return {x:(1-n)*(1-n)*e.x+2*(1-n)*n*i.x+n*n*t.x,y:(1-n)*(1-n)*e.y+2*(1-n)*n*i.y+n*n*t.y}}function pe(e,t,i,n,r){var a={x:0,y:0},o=1-r,s=o*o,l=s*o;return a.x=e.x*l+3*i.x*s*r+3*n.x*o*r*r+t.x*r*r*r,a.y=e.y*l+3*i.y*s*r+3*n.y*o*r*r+t.y*r*r*r,a}function me(e,t,i,n,r,a){return r=ge(r),a=ge(a),{x:(-e.x+t.x/r+i.x)*r,y:(-e.y+t.y/a+i.y)*a}}function fe(e,t,i,n,r,a){return r=ge(r),a=ge(a),{x:(t.x+i.x/r-n.x)*r,y:(t.y+i.y/a-n.y)*a}}function ge(e){return 1-e+1e-5}function ye(e){return 360==e?360:e%360}function ve(e,t,i){if(t>i){var n=t;t=i,i=n;}e=ye(e);var r=(t-ye(t))/360;return e<t&&(e+=360*(r+1)),e>i&&(e-360>t?e-=360:e=e<t+(i-t)/2+180?i:t),e<t&&(e=e>t+(i-t)/2-180?t:i),e}function be(e,t,i){var n=Number.MAX_VALUE,r=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=-Number.MAX_VALUE,s=[];W(i)||(i=1),s.push(xe(i,e)),s.push(xe(i,t));for(var l=Math.min(90*Math.floor(e/90),90*Math.floor(t/90)),u=Math.max(90*Math.ceil(e/90),90*Math.ceil(t/90)),d=l;d<=u;d+=90)d>=e&&d<=t&&s.push(xe(i,d));for(var c=0;c<s.length;c++){var h=s[c];h.x<n&&(n=h.x),h.y<r&&(r=h.y),h.x>a&&(a=h.x),h.y>o&&(o=h.y);}return {x:n,y:r,width:a-n,height:o-r}}function xe(e,t){return {x:e*ee(t),y:e*Z(t)}}function Ce(e,t){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function Se(e,t){for(var i=e.length,n=0;n<i;++n)if(e[n]===t)return n;return -1}function _e(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n]))return !0;return !1}function Pe(e,t){for(var i=e.length,n=new Array(i),r=0;r<i;++r)n[r]=t(e[r],r);return n}function we(e,t){for(var i=e.length,n=0;n<i;++n)t(e[n],n);}function Ie(e,t){for(var i=e.length,n=0;n<i&&t(e[n],n);++n);}function Te(e,t){var i=!1,n=e.indexOf(t);if(-1!==n){i=!0,e.splice(n,1);for(var r=e.length;n<r;)e[n]===t?(e.splice(n,1),--r):++n;}return i}function Ae(e,t,i){var n=Se(e,t);-1!==n&&Me(e,n),null==i?e.push(t):De(e,i,t);}function Oe(e,t,i){W(i)?0===i?e.unshift(t):e.splice(i,0,t):e.push(t);}function ke(e){return Array.isArray(e)?e:[e]}function Fe(e){for(var t=e.length,i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function De(e,t,i){e.splice(t,0,i);}function Me(e,t){e.splice(t,1);}function Le(e,t,i){for(var n=0,r=e.length,a=!1;n<r;){var o=n+r>>1,s=t(i,e[o]);s<0?r=o:0===s?(a=!0,n=o+1):n=o+1;}return {found:a,index:a?n-1:n}}function Ee(e,t){for(var i=e.length,n=0;n<i;++n)if(t(e[n],n))return n;return -1}function je(e,t){for(var i=e.length,n=0;n<i;)t(e[n])?++n:(e.splice(n,1),--i);}var Ve=function(){function e(e){this._disposed=!1,this._dispose=e;}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._dispose());},e}(),Re=function(e){function t(t){return e.call(this,(function(){we(t,(function(e){e.dispose();}));}))||this}return x(t,e),t}(Ve),Be=function(e){function t(){var t=e.call(this,(function(){j(t._disposer)&&(t._disposer.dispose(),t._disposer=void 0);}))||this;return t}return x(t,e),t.prototype.get=function(){return this._value},t.prototype.set=function(e,t){j(this._disposer)&&this._disposer.dispose(),this._disposer=t,this._value=e;},t.prototype.reset=function(){this.set(void 0,void 0);},t}(Ve),Ne=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._counter=0,t}return x(t,e),t.prototype.increment=function(){var e=this;return ++this._counter,new Ve((function(){--e._counter,0===e._counter&&e.dispose();}))},t}(Ve),We=!1,ze=[],He=[],Ge=[],Ue=[],qe="function"==typeof requestAnimationFrame?function(e){requestAnimationFrame(e);}:function(e){setTimeout(e,16.666666666666668);};function $e(){for(var e=Date.now(),t=ze.length,i=0;i<t;++i)ze[i](e);!function(e,t){for(var i=e.length,n=t;n<i;++n)e[n-t]=e[n];e.length=i-t;}(ze,t);for(i=0;i<He.length;++i)He[i](e);He.length=0;for(i=0;i<Ge.length;++i)Ge[i](e);Ge.length=0,0===ze.length&&0===He.length?We=!1:qe($e);}function Ye(){We||(We=!0,qe($e));}function Ke(e){Ge.push(e),Ye();}var Xe=function(){function e(){this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1;}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{we(e,(function(e){e.disposer.dispose();}));}finally{this._killed=null,this._iterating=null;}}},e.prototype.hasListeners=function(){return 0!==this._listeners.length},e.prototype.hasListenersByType=function(e){return _e(this._listeners,(function(t){return (null===t.type||t.type===e)&&!t.killed}))},e.prototype.enable=function(){this._enabled=!0;},e.prototype.disable=function(){this._enabled=!1;},e.prototype.enableType=function(e){delete this._disabled[e];},e.prototype.disableType=function(e,t){void 0===t&&(t=1/0),this._disabled[e]=t;},e.prototype._removeListener=function(e){if(0===this._iterating){var t=this._listeners.indexOf(e);if(-1===t)throw new Error("Invalid state: could not remove listener");this._listeners.splice(t,1);}else this._killed.push(e);},e.prototype._removeExistingListener=function(e,t,i,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener((function(r){r.once!==e||r.type!==t||null!=i&&r.callback!==i||r.context!==n||r.disposer.dispose();}));},e.prototype.isEnabled=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&null==this._disabled[e]},e.prototype.has=function(e,t,i){return -1!==Ee(this._listeners,(function(n){return !0!==n.once&&n.type===e&&(null==t||n.callback===t)&&n.context===i}))},e.prototype._shouldDispatch=function(e){if(this._disposed)throw new Error("EventDispatcher is disposed");var t=this._disabled[e];return W(t)?(t<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled},e.prototype._eachListener=function(e){var t=this;++this._iterating;try{we(this._listeners,e);}finally{--this._iterating,0===this._iterating&&0!==this._killed.length&&(we(this._killed,(function(e){t._removeListener(e);})),this._killed.length=0);}},e.prototype.dispatchImmediately=function(e,t){this._shouldDispatch(e)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==e||i.dispatch(e,t);}));},e.prototype.dispatch=function(e,t){this._shouldDispatch(e)&&this._eachListener((function(i){i.killed||null!==i.type&&i.type!==e||function(e){Ue.push(e);}((function(){i.killed||i.dispatch(e,t);}));}));},e.prototype._on=function(e,t,i,n,r,a){var o=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,t,i,n);var s={type:t,callback:i,context:n,shouldClone:r,dispatch:a,killed:!1,once:e,disposer:new Ve((function(){s.killed=!0,o._removeListener(s);}))};return this._listeners.push(s),s},e.prototype.onAll=function(e,t,i){return void 0===i&&(i=!0),this._on(!1,null,e,t,i,(function(i,n){return e.call(t,i,n)})).disposer},e.prototype.on=function(e,t,i,n){return void 0===n&&(n=!0),this._on(!1,e,t,i,n,(function(e,n){return t.call(i,n)})).disposer},e.prototype.once=function(e,t,i,n){void 0===n&&(n=!0);var r=this._on(!0,e,t,i,n,(function(e,n){r.disposer.dispose(),t.call(i,n);}));return r.disposer},e.prototype.off=function(e,t,i){this._removeExistingListener(!1,e,t,i);},e.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");we(e._listeners,(function(e){!e.killed&&e.shouldClone&&(null===e.type?t.onAll(e.callback,e.context):e.once?t.once(e.type,e.callback,e.context):t.on(e.type,e.callback,e.context));}));},e}(),Je=function(e){function t(t){var i=e.call(this)||this;return i.target=t,i}return x(t,e),t.prototype.copyFrom=function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");we(e._listeners,(function(i){i.context!==e.target&&!i.killed&&i.shouldClone&&(null===i.type?t.onAll(i.callback,i.context):i.once?t.once(i.type,i.callback,i.context):t.on(i.type,i.callback,i.context));}));},t}(Xe);function Ze(e){var t=[];for(var i in e)Qe(e,i)&&t.push(i);return t}function Qe(e,t){return {}.hasOwnProperty.call(e,t)}function et(e,t){for(var i in e)if(Qe(e,i)&&!t(i,e[i]))break}function tt(e,t){et(e,(function(e,i){return t(e,i),!0}));}function it(e,t,i){we(function(e,t){return Ze(e).sort(t)}(e,i),(function(i){t(i,e[i]);}));}function nt(e,t){return Object.assign({},e,t)}function rt(e,t,i){we(i,(function(i){j(e[i])&&(t[i]=e[i]);}));}function at(e,t){rt(e,t,Ze(e));}function ot(e){return function(t){for(var i=e.length,n=0;n<i&&t(e[n]);++n);}}function st(e){var t=[];return e((function(e){return t.push(e),!0})),t}function lt(e,t){e(t);}function ut(e,t){e((function(e){return t(e),!0}));}function dt(e,t){return ot(st(e).sort(t))}function ct(e,t){return function(i){return e((function(e){return i(t(e))}))}}function ht(e){return function(t){var i=0;e((function(e){return t([i++,e])}));}}function pt(e,t){var i=!1;return e((function(e){return !t(e)||(i=!0,!1)})),i}var mt=function(){function e(e,t){this.createNewItems=!1,this.list=e,this._create=t,this.reset();}return e.prototype.reset=function(){this._listCopy=st(this.list.iterator());},e.prototype.clear=function(){this._listCopy.length=0;},e.prototype.getFirst=function(){return this.returnItem(0)},e.prototype.getLast=function(){return this.returnItem(this._listCopy.length-1)},e.prototype.find=function(e){var t=Ee(this._listCopy,e);if(-1!==t){var i=this._listCopy[t];return Te(this._listCopy,i),i}return this.getLast()},e.prototype.removeItem=function(e){return Te(this._listCopy,e)},e.prototype.returnItem=function(e){if(e>=0&&e<this._listCopy.length){var t=this._listCopy[e];return Te(this._listCopy,t),t}if(this.createNewItems)return this._create()},e.prototype.iterator=function(){return ot(this._listCopy)},e}();function ft(e,t){return e===t?0:e<t?-1:1}function gt(e,t){return new Array(t+1).join(e)}var yt=function(e){function t(t){var i,n=t.events.on("removed",(function(e){e.oldValue.dispose();}),void 0,!1);return i=e.call(this,(function(){n.dispose(),ut(t.iterator(),(function(e){e[1].dispose();}));}))||this,i}return x(t,e),t}(Ve),vt=function(){function e(){this.events=new Xe,this._dictionary={};}return e.prototype.hasKey=function(e){return Qe(this._dictionary,e)},e.prototype.getKey=function(e){return this._dictionary[e]},e.prototype.insertKey=function(e,t){if(Qe(this._dictionary,e))throw new Error("Key "+e+" already exists in dictionary");this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t});},e.prototype.setKey=function(e,t){if(Qe(this._dictionary,e)){var i=this._dictionary[e];i!==t&&(this._dictionary[e]=t,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}));}else this._dictionary[e]=t,this.events.isEnabled("insertKey")&&this.events.dispatchImmediately("insertKey",{type:"insertKey",target:this,key:e,newValue:t});},e.prototype.updateKey=function(e,t){if(!Qe(this._dictionary,e))throw new Error("Key "+e+" doesn't exist in dictionary");var i=this._dictionary[e],n=t(i);i!==n&&(this._dictionary[e]=n,this.events.isEnabled("setKey")&&this.events.dispatchImmediately("setKey",{type:"setKey",target:this,key:e,oldValue:i,newValue:n}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}));},e.prototype.removeKey=function(e){if(Qe(this._dictionary,e)){var t=this._dictionary[e];delete this._dictionary[e],this.events.isEnabled("removeKey")&&this.events.dispatchImmediately("removeKey",{type:"removeKey",target:this,key:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t});}},e.prototype.insertKeyIfEmpty=function(e,t){return this.hasKey(e)||this.insertKey(e,t()),this.getKey(e)},e.prototype.clear=function(){var e=this;this.events.isEnabled("removed")&&tt(this._dictionary,(function(t,i){e.events.dispatchImmediately("removed",{type:"removed",target:e,oldValue:i});})),this._dictionary={},this.events.isEnabled("cleared")&&this.events.dispatchImmediately("cleared",{type:"cleared",target:this});},e.prototype.copyFrom=function(e){var t=this;ut(e.iterator(),(function(e){t.setKey(e[0],e[1]);}));},e.prototype.iterator=function(){return e=this._dictionary,function(t){for(var i in e)if(Qe(e,i)&&!t([i,e[i]]))break};var e;},e.prototype[Symbol.iterator]=function(){var e,t,i,n;return _(this,(function(r){switch(r.label){case 0:for(t in e=[],this._dictionary)e.push(t);i=0,r.label=1;case 1:return i<e.length?(n=e[i],Qe(this._dictionary,n)?[4,[n,this._dictionary[n]]]:[3,3]):[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return [2]}}))},e.prototype.each=function(e){ut(this.iterator(),(function(t){var i=w(t,2),n=i[0],r=i[1];return e(n,r)}));},e.prototype.sortedIterator=function(){return dt(this.iterator(),(function(e,t){return ft(e[0],t[0])}))},e}(),bt=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return x(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;ut(e.iterator(),(function(e){t.setKey(e[0],e[1].clone());}));},t.prototype.create=function(e){var t=this;return this.insertKeyIfEmpty(e,(function(){return t.template.clone()}))},t}(vt),xt=new(function(){function e(){this._storage=new vt,this.ttl=1e3;}return e.prototype.set=function(e,t,i,n){var r=this._storage.insertKeyIfEmpty(e,(function(){return new vt})),a={touched:(new Date).getTime(),ttl:W(n)?n:this.ttl,value:i};r.setKey(t,a);},e.prototype.get=function(e,t,i){if(void 0===i&&(i=void 0),this._storage.hasKey(e)){var n=this._storage.getKey(e);if(n.hasKey(t)){var r=n.getKey(t);return r.ttl&&r.touched+r.ttl<(new Date).getTime()&&(r.expired=!0),r.expired?(n.removeKey(t),i):r.value}return i}return i},e.prototype.clear=function(e){e?this._storage.removeKey(e):this._storage.clear();},e}()),Ct=function(){function e(){var e=this;this.events=new Xe,this.themes=[],this.loadedThemes={},this._uidCount=0,this.registeredClasses={},this._placeholders={},this.invalidSprites={},this.invalidDatas={},this.invalidRawDatas=[],this.invalidDataItems=[],this.invalidDataRange=[],this.invalidPositions={},this.invalidLayouts={},this.baseSprites=[],this.baseSpritesByUid={},this.queue=[],this.deferred=[],this.uid=this.getUniqueId(),this.invalidSprites.noBase=[],this.invalidDatas.noBase=[],this.invalidLayouts.noBase=[],this.invalidPositions.noBase=[],"undefined"!=typeof addEventListener&&(addEventListener("beforeprint",(function(){we(e.baseSprites,(function(e){var t=e.paper.svg;t.setAttribute("viewBox","0 0 "+t.clientWidth+" "+t.clientHeight);}));})),addEventListener("afterprint",(function(){we(e.baseSprites,(function(e){e.paper.svg.removeAttribute("viewBox");}));})));}return e.prototype.getUniqueId=function(){var e=this._uidCount;return this._uidCount+=1,"id-"+e},Object.defineProperty(e.prototype,"map",{get:function(){return this._map||(this._map=new vt),this._map},enumerable:!0,configurable:!0}),e.prototype.setCache=function(e,t,i){xt.set(this.uid,e,t,i);},e.prototype.getCache=function(e,t){return void 0===t&&(t=void 0),xt.get(this.uid,e,t)},e.prototype.dispatch=function(e,t){this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}));},e.prototype.dispatchImmediately=function(e,t){this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatchImmediately(e,t)):this.events.dispatchImmediately(e,{type:e,target:this}));},e.prototype.getPlaceholder=function(e){return j(this._placeholders[e])||(this._placeholders[e]="__amcharts_"+e+"_"+function(e){for(var t="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=i.charAt(Math.floor(Math.random()*i.length));return t}(8)+"__"),this._placeholders[e]},e.prototype.addToInvalidComponents=function(e){e.baseId?Ae(this.invalidDatas[e.baseId],e):Ae(this.invalidDatas.noBase,e);},e.prototype.removeFromInvalidComponents=function(e){e.baseId&&Te(this.invalidDatas[e.baseId],e),Te(this.invalidDatas.noBase,e);},e.prototype.addToInvalidSprites=function(e){e.baseId?Oe(this.invalidSprites[e.baseId],e):Oe(this.invalidSprites.noBase,e);},e.prototype.removeFromInvalidSprites=function(e){e.baseId&&Te(this.invalidSprites[e.baseId],e),Te(this.invalidSprites.noBase,e);},e.prototype.addToInvalidPositions=function(e){e.baseId?Oe(this.invalidPositions[e.baseId],e):Oe(this.invalidPositions.noBase,e);},e.prototype.removeFromInvalidPositions=function(e){e.baseId&&Te(this.invalidPositions[e.baseId],e),Te(this.invalidPositions.noBase,e);},e.prototype.addToInvalidLayouts=function(e){e.baseId?Oe(this.invalidLayouts[e.baseId],e):Oe(this.invalidLayouts.noBase,e);},e.prototype.removeFromInvalidLayouts=function(e){e.baseId&&Te(this.invalidLayouts[e.baseId],e),Te(this.invalidLayouts.noBase,e);},e}(),St=new Ct;function _t(e,t){var i=St.registeredClasses[t];return null!=i&&e instanceof i}var Pt=function(){function e(e,t,i){this._array=e,this._start=t,this._end=i;}return e.prototype.iterator=function(){var e=this;return function(t){if(e._start!==e._end)if(e._start<e._end)for(var i=e._start;i<e._end&&t(e._array[i]);++i);else for(i=e._start-1;i>=e._end&&t(e._array[i]);--i);}},e.prototype.backwards=function(){return new e(this._array,this._end,this._start)},e.prototype.range=function(t,i){if(t<=i){if(this._start===this._end)return this;if(this._start<this._end){var n=i-t;return t=Math.max(this._start+t,this._start),i=Math.min(t+n,this._end),new e(this._array,t,i)}n=i-t;return t=Math.max(this._start-t,this._end),i=Math.max(t-n,this._end),new e(this._array,t,i)}throw new Error("Start index must be lower than end index")},e}();!function(e){function t(t,i,n){var r=e.call(this,[t.events.on("inserted",(function(e){var i=e.newValue,n=r._getKey(i),a=0;lt(t.iterator(),(function(e){return e!==i&&(r._getKey(e)===n&&++a,!0)})),r._insert(i,n,a);}),void 0,!1),t.events.on("removed",(function(e){r._remove(e.oldValue);}),void 0,!1)])||this;return r._keys=[],r._groups={},r._getKey=i,r._sort=n,ut(t.iterator(),(function(e){r._insert(e,i(e));})),r}x(t,e),t.prototype._insert=function(e,t,i){if(null==this._groups[t]){this._groups[t]=[];var n=Le(this._keys,this._sort,t),r=n.found,a=n.index;if(r)throw new Error("Key already exists: "+t);De(this._keys,a,t);}null==i?this._groups[t].push(e):De(this._groups[t],i,e);},t.prototype._remove=function(e){var t=this._getKey(e),i=this._groups[t];if(null!=i&&(Te(i,e),0===i.length)){delete this._groups[t];var n=Le(this._keys,this._sort,t),r=n.found,a=n.index;if(!r)throw new Error("Key doesn't exist: "+t);Me(this._keys,a);}},t.prototype.iterator=function(){var e,t=this;return e=ct(ot(this._keys),(function(e){return ot(t._groups[e])})),function(t){var i=!0,n=function(e){return i=t(e)};e((function(e){return e(n),i}));}};}(Re);var wt=function(e){function t(t,i){void 0===i&&(i=!0);var n=this;if(i){var r=t.events.on("removed",(function(e){e.oldValue.dispose();}),void 0,!1);n=e.call(this,(function(){r.dispose(),ut(t.iterator(),(function(e){e.dispose();}));}))||this;}else n=e.call(this,(function(){ut(t.iterator(),(function(e){e.dispose();}));}))||this;return n}return x(t,e),t}(Ve);function It(e,t){if(!(e>=0&&e<t))throw new Error("Index out of bounds: "+e)}var Tt=function(){function e(e){void 0===e&&(e=[]),this.events=new Xe,this._values=e;}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype.contains=function(e){return -1!==this._values.indexOf(e)},e.prototype.removeValue=function(e){for(var t=0,i=this._values.length;t<i;)this._values[t]===e?(this.removeIndex(t),--i):++t;},e.prototype.indexOf=function(e){return Se(this._values,e)},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.hasIndex=function(e){return e>=0&&e<this._values.length},e.prototype.getIndex=function(e){return this._values[e]},e.prototype.setIndex=function(e,t){It(e,this._values.length);var i=this._values[e];return i!==t&&(this._values[e]=t,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:i,newValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:i}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t})),i},e.prototype.insertIndex=function(e,t){It(e,this._values.length+1),De(this._values,e,t),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:e,newValue:t}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:t});},e.prototype._sortQuicksort=function(e,t,i){if(e<t){var n=this._sortPartition(e,t,i);this._sortQuicksort(e,n,i),this._sortQuicksort(n+1,t,i);}},e.prototype._sortPartition=function(e,t,i){for(var n=this._values,r=n[e],a=e-1,o=t+1;;){do{++a;}while(i(n[a],r)<0);do{--o;}while(i(n[o],r)>0);if(a>=o)return o;this.swap(a,o);}},e.prototype.sort=function(e){this._sortQuicksort(0,this._values.length-1,e);},e.prototype.swap=function(e,t){var i=this._values.length;if(It(e,i),It(t,i),e!==t){var n=this._values[e],r=this._values[t];this._values[e]=r,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:e,oldValue:n,newValue:r}),this._values[t]=n,this.events.isEnabled("setIndex")&&this.events.dispatchImmediately("setIndex",{type:"setIndex",target:this,index:t,oldValue:r,newValue:n});}},e.prototype.removeIndex=function(e){It(e,this._values.length);var t=this._values[e];return Me(this._values,e),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:t}),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,oldValue:t}),t},e.prototype.moveValue=function(e,t){var i=this.indexOf(e);if(-1!==i){var n=this._values[i];Me(this._values,i),this.events.isEnabled("removeIndex")&&this.events.dispatchImmediately("removeIndex",{type:"removeIndex",target:this,index:i,oldValue:n});}null==t?(t=this._values.length,this._values.push(e)):De(this._values,t,e),this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),-1===i&&this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e});},e.prototype.push=function(e){var t=this._values.push(e)-1;return this.events.isEnabled("insertIndex")&&this.events.dispatchImmediately("insertIndex",{type:"insertIndex",target:this,index:t,newValue:e}),this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,newValue:e}),e},e.prototype.unshift=function(e){this.insertIndex(0,e);},e.prototype.pushAll=function(e){var t=this;we(e,(function(e){t.push(e);}));},e.prototype.copyFrom=function(e){this.pushAll(e._values);},e.prototype.pop=function(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)},e.prototype.shift=function(){return this._values.length?this.removeIndex(0):void 0},e.prototype.setAll=function(e){var t=this,i=Fe(this._values);this._values.length=0,we(e,(function(e){t._values.push(e);})),this.events.isEnabled("setAll")&&this.events.dispatchImmediately("setAll",{type:"setAll",target:this,oldArray:i,newArray:this._values}),this.events.isEnabled("removed")&&we(i,(function(e){t.events.dispatchImmediately("removed",{type:"removed",target:t,oldValue:e});})),this.events.isEnabled("inserted")&&we(this._values,(function(e){t.events.dispatchImmediately("inserted",{type:"inserted",target:t,newValue:e});}));},e.prototype.clear=function(){this.setAll([]);},e.prototype.iterator=function(){return ot(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return _(this,(function(i){switch(i.label){case 0:e=this._values.length,t=0,i.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return ++t,[3,1];case 4:return [2]}}))},e.prototype.each=function(e){we(this._values,e);},e.prototype.range=function(e,t){if(e<=t){var i=t-e;return e=Math.max(e,0),t=Math.min(e+i,this._values.length),new Pt(this._values,e,t)}throw new Error("Start index must be lower than end index")},e.prototype.backwards=function(){return new Pt(this._values,this._values.length,0)},e}(),At=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return x(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;ut(e.iterator(),(function(e){t.push(e.clone());}));},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.push(t),t},t.prototype.clone=function(){for(var e=new t(this.template),i=this.values,n=i.length,r=0;r<n;++r)e.push(i[r].clone());return e},t}(Tt),Ot=function(){function e(e){this._values=[],this.events=new Xe,null!=e&&this.setAll(e);}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype._insert=function(e){return this._values.push(e),this._values.length-1},Object.defineProperty(e.prototype,"length",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return Se(this._values,e)},e.prototype.contains=function(e){return -1!==this.indexOf(e)},e.prototype.getIndex=function(e){return this._values[e]},Object.defineProperty(e.prototype,"first",{get:function(){return this._values[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._values[this._values.length-1]},enumerable:!0,configurable:!0}),e.prototype.insert=function(e){var t=this._insert(e);this.events.isEnabled("inserted")&&this.events.dispatchImmediately("inserted",{type:"inserted",target:this,index:t,newValue:e});},e.prototype.remove=function(e){var t=this.indexOf(e);if(-1!==t){var i=this._values[t];Me(this._values,t),this.events.isEnabled("removed")&&this.events.dispatchImmediately("removed",{type:"removed",target:this,index:t,oldValue:i});}},e.prototype.setAll=function(e){var t=this;!function(e,t){for(var i=e.length;i--;)t(e[i],i);}(this._values,(function(e,i){t._values.pop(),t.events.isEnabled("removed")&&t.events.dispatchImmediately("removed",{type:"removed",target:t,index:i,oldValue:e});})),we(e,(function(e){t.insert(e);}));},e.prototype.clear=function(){this.setAll([]);},e.prototype.slice=function(t,i){var n=new e;return n._values=this._values.slice(t,i),n},e.prototype.findClosestIndex=function(e,t,i){void 0===i&&(i="any");var n,r,a=-1,o=0;return lt(this.iterator(),(function(s){var l=t(s);if("any"===i){if(l===e)return a=o,!1;var u=Math.abs(e-l);(!j(r)||r>u)&&(a=o,n=l,r=u);}else "left"===i&&l<e?(!j(n)||n<l)&&(a=o,n=l):"right"===i&&l>=e&&(!j(n)||n>=l)&&(a=o,n=l);return ++o,!0})),-1===a&&("left"===i?a=0:"right"===i&&(a=this.length-1)),a},e.prototype.iterator=function(){return ot(this._values)},e.prototype[Symbol.iterator]=function(){var e,t;return _(this,(function(i){switch(i.label){case 0:e=this._values.length,t=0,i.label=1;case 1:return t<e?[4,this._values[t]]:[3,4];case 2:i.sent(),i.label=3;case 3:return ++t,[3,1];case 4:return [2]}}))},e.prototype.each=function(e){we(this._values,e);},e}(),kt=function(e){function t(t){var i=e.call(this)||this;return i._ordering=t,i}return x(t,e),t.prototype._insert=function(e){var t=Le(this._values,this._ordering,e).index;return De(this._values,t,e),t},t.prototype.indexOf=function(e){var t=Le(this._values,this._ordering,e),i=t.found,n=t.index;return i?n:-1},t.prototype.update=function(e){var t=Se(this._values,e);if(-1!==t){var i=this._values.length-1;(0===t||this._ordering(this._values[t-1],e)<0)&&(t===i||this._ordering(e,this._values[t+1])<0)||(Me(this._values,t),this._insert(e));}},t}(Ot),Ft=function(e){function t(t){var i=e.call(this)||this;return i.template=t,i}return x(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;ut(e.iterator(),(function(e){t.insert(e.clone());}));},t.prototype.slice=function(e,i){var n=new t(this.template);return n._values=this._values.slice(e,i),n},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(Ot),Dt=function(e){function t(t,i){var n=e.call(this,i)||this;return n.template=t,n}return x(t,e),Object.defineProperty(t.prototype,"template",{get:function(){return this._template},set:function(e){e.isTemplate=!0,this._template=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(e){var t=this;ut(e.iterator(),(function(e){t.insert(e.clone());}));},t.prototype.create=function(e){var t=null!=e?new e:this.template.clone();return this.insert(t),t},t}(kt);function Mt(e,t){return e===t?0:e<t?-1:1}function Lt(e){switch(e){case 0:return 0;case-1:return 1;case 1:return -1}}function Et(e,t){return 0===e?t:e}var jt=function(){function e(){this._callbackId=0,this._callbacks=new kt((function(e,t){return Et(Mt(e.priority,t.priority),Mt(e.id,t.id))}));}return e.prototype.addAll=function(e,t,i,n,r){void 0===n&&(n=0),this._callbacks.insert({id:++this._callbackId,key:t,callback:i,priority:n,scope:r,type:e});},e.prototype.isEnabled=function(e,t){return _e(this._callbacks.values,(function(i){return i.key===t&&e instanceof i.type}))},e.prototype.applyAll=function(e,t,i){var n=this._callbacks.values,r=n.length;if(0==r)return i;for(var a=0;a<r;++a){var o=n[a];o.key===t&&e instanceof o.type&&(i=o.callback.call(o.scope,i,e,t));}return i},e}(),Vt=new jt,Rt=function(){function e(e){this._callbackId=0,this._callbacks=new kt((function(e,t){return Et(Mt(e.priority,t.priority),Mt(e.id,t.id))})),this._disabled={},this.object=e,this.events=this._callbacks.events;}return e.prototype.add=function(e,t,i,n){void 0===i&&(i=0),this._callbacks.insert({id:++this._callbackId,key:e,callback:t,priority:i,scope:n});},e.prototype.has=function(e,t,i,n){return void 0===i&&(i=0),pt(this._callbacks.iterator(),(function(r){return r.key===e&&r.callback===t&&r.priority===i&&r.scope===n}))},e.prototype.remove=function(e,t){var i=this;we(st(this._callbacks.iterator()),(function(n){n.key!==e||W(t)&&t!==n.priority||i._callbacks.remove(n);}));},e.prototype.enableKey=function(e){delete this._disabled[e];},e.prototype.disableKey=function(e,t){void 0===t&&(t=1/0),this._disabled[e]=t;},e.prototype._hasListenersByType=function(e){return _e(this._callbacks.values,(function(t){return t.key===e}))},e.prototype.isEnabled=function(e){return null==this._disabled[e]&&(this._hasListenersByType(e)||Vt.isEnabled(this.object,e))},e.prototype._shouldDispatch=function(e){var t=this._disabled[e];return !W(t)||(t<=1?delete this._disabled[e]:--this._disabled[e],!1)},e.prototype.apply=function(e,t){if(this._shouldDispatch(e)){var i=this._callbacks.values,n=i.length;if(n>0)for(var r=0;r<n;++r){var a=i[r];a.key===e&&(t=a.callback.call(a.scope,t,this.object,e));}return t=Vt.applyAll(this.object,e,t)}return t},e.prototype.keys=function(){return st(ct(this._callbacks.iterator(),(function(e){return e.key})))},e.prototype.copyFrom=function(e){var t=this;ut(e._callbacks.iterator(),(function(e){t.add(e.key,e.callback,e.priority,e.scope);})),tt(e._disabled,(function(e,i){t._disabled[e]=i;}));},e.prototype.clear=function(){this._callbacks.clear();},e}(),Bt={aliceblue:{r:240,g:248,b:255},antiquewhite:{r:250,g:235,b:215},aqua:{r:0,g:255,b:255},aquamarine:{r:127,g:255,b:212},azure:{r:240,g:255,b:255},beige:{r:245,g:245,b:220},bisque:{r:255,g:228,b:196},black:{r:0,g:0,b:0},blanchedalmond:{r:255,g:235,b:205},blue:{r:0,g:0,b:255},blueviolet:{r:138,g:43,b:226},brown:{r:165,g:42,b:42},burlywood:{r:222,g:184,b:135},cadetblue:{r:95,g:158,b:160},chartreuse:{r:127,g:255,b:0},chocolate:{r:210,g:105,b:30},coral:{r:255,g:127,b:80},cornflowerblue:{r:100,g:149,b:237},cornsilk:{r:255,g:248,b:220},crimson:{r:220,g:20,b:60},cyan:{r:0,g:255,b:255},darkblue:{r:0,g:0,b:139},darkcyan:{r:0,g:139,b:139},darkgoldenrod:{r:184,g:134,b:11},darkgray:{r:169,g:169,b:169},darkgrey:{r:169,g:169,b:169},darkgreen:{r:0,g:100,b:0},darkkhaki:{r:189,g:183,b:107},darkmagenta:{r:139,g:0,b:139},darkolivegreen:{r:85,g:107,b:47},darkorange:{r:255,g:140,b:0},darkorchid:{r:153,g:50,b:204},darkred:{r:139,g:0,b:0},darksalmon:{r:233,g:150,b:122},darkseagreen:{r:143,g:188,b:143},darkslateblue:{r:72,g:61,b:139},darkslategray:{r:47,g:79,b:79},darkslategrey:{r:47,g:79,b:79},darkturquoise:{r:0,g:206,b:209},darkviolet:{r:148,g:0,b:211},deeppink:{r:255,g:20,b:147},deepskyblue:{r:0,g:191,b:255},dimgray:{r:105,g:105,b:105},dimgrey:{r:105,g:105,b:105},dodgerblue:{r:30,g:144,b:255},firebrick:{r:178,g:34,b:34},floralwhite:{r:255,g:250,b:240},forestgreen:{r:34,g:139,b:34},fuchsia:{r:255,g:0,b:255},gainsboro:{r:220,g:220,b:220},ghostwhite:{r:248,g:248,b:255},gold:{r:255,g:215,b:0},goldenrod:{r:218,g:165,b:32},gray:{r:128,g:128,b:128},grey:{r:128,g:128,b:128},green:{r:0,g:128,b:0},greenyellow:{r:173,g:255,b:47},honeydew:{r:240,g:255,b:240},hotpink:{r:255,g:105,b:180},indianred:{r:205,g:92,b:92},indigo:{r:75,g:0,b:130},ivory:{r:255,g:255,b:240},khaki:{r:240,g:230,b:140},lavender:{r:230,g:230,b:250},lavenderblush:{r:255,g:240,b:245},lawngreen:{r:124,g:252,b:0},lemonchiffon:{r:255,g:250,b:205},lightblue:{r:173,g:216,b:230},lightcoral:{r:240,g:128,b:128},lightcyan:{r:224,g:255,b:255},lightgoldenrodyellow:{r:250,g:250,b:210},lightgray:{r:211,g:211,b:211},lightgrey:{r:211,g:211,b:211},lightgreen:{r:144,g:238,b:144},lightpink:{r:255,g:182,b:193},lightsalmon:{r:255,g:160,b:122},lightseagreen:{r:32,g:178,b:170},lightskyblue:{r:135,g:206,b:250},lightslategray:{r:119,g:136,b:153},lightslategrey:{r:119,g:136,b:153},lightsteelblue:{r:176,g:196,b:222},lightyellow:{r:255,g:255,b:224},lime:{r:0,g:255,b:0},limegreen:{r:50,g:205,b:50},linen:{r:250,g:240,b:230},magenta:{r:255,g:0,b:255},maroon:{r:128,g:0,b:0},mediumaquamarine:{r:102,g:205,b:170},mediumblue:{r:0,g:0,b:205},mediumorchid:{r:186,g:85,b:211},mediumpurple:{r:147,g:112,b:219},mediumseagreen:{r:60,g:179,b:113},mediumslateblue:{r:123,g:104,b:238},mediumspringgreen:{r:0,g:250,b:154},mediumturquoise:{r:72,g:209,b:204},mediumvioletred:{r:199,g:21,b:133},midnightblue:{r:25,g:25,b:112},mintcream:{r:245,g:255,b:250},mistyrose:{r:255,g:228,b:225},moccasin:{r:255,g:228,b:181},navajowhite:{r:255,g:222,b:173},navy:{r:0,g:0,b:128},oldlace:{r:253,g:245,b:230},olive:{r:128,g:128,b:0},olivedrab:{r:107,g:142,b:35},orange:{r:255,g:165,b:0},orangered:{r:255,g:69,b:0},orchid:{r:218,g:112,b:214},palegoldenrod:{r:238,g:232,b:170},palegreen:{r:152,g:251,b:152},paleturquoise:{r:175,g:238,b:238},palevioletred:{r:219,g:112,b:147},papayawhip:{r:255,g:239,b:213},peachpuff:{r:255,g:218,b:185},peru:{r:205,g:133,b:63},pink:{r:255,g:192,b:203},plum:{r:221,g:160,b:221},powderblue:{r:176,g:224,b:230},purple:{r:128,g:0,b:128},rebeccapurple:{r:102,g:51,b:153},red:{r:255,g:0,b:0},rosybrown:{r:188,g:143,b:143},royalblue:{r:65,g:105,b:225},saddlebrown:{r:139,g:69,b:19},salmon:{r:250,g:128,b:114},sandybrown:{r:244,g:164,b:96},seagreen:{r:46,g:139,b:87},seashell:{r:255,g:245,b:238},sienna:{r:160,g:82,b:45},silver:{r:192,g:192,b:192},skyblue:{r:135,g:206,b:235},slateblue:{r:106,g:90,b:205},slategray:{r:112,g:128,b:144},slategrey:{r:112,g:128,b:144},snow:{r:255,g:250,b:250},springgreen:{r:0,g:255,b:127},steelblue:{r:70,g:130,b:180},tan:{r:210,g:180,b:140},teal:{r:0,g:128,b:128},thistle:{r:216,g:191,b:216},tomato:{r:255,g:99,b:71},turquoise:{r:64,g:224,b:208},violet:{r:238,g:130,b:238},wheat:{r:245,g:222,b:179},white:{r:255,g:255,b:255},whitesmoke:{r:245,g:245,b:245},yellow:{r:255,g:255,b:0},yellowgreen:{r:154,g:205,b:50}};function Nt(e,t){var i;return Bt[e]?i=Bt[e]:"#"===e.charAt(0)?i=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,i,n){return t+t+i+i+n+n}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,i,n,r){return t+t+i+i+n+n+r+r}));var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16),a:parseInt(i[4],16)/256}:void 0}(e)}(e):e.match(/^rgba?\(/)&&(i=function(e){var t=(e=e.replace(/[ ]/g,"")).match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(t)t.push("1");else if(!(t=e.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i)))return;return {r:parseInt(t[1]),g:parseInt(t[2]),b:parseInt(t[3]),a:parseFloat(t[4])}}(e)),i||(i={r:0,g:0,b:0,a:1}),j(t)&&(i.a=t),i}function Wt(e){return 1==e.length?"0"+e:""+e}function zt(e,t,i){return i=J(i,0,1),e?t?{r:e.r+Math.round((t.r-e.r)*i),g:e.g+Math.round((t.g-e.g)*i),b:e.b+Math.round((t.b-e.b)*i),a:(e.a||1)+Math.round(((t.a||1)-(e.a||1))*i)}:e:t||e}function Ht(e,t){var i=t>0?255-e:e;return Math.round(i*t)}function Gt(e){var t,i,n,r=e.h,a=e.s,o=e.l;if(0==a)t=i=n=o;else {var s=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},l=o<.5?o*(1+a):o+a-o*a,u=2*o-l;t=s(u,l,r+1/3),i=s(u,l,r),n=s(u,l,r-1/3);}return {r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}function Ut(e){var t=e.r/255,i=e.g/255,n=e.b/255,r=Math.max(t,i,n),a=Math.min(t,i,n),o=0,s=0,l=(r+a)/2;if(r===a)o=s=0;else {var u=r-a;switch(s=l>.5?u/(2-r-a):u/(r+a),r){case t:o=(i-n)/u+(i<n?6:0);break;case i:o=(n-t)/u+2;break;case n:o=(t-i)/u+4;}o/=6;}return {h:o,s:s,l:l}}function qt(e){return (299*e.r+587*e.g+114*e.b)/1e3>=128}var $t=function(){function e(e){this._value=e;}return Object.defineProperty(e.prototype,"rgb",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hex",{get:function(){return this._value?function(e){return "#"+Wt(e.r.toString(16))+Wt(e.g.toString(16))+Wt(e.b.toString(16))}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rgba",{get:function(){return this._value?function(e){return j(e.a)&&1!==e.a?"rgba("+e.r+","+e.g+","+e.b+","+e.a+")":"rgb("+e.r+","+e.g+","+e.b+")"}(this._value):"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return null!=this._value&&null!=this._value.a?this._value.a:1},set:function(e){this._value&&(this._value.a=e);},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lightColor",{get:function(){return this._lightColor||(this._lightColor=new e({r:255,g:255,b:255})),this._lightColor},set:function(e){this._lightColor=e;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"darkColor",{get:function(){return this._darkColor||(this._darkColor=new e({r:0,g:0,b:0})),this._darkColor},set:function(e){this._darkColor=e;},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.alpha<1?this.rgba:this.hex},e.prototype.lighten=function(t){return new e(function(e,t){return e?{r:Math.max(0,Math.min(255,e.r+Ht(e.r,t))),g:Math.max(0,Math.min(255,e.g+Ht(e.g,t))),b:Math.max(0,Math.min(255,e.b+Ht(e.b,t))),a:e.a}:e}(this.rgb,t))},e.prototype.brighten=function(t){return new e(function(e,t){if(e){var i=Ht(Math.min(Math.max(e.r,e.g,e.b),230),t);return {r:Math.max(0,Math.min(255,Math.round(e.r+i))),g:Math.max(0,Math.min(255,Math.round(e.g+i))),b:Math.max(0,Math.min(255,Math.round(e.b+i))),a:e.a}}return e}(this.rgb,t))},e.prototype.saturate=function(t){return new e(function(e,t){if(null==e||1==t)return e;var i=Ut(e);return i.s=t,Gt(i)}(this.rgb,t))},Object.defineProperty(e.prototype,"alternative",{get:function(){if(null!=this.rgb)return qt(this.rgb)?this.darkColor:this.lightColor;throw new Error("Color does not exist")},enumerable:!0,configurable:!0}),e}();function Yt(e,t){if(!j(e))return new $t(void 0);if("string"==typeof e){var i="_color_"+e+"_"+(t||"1"),n=St.getCache(i);if(n)return new $t({r:n.r,g:n.g,b:n.b,a:n.a});var r=Nt(e,t);return St.setCache(i,r),new $t(r)}return e instanceof $t?(j(t)&&(e.alpha=t),e):new $t(e)}function Kt(e){return j(e)&&!function(e){return e instanceof $t}(e)?function(e){return Yt(e)}(e):e}var Xt=function(){function e(){this._disposed=!1,this._disposers=[],this.className="BaseObject";}return e.prototype.debug=function(){},Object.defineProperty(e.prototype,"uid",{get:function(){return this._uid||(this._uid=St.getUniqueId(),St.map.setKey(this._uid,this)),this._uid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){return this._map||(this._map=new vt),this._map},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delayedMap",{get:function(){return this._delayedMap||(this._delayedMap=new vt),this._delayedMap},enumerable:!0,configurable:!0}),e.prototype.addDelayedMap=function(e,t){var i=this.delayedMap;i.hasKey(t)||i.setKey(t,[]),i.getKey(t).push({property:e,target:this});},e.prototype.processDelayedMap=function(){var e=this;this.delayedMap.each((function(t,i){if(e.map.hasKey(t)){var n=e.map.getKey(t);we(i,(function(e){e.target[e.property]=n;})),e.delayedMap.removeKey(t);}}));},e.prototype.applyTheme=function(){var e=this;if(St){var t=this.getCurrentThemes();t&&we(t,(function(t,i){t(e);}));}},Object.defineProperty(e.prototype,"themes",{get:function(){return this._themes},set:function(e){this._themes=e;},enumerable:!0,configurable:!0}),e.prototype.getCurrentThemes=function(){return this.themes||St.themes},e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._disposers;for(this._disposers=null;0!==e.length;){e.shift().dispose();}this.clearCache(),this.clonedFrom&&this.clonedFrom.clones.removeValue(this);var t=this._uid;null!=t&&St.map.removeKey(t);}},e.prototype.addDisposer=function(e){this._disposers.push(e);},e.prototype.removeDispose=function(e){if(!this._disposed){var t=Se(this._disposers,e);t>-1&&this._disposers.splice(t,1);}e.dispose();},e.prototype.clone=function(e){e||(e="clone-"+St.getUniqueId());var t=new this.constructor;return t.cloneId=e,t.copyFrom(this),t},Object.defineProperty(e.prototype,"clones",{get:function(){return this._clones||(this._clones=new Tt),this._clones},enumerable:!0,configurable:!0}),e.prototype.copyFrom=function(e){e.clones.push(this),this.clonedFrom=e;},Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e;},enumerable:!0,configurable:!0}),e.prototype.setCache=function(e,t,i){xt.set(this.uid,e,t,i);},e.prototype.getCache=function(e,t){return void 0===t&&(t=void 0),xt.get(this.uid,e,t)},e.prototype.clearCache=function(){xt.clear(this.uid);},e.prototype.setTimeout=function(e,t){var i=this,n=setTimeout((function(){i.removeDispose(r),e();}),t),r=new Ve((function(){clearTimeout(n);}));return this._disposers.push(r),r},e.prototype.setInterval=function(e,t){var i=this,n=setInterval((function(){i.removeDispose(r),e();}),t),r=new Ve((function(){clearTimeout(n);}));return this._disposers.push(r),r},Object.defineProperty(e.prototype,"config",{set:function(e){try{this.processConfig(e);}catch(e){this.raiseCriticalError(e);}},enumerable:!0,configurable:!0}),e.prototype.processConfig=function(t){var i=this;if(t){var n=this;if(it(t,(function(t,r){var a,o=r;if("callback"==t&&"function"==typeof r&&r.call(n),i.hasProperty(t))if(!z(o)||!j(o.type)||z(n[t])&&j(n[t].className)&&!o.forceCreate&&n[t].className==o.type||i.asIs(t)?a=n[t]:(a=i.createClassInstance(o.type))?n[t]=a:a=n[t],a instanceof Rt)i.processAdapters(a,o);else if(a instanceof Xe)i.processEvents(a,o);else if("locale"==t&&N(o))window["am4lang_"+o]&&(n[t]=window["am4lang_"+o]);else if("parent"==t&&N(o)){var s=i.map.getKey(o);s?n[t]=s:i.addDelayedMap("parent",o);}else if(i.asIs(t))n[t]=o;else if(i.asFunction(t)&&N(o)){if(!j(St.registeredClasses[o]))throw Error("Invalid easing function: "+o);n[t]=St.registeredClasses[o];}else if(o instanceof e)n[t]=o;else if(a instanceof e)a.config=o;else if(a instanceof At||a instanceof Ft||a instanceof Dt){if(H(o))a instanceof At?i.processListTemplate(o,a):i.processOrderedTemplate(o,a);else if(z(o))if(o instanceof e)a.template=o;else {var l=void 0;l=j(o.template)?o.template:o,a.template instanceof e?a.template.config=l:tt(l,(function(t,n){var r=a.template[t];r instanceof Rt?i.processAdapters(r,n):r instanceof Xe?i.processEvents(r,n):r instanceof bt?i.processDictionaryTemplate(r,n):a.template[t]instanceof e?a.template[t].config=n:z(n)&&j(n.type)?(r=i.createClassInstance(n.type))?(r instanceof e&&(r.config=n),a.template[t]=r):a.template[t]=n:r instanceof Tt?i.processList(n,r):a.template[t]=i.maybeColorOrPercent(n);})),j(o.values)&&(a instanceof At?i.processListTemplate(o.values,a):i.processOrderedTemplate(o.values,a));}}else a instanceof Tt?"children"==t?i.processList(o,a,i):i.processList(o,a):a instanceof bt?i.processDictionaryTemplate(a,o):a instanceof vt?i.processDictionary(a,o):a instanceof $t||a instanceof T?n[t]=i.maybeColorOrPercent(o):z(a)&&z(o)?at(o,a):(o=i.maybeColorOrPercent(o),n[t]=o);else i.isReserved(t)||(n[t]=o);}),this.configOrder),this.processingErrors.length){var r=this.processingErrors.join("\n");throw this._processingErrors=[],Error(r)}}},e.prototype.maybeColorOrPercent=function(e){if(N(e)){if(e.match(/^[\-]?[0-9.]+\%$/))return A(M(e));if(e.match(/^\#[0-9abcdef]{3,}$/i))return Yt(e)}return e},e.prototype.processAdapters=function(e,t){var i=this;H(t)?we(t,(function(t,n){e.add(t.key,t.callback,t.priority||0,i);})):z(t)&&tt(t,(function(t,i){e.has(t,i)||e.add(t,i);}));},e.prototype.processEvents=function(e,t){var i=this;H(t)?we(t,(function(t,n){e.on(t.type,t.callback,i);})):z(t)&&tt(t,(function(t,i){e.has(t,i)||e.on(t,i);}));},e.prototype.processDictionaryTemplate=function(t,i){z(i)&&tt(i,(function(i,n){var r;(r="template"==i?t.template:t.hasKey(i)?t.getKey(i):t.create(i))instanceof e?r.config=n:z(r)&&z(n)?at(n,r):r.setKey(i,n);}));},e.prototype.processDictionary=function(e,t){z(t)&&tt(t,(function(t,i){e.setKey(t,i);}));},e.prototype.processListTemplate=function(t,i){var n=this;for(we(t,(function(t,r){var a,o=n.getConfigEntryType(t);if(i.hasIndex(r)&&!t.forceCreate)a=i.getIndex(r);else {if(t instanceof e)return void i.push(t);a=o?i.create(o):i.create();}t===a||z(t)&&(a instanceof e?a.config=t:z(a)&&z(t)?at(t,a):i.setIndex(i.indexOf(a),t));}));t.length>i.length;)i.pop();},e.prototype.processOrderedTemplate=function(t,i){var n=this;we(t,(function(t,r){var a,o=n.getConfigEntryType(t);a=o?i.create(o):i.create(),z(t)&&(a instanceof e?a.config=t:z(a)&&z(t)?at(t,a):i.insert(t));}));},e.prototype.processList=function(t,i,n){var r=this;H(t)||(t=[t]);var a=i.length,o=0;for(we(t,(function(t,s){if(z(t)){var l=void 0;if(s<a&&!t.forceCreate)l=i.getIndex(s);else {if(t instanceof e)return void i.push(t);o++,l=r.createEntryInstance(t),n?l.parent=n:i.push(l);}l instanceof e?l.config=t:z(l)&&z(t)&&at(t,l);}else i.hasIndex(s)?i.setIndex(s,t):i.push(t);}));!n&&t.length+o<i.length;)i.pop();},e.prototype.configOrder=function(e,t){return e==t?0:"language"==e?-1:"language"==t?1:0},e.prototype.asIs=function(e){return -1!=Se(["locale"],e)},e.prototype.asFunction=function(e){return !1},e.prototype.createClassInstance=function(e){if(j(St.registeredClasses[e]))return new St.registeredClasses[e];throw Error('Invalid type: "'+e+'".')},e.prototype.createEntryInstance=function(e){var t;return j(e.type)&&(t=this.createClassInstance(e.type)),t||e},e.prototype.getConfigEntryType=function(e){if(j(e.type)){if(j(St.registeredClasses[e.type]))return St.registeredClasses[e.type];throw Error('Invalid type: "'+e.type+'".')}},e.prototype.hasProperty=function(e){return e in this},e.prototype.isReserved=function(e){return -1!==["type","forceCreate"].indexOf(e)},Object.defineProperty(e.prototype,"processingErrors",{get:function(){return this._processingErrors||(this._processingErrors=[]),this._processingErrors},enumerable:!0,configurable:!0}),e}(),Jt=function(e){function t(){var t=e.call(this)||this;return t.className="BaseObjectEvents",t}return x(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher||(this._eventDispatcher=new Xe,this._disposers.push(this._eventDispatcher)),this._eventDispatcher},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatch(e,{type:e,target:this})):this.events.dispatch(e,{type:e,target:this}));},t.prototype.dispatchImmediately=function(e,t){this._eventDispatcher&&this.events.isEnabled(e)&&(t?(t.type=e,t.target=t.target||this,this.events.dispatchImmediately(e,t)):this.events.dispatchImmediately(e,{type:e,target:this}));},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t._eventDispatcher&&this.events.copyFrom(t._eventDispatcher);},t}(Xt);function Zt(e,t){return tt(e,(function(e,i){j(i)&&(t[e]=i);})),t}function Qt(e){return /^[^#]*/.exec(e)[0]}function ei(){var e="#";if(/apple/i.test(navigator.vendor)){var t=document.baseURI;if(t){t=Qt(t);var i=Qt(location.href);t!==i&&(e=i+e);}}return e}function ti(e){return j(e)&&""!==e.toString()}function ii(e,t){return W(e)?e:null!=e&&W(e.value)&&W(t)?t*e.value:0}function ni(e,t,i){var n;return W(e)?(n=e)<0&&(n=i?t+n:t-n):null!=e&&W(e.value)&&(n=t*e.value),n}function ri(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}function ai(e){return JSON.stringify(e)}function oi(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function si(e,t,i,n,r){if(e.length<=t)return [e];var a=[];if(i){for(var o=-1,s=e.replace(/([,;:!?\\\/]+|[\s])/g,"__§§§__$1__§§§__").split("__§§§__"),l=1;l<s.length;l++){"."!=(u=s[l])&&","!=u||!s[l-1].match(/[\w]+$/)||(s[l-1]+=u,s[l]="");}for(l=0;l<s.length;l++){var u,d=(u=s[l]).length;if(0!==d){if(d>t&&(!0!==i||0!=r)){if(n&&(u=ci(u)),h=u.match(new RegExp(".{1,"+t+"}","g"))){if(n)for(var c=0;c<h.length;c++)h[c]=ci(h[c]);a=a.concat(h);}}else -1===o&&(a.push(""),o=0),a[o].length+d+1>t&&""!==a[o]&&(a.push(""),o++),a[o]+=u;o=a.length-1;}}}else {var h;if(h=e.match(new RegExp(".{1,"+t+"}","g"))){if(n)for(c=0;c<h.length;c++)h[c]=ci(h[c]);a=h;}}return 1==a.length&&i&&r&&a[0].length>t&&(a=[]),a}function li(e,t,i,n,r){return e.length<=t?e:((t-=i.length)<1&&(t=1),(si(e,t,n,r)[0]||"")+i)}function ui(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function di(e){return e.replace(/[\s\uFEFF\xA0]+$/g,"")}function ci(e){return e.split("").reverse().join("")}function hi(e,t,i){return void 0===t&&(t=0),void 0===i&&(i="0"),"string"!=typeof e&&(e=e.toString()),t>e.length?Array(t-e.length+1).join(i)+e:e}function pi(e){return e.replace(/\/(date|number|duration)$/i,"")}function mi(e){return e?e.replace(/<[^>]*>/g,""):e}function fi(e){return e?mi((""+e).replace(/[\n\r]+/g,". ")):e}function gi(e){if(B(e)){var t=new Date(e);return t.setMilliseconds(e.getMilliseconds()),t}if(W(e))return new Date(e);var i=Number(e);return W(i)?new Date(i):new Date(e)}function yi(e){if(B(e))return e.getTime();if(W(e))return e;if(N(e)){var t=Number(e);return W(t)?t:void 0}}function vi(e,t){var i=new Date(e.getFullYear(),0,0),n=e.getTime()-i.getTime()+60*(i.getTimezoneOffset()-e.getTimezoneOffset())*1e3;return Math.floor(n/864e5)}function bi(e,t){var i=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),n=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-n);var r=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-r.getTime())/864e5+1)/7)}function xi(e,t){var i=bi(new Date(e.getFullYear(),e.getMonth(),1)),n=bi(e);return 1==n&&(n=53),n-i+1}function Ci(e,t){return e>12?e-=12:0===e&&(e=12),j(t)?e+(t-1):e}function Si(e,t,i,n){if(void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===n&&(n=!1),n)return t?"Coordinated Universal Time":"UTC";var r=e.toLocaleString("UTC"),a=e.toLocaleString("UTC",{timeZoneName:t?"long":"short"}).substr(r.length);return !1===i&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function _i(e,t,i){return e>i?i:e<t?t:e}function Pi(e,t,i){var n=i-t;return (e>i||e<t)&&(e=t+(e-n*Math.floor(e/n))),e}function wi(e,t){var i=e.x,n=e.y,r=[];if(t){for(;j(t.parent);)r.push(t),t=t.parent;r.reverse();for(var a=0;a<r.length;a++){var o=r[a],s=o.rotation,l=i-o.pixelX-o.ex,u=n-o.pixelY-o.ey;o.dx&&(i-=o.dx),o.dy&&(n-=o.dy);var d=o.scale;o.group&&(d=o.group.scale),i=(ee(-s)*l-Z(-s)*u)/d-o.pixelPaddingLeft,n=(ee(-s)*u+Z(-s)*l)/d-o.pixelPaddingTop;}}return {x:i,y:n}}function Ii(e,t){var i=e.x,n=e.y;if(t)for(;j(t.parent);){var r=t.rotation;i+=t.pixelPaddingLeft+t.ex,n+=t.pixelPaddingTop+t.ey;var a=t.scale;t.group&&(a=t.group.scale);var o=t.pixelX+(i*ee(r)-n*Z(r))*a,s=t.pixelY+(i*Z(r)+n*ee(r))*a;t.dx&&(o+=t.dx),t.dy&&(s+=t.dy),i=o,n=s,t=t.parent;}return {x:i,y:n}}function Ti(e,t,i){return wi(Ii(e,t),i)}function Ai(e,t){var i=Ii(e,t),n=Ii({x:e.x+e.width,y:e.y+e.height},t);return {x:i.x,y:i.y,width:n.x-i.x,height:n.y-i.y}}function Oi(e,t,i){try{var n=t.getBoundingClientRect();return W(i)||(i=1),{x:(e.x-n.left)/i,y:(e.y-n.top)/i}}catch(t){return e}}function ki(e,t){try{var i=t.getBoundingClientRect();return {x:e.x+i.left,y:e.y+i.top}}catch(t){return e}}function Fi(e,t){return t&&t.htmlContainer?wi(Oi(e,V(t.htmlContainer),t.svgContainer.cssScale),t):e}function Di(e,t){return t&&t.htmlContainer?ki(Ii(e,t),V(t.htmlContainer)):e}var Mi=/^([a-zA-Z][a-zA-Z0-9\+\.\-]*:)?(?:(\/\/)([^\@]+\@)?([^\/\?\#\:]*)(\:[0-9]+)?)?([^\?\#]*)(\?[^\#]*)?(\#.*)?$/;function Li(e){var t=Mi.exec(e);return {protocol:t&&t[1]||"",separator:t&&t[2]||"",authority:t&&t[3]||"",domain:t&&t[4]||"",port:t&&t[5]||"",path:t&&t[6]||"",query:t&&t[7]||"",hash:t&&t[8]||""}}function Ei(e){return e.protocol+e.separator+e.authority+e.domain+e.port+e.path+e.query+e.hash}function ji(e){return ""===e.protocol&&""===e.separator&&""===e.authority&&""===e.domain&&""===e.port}function Vi(e,t){var i=Li(e),n=Li(t);if(ji(i))throw new Error("Left URL is not absolute");if(ji(n)){if(""!==n.path)if("/"===n.path[0])i.path=n.path;else {var r=i.path.split(/\//),a=n.path.split(/\//);if(0===r.length?0!==a.length&&r.push(""):r.length>1&&r.pop(),function(e,t){for(var i=t.length,n=0;n<i;++n)e.push(t[n]);}(r,a),i.path=r.join("/"),""!==i.path&&"/"!==i.path[0])throw new Error("URL path must start with /")}return i.query=n.query,i.hash=n.hash,Ei(i)}return Ei(n)}function Ri(){return !!window.MSInputMethodContext&&!!document.documentMode}function Bi(e){return +e}function Ni(e,t){return Math.pow(e,t)}function Wi(e,t){return 1-Math.pow(1-e,t)}function zi(e,t){return ((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}function Hi(e){return Wi(e,3)}function Gi(e){return Math.sin(e*U)}function Ui(e){return e*e*e}function qi(e){return --e*e*e+1}St.registeredClasses["ease.linear"]=Bi,St.registeredClasses["ease.quadIn"]=function(e){return e*e},St.registeredClasses["ease.quadOut"]=function(e){return e*(2-e)},St.registeredClasses["ease.quadInOut"]=function(e){return ((e*=2)<=1?e*e:--e*(2-e)+1)/2},St.registeredClasses["ease.polyIn"]=Ni,St.registeredClasses["ease.polyOut"]=Wi,St.registeredClasses["ease.polyInOut"]=zi,St.registeredClasses["ease.polyIn3"]=function(e){return Ni(e,3)},St.registeredClasses["ease.polyOut3"]=Hi,St.registeredClasses["ease.polyInOut3"]=function(e){return zi(e,3)},St.registeredClasses["ease.expIn"]=function(e){return Math.pow(2,10*e-10)},St.registeredClasses["ease.expOut"]=function(e){return 1-Math.pow(2,-10*e)},St.registeredClasses["ease.expInOut"]=function(e){return ((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2},St.registeredClasses["ease.sinIn"]=function(e){return 1-Math.cos(e*U)},St.registeredClasses["ease.sinOut"]=Gi,St.registeredClasses["ease.sinInOut"]=function(e){return (1-Math.cos(G*e))/2},St.registeredClasses["ease.cubicIn"]=Ui,St.registeredClasses["ease.cubicOut"]=qi,St.registeredClasses["ease.cubicInOut"]=function(e){return ((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2},St.registeredClasses["ease.circleIn"]=function(e){return 1-Math.sqrt(1-e*e)},St.registeredClasses["ease.circleOut"]=function(e){return Math.sqrt(1- --e*e)},St.registeredClasses["ease.circleInOut"]=function(e){return ((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2};var $i=4/11,Yi=7.5625;function Ki(e){return (e=+e)<$i?Yi*e*e:e<.7272727272727273?Yi*(e-=.5454545454545454)*e+.75:e<.9090909090909091?Yi*(e-=.8181818181818182)*e+.9375:Yi*(e-=.9545454545454546)*e+.984375}St.registeredClasses["ease.bounceIn"]=function(e){return 1-Ki(1-e)},St.registeredClasses["ease.bounceOut"]=Ki,St.registeredClasses["ease.bounceInOut"]=function(e){return ((e*=2)<=1?1-Ki(1-e):Ki(e-1)+1)/2};var Xi=2*Math.PI,Ji=.3/Xi,Zi=Math.asin(1)*Ji;St.registeredClasses["ease.elasticIn"]=function(e){return 1*Math.pow(2,10*--e)*Math.sin((Zi-e)/Ji)},St.registeredClasses["ease.elasticOut"]=function(e){return 1-1*Math.pow(2,-10*(e=+e))*Math.sin((e+Zi)/Ji)},St.registeredClasses["ease.elasticInOut"]=function(e){return ((e=2*e-1)<0?1*Math.pow(2,10*e)*Math.sin((Zi-e)/Ji):2-1*Math.pow(2,-10*e)*Math.sin((Zi+e)/Ji))/2};var Qi=function(e){function t(){var t=e.call(this)||this;return t.transitionDuration=0,t.transitionEasing=qi,t.properties={},t.propertyFields={},t.filters=new Tt,t.isTemplate=!1,t.className="SpriteState",t._disposers.push(new wt(t.filters)),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"adapter",{get:function(){var e=this;return this._adapterO||(this._adapterO=new Rt(this),this._adapterO.events.on("inserted",(function(t){e[t.newValue.key]=e[t.newValue.key];}),void 0,!1),this._adapterO.events.on("removed",(function(t){e[t.newValue.key]=e[t.newValue.key];}),void 0,!1)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.getPropertyValue=function(e){var t=this.properties[e],i=this.sprite;if(i){var n=this.propertyFields[e];if(j(n)&&(i.dataItem&&(t=i.dataItem.dataContext[n]),null==t&&(t="__unset")),j(t))this._adapterO&&(t=this._adapterO.apply(e,t));else {var r=i.getPropertyValue(e);(t=this._adapterO?this._adapterO.apply(e,r):r)==r&&(t=void 0);}}return t},t.prototype.copyFrom=function(e){e&&e!=this&&(this.transitionDuration=e.transitionDuration,this.transitionEasing=e.transitionEasing,Zt(e.properties,this.properties),Zt(e.propertyFields,this.propertyFields),this.filters.copyFrom(e.filters),e._adapterO&&this.adapter.copyFrom(e._adapterO));},Object.defineProperty(t.prototype,"allValues",{get:function(){var e=this,t={};(tt(this.properties,(function(i,n){t[i]=e.getPropertyValue(i);})),this._adapterO)&&tt(this._adapterO.keys(),(function(i,n){var r=e.getPropertyValue(n);t[n]=r;}));return tt(this.propertyFields,(function(i){var n=e.getPropertyValue(i);t[i]=n;})),t},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.properties={},this.filters.clear();},t.prototype.processConfig=function(t){j(t)&&j(t.properties)&&tt(t.properties,(function(e,i){N(i)&&(i.match(/^[0-9.\-]+\%$/)?t.properties[e]=A(M(i)):i.match(/^\#[0-9abcdef]{3,}$/i)&&(t.properties[e]=Kt(i)));})),e.prototype.processConfig.call(this,t);},t.prototype.asFunction=function(t){return "transitionEasing"==t||e.prototype.asIs.call(this,t)},t}(Xt);St.registeredClasses.SpriteState=Qi;var en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._interactionEvents=new vt,t}return x(t,e),t.prototype._dispatchSpriteEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=nt(e,{target:this.target});this.target.events.dispatchImmediately(t.type,t);}},t.prototype._dispatchSpritePointEvent=function(e){if(!this.target.disabled&&!this.target.isTemplate&&this.target.events.isEnabled(e.type)){var t=nt(e,{target:this.target,spritePoint:e.point?Fi(e.point,this.target):void 0,svgPoint:this.target.getSvgPoint(e.point)});this.target.events.dispatchImmediately(t.type,t);}},t.prototype._addInteractionObjectEvent=function(e,t,i,n){var r=this,a=n+"-"+e;return this._interactionEvents.insertKeyIfEmpty(a,(function(){var o=r.target.interactions.events.on(e,t,i,n);return new Ne((function(){r._interactionEvents.removeKey(a),o.dispose();}))})).increment()},t.prototype._on=function(t,i,n,r,a,o){var s=e.prototype._on.call(this,t,i,n,r,a,o),l=[s.disposer];switch(i){case"hit":case"track":case"doublehit":case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":l.push(this._addInteractionObjectEvent(i,this._dispatchSpritePointEvent,this,a));break;case"rightclick":case"down":case"up":case"drag":case"dragged":case"dragstart":case"dragstop":case"over":case"out":case"swipe":case"swipeleft":case"swiperight":case"resize":case"focus":case"blur":case"toggled":l.push(this._addInteractionObjectEvent(i,this._dispatchSpriteEvent,this,a));}switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"toggled":this.target.togglable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":this.target.hoverable=!0;case"out":this.target.hoverable=!0;break;case"focus":case"blur":this.target.focusable=!0;}return s.disposer=new Re(l),s},t}(Je),tn=function(){function e(){}return e.opacity=1,e.strokeOpacity=1,e.strokeWidth=1,e.fillOpacity=1,e.fill=Yt("#000000"),e.stroke=Yt("#000000"),e.focusable=void 0,e.tabindex=0,e}(),nn={verbose:!0,commercialLicense:!1,classNamePrefix:"amcharts-",autoSetClassName:!1,minPolylineStep:.5,onlyShowOnViewport:!1,queue:!1,autoDispose:!1,licenses:[],suppressErrors:!1,suppressWarnings:!1,animationsEnabled:!0,nonce:"",deferredDelay:100,disableHoverOnTransform:"never",pixelPerfectPrecision:0};function rn(e,t,i){return t+(i-t)*e}function an(e,t,i){return new T(rn(e,t.percent,i.percent))}function on(e,t,i){var n=new $t(zt(t.rgb,i.rgb,e));return t.alpha!=i.alpha&&(n.alpha=t.alpha+(i.alpha-t.alpha)*e),n}function sn(e,t){return t+e.charAt(0).toUpperCase()+e.substr(1)}var ln,un=function(){function e(e){this._disposer=new Ve((function(){for(;0!==e.length;)e[0].dispose();}));}return e.prototype.isDisposed=function(){return this._disposer.isDisposed()},e.prototype.dispose=function(){this._disposer.dispose();},e}(),dn=function(e){function t(t,i,n,r){var a=e.call(this)||this;return a.duration=0,a.easing=Bi,a.progress=0,a._loop=0,a._pause=!1,a._delayTimeout=null,a._time=0,a._isFinished=!1,a.className="Animation",a.object=t,a.animationOptions=ke(i),a.duration=n,r&&(a.easing=r),a.applyTheme(),a}return x(t,e),t.prototype.debug=function(){},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.pause();},t.prototype.delay=function(e){var t=this;if(e>0){this.pause(),Ae(this.object.animations,this);var i=setTimeout((function(){t._delayTimeout=null,t.start();}),e);this._delayTimeout=new Ve((function(){clearTimeout(i);}));}return this},t.prototype._start=function(){this._isFinished=!1,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),this.stopSameAnimations(),this._pause=!1,Ae(jr.animations,this),Ae(this.object.animations,this),jr.requestFrame();},t.prototype.start=function(){this._start(),this._startTime=Date.now(),this._time=0,this.staticOptions=[];for(var e=this.animationOptions.length-1;e>=0;e--){var t=this.animationOptions[e];if(j(t.from)||(t.childObject?t.from=t.childObject[t.property]:(t.from=this.object[t.property],j(t.from)||(t.from=tn[t.property]))),t.from==t.to)Te(this.animationOptions,t);else if(!j(t.from)||!(t.from instanceof T)&&t.to instanceof T||t.from instanceof T&&!(t.to instanceof T))this.staticOptions.push(t),Te(this.animationOptions,t);else if(W(t.to))if(t.updateMethod=rn,t.from instanceof T){var i=this.object[sn(t.property,"pixel")];isNaN(i)?(this.staticOptions.push(t),Te(this.animationOptions,t)):t.from=i;}else isNaN(t.from)&&(this.staticOptions.push(t),Te(this.animationOptions,t));else if(t.to instanceof $t)t.from?t.updateMethod=on:(this.staticOptions.push(t),Te(this.animationOptions,t));else if(t.to instanceof T){if(t.updateMethod=an,!isNaN(t.from)){i=this.object[sn(t.property,"relative")];isNaN(i)||(t.from=A(100*i));}}else this.staticOptions.push(t),Te(this.animationOptions,t);}if(this.applyStaticOptions(),this.events.isEnabled("animationstarted")){var n={type:"animationstarted",target:this,progress:this.progress};this.events.dispatchImmediately("animationstarted",n);}return this.update(),0===this.duration&&this.end(),this},t.prototype.loop=function(e){return W(e)||(e=1/0),this._loop=e,this},t.prototype.pause=function(){return this._pause=!0,this._delayTimeout&&(this.removeDispose(this._delayTimeout),this._delayTimeout=null),Te(jr.animations,this),Te(this.object.animations,this),this},t.prototype.resume=function(){return this._start(),this._startTime=Date.now()-this._time,this},t.prototype.end=function(){if(0==this._loop&&this.pause(),this.setProgress(1),this.applyStaticOptions(),this.events.isEnabled("animationended")){var e={type:"animationended",target:this,progress:this.progress};this.events.dispatchImmediately("animationended",e);}return this._loop>0?(this._loop--,this.start()):(this.stop(),this._isFinished=!0),this},t.prototype.kill=function(){this.pause(),this._isFinished=!0;},t.prototype.isFinished=function(){return this._isFinished},t.prototype.applyStaticOptions=function(){var e=this;we(this.staticOptions,(function(t){t.childObject?t.childObject[t.property]=1==e.progress?t.to:t.from:e.object[t.property]=1==e.progress?t.to:t.from;}));},t.prototype.stop=function(e){if(this.pause(),!e&&this.events.isEnabled("animationstopped")){var t={type:"animationstopped",target:this,progress:this.progress};this.events.dispatchImmediately("animationstopped",t);}return this},t.prototype.setProgress=function(e){var t=this;if(this._time=this.duration*e,we(this.animationOptions,(function(i){if(i.updateMethod&&j(i.from)){var n=i.updateMethod(e,i.from,i.to);i.childObject?i.childObject[i.property]=n:t.object[i.property]=n;}})),this.progress=e,this.events.isEnabled("animationprogress")){var i={type:"animationprogress",target:this,progress:this.progress};this.events.dispatchImmediately("animationprogress",i);}jr.requestFrame();},t.prototype.update=function(){if(!this._pause){var e=void 0;this._time=J(Date.now()-this._startTime,0,this.duration);var t=this._time/this.duration;e=this.easing(t),(0==this.duration||!W(e)||t>=1)&&(e=1),this.setProgress(e),1==K(this._time/this.duration,6)&&this.end();}return this},Object.defineProperty(t.prototype,"delayed",{get:function(){return !!this._delayTimeout},enumerable:!0,configurable:!0}),t.prototype.stopSameAnimations=function(){var e=this;we(Fe(this.object.animations),(function(t){if(t!==e&&!t.delayed){var i=[];we(e.animationOptions,(function(e){we(t.animationOptions,(function(n){e.property==n.property&&e.childObject==n.childObject&&(i.push(n),0==t.animationOptions.length&&t.kill());}));})),we(i,(function(e){Te(t.animationOptions,e);}));}}));},t.prototype.asFunction=function(t){return "easing"==t||e.prototype.asIs.call(this,t)},t}(Jt),cn="http://www.w3.org/2000/svg",hn="http://www.w3.org/2000/xmlns/",pn="http://www.w3.org/1999/xlink";function mn(e,t,i,n){return e.addEventListener(t,i,n||!1),new Ve((function(){e.removeEventListener(t,i,n||!1);}))}function fn(e){if(N(e)){var t=document.getElementById(e);if(null==t&&(t=document.getElementsByClassName(e)[0]),t instanceof HTMLElement)return t}else if(e instanceof HTMLElement)return e}function gn(e,t){if(e)if(e.classList){we(t.split(" "),(function(t){e.classList.add(t);}));}else {var i=e.getAttribute("class");i?e.setAttribute("class",i.split(" ").filter((function(e){return e!==t})).join(" ")+" "+t):e.setAttribute("class",t);}}function yn(e,t){if(e)if(e.classList)e.classList.remove(t);else {var i=e.getAttribute("class");i&&e.setAttribute("class",i.split(" ").filter((function(e){return e!==t})).join(" "));}}function vn(e,t,i){e.style[t]=i;}function bn(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}function xn(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else {var e=document.createElement("button");e.style.position="fixed",e.style.top="0px",e.style.left="-10000px",document.body.appendChild(e),e.focus(),e.blur(),document.body.removeChild(e);}}function Cn(e,t){for(var i=t;;){if(e===i)return !0;if(null==i.parentNode){if(null==i.host)return !1;i=i.host;}else i=i.parentNode;}}function Sn(e){for(var t=e;;){if(null==t.parentNode)return null!=t.host?t:null;t=t.parentNode;}}function _n(e){for(var t=e.ownerDocument,i=e;;){if(null==i.parentNode)return i===t||null!=i.host?i:null;i=i.parentNode;}}function Pn(e){!function(e){He.push(e),Ye();}((function(){try{var t=e.getBoundingClientRect(),i=t.left-Math.round(t.left),n=t.top-Math.round(t.top);0!==i&&Ke((function(){e.style.left=i+"px";})),0!==n&&Ke((function(){e.style.top=n+"px";}));}catch(e){}}));}var wn=function(e){function t(t,i,n){var r=this,a=function(e){if(null==e)return j(ln)||((t=document.createElement("style")).type="text/css",document.head.appendChild(t),ln=t.sheet),ln;var t;return (t=document.createElement("style")).type="text/css",e.appendChild(t),t.sheet}(t);return (r=e.call(this,(function(){var e=Se(a.cssRules,r._rule);if(-1===e)throw new Error("Could not dispose StyleRule");a.deleteRule(e);}))||this)._rule=function(e,t){var i=e.cssRules.length;return e.insertRule(t+"{}",i),e.cssRules[i]}(a,i),tt(n,(function(e,t){r.setStyle(e,t);})),r}return x(t,e),Object.defineProperty(t.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e;},enumerable:!0,configurable:!0}),t.prototype._setVendorPrefixName=function(e,t){var i=this._rule.style;i.setProperty("-webkit-"+e,t,""),i.setProperty("-moz-"+e,t,""),i.setProperty("-ms-"+e,t,""),i.setProperty("-o-"+e,t,""),i.setProperty(e,t,"");},t.prototype.setStyle=function(e,t){"transition"===e?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"");},t}(Ve),In=0;function Tn(e){var t=bn(e,"font-family");if(t)return t;var i=e.parentElement||e.parentNode;return i?Tn(i):void 0}function An(e){var t=bn(e,"font-size");if(t)return t;var i=e.parentElement||e.parentNode;return i?An(i):void 0}!function(e){function t(t,i,n){var r=this,a=j(n)?n:"__style_"+ ++In+"__";return (r=e.call(this,t,"."+a,i)||this)._className=a,r}x(t,e),Object.defineProperty(t.prototype,"className",{get:function(){return this._className},set:function(e){this._className=e,this.selector="."+e;},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this._className};}(wn);var On=function(){function e(e){this._isDisposed=!1,this._x=0,this._y=0,this._rotationY=0,this._rotationX=0,this._rotation=0,this._scale=1,this.node="string"==typeof e?document.createElementNS(cn,e):e;}return e.prototype.removeNode=function(){this.node&&this.node.parentNode&&this.node.parentNode.removeChild(this.node);},Object.defineProperty(e.prototype,"transformString",{get:function(){if(this.node)return this._transformString},enumerable:!0,configurable:!0}),e.prototype.transform=function(){var e="translate("+this._x+","+this._y+")";if(1!=this._scale&&(e+=(e?" ":"")+"scale("+this._scale+")"),0!=this._rotation){var t="rotate("+this._rotation+")";this._rotationX&&this._rotationY&&(t="rotate("+this._rotation+" "+this._rotationX+" "+this._rotationY+")"),e+=(e?" ":"")+t;}this._transformString=e,this.node.setAttribute("transform",e);},e.prototype.getBBox=function(){var e={width:0,height:0,x:0,y:0};if(this.node&&this.node.parentNode)try{var t=this.node.getBBox();e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height;}catch(e){}return e},e.prototype.moveTo=function(e){if(e){var t=e.x,i=e.y;this._x==t&&this._y==i||(this._x=t,this._y=i,this.transform());}},Object.defineProperty(e.prototype,"content",{get:function(){return this.node.innerHTML||""},set:function(e){this.node.innerHTML=e;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.node.textContent||""},set:function(e){this.node.textContent=e;},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!=e&&(this._x=e,this.transform());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!=e&&(this._y=e,this.transform());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!=e&&(this._rotation=e,this.transform());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this._rotationX},set:function(e){this._rotationX!=e&&(this._rotationX=e,this.transform());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this._rotationY},set:function(e){this._rotationY!=e&&(this._rotationY=e,this.transform());},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale!=e&&(this._scale=e,this.transform());},enumerable:!0,configurable:!0}),e.prototype.removeAttr=function(e){this.node.removeAttribute(e);},e.prototype.attr=function(e){var t=this;return tt(e,(function(e,i){j(i)?t.node.setAttribute(e,i):t.node.removeAttribute(e);})),this},e.prototype.getAttr=function(e){return this.node.getAttribute(e)},e.prototype.attrNS=function(e,t,i){return this.node.setAttributeNS(e,t,i),this},e.prototype.getAttrNS=function(e,t){return this.node.getAttributeNS(e,t)},e.prototype.removeStyle=function(e){this.node.style[e]=null,delete this.node.style[e];},e.prototype.getStyle=function(e){return this.node.style[e]},e.prototype.addStyle=function(e){var t=this;return tt(e,(function(e,i){j(i)?t.node.style[e]=i:t.removeStyle(e);})),this},e.prototype.addClass=function(e){gn(this.node,e);},e.prototype.removeClass=function(e){yn(this.node,e);},e.prototype.setClass=function(e){this.node.setAttribute("class",e);},e.prototype.removeChildNodes=function(){for(;this.node.childNodes.length>0;)this.node.removeChild(this.node.firstChild);},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype.dispose=function(){this.removeNode();},e}(),kn=function(e){function t(t){return e.call(this,t)||this}return x(t,e),t.prototype.add=function(e){e&&this.node.appendChild(e.node);},t.prototype.addToBack=function(e){if(e){var t=this.node.childNodes[0];t?t!=e.node&&this.node.insertBefore(e.node,t):this.node.appendChild(e.node);}},t.prototype.removeElement=function(e){if(e)try{e.node&&e.node.parentNode==this.node&&this.node.removeChild(e.node);}catch(e){}},t.prototype.hasChild=function(e){for(var t=0;t<this.node.childNodes.length;t++)if(this.node.childNodes[t]==e.node)return !0;return !1},Object.defineProperty(t.prototype,"content",{get:function(){return this.node.innerHTML},set:function(e){this.node.innerHTML=e;},enumerable:!0,configurable:!0}),t.prototype.removeChildren=function(){if(this.node.childNodes)for(;this.node.childNodes.length>0;){var e=this.node.firstChild;e&&e.parentNode&&e.parentNode.removeChild(e);}},t.prototype.removeChildrenByTag=function(e){if(this.node.childNodes)for(var t=this.node.getElementsByTagName(e),i=0;i<t.length;i++)this.node.removeChild(t[i]);},t}(On),Fn=function(e){function t(){var t=e.call(this)||this;return t._purposes={stroke:Yt("#e5e5e5"),fill:Yt("#f3f3f3"),primaryButton:Yt("#6794dc"),primaryButtonHover:Yt("#6771dc"),primaryButtonDown:Yt("#68dc75"),primaryButtonActive:Yt("#68dc75"),primaryButtonText:Yt("#FFFFFF"),primaryButtonStroke:Yt("#FFFFFF"),secondaryButton:Yt("#d9d9d9"),secondaryButtonHover:Yt("#d9d9d9").brighten(-.25),secondaryButtonDown:Yt("#d9d9d9").brighten(-.35),secondaryButtonActive:Yt("#d9d9d9").brighten(.35),secondaryButtonText:Yt("#000000"),secondaryButtonStroke:Yt("#FFFFFF"),grid:Yt("#000000"),background:Yt("#ffffff"),alternativeBackground:Yt("#000000"),text:Yt("#000000"),alternativeText:Yt("#FFFFFF"),disabledBackground:Yt("#999999"),positive:Yt("#67dc75"),negative:Yt("#dc6788")},t.className="InterfaceColorSet",t.applyTheme(),t}return x(t,e),t.prototype.debug=function(){},t.prototype.getFor=function(e){return this._purposes[e]},t.prototype.setFor=function(e,t){this._purposes[e]=t;},t}(Xt);St.registeredClasses.InterfaceColorSet=Fn;var Dn=new vt;var Mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._domEvents={},t}return x(t,e),t.prototype._addDOMEvent=function(e,t,i,n){var r=this;if(!this._domEvents[e]){var a=function(e){i.call(n,t,e);};this.target.element.addEventListener(e,a,!1),this._domEvents[e]=new Ne((function(){delete r._domEvents[e],r.target.element.removeEventListener(e,a,!1);}));}return this._domEvents[e].increment()},t.prototype._dispatchKeyboardEvent=function(e,t){this.target.events.isEnabled(e)&&this.target.events.dispatchImmediately(e,{type:e,target:this.target,event:t});},t.prototype._on=function(t,i,n,r,a,o){var s=e.prototype._on.call(this,t,i,n,r,a,o),l=[s.disposer];switch(i){case"hit":case"doublehit":case"rightclick":case"down":case"up":this.target.clickable=!0;break;case"drag":case"dragstart":case"dragstop":this.target.draggable=!0;break;case"track":this.target.trackable=!0;break;case"resize":this.target.resizable=!0;break;case"swipe":case"swipeleft":case"swiperight":this.target.swipeable=!0;break;case"wheel":case"wheelup":case"wheeldown":case"wheelleft":case"wheelright":this.target.wheelable=!0;break;case"over":case"out":this.target.hoverable=!0;break;case"focus":case"blur":case"focusin":case"focusout":this.target.focusable=!0;break;case"keydown":case"keyup":case"keypress":case"input":l.push(this._addDOMEvent(i,i,this._dispatchKeyboardEvent,this));}return s.disposer=new Re(l),s},t}(Je),Ln=function(e){function t(t){var i=e.call(this)||this;return i._eventDispatcher=new Mn(i),i.eventDisposers=new vt,i.replacedStyles=new vt,i._clickable=!1,i._contextMenuDisabled=!1,i._hoverable=!1,i._trackable=!1,i._draggable=!1,i._swipeable=!1,i._resizable=!1,i._wheelable=!1,i._inert=!1,i._isHover=!1,i.isRealHover=!1,i._isHoverByTouch=!1,i._isDown=!1,i._isFocused=!1,i._isTouchProtected=!1,i._inertiaOptions=new vt,i.inertias=new vt,i._hitOptions={},i._hoverOptions={},i._swipeOptions={},i._keyboardOptions={},i._mouseOptions={},i._cursorOptions={defaultStyle:[{property:"cursor",value:"default"}]},i._disposers.push(i._eventDispatcher),i._element=t,i.className="InteractionObject",i._disposers.push(new yt(i.inertias)),i._disposers.push(new yt(i.eventDisposers)),i.applyTheme(),i}return x(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHover",{get:function(){return this._isHover},set:function(e){this.isHover!=e&&(this._isHover=e,e?Kn().overObjects.moveValue(this):(this.isRealHover=!1,Kn().overObjects.removeValue(this)));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHoverByTouch",{get:function(){return this._isHoverByTouch},set:function(e){this.isHoverByTouch!=e&&(this._isHoverByTouch=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overPointers",{get:function(){return this._overPointers||(this._overPointers=new Tt),this._overPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(e){this.isDown!=e&&(this._isDown=e,e?Kn().downObjects.moveValue(this):Kn().downObjects.removeValue(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"downPointers",{get:function(){return this._downPointers||(this._downPointers=new Tt),this._downPointers},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return this._isFocused},set:function(e){this.isFocused!=e&&(this._isFocused=e,Kn().focusedObject=e?this:void 0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isTouchProtected",{get:function(){return this._isTouchProtected},set:function(e){this._isTouchProtected!=e&&(this._isTouchProtected=e,e?Kn().unprepElement(this):(this.draggable||this.swipeable||this.trackable||this.resizable)&&Kn().prepElement(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickable",{get:function(){return this._clickable},set:function(e){this._clickable!==e&&(this._clickable=e,Kn().processClickable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this._contextMenuDisabled},set:function(e){this._contextMenuDisabled!==e&&(this._contextMenuDisabled=e,Kn().processContextMenu(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this._hoverable},set:function(e){this._hoverable!==e&&(this._hoverable=e,Kn().processHoverable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this._trackable},set:function(e){this._trackable!==e&&(this._trackable=e,Kn().processTrackable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this._draggable},set:function(e){this._draggable!==e&&(this._draggable=e,Kn().processDraggable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this._swipeable},set:function(e){this._swipeable!==e&&(this._swipeable=e,Kn().processSwipeable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this._resizable},set:function(e){this._resizable!==e&&(this._resizable=e,Kn().processResizable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this._wheelable},set:function(e){this._wheelable!==e&&(this._wheelable=e,Kn().processWheelable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inert",{get:function(){return this._inert},set:function(e){this._inert!==e&&(this._inert=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this._focusable},set:function(e){this._focusable!==e&&(this._focusable=e,this._focusable&&-1==this.tabindex&&(this._tabindex=1),Kn().processFocusable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){return R(this._tabindex,-1)},set:function(e){this._tabindex!==e&&(this._tabindex=e,e>-1&&(this.focusable=!0),Kn().processFocusable(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this._element=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalPosition",{get:function(){return this._originalPosition||{x:0,y:0}},set:function(e){this._originalPosition=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalScale",{get:function(){return R(this._originalScale,1)},set:function(e){this._originalScale!==e&&(this._originalScale=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalAngle",{get:function(){return R(this._originalAngle,0)},set:function(e){this._originalAngle!==e&&(this._originalAngle=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("inertiaOptions",this._inertiaOptions):this._inertiaOptions},set:function(e){this._inertiaOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hitOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hitOptions",this._hitOptions):this._hitOptions},set:function(e){this._hitOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("hoverOptions",this._hoverOptions):this._hoverOptions},set:function(e){this._hoverOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("swipeOptions",this._swipeOptions):this._swipeOptions},set:function(e){this._swipeOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("keyboardOptions",this._keyboardOptions):this._keyboardOptions},set:function(e){this._keyboardOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("mouseOptions",this._mouseOptions):this._mouseOptions},set:function(e){this._mouseOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOptions",{get:function(){return this.sprite&&this.sprite._adapterO?this.sprite._adapterO.apply("cursorOptions",this._cursorOptions):this._cursorOptions},set:function(e){this._cursorOptions=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.inertiaOptions=t.inertiaOptions,this.hitOptions=t.hitOptions,this.hoverOptions=t.hoverOptions,this.swipeOptions=t.swipeOptions,this.keyboardOptions=t.keyboardOptions,this.cursorOptions=t.cursorOptions,this.contextMenuDisabled=t.contextMenuDisabled,Kn().applyCursorOverStyle(this);},t.prototype.setEventDisposer=function(e,t,i){var n=this.eventDisposers.getKey(e);t?null==n&&this.eventDisposers.setKey(e,i()):null!=n&&(n.dispose(),this.eventDisposers.removeKey(e));},t.prototype.dispose=function(){e.prototype.dispose.call(this);var t=Kn();t.overObjects.removeValue(this),t.downObjects.removeValue(this),t.trackedObjects.removeValue(this),t.transformedObjects.removeValue(this),this.isHover&&this.wheelable&&t.unlockWheel(),t.focusedObject===this&&(t.focusedObject=void 0);},t}(Jt),En=function(){function e(e,t){this._disposed=!1,this.directionX=0,this.directionY=0,this.interaction=e,this.keyboardEvent=t,this._startedOn=(new Date).getTime(),Kn().processDragStart(e),jr.animations.push(this),this.update();}return e.prototype.update=function(){var e=this.interaction,t=Kn().getKeyboardOption(e,"speed"),i=Kn().getKeyboardOption(e,"accelleration"),n=Kn().getKeyboardOption(e,"accellerationDelay"),r={x:0,y:0};this.keyboardEvent.shiftKey?(t*=.5,i=1):this.keyboardEvent.ctrlKey&&(t*=2);var a=(new Date).getTime()-this._startedOn,o=a-n;if(i>0&&o>0){var s=a/n;a=n,r.x+=this.directionX*(t*i*s*o),r.y+=this.directionY*(t*i*s*o);}r.x+=this.directionX*(t*a),r.y+=this.directionY*(t*a),Kn().handleTransformMove(e,r,{x:0,y:0},this.keyboardEvent,!0,!1);},e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(Kn().processDragStop(this.interaction),Te(jr.animations,this));},e}(),jn=function(e){function t(t,i,n,r){var a=e.call(this)||this;return a.animations=[],a.className="Inertia",a.interaction=t,a.type=i,a.point=n,a.startPoint=r,a._disposers.push(new un(a.animations)),a}return x(t,e),Object.defineProperty(t.prototype,"x",{get:function(){return this.point.x},set:function(e){W(e)&&(this.point.x=e,this.handleMove());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.point.y},set:function(e){W(e)&&(this.point.y=e,this.handleMove());},enumerable:!0,configurable:!0}),t.prototype.handleMove=function(){if(this.interaction.events.isEnabled("drag")){var e={type:"drag",target:this.interaction,shift:{x:this.x-this.startPoint.x,y:this.y-this.startPoint.y},startPoint:this.startPoint,point:{x:this.x,y:this.y},touch:!1};this.interaction.events.dispatchImmediately("drag",e);}},t.prototype.done=function(){this.interaction.inertias.removeKey(this.type),"move"===this.type&&Kn().processDragStop(this.interaction),this.dispose();},t}(Xt),Vn=new(function(){function e(){}return e.prototype.getEventKey=function(e){var t;switch(e.keyCode||e.which){case 38:t="up";break;case 40:t="down";break;case 37:t="left";break;case 39:t="right";break;case 13:t="enter";break;case 27:t="esc";break;case 36:case 36:t="home";break;case 35:case 35:t="end";break;case 9:t="tab";break;case 17:t="ctrl";break;case 18:t="alt";break;case 16:t="shift";break;case 32:t="space";break;case 33:t="pgup";break;case 34:t="pgdn";break;case 45:t="ins";break;case 46:t="del";break;case 107:t="plus";break;case 109:t="minus";break;default:t="other";}return t},e.prototype.isKey=function(e,t){var i=this.getEventKey(e);return N(t)&&(t=[t]),-1!==t.indexOf(i)},e.prototype.shiftKey=function(e){return e.shiftKey},e.prototype.ctrlKey=function(e){return e.ctrlKey},e.prototype.altKey=function(e){return e.altKey},e.prototype.metaKey=function(e){return e.metaKey},e}()),Rn={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6};function Bn(e){switch(e){case"year":return;case"month":return "year";case"week":case"day":return "month";case"hour":return "day";case"minute":return "hour";case"second":return "minute";case"millisecond":return "second"}}function Nn(e,t){return j(t)||(t=1),Rn[e]*t}function Wn(){return (new Date).getTime()}function zn(e){return new Date(e.getTime())}function Hn(e,t,i,n){e=new Date(e.getTime()),t=new Date(t.getTime());var r=0,a=0;n||"millisecond"==i||(r=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-r),a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a));var o=!1;switch(i){case"year":e.getUTCFullYear()!=t.getUTCFullYear()&&(o=!0);break;case"month":(e.getUTCFullYear()!=t.getUTCFullYear()||e.getUTCMonth()!=t.getUTCMonth())&&(o=!0);break;case"day":(e.getUTCMonth()!=t.getUTCMonth()||e.getUTCDate()!=t.getUTCDate())&&(o=!0);break;case"hour":e.getUTCHours()!=t.getUTCHours()&&(o=!0);break;case"minute":e.getUTCMinutes()!=t.getUTCMinutes()&&(o=!0);break;case"second":e.getUTCSeconds()!=t.getUTCSeconds()&&(o=!0);break;case"millisecond":e.getTime()!=t.getTime()&&(o=!0);}if(o)return !0;var s=Bn(i);return !!s&&(e.setUTCMinutes(e.getUTCMinutes()+r),t.setUTCMinutes(t.getUTCMinutes()+a),Hn(e,t,s,n))}function Gn(e,t,i,n){var r=0;switch(n||"millisecond"==t||(r=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-r)),t){case"day":var a=e.getUTCDate();e.setUTCDate(a+i);break;case"second":var o=e.getUTCSeconds();e.setUTCSeconds(o+i);break;case"millisecond":var s=e.getUTCMilliseconds();e.setUTCMilliseconds(s+i);break;case"hour":var l=e.getUTCHours();e.setUTCHours(l+i);break;case"minute":var u=e.getUTCMinutes();e.setUTCMinutes(u+i);break;case"year":var d=e.getUTCFullYear();e.setUTCFullYear(d+i);break;case"month":var c=e.getUTCMonth();e.setUTCMonth(c+i);break;case"week":var h=e.getUTCDate();e.setUTCDate(h+7*i);}if(!n&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+r),"day"==t||"week"==t||"month"==t||"year"==t)){var p=e.getTimezoneOffset();if(p!=r){var m=p-r;e.setUTCMinutes(e.getUTCMinutes()+m),e.getTimezoneOffset()!=p&&e.setUTCMinutes(e.getUTCMinutes()-m);}}return e}function Un(e,t,i,n,r,a,o,s){void 0===o&&(o=0),W(i)||(i=1);var l=0;switch(s&&-1!=["day","month","week","year"].indexOf(t)&&(e=qn(e,s)),r||"millisecond"==t||(l=e.getTimezoneOffset(),e.setUTCMinutes(e.getUTCMinutes()-l)),t){case"day":var u=e.getUTCDate();if(i>1){if(a){a=Un(a,"day",1);var d=e.getTime()-a.getTime(),c=Math.floor(d/Nn("day")/i),h=Nn("day",c*i);e.setTime(a.getTime()+h-l*Nn("minute"));}}else e.setUTCDate(u);e.setUTCHours(0,0,0,0);break;case"second":var p=e.getUTCSeconds();i>1&&(p=Math.floor(p/i)*i),e.setUTCSeconds(p,0);break;case"millisecond":if(1==i)return e;var m=e.getUTCMilliseconds();m=Math.floor(m/i)*i,e.setUTCMilliseconds(m);break;case"hour":var f=e.getUTCHours();i>1&&(f=Math.floor(f/i)*i),e.setUTCHours(f,o,0,0);break;case"minute":var g=e.getUTCMinutes();m=e.getUTCMilliseconds(),i>1&&(g=Math.floor(g/i)*i),e.setUTCMinutes(g,0,0);break;case"month":var y=e.getUTCMonth();i>1&&(y=Math.floor(y/i)*i),e.setUTCMonth(y,1),e.setUTCHours(0,o,0,0);break;case"year":var v=e.getUTCFullYear();i>1&&(v=Math.floor(v/i)*i),e.setUTCFullYear(v,0,1),e.setUTCHours(0,o,0,0);break;case"week":var b=e.getUTCDate(),x=e.getUTCDay();W(n)||(n=1),b=x>=n?b-x+n:b-(7+x)+n,e.setUTCDate(b),e.setUTCHours(0,o,0,0);}if(!r&&"millisecond"!=t&&(e.setUTCMinutes(e.getUTCMinutes()+l),"day"==t||"week"==t||"month"==t||"year"==t)){var C=e.getTimezoneOffset();if(C!=l){var S=C-l;e.setUTCMinutes(e.getUTCMinutes()+S);}}return e}function qn(e,t){return new Date(e.toLocaleString("en-US",{timeZone:t}))}var $n=function(e){function t(){var i=e.call(this)||this;return i._globalEventsAdded=!1,i._pointerEvents={pointerdown:"mousedown",pointerup:"mouseup",pointermove:"mousemove",pointercancel:"mouseup",pointerover:"mouseover",pointerout:"mouseout",wheel:"wheel"},i._usePointerEventsOnly=!1,i._useTouchEventsOnly=!1,i._addHoverEvents=!0,i._passiveSupported=!1,i._delayedEvents={out:[]},i.overObjects=new Tt,i.downObjects=new Tt,i.trackedObjects=new Tt,i.transformedObjects=new Tt,i.pointers=new vt,i.inertiaOptions=new vt,i.hitOptions={doubleHitTime:300,hitTolerance:10,noFocus:!0},i.hoverOptions={touchOutBehavior:"leave",touchOutDelay:1e3},i.swipeOptions={time:500,verticalThreshold:75,horizontalThreshold:30},i.keyboardOptions={speed:.1,accelleration:1.2,accellerationDelay:2e3},i.mouseOptions={sensitivity:1},i.className="Interaction",i.body=i.getInteraction(document.body),i._disposers.push(i.body),window.hasOwnProperty("PointerEvent")?(i._pointerEvents.pointerdown="pointerdown",i._pointerEvents.pointerup="pointerup",i._pointerEvents.pointermove="pointermove",i._pointerEvents.pointercancel="pointercancel",i._pointerEvents.pointerover="pointerover",i._pointerEvents.pointerout="pointerout"):window.hasOwnProperty("MSPointerEvent")?(i._pointerEvents.pointerdown="MSPointerDown",i._pointerEvents.pointerup="MSPointerUp",i._pointerEvents.pointermove="MSPointerMove",i._pointerEvents.pointercancel="MSPointerUp",i._pointerEvents.pointerover="MSPointerOver",i._pointerEvents.pointerout="MSPointerOut"):"undefined"!=typeof matchMedia&&matchMedia("(pointer:fine)").matches?"ontouchstart"in window&&(i._addHoverEvents=!1,i._useTouchEventsOnly=!0):window.navigator.userAgent.match(/MSIE /)||i.fullFF()?i._usePointerEventsOnly=!0:i._useTouchEventsOnly=!0,"onwheel"in document.createElement("div")?i._pointerEvents.wheel="wheel":j(document.onmousewheel)&&(i._pointerEvents.wheel="mousewheel"),i.inertiaOptions.setKey("move",{time:100,duration:500,factor:1,easing:Hi}),i.inertiaOptions.setKey("resize",{time:100,duration:500,factor:1,easing:Hi}),i._passiveSupported=t.passiveSupported,i.applyTheme(),i}return x(t,e),t.prototype.fullFF=function(){return window.navigator.userAgent.match(/Firefox/)&&!window.navigator.userAgent.match(/Android/)},t.prototype.debug=function(){},t.prototype.addGlobalEvents=function(){var e=this;this._globalEventsAdded||(this._useTouchEventsOnly||(this._disposers.push(mn(document,this._pointerEvents.pointerdown,(function(t){e.handleGlobalPointerDown(t);}))),this._disposers.push(mn(document,this._pointerEvents.pointermove,(function(t){e.handleGlobalPointerMove(t);}))),this._disposers.push(mn(document,this._pointerEvents.pointerup,(function(t){e.handleGlobalPointerUp(t);}))),this._disposers.push(mn(document,this._pointerEvents.pointercancel,(function(t){e.handleGlobalPointerUp(t,!0);}))),this._disposers.push(mn(document,"mouseenter",(function(t){j(t.relatedTarget)||0!=t.buttons&&0!=t.which||e.handleDocumentLeave(t);})))),this._usePointerEventsOnly||(this._disposers.push(mn(document,"touchstart",(function(t){e.handleGlobalTouchStart(t);}))),this._disposers.push(mn(document,"touchmove",(function(t){e.handleGlobalTouchMove(t);}))),this._disposers.push(mn(document,"touchend",(function(t){e.handleGlobalTouchEnd(t);})))),this._disposers.push(mn(document,"keydown",(function(t){e.handleGlobalKeyDown(t);}))),this._disposers.push(mn(document,"keyup",(function(t){e.handleGlobalKeyUp(t);}))),this._globalEventsAdded=!0);},t.prototype.processClickable=function(e){this.processTouchable(e);},t.prototype.processContextMenu=function(e){e.contextMenuDisabled?e.eventDisposers.hasKey("contextMenuDisabled")||e.eventDisposers.setKey("contextMenuDisabled",mn(e.element,"contextmenu",(function(e){e.preventDefault();}))):e.eventDisposers.hasKey("contextMenuDisabled")&&e.eventDisposers.getKey("contextMenuDisabled").dispose();},t.prototype.processHoverable=function(e){var t=this;if(e.hoverable||e.trackable)this.addGlobalEvents(),this.applyCursorOverStyle(e),!e.eventDisposers.hasKey("hoverable")&&this._addHoverEvents&&e.eventDisposers.setKey("hoverable",new Re([mn(e.element,this._pointerEvents.pointerout,(function(i){return t.handlePointerOut(e,i)})),mn(e.element,this._pointerEvents.pointerover,(function(i){return t.handlePointerOver(e,i)}))])),e.trackable;else {var i=e.eventDisposers.getKey("hoverable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("hoverable"));}this.processTouchable(e);},t.prototype.processMovable=function(e){(e.draggable||e.swipeable||e.trackable||e.resizable)&&(this.isGlobalElement(e)||e.isTouchProtected||this.prepElement(e),this.applyCursorOverStyle(e)),this.processTouchable(e);},t.prototype.processTrackable=function(e){this.processHoverable(e),this.processMovable(e),e.trackable?this.trackedObjects.moveValue(e):this.trackedObjects.removeValue(e);},t.prototype.processDraggable=function(e){this.processMovable(e);},t.prototype.processSwipeable=function(e){this.processMovable(e);},t.prototype.processResizable=function(e){this.processMovable(e);},t.prototype.processWheelable=function(e){var t=this;if(e.wheelable)e.eventDisposers.hasKey("wheelable")||e.eventDisposers.setKey("wheelable",new Re([mn(e.element,this._pointerEvents.wheel,(function(i){return t.handleMouseWheel(e,i)}),!!this._passiveSupported&&{passive:!1}),e.events.on("out",(function(i){e.wheelable&&t.unlockWheel();})),e.events.on("over",(function(i){e.wheelable&&t.lockWheel();}))]));else {var i=e.eventDisposers.getKey("wheelable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("wheelable"));}},t.prototype.processFocusable=function(e){var t=this;if(!0===e.focusable&&e.tabindex>-1&&!this._useTouchEventsOnly)e.eventDisposers.hasKey("focusable")||e.eventDisposers.setKey("focusable",new Re([mn(e.element,"focus",(function(i){return t.handleFocus(e,i)})),mn(e.element,"blur",(function(i){return t.handleBlur(e,i)})),mn(e.element,this._pointerEvents.pointerdown,(function(i){return t.handleFocusBlur(e,i)})),mn(e.element,"touchstart",(function(i){return t.handleFocusBlur(e,i)}),!!this._passiveSupported&&{passive:!1})]));else {var i=e.eventDisposers.getKey("focusable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("focusable"));}},t.prototype.processTouchable=function(e){var t=this;if(e.clickable||e.hoverable||e.trackable||e.draggable||e.swipeable||e.resizable)this.addGlobalEvents(),e.eventDisposers.hasKey("touchable")||(this._useTouchEventsOnly||this._usePointerEventsOnly?this._useTouchEventsOnly?this._usePointerEventsOnly||e.eventDisposers.setKey("touchable",mn(e.element,"touchstart",(function(i){return t.handleTouchDown(e,i)}),!!this._passiveSupported&&{passive:!1})):e.eventDisposers.setKey("touchable",mn(e.element,this._pointerEvents.pointerdown,(function(i){return t.handlePointerDown(e,i)}))):e.eventDisposers.setKey("touchable",new Re([mn(e.element,this._pointerEvents.pointerdown,(function(i){return t.handlePointerDown(e,i)})),mn(e.element,"touchstart",(function(i){return t.handleTouchDown(e,i)}),!!this._passiveSupported&&{passive:!1})])));else {var i=e.eventDisposers.getKey("touchable");null!=i&&(i.dispose(),e.eventDisposers.removeKey("touchable"));}},t.prototype.handleFocus=function(e,t){if(e.focusable){if(e.isFocused=!0,e.events.isEnabled("focus")&&!jr.isPaused){var i={type:"focus",target:e,event:t};e.events.dispatchImmediately("focus",i);}}else t.preventDefault();},t.prototype.handleFocusBlur=function(e,t){!1!==e.focusable&&this.getHitOption(e,"noFocus")&&e.events.once("focus",(function(){e.events.disableType("blur"),xn(),e.sprite&&e.sprite.handleBlur(),e.events.enableType("blur");}));},t.prototype.handleBlur=function(e,t){if(e.focusable){if(e.isFocused=!1,e.events.isEnabled("blur")&&!jr.isPaused){var i={type:"blur",target:e,event:t};e.events.dispatchImmediately("blur",i);}}else t.preventDefault();},t.prototype.handleGlobalKeyDown=function(e){if(this.focusedObject)if(Vn.isKey(e,"esc"))xn();else if(this.focusedObject.draggable&&Vn.isKey(e,["up","down","left","right"])){e.preventDefault();var t=this.focusedObject,i="interactionKeyboardObject";if(t.eventDisposers.hasKey(i))return;var n=new En(t,e);switch(t.eventDisposers.setKey(i,n),Vn.getEventKey(e)){case"up":n.directionY=-1;break;case"down":n.directionY=1;break;case"left":n.directionX=-1;break;case"right":n.directionX=1;}}},t.prototype.handleGlobalKeyUp=function(e){var t="interactionKeyboardObject";if(this.focusedObject){var i=this.focusedObject.eventDisposers.getKey(t);null!=i&&(e.preventDefault(),i.dispose(),this.focusedObject.eventDisposers.removeKey(t));var n=this.focusedObject.sprite;Vn.isKey(e,"enter")&&n&&(n.events.isEnabled("hit")||n.events.isEnabled("toggled")?this.focusedObject.dispatchImmediately("hit"):"hit"==n.showTooltipOn&&this.focusedObject.dispatchImmediately("up"));}},t.prototype.handleGlobalPointerMove=function(e){var t=this.getPointer(e);if(t.point=this.getPointerPoint(e),this.events.isEnabled("track")&&!jr.isPaused){var i={type:"track",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("track",i);}this.addBreadCrumb(t,t.point),this.handleGlobalMove(t,e);},t.prototype.handleGlobalPointerDown=function(e){this.processDelayed();var t=this.getPointer(e);if(this.events.isEnabled("down")&&!jr.isPaused){var i={type:"down",target:this,event:e,pointer:t,touch:t.touch};this.events.dispatchImmediately("down",i);}},t.prototype.preventTouchAction=function(e){e.defaultPrevented||e.preventDefault();},t.prototype.handleGlobalPointerUp=function(e,t){void 0===t&&(t=!1);var i=this.getPointer(e);if(this.events.isEnabled("up")&&!jr.isPaused){var n={type:"up",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",n);}this.handleGlobalUp(i,e,t);},t.prototype.handleGlobalTouchMove=function(e){for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(i.point=this.getPointerPoint(e.changedTouches[t]),this.events.isEnabled("track")&&!jr.isPaused){var n={type:"track",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("track",n);}this.addBreadCrumb(i,i.point),this.handleGlobalMove(i,e);}},t.prototype.handleGlobalTouchStart=function(e){this.processDelayed();for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(!this._usePointerEventsOnly&&this.events.isEnabled("down")&&!jr.isPaused){var n={type:"down",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("down",n);}}},t.prototype.handleGlobalTouchEnd=function(e){for(var t=0;t<e.changedTouches.length;t++){var i=this.getPointer(e.changedTouches[t]);if(this.events.isEnabled("up")&&!jr.isPaused){var n={type:"up",target:this,event:e,pointer:i,touch:i.touch};this.events.dispatchImmediately("up",n);}this.handleGlobalUp(i,e);}},t.prototype.handlePointerDown=function(e,t){var i=this.getPointer(t);(i.touch||1==t.which||3==t.which)&&(i.button=t.which,this.resetPointer(i,t),this.handleDown(e,i,t));},t.prototype.handlePointerOver=function(e,t){var i=this.getPointer(t);this.handleOver(e,i,t);},t.prototype.handlePointerOut=function(e,t){var i=this.getPointer(t);this.handleOut(e,i,t);},t.prototype.handleMouseWheel=function(e,t){var i=this.getPointer(t);i.point=this.getPointerPoint(t);var n=0,r=0,a=1;if(1==t.deltaMode&&(a=50),a*=this.getMouseOption(e,"sensitivity"),!(t instanceof WheelEvent))throw new Error("Invalid event type");n=Math.round(-1*t.wheelDeltaX||t.deltaX*a),r=Math.round(-1*t.wheelDeltaY||t.deltaY*a),this.handleWheel(e,i,n,r,t);},t.prototype.handleTouchDown=function(e,t){for(var i=0;i<t.changedTouches.length;i++){var n=this.getPointer(t.changedTouches[i]);this.maybePreventDefault(e,t,n),this.resetPointer(n,t.changedTouches[i]),this.handleDown(e,n,t);}},t.prototype.handleHit=function(e,t,i){var n=Wn();if(e.lastHit&&e.lastHit>=n-this.getHitOption(e,"doubleHitTime")){if(n-e.lastHit<100)return;if(e.lastHit=void 0,e.lastHitPointer=void 0,e.events.isEnabled("doublehit")&&!jr.isPaused){var r={type:"doublehit",target:e,point:t.point,event:i,touch:t.touch};e.events.dispatchImmediately("doublehit",r);}}else if(e.lastHit=n,e.lastHitPointer=t,3===t.button){if(e.events.isEnabled("rightclick")&&!jr.isPaused){r={type:"rightclick",target:e,event:i};e.events.dispatchImmediately("rightclick",r);}}else if(e.events.isEnabled("hit")&&!jr.isPaused){r={type:"hit",target:e,event:i,point:t.point,touch:t.touch};e.events.dispatchImmediately("hit",r);}},t.prototype.handleOver=function(e,t,i,n){if(e.hoverable){var r=!1;if(this.shouldCancelHovers(t)&&this.areTransformed()&&this.moved(t,this.getHitOption(e,"hitTolerance"))&&(r=!0,this.cancelAllHovers(i)),this.processDelayed(),e.overPointers.moveValue(t),!e.isRealHover&&(r||(e.isHover=!0,e.isRealHover=!0,this.overObjects.moveValue(e)),this.handleTrack(this.body,t,i,!0),e.events.isEnabled("over")&&!jr.isPaused&&!r)){var a={type:"over",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("over",a);}}},t.prototype.handleOut=function(e,t,i,n,r){var a=this;if(void 0===n&&(n=!1),void 0===r&&(r=!1),e.hoverable&&(e.overPointers.removeValue(t),e.isHover&&(!e.hasDelayedOut||r))){if(n&&e.overPointers.length)return;if(t&&t.touch&&!r&&!this.old(t)){var o=this.getHoverOption(e,"touchOutBehavior");if("leave"==o)return this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:i,keepUntil:Wn()+500}),void(e.hasDelayedOut=!0);if("delay"==o&&this.getHoverOption(e,"touchOutDelay"))return void this._delayedEvents.out.push({type:"out",io:e,pointer:t,event:i,keepUntil:Wn()+500,timeout:this.setTimeout((function(){a.handleOut(e,t,i,!0);}),this.getHoverOption(e,"touchOutDelay"))})}if(e.isHover=!1,this.overObjects.removeValue(e),!e.isDisposed()&&e.events.isEnabled("out")&&!jr.isPaused){var s={type:"out",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("out",s);}e.overPointers.clear(),e.hasDelayedOut=!1;}},t.prototype.processDelayed=function(){for(var e;e=this._delayedEvents.out.pop();)e.timeout&&e.timeout.dispose(),this.handleOut(e.io,e.pointer,e.event,!1,!0);},t.prototype.handleDown=function(e,t,i){if(this.maybePreventDefault(e,i,t),e.inert&&this.stopInertia(e),this.handleOver(e,t,i,!0),e.downPointers.moveValue(t),this.applyCursorDownStyle(e,t),e.isDown||(!1!==e.focusable&&this.getHitOption(e,"noFocus")&&this.focusedObject&&xn(),e.isDown=!0,this.downObjects.moveValue(e),e.draggable&&this.processDragStart(e,t,i),e.resizable&&this.processResizeStart(e,t,i)),e.events.isEnabled("down")&&!jr.isPaused){var n={type:"down",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("down",n);}},t.prototype.handleGlobalUp=function(e,t,i){var n=this;void 0===i&&(i=!1);var r=this.downObjects.values.slice();r.sort((function(e,t){if(e&&t){var i=e.element.compareDocumentPosition(t.element);return i&Node.DOCUMENT_POSITION_CONTAINED_BY?1:i&Node.DOCUMENT_POSITION_CONTAINS?-1:0}return 0})),we(r,(function(r){r&&r.downPointers.contains(e)&&n.handleUp(r,e,t,i);}));},t.prototype.handleDocumentLeave=function(e){var t=this;ut(this.downObjects.backwards().iterator(),(function(i){i.downPointers.each((function(n){t.handleUp(i,n,e);}));}));},t.prototype.handleUp=function(e,t,i,n){if(void 0===n&&(n=!1),this.restoreCursorDownStyle(e,t),e.downPointers.removeValue(t),(t.touch||this._useTouchEventsOnly)&&this.handleOut(e,t,i,!0),e.isDown){if(0==e.downPointers.length&&(e.isDown=!1,this.downObjects.removeValue(e)),e.events.isEnabled("up")&&!jr.isPaused){var r={type:"up",target:e,event:i,pointer:t,touch:t.touch};e.events.dispatchImmediately("up",r);}n||(e.swipeable&&this.swiped(e,t)?this.handleSwipe(e,t,i):(e.clickable&&!this.moved(t,this.getHitOption(e,"hitTolerance"))&&this.handleHit(e,t,i),e.inert&&this.moved(t,this.getHitOption(e,"hitTolerance"))?this.handleInertia(e,t):e.draggable&&this.processDragStop(e,t,i),e.resizable&&this.processResizeStop(e,t,i)));}},t.prototype.maybePreventDefault=function(e,t,i){!j(t)||!(e.draggable||e.swipeable||e.trackable||e.resizable)||this.isGlobalElement(e)||!1===t.cancelable||e.isTouchProtected&&i&&i.touch||t.preventDefault();},t.prototype.cancelAllHovers=function(e){var t=this;ut(this.overObjects.backwards().iterator(),(function(i){if(i){var n=i.overPointers.getIndex(0);t.handleOut(i,n,e,!0,!0);}}));},t.prototype.shouldCancelHovers=function(e){return "touch"==nn.disableHoverOnTransform},t.prototype.handleGlobalMove=function(e,t){var i,n=this;if(!e.touch){var r="function"==typeof(i=e.lastEvent).composedPath?i.composedPath()[0]:i.target;ut(this.overObjects.backwards().iterator(),(function(i){if(i&&i.overPointers.contains(e)&&i.hoverable){var a=!1;i.element&&e.lastEvent&&Cn(i.element,r)||(a=!0),a&&n.handleOut(i,e,t,!0);}}));}ut(this.transformedObjects.backwards().iterator(),(function(i){!i.downPointers.contains(e)||i.swipeable&&n.swiping(i,e)||!i.draggable&&!i.resizable||n.handleTransform(i,t);})),ut(this.trackedObjects.backwards().iterator(),(function(i){i.overPointers.contains(e)||n.handleTrack(i,e,t);}));},t.prototype.handleTrack=function(e,t,i,n){if(void 0===n&&(n=!1),(n||this.moved(t,0))&&e.events.isEnabled("track")&&!jr.isPaused){var r={type:"track",target:e,event:i,point:t.point,pointer:t,touch:t.touch};e.events.dispatchImmediately("track",r);}},t.prototype.handleSwipe=function(e,t,i){if(e.events.isEnabled("swipe")&&!jr.isPaused){var n={type:"swipe",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swipe",n);}if(t.startPoint.x<t.point.x){if(e.events.isEnabled("swiperight")&&!jr.isPaused){n={type:"swiperight",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swiperight",n);}}else if(e.events.isEnabled("swipeleft")&&!jr.isPaused){n={type:"swipeleft",target:e,event:i,touch:t.touch};e.events.dispatchImmediately("swipeleft",n);}},t.prototype.handleWheel=function(e,t,i,n,r){var a={x:i,y:n};e.events.isEnabled("wheel")&&!jr.isPaused&&e.events.dispatchImmediately("wheel",{type:"wheel",target:e,event:r,point:t.point,shift:a}),i<0?e.events.isEnabled("wheelleft")&&!jr.isPaused&&e.events.dispatchImmediately("wheelleft",{type:"wheelleft",target:e,event:r,point:t.point,shift:a}):i>0?e.events.isEnabled("swiperight")&&!jr.isPaused&&e.events.dispatchImmediately("wheelright",{type:"wheelright",target:e,event:r,point:t.point,shift:a}):n<0?e.events.isEnabled("wheelup")&&!jr.isPaused&&e.events.dispatchImmediately("wheelup",{type:"wheelup",target:e,event:r,point:t.point,shift:a}):n>0&&e.events.isEnabled("wheeldown")&&!jr.isPaused&&e.events.dispatchImmediately("wheeldown",{type:"wheeldown",target:e,event:r,point:t.point,shift:a});},t.prototype.handleInertia=function(e,t){e.draggable&&0===e.downPointers.length&&this.handleMoveInertia(e,t),e.resizable&&e.downPointers.length>1&&this.handleResizeInertia(e,t);},t.prototype.handleMoveInertia=function(e,t){var i=e,n={x:t.point.x,y:t.point.y},r={x:t.startPoint.x,y:t.startPoint.y},a=new jn(i,"move",n,r),o=this.getTrailPoint(t,Wn()-this.getInertiaOption(e,"move","time"));if(void 0!==o){var s=this.getInertiaOption(e,"move","factor"),l=[{to:t.point.x+(t.point.x-o.point.x)*s,property:"x"},{to:t.point.y+(t.point.y-o.point.y)*s,property:"y"}],u=new dn(a,l,this.getInertiaOption(e,"move","duration"),this.getInertiaOption(e,"move","easing")).start();this._disposers.push(u.events.on("animationended",(function(e){a.done();}))),e.inertias.setKey("move",a);}else this.processDragStop(e,t,t.lastUpEvent);},t.prototype.handleResizeInertia=function(e,t){},t.prototype.handleTransform=function(e,t){var i,n,r,a=e.downPointers.getIndex(0),o=null,s=null;a&&(o=a.point,s=a.startPoint),r=n={x:e.originalPosition.x,y:e.originalPosition.y};for(var l=!0,u=1;u<e.downPointers.length;u++){var d=e.downPointers.getIndex(u);if(s.x!=d.startPoint.x&&s.y!=d.startPoint.y){l=!1,n=(i=d).point,r=i.startPoint;break}}var c=a&&this.moved(a,0);if(e.draggable&&a&&a.dragStartEvents&&a.dragStartEvents.length&&c&&e.events.isEnabled("dragstart")&&!jr.isPaused&&e.events.dispatchImmediately("dragstart",a.dragStartEvents.shift()),l&&e.draggable)this.handleTransformMove(e,o,s,t,c,a.touch),this.shouldCancelHovers(a)&&this.moved(a,this.getHitOption(e,"hitTolerance"))&&this.cancelAllHovers(t);else {var h=i&&this.moved(i,0);(this.shouldCancelHovers(a)&&this.moved(a,this.getHitOption(e,"hitTolerance"))||this.shouldCancelHovers(i)&&this.moved(i,this.getHitOption(e,"hitTolerance")))&&this.cancelAllHovers(t),e.draggable&&e.resizable?(this.handleTransformMove(e,o,s,t,c&&h,a.touch),this.handleTransformResize(e,o,s,n,r,t,c&&h,a.touch)):(e.draggable&&this.handleTransformMove(e,o,s,t,c,a.touch),!e.resizable||l&&!t.ctrlKey||this.handleTransformResize(e,o,s,n,r,t,c&&h,a.touch));}},t.prototype.handleTransformMove=function(e,t,i,n,r,a){if(r&&e.events.isEnabled("drag")&&!jr.isPaused&&(!e.isTouchProtected||!a)){var o={type:"drag",target:e,event:n,shift:{x:t.x-i.x,y:t.y-i.y},startPoint:i,point:t,touch:a};e.events.dispatchImmediately("drag",o);}},t.prototype.handleTransformResize=function(e,t,i,n,r,a,o,s){if(e.events.isEnabled("resize")&&!jr.isPaused&&(!e.isTouchProtected||!s)){var l={type:"resize",target:e,event:a,scale:se(t,i,n,r),startPoint1:i,point1:t,startPoint2:r,point2:n,touch:s};e.events.dispatchImmediately("resize",l);}},t.prototype.processDragStart=function(e,t,i){this.transformedObjects.moveValue(e),this.shouldCancelHovers(t)&&this.cancelAllHovers(i);var n={type:"dragstart",target:e,event:i,touch:!!t&&t.touch};t&&(t.dragTarget=e),t&&t.dragStartEvents?t.dragStartEvents.push(n):jr.isPaused||e.dispatchImmediately("dragstart",n);},t.prototype.processDragStop=function(e,t,i){if(t||(t=this.getDragPointer(e)),t&&(t.dragTarget=void 0),this.transformedObjects.removeValue(e),(!t||this.moved(t,0))&&e.events.isEnabled("dragstop")&&!jr.isPaused){var n={type:"dragstop",target:e,touch:!!t&&t.touch};e.events.dispatchImmediately("dragstop",n);}},t.prototype.processResizeStart=function(e,t,i){this.transformedObjects.moveValue(e);},t.prototype.processResizeStop=function(e,t,i){this.transformedObjects.removeValue(e);},t.prototype.dragStart=function(e,t){t||(t=this.getDragPointer(e)),t&&this.handleDown(e,t,t.lastDownEvent);},t.prototype.dragStop=function(e,t,i){t||(t=this.getDragPointer(e)),t&&!i&&this.handleGlobalUp(t,t.lastUpEvent,i);},t.prototype.getDragPointer=function(e){return e?e.downPointers.getIndex(0):this.transformedObjects.length?this.getDragPointer(this.transformedObjects.getIndex(0)):void 0},t.prototype.getPointerId=function(e){return (j(e.identifier)?""+e.identifier:j(e.pointerId)?""+e.pointerId:"m").replace("-","")},t.prototype.getPointerPoint=function(e){return {x:e.clientX,y:e.clientY}},t.prototype.getPointer=function(e){var t,i=this.getPointerId(e),n=this.getPointerPoint(e);return this.pointers.hasKey(i)?(t=this.pointers.getKey(i)).touch=this.isPointerTouch(e):(t={id:i,touch:this.isPointerTouch(e),startPoint:n,startTime:Wn(),point:n,track:[],swipeCanceled:!1,dragStartEvents:[]},this.addBreadCrumb(t,n),this.pointers.setKey(i,t)),t.lastEvent=e,this.lastPointer=t,t},t.prototype.isPointerTouch=function(e){if("undefined"!=typeof Touch&&e instanceof Touch)return !0;if("undefined"!=typeof PointerEvent&&e instanceof PointerEvent&&j(e.pointerType))switch(e.pointerType){case"touch":case"pen":case 2:return !0;case"mouse":case 4:return !1;default:return !(e instanceof MouseEvent)}else if(j(e.type)&&e.type.match(/^mouse/))return !1;return !0},t.prototype.resetPointer=function(e,t){var i=this.getPointerPoint(t);e.startTime=Wn(),e.startPoint={x:i.x,y:i.y},e.point={x:i.x,y:i.y},e.track=[],e.swipeCanceled=!1;},t.prototype.addBreadCrumb=function(e,t){e.track.push({timestamp:Wn(),point:t});},t.prototype.lockDocument=function(){this.prepElement(this.body);},t.prototype.unlockDocument=function(){0==this.transformedObjects.length&&this.restoreAllStyles(this.body);},t.prototype.lockElement=function(e){this.prepElement(e);},t.prototype.unlockElement=function(e){this.restoreAllStyles(e);},t.prototype.lockWheel=function(){window.addEventListener(this._pointerEvents.wheel,this.wheelLockEvent,!!this._passiveSupported&&{passive:!1});},t.prototype.unlockWheel=function(){window.removeEventListener(this._pointerEvents.wheel,this.wheelLockEvent);},t.prototype.isLocalElement=function(e,t,i){var n=this.getCache("local_pointer_"+e.id);if(j(n))return n;var r=_n(t)||document;if(r.elementFromPoint){var a=r.elementFromPoint(e.point.x,e.point.y),o=a&&Cn(t,a);return this.setCache("local_pointer_"+e.id+"_"+i,o,100),o}return !1},t.prototype.wheelLockEvent=function(e){return e.preventDefault(),!1},t.prototype.prepElement=function(e){var t=e.element;if(t){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],n=0;n<i.length;n++)i[n]in t.style&&this.setTemporaryStyle(e,i[n],"none");this.setTemporaryStyle(e,"tapHighlightColor","rgba(0, 0, 0, 0)");}},t.prototype.unprepElement=function(e){var t=e.element;if(t){for(var i=["touchAction","webkitTouchAction","MozTouchAction","MSTouchAction","msTouchAction","oTouchAction","userSelect","webkitUserSelect","MozUserSelect","MSUserSelect","msUserSelect","oUserSelect","touchSelect","webkitTouchSelect","MozTouchSelect","MSTouchSelect","msTouchSelect","oTouchSelect","touchCallout","webkitTouchCallout","MozTouchCallout","MSTouchCallout","msTouchCallout","oTouchCallout","contentZooming","webkitContentZooming","MozContentZooming","MSContentZooming","msContentZooming","oContentZooming","userDrag","webkitUserDrag","MozUserDrag","MSUserDrag","msUserDrag","oUserDrag"],n=0;n<i.length;n++)i[n]in t.style&&this.restoreStyle(e,i[n]);this.restoreStyle(e,"tapHighlightColor");}},t.prototype.getHitOption=function(e,t){var i=e.hitOptions[t];return void 0===i&&(i=this.hitOptions[t]),i},t.prototype.getHoverOption=function(e,t){var i=e.hoverOptions[t];return void 0===i&&(i=this.hoverOptions[t]),i},t.prototype.getSwipeOption=function(e,t){var i=e.swipeOptions[t];return void 0===i&&(i=this.swipeOptions[t]),i},t.prototype.getKeyboardOption=function(e,t){var i=e.keyboardOptions[t];return void 0===i&&(i=this.keyboardOptions[t]),i},t.prototype.getMouseOption=function(e,t){var i=e.mouseOptions[t];return void 0===i&&(i=this.mouseOptions[t]),i},t.prototype.getInertiaOption=function(e,t,i){var n=e.inertiaOptions.getKey(t);return n&&j(n[i])?n[i]:this.inertiaOptions.getKey(t)[i]},t.prototype.stopInertia=function(e){for(var t,i=["move","resize"],n=0;n<i.length;n++)if(t=i[n],e.inertias.hasKey(t)){var r=e.inertias.getKey(t);if(r){r.dispose();continue}}},t.prototype.swiping=function(e,t){var i=Wn();return !(t.swipeCanceled||!e.swipeable)&&(Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>i-this.getSwipeOption(e,"time"))},t.prototype.swiped=function(e,t){var i=Wn();return !t.swipeCanceled&&(Math.abs(t.startPoint.x-t.point.x)>this.getSwipeOption(e,"horizontalThreshold")&&Math.abs(t.startPoint.y-t.point.y)<this.getSwipeOption(e,"verticalThreshold")&&t.startTime>i-this.getSwipeOption(e,"time"))},t.prototype.applyCursorOverStyle=function(e){var t=e.cursorOptions;if(j(t.overStyle))for(var i=0;i<t.overStyle.length;i++)vn(e.element,t.overStyle[i].property,t.overStyle[i].value);},t.prototype.applyCursorDownStyle=function(e,t){if(!t||!t.touch){var i=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&j(i))for(var n=0;n<i.length;n++)this.setTemporaryStyle(this.body,i[n].property,i[n].value),this.setTemporaryStyle(e,i[n].property,i[n].value);}},t.prototype.restoreCursorDownStyle=function(e,t){if(!t||!t.touch){var i=e.cursorOptions.downStyle;if(e.downPointers.contains(t)&&j(i))for(var n=0;n<i.length;n++)this.restoreStyle(this.body,i[n].property),this.restoreStyle(e,i[n].property);}},t.prototype.setGlobalStyle=function(e){for(var t=Kn().body,i=H(e)?e:[e],n=0;n<i.length;n++)this.setTemporaryStyle(t,i[n].property,i[n].value);},t.prototype.restoreGlobalStyle=function(e){for(var t=Kn().body,i=H(e)?e:[e],n=0;n<i.length;n++)this.restoreStyle(t,i[n].property);},t.prototype.isGlobalElement=function(e){return document.body===e.element},t.prototype.moved=function(e,t,i){var n=this.getShift(e);return Math.abs(n.x)>t||Math.abs(n.y)>t},t.prototype.old=function(e,t){return void 0===t&&(t=300),Wn()-e.startTime>t},t.prototype.getShift=function(e){return {x:e.startPoint.x-e.point.x,y:e.startPoint.y-e.point.y}},t.prototype.getTrailPoint=function(e,t){for(var i,n=0;n<e.track.length;n++)if(e.track[n].timestamp>=t){i=e.track[n];break}return i},t.prototype.pointerExists=function(e,t){var i=!1;return e.each((function(e){e!=t&&(i=e.point.x==t.point.x&&e.point.y==t.point.y);})),i},t.prototype.getInteraction=function(e){return new Ln(e)},t.prototype.setTemporaryStyle=function(e,t,i){var n=e.element;j(n.style[t])&&!e.replacedStyles.hasKey(t)&&e.replacedStyles.setKey(t,n.style[t]),vn(n,t,i);},t.prototype.restoreStyle=function(e,t){e.replacedStyles.hasKey(t)?(e.element.style[t]=e.replacedStyles.getKey(t),e.replacedStyles.removeKey(t)):delete e.element.style[t];},t.prototype.restoreAllStyles=function(e){ut(e.replacedStyles.iterator(),(function(t){var i=t[0],n=t[1];e.element.style[i]=n,e.replacedStyles.removeKey(i);}));},t.prototype.dispose=function(){this.isDisposed()||(e.prototype.dispose.call(this),this.restoreAllStyles(this.body),this.unlockWheel());},t.prototype.log=function(e,t,i){if(t.changedTouches)for(var n=0;n<t.changedTouches.length;n++)this.logTouch(e,t.type,t.changedTouches[n]);else {var r="";if(t.pointerType)switch(t.pointerType){case 2:r="touch";break;case 4:r="mouse";break;default:r=t.pointerType;}else r="undefined"!=typeof TouchEvent&&t instanceof TouchEvent?"touch":t.type.match(/^mouse/)?"mouse":"???";var a="";a=j(t.identifier)?t.identifier:j(t.pointerId)?t.pointerId:"???",i?console.log(e+" ("+i.uid+")  "+t.type+"  "+r+"  "+a):console.log(e+"  "+t.type+"  "+r+"  "+a);}},t.prototype.areTransformed=function(e){var t=this.transformedObjects.length;if(e)for(var i=H(e)?e:[e],n=0;n<i.length;n++)this.transformedObjects.contains(i[n])&&t--;return t>0},t.prototype.logTouch=function(e,t,i){console.log(e+"  "+t+"  touch  "+i.identifier);},Object.defineProperty(t,"passiveSupported",{get:function(){var e=this;if(null==this._passiveSupported)try{var t=Object.defineProperty({},"passive",{get:function(){e._passiveSupported=!0;}});window.addEventListener("test",t,t),window.removeEventListener("test",t,t);}catch(e){this._passiveSupported=!1;}return this._passiveSupported},enumerable:!0,configurable:!0}),t}(Jt),Yn=null;function Kn(){return null==Yn&&(Yn=new $n),Yn}var Xn=function(e){function t(){var t=e.call(this)||this;return t.adapter=new Rt(t),t._elements={},t._IOs={},t._content="",t._title="",t._classPrefix="ampopup",t._defaultStyles=!0,t._showCurtain=!1,t._draggable=!0,t._align="center",t._dynamicResize=!0,t._verticalAlign="middle",t._shift={x:0,y:0},t._tempShift={x:0,y:0},t._readerTitle="",t._closable=!0,t._cssLoaded=!1,t._fitTo="window",t.isTemplate=!1,t._sized=!1,t.className="Popup",t}return x(t,e),t.prototype.open=function(){this.container&&(this._elements.wrapper&&this.container.appendChild(this._elements.wrapper),this._elements.curtain&&(this.container.appendChild(this._elements.curtain),this.showCurtain=this.showCurtain),this.positionElement(),this.dispatchImmediately("opened"));},t.prototype.close=function(){this._elements.wrapper&&this._elements.wrapper.parentElement&&this._elements.wrapper.parentElement.removeChild(this._elements.wrapper),this._elements.curtain&&this._elements.curtain.parentElement&&this._elements.curtain.parentElement.removeChild(this._elements.curtain),this.dispatchImmediately("closed"),this.releasePointers();},t.prototype.dispose=function(){this.close(),e.prototype.dispose.call(this);},t.prototype.positionElement=function(e){var t=this;void 0===e&&(e=!0),this._elements.wrapper&&setTimeout((function(){if(t._elements.wrapper){if(e||!t._sized){t._elements.wrapper.style.opacity="0.01",t._elements.wrapper.style.left="0",t._elements.wrapper.style.top="0",t._elements.wrapper.style.margin="0 0 0 0",t._elements.wrapper.style.width="",t._elements.wrapper.style.height="";var i=t._elements.wrapper.getBoundingClientRect();t._elements.wrapper.style.width=i.width+"px",t._elements.wrapper.style.height=i.height+"px",t._sized=!0;}if(t.dynamicResize)for(var n=t._elements.wrapper.getElementsByTagName("img"),r=0;r<n.length;r++){var a=n[r];if(!a.complete){a.addEventListener("load",(function(){t.positionElement(!0);}));break}}setTimeout((function(){if(t._elements.wrapper){var i;switch(!e&&t._sized||!t._bbox?(i=t._elements.wrapper.getBoundingClientRect(),t._elements.wrapper.style.opacity=""):i=t._bbox,t.align){case"left":t._elements.wrapper.style.left="0",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;case"center":t._elements.wrapper.style.left="50%",t._elements.wrapper.style.right="auto",t._elements.wrapper.style.marginLeft=t.toStyle(Math.round(-i.width/2)+(t._shift.x+t._tempShift.x));break;case"right":t._elements.wrapper.style.left="auto",t._elements.wrapper.style.right="0",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);break;default:t._elements.wrapper.style.left=t.toStyle(t.left)||"auto",t._elements.wrapper.style.right=t.toStyle(t.right)||"auto",t._elements.wrapper.style.marginLeft=t.toStyle(t._shift.x+t._tempShift.x);}switch(t.verticalAlign){case"top":t._elements.wrapper.style.top="0",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;case"middle":t._elements.wrapper.style.top="50%",t._elements.wrapper.style.bottom="auto",t._elements.wrapper.style.marginTop=t.toStyle(Math.round(-i.height/2)+(t._shift.y+t._tempShift.y));break;case"bottom":t._elements.wrapper.style.top="auto",t._elements.wrapper.style.bottom="0",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);break;default:t._elements.wrapper.style.top=t.toStyle(t.top)||"auto",t._elements.wrapper.style.bottom=t.toStyle(t.bottom)||"auto",t._elements.wrapper.style.marginTop=t.toStyle(t._shift.y+t._tempShift.y);}}}),1);}}),1);},t.prototype.setupDragging=function(){var e=this;this.draggable?(this._IOs.header.events.has("drag")||this._IOs.header.events.on("drag",(function(t){e._tempShift.x=t.shift.x,e._tempShift.y=t.shift.y,e.positionElement(!1);})),this._IOs.header.events.has("dragstop")||this._IOs.header.events.on("dragstop",(function(t){e._shift.x+=e._tempShift.x,e._shift.y+=e._tempShift.y,e._tempShift.x=0,e._tempShift.y=0,e.positionElement(!1);}))):this._IOs.header&&(Kn().unprepElement(this._IOs.header),this._IOs.header.events.has("drag")&&this._IOs.header.events.off("drag"),this._IOs.header.events.has("dragstop")&&this._IOs.header.events.off("dragstop"));},t.prototype.toStyle=function(e){return j(e)?W(e)?e+"px":e.toString():null},Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",this._classPrefix)},set:function(e){this._classPrefix=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefixRaw",{get:function(){return this._classPrefix},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.adapter.apply("content",this._content)},set:function(e){this._content!=e&&(this._content=e,this._elements.content||this.createContentElement(),this._elements.content.innerHTML=e,this.positionElement());},enumerable:!0,configurable:!0}),t.prototype.getClassNames=function(){return this.adapter.apply("classNames",{wrapperClass:this.classPrefix+"",headerClass:this.classPrefix+"-header",titleClass:this.classPrefix+"-title",contentClass:this.classPrefix+"-content",insideClass:this.classPrefix+"-inside",curtainClass:this.classPrefix+"-curtain",closeClass:this.classPrefix+"-close"})},t.prototype.createContentElement=function(){if(!this._elements.wrapper){var e=this.getClassNames(),t=document.createElement("div");t.className=e.contentClass,t.style.opacity="0.01";var i=document.createElement("a");i.className=e.closeClass;var n=document.createElement("div");n.className=e.headerClass;var r=document.createElement("div");r.innerHTML=this.title,r.className=e.titleClass,this.title||(r.style.display="none");var a=document.createElement("div");a.className=e.insideClass,a.innerHTML=this.content,this._IOs.wrapper=Kn().getInteraction(t),this._IOs.header=Kn().getInteraction(n),this._disposers.push(this._IOs.wrapper),this._IOs.wrapper.events.on("over",this.disablePointers,this),this._IOs.wrapper.events.on("out",this.releasePointers,this),this._IOs.close=Kn().getInteraction(i),this._disposers.push(this._IOs.close),i.style.visibility="hidden",t.setAttribute("role","dialog"),n.appendChild(i),n.appendChild(r),t.appendChild(n),t.appendChild(a),this.container.appendChild(t),this._elements.wrapper=t,this._elements.header=n,this._elements.content=a,this._elements.title=r,this._elements.close=i,this.defaultStyles&&this.loadDefaultCSS(),this.createCurtainElement(),this.applyEvents(),this.applyReaderSettings(),this.setupDragging();}},Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",this._title)},set:function(e){this._title!=e&&(this._title=e,this._elements.content||this.createContentElement(),this._elements.title.innerHTML=e,this.positionElement(),this.applyReaderSettings());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerTitle",{get:function(){return this.adapter.apply("readerTitle",""!=this._readerTitle?this._readerTitle:this.title)},set:function(e){this._readerTitle!=e&&(this._readerTitle=e,this.applyReaderSettings());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closable",{get:function(){return this.adapter.apply("closable",this._closable)},set:function(e){e!==this._closable&&(this._closable=e,this.applyEvents());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fitTo",{get:function(){return this.adapter.apply("fitTo",this._fitTo)},set:function(e){e!=this._fitTo&&(this._fitTo=e,this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",this._defaultStyles)},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showCurtain",{get:function(){return this.adapter.apply("showCurtain",this._showCurtain)},set:function(e){this._showCurtain!=e&&(this._showCurtain=e,this._elements.curtain&&(this._elements.curtain.style.display=e?"block":"none"));},enumerable:!0,configurable:!0}),t.prototype.createCurtainElement=function(){var e=this.getClassNames(),t=document.createElement("div");t.className=e.curtainClass,this.container.appendChild(t),this._IOs.curtain=Kn().getInteraction(t),this._disposers.push(this._IOs.curtain),this._IOs.curtain.events.on("over",this.disablePointers,this),this._IOs.curtain.events.on("out",this.releasePointers,this),t.style.display=this.showCurtain?"block":"none",this._elements.curtain=t;},Object.defineProperty(t.prototype,"draggable",{get:function(){return this.adapter.apply("draggable",this._draggable)},set:function(e){this._draggable!=e&&(this._draggable=e,this.setupDragging());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dynamicResize",{get:function(){return this.adapter.apply("dynamicResize",this._dynamicResize)},set:function(e){this._dynamicResize!=e&&(this._dynamicResize=e,this.positionElement(!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",this._align)},set:function(e){this._align!=e&&(this._align=e,this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",this._verticalAlign)},set:function(e){this._verticalAlign!=e&&(this._verticalAlign=e,this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.adapter.apply("left",this._left)},set:function(e){this.left!=e&&(this._left=e,this._align="none",this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.adapter.apply("right",this._right)},set:function(e){this.right!=e&&(this._right=e,this._align="none",this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.adapter.apply("top",this._top)},set:function(e){this.top!=e&&(this._top=e,this._verticalAlign="none",this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.adapter.apply("bottom",this._bottom)},set:function(e){this.bottom!=e&&(this._bottom=e,this._verticalAlign="none",this.positionElement());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){this._cssLoaded||(this._disposers.push(function(e,t){t||(t="ampopup");var i=new Fn,n=i.getFor("text"),r=i.getFor("background");r.alpha=.8;var a=i.getFor("alternativeBackground");return a.alpha=.05,Dn.insertKeyIfEmpty(t,(function(){var i=new Re([new wn(e,"."+t,{overflow:"visible",position:"absolute",top:"0",left:"0","z-index":"2000"}),new wn(e,"."+t+"-curtain",{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"2001","background-color":r.hex,opacity:"0.5"}),new wn(e,"."+t+"-header",{display:"block",width:"100%","min-height":"1.8em",background:a.rgba}),new wn(e,"."+t+"-title",{"font-weight":"bold","font-size":"110%",padding:"0.5em 1.2em 0.5em 1em"}),new wn(e,"."+t+"-content",{background:r.hex,"background-color":r.rgba,color:n.hex,display:"inline-block",position:"absolute",top:"0",left:"0","max-width":"90%","max-height":"90%",overflow:"auto","z-index":"2002"}),new wn(e,"."+t+"-inside",{padding:"1em"}),new wn(e,"."+t+"-close",{display:"block",position:"absolute",top:"0.3em",right:"0.3em","background-color":"rgb(100, 100, 100)",background:"rgba(100, 100, 100, 0.1) url(data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=) no-repeat center","background-size":"80%",width:"1.2em",height:"1.2em",cursor:"pointer"})]);return new Ne((function(){Dn.removeKey(t),i.dispose();}))})).increment()}(Sn(this.container),this.classPrefix)),tt(this._elements,(function(e,t){t.style.display="";})),this._cssLoaded=!0);},t.prototype.applyEvents=function(){var e=this;if(this._IOs.close)if(this.closable){this._IOs.close.element.style.visibility="visible";var t=[Kn().body.events.on("keyup",(function(t){Vn.isKey(t.event,"esc")&&e.closable&&e.close();})),this._IOs.close.events.on("hit",(function(t){e.close();}))];t.push(this._IOs.curtain.events.on("hit",(function(t){e.showCurtain&&e.closable&&e.close();}))),this._disposers.push(new Re(t));}else this._IOs.close.element.style.visibility="hidden";},t.prototype.disablePointers=function(){this.sprite&&(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled,this.sprite.interactionsEnabled=!1);},t.prototype.releasePointers=function(){j(this._spriteInteractionsEnabled)&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled,this._spriteInteractionsEnabled=void 0);},t.prototype.applyReaderSettings=function(){this.elements.wrapper.setAttribute("aria-label",this.readerTitle);},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.container=t.container,this.sprite=t.sprite,this.classPrefix=t.classPrefixRaw,this.content=t.content,this.title=t.title,this.readerTitle=t.readerTitle,this.defaultStyles=t.defaultStyles,this.showCurtain=t.showCurtain,this.align=t.align,this.verticalAlign=t.verticalAlign,this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.adapter.copyFrom(t.adapter);},t}(Jt),Jn=function(e){function t(){var t=e.call(this)||this;return t.adapter=new Rt(t),t.className="Modal",t.showCurtain=!0,t.draggable=!1,t}return x(t,e),t}(Xn);function Zn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console&&console.warn.apply(console,I(e));}var Qn=function(){function e(){var e=this;this._targets=[],this._observer=new ResizeObserver((function(t){we(t,(function(t){we(e._targets,(function(e){e.target===t.target&&e.callback();}));}));}));}return e.prototype.addTarget=function(e,t){this._observer.observe(e,{box:"content-box"}),this._targets.push({target:e,callback:t});},e.prototype.removeTarget=function(e){this._observer.unobserve(e),je(this._targets,(function(t){return t.target!==e}));},e}(),er=function(){function e(){this._targets=[];}return e.prototype.addTarget=function(t,i){var n=this;if(0===this._targets.length){var r=null,a=function(){var t=Date.now();(null===r||t>r+e.delay)&&(r=t,we(n._targets,(function(e){var t=e.target.getBoundingClientRect();t.width===e.size.width&&t.height===e.size.height||(e.size=t,e.callback());}))),n._timer=requestAnimationFrame(a);};this._timer=requestAnimationFrame(a);}var o=t.getBoundingClientRect();this._targets.push({target:t,callback:i,size:o});},e.prototype.removeTarget=function(e){je(this._targets,(function(t){return t.target!==e})),0===this._targets.length&&cancelAnimationFrame(this._timer);},e.delay=200,e}(),tr=null;var ir=function(){function e(e,t){this._disposed=!1,this._sensor=(null===tr&&(tr="undefined"!=typeof ResizeObserver?new Qn:new er),tr),this._element=e,this._sensor.addTarget(e,t);}return e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element));},Object.defineProperty(e.prototype,"sensor",{get:function(){return this._sensor},enumerable:!0,configurable:!0}),e.prototype.reset=function(){Zn("resizeSensor.reset() is no longer needed and can be removed");},e}(),nr=[],rr=function(){function e(e,t){var i=this;this._disposed=!1,this.autoResize=!0,this.nonExportableSprites=[],this._disposers=[],this.cssScale=1,this._printing=!1,this.htmlElement=e,t||(this._printing=!1,this.initSensor(),this._disposers.push(mn(window,"beforeprint",(function(){i._printing=!0;}))),this._disposers.push(mn(window,"afterprint",(function(){i._printing=!1;})))),nr.push(this);var n=document.createElement("div"),r=n.style;r.width="100%",r.height="100%",r.position="relative",e.appendChild(n),this.SVGContainer=n;}return e.prototype.initSensor=function(){var e=this;this.resizeSensor&&this.resizeSensor.dispose();this.resizeSensor=new ir(this.htmlElement,(function(){e.autoResize&&!e._printing&&e.measure();})),this._disposers.push(this.resizeSensor);},e.prototype.measure=function(){var e=function(e){var t=getComputedStyle(e),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth);return e.clientWidth-i-n}(this.htmlElement),t=function(e){var t=getComputedStyle(e),i=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),n=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth);return e.clientHeight-i-n}(this.htmlElement),i=this.container;i&&(this.width==e&&this.height==t||(this.width=e,this.height=t,e>0&&(i.maxWidth=e),t>0&&(i.maxHeight=t),Pn(this.SVGContainer)),i.maxWidth||(i.maxWidth=0),i.maxHeight||(i.maxHeight=0),this.cssScale=1,this.checkTransform(this.htmlElement));},Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.measure();},enumerable:!0,configurable:!0}),e.prototype.isDisposed=function(){return this._disposed},e.prototype.dispose=function(){this._disposed||Te(nr,this),we(this._disposers,(function(e){e.dispose();}));},Object.defineProperty(e.prototype,"hideOverflow",{set:function(e){this.SVGContainer.style.overflow=e?"hidden":"";},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modal",{get:function(){return j(this._modal)||(this._modal=new Jn,this._modal.container=this.SVGContainer,this._disposers.push(this._modal)),this._modal},enumerable:!0,configurable:!0}),e.prototype.openModal=function(e,t){this.closeModal();var i=this.modal;return i.content=e,i.readerTitle=t||"",i.title=t||"",i.open(),i},e.prototype.closeModal=function(){this._modal&&this.modal.close();},Object.defineProperty(e.prototype,"popups",{get:function(){if(!j(this._popups)){var e=new Xn;e.container=this.SVGContainer,this._popups=new At(e),this._disposers.push(new wt(this._popups)),this._disposers.push(this._popups.template);}return this._popups},enumerable:!0,configurable:!0}),e.prototype.openPopup=function(e,t){var i=this.popups.create();return i.content=e,j(t)&&(i.title=t),i.open(),i},e.prototype.closeAllPopups=function(){this.popups.each((function(e){e.close();}));},Object.defineProperty(e.prototype,"readerAlertElement",{get:function(){if(!j(this._readerAlertElement)){var e=document.createElement("div");e.setAttribute("role","alert"),e.style.zIndex="-100000",e.style.opacity="0",e.style.position="absolute",e.style.top="0",this.SVGContainer.appendChild(e),this._readerAlertElement=e;}return this._readerAlertElement},enumerable:!0,configurable:!0}),e.prototype.readerAlert=function(e){this.readerAlertElement.innerHTML=e;},e.prototype.checkTransform=function(e){if(window.getComputedStyle){if(e&&e.style){var t=window.getComputedStyle(e,null);if(t){var i=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("-moz-transform")||t.getPropertyValue("-ms-transform")||t.getPropertyValue("-o-transform")||t.getPropertyValue("transform");if(i&&"none"!==i){var n=i.split("(")[1].split(")")[0].split(","),r=Number(n[0]),a=Number(n[1]),o=Math.sqrt(r*r+a*a);isNaN(o)||(this.cssScale*=o);}}}e.parentNode&&e.parentNode instanceof HTMLElement&&this.checkTransform(e.parentNode);}},e}(),ar=function(){function e(e,t){this.container=e,this.id=t;var i=document.createElementNS(cn,"svg");i.setAttribute("version","1.1"),i.setAttributeNS(hn,"xmlns",cn),i.setAttributeNS(hn,"xmlns:xlink",pn),i.setAttribute("role","group"),this.container.appendChild(i),this.defs=document.createElementNS(cn,"defs"),i.appendChild(this.defs),i.style.width="100%",i.style.height="100%",i.style.overflow="visible",this.svg=i;}return e.prototype.add=function(e){return new On(e)},e.prototype.addGroup=function(e){return new kn(e)},e.prototype.append=function(e){e&&this.svg.appendChild(e.node);},e.prototype.appendDef=function(e){e&&this.defs.appendChild(e.node);},e.prototype.foreignObject=function(){return new On("foreignObject")},e.prototype.supportsForeignObject=function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Extensibility","1.1")},e}(),or=null;function sr(){if(null===or){var e=document.createElement("div");e.hidden=!0,e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.zIndex="-1000000",document.body.appendChild(e);var t=new rr(e,!0);or=new ar(t.SVGContainer,"ghost");}return or}var lr=function(e){function t(){var t=e.call(this)||this;t._elements=new Tt,t.properties={},t.className="Pattern",t.width=10,t.height=10,t.x=0,t.y=0,t.patternUnits="userSpaceOnUse";var i=new Fn;return t.backgroundFill=i.getFor("background"),t.backgroundOpacity=0,t.fillOpacity=1,t.fill=i.getFor("alternativeBackground"),t.stroke=i.getFor("alternativeBackground"),t.strokeOpacity=1,t.strokeWidth=1,t.shapeRendering="crispEdges",t.rotation=0,t.element=t.paper.addGroup("pattern"),t.id="pattern-"+St.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t._disposers.push(new wt(t._elements)),t.patternUnits=t.patternUnits,t.width=t.width,t.height=t.height,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){var e=this,t=this.element;if(t){t.removeChildNodes();var i=this.paper.add("rect");i.attr({width:this.width,height:this.height,"shape-rendering":"crispEdges",fill:this.backgroundFill.hex,"fill-opacity":this.backgroundOpacity,stroke:this.backgroundFill.hex,"stroke-opacity":0}),t.add(i),t.attr({x:this.x,y:this.y,width:this.width,height:this.height,stroke:this.stroke.hex,fill:this.fill.hex,"fill-opacity":this.fillOpacity,"stroke-opacity":this.strokeOpacity,"stroke-width":this.strokeWidth,"shape-rendering":this.shapeRendering,patternUnits:this.patternUnits,"stroke-dasharray":this.strokeDasharray}),ut(this._elements.iterator(),(function(t){t.rotation=e.rotation,t.rotationX=e.properties.rotationX,t.rotationY=e.properties.rotationY,e.element.add(t);}));}},t.prototype.animate=function(e,t,i){return new dn(this,e,t,i).start()},t.prototype.addElement=function(e){this._elements.push(e),this._disposers.push(e);},t.prototype.removeElement=function(e){this._elements.removeValue(e),this.removeDispose(e);},Object.defineProperty(t.prototype,"elements",{get:function(){return this._elements},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.properties.fillOpacity},set:function(e){this.properties.fillOpacity=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.properties.fill},set:function(e){this.properties.fill=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundFill",{get:function(){return this.properties.backgroundFill},set:function(e){this.properties.backgroundFill=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundOpacity",{get:function(){return this.properties.backgroundOpacity},set:function(e){this.properties.backgroundOpacity=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.properties.strokeOpacity},set:function(e){this.properties.strokeOpacity=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.properties.shapeRendering},set:function(e){this.properties.shapeRendering=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.properties.rotation},set:function(e){this.properties.rotation=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patternUnits",{get:function(){return this.properties.patternUnits},set:function(e){this.properties.patternUnits=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.properties.x},set:function(e){this.properties.x=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.properties.y},set:function(e){this.properties.y=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:sr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element));},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),tt(t.properties,(function(e,t){i[e]=t;}));},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new un(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.properties.strokeDashArray},set:function(e){this.properties.strokeDashArray=e,this.draw();},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t&&j(t.elements)&&H(t.elements))for(var i=0,n=t.elements.length;i<n;i++){var r=t.elements[i];if(j(r.type)){var a=this.createEntryInstance(r);a instanceof Xt&&(a.config=r),this.addElement(j(r.typeProperty)?a[r.typeProperty]:a.element);}}e.prototype.processConfig.call(this,t);},t}(Xt);St.registeredClasses.Pattern=lr;var ur=function(e){function t(){var t=e.call(this)||this;return t._stops=new Tt,t._rotation=0,t.className="LinearGradient",t._stops.events.on("setIndex",t.validate,t),t._stops.events.on("inserted",t.validate,t),t.element=t.paper.addGroup("linearGradient"),t.id="gradient-"+St.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){var e=this,t=(this._rotation+90)*q,i=Math.round(50+50*Math.sin(t+Math.PI))+"%",n=Math.round(50+50*Math.cos(t))+"%",r=Math.round(50+50*Math.sin(t))+"%",a=Math.round(50+50*Math.cos(t+Math.PI))+"%",o=this.element;o.removeChildNodes(),o.attr({x1:i,x2:r,y1:n,y2:a}),ut(ht(this._stops.iterator()),(function(t){var i=t[0],n=t[1],r=n.offset;W(r)||(r=i/(e._stops.length-1));var a=e.paper.add("stop");j(n.color)&&a.attr({"stop-color":n.color.toString()}),W(n.opacity)&&a.attr({"stop-opacity":n.opacity}),W(r)&&a.attr({offset:r}),o.add(a);}));},t.prototype.clear=function(){this._stops.clear();},t.prototype.addColor=function(e,t,i){this._stops.push({color:e,opacity:t,offset:i});},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:sr()},set:function(e){this._paper!=e&&(this._paper=e,this.validate(),e.appendDef(this.element));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this.validate();},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.stops.copyFrom(t.stops),this._rotation=t.rotation;},Object.defineProperty(t.prototype,"gradientUnits",{set:function(e){this.element.attr({gradientUnits:e});},enumerable:!0,configurable:!0}),t}(Xt);St.registeredClasses.LinearGradient=ur;var dr=function(e){function t(){var t=e.call(this)||this;return t._stops=new Tt,t.element=t.paper.addGroup("radialGradient"),t.id="gradient-"+St.getUniqueId(),t.element.attr({id:t.id}),t._disposers.push(t.element),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){var e,t=this,i=this.element;W(this.cx)&&((e=this.cx)instanceof T&&(e=e.percent+"%"),i.attr({cx:e}));W(this.cy)&&((e=this.cy)instanceof T&&(e=e.percent+"%"),i.attr({cy:e}));this.fx&&((e=this.fx)instanceof T&&(e=e.percent+"%"),i.attr({fx:e}));this.fy&&((e=this.fy)instanceof T&&(e=e.percent+"%"),i.attr({fy:e}));i.removeChildNodes(),ut(ht(this._stops.iterator()),(function(e){var n=e[0],r=e[1],a=r.offset;W(a)||(a=n/(t._stops.length-1));var o=t.paper.add("stop");j(r.color)&&o.attr({"stop-color":r.color.toString()}),W(r.opacity)&&o.attr({"stop-opacity":r.opacity}),W(a)&&o.attr({offset:a}),i.add(o);}));},t.prototype.addColor=function(e,t,i){this._stops.push({color:e,opacity:t,offset:i}),this.draw();},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:sr()},set:function(e){this._paper!=e&&(this._paper=e,this.draw(),e.appendDef(this.element));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cx",{get:function(){return this._cx},set:function(e){this._cx=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cy",{get:function(){return this._cy},set:function(e){this._cy=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fx",{get:function(){return this._fx},set:function(e){this._fx=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fy",{get:function(){return this._fy},set:function(e){this._fy=e,this.draw();},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.stops.copyFrom(t.stops),this.cx=t.cx,this.cy=t.cy,this.fx=t.fx,this.fy=t.fy;},Object.defineProperty(t.prototype,"stops",{get:function(){return this._stops},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._stops.clear();},t}(Xt);St.registeredClasses.RadialGradient=dr;var cr,hr=function(){function e(){}return e.grab=[{property:"cursor",value:"move"},{property:"cursor",value:"grab"},{property:"cursor",value:"-webkit-grab"}],e.grabbing=[{property:"cursor",value:"move"},{property:"cursor",value:"grabbing"},{property:"cursor",value:"-webkit-grabbing"}],e.pointer=[{property:"cursor",value:"pointer"}],e.default=[{property:"cursor",value:"default"}],e.horizontalResize=[{property:"cursor",value:"ew-resize"}],e.verticalResize=[{property:"cursor",value:"ns-resize"}],e.notAllowed=[{property:"cursor",value:"not-allowed"}],e.text=[{property:"cursor",value:"text"}],e}(),pr={_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"μ",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(e){var t="th";if(e<11||e>13)switch(e%10){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";}return t},"Zoom Out":"",Play:"",Stop:"",Legend:"","Click, tap or press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Click, tap or press ENTER to open":"","Click, tap or press ENTER to print.":"","Click, tap or press ENTER to export as %1.":"",'To save the image, right-click this link and choose "Save picture as..."':"",'To save the image, right-click thumbnail on the left and choose "Save picture as..."':"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},mr=function(e){function t(){var t=e.call(this)||this;return t.adapter=new Rt(t),t._locale=pr,t._defaultLocale=pr,t.className="Language",j(nn.defaultLocale)&&(t.locale=nn.defaultLocale),t.applyTheme(),t}return x(t,e),t.prototype.getLocale=function(e){return null==e&&(e=this._locale),this.adapter.apply("locale",{locale:e}).locale},t.prototype.translate=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];t=this.getLocale(t);var r=e,a=this.getTranslations(t),o=a[e];if(null===o)r="";else if(j(o))o&&(r=o);else if(t!==this._defaultLocale)return this.translate.apply(this,I([e,this._defaultLocale],i));if(i.length)for(var s=i.length,l=0;l<s;++l)r=r.split("%"+(l+1)).join(i[l]);return this.adapter.apply("translate",{translation:r,locale:t}).translation},t.prototype.translateAny=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return this.translate.apply(this,I([e,t],i))},t.prototype.setTranslationAny=function(e,t,i){(i||this.locale)[e]=t;},t.prototype.translateEmpty=function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=this.translate.apply(this,I([e,t],i));return r==e?"":r},t.prototype.translateFunc=function(e,t){t=this.getLocale(t);var i=this.getTranslations(t)[e];return null!=i?i:t!==this._defaultLocale?this.translateFunc(e,this._defaultLocale):function(){return ""}},t.prototype.translateAll=function(e,t){var i=this;return this.isDefault()?e:Pe(e,(function(e){return i.translate(e,t)}))},t.prototype.isDefault=function(){return this._defaultLocale===this._locale},Object.defineProperty(t.prototype,"locale",{get:function(){return this._locale},set:function(e){if(this._locale!=e&&(this._locale=e,this.events.isEnabled("localechanged"))){var t={type:"localechanged",locale:e,target:this};this.events.dispatchImmediately("localechanged",t);}},enumerable:!0,configurable:!0}),t.prototype.getTranslations=function(e){return this.adapter.apply("translations",{translations:e,locale:e}).translations},t}(Jt),fr=function(e){function t(){var t=e.call(this)||this;return t.adapter=new Rt(t),t.className="TextFormatter",t.applyTheme(),t}return x(t,e),t.prototype.debug=function(){},t.prototype.format=function(e,t){j(t)||(t="svg");var i="",n=(e=this.escape(e)).match(/\[([^\]]*?)\]/gm);if(!n)return this.wrap(e,"",t);for(var r=e.split(/\[[^\[\]]*\]/),a=0,o=r.length;a<o;a++){var s=r[a];if(""!==s){s=this.adapter.apply("chunk",s);var l="";a>0&&(l=n[a-1].replace("[","").replace("]","")),i+=this.wrap(s,l,t);}}return i=this.unescape(i),this.cleanUp(i)},t.prototype.escape=function(e){return e.replace(/\[\[/g,St.getPlaceholder("1")).replace(/([^\/\]]{1})\]\]/g,"$1"+St.getPlaceholder("2")).replace(/\]\]/g,St.getPlaceholder("2")).replace(/\{\{/g,St.getPlaceholder("3")).replace(/\}\}/g,St.getPlaceholder("4")).replace(/\'\'/g,St.getPlaceholder("5"))},t.prototype.unescape=function(e){return e.replace(new RegExp(St.getPlaceholder("1"),"g"),"[[").replace(new RegExp(St.getPlaceholder("2"),"g"),"]]").replace(new RegExp(St.getPlaceholder("3"),"g"),"{{").replace(new RegExp(St.getPlaceholder("4"),"g"),"}}").replace(new RegExp(St.getPlaceholder("5"),"g"),"''")},t.prototype.cleanUp=function(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")},t.prototype.wrap=function(e,t,i){return ""!==t&&"/"!==t||(t=""),"html"===i?this.wrapHtml(e,this.translateStyleShortcuts(t)):this.wrapSvg(e,this.translateStyleShortcuts(t))},t.prototype.wrapSvg=function(e,t){return ""===t?"<tspan>"+e+"</tspan>":"<tspan style='"+t+"'>"+e+"</tspan>"},t.prototype.getSvgElement=function(e,t){var i=new On("tspan");return i.textContent=e,t&&i.node.setAttribute("style",t),i},t.prototype.wrapHtml=function(e,t){return ""===t?"<span>"+e+"</span>":"<span style='"+this.styleSvgToHtml(t)+"'>"+e+"</span>"},t.prototype.getHtmlElement=function(e,t){var i=document.createElement("span");return i.innerHTML=e,t&&i.setAttribute("style",t),i},t.prototype.styleSvgToHtml=function(e){return e=e.replace(/fill:/,"color:")},t.prototype.translateStyleShortcuts=function(e){if(""==e||"[ ]"==e)return "";var t=St.getCache("translateStyleShortcuts_"+e);if(t)return t;var i=e.match(/('[^']*')|("[^"]*")/gi);if(i)for(var n=0;n<i.length;n++)e=e.replace(i[n],i[n].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var r=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!r)return e;for(n=0;n<r.length;n++)r[n].match(/^bold$/i)?r[n]="font-weight:"+r[n]:"/"==r[n]?r[n]="":r[n].match(/:/)?r[n]=r[n].replace(/\+/g," "):r[n]="fill:"+r[n];var a=r.join(";");return St.setCache("translateStyleShortcuts_"+e,a),a},t.prototype.chunk=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var n=[];e=this.escape(e);for(var r=t?e.split("'"):[e],a=0;a<r.length;a++){var o=r[a];if(""!==o)if(a%2==0)for(var s=(o=(o=o.replace(/\]\[/g,"]__§§§__[")).replace(/\[\]/g,"[ ]")).split(/[\[\]]+/),l=0;l<s.length;l++){"__§§§__"!==(u=this.cleanUp(this.unescape(s[l])))&&(""!==u&&(l%2==0?n.push({type:"value",text:this.adapter.apply("chunk",u)}):n.push({type:i?"value":"format",text:"["+u+"]"})));}else for(s=o.split(/[\[\]]+/),l=0;l<s.length;l++){var u;""!==(u=this.cleanUp(this.unescape(s[l])))&&(l%2==0?n.push({type:"text",text:u}):this.isImage(u)?n.push({type:"image",text:"["+u+"]"}):n.push({type:"format",text:"["+u+"]"}));}}return n},t.prototype.isImage=function(e){return !!e.match(/img[ ]?:/)},t}(Xt);function gr(){return null==cr&&(cr=new fr),cr}St.registeredClasses.TextFormatter=fr;var yr=function(e){function t(){var t=e.call(this)||this;return t._negativeBase=0,t._numberFormat="#,###.#####",t._outputFormat="svg",t._smallNumberThreshold=1,t._forceLTR=!1,t.className="NumberFormatter",t.applyTheme(),t}return x(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.language&&this.language.dispose();},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this.sprite?this._language=this.sprite.language:this._language=new mr),this._language},set:function(e){this._language=e;},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t,i){var n;(void 0===t||N(t)&&"number"===t.toLowerCase())&&(t=this._numberFormat);var r,a=Number(e);if(z(t))try{return this.intlLocales?new Intl.NumberFormat(this.intlLocales,t).format(a):new Intl.NumberFormat(void 0,t).format(a)}catch(e){return "Invalid"}else {t=pi(t);var o=this.parseFormat(t,this.language),s=void 0;s=a>this._negativeBase?o.positive:a<this._negativeBase?o.negative:o.zero,j(i)&&!s.mod&&(r=s,(s=JSON.parse(JSON.stringify(r))).decimals.active=0==a?0:i),n=s.template.split("__§§§__").join(this.applyFormat(a,s));}return this.forceLTR&&(n="‎"+n),n},t.prototype.parseFormat=function(e,t){var i=this,n=this.getCache(e);if(j(n))return n;var r={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:t.translateEmpty("_thousandSeparator")},decimals:{active:-1,passive:-1,separator:t.translateEmpty("_decimalSeparator")},template:"",source:"",parsed:!1}},a=(e=e.replace("||","__§§§§__")).split("|");return r.positive.source=a[0],void 0===a[2]?r.zero=r.positive:r.zero.source=a[2],void 0===a[1]?r.negative=r.positive:r.negative.source=a[1],tt(r,(function(e,t){if(!t.parsed)if(void 0===i.getCache(t.source)){var n=t.source;"number"===n.toLowerCase()&&(n=N(i._numberFormat)?i._numberFormat:"#,###.#####");for(var a=gr().chunk(n,!0),o=0;o<a.length;o++){var s=a[o];if(s.text=s.text.replace("__§§§§__","|"),"value"===s.type){var l=s.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP‰!]?/);if(l)if(null===l||""===l[0])t.template+=s.text;else {var u=l[0].match(/[abespABESP%‰!]{2}|[abespABESP%‰]{1}$/);u&&(t.mod=u[0].toLowerCase(),t.modSpacing=!!l[0].match(/[ ]{1}[abespABESP%‰!]{1}$/));var d=l[0].split(".");if(""===d[0]);else {t.thousands.active=(d[0].match(/0/g)||[]).length,t.thousands.passive=(d[0].match(/\#/g)||[]).length+t.thousands.active;var c=d[0].split(",");1===c.length||(t.thousands.interval=V(c.pop()).length,0===t.thousands.interval&&(t.thousands.interval=-1));}void 0===d[1]||(t.decimals.active=(d[1].match(/0/g)||[]).length,t.decimals.passive=(d[1].match(/\#/g)||[]).length+t.decimals.active),t.template+=s.text.split(l[0]).join("__§§§__");}}else t.template+=s.text;}i.setCache(t.source,t),t.parsed=!0;}else r[e]=i.getCache(t.source);})),this.setCache(e,r),r},t.prototype.applyFormat=function(e,t){var i=e<0;e=Math.abs(e);var n="",r="",a=t.mod?t.mod.split(""):[];if(-1!==a.indexOf("b")){var o=this.applyPrefix(e,this.bytePrefixes,-1!==a.indexOf("!"));e=o[0],n=o[1],r=o[2],t.modSpacing&&(r=" "+r);}else if(-1!==a.indexOf("a")){var s=this.applyPrefix(e,e<this.smallNumberThreshold?this.smallNumberPrefixes:this.bigNumberPrefixes,-1!==a.indexOf("!"));e=s[0],n=s[1],r=s[2],t.modSpacing&&(r=" "+r);}else if(-1!==a.indexOf("p")){var l=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(l)),n=this.language.translate("_percentPrefix")||"",r=this.language.translate("_percentSuffix")||"",""==n&&""==r&&(r="%");}else if(-1!==a.indexOf("%")){l=ie(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(l)),r="%";}else if(-1!==a.indexOf("‰")){l=ie(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(l)),r="‰";}if(-1!==a.indexOf("e")){var u=void 0;u=t.decimals.passive>=0?e.toExponential(t.decimals.passive).split("e"):e.toExponential().split("e"),e=Number(u[0]),r="e"+u[1],t.modSpacing&&(r=" "+r);}else if(0===t.decimals.passive)e=Math.round(e);else if(t.decimals.passive>0){var d=Math.pow(10,t.decimals.passive);e=Math.round(e*d)/d;}var c="",h=function(e){if(O(e))return "NaN";if(e===1/0)return "Infinity";if(e===-1/0)return "-Infinity";if(0===e&&1/e==-1/0)return "-0";var t=e<0;e=Math.abs(e);var i,n=V(/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+e)),r=n[1],a=n[2]||"";if(null==n[3])i=""===a?r:r+"."+a;else {var o,s=+n[3];i=e<1?"0."+gt("0",o=s-1)+r+a:0==(o=s-a.length)?r+a:o<0?r+a.slice(0,o)+"."+a.slice(o):r+a+gt("0",o);}return t?"-"+i:i}(e).split("."),p=h[0];if(p.length<t.thousands.active&&(p=Array(t.thousands.active-p.length+1).join("0")+p),t.thousands.interval>0){for(var m=[],f=p.split("").reverse().join(""),g=0,y=p.length;g<=y;g+=t.thousands.interval){var v=f.substr(g,t.thousands.interval).split("").reverse().join("");""!==v&&m.unshift(v);}p=m.join(t.thousands.separator);}c+=p,1===h.length&&h.push("");var b=h[1];return b.length<t.decimals.active&&(b+=Array(t.decimals.active-b.length+1).join("0")),""!==b&&(c+=t.decimals.separator+b),""===c&&(c="0"),0!==e&&i&&-1===a.indexOf("s")&&(c="-"+c),n&&(c=n+c),r&&(c+=r),c},t.prototype.applyPrefix=function(e,t,i){void 0===i&&(i=!1);for(var n=e,r="",a="",o=!1,s=1,l=0,u=t.length;l<u;l++)t[l].number<=e&&(0===t[l].number?n=0:(n=e/t[l].number,s=t[l].number),r=t[l].prefix,a=t[l].suffix,o=!0);return !o&&i&&t.length&&0!=e&&(n=e/t[0].number,r=t[0].prefix,a=t[0].suffix,o=!0),o&&(n=parseFloat(n.toPrecision(ie(s.toString().length+Math.floor(n).toString().replace(/[^0-9]*/g,"").length,21)))),[n,r,a]},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate();},Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this._numberFormat},set:function(e){this._numberFormat=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"negativeBase",{get:function(){return this._negativeBase},set:function(e){this._negativeBase=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigNumberPrefixes",{get:function(){return j(this._bigNumberPrefixes)||(this._bigNumberPrefixes=[{number:1e3,suffix:this.language.translate("_big_number_suffix_3")},{number:1e6,suffix:this.language.translate("_big_number_suffix_6")},{number:1e9,suffix:this.language.translate("_big_number_suffix_9")},{number:1e12,suffix:this.language.translate("_big_number_suffix_12")},{number:1e15,suffix:this.language.translate("_big_number_suffix_15")},{number:1e18,suffix:this.language.translate("_big_number_suffix_18")},{number:1e21,suffix:this.language.translate("_big_number_suffix_21")},{number:1e24,suffix:this.language.translate("_big_number_suffix_24")}]),this._bigNumberPrefixes},set:function(e){this._bigNumberPrefixes=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberPrefixes",{get:function(){return j(this._smallNumberPrefixes)||(this._smallNumberPrefixes=[{number:1e-24,suffix:this.language.translate("_small_number_suffix_24")},{number:1e-21,suffix:this.language.translate("_small_number_suffix_21")},{number:1e-18,suffix:this.language.translate("_small_number_suffix_18")},{number:1e-15,suffix:this.language.translate("_small_number_suffix_15")},{number:1e-12,suffix:this.language.translate("_small_number_suffix_12")},{number:1e-9,suffix:this.language.translate("_small_number_suffix_9")},{number:1e-6,suffix:this.language.translate("_small_number_suffix_6")},{number:.001,suffix:this.language.translate("_small_number_suffix_3")}]),this._smallNumberPrefixes},set:function(e){this._smallNumberPrefixes=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smallNumberThreshold",{get:function(){return this._smallNumberThreshold},set:function(e){this._smallNumberThreshold=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bytePrefixes",{get:function(){return j(this._bytePrefixes)||(this._bytePrefixes=[{number:1,suffix:this.language.translate("_byte_suffix_B")},{number:1024,suffix:this.language.translate("_byte_suffix_KB")},{number:1048576,suffix:this.language.translate("_byte_suffix_MB")},{number:1073741824,suffix:this.language.translate("_byte_suffix_GB")},{number:1099511627776,suffix:this.language.translate("_byte_suffix_TB")},{number:0x4000000000000,suffix:this.language.translate("_byte_suffix_PB")}]),this._bytePrefixes},set:function(e){this._bytePrefixes=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"forceLTR",{get:function(){return this._forceLTR},set:function(e){this._forceLTR=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),t.prototype.escape=function(e){return e.replace("||","__§§§§__")},t.prototype.unescape=function(e){return e.replace("__§§§§__","|")},t}(Xt);St.registeredClasses.NumberFormatter=yr;var vr=function(e){function t(){var t=e.call(this)||this;return t._dateFormat="yyyy-MM-dd",t._inputDateFormat="yyyy-MM-dd",t._utc=!1,t.timezoneMinutes=0,t._firstDayOfWeek=1,t.months=["January","February","March","April","May","June","July","August","September","October","November","December"],t.monthsShort=["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t.weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.weekdaysShort=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t._outputFormat="svg",t.capitalize=!0,t.className="DateFormatter",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(e){this._language=e,this.dateFormat=this._language.translate("_date");},enumerable:!0,configurable:!0}),t.prototype.format=function(e,t,i){var n,r;if(this.language||(this.sprite?this.language=this.sprite.language:this.language=new mr),void 0!==t&&""!==t||(t=this._dateFormat),r=N(e)?this.parse(e):gi(e),z(t))try{return this.intlLocales?new Intl.DateTimeFormat(this.intlLocales,t).format(r):new Intl.DateTimeFormat(void 0,t).format(r)}catch(e){return "Invalid"}else {t=pi(t);var a=this.parseFormat(t);if(j(this.timezoneOffset)?r.setMinutes(r.getMinutes()+r.getTimezoneOffset()-this.timezoneOffset):j(this.timezone)&&!1!==i&&(r=qn(r,this.timezone)),!W(r.getTime()))return this.language.translate("Invalid date");n=this.applyFormat(r,a,this.language),this.capitalize&&(n=n.replace(/^.{1}/,n.substr(0,1).toUpperCase()));}return n},t.prototype.parseFormat=function(e){var t=this.getCache(e);if(j(t))return t;for(var i={template:"",parts:[]},n=gr().chunk(e,!0),r=0;r<n.length;r++){var a=n[r];if("value"===a.type){a.text.match(/^date$/i)&&N(this._dateFormat)&&(a.text=this._dateFormat);var o=a.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(var s=0;s<o.length;s++)i.parts.push(o[s]),a.text=a.text.replace(o[s],"__§§§__");}i.template+=a.text;}return this.setCache(e,i),i},t.prototype.applyFormat=function(e,t,i){var n,r,a,o,s,l,u,d,c=t.template,h=e.getTimezoneOffset(),p=e.getTime();this.utc?(n=e.getUTCFullYear(),r=e.getUTCMonth(),a=e.getUTCDay(),o=e.getUTCDate(),s=e.getUTCHours(),l=e.getUTCMinutes(),u=e.getUTCSeconds(),d=e.getUTCMilliseconds()):(n=e.getFullYear(),r=e.getMonth(),a=e.getDay(),o=e.getDate(),s=e.getHours(),l=e.getMinutes(),u=e.getSeconds(),d=e.getMilliseconds());for(var m=0,f=t.parts.length;m<f;m++){var g="";switch(t.parts[m]){case"G":g=i.translate(n<0?"_era_bc":"_era_ad");break;case"yyyy":g=Math.abs(n).toString(),n<0&&(g+=i.translate("_era_bc"));break;case"yyy":case"yy":case"y":g=Math.abs(n).toString().substr(-t.parts[m].length),n<0&&(g+=i.translate("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var y=n;1==bi(e)&&a>4&&y--,g="YYYY"==t.parts[m]?Math.abs(y).toString():Math.abs(y).toString().substr(-t.parts[m].length),y<0&&(g+=i.translate("_era_bc"));break;case"u":case"F":case"g":break;case"q":g=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":g=i.translate(this.months[r]).substr(0,1);break;case"MMMM":g=i.translate(this.months[r]);break;case"MMM":g=i.translate(this.monthsShort[r]);break;case"MM":g=hi(r+1,2,"0");break;case"M":g=(r+1).toString();break;case"ww":g=hi(bi(e,this.utc),2,"0");break;case"w":g=bi(e,this.utc).toString();break;case"W":g=xi(e,this.utc).toString();break;case"dd":g=hi(o,2,"0");break;case"d":g=o.toString();break;case"DD":case"DDD":g=hi(vi(e,this.utc).toString(),t.parts[m].length,"0");break;case"D":g=vi(e,this.utc).toString();break;case"t":g=i.translateFunc("_dateOrd").call(this,o);break;case"E":g=(a||7).toString();break;case"EE":g=hi((a||7).toString(),2,"0");break;case"EEE":case"eee":g=i.translate(this.weekdaysShort[a]);break;case"EEEE":case"eeee":g=i.translate(this.weekdays[a]);break;case"EEEEE":case"eeeee":g=i.translate(this.weekdays[a]).substr(0,1);break;case"e":case"ee":g=(a-this.firstDayOfWeek+1).toString(),"ee"==t.parts[m]&&(g=hi(g,2,"0"));break;case"a":g=s>=12?i.translate("PM"):i.translate("AM");break;case"aa":g=s>=12?i.translate("P.M."):i.translate("A.M.");break;case"aaa":g=s>=12?i.translate("P"):i.translate("A");break;case"h":g=Ci(s).toString();break;case"hh":g=hi(Ci(s),2,"0");break;case"H":g=s.toString();break;case"HH":g=hi(s,2,"0");break;case"K":g=Ci(s,0).toString();break;case"KK":g=hi(Ci(s,0),2,"0");break;case"k":g=(s+1).toString();break;case"kk":g=hi(s+1,2,"0");break;case"m":g=l.toString();break;case"mm":g=hi(l,2,"0");break;case"s":g=u.toString();break;case"ss":g=hi(u,2,"0");break;case"S":case"SS":case"SSS":g=Math.round(d/1e3*Math.pow(10,t.parts[m].length)).toString();break;case"x":g=p.toString();break;case"n":case"nn":case"nnn":g=hi(d,t.parts[m].length,"0");break;case"z":g=Si(e,!1,!1,this.utc);break;case"zz":g=Si(e,!0,!1,this.utc);break;case"zzz":g=Si(e,!1,!0,this.utc);break;case"zzzz":g=Si(e,!0,!0,this.utc);break;case"Z":case"ZZ":var v=Math.abs(h)/60,b=Math.floor(v),x=60*v-60*b;this.utc&&(b=0,x=0),"Z"==t.parts[m]?(g="GMT",g+=h>0?"-":"+",g+=hi(b,2)+":"+hi(x,2)):(g=h>0?"-":"+",g+=hi(b,2)+hi(x,2));break;case"i":g=e.toISOString();break;case"I":g=e.toUTCString();}c=c.replace("__§§§__",g);}return c},t.prototype.parse=function(e,t){if(j(t)||(t=this.inputDateFormat),e instanceof Date)return e;if("number"==typeof e)return new Date(e);var i;"string"!=typeof e&&(e=e.toString()),this.language||(this.sprite?this.language=this.sprite.language:this.language=new mr);var n="";t=(t=pi(t)).substr(0,e.length);for(var r=this.parseFormat(t),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},o={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this.utc},s=0,l=0,u=0;u<r.parts.length;u++){switch(l=u+s+1,r.parts[u]){case"yyyy":case"YYYY":n+="([0-9]{4})",a.year=l;break;case"yyy":case"YYY":n+="([0-9]{3})",a.year3=l;break;case"yy":case"YY":n+="([0-9]{2})",a.year2=l;break;case"y":case"Y":n+="([0-9]{1})",a.year1=l;break;case"MMMM":n+="("+this.getStringList(this.months).join("|")+")",a.monthLong=l;break;case"MMM":n+="("+this.getStringList(this.monthsShort).join("|")+")",a.monthShort=l;break;case"MM":case"M":n+="([0-9]{2}|[0-9]{1})",a.month=l;break;case"ww":case"w":n+="([0-9]{2}|[0-9]{1})",a.week=l;break;case"dd":case"d":n+="([0-9]{2}|[0-9]{1})",a.day=l;break;case"DDD":case"DD":case"D":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=l;break;case"dddd":n+="("+this.getStringList(this.weekdays).join("|")+")",a.weekdayLong=l;break;case"ddd":n+="("+this.getStringList(this.weekdaysShort).join("|")+")",a.weekdayShort=l;break;case"aaa":case"aa":case"a":n+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=l;break;case"hh":case"h":n+="([0-9]{2}|[0-9]{1})",a.hour12Base1=l;break;case"HH":case"H":n+="([0-9]{2}|[0-9]{1})",a.hourBase0=l;break;case"KK":case"K":n+="([0-9]{2}|[0-9]{1})",a.hour12Base0=l;break;case"kk":case"k":n+="([0-9]{2}|[0-9]{1})",a.hourBase1=l;break;case"mm":case"m":n+="([0-9]{2}|[0-9]{1})",a.minute=l;break;case"ss":case"s":n+="([0-9]{2}|[0-9]{1})",a.second=l;break;case"SSS":case"SS":case"S":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l,a.millisecondDigits=r.parts[u].length;break;case"nnn":case"nn":case"n":n+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=l;break;case"x":n+="([0-9]{1,})",a.timestamp=l;break;case"Z":n+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=l;break;case"ZZ":n+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=l;break;case"i":n+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",a.iso=l,s+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":s--;}n+="[^0-9]*";}var d=new RegExp(n),c=e.match(d);if(c){if(a.year>-1&&(o.year=parseInt(c[a.year])),a.year3>-1){var h=parseInt(c[a.year3]);h+=1e3,o.year=h;}if(a.year2>-1){h=parseInt(c[a.year2]);h+=h>50?1e3:2e3,o.year=h;}if(a.year1>-1){h=parseInt(c[a.year1]);h=10*Math.floor((new Date).getFullYear()/10)+h,o.year=h;}if(a.monthLong>-1&&(o.month=this.resolveMonth(c[a.monthLong])),a.monthShort>-1&&(o.month=this.resolveShortMonth(c[a.monthShort])),a.month>-1&&(o.month=parseInt(c[a.month])-1),a.week>-1&&-1===a.day&&(o.month=0,o.day=function(e,t,i,n){void 0===i&&(i=1),void 0===n&&(n=!1);var r=new Date(t,0,4,0,0,0,0);return n&&r.setUTCFullYear(t),7*e+i-((r.getDay()||7)+3)}(parseInt(c[a.week]),o.year,1,this.utc)),a.day>-1&&(o.day=parseInt(c[a.day])),a.yearDay>-1&&(o.month=0,o.day=parseInt(c[a.yearDay])),a.hourBase0>-1&&(o.hour=parseInt(c[a.hourBase0])),a.hourBase1>-1&&(o.hour=parseInt(c[a.hourBase1])-1),a.hour12Base0>-1)11==(h=parseInt(c[a.hour12Base0]))&&(h=0),a.am>-1&&!this.isAm(c[a.am])&&(h+=12),o.hour=h;if(a.hour12Base1>-1)12==(h=parseInt(c[a.hour12Base1]))&&(h=0),a.am>-1&&!this.isAm(c[a.am])&&(h+=12),o.hour=h;if(a.minute>-1&&(o.minute=parseInt(c[a.minute])),a.second>-1&&(o.second=parseInt(c[a.second])),a.millisecond>-1){h=parseInt(c[a.millisecond]);2==a.millisecondDigits?h*=10:1==a.millisecondDigits&&(h*=100),o.millisecond=h;}if(a.timestamp>-1){o.timestamp=parseInt(c[a.timestamp]);var p=new Date(o.timestamp);o.year=p.getUTCFullYear(),o.month=p.getUTCMonth(),o.day=p.getUTCDate(),o.hour=p.getUTCHours(),o.minute=p.getUTCMinutes(),o.second=p.getUTCSeconds(),o.millisecond=p.getUTCMilliseconds();}a.zone>-1&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.zone])),a.iso>-1&&(o.year=M(c[a.iso+0]),o.month=M(c[a.iso+1])-1,o.day=M(c[a.iso+2]),o.hour=M(c[a.iso+3]),o.minute=M(c[a.iso+4]),o.second=M(c[a.iso+5]),o.millisecond=M(c[a.iso+6]),"Z"==c[a.iso+7]||"z"==c[a.iso+7]?o.utc=!0:""!=c[a.iso+7]&&(o.offset=this.resolveTimezoneOffset(new Date(o.year,o.month,o.day),c[a.iso+7]))),i=o.utc?new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minute,o.second,o.millisecond)):new Date(o.year,o.month,o.day,o.hour,o.minute+o.offset,o.second,o.millisecond);}else i=new Date(e);return i},t.prototype.resolveTimezoneOffset=function(e,t){if(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){var i=V(t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)),n=i[1],r=i[2],a=i[3],o=60*parseInt(r)+parseInt(a);return "+"==n&&(o*=-1),o-(e||new Date).getTimezoneOffset()}return 0},t.prototype.resolveMonth=function(e){var t=this.months.indexOf(e);return t>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.months).indexOf(e))>-1?t:0},t.prototype.resolveShortMonth=function(e){var t=this.monthsShort.indexOf(e);return t>-1||(t=this.months.indexOf(e))>-1||this.language&&!this.language.isDefault()&&(t=this.language.translateAll(this.monthsShort).indexOf(e))>-1?t:0},t.prototype.isAm=function(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate();},t.prototype.getStringList=function(e){for(var t=[],i=0;i<e.length;i++)this.language?t.push(oi(this.language.translate(e[i]))):t.push(oi(e[i]));return t},Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputDateFormat",{get:function(){return this._inputDateFormat},set:function(e){this._inputDateFormat=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intlLocales",{get:function(){return this._intlLocales},set:function(e){this._intlLocales=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"utc",{get:function(){return this._utc},set:function(e){this._utc=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this._timezoneOffset},set:function(e){this._timezoneOffset!=e&&(this._timezoneOffset=e,this.invalidateSprite());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this._timezone},set:function(e){this._timezone!=e&&(this._timezone=e,this.timezoneMinutes=function(e){var t=new Date;return t.setHours(0,0,0,0),qn(t,e).getMinutes()}(e),this.invalidateSprite());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._firstDayOfWeek},set:function(e){this._firstDayOfWeek=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite();},enumerable:!0,configurable:!0}),t}(Xt);St.registeredClasses.DateFormatter=vr;var br=function(e){function t(){var t=e.call(this)||this;return t._negativeBase=0,t._baseUnit="second",t._outputFormat="svg",t._unitValues={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},t._unitAliases={Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"},t.className="DurationFormatter",t.applyTheme(),t}return x(t,e),t.prototype.format=function(e,t,i){this.language||(this.sprite?this.language=this.sprite.language:this.language=new mr);var n=i||this._baseUnit;void 0!==t&&""!==t||(t=j(this.durationFormat)?this.durationFormat:this.getFormat(M(e),null,n)),t=pi(t);var r,a=this.parseFormat(t,n),o=Number(e);r=o>this._negativeBase?a.positive:o<this._negativeBase?a.negative:a.zero;var s=this.applyFormat(o,r);return ""!==r.color&&("svg"===this._outputFormat?s="<tspan fill='"+r.color+"'>"+s+"</tspan>":"html"===this._outputFormat&&(s="<span style='color: "+r.color+";'>"+s+"</span>")),s},t.prototype.parseFormat=function(e,t){var i=this,n=this.getCache(e);if(j(n))return n;var r=t||this._baseUnit,a={positive:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1}},o=(e=e.replace("||","__§§§§__")).split("|");return a.positive.source=o[0],void 0===o[2]?a.zero=a.positive:a.zero.source=o[2],void 0===o[1]?a.negative=a.positive:a.negative.source=o[1],tt(a,(function(e,t){if(!t.parsed)if(void 0===i.getCache(t.source)){var n,r=t.source;(n=t.source.match(/^\[([^\]]*)\]/))&&n.length&&""!==n[0]&&(r=t.source.substr(n[0].length),t.color=n[1]);for(var o=gr().chunk(r,!0),s=0;s<o.length;s++){var l=o[s];if(l.text=l.text.replace("__§§§§__","|"),"value"===l.type){l.text.match(/[yYMdDwhHKkmsSn]+a/)&&(t.absolute=!0,l.text=l.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var u=l.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(u)for(var d=0;d<u.length;d++)j(u[d])||(u[d]=i._unitAliases[u[d]]),t.parts.push(u[d]),l.text=l.text.replace(u[d],"__§§§__");}t.template+=l.text;}i.setCache(t.source,t),t.parsed=!0;}else a[e]=i.getCache(t.source);})),this.setCache(e,a),a},t.prototype.applyFormat=function(e,t){var i=!t.absolute&&e<this._negativeBase;e=Math.abs(e);for(var n=this.toTimeStamp(e,t.baseUnit),r=t.template,a=0,o=t.parts.length;a<o;a++){var s=t.parts[a],l=this.toTimeUnit(s.substr(0,1)),u=s.length,d=Math.floor(n/this._unitValues[l]);r=r.replace("__§§§__",hi(d,u,"0")),n-=d*this._unitValues[l];}return i&&(r="-"+r),r},t.prototype.toTimeStamp=function(e,t){return e*this._unitValues[t]},t.prototype.toTimeUnit=function(e){switch(e){case"S":return "millisecond";case"s":return "second";case"m":return "minute";case"h":return "hour";case"d":return "day";case"w":return "week";case"M":return "month";case"y":return "year"}},t.prototype.invalidateSprite=function(){this.sprite&&this.sprite.invalidate();},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return this._outputFormat},set:function(e){this._outputFormat=e.toLowerCase(),this.invalidateSprite();},enumerable:!0,configurable:!0}),t.prototype.getFormat=function(e,t,i){if(j(this.durationFormat))return this.durationFormat;if(i||(i=this.baseUnit),j(t)&&e!=t){e=Math.abs(e),t=Math.abs(t);var n=this.getValueUnit(te(e,t),i);return this.durationFormats[i][n]}var r=this.getValueUnit(e,i);return this.durationFormats[i][r]},t.prototype.getValueUnit=function(e,t){var i;t||(t=this.baseUnit);var n=this.getMilliseconds(e,t);return et(this._unitValues,(function(e,r){if(e==t||i){if(n/r<=1)return i||(i=e),!1;i=e;}return !0})),i},t.prototype.getMilliseconds=function(e,t){return t||(t=this.baseUnit),e*this._unitValues[t]},Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this._durationFormat},set:function(e){this._durationFormat!=e&&(this._durationFormat=e,this.invalidateSprite());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormats",{get:function(){return this._durationFormats||(this._durationFormats={millisecond:{millisecond:this.language.translate("_duration_millisecond"),second:this.language.translate("_duration_millisecond_second"),minute:this.language.translate("_duration_millisecond_minute"),hour:this.language.translate("_duration_millisecond_hour"),day:this.language.translate("_duration_millisecond_day"),week:this.language.translate("_duration_millisecond_week"),month:this.language.translate("_duration_millisecond_month"),year:this.language.translate("_duration_millisecond_year")},second:{second:this.language.translate("_duration_second"),minute:this.language.translate("_duration_second_minute"),hour:this.language.translate("_duration_second_hour"),day:this.language.translate("_duration_second_day"),week:this.language.translate("_duration_second_week"),month:this.language.translate("_duration_second_month"),year:this.language.translate("_duration_second_year")},minute:{minute:this.language.translate("_duration_minute"),hour:this.language.translate("_duration_minute_hour"),day:this.language.translate("_duration_minute_day"),week:this.language.translate("_duration_minute_week"),month:this.language.translate("_duration_minute_month"),year:this.language.translate("_duration_minute_year")},hour:{hour:this.language.translate("_duration_hour"),day:this.language.translate("_duration_hour_day"),week:this.language.translate("_duration_hour_week"),month:this.language.translate("_duration_hour_month"),year:this.language.translate("_duration_hour_year")},day:{day:this.language.translate("_duration_day"),week:this.language.translate("_duration_day_week"),month:this.language.translate("_duration_day_month"),year:this.language.translate("_duration_day_year")},week:{week:this.language.translate("_duration_week"),month:this.language.translate("_duration_week_month"),year:this.language.translate("_duration_week_year")},month:{month:this.language.translate("_duration_month"),year:this.language.translate("_duration_month_year")},year:{year:this.language.translate("_duration_year")}}),this._durationFormats},set:function(e){this._durationFormats=e,this.invalidateSprite();},enumerable:!0,configurable:!0}),t}(Xt);St.registeredClasses.DurationFormatter=br;var xr=new vt;var Cr,Sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._validateDisposer=null,t}return x(t,e),t.prototype.invalidate=function(){null===this._validateDisposer&&(this._validateDisposer=St.events.on("exitframe",this.validate,this));},t.prototype.validate=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null);},t.prototype.dispose=function(){null!==this._validateDisposer&&(this._validateDisposer.dispose(),this._validateDisposer=null),e.prototype.dispose.call(this);},t}(Jt),_r=function(e){function t(){var t=e.call(this)||this;return t.adapter=new Rt(t),t.closeDelay=1e3,t.closeOnClick=!0,t._language=new Be,t._menuTag="ul",t._itemTag="li",t._labelTag="a",t._iconTag="img",t._classPrefix="amexport",t._defaultStyles=!0,t._align="right",t._verticalAlign="top",t._tabindex=0,t._ignoreNextClose=!1,t._items=[{label:"...",menu:[{label:"Image",menu:[{type:"png",label:"PNG"},{type:"jpg",label:"JPG"},{type:"svg",label:"SVG"},{type:"pdf",label:"PDF"}]},{label:"Data",menu:[{type:"json",label:"JSON"},{type:"csv",label:"CSV"},{type:"xlsx",label:"XLSX"},{type:"html",label:"HTML"},{type:"pdfdata",label:"PDF"}]},{label:"Print",type:"print"}]}],t.className="ExportMenu",t._disposers.push(t._language),t.invalidate(),t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){this.draw(),e.prototype.validate.call(this);},t.prototype.draw=function(){var e=this;this._element?(this._element.innerHTML="",this._element.className=this.getMenuItemClass(0)):this._element=this.createMenuElement(0),this.defaultStyles&&(this._element.style.display="none"),V(this._container).appendChild(this._element);for(var t=this.adapter.apply("items",{items:this._items}).items,i=t.length,n=0;n<i;n++)this.drawBranch(this._element,t[n],0);this._element=this.adapter.apply("menuElement",{menuElement:this._element}).menuElement,this._disposers.push(Kn().body.events.on("down",(function(t){t.pointer.touch||(e._ignoreNextClose=!1),e.close();}))),this._disposers.push(Kn().body.events.on("keydown",(function(t){var i=Vn.getEventKey(t.event);switch(i){case"esc":e.close();break;case"up":case"down":case"left":case"right":e._currentSelection&&t.event.preventDefault(),e.moveSelection(i);}}))),this.defaultStyles&&this.loadDefaultCSS();},t.prototype.drawBranch=function(e,t,i){var n=this;if(!0!==(t=this.adapter.apply("branch",{branch:t,level:i}).branch).unsupported){t.ascendants||(t.ascendants=new Tt);var r,a=t.type,o=this.createItemElement(i,a);t.icon?((r=this.createIconElement(i,a)).src=t.icon,(t.label||t.title)&&(r.title=t.title||t.label)):t.svg?(r=this.createSvgElement(i,a,t.svg),(t.label||t.title)&&(r.title=t.title||t.label)):((r=this.createLabelElement(i,a)).innerHTML=t.label?this.language.translate(t.label):"",t.title&&(r.title=t.title));var s=this.getReaderLabel(t,r.innerHTML);r.setAttribute("aria-label",s),o.appendChild(r),t.interactions=Kn().getInteraction(o),t.element=o,this.typeClickable(a)&&(t.interactions.events.on("hit",(function(e){if(n.events.isEnabled("hit")&&!n.isDisposed()){var i={type:"hit",event:e.event,target:n,branch:t};n.events.dispatchImmediately("hit",i);}})),t.interactions.events.on("keyup",(function(e){if(Vn.isKey(e.event,"enter")&&n.events.isEnabled("enter")){var i={type:"enter",event:e.event,target:n,branch:t};n.events.dispatchImmediately("enter",i);}})));var l=this.getSubMenu(t);null!=l&&(t.interactions.events.on("keyup",(function(e){Vn.isKey(e.event,"enter")&&(n.selectBranch(l[0]),n.setFocus(l[0]));})),t.interactions.events.on("hit",(function(e){n.selectBranch(t);}))),t.interactions.events.on("over",(function(e){if(e.pointer.touch&&(n._ignoreNextClose=!0),n.selectBranch(t),n.events.isEnabled("over")){var i={type:"over",event:e.event,target:n,branch:t};n.events.dispatchImmediately("over",i);}})),t.interactions.events.on("out",(function(e){if(!n.isDisposed()&&(e.pointer.touch||n.delayUnselectBranch(t),n.events.isEnabled("out"))){var i={type:"out",event:e.event,target:n,branch:t};n.events.dispatchImmediately("out",i);}})),t.interactions.events.on("focus",(function(e){n.selectBranch(t);})),t.interactions.events.on("blur",(function(e){n.delayUnselectBranch(t);}));var u=i+1;if(t.menu){var d=this.createMenuElement(u);t.submenuElement=d;for(var c=t.menu.length,h=0;h<c;h++){var p=new Tt;t.menu[h].ascendants=p,t.ascendants.length&&p.copyFrom(t.ascendants),p.push(t),this.drawBranch(d,t.menu[h],u);}if(""==d.innerHTML)return;o.appendChild(d);}t.hidden&&this.hideBranch(t),t.id&&o.setAttribute("id",t.id),t.color&&(o.style.backgroundColor=t.color.hex),e.appendChild(o);}},t.prototype.createMenuElement=function(e){var t=document.createElement(this.menuTag);return t.className=this.getMenuItemClass(e),0===e?t.setAttribute("role","menubar"):t.setAttribute("role","menu"),t},t.prototype.getMenuItemClass=function(e){var t=this.classPrefix+"-menu "+this.classPrefix+"-menu-level-"+e;return 0===e&&(t+=" "+this.classPrefix+"-menu-root "+this.classPrefix+"-"+this.align+" "+this.classPrefix+"-"+this.verticalAlign),this.adapter.apply("menuClass",{className:t,level:e}).className},t.prototype.createItemElement=function(e,t){var i=document.createElement(this.itemTag),n=this.classPrefix+"-item "+this.classPrefix+"-item-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return i.className=this.adapter.apply("itemClass",{className:n,level:e,type:t}).className,i.setAttribute("role","menuitem"),i.setAttribute("tabindex",this.tabindex.toString()),i},t.prototype.createLabelElement=function(e,t){var i=document.createElement(this.labelTag),n=this.classPrefix+"-label "+this.classPrefix+"-label-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,i},t.prototype.createIconElement=function(e,t){var i=document.createElement(this.iconTag),n=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(n+=" "+this.classPrefix+"-clickable"),i.className=this.adapter.apply("labelClass",{className:n,level:e,type:t}).className,i.setAttribute("tabindex",this.tabindex.toString()),i.setAttribute("role","menuitem"),i},t.prototype.createSvgElement=function(e,t,i){var n=(new DOMParser).parseFromString(i,"image/svg+xml").documentElement,r=this.classPrefix+"-icon "+this.classPrefix+"-icon-level-"+e+" "+this.classPrefix+"-item-"+(t||"blank");return this.typeClickable(t)&&(r+=" "+this.classPrefix+"-clickable"),n.setAttribute("class",this.adapter.apply("labelClass",{className:r,level:e,type:t}).className),n.setAttribute("tabindex",this.tabindex.toString()),n.setAttribute("role","menuitem"),n},t.prototype.dispose=function(){this._disposed||(e.prototype.dispose.call(this),this._element&&this._element.parentNode&&this._element.parentNode.removeChild(this._element));},t.prototype.typeClickable=function(e){return j(e)},t.prototype.hasSubMenu=function(e){return !(!e.menu||!e.menu.length)},t.prototype.getSubMenu=function(e){if(e.menu&&e.menu.length)return e.menu},t.prototype.getReaderLabel=function(e,t){return t=mi(t),0==e.ascendants.length?(t="..."==t?this.language.translate("Export"):t,t+=" ["+this.language.translate("Press ENTER or use arrow keys to navigate")+"]"):this.hasSubMenu(e)?t+=" ["+this.language.translate("Click, tap or press ENTER to open")+"]":"print"==e.type?t=this.language.translate("Click, tap or press ENTER to print."):this.typeClickable(e.type)&&(t=this.language.translate("Click, tap or press ENTER to export as %1.",void 0,t)),this.adapter.apply("rederLabel",{label:t,branch:e}).label},Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tag",{set:function(e){this._menuTag=e,this._itemTag="ul"==e?"li":"div",this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuTag",{get:function(){return this.adapter.apply("menuTag",{tag:this._menuTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemTag",{get:function(){return this.adapter.apply("itemTag",{tag:this._itemTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labelTag",{get:function(){return this.adapter.apply("labelTag",{tag:this._labelTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconTag",{get:function(){return this.adapter.apply("iconTag",{tag:this._iconTag}).tag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.adapter.apply("align",{align:this._align}).align},set:function(e){this._align=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalAlign",{get:function(){return this.adapter.apply("verticalAlign",{verticalAlign:this._verticalAlign}).verticalAlign},set:function(e){this._verticalAlign=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classPrefix",{get:function(){return this.adapter.apply("classPrefix",{classPrefix:this._classPrefix}).classPrefix},set:function(e){this._classPrefix=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultStyles",{get:function(){return this.adapter.apply("defaultStyles",{defaultStyles:this._defaultStyles}).defaultStyles},set:function(e){this._defaultStyles!=e&&(this._defaultStyles=e,e&&this.loadDefaultCSS()),this.invalidate();},enumerable:!0,configurable:!0}),t.prototype.loadDefaultCSS=function(){var e,t,i,n;this._disposers.push((e=Sn(this.container),t=this.classPrefix,i=t||"amexport",n=new Fn,xr.insertKeyIfEmpty(i,(function(){var t=new Re([new wn(e,"."+i+"-menu *",{"box-sizing":"border-box"}),new wn(e,"."+i+"-menu-level-0",{position:"absolute",top:"5px",right:"5px"}),new wn(e,"."+i+"-menu-level-0."+i+"-left",{right:"auto",left:"5px"}),new wn(e,"."+i+"-menu-level-0."+i+"-right",{right:"5px",left:"auto"}),new wn(e,"."+i+"-menu-level-0."+i+"-top",{top:"5px",bottom:"auto"}),new wn(e,"."+i+"-menu-level-0."+i+"-bottom",{top:"auto",bottom:"5px"}),new wn(e,"."+i+"-item."+i+"-item-level-0",{opacity:"0.3",width:"30px","min-height":"30px",transition:"all 100ms ease-in-out"}),new wn(e,"div:hover > div > ."+i+"-menu ."+i+"-item."+i+"-item-level-0, ."+i+"-item."+i+"-item-level-0.active",{opacity:"0.9"}),new wn(e,"."+i+"-item."+i+"-item-level-0 > a",{padding:"0","text-align":"center",overflow:"hidden"}),new wn(e,"."+i+"-item."+i+"-item-level-0:before",{display:"block"}),new wn(e,"."+i+"-item",{position:"relative",display:"block",opacity:"0","z-index":"1","border-radius":"3px","background-color":n.getFor("secondaryButton").hex,padding:"0",margin:"1px 1px 0 0",color:n.getFor("secondaryButton").alternative.hex,transition:"all 100ms ease-in-out, opacity 0.5s ease 0.5s"}),new wn(e,"."+i+"-left ."+i+"-item",{margin:"1px 0 0 1px"}),new wn(e,"."+i+"-item:hover, ."+i+"-item.active",{background:n.getFor("secondaryButtonHover").hex,color:n.getFor("secondaryButtonText").hex}),new wn(e,"."+i+"-item > ."+i+"-menu",{position:"absolute",top:"-1px",right:"0","margin-right":"100%"}),new wn(e,"."+i+"-left ."+i+"-item > ."+i+"-menu",{left:"0",right:"auto","margin-left":"100%","margin-right":"auto"}),new wn(e,"."+i+"-right ."+i+"-item > ."+i+"-menu",{left:"auto",right:"0","margin-left":"auto","margin-right":"100%"}),new wn(e,"."+i+"-top ."+i+"-item > ."+i+"-menu",{top:"-1px",bottom:"auto"}),new wn(e,"."+i+"-bottom ."+i+"-item > ."+i+"-menu",{top:"auto",bottom:"0"}),new wn(e,"."+i+"-item > ."+i+"-menu",{display:"none"}),new wn(e,"."+i+"-item:hover > ."+i+"-menu, ."+i+"-item.active > ."+i+"-menu",{display:"block"}),new wn(e,"."+i+"-item:hover > ."+i+"-menu > ."+i+"-item, ."+i+"-item.active > ."+i+"-menu > ."+i+"-item",{opacity:"1"}),new wn(e,"."+i+"-menu",{display:"block","list-style":"none",margin:"0",padding:"0"}),new wn(e,"."+i+"-label",{display:"block",cursor:"default",padding:"0.5em 1em"}),new wn(e,"."+i+"-icon",{display:"block",cursor:"default",padding:"0.2em 0.4em",width:"1.2em",height:"1.2em","min-width":"32px","min-height":"32px",margin:"auto auto","border-radius":"3px"}),new wn(e,"."+i+"-item-level-0 > ."+i+"-icon",{padding:"0.1em 0.2em"}),new wn(e,"."+i+"-clickable",{cursor:"pointer"})]);return new Ne((function(){xr.removeKey(i),t.dispose();}))})).increment())),this._element&&(this._element.style.display="");},Object.defineProperty(t.prototype,"tabindex",{get:function(){return this.adapter.apply("tabindex",{tabindex:this._tabindex}).tabindex},set:function(e){this._tabindex=e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this,t=this._language.get();return null==t&&(t=new mr,this._language.set(t,t.events.on("localechanged",(function(t){e.invalidate();})))),t},set:function(e){var t=this;this._language.set(e,e.events.on("localechanged",(function(e){t.invalidate();}))),this.invalidate();},enumerable:!0,configurable:!0}),t.prototype.close=function(){var e=this;if(!this.isDisposed())if(this._ignoreNextClose)this._ignoreNextClose=!1;else {if(this.closeOnClick&&(this._element.style.pointerEvents="none",setTimeout((function(){e._element.style.pointerEvents="auto";}),100)),this._currentSelection&&(this.setBlur(this._currentSelection),this._currentSelection=void 0),this._element)for(var t=this._element.getElementsByClassName("active"),i=t.length-1;i>=0;i--)t[i]&&yn(t[i],"active");this.events.dispatchImmediately("closed",{type:"closed",target:this});}},t.prototype.selectBranch=function(e){var t=this;if(!this.isDisposed()&&(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),gn(e.element,"active"),e.submenuElement&&e.submenuElement.setAttribute("aria-expanded","true"),this._currentSelection&&this._currentSelection!==e&&this._currentSelection.ascendants&&ut(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var i=!0,n=function(e){return i=t(e)},r=e.length,a=0;a<r&&(e[a](n),i);++a);}}(ot([this._currentSelection]),this._currentSelection.ascendants.iterator()),(function(i){e.ascendants.contains(i)||e===i||t.unselectBranch(i,!0);})),ut(e.ascendants.iterator(),(function(e){e.closeTimeout&&(t.removeDispose(e.closeTimeout),e.closeTimeout=void 0),gn(e.element,"active");})),this._currentSelection=e,this.events.isEnabled("branchselected"))){var i={type:"branchselected",target:this,branch:e};this.events.dispatchImmediately("branchselected",i);}},t.prototype.unselectBranch=function(e,t){if(!this.isDisposed()&&(yn(e.element,"active"),e.submenuElement&&e.submenuElement.removeAttribute("aria-expanded"),this._currentSelection==e&&(this._currentSelection=void 0),this.events.isEnabled("branchunselected"))){var i={type:"branchunselected",target:this,branch:e};this.events.dispatchImmediately("branchunselected",i);}},t.prototype.delayUnselectBranch=function(e,t){var i=this;this.isDisposed()||(e.closeTimeout&&(this.removeDispose(e.closeTimeout),e.closeTimeout=void 0),e.closeTimeout=this.setTimeout((function(){i.unselectBranch(e,t);}),this.closeDelay),!0!==t&&e.ascendants&&ut(e.ascendants.iterator(),(function(e){i.delayUnselectBranch(e,!0);})));},t.prototype.moveSelection=function(e){if(!this.isDisposed()&&this._currentSelection){var t;if("up"==e)t=this.getPrevSibling(this._currentSelection);else if("down"==e)t=this.getNextSibling(this._currentSelection);else if("left"==e&&"right"==this.align||"right"==e&&"left"==this.align){var i=this.getSubMenu(this._currentSelection);null!=i&&(t=i[0]);}else ("right"==e&&"right"==this.align||"left"==e&&"left"==this.align)&&(t=this.getParentItem(this._currentSelection));t&&t!==this._currentSelection&&(this.selectBranch(t),this.setFocus(t),this._currentSelection=t);}},t.prototype.getSiblings=function(e){var t=this.getParentItem(e);return t&&t.menu?t.menu:[]},t.prototype.getParentItem=function(e){return e.ascendants&&e.ascendants.length?e.ascendants.getIndex(e.ascendants.length-1):void 0},t.prototype.getNextSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)+1;return t[i=t.length==i?0:i].unsupported?this.getNextSibling(t[i]):t[i]}return e},t.prototype.getPrevSibling=function(e){var t=this.getSiblings(e);if(t.length>1){var i=t.indexOf(e)-1;return t[i=-1==i?t.length-1:i].unsupported?this.getPrevSibling(t[i]):t[i]}return e},t.prototype.setFocus=function(e){if(e.interactions)try{e.interactions.element.focus();}catch(e){}},t.prototype.setBlur=function(e){if(e.interactions)try{e.interactions.element.blur();}catch(e){}},t.prototype.hideBranch=function(e){e.element.style.display="none";},t.prototype.showBranch=function(e){e.element.style.display="";},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),t}(Sr);function Pr(e,t,i){return new Promise((function(n,r){var a=j(i)&&"blob"==i.responseType,o=new XMLHttpRequest;if(o.onload=function(){if(200===o.status){var e,i=void 0;if(a)return e=o.response,void(l=e,new Promise((function(e,t){var i=new FileReader;i.onload=function(t){e(i.result);},i.onerror=function(e){t(e);},i.readAsText(l);}))).then((function(i){var r={xhr:o,error:!1,response:i,blob:e,type:o.getResponseHeader("Content-Type"),target:t};n(r);}));i=o.responseText||o.response;var s={xhr:o,error:!1,response:i,blob:e,type:o.getResponseHeader("Content-Type"),target:t};n(s);}else r({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:t});var l;},o.onerror=function(){r({xhr:o,error:!0,type:o.getResponseHeader("Content-Type"),target:t});},o.open("GET",e,!0),i&&i.withCredentials&&(o.withCredentials=!0),j(i)){if(j(i.requestHeaders))for(var s=0;s<i.requestHeaders.length;s++){var l=i.requestHeaders[s];o.setRequestHeader(l.key,l.value);}j(i.responseType)&&(o.responseType=i.responseType);}o.send();}))}var wr=/src: ([^;]+);/;function Ir(e){return S(this,void 0,void 0,(function(){var t;return _(this,(function(i){switch(i.label){case 0:t=e.sheet,i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t.cssRules];case 2:return i.sent(),[4,new Promise((function(i,n){e.addEventListener("load",(function(){i(t.cssRules);}),!0),e.addEventListener("error",(function(e){n(e);}),!0),setTimeout((function(){n(new Error("Timeout while waiting for <style> to load"));}),1e4);}))];case 3:return [2,i.sent()];case 4:return [2]}}))}))}function Tr(e,t,i){return S(this,void 0,void 0,(function(){var n,r,a,o;return _(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Pr(t)];case 1:return n=s.sent(),[3,3];case 2:return r=s.sent(),console.error("Failed to load stylesheet",t,r),[2];case 3:(a=e.createElement("style")).textContent=n.response,e.head.appendChild(a),s.label=4;case 4:return s.trys.push([4,,7,8]),[4,Ir(a)];case 5:return o=s.sent(),[4,Ar(e,t,o,i)];case 6:return s.sent(),[3,8];case 7:return e.head.removeChild(a),[7];case 8:return [2]}}))}))}function Ar(e,t,i,n){return S(this,void 0,void 0,(function(){var r,a,o,s,l;return _(this,(function(u){switch(u.label){case 0:for(r=[],a=i.length,o=0;o<a;o++)(s=i[o]).type===CSSRule.IMPORT_RULE?(l=s.href)&&(l=Vi(t,l),r.push(Tr(e,l,n))):n(t,s);return r.length?[4,Promise.all(r)]:[3,2];case 1:u.sent(),u.label=2;case 2:return [2]}}))}))}function Or(e){return S(this,void 0,void 0,(function(){var t,i;return _(this,(function(n){switch(n.label){case 0:(t=document.createElement("iframe")).src="about:blank",t.setAttribute("title",""),document.head.appendChild(t),n.label=1;case 1:return n.trys.push([1,,3,4]),i=t.contentDocument,[4,Promise.all(Pe(document.styleSheets,(function(t){var n=t.href;return null==n?Ar(i,location.href,t.cssRules,e):(n=Vi(location.href,n),Tr(i,n,e))})))];case 2:return n.sent(),[3,4];case 3:return document.head.removeChild(t),[7];case 4:return [2]}}))}))}var kr=function(e){function t(t){var i=e.call(this)||this;return i.adapter=new Rt(i),i._formatOptions=new vt,i._extraSprites=[],i._validateSprites=[],i.dataFieldsOrder=[],i._dynamicDataFields=!0,i._removedObjects=new Tt,i._hiddenObjects=[],i._objectsAlreadyHidden=!1,i._filePrefix="amCharts",i.useWebFonts=!0,i.useRetina=!0,i.useSimplifiedExport=!0,i.timeoutDelay=2e3,i._exportRunning=!1,i._prevHasData=!1,i._container=t,i.className="Export",i._formatOptions.setKey("png",{}),i._formatOptions.setKey("jpg",{quality:.8}),i._formatOptions.setKey("gif",{}),i._formatOptions.setKey("svg",{}),i._formatOptions.setKey("pdf",{fontSize:14,imageFormat:"png",align:"left",addURL:!0,addColumnNames:!0}),i._formatOptions.setKey("json",{indent:2,useLocale:!0}),i._formatOptions.setKey("csv",{addColumnNames:!0,emptyAs:"",addBOM:!0}),i._formatOptions.setKey("xlsx",{addColumnNames:!0,useLocale:!0,emptyAs:""}),i._formatOptions.setKey("html",{addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("pdfdata",{fontSize:14,imageFormat:"png",addURL:!0,addColumnNames:!0,emptyAs:""}),i._formatOptions.setKey("print",{delay:500,printMethod:"iframe"}),i.adapter.add("options",(function(e){var t=i._formatOptions.getKey(e.type);return e.options?e.options=nt(t,e.options):e.options=t,e})),i.applyTheme(),i.dispatchImmediately("inited"),i}return x(t,e),Object.defineProperty(t.prototype,"menu",{get:function(){return this._menu},set:function(e){var t=this;this._menu&&this.removeDispose(this._menu),this._menu=e,this._menu.container=this.container,this._menu.language=this._language,this._menu.adapter.add("branch",(function(e){return e.branch.unsupported=!t.typeSupported(e.branch.type),e})),this._menu.events.on("hit",(function(e){t.export(e.branch.type,e.branch.options),t.menu.close();})),this._menu.events.on("enter",(function(e){t.export(e.branch.type,e.branch.options),t.menu.close();})),this._menu.events.on("over",(function(e){t._disablePointers();})),this._menu.events.on("out",(function(e){setTimeout((function(){t._releasePointers();}),10);})),this.dispatchImmediately("menucreated"),this._menu.adapter.add("classPrefix",(function(e){return e.classPrefix=nn.classNamePrefix+e.classPrefix,e})),this._disposers.push(this._menu);},enumerable:!0,configurable:!0}),t.prototype.typeSupported=function(e){var t=!0,i=this.getFormatOptions(e);return j(i)&&i.disabled?t=!1:"pdf"===e||("xlsx"===e?t=!!this._hasData():("print"!=e||window.print)&&(-1===["json","csv","html","pdfdata"].indexOf(e)||this._hasData())||(t=!1)),this.adapter.apply("supported",{supported:t,type:e}).supported},t.prototype._hasData=function(){return this.data&&this.data.length},t.prototype._getFunction=function(e){switch(e){case"png":case"gif":case"jpg":return this.getImage;case"svg":return this.getSVG;case"pdf":case"pdfdata":return this.getPDF;case"xlsx":return this.getExcel;case"csv":return this.getCSV;case"json":return this.getJSON;case"html":return this.getHTML;case"print":return this.getPrint;default:return this.unsupported}},t.prototype.export=function(e,t){return S(this,void 0,void 0,(function(){var i,n,r,a,o,s=this;return _(this,(function(l){switch(l.label){case 0:return "custom"==e?(this.handleCustom(t),[2,!0]):(this._exportRunning=!0,this.events.isEnabled("exportstarted")&&(i={type:"exportstarted",target:this,format:e,options:t},this.events.dispatchImmediately("exportstarted",i)),this.showPreloader(),this.timeoutDelay&&(this.hideTimeout(),this._timeoutTimeout=this.setTimeout((function(){if(s.events.isEnabled("exporttimedout")){var i={type:"exporttimedout",target:s,format:e,options:t};s.events.dispatchImmediately("exporttimedout",i);}s.showTimeout();}),this.timeoutDelay)),this.hideNonExportableSprites(),n=this._getFunction(e),t=this.adapter.apply("options",{options:t,type:e}).options,[4,(n=this.adapter.apply("exportFunction",{func:n,type:e,options:t}).func).call(this,e,t)]);case 1:return r=l.sent(),this._exportRunning=!1,this._releasePointers(),this.restoreNonExportableSprites(),r?(this.events.isEnabled("exportfinished")&&(a={type:"exportfinished",target:this,format:e,options:t},this.events.dispatchImmediately("exportfinished",a)),this.hidePreloader(),this.hideTimeout(),this.menu&&this.menu.close(),"print"===e?[2,this.print(r,t,this.adapter.apply("title",{title:this.title,options:t}).title)]:"pdfdata"==e?[2,this.download(r,this.filePrefix+".pdf")]:[2,this.download(r,this.filePrefix+"."+e,t&&t.addBOM)]):(this.events.isEnabled("error")&&(o={type:"error",target:this,format:e,options:t},this.events.dispatchImmediately("error",o)),[2,!1])}}))}))},t.prototype.unsupported=function(e,t){return S(this,void 0,void 0,(function(){return _(this,(function(e){return [2,""]}))}))},t.prototype.handleCustom=function(e){j(e)&&j(e.callback)&&e.callback.call(e.callbackTarget||this,e);},t.prototype.getPrint=function(e,t){return S(this,void 0,void 0,(function(){return _(this,(function(e){return [2,this.getImage("png",t)]}))}))},t.prototype.getFontFamilies=function(){return S(this,void 0,void 0,(function(){var e,t,i,n,r=this;return _(this,(function(a){switch(a.label){case 0:return e=this.getDOMURL(),t=[],i=[],[4,Or((function(n,a){if(a.type===CSSRule.FONT_FACE_RULE){var o=a.cssText,s=wr.exec(o);if(null!==s){var l=s[1].split(/ *, */).map((function(i){return S(r,void 0,void 0,(function(){var r,a,o,s,l,u;return _(this,(function(d){switch(d.label){case 0:return null!==(r=/^url\(["']?([^"'\)]+)["']?\)([^,]*)$/.exec(i))?[3,1]:[2,i];case 1:if(a=r[2],o=Vi(n,r[1]),this.webFontFilter&&!o.match(this.webFontFilter))return [2,null];d.label=2;case 2:return d.trys.push([2,7,,8]),[4,Pr(o,void 0,{responseType:"blob"})];case 3:return s=d.sent(),null==window.navigator.msSaveOrOpenBlob?[3,4]:(l=e.createObjectURL(s.blob),t.push(l),[3,6]);case 4:return [4,(c=s.blob,new Promise((function(e,t){var i=new FileReader;i.onload=function(t){e(i.result);},i.onerror=function(e){t(e);},i.readAsDataURL(c);})))];case 5:l=d.sent(),d.label=6;case 6:return [2,'url("'+l+'")'+a];case 7:return u=d.sent(),console.error("Failed to load font",o,u),[2,null];case 8:return [2]}var c;}))}))}));i.push(Promise.all(l).then((function(e){return e=e.filter((function(e){return null!=e})),0===e.length?"":o.replace(wr,"src: "+e.join(", ")+";")})));}}}))];case 1:return a.sent(),[4,Promise.all(i)];case 2:return n=a.sent(),[2,{blobs:t,cssText:n.filter((function(e){return !!e})).join("\n")}]}}))}))},t.prototype.getImage=function(e,t,i){return S(this,void 0,void 0,(function(){var n,r,a,o,s,l;return _(this,(function(u){switch(u.label){case 0:return (n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),j(t)||(t=this.getFormatOptions(e)),[4,this.awaitValidSprites()];case 1:return u.sent(),[4,this.simplifiedImageExport()];case 2:if(!u.sent())return [3,10];r=void 0,u.label=3;case 3:return u.trys.push([3,7,,9]),[4,this.getCanvas(t)];case 4:return r=u.sent(),!1===i?[3,6]:[4,this.addExtras(r,t)];case 5:a=u.sent(),this.disposeCanvas(r),r=a,u.label=6;case 6:return o=r.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(r),n||this.restoreNonExportableSprites(),[2,o];case 7:return s=u.sent(),console.error(s.message+"\n"+s.stack),Zn("Simple export failed, falling back to advanced export"),r&&this.disposeCanvas(r),[4,this.getImageAdvanced(e,t,i)];case 8:return l=u.sent(),n||this.restoreNonExportableSprites(),[2,l];case 9:return [3,12];case 10:return [4,this.getImageAdvanced(e,t,i)];case 11:return l=u.sent(),n||this.restoreNonExportableSprites(),[2,l];case 12:return [2]}}))}))},t.prototype.addExtras=function(e,t,i){return S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d,c,h,p,m,f,g,y=this;return _(this,(function(v){switch(v.label){case 0:return this.extraSprites.length?(n=0,r=0,a=e.width,o=e.height,s=0,l=0,[4,Promise.all(Pe(this.extraSprites,(function(e){return S(y,void 0,void 0,(function(){var u,d,c,h;return _(this,(function(p){switch(p.label){case 0:return (u=e instanceof Dr?{sprite:e,position:"bottom"}:e).position=u.position||"bottom",u.marginTop=u.marginTop||0,u.marginRight=u.marginRight||0,u.marginBottom=u.marginBottom||0,u.marginLeft=u.marginLeft||0,i?[4,u.sprite.exporting.getCanvasAdvanced(t)]:[3,2];case 1:return d=p.sent(),[3,4];case 2:return [4,u.sprite.exporting.getCanvas(t)];case 3:d=p.sent(),p.label=4;case 4:return c=d.width+u.marginLeft+u.marginRight,h=d.height+u.marginTop+u.marginBottom,"top"==u.position?(a=u.crop?o:te(a,c),r+=h):"right"==u.position?(o=u.crop?o:te(o,h),s+=c):"left"==u.position?(o=u.crop?o:te(o,h),n+=c):"bottom"===u.position&&(a=u.crop?o:te(a,c),l+=h),[2,{canvas:d,position:u.position,left:u.marginLeft,top:u.marginTop,width:c,height:h}]}}))}))})))]):[3,2];case 1:return u=v.sent(),(d=this.getDisposableCanvas()).width=n+a+s,d.height=r+o+l,c=d.getContext("2d"),(h=this.backgroundColor||this.findBackgroundColor(this.sprite.dom))&&(c.fillStyle=h.toString(),c.fillRect(0,0,d.width,d.height)),f=(p=n)+a,g=(m=r)+o,we(u,(function(e){"top"==e.position?(m-=e.height,c.drawImage(e.canvas,n+e.left,m+e.top)):"right"==e.position?(c.drawImage(e.canvas,f+e.left,r+e.top),f+=e.width):"left"==e.position?(p-=e.width,c.drawImage(e.canvas,p+e.left,r+e.top)):"bottom"===e.position&&(c.drawImage(e.canvas,n+e.left,g+e.top),g+=e.height),y.disposeCanvas(e.canvas);})),c.drawImage(e,n,r),[2,d];case 2:return [2,e]}}))}))},t.prototype.getCanvas=function(e){return S(this,void 0,void 0,(function(){var t,i,n,r,a,o,s,l,u,d,c,h,p,m,f,g,y;return _(this,(function(v){switch(v.label){case 0:j(e)||(e={}),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),i=this.getDOMURL(),n=null,r=null,v.label=1;case 1:return v.trys.push([1,,4,5]),o=this.sprite.pixelWidth,s=this.sprite.pixelHeight,l=Tn(this.sprite.dom),u=An(this.sprite.dom),d=e.scale||1,c=this.getPixelRatio(e),d=this.getAdjustedScale(o*c,s*c,d,e),(a=this.getDisposableCanvas()).style.width=o*d+"px",a.style.height=s*d+"px",a.width=o*d,a.height=s*d,h=a.getContext("2d"),t&&(h.fillStyle=t.toString(),h.fillRect(0,0,o*d,s*d)),p=[],this.useWebFonts&&p.push(this.getFontFamilies().then((function(e){return r=e.blobs,e.cssText}))),p.push(this.imagesToDataURI(this.sprite.dom,e)),p.push(this.prepForeignObjects(this.sprite.dom,e)),[4,Promise.all(p)];case 2:return m=v.sent(),f=this.normalizeSVG("<style>"+m[0]+"</style>"+this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,o,s,d,l,u),g=new Blob([f],{type:"image/svg+xml"}),n=i.createObjectURL(g),[4,this.loadNewImage(n,o*d*c,s*d*c,"anonymous")];case 3:return y=v.sent(),h.drawImage(y,0,0),[3,5];case 4:return null!==n&&i.revokeObjectURL(n),null!==r&&we(r,(function(e){i.revokeObjectURL(e);})),this.restoreRemovedObjects(),[7];case 5:return [2,a]}}))}))},t.prototype.getCanvasAdvanced=function(e){return S(this,void 0,void 0,(function(){var t,i,n,r,a,o,s,l,u,d,c;return _(this,(function(h){switch(h.label){case 0:return j(e)||(e={}),[4,this.imagesToDataURI(this.sprite.dom,e)];case 1:return h.sent(),t=this.backgroundColor||this.findBackgroundColor(this.sprite.dom),[4,this.canvg];case 2:return i=h.sent(),n=this.sprite.pixelWidth,r=this.sprite.pixelHeight,a=Tn(this.sprite.dom),o=An(this.sprite.dom),s=e.scale||1,l=this.getPixelRatio(e),s=this.getAdjustedScale(n*l,r*l,s,e),u=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),e,n,r,s,a,o,t),(d=this.getDisposableCanvas()).style.width=n*l*s+"px",d.style.height=r*l*s+"px",d.width=n*l*s,d.height=r*l*s,c={useCORS:!0},1!=l&&(c.ignoreDimensions=!0,c.scaleWidth=n*l*s,c.scaleHeight=r*l*s),[4,i.fromString(d.getContext("2d"),u,c).render()];case 3:return h.sent(),[2,d]}}))}))},t.prototype.getImageAdvanced=function(e,t,i){return S(this,void 0,void 0,(function(){var n,r,a;return _(this,(function(o){switch(o.label){case 0:return (n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),j(t)||(t=this.getFormatOptions(e)),[4,this.getCanvasAdvanced(t)];case 1:return r=o.sent(),!1===i?[3,3]:[4,this.addExtras(r,t,!0)];case 2:r=o.sent(),o.label=3;case 3:return a=r.toDataURL(this.getContentType(e),t.quality),this.disposeCanvas(r),n||this.restoreNonExportableSprites(),[2,a]}}))}))},t.prototype.getDisposableCanvas=function(){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="-10000px",document.body.appendChild(e),e},t.prototype.disposeCanvas=function(e){document.body.contains(e)&&document.body.removeChild(e);},t.prototype.getPixelRatio=function(e){return this.useRetina&&window.devicePixelRatio||1},t.prototype.getAdjustedScale=function(e,t,i,n){if(!n)return i;var r,a,o=e*i,s=e*i;return n.maxWidth&&o>n.maxWidth&&(r=n.maxWidth/e),n.maxHeight&&s>n.maxHeight&&(a=n.maxHeight/t),r||a?ie(r,a):(n.minWidth&&o<n.minWidth&&(r=n.minWidth/e),n.minHeight&&s<n.minHeight&&(a=n.minHeight/t),r||a?te(r,a):i)},t.prototype.imagesToDataURI=function(e,i){return S(this,void 0,void 0,(function(){var n,r,a,o,s,l;return _(this,(function(u){switch(u.label){case 0:if(!(n=e.querySelectorAll("image")).length)return [3,2];for(r=[],a=n.length,o=0;o<a;o++)s=n[o],(l=s.getAttributeNS(t.XLINK,"href"))&&(-1!==l.indexOf("data:image")||(-1!==l.indexOf(".svg")?r.push(this.svgToDataURI(s,i)):r.push(this.imageToDataURI(s,i))));return [4,Promise.all(r)];case 1:return u.sent(),[2];case 2:return [2]}}))}))},t.prototype.prepForeignObjects=function(e,t){return S(this,void 0,void 0,(function(){var t,i,n;return _(this,(function(r){if((t=e.querySelectorAll("foreignObject")).length)for(i=t.length,n=0;n<i;n++)this.temporarilyRemoveObject(t[n]);return [2]}))}))},t.prototype.imageToDataURI=function(e,i){return S(this,void 0,void 0,(function(){var n,r,a;return _(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.loadNewImage(e.getAttributeNS(t.XLINK,"href"),null,null,"anonymous")];case 1:n=o.sent(),(r=document.createElement("canvas")).width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0);try{return a=r.toDataURL(),e.setAttribute("href",a),[2,a]}catch(t){return !1!==i.keepTainted&&this.temporarilyRemoveObject(e),[2,void 0]}return [3,3];case 2:return o.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(e),[2,void 0];case 3:return [2]}}))}))},t.prototype.svgToDataURI=function(e,i){return S(this,void 0,void 0,(function(){var n,r,a,o;return _(this,(function(s){switch(s.label){case 0:n=e.getAttributeNS(t.XLINK,"href"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Pr(n)];case 2:return r=s.sent(),a=this.adapter.apply("charset",{charset:"base64",type:"svg",options:i}).charset,o=this.adapter.apply("svgToDataURI",{data:"data:"+this.getContentType("svg")+";"+a+","+btoa(r.response),options:i}).data,e.setAttributeNS(t.XLINK,"href",o),[2,o];case 3:return s.sent(),i&&!1===i.keepTainted||this.temporarilyRemoveObject(e),[2,void 0];case 4:return [2]}}))}))},t.prototype.temporarilyRemoveObject=function(e,t){var i=e.parentElement||e.parentNode;t||(t=this.sprite.paper.add("g").node),i.insertBefore(t,e),e.textContent,i.removeChild(e),this._removedObjects.push({element:e,placeholder:t});},t.prototype.restoreRemovedObjects=function(){for(var e;e=this._removedObjects.pop();){(e.placeholder.parentElement||e.placeholder.parentNode).insertBefore(e.element,e.placeholder);}},t.prototype.simplifiedImageExport=function(){return S(this,void 0,void 0,(function(){var e,t,i,n,r,a,o;return _(this,(function(s){switch(s.label){case 0:if(!1===this.useSimplifiedExport)return [2,!1];if(!1===(e=St.getCache("simplifiedImageExport"))||!0===e)return [2,e];s.label=1;case 1:s.trys.push([1,6,,7]),(t=document.createElement("canvas")).width=1,t.height=1,i=t.getContext("2d"),n=this.getDOMURL(),r=new Blob([this.normalizeSVG("<g></g>",{},1,1)],{type:"image/svg+xml"}),a=n.createObjectURL(r),o=void 0,s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.loadNewImage(a,1,1)];case 3:return o=s.sent(),[3,5];case 4:return s.sent(),[2,!1];case 5:i.drawImage(o,0,0),n.revokeObjectURL(a);try{return St.setCache("simplifiedImageExport",!0),[2,!0]}catch(e){return St.setCache("simplifiedImageExport",!1),[2,!1]}return [3,7];case 6:return s.sent(),St.setCache("simplifiedImageExport",!1),[2,!1];case 7:return [2]}}))}))},t.prototype.loadNewImage=function(e,t,i,n){return new Promise((function(r,a){var o;function s(){if(n){var t=o.src;o.onerror=function(){a(new Error('Loading image "'+e+'" failed'));},o.removeAttribute("crossorigin"),o.src="",o.src=t;}else a(new Error('Loading image "'+e+'" failed'));}o=t&&i?new Image(t,i):new Image,n&&o.setAttribute("crossOrigin",n),o.onload=function(){r(o);},o.onabort=s,o.onerror=s,o.src=e;}))},t.prototype.getDOMURL=function(){return self.URL||self.webkitURL||self},t.prototype.getSVG=function(e,t,i){return void 0===i&&(i=!0),S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d,c,h;return _(this,(function(p){switch(p.label){case 0:return (n=this._objectsAlreadyHidden)||this.hideNonExportableSprites(),j(t)||(t=this.getFormatOptions("svg")),[4,this.awaitValidSprites()];case 1:return p.sent(),r=this.sprite.pixelWidth,a=this.sprite.pixelHeight,o=Tn(this.sprite.dom),s=An(this.sprite.dom),l=t.scale||1,u=this.getPixelRatio(t),l=this.getAdjustedScale(r*u,a*u,l,t),d=this.normalizeSVG(this.serializeElement(this.sprite.paper.defs)+this.serializeElement(this.sprite.dom),t,r,a,l,o,s),c=this.adapter.apply("charset",{charset:"charset=utf-8",type:"svg",options:t}).charset,h=this.adapter.apply("getSVG",{data:i?"data:"+this.getContentType(e)+";"+c+","+encodeURIComponent(d):d,options:t}).data,n||this.restoreNonExportableSprites(),[2,h]}}))}))},t.prototype.normalizeSVG=function(e,t,i,n,r,a,o,s){var l="";i&&(l+='width="'+Math.round(i*(r||1))+'px" '),n&&(l+='height="'+Math.round(n*(r||1))+'px" ');var u="";a&&(u+="font-family: "+a.replace(/"/g,"")+";"),o&&(u+="font-size: "+o+";"),r&&(l+='viewBox="0 0 '+i+" "+n+'" ');var d=[],c=e.match(/<foreignObject[\s\S]*<\/foreignObject>/gi);if(c)for(var h=0;h<c.length;h++)e=e.replace(c[h],"__§§§__"),d.push(c[h]);e.match(/<svg/)?""!==l&&(e=(e=(e=e.replace(/(<svg[^>]*)width="[^"]*"/,"$1")).replace(/(<svg[^>]*)height="[^"]*"/,"$1")).replace(/(<svg)/,"$1"+l)):e='<?xml version="1.0" encoding="utf-8"?><svg '+l+' style="'+u+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+e+"</svg>",s&&(e=e.replace(/(<svg[^>]*>)/,'$1<rect width="100%" height="100%" fill="'+s.rgba+'"/>')),/MSIE |Trident\//.test(navigator.userAgent)&&(e=e.replace(/<feColorMatrix [^\/>]*\/>/gi,""));var p=new RegExp("url\\("+oi(ei()),"g");if(e=(e=e.replace(p,"url(#")).replace(/url\(&quot;([^)]*)&quot;\)/gm,"url($1)"),d.length)for(h=0;h<d.length;h++)e=e.replace("__§§§__",d[h]);return e=this.adapter.apply("normalizeSVG",{data:e,options:t}).data},t.prototype.serializeElement=function(e){return (new XMLSerializer).serializeToString(e)},t.prototype.getPDF=function(e,t){return S(this,void 0,void 0,(function(){function i(e){var t={};t.normal=e.normal.path,p[e.normal.path]=e.normal.bytes,e.bold?(t.bold=e.bold.path,p[e.bold.path]=e.bold.bytes):t.bold=e.normal.path,e.italics?(t.italics=e.italics.path,p[e.italics.path]=e.italics.bytes):t.italics=e.normal.path,e.bolditalics?(t.bolditalics=e.bolditalics.path,p[e.bolditalics.path]=e.bolditalics.bytes):t.bolditalics=e.normal.path,h[e.name]=t;}var n,r,a,o,s,l,u,d,c,h,p;return _(this,(function(m){switch(m.label){case 0:return [4,this.getImage(t.imageFormat||"png",t)];case 1:return n=m.sent(),[4,this.pdfmake];case 2:return r=m.sent(),a=[30,30,30,30],o={pageSize:t.pageSize||"A4",pageOrientation:t.pageOrientation||"portrait",pageMargins:t.pageMargins||a,defaultStyle:{font:t.font?t.font.name:void 0},content:[]},s=this.adapter.apply("title",{title:this.title,options:t}).title,l=0,s&&(o.content.push({text:s,fontSize:t.fontSize||14,bold:!0,margin:[0,0,0,15]}),l+=50),t.addURL&&(o.content.push({text:this.language.translate("Saved from")+": "+document.location.href,fontSize:t.fontSize,margin:[0,0,0,15]}),l+=50),"pdfdata"!=e&&o.content.push({image:n,alignment:t.align||"left",fit:this.getPageSizeFit(o.pageSize,o.pageMargins,l)}),"pdfdata"==e||t.addData?(d=(u=o.content).push,c={},[4,this.getPDFData("pdf",t)]):[3,4];case 3:d.apply(u,[(c.table=m.sent(),c.fontSize=t.fontSize||14,c)]),m.label=4;case 4:return o=this.adapter.apply("pdfmakeDocument",{doc:o,options:t}).doc,h=null,p=null,t.font&&(h={},p={},i(t.font),t.extraFonts&&we(t.extraFonts,i)),[4,new Promise((function(e,t){r.createPdf(o,null,h,p).getDataUrl((function(t){e(t);}));}))];case 5:return [2,m.sent()]}}))}))},t.prototype.getPDFData=function(e,t){return S(this,void 0,void 0,(function(){var e,i,n,r,a,o,s=this;return _(this,(function(l){if(e={body:[]},i=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"pdf"}).dataFields,n=this.data,t.pivot)r=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder,it(i,(function(i,r){var a=[];t.addColumnNames&&a.push(r);for(var o=n.length,l=0;l<o;l++){var u=n[l][i];a.push(s.convertToSpecialFormat(i,u,t,!0));}e.body.push(s.getPDFDataRow(a,t,void 0,!0));}),(function(e,t){var i=r.indexOf(e),n=r.indexOf(t);return i>n?1:i<n?-1:0}));else for(t.addColumnNames&&(e.body.push(this.getPDFDataRow(i,t,void 0,!0)),e.headerRows=1),a=n.length,o=0;o<a;o++)e.body.push(this.getPDFDataRow(n[o],t,i));return [2,this.adapter.apply("pdfmakeTable",{table:e,options:t}).table]}))}))},t.prototype.getPDFDataRow=function(e,t,i,n){var r=this;void 0===n&&(n=!1);var a=[];i||(i=e);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"pdfdata"}).dataFieldsOrder;return it(i,(function(i,o){var s=r.convertEmptyValue(i,e[i],t),l=n?s:r.convertToSpecialFormat(i,s,t);l=""+l,a.push(l);}),(function(e,t){var i=o.indexOf(e),n=o.indexOf(t);return i>n?1:i<n?-1:0})),a},t.prototype.getPageSizeFit=function(e,t,i){void 0===i&&(i=0);var n=[0,0,0,0];"number"==typeof t?n=[t,t,t,t]:2==t.length?n=[t[0],t[1],t[0],t[1]]:4==t.length&&(n=t);var r={"4A0":[4767.87,6740.79],"2A0":[3370.39,4767.87],A0:[2383.94,3370.39],A1:[1683.78,2383.94],A2:[1190.55,1683.78],A3:[841.89,1190.55],A4:[595.28,841.89],A5:[419.53,595.28],A6:[297.64,419.53],A7:[209.76,297.64],A8:[147.4,209.76],A9:[104.88,147.4],A10:[73.7,104.88],B0:[2834.65,4008.19],B1:[2004.09,2834.65],B2:[1417.32,2004.09],B3:[1000.63,1417.32],B4:[708.66,1000.63],B5:[498.9,708.66],B6:[354.33,498.9],B7:[249.45,354.33],B8:[175.75,249.45],B9:[124.72,175.75],B10:[87.87,124.72],C0:[2599.37,3676.54],C1:[1836.85,2599.37],C2:[1298.27,1836.85],C3:[918.43,1298.27],C4:[649.13,918.43],C5:[459.21,649.13],C6:[323.15,459.21],C7:[229.61,323.15],C8:[161.57,229.61],C9:[113.39,161.57],C10:[79.37,113.39],RA0:[2437.8,3458.27],RA1:[1729.13,2437.8],RA2:[1218.9,1729.13],RA3:[864.57,1218.9],RA4:[609.45,864.57],SRA0:[2551.18,3628.35],SRA1:[1814.17,2551.18],SRA2:[1275.59,1814.17],SRA3:[907.09,1275.59],SRA4:[637.8,907.09],EXECUTIVE:[521.86,756],FOLIO:[612,936],LEGAL:[612,1008],LETTER:[612,792],TABLOID:[792,1224]}[e];return r[0]-=n[0]+n[2],r[1]-=n[1]+n[3]+i,r},t.prototype.getExcel=function(e,t){return S(this,void 0,void 0,(function(){var i,n,r,a,o,s,l,u,d,c=this;return _(this,(function(h){switch(h.label){case 0:return j(t)||(t=this.getFormatOptions("xlsx")),[4,this.xlsx];case 1:if(i=h.sent(),n=this.adapter.apply("xlsxWorkbookOptions",{xlsx:i,options:{bookType:"xlsx",bookSST:!1,type:"base64"}}).options,r=this.normalizeExcelSheetName(this.adapter.apply("xlsxSheetName",{xlsx:i,name:this.title||this.language.translate("Data")}).name),a={SheetNames:[r],Sheets:{}},o=[],s=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"xslx"}).dataFields,t.pivot)l=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder,it(s,(function(e,i){var n=[];t.addColumnNames&&n.push(i);for(var r=c.data.length,a=0;a<r;a++){var s=c.data[a][e];n.push(c.convertToSpecialFormat(e,s,t,!0));}o.push(c.getExcelRow(n,t,void 0,!0));}),(function(e,t){var i=l.indexOf(e),n=l.indexOf(t);return i>n?1:i<n?-1:0}));else for(t.addColumnNames&&o.push(this.getExcelRow(s,t,void 0,!0)),u=this.data.length,d=0;d<u;d++)o.push(this.getExcelRow(this.data[d],t,s));return a.Sheets[r]=i.utils.aoa_to_sheet(o),a=this.adapter.apply("xlsxWorkbook",{xlsx:i,workbook:a,options:t}).workbook,[2,this.adapter.apply("getExcel",{data:"data:"+this.getContentType(e)+";base64,"+i.write(a,n),options:t}).data]}}))}))},t.prototype.normalizeExcelSheetName=function(e){return li(e=e.replace(/([:\\\/?*\[\]]+)/g," "),31,"...",!0)},t.prototype.getExcelRow=function(e,t,i,n){var r=this;void 0===n&&(n=!1);var a=[];i||(i=e);var o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"xlsx"}).dataFieldsOrder;return it(i,(function(i,o){var s=r.convertEmptyValue(i,e[i],t),l=n?s:r.convertToSpecialFormat(i,s,t,!0);a.push(l);}),(function(e,t){var i=o.indexOf(e),n=o.indexOf(t);return i>n?1:i<n?-1:0})),a},t.prototype.getCSV=function(e,t,i){return void 0===i&&(i=!0),S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d,c,h=this;return _(this,(function(p){if(j(t)||(t=this.getFormatOptions("csv")),n="",r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"csv"}).dataFields,a="",o=this.data,t.pivot)s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder,it(r,(function(e,i){var r=[];t.addColumnNames&&r.push(i);for(var s=o.length,l=0;l<s;l++){var u=o[l][e];r.push(h.convertToSpecialFormat(e,u,t,!0));}n+=a+h.getCSVRow(r,t,void 0,!0),a="\n";}),(function(e,t){var i=s.indexOf(e),n=s.indexOf(t);return i>n?-1:i<n?1:0}));else {for(l=o.length,u=0;u<l;u++)d=this.getCSVRow(o[u],t,r),t.reverse?n=d+a+n:n+=a+d,a="\n";t.addColumnNames&&(n=this.getCSVRow(r,t,void 0,!0)+a+n);}return c=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getCSV",{data:i?"data:"+this.getContentType(e)+";"+c+","+encodeURIComponent(n):n,options:t}).data]}))}))},t.prototype.getCSVRow=function(e,t,i,n){var r=this;void 0===n&&(n=!1);var a=t.separator||",",o=[];i||(i=e);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"csv"}).dataFieldsOrder;return it(i,(function(i,s){var l=r.convertEmptyValue(i,e[i],t),u=n?l:r.convertToSpecialFormat(i,l,t);u=(u=""+u).replace(/"/g,'""'),(t.forceQuotes||u.search(new RegExp('"|\n|'+a,"g"))>=0)&&(u='"'+u+'"'),o.push(u);}),(function(e,t){var i=s.indexOf(e),n=s.indexOf(t);return i>n?1:i<n?-1:0})),o.join(a)},t.prototype.getHTML=function(e,t,i){return void 0===i&&(i=!0),S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d=this;return _(this,(function(c){if(j(t)||(t=this.getFormatOptions("html")),n="<table>",t.tableClass&&(n='<table class="'+t.tableClass+'">'),r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"html"}).dataFields,a=this.data,t.pivot)o=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,n+="\n<tbody>",it(r,(function(e,i){var r=[];t.addColumnNames&&r.push(i);for(var o=a.length,s=0;s<o;s++){var l=a[s][e];r.push(d.convertToSpecialFormat(e,l,t,!0));}n+="\n"+d.getHTMLRow(r,t,void 0,!0);}),(function(e,t){var i=o.indexOf(e),n=o.indexOf(t);return i>n?-1:i<n?1:0})),n+="\n</tbody>";else {for(t.addColumnNames&&(n+="\n<thead>\n"+this.getHTMLRow(r,t,void 0,!0,!0)+"\n</thead>"),n+="\n<tbody>",s=a.length,l=0;l<s;l++)n+="\n"+this.getHTMLRow(a[l],t,r);n+="\n</tbody>";}return n+="\n</table>",u=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getHTML",{data:i?"data:"+this.getContentType(e)+";"+u+","+encodeURIComponent(n):n,options:t}).data]}))}))},t.prototype.getHTMLRow=function(e,t,i,n,r){var a=this;void 0===n&&(n=!1),void 0===r&&(r=!1);var o="\t<tr>";t.rowClass&&(o='\t<tr class="'+t.rowClass+'">'),i||(i=e);var s=this.adapter.apply("dataFieldsOrder",{dataFieldsOrder:this.dataFieldsOrder,format:"html"}).dataFieldsOrder,l=r?"th":"td",u=!0;return it(i,(function(i,r){var s=a.convertEmptyValue(i,e[i],t),d=n?s:a.convertToSpecialFormat(i,s,t);d=(d=""+d).replace(/[\u00A0-\u9999<>\&]/gim,(function(e){return "&#"+e.charCodeAt(0)+";"}));var c=l;t.pivot&&u&&(c="th"),t.cellClass?o+="\n\t\t<"+c+' class="'+t.cellClass+'">'+d+"</"+c+">":o+="\n\t\t<"+c+">"+d+"</"+c+">",u=!1;}),(function(e,t){var i=s.indexOf(e),n=s.indexOf(t);return i>n?1:i<n?-1:0})),o+="\n\t</tr>"},t.prototype.getJSON=function(e,t,i){return void 0===i&&(i=!0),S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d,c=this;return _(this,(function(h){if(j(t)||(t=this.getFormatOptions("json")),r=this.adapter.apply("formatDataFields",{dataFields:this.dataFields,format:"json"}).dataFields,this._dynamicDataFields)n=this.data;else for(n=[],a=this.data,o=function(e,i){var o=a[i];if("object"==typeof o){var s={};tt(o,(function(e,i){j(r[e])&&(s[r[e]]=c.convertToSpecialFormat(e,i,t));})),n.push(s);}},s=a.length,l=0;l<s;l++)o(0,l);return u=JSON.stringify(n,(function(e,i){return "object"==typeof i&&tt(i,(function(e,n){i[e]=c.convertToSpecialFormat(e,n,t);})),i}),t.indent),d=this.adapter.apply("charset",{charset:"charset=utf-8",type:e,options:t}).charset,[2,this.adapter.apply("getJSON",{data:i?"data:"+this.getContentType(e)+";"+d+","+encodeURIComponent(u):u,options:t}).data]}))}))},t.prototype.convertToSpecialFormat=function(e,t,i,n){if("number"==typeof t)if(this.isDateField(e))t=new Date(t);else {if(this.isDurationField(e))return this.durationFormatter.format(t,this.durationFormat);if(this.isNumberField(e)&&this.numberFormat)return this.numberFormatter.format(t,this.numberFormat)}return t instanceof Date?i.useTimestamps?t=t.getTime():i.useLocale?n||(t=t.toLocaleString()):t=this.dateFormatter.format(t,this.dateFormat):N(t)&&this.isDateField(e)&&this.dateFormat&&(t=this.dateFormatter.format(this.dateFormatter.parse(t),this.dateFormat)),t},t.prototype.convertEmptyValue=function(e,t,i){return j(t)?t:i.emptyAs},t.prototype.download=function(e,t,i){return void 0===i&&(i=!1),S(this,void 0,void 0,(function(){var n,r,a,o,s,l,u,d,c,h,p,m,f,g,y;return _(this,(function(v){if(this.msBlobDownloadSupport()){if(m=e.split(";"),f=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv"].indexOf(f))return n=new Blob([e],{type:f}),window.navigator.msSaveBlob(n,t),[2,!0];try{a=atob(e),e=a;}catch(e){return [2,!1]}for(l=new Array(e.length),u=0;u<e.length;++u)d=e.charCodeAt(u),l[u]=d;c=new Blob([new Uint8Array(l)],{type:f}),window.navigator.msSaveBlob(c,t);}else if(this.blobDownloadSupport()){if((r=document.createElement("a")).download=t,document.body.appendChild(r),m=e.split(";"),f=m.shift().replace(/data:/,""),e=decodeURIComponent(m.join(";").replace(/^[^,]*,/,"")),-1!=["image/svg+xml","application/json","text/csv","text/html"].indexOf(f))return i&&(e="\ufeff"+e),o=new Blob([e],{type:f}),s=window.URL.createObjectURL(o),r.href=s,r.download=t,r.click(),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(s);}),100),[2,!0];try{a=atob(e),e=a;}catch(e){return [2,!1]}for(l=new Array(e.length),u=0;u<e.length;++u)d=e.charCodeAt(u),l[u]=d;i&&(l=[239,187,191].concat(l)),c=new Blob([new Uint8Array(l)],{type:f}),h=window.URL.createObjectURL(c),r.href=h,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){window.URL.revokeObjectURL(h);}),100);}else this.linkDownloadSupport()?((p=document.createElement("a")).download=t,p.href=e,document.body.appendChild(p),p.click(),document.body.removeChild(p)):this.legacyIE()?4===(m=e.match(/^data:(.*);[ ]*([^,]*),(.*)$/)).length&&("base64"==m[2]?m[1].match(/^image\//)&&this.showModal('<img src="'+e+'" style="float: left; max-width: 50%; max-height: 80%; margin: 0 1em 0.5em 0; border: 1px solid #eee;" /><p>'+this.language.translate('To save the image, right-click thumbnail on the left and choose "Save picture as..."')+'</p><p style="text-align: center;"><small>'+this.language.translate("(Press ESC to close this message)")+"</small></p>",this.language.translate("Image Export Complete")):(f=void 0,t.match(/\.svg$/)?f="image/svg+xml":(f="text/plain",t+=".txt"),(g=document.createElement("iframe")).width="1px",g.height="1px",g.style.display="none",document.body.appendChild(g),(y=g.contentDocument).open(f,"replace"),y.write(decodeURIComponent(m[3])),y.close(),y.execCommand("SaveAs",!0,t),document.body.removeChild(g))):window.location.href=e;return [2,!0]}))}))},t.prototype.downloadSupport=function(){return this.linkDownloadSupport()||this.msBlobDownloadSupport()},t.prototype.linkDownloadSupport=function(){var e=St.getCache("linkDownloadSupport");if(!1===e||!0===e)return e;var t=void 0!==document.createElement("a").download;return St.setCache("linkDownloadSupport",t),t},t.prototype.blobDownloadSupport=function(){return j(window.Blob)},t.prototype.msBlobDownloadSupport=function(){return j(window.navigator.msSaveOrOpenBlob)},t.prototype.legacyIE=function(){var e=document.createElement("div");return e.innerHTML="\x3c!--[if lt IE 10]><i></i><![endif]--\x3e",1==e.getElementsByTagName("i").length},t.prototype.print=function(e,t,i){return S(this,void 0,void 0,(function(){return _(this,(function(n){return "css"==t.printMethod?[2,this.printViaCSS(e,t,i)]:[2,this.printViaIframe(e,t,i)]}))}))},t.prototype.printViaCSS=function(e,t,i){return S(this,void 0,void 0,(function(){var n,r,a,o;return _(this,(function(s){return n=document.documentElement.scrollTop||document.body.scrollTop,r=new wn(Sn(this.container),"body > *",{display:"none",position:"fixed",visibility:"hidden",opacity:"0",clipPath:"polygon(0px 0px,0px 0px,0px 0px,0px 0px);"}),i&&document&&document.title&&(a=document.title,document.title=i),(o=new Image).src=e,o.style.maxWidth="100%",o.style.display="block",o.style.position="relative",o.style.visibility="visible",o.style.opacity="1",o.style.clipPath="none",document.body.appendChild(o),this.setTimeout((function(){window.print();}),50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout((function(){document.body.removeChild(o),r.dispose(),a&&(document.title=document.title),document.documentElement.scrollTop=document.body.scrollTop=n;}),t.delay||500),[2,!0]}))}))},t.prototype.printViaIframe=function(e,t,i){return S(this,void 0,void 0,(function(){var n,r;return _(this,(function(a){return (n=document.createElement("iframe")).style.visibility="hidden",document.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),(r=new Image).src=e,r.style.maxWidth="100%",r.style.height="auto",i&&(n.contentWindow.document.title=i),n.contentWindow.document.body.appendChild(r),n.load=function(){n.contentWindow.document.body.appendChild(r);},this.setTimeout((function(){try{n.contentWindow.document.execCommand("print",!1,null)||n.contentWindow.print();}catch(e){n.contentWindow.print();}}),t.delay||50),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&t.delay<1e3?t.delay=1e3:t.delay<100&&(t.delay=100),this.setTimeout((function(){document.body.removeChild(n);}),t.delay+50||100),[2,!0]}))}))},t.prototype.findBackgroundColor=function(e){var t=1,i=bn(e,"background-color");if((i.match(/[^,]*,[^,]*,[^,]*,[ ]?0/)||"transparent"==i)&&(t=0),0==t){var n=e.parentElement;return n?this.findBackgroundColor(n):Yt("#fff")}return Yt(i,t)},Object.defineProperty(t.prototype,"container",{get:function(){return this.adapter.apply("container",{container:this._container}).container},set:function(e){this._container=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{get:function(){return this.adapter.apply("sprite",{sprite:this._sprite}).sprite},set:function(e){this._sprite=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraSprites",{get:function(){return this.adapter.apply("extraSprites",{extraSprites:this._extraSprites}).extraSprites},set:function(e){this._extraSprites=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateSprites",{get:function(){return this.adapter.apply("validateSprites",{validateSprites:this._validateSprites}).validateSprites},set:function(e){this._validateSprites=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.adapter.apply("data",{data:this._data}).data},set:function(e){this._data=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataFields",{get:function(){return this._dataFields||this.generateDataFields(),this.adapter.apply("dataFields",{dataFields:this._dataFields}).dataFields},set:function(e){this._dataFields=e,this._dynamicDataFields=!1;},enumerable:!0,configurable:!0}),t.prototype.handleDataUpdated=function(){this._dynamicDataFields&&(this._dataFields=void 0);var e=this.data.length>0;this._prevHasData!=e&&(this._prevHasData=e,this.menu&&this.menu.invalidate());},Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter||(this._dateFormatter=new vr,this._dateFormatter.language=this.language),this.adapter.apply("dateFormatter",{dateFormatter:this._dateFormatter}).dateFormatter},set:function(e){this._dateFormatter=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormat",{get:function(){return this.adapter.apply("dateFormat",{dateFormat:this._dateFormat}).dateFormat},set:function(e){this._dateFormat=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFields",{get:function(){return this._dateFields||(this._dateFields=new Tt),this.adapter.apply("dateFields",{dateFields:this._dateFields}).dateFields},set:function(e){this._dateFields=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter||(this._numberFormatter=new yr,this._numberFormatter.language=this.language),this.adapter.apply("numberFormatter",{numberFormatter:this._numberFormatter}).numberFormatter},set:function(e){this._numberFormatter=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormat",{get:function(){return this.adapter.apply("numberFormat",{numberFormat:this._numberFormat}).numberFormat},set:function(e){this._numberFormat=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFields",{get:function(){return this._numberFields||(this._numberFields=new Tt),this.adapter.apply("numberFields",{numberFields:this._numberFields}).numberFields},set:function(e){this._numberFields=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter||(this._durationFormatter=new br,this._durationFormatter.language=this.language),this.adapter.apply("durationFormatter",{durationFormatter:this._durationFormatter}).durationFormatter},set:function(e){this._durationFormatter=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormat",{get:function(){return this.adapter.apply("durationFormat",{durationFormat:this._durationFormat}).durationFormat},set:function(e){this._durationFormat=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFields",{get:function(){return this._durationFields||(this._durationFields=new Tt),this.adapter.apply("durationFields",{durationFields:this._durationFields}).durationFields},set:function(e){this._durationFields=e;},enumerable:!0,configurable:!0}),t.prototype.generateDataFields=function(){var e=this;this._dataFields={},this.data.length&&we(this.data,(function(t){tt(t,(function(t,i){j(e._dataFields[t])||(e._dataFields[t]=e.adapter.apply("dataFieldName",{name:t,field:t}).name);}));}));},t.prototype.isDateField=function(e){return this.adapter.apply("isDateField",{isDateField:this.dateFields.contains(e),field:e}).isDateField},t.prototype.isNumberField=function(e){return this.adapter.apply("isNumberField",{isNumberField:this.numberFields.contains(e),field:e}).isNumberField},t.prototype.isDurationField=function(e){return this.adapter.apply("isDurationField",{isDurationField:this.durationFields.contains(e),field:e}).isDurationField},t.prototype.getContentType=function(e){var t="";switch(e){case"png":case"gif":t="image/"+e;break;case"jpg":t="image/jpeg";break;case"svg":t="image/svg+xml";break;case"csv":t="text/csv";break;case"json":t="application/json";break;case"html":t="text/html";break;case"pdf":case"pdfdata":t="application/pdf";break;case"xlsx":t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet";}return this.adapter.apply("contentType",{contentType:t,type:e}).contentType},Object.defineProperty(t.prototype,"filePrefix",{get:function(){return this.adapter.apply("filePrefix",{filePrefix:this._filePrefix}).filePrefix},set:function(e){this._filePrefix=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.adapter.apply("backgroundColor",{backgroundColor:this._backgroundColor}).backgroundColor},set:function(e){this._backgroundColor=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.adapter.apply("title",{title:this._title}).title},set:function(e){this._title=e;},enumerable:!0,configurable:!0}),t.prototype.showPreloader=function(){var e=this.preloader;e&&(e.progress=.5,e.label.text="...");},t.prototype.hidePreloader=function(){var e=this.preloader;e&&(e.progress=1);},Object.defineProperty(t.prototype,"preloader",{get:function(){return this._sprite&&this._sprite.parent&&this._sprite.parent.preloader?this._sprite.parent.preloader:void 0},enumerable:!0,configurable:!0}),t.prototype.showTimeout=function(){this.showModal(this.adapter.apply("timeoutMessage",{message:this.language.translate("Export operation took longer than expected. Something might have gone wrong.")}).message);},t.prototype.hideTimeout=function(){this._timeoutTimeout&&(this.removeDispose(this._timeoutTimeout),this._timeoutTimeout=null),this.hideModal();},Object.defineProperty(t.prototype,"language",{get:function(){return this._language||(this._language=new mr),this._language},set:function(e){this._language=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal||(this._modal=new Jn,this._modal.adapter.add("classPrefix",(function(e){return e=nn.classNamePrefix+e}))),this._modal},enumerable:!0,configurable:!0}),t.prototype.showModal=function(e,t){this.hideModal(),this.hidePreloader();var i=this.modal;i.container=this.sprite.svgContainer.SVGContainer,i.content=e,i.readerTitle=t,i.open();},t.prototype.hideModal=function(){this._modal&&this.modal.close();},t.prototype._canvg=function(){return S(this,void 0,void 0,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return [4,import('./index-ec89cc17-2c7d6bff.js')];case 1:return null!=(e=t.sent()).default?[2,e.default]:[2,e]}}))}))},Object.defineProperty(t.prototype,"canvg",{get:function(){return this._canvg()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pdfmake",{get:function(){return null==Cr&&(Cr=function(){return S(this,void 0,void 0,(function(){var e,t,i,n;return _(this,(function(r){switch(r.label){case 0:return [4,Promise.all([import('./pdfmake-a15d3723-be7495fc.js').then((function(e){return e.p})),import('./vfs_fonts-60faa403-92f3a174.js')])];case 1:return e=r.sent(),t=e[0],i=e[1],(n=window).pdfMake=n.pdfMake||{},n.pdfMake.vfs=i.default,t.vfs=i.default,[2,t]}}))}))}()),Cr},enumerable:!0,configurable:!0}),t.prototype._xlsx=function(){return S(this,void 0,void 0,(function(){return _(this,(function(e){switch(e.label){case 0:return [4,import('./xlsx.core.min-9380859a-1ee57cc4.js').then((function(e){return e.x}))];case 1:return [2,e.sent()]}}))}))},Object.defineProperty(t.prototype,"xlsx",{get:function(){return this._xlsx()},enumerable:!0,configurable:!0}),t.prototype.setFormatOptions=function(e,t){this._formatOptions.setKey(e,t);},t.prototype.getFormatOptions=function(e){return this._formatOptions.getKey(e)},Object.defineProperty(t.prototype,"formatOptions",{get:function(){return this._formatOptions},enumerable:!0,configurable:!0}),t.prototype._disablePointers=function(){j(this._spriteInteractionsEnabled)||(this._spriteInteractionsEnabled=this.sprite.interactionsEnabled),this.sprite.interactionsEnabled=!1;},t.prototype._releasePointers=function(){j(this._spriteInteractionsEnabled)&&!this._exportRunning&&(this.sprite.interactionsEnabled=this._spriteInteractionsEnabled);},t.prototype.hideNonExportableSprites=function(){var e=this;if(!this._objectsAlreadyHidden){var t=this.sprite.svgContainer;t&&we(t.nonExportableSprites,(function(t){t.isHidden||t.isHiding||!t.visible||e._hiddenObjects.push(t),t.hide(0);})),this._objectsAlreadyHidden=!0;}},t.prototype.restoreNonExportableSprites=function(){this._objectsAlreadyHidden&&(we(this._hiddenObjects,(function(e){e.show(0);})),this._hiddenObjects=[],this._objectsAlreadyHidden=!1);},t.prototype.awaitValidSprites=function(){return S(this,void 0,void 0,(function(){var e;return _(this,(function(t){switch(t.label){case 0:return e=[],this.validateSprites.length&&we(this.validateSprites,(function(t,i){t.invalid&&e.push(new Promise((function(e,i){t.events.once("validated",(function(t){e();}));})));})),e.length?[4,Promise.all(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return [2]}}))}))},t.prototype.processConfig=function(t){St.registeredClasses.ExportMenu=_r,t&&(j(t.menu)&&!j(t.menu.type)&&(t.menu.type="ExportMenu"),j(t.dataFields)&&z(t.dataFields)&&(this.dataFields=t.dataFields,delete t.dataFields)),e.prototype.processConfig.call(this,t);},t.XLINK="http://www.w3.org/1999/xlink",t}(Sr),Fr=["fill","fillOpacity","stroke","strokeOpacity","strokeWidth","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin"],Dr=function(e){function t(){var t=e.call(this)||this;return t.properties={},t._eventDispatcher=new en(t),t._bindings={},t._isTemplate=!1,t._isPath=!1,t._inited=!1,t._ready=!1,t.isHiding=!1,t._isHidden=!1,t.isShowing=!1,t.isStandaloneInstance=!1,t._isActive=!1,t._mask=new Be,t._positionPrecision=3,t._language=new Be,t._exporting=new Be,t._exportable=!0,t._bbox={x:0,y:0,width:0,height:0},t.invalid=!1,t.positionInvalid=!1,t.propertyFields={},t.applyOnClones=!1,t._measuredWidthSelf=0,t._measuredHeightSelf=0,t.maxLeft=0,t.maxRight=0,t.maxTop=0,t.maxBottom=0,t.maxLeftSelf=0,t.maxRightSelf=0,t.maxTopSelf=0,t.maxBottomSelf=0,t._isDragged=!1,t._isResized=!1,t._disabled=!1,t._internalDisabled=!1,t._updateDisabled=!1,t._internalDefaultsApplied=!1,t.rollOutDelay=0,t.isBaseSprite=!1,t.shouldClone=!0,t.appeared=!1,t.ex=0,t.ey=0,t.dragWhileResize=!1,t.measureFailed=!1,t.preventShow=!1,t.cloneTooltip=!0,t.className="Sprite",t._disposers.push(t._eventDispatcher),t.uid,t.group=t.paper.addGroup("g"),t.setPropertyValue("scale",1),t.setPropertyValue("rotation",0),t.setPropertyValue("align","none"),t.setPropertyValue("valign","none"),t.setPropertyValue("pixelPerfect",!1),t.setPropertyValue("visible",!0),t.setPropertyValue("tooltipPosition","fixed"),t.setPropertyValue("verticalCenter","none"),t.setPropertyValue("horizontalCenter","none"),t.setPropertyValue("tooltipX",A(50)),t.setPropertyValue("tooltipX",A(50)),t.setPropertyValue("marginTop",0),t.setPropertyValue("marginBottom",0),t.setPropertyValue("marginLeft",0),t.setPropertyValue("marginRight",0),t.setPropertyValue("dx",0),t.setPropertyValue("dy",0),t.setPropertyValue("paddingTop",0),t.setPropertyValue("paddingBottom",0),t.setPropertyValue("paddingRight",0),t.setPropertyValue("paddingLeft",0),t.setPropertyValue("togglable",!1),t.setPropertyValue("hidden",!1),t.setPropertyValue("urlTarget","_self"),t.setPropertyValue("alwaysShowTooltip",!1),t.setPropertyValue("showTooltipOn","hover"),t._prevMeasuredWidth=0,t._prevMeasuredHeight=0,t._measuredWidth=0,t._measuredHeight=0,t._isMeasured=!0,t.invalidate(),t.applyTheme(),t._disposers.push(t.events),t._disposers.push(t.group),t._disposers.push(t._mask),t._disposers.push(t._language),t._disposers.push(t._exporting),t._disposers.push(new Ve((function(){tt(t._bindings,(function(e,t){t.dispose();}));}))),t.setPropertyValue("interactionsEnabled",!0),t}return x(t,e),Object.defineProperty(t.prototype,"events",{get:function(){return this._eventDispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Rt(this)),this._adapterO},enumerable:!0,configurable:!0}),t.prototype.applyTheme=function(){e.prototype.applyTheme.call(this);},t.prototype.getCurrentThemes=function(){var e=this._themes;if(e)return e;var t=this._parent;return t?t.getCurrentThemes():St.themes},t.prototype.applyInternalDefaults=function(){this._internalDefaultsApplied=!0;},t.prototype.invalidate=function(){this.disabled||this._isTemplate||this.__disabled||this.invalid||(this.invalid=!0,St.addToInvalidSprites(this),jr.requestFrame());},t.prototype.validate=function(){this.dispatchImmediately("beforevalidated"),this._internalDefaultsApplied||this.applyInternalDefaults(),this.beforeDraw(),this.draw(),this.invalid=!1,St.removeFromInvalidSprites(this),this.afterDraw();},t.prototype.invalidatePosition=function(){this.disabled||this._isTemplate||this.positionInvalid||(this.positionInvalid=!0,St.addToInvalidPositions(this),jr.requestFrame());},t.prototype.validatePosition=function(){var e=this.pixelX,t=this.pixelY,i=this.dx,n=this.dy,r=e+i,a=t+n;this._updateDisabled&&(this._internalDisabled?this.group.attr({display:"none"}):this.disabled||this.removeSVGAttribute("display"),this._updateDisabled=!1);var o=this.measure(),s=this.group.transformString;this.group.moveTo({x:r,y:a}),this.group.rotation=this.rotation,this.nonScaling?this.group.scale=this.scale/this.globalScale:this.group.scale=this.scale,(s!=this.group.transformString||o)&&(null==s?this.dispatch("transformed"):this.dispatchImmediately("transformed"),this.dispatch("positionchanged"),"hit"!=this.showTooltipOn&&"always"!=this.showTooltipOn||this.updateTooltipPosition()),e+i==r&&t+n==a&&(St.removeFromInvalidPositions(this),this.positionInvalid=!1);var l=this._maskRectangle;l&&this._clipElement.moveTo({x:l.x-e,y:l.y-t});},t.prototype.beforeDraw=function(){},t.prototype.draw=function(){},t.prototype.afterDraw=function(){var e,t;if((this.isMeasured||"none"!==this.horizontalCenter||"none"!==this.verticalCenter)&&this.measureElement(),this._inited)this.dispatch("validated");else {if(this._adapterO)try{for(var i=P(this._adapterO.keys()),n=i.next();!n.done;n=i.next()){var r=n.value;switch(r){case"mask":case"fill":case"opacity":case"fillOpacity":case"stroke":case"strokeOpacity":case"strokeWidth":case"shapeRendering":case"strokeDasharray":case"strokeDashoffset":case"strokeLinecap":case"strokeLinejoin":case"textDecoration":case"fontSize":case"fontFamily":case"fontWeight":this[r]=this[r];}}}catch(t){e={error:t};}finally{try{n&&!n.done&&(t=i.return)&&t.call(i);}finally{if(e)throw e.error}}this.applyFilters(),this.visible=this.visible,this.interactionsEnabled=this.getPropertyValue("interactionsEnabled"),this._inited=!0,this.showOnInit||(this.appeared=!0),this.hidden&&this.hide(0),this.applyMask(),this.dispatch("validated"),this.dispatch("inited"),this.dispatchReady();}"always"==this.showTooltipOn&&(!this.visible||this.disabled||this.__disabled?this.hideTooltip(0):this.showTooltip());},t.prototype.dispatchReady=function(){this.isReady()||(this._ready=!0,this.dispatch("ready"));},t.prototype.reinit=function(){this._inited=!1,this.setState(this.defaultState),this.invalidate();},t.prototype.handleGlobalScale=function(){this.dispatch("globalscalechanged"),this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth),this.nonScaling&&this.validatePosition(),this.updateFilterScale();},t.prototype.updateFilterScale=function(){var e=this;ut(this.filters.iterator(),(function(t){t.scale=e.globalScale;}));},t.prototype.removeFromInvalids=function(){St.removeFromInvalidSprites(this),St.removeFromInvalidPositions(this);},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.isMeasured=t.isMeasured,this.states.copyFrom(t.states),t.filters.length>0&&t.filters.each((function(e){i.filters.push(e.clone());})),t._adapterO&&this.adapter.copyFrom(t._adapterO),t._interaction&&this.interactions.copyFrom(t.interactions),t._plugins&&this.plugins.copyFrom(t.plugins),this.configField=t.configField,this.applyOnClones=t.applyOnClones,this.disabled=t.disabled,this.virtualParent=t.virtualParent,this.exportable=t.exportable,t._tooltip&&(this._tooltip?this._tooltip.copyFrom(t.tooltip):t.cloneTooltip?this.tooltip=t.tooltip.clone():this._tooltip=t.tooltip),this._showSystemTooltip=t.showSystemTooltip,Zt(t.propertyFields,this.propertyFields),Zt(t.properties,this),t.fillModifier&&(this.fillModifier=t.fillModifier.clone()),t.strokeModifier&&(this.strokeModifier=t.strokeModifier.clone()),t.focusFilter&&(this.focusFilter=t.focusFilter.clone());},t.prototype.dispose=function(){if(!this.isDisposed()){if("always"==this.showTooltipOn&&this.tooltip&&this.tooltip.hide(),this.dispatchImmediately("beforedisposed"),this.isBaseSprite){if(this.htmlContainer)for(;this.htmlContainer.childNodes.length>0;)this.htmlContainer.removeChild(this.htmlContainer.firstChild);this.isBaseSprite=!1;}if(e.prototype.dispose.call(this),this._adapterO&&this._adapterO.clear(),this.applyOnClones&&this._clones)for(var t=this._clones.length-1;t>=0;t--){this._clones.getIndex(t).dispose();}this._svgContainer&&this._svgContainer.dispose(),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0),this._urlDisposer&&this._urlDisposer.dispose(),this.removeFromInvalids(),this.element&&this.element.dispose(),this.group&&this.group.dispose(),this._numberFormatter&&this._numberFormatter.dispose(),this._focusFilter&&this._focusFilter.dispose();var i=this.stroke;!i||i instanceof $t||!i.dispose||this.clonedFrom&&this.clonedFrom.stroke==i||i.dispose();var n=this.fill;if(!n||n instanceof $t||!n.dispose||this.clonedFrom&&this.clonedFrom.fill==n||n.dispose(),j(this.id)&&this.map.removeKey(this.id),this.parent=void 0,this._filters)for(;this._filters.length>0;){var r=this._filters.getIndex(0);r.dispose(),this._filters.removeValue(r);}this._alwaysShowDisposers=void 0;}},Object.defineProperty(t.prototype,"isTemplate",{get:function(){return this._isTemplate},set:function(e){e=D(e),this._isTemplate!=e&&(this._isTemplate=e,this instanceof Lr&&ut(this.children.iterator(),(function(t){t.isTemplate=e;})),e?(this.parent=this._parent,this.removeFromInvalids()):this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSystemTooltip",{get:function(){return j(this._showSystemTooltip)?this._showSystemTooltip:this.virtualParent?this.virtualParent.showSystemTooltip:!!this._parent&&this._parent.showSystemTooltip},set:function(e){e=D(e),this._showSystemTooltip!=e&&(this._showSystemTooltip=e,this.applyAccessibility());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topParent",{get:function(){return this._topParent?this._topParent:this._parent?this._parent.topParent:void 0},set:function(e){this._topParent=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},set:function(e){if(!this._isTemplate){this.paper;var t=this._parent;t!=e&&(t&&t.children.removeValue(this),this._parent=e,e?(this.topParent=e.topParent,e.isTemplate&&(this.isTemplate=!0),this.baseId=e.baseId,e.children.push(this),this._tooltip&&!this._tooltipContainer&&(this._tooltip.parent=e.tooltipContainer),this._dataItem||(this.dataItem=e.dataItem),this.handleAlwaysShowTooltip(),this.dataItem&&this.applyAccessibility(),this.dispatchImmediately("parentset")):this.topParent=void 0);}},enumerable:!0,configurable:!0}),t.prototype.handleAlwaysShow=function(){this.showTooltip();},t.prototype.handleAlwaysShowTooltip=function(){var e=this,t=this._alwaysShowDisposers;if(t&&we(t,(function(e){e.dispose();})),this._alwaysShowDisposers=[],"always"==this.showTooltipOn)for(;null!=e;){var i=e.events.on("visibilitychanged",this.handleAlwaysShow,this,!1);this.addDisposer(i),this._alwaysShowDisposers.push(i),e=e.parent;}},Object.defineProperty(t.prototype,"virtualParent",{get:function(){return this._virtualParent},set:function(e){this._virtualParent=e,this.dataItem&&this.applyAccessibility();},enumerable:!0,configurable:!0}),t.prototype.appendDefs=function(){this.filterElement&&this.paper.appendDef(this.filterElement);var e=this.fill;e&&e.element&&this.paper.appendDef(e.element);var t=this.stroke;if(t&&t.element&&this.paper.appendDef(t.element),this.fillModifier&&this.fill instanceof $t){var i=this.fillModifier.modify(this.fill);i&&i.element&&this.paper.appendDef(i.element);}if(this.strokeModifier&&this.stroke instanceof $t){var n=this.strokeModifier.modify(this.stroke);n&&n.element&&this.paper.appendDef(n.element);}this._clipPath&&this.paper.appendDef(this._clipPath),!1===this._exportable&&(this.exportable=!1);},Object.defineProperty(t.prototype,"map",{get:function(){var e=this.topParent;return e?e.map:(this._map||(this._map=new vt),this._map)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delayedMap",{get:function(){var e=this.topParent;return e?e.delayedMap:(this._delayedMap||(this._delayedMap=new vt),this._delayedMap)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(e){if(this._id!=e){if(this._id=e,this.map.hasKey(e))throw Error("Duplicate id ("+e+") used on multiple objects.");this.map.setKey(e,this);}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dom",{get:function(){return this.group.node},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paper",{get:function(){if(this._paper)return this._paper;var e=this._parent;return e?e.paper:sr()},set:function(e){this.setPaper(e);},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(e){return this._paper!=e&&(this._paper=e,this.appendDefs(),!0)},Object.defineProperty(t.prototype,"htmlContainer",{get:function(){if(this._htmlContainer)return this._htmlContainer;var e=this._parent;return e?e.htmlContainer:void 0},set:function(e){this._htmlContainer=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleElement",{get:function(){return this._titleElement||(this._titleElement=this.paper.add("title"),this.group.add(this._titleElement)),this._titleElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"descriptionElement",{get:function(){return this._descriptionElement||(this._descriptionElement=this.paper.add("desc"),this.group.add(this._descriptionElement)),this._descriptionElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters||(this._filters=new Tt,this._disposers.push(this._filters.events.onAll(this.applyFilters,this)),this._disposers.push(new wt(this._filters))),this._filters},enumerable:!0,configurable:!0}),t.prototype.setSVGAttributes=function(){this.fill=this.fill,this.opacity=this.opacity,this.fillOpacity=this.fillOpacity,this.stroke=this.stroke,this.strokeOpacity=this.strokeOpacity,this.shapeRendering=this.shapeRendering,this.strokeDasharray=this.strokeDasharray,this.strokeDashoffset=this.strokeDashoffset,this.strokeLinecap=this.strokeLinecap,this.strokeLinejoin=this.strokeLinejoin,this.focusable=this.focusable,this.tabindex=this.tabindex,this.role=this.role;},t.prototype.setSVGAttribute=function(e){this.group.attr(e);},t.prototype.removeSVGAttribute=function(e){this.group.removeAttr(e);},t.prototype.setClassName=function(){var e=this.className,t=nn.classNamePrefix;this.element&&this.element.addClass(t+e),this.group.addClass(t+e+"-group"),j(this.id)&&this.group.addClass(t+this.id),this.userClassName&&this.group.addClass(this.userClassName);},t.prototype.uidAttr=function(){return this.setSVGAttribute({id:this.uid}),this.uid},t.prototype.updateClipPath=function(){var e=this._clipElement;e&&e.moveTo({x:this.mask.pixelX,y:this.mask.pixelY});},t.prototype.createClipPath=function(){if(!this._clipPath){this._clipPath=this.paper.addGroup("clipPath"),this.paper.appendDef(this._clipPath),this._disposers.push(this._clipPath);var e=St.getUniqueId();this._clipPath.attr({id:e}),this.group.attr({"clip-path":'url("'+ei()+e+'")'});}},t.prototype.applyMask=function(){var e=this.mask;if(this._clipPath&&e)if(e instanceof Lr){this._clipElement.attr({width:te(0,e.pixelWidth),height:te(0,e.pixelHeight)});var t=Ti({x:e.pixelX,y:e.pixelY},e.parent,this);this._clipPath.x=t.x,this._clipPath.y=t.y;}else e.element&&e.element!=this._clipElement&&(this._clipElement=e.element,this._clipPath.add(this._clipElement)),this._clipPath.scale=e.scale,this._clipPath.x=e.pixelX,this._clipPath.y=e.pixelY,this._clipPath.rotation=e.rotation;},t.prototype.applyFilters=function(){var e=this;if(this._filters&&this._filters.length>0){var t=100,i=100;this.filterElement?this.filterElement.removeChildNodes():(this.filterElement=this.paper.addGroup("filter"),this._disposers.push(this.filterElement)),this.paper.appendDef(this.filterElement);var n="filter-"+this.uid;this.filterElement.attr({id:n}),ut(this.filters.iterator(),(function(n){n.sprite=e,n.paper=e.paper,e.filterElement.attr({filterUnits:n.filterUnits}),n.appendPrimitives(e.filterElement),n.width>t&&(t=n.width),n.height>i&&(i=n.height),n.scale=e.globalScale;}));var r=t+"%",a=i+"%";this.filterElement.attr({width:r,height:a,x:-(t-100)/2+"%",y:-(i-100)/2+"%"}),this.group.attr({filter:'url("'+ei()+n+'")'});}else this.filterElement&&(this.group.removeAttr("filter"),this.filterElement.removeChildNodes());},t.prototype.removeClipPath=function(){this._clipPath&&(this.removeDispose(this._clipPath),this._clipPath=void 0);},t.prototype.setElement=function(e){this.element=e,this.setSVGAttributes(),this.applyAccessibility();},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},set:function(e){this.removeElement(),this._element=e,this.group.add(e),e.node instanceof SVGPathElement&&(this._isPath=!0),this.invalid||this.validate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgContainer",{get:function(){return this._svgContainer?this._svgContainer:this._parent?this._parent.svgContainer:void 0},set:function(e){this._svgContainer=e;},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){if(this.element)if(this.definedBBox)this._bbox=this.definedBBox;else {var e=this.element.getBBox();this._bbox={x:e.x,y:e.y,width:e.width,height:e.height};}},t.prototype.updateCenter=function(){if(this.element){var e=this.element.transformString,t=this.bbox,i=0,n=0,r=t.x,a=t.y,o=t.width,s=t.height,l=this.pixelPaddingLeft,u=this.pixelPaddingRight,d=this.pixelPaddingTop,c=this.pixelPaddingBottom,h=te(o+l+u,this.pixelWidth),p=te(s+d+c,this.pixelHeight),m=t.x,f=t.x+h,g=t.y,y=t.y+p,v=this.horizontalCenter,b=this.verticalCenter;switch(v){case"none":i=r+l;break;case"left":i=l;break;case"middle":i=l-(o+u+l)/2;break;case"right":i=-u-o;}switch(b){case"none":n=a+d;break;case"top":n=d;break;case"middle":n=d-(s+c+d)/2;break;case"bottom":n=-c-s;}this._measuredHeight=p,this._measuredWidth=h;var x=K(i-r,this._positionPrecision,!0),C=K(n-a,this._positionPrecision,!0);this.ex=x-l,this.ey=C-d,this.maxLeft=m+x-l,this.maxRight=f+x-l,this.maxTop=g+C-d,this.maxBottom=y+C-d,this.pixelPerfect&&0==nn.pixelPerfectPrecision&&(x-=.5,C-=.5),this.element.moveTo({x:x,y:C}),e!=this.element.transformString&&this.dispatchImmediately("transformed");}},t.prototype.measure=function(){this.updateCenter();var e=this._measuredWidth,t=this._measuredHeight,i=this.maxLeft,n=this.maxRight,r=this.maxTop,a=this.maxBottom;this._measuredWidthSelf=e,this._measuredHeightSelf=t;var o=this._positionPrecision;if(this.maxLeftSelf=this.maxLeft,this.maxRightSelf=this.maxRight,this.maxTopSelf=this.maxTop,this.maxBottomSelf=this.maxBottom,0!==this.rotation||1!==this.scale||this.nonScaling){this.nonScalingStroke&&(this.strokeWidth=this.strokeWidth);var s=this.paper.svg,l=s.createSVGMatrix(),u=this.rotation,d=this.scale;this.nonScaling&&(d=this.scale/this.globalScale),l.a=ee(u)*d,l.c=-Z(u)*d,l.e=0,l.b=Z(u)*d,l.d=ee(u)*d,l.f=0;var c=s.createSVGPoint();c.x=i,c.y=r;var h=s.createSVGPoint();h.x=n,h.y=r;var p=s.createSVGPoint();p.x=n,p.y=a;var m=s.createSVGPoint();m.x=i,m.y=a;var f=c.matrixTransform(l),g=h.matrixTransform(l),y=p.matrixTransform(l),v=m.matrixTransform(l);i=Math.min(f.x,g.x,y.x,v.x),n=Math.max(f.x,g.x,y.x,v.x),r=Math.min(f.y,g.y,y.y,v.y),e=n-i,t=(a=Math.max(f.y,g.y,y.y,v.y))-r,this.maxLeft=K(i,o,!0),this.maxRight=K(n,o,!0),this.maxTop=K(r,o,!0),this.maxBottom=K(a,o,!0);}return this._measuredWidth=K(e,o,!0),this._measuredHeight=K(t,o,!0),(this._measuredWidth!=this._prevMeasuredWidth||this._measuredHeight!=this._prevMeasuredHeight)&&(this._prevMeasuredHeight=this._measuredHeight,this._prevMeasuredWidth=this._measuredWidth,this.dispatch("sizechanged"),(this.isHover||"hit"==this.showTooltipOn||"always"==this.showTooltipOn)&&this.tooltip&&this.tooltip.visible&&(j(this.tooltipText)||j(this.tooltipHTML))&&this.updateTooltipPosition(),!0)},t.prototype.insertBefore=function(e){var t=this._parent;if(t){var i=t.children.indexOf(e);-1!==i&&(t.children.moveValue(this,i),t.sortChildren());}return this},t.prototype.insertAfter=function(e){var t=this._parent;if(t){var i=t.children.indexOf(e);-1!==i&&(t.children.moveValue(this,i+1),t.sortChildren());}return this},t.prototype.removeElement=function(){this._element&&(this.removeDispose(this._element),this._element=void 0);},t.prototype.getRelativeX=function(e){return e instanceof T?e.value:this._parent?e/this._parent.innerWidth:0},t.prototype.getRelativeY=function(e){return e instanceof T?e.value:this._parent?e/this._parent.innerHeight:0},t.prototype.getPixelX=function(e){var t=0;if(W(e))t=e;else if(e instanceof T){var i=e.value;this._parent&&(t=K(this._parent.innerWidth*i,this._positionPrecision,!0));}return t},t.prototype.getPixelY=function(e){var t=0;if(W(e))t=e;else if(e instanceof T){var i=e.value;this._parent&&(t=K(this._parent.innerHeight*i,this._positionPrecision,!0));}return t},t.prototype.moveTo=function(e,t,i,n){this.isDragged&&!n||(e&&(W(e.x)&&this.setPropertyValue("x",K(e.x,this._positionPrecision,!0)),W(e.y)&&this.setPropertyValue("y",K(e.y,this._positionPrecision,!0))),W(t)&&(this.rotation=t),W(i)&&(this.scale=i),this.invalidatePosition());},Object.defineProperty(t.prototype,"mask",{get:function(){return this._adapterO?this._adapterO.apply("mask",this._mask.get()):this._mask.get()},set:function(e){var t=this;this._mask.get()!==e&&(e?(this.createClipPath(),e instanceof Lr?this._clipElement=this.paper.add("rect"):(e.isMeasured=!1,e.element&&(this._clipElement=e.element)),this._clipElement&&this._clipPath.add(this._clipElement),this._mask.set(e,new Re([e.events.on("maxsizechanged",(function(){t.inited&&t.applyMask();}),void 0,!1),e.events.on("validated",this.applyMask,this,!1),e.events.on("positionchanged",this.applyMask,this,!1)])),this.applyMask()):(this._mask.reset(),this.group.removeAttr("clip-path"),this.removeClipPath()));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskRectangle",{get:function(){return this._maskRectangle},set:function(e){e?(this.createClipPath(),this._clipElement||(this._clipElement=this.paper.add("rect"),this._clipPath.add(this._clipElement)),this._clipElement.attr({width:e.width,height:e.height})):(this.removeClipPath(),this._clipElement=void 0),this._maskRectangle=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMeasured",{get:function(){return this._isMeasured},set:function(e){(e=D(e))||(this._measuredWidth=0,this._measuredHeight=0),this._isMeasured!=e&&(this._isMeasured=e,this.invalidatePosition());},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){this.invalid&&this.validate(),e.invalid&&e.validate();var t=this.pixelX+this.maxLeft,i=this.pixelY+this.maxTop,n=t+this.maxRight,r=i+this.maxBottom,a=e.pixelX+e.maxLeft,o=e.pixelY+e.maxTop,s=a+e.maxRight,l=o+e.maxBottom;return !(a>n||s<t||o>r||l<i)},Object.defineProperty(t.prototype,"inited",{get:function(){return this._inited},enumerable:!0,configurable:!0}),t.prototype.isReady=function(){return this._ready},Object.defineProperty(t.prototype,"states",{get:function(){if(!this._states){var e=new Qi;this._states=new bt(e),this._disposers.push(this._states.events.on("insertKey",this.processState,this,!1)),this._disposers.push(this._states.events.on("setKey",this.processState,this,!1)),this._disposers.push(new yt(this._states)),this._disposers.push(e);}return this._states},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenState",{get:function(){if(!this.states.getKey("hidden")){var e=this.states.create("hidden");e.properties.opacity=0,e.properties.visible=!1;}return this.states.getKey("hidden")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){this.states.getKey("default")||(this.states.create("default").properties.opacity=1);return this.states.getKey("default")},enumerable:!0,configurable:!0}),t.prototype.processState=function(e){var t=e.newValue;if(t.sprite=this,t.name=e.key,(this.states.hasKey("hover")||"hover"==this.showTooltipOn&&(j(this.tooltipHTML)||j(this.tooltipText)))&&(this.hoverable=!0),(this.states.hasKey("down")||"hover"==this.showTooltipOn&&(j(this.tooltipHTML)||j(this.tooltipText)))&&(this.clickable=!0),this.states.hasKey("focus")&&(this.focusable=!0),this.applyOnClones)for(var i=this.clones.values,n=i.length,r=0;r<n;++r){var a=i[r];a.isDisposed()||a.states.setKey(t.name,t);}},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new un(this._animations))),this._animations},enumerable:!0,configurable:!0}),t.prototype.getSvgPoint=function(e){try{var t=this.htmlContainer.getBoundingClientRect();return {x:e.x-t.left,y:e.y-t.top}}catch(t){return e}},t.prototype.animate=function(e,t,i){return new dn(this,e,t,i).start()},t.prototype.setState=function(e,t,i){var n;if(e instanceof Qi)this.states.setKey(e.name,e),n=e;else if(!(n=this.states.getKey(e)))return;if("hover"==n.name){if(this.isHidden)return;this.isHover=!0;}return "hidden"==n.name?this.isHiding=!0:this.visible||this.setVisibility(n.properties.visible||this.defaultState.properties.visible),"active"==n.name&&(this.isActive=!0),W(t)||(t=n.transitionDuration),j(i)||(i=n.transitionEasing),this.transitTo(n,t,i)},t.prototype.applyCurrentState=function(e){var t=this.setState(this.defaultState,e);return this.isHover&&(t=this.setState("hover",e)),this.isDown&&this.interactions.downPointers.length&&(t=this.setState("down",e)),this.isFocused=this.isFocused,this.isActive&&(t=this.setState("active",e),this.isHover&&this.states.hasKey("hoverActive")&&(t=this.setState("hoverActive",e))),t},t.prototype.transitTo=function(e,t,i){var n,r=this,a=[];if(tt(e.allValues,(function(e,t){var i=r[e];if(t!=i&&null==r.defaultState.properties[e]&&(r.defaultState.properties[e]=i),"__unset"!=t){var n={from:i,to:t,property:e};a.push(n);}})),a.length>0&&((n=this.animate(a,t,i))&&!n.isFinished()?this._disposers.push(n.events.on("animationended",(function(){r.dispatchImmediately("transitionended");}))):this.dispatchImmediately("transitionended")),e.filters.length>0){var o=[];ut(e.filters.iterator(),(function(e){var n=e.clone();o.push(n);var a=[];ut(r.filters.iterator(),(function(e){e.className==n.className&&(pt(r.defaultState.filters.iterator(),(function(e){return e.className===n.className}))||r.defaultState.filters.push(e),tt(n.properties,(function(t,i){var n=e.properties[t];n!=i&&a.push({property:t,from:n,to:i});})));})),n.animate(a,t,i);})),this.filters.clear(),this.filters.pushAll(o);}return n},t.prototype.isInTransition=function(){return this.animations.length>0},Object.defineProperty(t.prototype,"isHover",{get:function(){return !!this.isInteractive()&&this.interactions.isHover},set:function(e){(e=D(e))!==this.isHover&&this.isInteractive()&&(this.interactions.isHover=e,e?this.handleOver():(this.interactions.isRealHover=!1,this.handleOut()));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDragged",{get:function(){return this._isDragged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResized",{get:function(){return this._isResized},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDown",{get:function(){return !!this.isInteractive()&&this.interactions.isDown},set:function(e){e=D(e),this.isInteractive()&&this.isDown!=e&&(this.interactions.isDown=e,e?this.handleDown():this.handleUp());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFocused",{get:function(){return !!this.isInteractive()&&this.interactions.isFocused},set:function(e){e=D(e),this.focusable&&this.isFocused!=e&&this.isInteractive()&&(this.interactions.isFocused=e,!0===e?this.handleFocus():this.handleBlur());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(e){this.setActive(e);},enumerable:!0,configurable:!0}),t.prototype.setActive=function(e){e=D(e),this._isActive!==e&&(this._isActive=e,e&&this.states.hasKey("active")?(this.setState("active"),this.isHover&&this.states.hasKey("hoverActive")&&this.setState("hoverActive")):this.applyCurrentState(),this.dispatchImmediately("toggled"));},Object.defineProperty(t.prototype,"disabled",{get:function(){var e=this.getPropertyValue("disabled");return j(e)?e:this.virtualParent?this.virtualParent.disabled:!!this._parent&&this._parent.disabled},set:function(e){this.setDisabled(e);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(e){if(e=D(e),this.getPropertyValue("disabled")!=e){if(this.setPropertyValue("disabled",e,!0),e)this.parent=this._parent,this.removeFromInvalids(),this.group.attr({display:"none"}),this.dispatch("disabled");else {if(this._parent){var t=this._parent.element;t.hasChild(this.group)||t.add(this.group);}this instanceof Lr?(this.deepInvalidate(),this._background&&this._background.invalidate()):this.invalidate(),this.__disabled||this.removeSVGAttribute("display"),this.dispatch("enabled");}return this.dispatch("transformed"),jr.requestFrame(),!0}return !1},Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._internalDisabled},set:function(e){this._internalDisabled!=e&&(this._internalDisabled=e,this._updateDisabled=!0,this.invalidatePosition(),e||this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numberFormatter",{get:function(){return this._numberFormatter?this._numberFormatter:this.virtualParent?this.virtualParent.numberFormatter:this._parent?this._parent.numberFormatter:(this._numberFormatter=new yr,this._numberFormatter.language=this.language,this.numberFormatter)},set:function(e){this._numberFormatter=e,this._numberFormatter.language=this.language;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.virtualParent?this.virtualParent.dateFormatter:this._parent?this._parent.dateFormatter:(this._dateFormatter=new vr,this._dateFormatter.language=this.language,this.dateFormatter)},set:function(e){this._dateFormatter=e,this._dateFormatter.language=this.language;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"durationFormatter",{get:function(){return this._durationFormatter?this._durationFormatter:this.virtualParent?this.virtualParent.durationFormatter:this._parent?this._parent.durationFormatter:(this._durationFormatter=new br,this._durationFormatter.language=this.language,this.durationFormatter)},set:function(e){this._durationFormatter=e,this._durationFormatter.language=this.language;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){var e=this._language.get();return e||(this.virtualParent?this.virtualParent.language:this._parent?this._parent.language:(e=new mr,this.language=e,e))},set:function(e){var t=this;this._language.get()!==e&&this._language.set(e,e.events.on("localechanged",(function(e){if(t._numberFormatter&&(t._numberFormatter.language=t.language),t._dateFormatter&&(t._dateFormatter.language=t.language),t._durationFormatter&&(t._durationFormatter.language=t.language),t._exporting.get()){var i=t._exporting.get();i.numberFormatter.language=t.language,i.dateFormatter.language=t.language,i.durationFormatter.language=t.language,i.language=t.language;}t instanceof Lr&&t.deepInvalidate();})));},enumerable:!0,configurable:!0}),t.prototype.populateString=function(e,t){if(j(e)){e=F(e);var i=(e=gr().escape(e)).match(/\{([^}]+)\}/g),n=void 0;if(i)for(n=0;n<i.length;n++){var r=i[n].replace(/\{([^}]+)\}/,"$1"),a=this.getTagValue(r,"",t);j(a)||(a=""),e=e.split(i[n]).join(a);}e=gr().unescape(e);}else e="";return this._adapterO?this._adapterO.apply("populateString",e):e},t.prototype.getTagValue=function(e,t,i){var n;j(i)||(i=this.dataItem);for(var r,a=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g;null!==(r=o.exec(e));)if(r[3])a.push({prop:r[3]});else {var s=[];if(""!=ui(r[2]))for(var l=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,u=void 0;null!==(u=l.exec(r[2]));)s.push(u[1]||u[2]||u[3]);a.push({method:r[1],params:s});}if(i){j(n=this.getTagValueFromObject(a,i.values))&&!z(n)||(n=this.getTagValueFromObject(a,i));var d=i.dataContext;!j(n)&&d&&(j(n=this.getTagValueFromObject(a,i.dataContext))||(n=this.getTagValueFromObject([{prop:e}],d)),!j(n)&&d.dataContext&&(n=this.getTagValueFromObject(a,d.dataContext))),!j(n)&&i.component&&i.component.dataItem!==i&&(n=i.component.getTagValue(e,t));}return j(n)||(n=this.getTagValueFromObject(a,this.populateStringFrom||this)),!j(n)&&this._parent&&(n=this._parent.getTagValue(e,t)),n},t.prototype.getTagValueFromObject=function(e,t,i){for(var n=t,r=!1,a=0,o=e.length;a<o;a++){var s=e[a];if(s.prop){if(!j(n=n[s.prop]))return}else switch(s.method){case"formatNumber":var l=yi(n);j(l)&&(n=this.numberFormatter.format(l,i||s.params[0]||void 0),r=!0);break;case"formatDate":var u=void 0;if(!B(u=N(n)?this.dateFormatter.parse(n):gi(n))||O(u.getTime()))return;j(u)&&(n=this.dateFormatter.format(u,i||s.params[0]||void 0),r=!0);break;case"formatDuration":var d=yi(n);j(d)&&(n=this.durationFormatter.format(d,i||s.params[0]||void 0,s.params[1]||void 0),r=!0);break;case"urlEncode":case"encodeURIComponent":n=encodeURIComponent(n);break;default:n[s.method]&&n[s.method].apply(this,s.params);}}if(!r){var c=[{method:"",params:i}];if(j(i)){var h=function(e){if(void 0===e)return "string";var t=(e=(e=(e=e.toLowerCase().replace(/^\[[^\]]*\]/,"")).replace(/\[[^\]]+\]/,"")).trim()).match(/\/(date|number|duration)$/);return t?t[1]:"number"===e?"number":"date"===e?"date":"duration"===e?"duration":e.match(/[#0]/)?"number":e.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}(i);"number"===h?c[0].method="formatNumber":"date"===h?c[0].method="formatDate":"duration"===h&&(c[0].method="formatDuration");}else W(n)?(c[0].method="formatNumber",c[0].params=""):B(n)&&(c[0].method="formatDate",c[0].params="");c[0].method&&(n=this.getTagValueFromObject(c,n));}return n},Object.defineProperty(t.prototype,"dataItem",{get:function(){if(!this._dataItem){if(this.virtualParent)return this.virtualParent.dataItem;if(this._parent)return this._parent.dataItem}return this._dataItem},set:function(e){this.setDataItem(e);},enumerable:!0,configurable:!0}),t.prototype.setDataItem=function(e){var t=this;if(this._dataItem!=e){if(this._dataItem=e,e){if(this.configField){var i=e.dataContext;i&&(this.config=i[this.configField],!this.config&&i.dataContext&&(this.config=i.dataContext[this.configField]));}var n=e.dataContext;if(n){var r=n.dataContext;tt(this.propertyFields,(function(e,i){if(j(n[i]))t[e]=n[i];else if(r){var a=r[i];if(j(a))t[e]=a;}}));}}this.invalidate();}},t.prototype.getPropertyValue=function(e){var t=this.properties[e];return this._isTemplate||(this._adapterO&&(t=this._adapterO.apply(e,t)),t=Vt.applyAll(this,e,t)),t},t.prototype.setColorProperty=function(e,t,i){var n=this.properties[e];return !(t instanceof $t&&n instanceof $t&&t.toString()==n.toString())&&this.setPropertyValue(e,t,i)},t.prototype.setPercentProperty=function(e,t,i,n,r,a){if(W(t=E(t)))return W(r)&&(t=K(t,r,a)),this.setPropertyValue(e,t,i,n);var o=this.properties[e];return !(t instanceof T&&o instanceof T&&t.value==o.value)&&this.setPropertyValue(e,t,i,n)},t.prototype.setPropertyValue=function(e,t,i,n){if(this.properties[e]!==t&&!this.isDisposed()){if(this.properties[e]=t,this.events.isEnabled("propertychanged")){var r={type:"propertychanged",target:this,property:e};this.events.dispatchImmediately("propertychanged",r);}if(i&&this.invalidate(),n&&this.invalidatePosition(),this.applyOnClones)for(var a=this.clones.values,o=a.length,s=0;s<o;++s){var l=a[s];l.isDisposed()||(l[e]=t);}return !0}return !1},t.prototype.bind=function(e,t,i,n){var r=this;void 0===i&&(i=e),j(this._bindings[e])&&this._bindings[e].dispose(),this[e]=t[i],this._bindings[e]=t.events.on("propertychanged",(function(a){if(a.property===i){var o=t[i];n&&(o=n(o)),r[e]=o;}}));},t.prototype.observe=function(e,t,i,n){var r=this;return new Re(Pe(ke(e),(function(e){return r.events.on("propertychanged",(function(n){n.property===e&&t.call(i,n);}),i,n)})))},t.prototype.applyAccessibility=function(){var e=this.readerTitle,t=this.readerDescription,i=this.role,n=this.readerHidden,r=this.readerChecked,a=this.readerControls,o=this.readerLive,s=this.readerOrientation,l=this.readerValueNow,u=this.readerValueText,d=[],c=[],h=this.readerLabelledBy;h&&d.push(h);var p=this.readerDescribedBy;if(p&&c.push(p),e)if(d.length||this.showSystemTooltip){var m=this.titleElement,f=this.uid+"-title";m.node.textContent!=e&&(m.node.textContent=e,m.attr({id:f})),d.push(f);}else this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0),this.setSVGAttribute({"aria-label":e});else this.removeSVGAttribute("aria-label"),this._titleElement&&(this.group.removeElement(this._titleElement),this._titleElement=void 0);if(t){var g=this.descriptionElement,y=this.uid+"-description";g.node.textContent!=t&&(g.node.textContent=t,g.attr({id:y})),c.push(y);}else this._descriptionElement&&(this.group.removeElement(this._descriptionElement),this._descriptionElement=void 0);d.length?this.setSVGAttribute({"aria-labelledby":d.join(" ")}):this.removeSVGAttribute("aria-labelledby"),c.length?this.setSVGAttribute({"aria-describedby":c.join(" ")}):this.removeSVGAttribute("aria-describedby"),i?this.setSVGAttribute({role:i}):this.removeSVGAttribute("role"),n?this.setSVGAttribute({"aria-hidden":"true"}):this.removeSVGAttribute("aria-hidden"),r?this.setSVGAttribute({"aria-checked":"true"}):!1===r?this.setSVGAttribute({"aria-checked":"false"}):this.removeSVGAttribute("aria-checked"),a?this.setSVGAttribute({"aria-controls":a}):this.removeSVGAttribute("aria-controls"),o?this.setSVGAttribute({"aria-live":o}):this.removeSVGAttribute("aria-live"),s?this.setSVGAttribute({"aria-orientation":s}):this.removeSVGAttribute("aria-orientation"),l?this.setSVGAttribute({"aria-valuenow":l}):this.removeSVGAttribute("aria-valuenow"),u?this.setSVGAttribute({"aria-valuetext":u}):this.removeSVGAttribute("aria-valuetext");},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return j(e)&&this.dataItem?this.populateString(e):e},set:function(e){e=L(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescription",{get:function(){var e=this.getPropertyValue("readerDescription");return j(e)&&this.dataItem?this.populateString(e):this.getPropertyValue("readerDescription")},set:function(e){e=L(e),this.setPropertyValue("readerDescription",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"role",{get:function(){return this.getPropertyValue("role")},set:function(e){e=L(e),this.setPropertyValue("role",e)&&(this.applyAccessibility(),"slider"==e&&(this.setSVGAttribute({"aria-valuemin":"0"}),this.setSVGAttribute({"aria-valuemax":"100"})));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerHidden",{get:function(){return this.getPropertyValue("readerHidden")},set:function(e){e=D(e),this.setPropertyValue("readerHidden",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerChecked",{get:function(){return this.getPropertyValue("readerChecked")},set:function(e){e=D(e),this.setPropertyValue("readerChecked",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerControls",{get:function(){return this.getPropertyValue("readerControls")},set:function(e){e=L(e),this.setPropertyValue("readerControls",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLive",{get:function(){return this.getPropertyValue("readerLive")},set:function(e){e=L(e),this.setPropertyValue("readerLive",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerLabelledBy",{get:function(){return this.getPropertyValue("readerLabelledBy")},set:function(e){e=L(e),this.setPropertyValue("readerLabelledBy",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerDescribedBy",{get:function(){return this.getPropertyValue("readerDescribedBy")},set:function(e){e=L(e),this.setPropertyValue("readerDescribedBy",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerOrientation",{get:function(){return this.getPropertyValue("readerOrientation")},set:function(e){e=L(e),this.setPropertyValue("readerOrientation",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueNow",{get:function(){return this.getPropertyValue("readerValueNow")},set:function(e){e=L(e),this.setPropertyValue("readerValueNow",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readerValueText",{get:function(){return this.getPropertyValue("readerValueText")},set:function(e){e=L(e),this.setPropertyValue("readerValueText",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyboardOptions",{get:function(){if(!this.interactions.keyboardOptions){if(this.virtualParent)return this.virtualParent.keyboardOptions;if(this._parent)return this._parent.keyboardOptions}return this.interactions.keyboardOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseOptions",{get:function(){if(!this.interactions.mouseOptions){if(this.virtualParent)return this.virtualParent.mouseOptions;if(this._parent)return this._parent.mouseOptions}return this.interactions.mouseOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"interactions",{get:function(){if(!this._interaction){var e=Kn().getInteraction(this.dom);this._interaction=e,this._interaction.clickable=this.clickable,this._interaction.hoverable=this.hoverable,this._interaction.trackable=this.trackable,this._interaction.draggable=this.draggable,this._interaction.swipeable=this.swipeable,this._interaction.resizable=this.resizable,this._interaction.wheelable=this.wheelable,this._interaction.contextMenuDisabled=this.contextMenuDisabled,this._interaction.inert=this.inert,this._interaction.sprite=this,this._disposers.push(this._interaction);}return this._interaction},enumerable:!0,configurable:!0}),t.prototype.isInteractive=function(){return !!this._interaction},Object.defineProperty(t.prototype,"focusable",{get:function(){return this.getPropertyValue("focusable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("focusable",e)&&(e||this.isInteractive())&&(this.interactions.focusable=e,e?(this.setSVGAttribute({focusable:e}),j(this._tabindex)||(this.tabindex=0)):(this.removeSVGAttribute("focusable"),this.tabindex=void 0),this.interactions.setEventDisposer("sprite-focusable",e,(function(){return new Re([t.events.on("blur",t.handleBlur,t,!1),t.events.on("focus",t.handleFocus,t,!1)])})));},enumerable:!0,configurable:!0}),t.prototype.handleFocus=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!0,this.topParent.focusedElement=this),this.focusFilter&&this.filters.push(this.focusFilter),this.hoverOnFocus&&(this.isHover=!0,this.handleOver()));},t.prototype.handleBlur=function(e){this.focusable&&(this.topParent&&(this.topParent.hasFocused=!1,this.topParent.focusedElement=void 0),this.focusFilter&&this.filters.removeValue(this.focusFilter),this.hoverOnFocus&&(this.isHover=!1,this.handleOut()));},Object.defineProperty(t.prototype,"focusFilter",{get:function(){var e=this._focusFilter;return e||(this.virtualParent?this.virtualParent.focusFilter:this._parent?this._parent.focusFilter:void 0)},set:function(e){this._focusFilter=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOnFocus",{get:function(){return this.getPropertyValue("hoverOnFocus")},set:function(e){e!==this.hoverOnFocus&&this.setPropertyValue("hoverOnFocus",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabindex",{get:function(){var e=this._tabindex;return null!=e?e:this.virtualParent?this.virtualParent.tabindex:this._parent?this._parent.tabindex:void 0},set:function(e){e=M(e),this.setPropertyValue("tabindex",e)&&W(e)&&(this.interactions.tabindex=e,this.setSVGAttribute({tabindex:e}),this._tabindex=e,this.focusable=!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inertiaOptions",{get:function(){return !this.interactions.inertiaOptions&&this._parent?this._parent.inertiaOptions:this.interactions.inertiaOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{get:function(){return this.getPropertyValue("draggable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("draggable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.draggable=e,this.interactions.setEventDisposer("sprite-draggable",e,(function(){return new Re([t.events.on("down",t.handleDown,t,!1),t.events.on("dragstart",t.handleDragStart,t,!1),t.events.on("drag",t.handleDragMove,t,!1),t.events.on("dragstop",t.handleDragStop,t,!1)])})));},enumerable:!0,configurable:!0}),t.prototype.handleDragStart=function(e){this.interactions.isTouchProtected&&e.touch||(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this._isDragged=!0,this.hideTooltip(0));},t.prototype.dragStart=function(e){this._isDragged=!0,Kn().dragStart(this.interactions,e);},t.prototype.handleDragStop=function(e){this.interactions.isTouchProtected&&e.touch||(this._isDragged=!1,this.showTooltip(),this.interactions.originalPosition=void 0);},t.prototype.dragStop=function(e,t){this._isDragged=!1,Kn().dragStop(this.interactions,e,t);},t.prototype.handleDragMove=function(e){if(!this.interactions.isTouchProtected||!e.touch){var t=this.interactions.originalPosition;if(t&&this._isDragged){var i=this._parent.globalScale*this.svgContainer.cssScale;this.moveTo({x:t.x+e.shift.x/i,y:t.y+e.shift.y/i},void 0,void 0,!0);}this.dispatchImmediately("dragged",e);}},Object.defineProperty(t.prototype,"inert",{get:function(){return this.getPropertyValue("inert")},set:function(e){e=D(e),this.setPropertyValue("inert",e)&&(e||this.isInteractive())&&(this.interactions.inert=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverOptions",{get:function(){if(!this.interactions.hoverOptions){if(this.virtualParent)return this.virtualParent.hoverOptions;if(this._parent)return this._parent.hoverOptions}return this.interactions.hoverOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hoverable",{get:function(){return this.getPropertyValue("hoverable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("hoverable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.hoverable=e,this.interactions.setEventDisposer("sprite-hoverable",e,(function(){return new Re([t.events.on("over",t.handleOver,t,!1),t.events.on("out",t.handleOut,t,!1)])})));},enumerable:!0,configurable:!0}),t.prototype.handleOver=function(e){if(this._outTimeout&&this._outTimeout.dispose(),this.isHover){this.states.hasKey("hover")&&(this.isHidden||this.applyCurrentState());var t=void 0;e&&e.pointer&&(t=Oi(e.pointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale)),"hover"==this.showTooltipOn&&this.showTooltip(t);}else "hover"==this.showTooltipOn&&this.hideTooltip(),!this.isHidden&&this.states.hasKey("hover")&&this.applyCurrentState();},t.prototype.handleOut=function(e){var t=this;this.tooltip&&this.tooltip.targetSprite==this&&this.tooltip.keepTargetHover?this._outTimeout=this.setTimeout((function(){t.tooltip.isHover||(t.tooltip.targetSprite==t&&t.hideTooltip(),t._outTimeout=t.setTimeout(t.handleOutReal.bind(t),t.rollOutDelay));}),10):("hover"==this.showTooltipOn&&this.hideTooltip(),this._outTimeout=this.setTimeout(this.handleOutReal.bind(this),this.rollOutDelay));},t.prototype.handleOutReal=function(){this.isHidden||this.isHiding||!this.states.hasKey("hover")||this.applyCurrentState();},Object.defineProperty(t.prototype,"hitOptions",{get:function(){if(!this.interactions.hitOptions){if(this.virtualParent)return this.virtualParent.hitOptions;if(this._parent)return this._parent.hitOptions}return this.interactions.hitOptions},enumerable:!0,configurable:!0}),t.prototype.handleDown=function(e){1===this.interactions.downPointers.length&&(this.interactions.originalPosition={x:this.pixelX,y:this.pixelY},this.interactions.originalAngle=this.rotation,this.interactions.originalScale=this.scale,this.states.hasKey("down")&&this.setState("down"));},t.prototype.handleUp=function(e){var t=this;this._isResized=!1,this.states.hasKey("down")&&this.applyCurrentState(),"hit"==this.showTooltipOn&&(this.updateTooltipPosition(e.pointer?e.pointer.point:void 0),this._disposers.push(St.events.once("exitframe",(function(){t.showTooltip();}))),this._disposers.push(Kn().body.events.once("down",(function(e){t.hideTooltip();}))));},Object.defineProperty(t.prototype,"clickable",{get:function(){return this.getPropertyValue("clickable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("clickable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.clickable=e,this.interactions.setEventDisposer("sprite-clickable",e,(function(){return new Re([t.events.on("down",t.handleDown,t,!1),t.events.on("up",t.handleUp,t,!1)])})));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.getPropertyValue("togglable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("togglable",e)&&(e||this.isInteractive())&&this.interactions.setEventDisposer("sprite-togglable",e,(function(){return t.events.on("hit",t.handleToggle,t,!1)}));},enumerable:!0,configurable:!0}),t.prototype.handleToggle=function(e){this.isActive=!this.isActive;},Object.defineProperty(t.prototype,"contextMenuDisabled",{get:function(){return this.getPropertyValue("contextMenuDisabled")},set:function(e){e=D(e),this.setPropertyValue("contextMenuDisabled",e)&&(this.interactions.contextMenuDisabled=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.getPropertyValue("url")},set:function(e){this.setPropertyValue("url",e)&&(this._urlDisposer&&this._urlDisposer.dispose(),ti(e)&&(this._urlDisposer=this.events.on("hit",this.urlHandler,this,!1),this.clickable=!0,this.cursorOverStyle=hr.pointer));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseId",{get:function(){return !this._baseId&&this._parent&&(this.baseId=this._parent.baseId),this._baseId},set:function(e){this.setBaseId(e);},enumerable:!0,configurable:!0}),t.prototype.setBaseId=function(e){e!=this._baseId&&(this.invalid&&(this.invalid=!1,St.removeFromInvalidSprites(this),this.invalidate()),this._baseId=e);},Object.defineProperty(t.prototype,"baseSprite",{get:function(){return this.isBaseSprite?this:this._parent?this._parent.baseSprite:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlTarget",{get:function(){return this.getPropertyValue("urlTarget")},set:function(e){this.setPropertyValue("urlTarget",e);},enumerable:!0,configurable:!0}),t.prototype.urlHandler=function(e){if(ti(this.url)){var t=this.populateString(this.url);"_self"===this.urlTarget?window.location.href=t:window.open(t,this.urlTarget);}},Object.defineProperty(t.prototype,"swipeOptions",{get:function(){if(!this.interactions.swipeOptions){if(this.virtualParent)return this.virtualParent.swipeOptions;if(this._parent)return this._parent.swipeOptions}return this.interactions.swipeOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeable",{get:function(){return this.getPropertyValue("swipeable")},set:function(e){e=D(e),this.setPropertyValue("swipeable",e)&&(this.applyCursorStyle(),(e||this.isInteractive())&&(this.interactions.swipeable=e));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackable",{get:function(){return this.getPropertyValue("trackable")},set:function(e){e=D(e),this.setPropertyValue("trackable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.trackable=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wheelable",{get:function(){return this.getPropertyValue("wheelable")},set:function(e){this.setPropertyValue("wheelable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.wheelable=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.getPropertyValue("resizable")},set:function(e){var t=this;e=D(e),this.setPropertyValue("resizable",e)&&(e||this.isInteractive())&&(this.applyCursorStyle(),this.interactions.resizable=e,this.interactions.setEventDisposer("sprite-resizable",e,(function(){return new Re([t.events.on("down",t.handleDown,t,!1),t.events.on("resize",t.handleResize,t,!1)])})));},enumerable:!0,configurable:!0}),t.prototype.handleResize=function(e){if((!this.interactions.isTouchProtected||!e.touch)&&(this._isResized=!0,this.scale=this.interactions.originalScale*e.scale,this.validatePosition(),this.draggable||this.dragWhileResize)){this._isDragged=!1;var t=le(Oi(e.point1,this.htmlContainer,this.svgContainer.cssScale),Oi(e.point2,this.htmlContainer,this.svgContainer.cssScale)),i=Fi(e.startPoint1,this._parent),n=Fi(e.startPoint2,this._parent),r=this.interactions.originalPosition,a=this.interactions.originalScale;if(r){var o=le({x:(i.x-r.x)/a,y:(i.y-r.y)/a},{x:(n.x-r.x)/a,y:(n.y-r.y)/a}),s=wi(t,this._parent);this.moveTo({x:s.x-o.x*this.scale,y:s.y-o.y*this.scale},void 0,void 0,!0);}}},Object.defineProperty(t.prototype,"cursorOptions",{get:function(){if(!this.interactions.cursorOptions){if(this.virtualParent)return this.virtualParent.cursorOptions;if(this._parent)return this._parent.cursorOptions}return this.interactions.cursorOptions},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorOverStyle",{set:function(e){this.cursorOptions.overStyle||(this.interactions.cursorOptions={defaultStyle:this.cursorOptions.defaultStyle}),this.cursorOptions.overStyle=e,Kn().applyCursorOverStyle(this.interactions);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorDownStyle",{set:function(e){this.cursorOptions.downStyle=e;},enumerable:!0,configurable:!0}),t.prototype.applyCursorStyle=function(){},Object.defineProperty(t.prototype,"interactionsEnabled",{get:function(){return !1!==this.getPropertyValue("interactionsEnabled")&&(this.virtualParent?this.virtualParent.interactionsEnabled:!this._parent||this._parent.interactionsEnabled)},set:function(e){if(e=D(e),this.setPropertyValue("interactionsEnabled",e)){var t=null;e?this.group.node.style.pointerEvents="":t="none",this.group.node.style.pointerEvents=t;}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exporting",{get:function(){return this.getExporting()},set:function(e){this._exporting.set(e,e);},enumerable:!0,configurable:!0}),t.prototype.getExporting=function(){var e=this._exporting.get();return e||(!this.isStandaloneInstance&&this._parent?this._parent.exporting:((e=new kr(this.svgContainer.SVGContainer)).sprite=this,e.language=this.language,e.numberFormatter=this.numberFormatter,e.dateFormatter=this.dateFormatter,e.durationFormatter=this.durationFormatter,this._exporting.set(e,e),e))},Object.defineProperty(t.prototype,"exportable",{get:function(){return this._exportable},set:function(e){var t=this.svgContainer;this._exportable=e,t&&(e?Te(t.nonExportableSprites,this):-1==Se(t.nonExportableSprites,this)&&t.nonExportableSprites.push(this));},enumerable:!0,configurable:!0}),t.prototype.modalPrefix=function(e){return e=nn.classNamePrefix+e},Object.defineProperty(t.prototype,"modal",{get:function(){var e=this.svgContainer;if(e){var t=e.modal;return t.adapter.has("classPrefix",this.modalPrefix)||t.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),t.prototype.openModal=function(e,t){var i=this.svgContainer;if(i)return i.openModal(e,t)},t.prototype.closeModal=function(){var e=this.svgContainer;e&&e.closeModal();},Object.defineProperty(t.prototype,"popups",{get:function(){var e=this.svgContainer;if(e){var t=e.popups;return t.template.sprite=this,t.template.adapter.has("classPrefix",this.modalPrefix)||t.template.adapter.add("classPrefix",this.modalPrefix),t}},enumerable:!0,configurable:!0}),t.prototype.openPopup=function(e,t){var i=this.svgContainer;if(i)return i.openPopup(e,t)},t.prototype.closeAllPopups=function(){var e=this.svgContainer;e&&e.closeAllPopups();},Object.defineProperty(t.prototype,"x",{get:function(){return this.getPropertyValue("x")},set:function(e){this.isDragged||this.setPercentProperty("x",e,!1,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelX",{get:function(){var e=J(this.getPixelX(this.x),this.minX,this.maxX);return this._adapterO?this._adapterO.apply("pixelX",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeX",{get:function(){return this._adapterO?this._adapterO.apply("relativeX",this.getRelativeX(this.x)):this.getRelativeX(this.x)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minX",{get:function(){return this.getPropertyValue("minX")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("minX",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxX",{get:function(){return this.getPropertyValue("maxX")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("maxX",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.getPropertyValue("y")},set:function(e){this.isDragged||this.setPercentProperty("y",e,!1,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelY",{get:function(){var e=J(this.getPixelY(this.y),this.minY,this.maxY);return this._adapterO?this._adapterO.apply("pixelY",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeY",{get:function(){return this._adapterO?this._adapterO.apply("relativeY",this.getRelativeX(this.y)):this.getRelativeX(this.y)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minY",{get:function(){return this.getPropertyValue("minY")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("minY",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxY",{get:function(){return this.getPropertyValue("maxY")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("maxY",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.getPropertyValue("dx")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("dx",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.getPropertyValue("dy")},set:function(e){W(e)&&(e=K(e,this._positionPrecision,!0),this.setPropertyValue("dy",e,!1,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getPropertyValue("rotation")},set:function(e){W(e=M(e))||(e=0),this.setPropertyValue("rotation",e,!1,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this.getPropertyValue("align")},set:function(e){e=L(e),this.setPropertyValue("align",e)&&this._parent&&this._parent.invalidateLayout();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valign",{get:function(){return this.getPropertyValue("valign")},set:function(e){e=L(e),this.setPropertyValue("valign",e)&&this._parent&&this._parent.invalidateLayout();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this.getPropertyValue("horizontalCenter")},set:function(e){e=L(e),this.setPropertyValue("horizontalCenter",e)&&this.updateCenter();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this.getPropertyValue("verticalCenter")},set:function(e){e=L(e),this.setPropertyValue("verticalCenter",e)&&this.updateCenter();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){var e=this.getPropertyValue("maxWidth");if(!W(e)&&this._parent){var t=this._parent.maxWidth;return "absolute"!=this._parent.layout&&"none"!=this.align&&null!=this.align&&(t=t-this.pixelMarginLeft-this.pixelMarginRight),t}return e},set:function(e){this.setMaxWidth(e);},enumerable:!0,configurable:!0}),t.prototype.setMaxWidth=function(e){var t=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxWidth",e)){W(this.relativeWidth)&&this.invalidate();var n={type:"maxsizechanged",target:this,previousWidth:t,previousHeight:i};this.dispatchImmediately("maxsizechanged",n);}},Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.getPropertyValue("maxHeight");if(!W(e)&&this._parent){var t=this._parent.maxHeight;return "absolute"!=this._parent.layout&&"none"!=this.valign&&null!=this.valign&&(t=t-this.pixelMarginTop-this.pixelMarginBottom),t}return e},set:function(e){this.setMaxHeight(e);},enumerable:!0,configurable:!0}),t.prototype.setMaxHeight=function(e){var t=this.maxWidth,i=this.maxHeight;if(this.setPropertyValue("maxHeight",e)){W(this.relativeHeight)&&this.invalidate();var n={type:"maxsizechanged",target:this,previousWidth:t,previousHeight:i};this.dispatchImmediately("maxsizechanged",n);}},Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(e){this.setPercentProperty("width",e,!0,!1,this._positionPrecision,!0)&&(this.percentWidth=void 0,this.relativeWidth=void 0,e instanceof T?(this.percentWidth=e.percent,W(this._pixelWidth)&&(this.maxWidth=void 0),this._pixelWidth=void 0):(this._pixelWidth=Number(e),this.maxWidth=this._pixelWidth),this.invalidatePosition());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(e){this.setPercentProperty("height",e,!0,!1,this._positionPrecision,!0)&&(this.percentHeight=void 0,this._relativeHeight=void 0,e instanceof T?(this.percentHeight=e.percent,W(this._pixelHeight)&&(this.maxHeight=void 0),this._pixelHeight=void 0):(this._pixelHeight=Number(e),this.maxHeight=this._pixelHeight),this.invalidatePosition());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelWidth",{get:function(){var e;e=W(this.percentWidth)?this.maxWidth:W(this._pixelWidth)?this._pixelWidth:0;var t=this.minWidth;null!=t&&e<t&&(e=t);var i=K(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelWidth",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelHeight",{get:function(){var e;e=W(this.percentHeight)?this.maxHeight:W(this._pixelHeight)?this._pixelHeight:0;var t=this.minHeight;null!=t&&e<t&&(e=t);var i=K(e,this._positionPrecision,!0);return this._adapterO?this._adapterO.apply("pixelHeight",i):i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeWidth",{get:function(){var e=this._relativeWidth;if(W(e))return this._adapterO?this._adapterO.apply("relativeWidth",e):e},set:function(e){this._relativeWidth!=e&&(this._relativeWidth=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeHeight",{get:function(){var e=this._relativeHeight;if(W(e))return this._adapterO?this._adapterO.apply("relativeHeight",e):e},set:function(e){this._relativeHeight!=e&&(this._relativeHeight=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredWidth",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredWidth",this._measuredWidth):this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"measuredHeight",{get:function(){return this.disabled||this.__disabled?0:this._adapterO?this._adapterO.apply("measuredHeight",this._measuredHeight):this._measuredHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){var e=this.pixelWidth+this.pixelMarginRight+this.pixelMarginLeft;return this._adapterO?this._adapterO.apply("outerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){var e=this.pixelHeight+this.pixelMarginTop+this.pixelMarginBottom;return this._adapterO?this._adapterO.apply("outerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerWidth",{get:function(){var e=Math.max(0,this.pixelWidth-this.pixelPaddingRight-this.pixelPaddingLeft);return this._adapterO?this._adapterO.apply("innerWidth",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerHeight",{get:function(){var e=Math.max(0,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom);return this._adapterO?this._adapterO.apply("innerHeight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalScale",{get:function(){var e=this.scale;return this._parent&&(e*=this._parent.globalScale),this._adapterO?this._adapterO.apply("globalScale",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.getPropertyValue("scale")},set:function(e){(e=M(e))<0&&(e=0),e!=this.getPropertyValue("scale")&&(this.setPropertyValue("scale",e,!1,!0),this.handleGlobalScale());},enumerable:!0,configurable:!0}),t.prototype.margin=function(e,t,i,n){return this.marginTop=e,this.marginRight=t,this.marginBottom=i,this.marginLeft=n,this},Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this.getPropertyValue("marginLeft")},set:function(e){this.setPercentProperty("marginLeft",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this.getPropertyValue("marginRight")},set:function(e){this.setPercentProperty("marginRight",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this.getPropertyValue("marginTop")},set:function(e){this.setPercentProperty("marginTop",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this.getPropertyValue("marginBottom")},set:function(e){this.setPercentProperty("marginBottom",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginRight",{get:function(){var e=this.getPixelX(this.marginRight);return this._adapterO?this._adapterO.apply("pixelMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginRight",{get:function(){var e=this.getRelativeX(this.marginRight);return this._adapterO?this._adapterO.apply("relativeMarginRight",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginLeft",{get:function(){var e=this.getPixelX(this.marginLeft);return this._adapterO?this._adapterO.apply("pixelMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginLeft",{get:function(){var e=this.getRelativeX(this.marginLeft);return this._adapterO?this._adapterO.apply("relativeMarginLeft",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginTop",{get:function(){var e=this.getPixelY(this.marginTop);return this._adapterO?this._adapterO.apply("pixelMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginTop",{get:function(){var e=this.getRelativeY(this.marginTop);return this._adapterO?this._adapterO.apply("relativeMarginTop",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelMarginBottom",{get:function(){var e=this.getPixelY(this.marginBottom);return this._adapterO?this._adapterO.apply("pixelMarginBottom",e):e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativeMarginBottom",{get:function(){var e=this.getRelativeY(this.marginBottom);return this._adapterO?this._adapterO.apply("relativeMarginBottom",e):e},enumerable:!0,configurable:!0}),t.prototype.padding=function(e,t,i,n){return this.paddingTop=e,this.paddingRight=t,this.paddingBottom=i,this.paddingLeft=n,this},Object.defineProperty(t.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft")},set:function(e){this.setPercentProperty("paddingLeft",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight")},set:function(e){this.setPercentProperty("paddingRight",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingTop",{get:function(){return this.getPropertyValue("paddingTop")},set:function(e){this.setPercentProperty("paddingTop",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingBottom",{get:function(){return this.getPropertyValue("paddingBottom")},set:function(e){this.setPercentProperty("paddingBottom",e,!0,!0,this._positionPrecision,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingRight",{get:function(){return this.getPixelX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingRight",{get:function(){return this.getRelativeX(this.paddingRight)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingLeft",{get:function(){return this.getPixelX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingLeft",{get:function(){return this.getRelativeX(this.paddingLeft)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingTop",{get:function(){return this.getPixelY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingTop",{get:function(){return this.getRelativeY(this.paddingTop)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPaddingBottom",{get:function(){return this.getPixelY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"relativePaddingBottom",{get:function(){return this.getRelativeY(this.paddingBottom)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPath(e);},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return !!this.setPropertyValue("path",e)&&(this._adapterO&&(e=this._adapterO.apply("path",e)),this._isPath||(this.element&&(!this.element.node||this.element.node instanceof SVGPathElement)||(this.element=this.paper.add("path")),this._isPath=!0),j(e)?this.element.attr({d:e}):this.element.removeAttr("d"),this.invalidatePosition(),this.inited||this.events.once("inited",this.validatePosition,this,!1),!0)},Object.defineProperty(t.prototype,"fillModifier",{get:function(){return this.getPropertyValue("fillModifier")},set:function(e){this.setPropertyValue("fillModifier",e)&&this.setFill(this.fill);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeModifier",{get:function(){return this.getPropertyValue("strokeModifier")},set:function(e){this.setPropertyValue("strokeModifier",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this.getPropertyValue("fillOpacity")},set:function(e){e=Y(e,0,1),this.setPropertyValue("fillOpacity",e)&&this.setSVGAttribute({"fill-opacity":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.getPropertyValue("fill")},set:function(e){this.setFill(e);},enumerable:!0,configurable:!0}),t.prototype.setFill=function(e){if(z(e)&&!("r"in e)||(e=Kt(e)),this.setColorProperty("fill",e)||this.fillModifier)if(e instanceof $t&&this.fillModifier&&(e=this.fillModifier.modify(e)),this.realFill=e,e instanceof $t)this.setSVGAttribute({fill:e.toString()});else if(j(e)){if(e instanceof lr||e instanceof ur||e instanceof dr){var t=e;t.paper=this.paper,this.setSVGAttribute({fill:'url("'+ei()+t.id+'")'});}}else this.removeSVGAttribute("fill");},Object.defineProperty(t.prototype,"opacity",{get:function(){return this.getPropertyValue("opacity")},set:function(e){e=Y(e,0,1),this.setPropertyValue("opacity",e)&&this.setSVGAttribute({opacity:e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.getPropertyValue("stroke")},set:function(e){this.setStroke(e);},enumerable:!0,configurable:!0}),t.prototype.setStroke=function(e){if(z(e)&&!("r"in e)||(e=Kt(e)),this.setColorProperty("stroke",e)||this.strokeModifier)if(e instanceof $t&&this.strokeModifier&&(e=this.strokeModifier.modify(e)),this.realStroke=e,e instanceof $t)"none"==e.hex?this.removeSVGAttribute("stroke"):this.setSVGAttribute({stroke:e.toString()});else if(j(e)){if(e instanceof lr||e instanceof ur||e instanceof dr){var t=e;t.paper=this.paper,this.setSVGAttribute({stroke:'url("'+ei()+t.id+'")'});}}else this.removeSVGAttribute("stroke");},Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this.getPropertyValue("strokeOpacity")},set:function(e){e=Y(e,0,1),this.setPropertyValue("strokeOpacity",e)&&this.setSVGAttribute({"stroke-opacity":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScalingStroke",{get:function(){return this.getPropertyValue("nonScalingStroke")},set:function(e){e=D(e),this.setPropertyValue("nonScalingStroke",e)&&(this.strokeWidth=this.strokeWidth);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this.getPropertyValue("nonScaling")},set:function(e){e=D(e),this.setPropertyValue("nonScaling",e,!1,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.getPropertyValue("strokeWidth")},set:function(e){e=M(e),this.setPropertyValue("strokeWidth",e,!0),this.nonScalingStroke&&(W(e)||(e=1),e/=this.globalScale),this.setSVGAttribute({"stroke-width":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDasharray",{get:function(){return this.getPropertyValue("strokeDasharray")},set:function(e){e=L(e),this.setPropertyValue("strokeDasharray",e)&&this.setSVGAttribute({"stroke-dasharray":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeDashoffset",{get:function(){return this.getPropertyValue("strokeDashoffset")},set:function(e){e=M(e),this.setPropertyValue("strokeDashoffset",e)&&this.setSVGAttribute({"stroke-dashoffset":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinecap",{get:function(){return this.getPropertyValue("strokeLinecap")},set:function(e){this.setPropertyValue("strokeLinecap",e)&&this.setSVGAttribute({"stroke-linecap":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeLinejoin",{get:function(){return this.getPropertyValue("strokeLinejoin")},set:function(e){this.setPropertyValue("strokeLinejoin",e)&&this.setSVGAttribute({"stroke-linejoin":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shapeRendering",{get:function(){return this.getPropertyValue("shapeRendering")},set:function(e){e=L(e),this.setPropertyValue("shapeRendering",e)&&this.setSVGAttribute({"shape-rendering":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelPerfect",{get:function(){return this.getPropertyValue("pixelPerfect")},set:function(e){e=D(e),this._positionPrecision=e?nn.pixelPerfectPrecision:3,this.setPropertyValue("pixelPerfect",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rtl",{get:function(){return j(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=D(e),this.isBaseSprite&&(this.topParent.rtl=e),this._rtl=e;},enumerable:!0,configurable:!0}),t.prototype.show=function(e){return this.showReal(e)},t.prototype.showReal=function(e){var t=this;if(!this.preventShow){var i,n=this.defaultState.properties;if(!this.disabled&&(this.isHidden||!this.visible||this.isHiding||null!=n.opacity&&this.opacity<n.opacity&&!this.isShowing)&&!this.isDisposed()){this.invalid&&this.validate(),this.positionInvalid&&this.validatePosition(),W(e)||(e=this.defaultState.transitionDuration),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this._showHideDisposer&&this.removeDispose(this._showHideDisposer),this._isHidden=!1,this.isHiding=!1,this.isShowing=!0,(i=this.applyCurrentState(e))&&!i.isFinished()?(this._showHideDisposer=i.events.on("animationended",(function(){t.isShowing=!1;})),this._disposers.push(this._showHideDisposer)):this.isShowing=!1;var r=this.defaultState.properties.visible;j(r)||(r=!0),this.visible=r,this.readerHidden=!1,this.dispatchImmediately("shown");}return i}},t.prototype.hide=function(e){return this.hideReal(e)},t.prototype.hideReal=function(e){var t,i=this;if(!this.isHiding&&this.visible&&!this.isDisposed()){this.tooltip&&this.tooltip.currentSprite==this&&this.hideTooltip(0),this._hideAnimation&&(this._hideAnimation.kill(),this._hideAnimation=void 0),this.isShowing=!1,this._showHideDisposer&&this.removeDispose(this._showHideDisposer);var n=this.hiddenState;n?(t=this.setState(n,e,void 0))&&!t.isFinished()?(this._hideAnimation=t,this._showHideDisposer=t.events.on("animationended",(function(){i.isHiding=!1,i._isHidden=!0,0==n.properties.visible&&(i.visible=!1);}),this),this._disposers.push(this._showHideDisposer),this._disposers.push(t)):(this.isHiding=!1,this._isHidden=!0):(this.visible=!1,this.isHiding=!1,this._isHidden=!0),this.readerHidden=!0,this.dispatchImmediately("hidden"),this.invalidate();}return W(e)||(e=this.hiddenState.transitionDuration),t},Object.defineProperty(t.prototype,"visible",{get:function(){return this.getVisibility()},set:function(e){e=D(e),this.setVisibility(e);},enumerable:!0,configurable:!0}),t.prototype.getVisibility=function(){var e=this.getPropertyValue("visible");return j(e)||(e=!0),e},t.prototype.setVisibility=function(e){if(this.setPropertyValue("visible",e)&&(e?this.group.removeAttr("visibility"):this.group.attr({visibility:"hidden"}),this.events.isEnabled("visibilitychanged"))){var t={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",t);}},Object.defineProperty(t.prototype,"zIndex",{get:function(){return this.getPropertyValue("zIndex")},set:function(e){e=M(e),this.setPropertyValue("zIndex",e)&&this.dispatch("zIndexChanged");},enumerable:!0,configurable:!0}),t.prototype.toFront=function(){var e=this._parent;e&&e.children.indexOf(this)!=e.children.length-1&&(e.children.moveValue(this,e.children.length-1),this.dispatch("zIndexChanged"));},t.prototype.toBack=function(){var e=this._parent;e&&0!=e.children.indexOf(this)&&(e.children.moveValue(this,0),this.dispatch("zIndexChanged"));},Object.defineProperty(t.prototype,"userClassName",{get:function(){return this.getPropertyValue("userClassName")},set:function(e){this.setPropertyValue("userClassName",e)&&(!e&&this.userClassName&&this.group.removeClass(this.userClassName),this.setClassName());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){return this._tooltip?this._tooltip:this.virtualParent?this.virtualParent.tooltip:this._parent?this._parent.tooltip:void 0},set:function(e){this._tooltip&&this.removeDispose(this._tooltip),this._tooltip=e,e&&(e.parent=this.tooltipContainer);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDataItem",{get:function(){var e=this._tooltipDataItem;return e||this.dataItem},set:function(e){this._tooltipDataItem=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipColorSource",{get:function(){return this._tooltipColorSource},set:function(e){this._tooltipColorSource=e;},enumerable:!0,configurable:!0}),t.prototype.showTooltip=function(e){"always"==this.showTooltipOn&&!this._tooltip&&this.tooltip&&(this._tooltip=this.tooltip.clone()),!e&&"pointer"==this.tooltipPosition&&this.isHover&&(e=Oi(Kn().lastPointer.point,this.svgContainer.SVGContainer,this.svgContainer.cssScale));for(var t=this;null!=t;){if(!t.visible||t.disabled||t.__disabled)return void(this._tooltip&&this._tooltip.visible&&this._tooltip.hide(0));t=t.parent;}if(j(this.tooltipText)||j(this.tooltipHTML)){var i=this.tooltip,n=this.tooltipDataItem;if(i){i.targetSprite=this;var r=this,a=this.tooltipColorSource;if((i.getStrokeFromObject||i.getFillFromObject)&&a&&(a.isTemplate?n&&Ie(n.sprites,(function(e){return e.clonedFrom!=a||(r=e,!1)})):r=a),i.getStrokeFromObject){for(var o=this.stroke,s=r;null!=s.parent&&(null==(o=s.stroke)&&(s=s.parent),null==o););o instanceof $t?i.background.animate({property:"stroke",to:o},i.animationDuration):i.background.stroke=o;}if(i.dataItem=n,i.label.populateStringFrom=this,i.getFillFromObject){var l=this.fill;for(s=r;null!=s.parent;)if(null==(l=s.fill)||l instanceof $t&&null==l.rgb)s=s.parent;else if(null!=l)break;null==l&&(l=Yt("#000000")),l instanceof $t&&i.visible?i.background.animate({property:"fill",to:l},i.animationDuration):i.background.fill=l,i.autoTextColor&&l instanceof $t&&(i.label.fill=l.alternative);}var u="";if(this.tooltipHTML&&(i.html=this.tooltipHTML,u=this.tooltipHTML),this.tooltipText&&(i.text=this.tooltipText,u=this.tooltipText),this.updateTooltipPosition(e)){if(i.readerDescribedBy=this.uidAttr(),i.label.invalid&&i.label.validate(),null!=u&&""!=u&&""!=i.label.currentText){i&&!i.parent&&(i.parent=this.tooltipContainer);var d=i.defaultState.transitionDuration;return d<=0&&(d=1),i.show(d),i.currentSprite=this,!0}this.hideTooltip(0);}else this.hideTooltip(0);}}return !1},t.prototype.updateTooltipPosition=function(e){var t=this;if("pointer"!=this.tooltipPosition){var i=Ii({x:this.getTooltipX(),y:this.getTooltipY()},this);return this.pointTooltipTo(i)}if(this._interactionDisposer&&this._interactionDisposer.dispose(),this._interactionDisposer=Kn().body.events.on("track",(function(e){return t.pointTooltipTo(Oi(e.point,t.svgContainer.SVGContainer,t.svgContainer.cssScale),!0)})),e)return this.pointTooltipTo(e,!0)},t.prototype.pointTooltipTo=function(e,t){var i=this.tooltip;if(i&&this.topParent){if(i.showInViewport)return i.pointTo(e,t),!0;if(Ce(e,{x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight}))return i.pointTo(e,t),!0}return !1},t.prototype.hideTooltip=function(e){if("always"!=this.showTooltipOn){var t=this.tooltip;t&&(t.targetSprite==this&&(t.targetSprite=void 0),t.hide(e),this._interactionDisposer&&(this._interactionDisposer.dispose(),this._interactionDisposer=void 0));}},Object.defineProperty(t.prototype,"tooltipHTML",{get:function(){return this.getPropertyValue("tooltipHTML")},set:function(e){e=L(e),this.hoverable=!0,this.setPropertyValue("tooltipHTML",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipText",{get:function(){return this.getPropertyValue("tooltipText")},set:function(e){(e=L(e))&&(this.hoverable=!0),this.setPropertyValue("tooltipText",e)&&this.tooltip&&this.tooltip.visible&&this.showTooltip();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipContainer",{get:function(){return this._tooltipContainer?this._tooltipContainer:this._parent?this._parent.tooltipContainer:void 0},set:function(e){this._tooltipContainer=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipX",{get:function(){return this.getTooltipX()},set:function(e){this.setPercentProperty("tooltipX",e)&&this.tooltip&&this.tooltip.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowTooltip",{get:function(){return "always"==this.getPropertyValue("showTooltipOn")},set:function(e){(e=D(e))&&(this.showTooltipOn="always");},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTooltipOn",{get:function(){return this.getPropertyValue("showTooltipOn")},set:function(e){this.setPropertyValue("showTooltipOn",e)&&("hit"==e&&(this.clickable=!0),this.tooltip&&("always"==e?this.showTooltip():this.handleAlwaysShowTooltip()));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipPosition",{get:function(){return this.getPropertyValue("tooltipPosition")},set:function(e){this.setPropertyValue("tooltipPosition",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipY",{get:function(){return this.getTooltipY()},set:function(e){this.setPercentProperty("tooltipY",e)&&this.tooltip&&this.tooltip.invalidate();},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e,t=this.getPropertyValue("tooltipX");return j(t)||(t=A(50)),W(t)&&(e=t),t instanceof T&&(e=this.maxLeftSelf+this._measuredWidthSelf*t.value-this.pixelPaddingLeft-this.ex),W(e)||(e=0),e},t.prototype.getTooltipY=function(){var e,t=this.getPropertyValue("tooltipY");return j(t)||(t=A(50)),W(t)&&(e=t),t instanceof T&&(e=this.maxTopSelf+this._measuredHeightSelf*t.value-this.pixelPaddingTop-this.ey),W(e)||(e=0),e},t.prototype.raiseCriticalError=function(e,t){this.svgContainer&&(this._adapterO?this.modal.content=this._adapterO.apply("criticalError",e).message:this.modal.content=e.message,t?this.modal.closable=!0:this.disabled=!0,this.modal.open()),console.log(e);},t.prototype.processConfig=function(t){t&&(j(t.tooltipColorSource)&&N(t.tooltipColorSource)&&this.map.hasKey(t.tooltipColorSource)&&(t.tooltipColorSource=this.map.getKey(t.tooltipColorSource)),j(t.cursorOverStyle)&&N(t.cursorOverStyle)&&(t.cursorOverStyle=this.getCursorStyle(t.cursorOverStyle)),j(t.cursorDowntyle)&&N(t.cursorDowntyle)&&(t.cursorDowntyle=this.getCursorStyle(t.cursorDowntyle)),j(t.cursorOptions)&&(j(t.cursorOptions.overStyle)&&N(t.cursorOptions.overStyle)&&(t.cursorOptions.overStyle=this.getCursorStyle(t.cursorOptions.overStyle)),j(t.cursorOptions.downStyle)&&N(t.cursorOptions.downStyle)&&(t.cursorOptions.downStyle=this.getCursorStyle(t.cursorOptions.downStyle)))),e.prototype.processConfig.call(this,t),this.processDelayedMap();},t.prototype.getCursorStyle=function(e){switch(e){case"grab":return hr.grab;case"grabbing":return hr.grabbing;case"pointer":return hr.pointer;case"horizontalResize":return hr.horizontalResize;case"verticalResize":return hr.verticalResize;default:return hr.default}},t.prototype.configOrder=function(t,i){return t==i?0:"tooltipColorSource"==t?1:"tooltipColorSource"==i?-1:e.prototype.configOrder.call(this,t,i)},Object.defineProperty(t.prototype,"isHidden",{get:function(){return this._isHidden?this._isHidden:!!this._parent&&this._parent.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showOnInit",{get:function(){return this.getPropertyValue("showOnInit")},set:function(e){e=D(e),this.setShowOnInit(e);},enumerable:!0,configurable:!0}),t.prototype.setShowOnInit=function(e){this.setPropertyValue("showOnInit",e)&&(this.isTemplate||(!e||this.inited||this.hidden?this._showOnInitDisposer&&this._showOnInitDisposer.dispose():(this._showOnInitDisposer=new Re([St.events.once("enterframe",this.hideInitially,this),this.events.once("beforevalidated",this.hideInitially,this,!1),this.events.on("inited",this.appear,this,!1)]),this._disposers.push(this._showOnInitDisposer))));},t.prototype.hideInitially=function(){this.isDisposed()||(this.appeared=!1,this.inited||this.hide(0));},t.prototype.appear=function(){var e=this;if(this.appeared=!1,this.hidden||this.isHidden||this.hide(0),this.hidden)this.appeared=!0,this.dispatch("appeared");else {var t=this.show();t&&!t.isFinished()?this.addDisposer(t.events.on("animationended",(function(){e.appeared=!0,e.dispatch("appeared");}))):(this.appeared=!0,this.dispatch("appeared"));}},Object.defineProperty(t.prototype,"hidden",{get:function(){return this.getPropertyValue("hidden")},set:function(e){e=D(e),this.setPropertyValue("hidden",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this._bbox},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"plugins",{get:function(){var e=this;return this._plugins||(this._plugins=new Tt,this._disposers.push(this._plugins.events.on("inserted",(function(t){t.newValue.target=e,t.newValue.init();}))),this._disposers.push(new wt(this._plugins))),this._plugins},enumerable:!0,configurable:!0}),t.prototype._systemUpdate=function(e){this.validate();},t.prototype._systemCheckIfValidate=function(){return !0},t.prototype._systemValidatePositions=function(){this.validatePosition();},t.prototype._systemValidateLayouts=function(){},t}(Jt);St.registeredClasses.Sprite=Dr;var Mr=function(e){function t(){var t=e.call(this)||this;return t.className="Rectangle",t.element=t.paper.add("rect"),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this._positionPrecision;this.pixelPerfect&&(t=0);var i=K(this.innerWidth,t),n=K(this.innerHeight,t);this.element.attr({width:i,height:n});},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Rectangle=Mr;var Lr=function(e){function t(){var t=e.call(this)||this;return t._childrenByLayout=[],t._childrenDisposers=new vt,t.hasFocused=!1,t.setStateOnSprites=[],t.layoutInvalid=!1,t._absoluteWidth=0,t._absoluteHeight=0,t._shouldBeReady=[],t._tapToActivate=!1,t.tapTimeout=3e3,t.className="Container",t._element=t.paper.addGroup("g"),t.group.add(t.element),t.setPropertyValue("pixelPerfect",!1),t.setPropertyValue("layout","absolute"),t.setPropertyValue("fixedWidthGrid",!1),t.setPropertyValue("verticalCenter","none"),t.setPropertyValue("horizontalCenter","none"),t._positionPrecision=4,t._disposers.push(new yt(t._childrenDisposers)),t.children.events.on("inserted",t.handleChildAdded,t),t.children.events.on("removed",t.handleChildRemoved,t),t.applyTheme(),t}return x(t,e),t.prototype.handleChildAdded=function(e){this.processChild(e.newValue);},t.prototype.processChild=function(e){try{this._childrenDisposers.insertKey(e.uid,new Re([e.events.on("transformed",this.handleChildTransform,this),e.events.on("zIndexChanged",this.sortAndAdd,this)]));}catch(e){}this.element&&this.element.add(e.group);e.parent=this,e.paper=this.paper,this.dispatchImmediately("childadded",{type:"childadded",newValue:e}),this.invalidate();},t.prototype.sortAndAdd=function(){this.sortChildren(),this.addChildren();},t.prototype.handleChildRemoved=function(e){var t=e.oldValue;(this._childrenDisposers.removeKey(t.uid),this.element)&&this.element.removeElement(t.group);t.isMeasured&&this.invalidateLayout(),this.dispatchImmediately("childremoved",{type:"childremoved",oldValue:t});},t.prototype.handleChildTransform=function(e){e.target.isMeasured&&this.invalidateLayout();},t.prototype.invalidateLayout=function(){this.layoutInvalid||this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||(this.layoutInvalid=!0,St.addToInvalidLayouts(this),jr.requestFrame());},t.prototype.invalidate=function(){e.prototype.invalidate.call(this),this.invalidateLayout();},t.prototype.deepInvalidate=function(){e.prototype.invalidate.call(this),we(this._childrenByLayout,(function(e){e instanceof t?e.deepInvalidate():e.invalidate();})),this.invalidateLayout();},Object.defineProperty(t.prototype,"children",{get:function(){return this._children||(this._children=new Tt),this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(e){this.setPropertyValue("minWidth",e)&&this.invalidateLayout();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.getPropertyValue("minHeight")},set:function(e){this.setPropertyValue("minHeight",e)&&this.invalidateLayout();},enumerable:!0,configurable:!0}),t.prototype.removeElement=function(){},t.prototype.sortChildren=function(){var e=this;if(this._childrenByLayout=[],"none"!=this.layout&&"absolute"!=this.layout&&this.layout){var t=[],i=[];ut(this.children.iterator(),(function(n){"horizontal"==e.layout||"grid"==e.layout?W(n.percentWidth)?i.push(n):t.push(n):"vertical"==e.layout&&W(n.percentHeight)?i.push(n):t.push(n);})),this._childrenByLayout=t.concat(i);}else this._childrenByLayout=this.children.values;this.calculateRelativeSize();},t.prototype.calculateRelativeSize=function(){var e=this,t=0,i=0;we(this._childrenByLayout,(function(e){e.isMeasured&&(W(e.percentWidth)&&(t+=e.percentWidth),W(e.percentHeight)&&(i+=e.percentHeight));})),we(this._childrenByLayout,(function(n){n.isMeasured&&("horizontal"==e.layout&&(W(n.percentWidth)&&(n.relativeWidth=n.percentWidth/t),W(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100)),"vertical"==e.layout&&(W(n.percentHeight)&&(n.relativeHeight=n.percentHeight/i),W(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100)),"grid"==e.layout&&(W(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100),W(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100))),"absolute"!=e.layout&&n.isMeasured||(W(n.percentWidth)&&(n.relativeWidth=n.percentWidth/100),W(n.percentHeight)&&(n.relativeHeight=n.percentHeight/100));}));},t.prototype.addChildren=function(){if(this.element){var e=Fe(this.children.values),t=e.map((function(e,t){return {idx:t,data:e}}));t.sort((function(e,t){var i=e.data.zIndex||0,n=t.data.zIndex||0;return i<n?-1:i>n?1:e.idx-t.idx})),e=t.map((function(e){return e.data}));var i=this.element,n=!0;if(i.node&&i.node.childNodes)for(var r=0,a=i.node.childNodes.length;r<a;r++)if(i.node.childNodes[r]!=e[r].group.node){n=!1;break}n||(we(e,(function(e){e.group&&i.add(e.group);})),this._background&&this.group.addToBack(this._background.group),this.invalidateLayout());}},t.prototype.createChild=function(e){var t=new e;return t.parent=this,t},t.prototype.removeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.parent=void 0,this.children.removeValue(e);}},t.prototype.disposeChildren=function(){for(;this.children.length>0;){var e=this.children.getIndex(0);e.dispose(),this.children.removeValue(e);}},Object.defineProperty(t.prototype,"background",{get:function(){return this._background||(this._background=this.createBackground(),this.processBackground()),this._background},set:function(e){this._background&&this.background!=e&&this.removeDispose(this._background),e&&(this._background=e,this._disposers.push(e),this.processBackground());},enumerable:!0,configurable:!0}),t.prototype.handleGlobalScale=function(){e.prototype.handleGlobalScale.call(this),this.children.each((function(e){e.handleGlobalScale();}));},t.prototype.createBackground=function(){return new Mr},t.prototype.processBackground=function(){var e=this._background;e&&(e.isMeasured=!1,this._background.fill=(new Fn).getFor("background"),e.parent=this,e.isMeasured=!1,this.children.removeValue(e),this._disposers.push(e),this.group.addToBack(this._background.group));},t.prototype.validateLayout=function(){var e=this;St.removeFromInvalidLayouts(this),this.layoutInvalid=!1,this._availableWidth=this.innerWidth,this._availableHeight=this.innerHeight;var t=0,i=0,n=!0;this.children&&(this.sortChildren(),we(this._childrenByLayout,(function(r){var a,o;if(W(r.relativeWidth)?(a=K(e._availableWidth*r.relativeWidth,2),"horizontal"==e.layout&&(a-=r.pixelMarginRight+r.pixelMarginLeft)):"horizontal"==e.layout&&r.invalid&&r.validate(),W(r.relativeHeight)?(o=K(e._availableHeight*r.relativeHeight,2),"vertical"==e.layout&&(o-=r.pixelMarginTop+r.pixelMarginBottom)):"vertical"==e.layout&&r.invalid&&r.validate(),0==r.invalid){if(W(r.relativeWidth)&&(r.maxWidth=a),W(r.relativeHeight)&&(r.maxHeight=o),r.isMeasured){"horizontal"==e.layout&&(W(r.percentWidth)||r.measuredWidth>0&&(e._availableWidth-=r.measuredWidth+r.pixelMarginLeft+r.pixelMarginRight)),"vertical"==e.layout&&(W(r.percentHeight)||r.measuredHeight>0&&(e._availableHeight-=r.measuredHeight+r.pixelMarginTop+r.pixelMarginBottom));var s=r.measuredWidth,l=r.measuredHeight;"none"!=r.align&&(s+=r.pixelMarginLeft+r.pixelMarginRight),"none"!=r.valign&&(l+=r.pixelMarginTop+r.pixelMarginBottom),t=Math.max(t,s),i=Math.max(i,l);}}else r.isMeasured&&(W(r.relativeWidth)&&r.maxWidth!=a&&(r.maxWidth=a,n=!1),W(r.relativeHeight)&&r.maxHeight!=o&&(r.maxHeight=o,n=!1));}))),this._absoluteWidth=t,this._absoluteHeight=i,n&&this.arrange();},t.prototype.arrange=function(){var e,t,i,n,r,a,o,s,l,u,d,c=this,h=this.children,p=0,m=0,f=te(this.innerWidth,this._absoluteWidth),g=te(this.innerHeight,this._absoluteHeight),y=this.pixelPaddingLeft,v=this.pixelPaddingRight,b=this.pixelPaddingTop,x=this.pixelPaddingBottom,C=0,S=0,_=0,P=0,w=[],I=[],A=this.maxWidth,O=this.maxHeight,k=this.minWidth,F=this.minHeight,D=Fe(h.values);if(this.reverseOrder&&D.reverse(),"grid"==this.layout){a=A,r=1;for(var M=0,L=D.length;M<L;M++){if((j=D[M]).isMeasured&&!j.disabled&&!j.__disabled){var E=j.measuredWidth;E<a&&(a=E),E>r&&(r=E);}}a=J(a,1,A),r=J(r,1,A),o=this.fixedWidthGrid?A/r:A/a,o=te(1,Math.floor(o)),o=ie(this.maxColumns,o),w=this.getColumnWidth(D,o,r);}for(M=0,L=D.length;M<L;M++){var j;if(!(j=D[M]).isMeasured||j.disabled||j.__disabled)j.validatePosition();else {var V=void 0,R=void 0,B=j.pixelMarginLeft,N=j.pixelMarginRight,z=j.pixelMarginTop,H=j.pixelMarginBottom,G=j.measuredWidth,U=j.measuredHeight,q=void 0,$=void 0,Y=void 0,K=void 0;switch(this.layout){case"none":break;case"absolute":switch(j.align){case"left":V=B-j.maxLeft;break;case"center":V=(f-G)/2-j.maxLeft;break;case"right":V=f-N-j.maxRight;break;default:j.x instanceof T||(V=j.pixelX);}switch(j.valign){case"top":R=z-j.maxTop;break;case"middle":R=(g-U)/2-j.maxTop;break;case"bottom":R=g-H-j.maxBottom;break;default:j.y instanceof T||(R=j.pixelY);}break;case"vertical":switch(j.align){case"left":V=B-j.maxLeft;break;case"center":V=(f-G)/2-j.maxLeft;break;case"right":V=f-N-j.maxRight;break;default:V=j.pixelX;}S=(R=S+z-j.maxTop)+j.maxBottom+H;break;case"horizontal":switch(j.valign){case"top":R=z-j.maxTop;break;case"middle":R=(g-U)/2-j.maxTop;break;case"bottom":R=g-H-j.maxBottom;break;default:R=j.pixelY;}C=(V=C+B-j.maxLeft)+j.maxRight+N;break;case"grid":switch(V=C+B-j.maxLeft,j.valign){case"top":R=S+z-j.maxTop;break;case"middle":R=S+(g-U)/2-j.maxTop;break;case"bottom":R=S+g-H-j.maxBottom;break;default:R=S-j.maxTop;}C+=w[P],I[_]=te(I[_],U);var X=w[++P];if(W(X)||(X=r),C>ie(this.innerWidth,A)-X+1&&P<o){o=P,C=0,S=0,_=0,P=0,w=this.getColumnWidth(D,o,r),I=[],M=-1;continue}P>=o&&(P=0,S+=I[_],_++,C=0);}"none"!==this.layout&&(j.moveTo({x:V,y:R}),q=V+j.maxLeft-B,$=V+j.maxRight+N,Y=R+j.maxTop-z,K=R+j.maxBottom+H,($>t||!W(t))&&(t=$),(q<e||!W(e))&&(e=q),(Y<i||!W(i))&&(i=Y),(K>n||!W(n))&&(n=K),($>l||!W(l))&&(l=$),(q<s||!W(s))&&(s=q),(Y<u||!W(u))&&(u=Y),(K>d||!W(d))&&(d=d));}}if("none"==this.layout){var Z=this.bbox;e=Z.x,t=Z.x+Z.width,i=Z.y,n=Z.y+Z.height;}W(e)||(e=0,s=0),W(t)||(l=t=this._availableWidth),W(i)||(i=0,u=0),W(n)||(d=n=this._availableHeight),W(u)||(u=0),W(d)||(d=u),W(s)||(s=0),W(l)||(l=s),p=t-e,m=n-i,W(this.relativeWidth)&&(e=0,t=p=A-y-v),W(this.relativeHeight)&&(i=0,n=m=O-b-x),W(this._pixelWidth)&&(e=0,p=this._pixelWidth-y-v),W(k)&&p<k&&(e=0,p=this.minWidth-y-v),W(this._pixelHeight)&&(i=0,m=this._pixelHeight-b-x),W(F)&&m<F&&(i=0,m=F-b-x);var Q=l-s,ee=d-u;if("none"!=this.layout&&(this.contentAlign||this.contentValign)&&h.length>0){var ne,re,ae=p,oe=m;ae<Q&&(ae=Q),oe<ee&&(oe=ee),"center"==this.contentAlign&&(ne=(ae-Q)/2),"right"==this.contentAlign&&(ne=ae-Q),"middle"==this.contentValign&&(re=(oe-ee)/2),"bottom"==this.contentValign&&(re=oe-ee),W(ne)&&ut(h.iterator(),(function(e){var t=e.maxLeft,i=ne;"horizontal"==c.layout&&(e.x=e.pixelX+i),"grid"==c.layout&&(e.x=e.pixelX+i),"vertical"==c.layout&&(i+=e.pixelMarginLeft,"none"==e.align&&(e.x=i-t)),"absolute"==c.layout&&(i+=e.pixelMarginLeft,"none"==e.align&&(e.x=i-t));})),W(re)&&ut(h.iterator(),(function(e){var t=e.maxTop,i=re;"horizontal"==c.layout&&(i+=e.pixelMarginTop,"none"==e.valign&&(e.y=i-t)),"grid"==c.layout&&(i+=e.pixelMarginTop,e.y=i-t),"vertical"==c.layout&&(e.y=e.pixelY+i),"absolute"==c.layout&&(i+=e.pixelMarginTop,"none"==e.valign&&(e.y=i-t));}));}var se=this.bbox;p=te(p,k),m=te(m,F),this.contentWidth=p,this.contentHeight=m,p=ie(p,A),m=ie(m,O),this._bbox={x:e,y:i,width:p,height:m};var le=this.maxLeft,ue=this.maxTop,de=this.maxBottom,ce=this.maxRight;if(this.measure(),(le!=this.maxLeft||ce!=this.maxRight||ue!=this.maxTop||de!=this.maxBottom)&&this.events.isEnabled("transformed")){var he={type:"transformed",target:this};se&&(he.dummyData=se.width+" "+p+"  "+se.height+" "+m),this.events.dispatchImmediately("transformed",he);}this.dispatchImmediately("layoutvalidated");},t.prototype.updateCenter=function(){e.prototype.updateCenter.call(this),this.updateBackground();},t.prototype.updateBackground=function(){var e=this._background;e&&(e.x=this.maxLeft,e.y=this.maxTop,e.width=this.maxRight-this.maxLeft,e.height=this.maxBottom-this.maxTop);},t.prototype.getColumnWidth=function(e,t,i){var n=this,r=[],a=0;return we(e,(function(e){!e.isMeasured||e.disabled||e.__disabled||(n.fixedWidthGrid?r[a]=i:r[a]=te(r[a],e.measuredWidth+e.pixelMarginRight+e.pixelMarginLeft),++a==t&&(a=0));})),r},Object.defineProperty(t.prototype,"layout",{get:function(){return this.getPropertyValue("layout")},set:function(e){this.setPropertyValue("layout",e)&&this.invalidateLayout();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentValign",{get:function(){return this.getPropertyValue("contentValign")},set:function(e){this.setPropertyValue("contentValign",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentAlign",{get:function(){return this.getPropertyValue("contentAlign")},set:function(e){this.setPropertyValue("contentAlign",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fixedWidthGrid",{get:function(){return this.getPropertyValue("fixedWidthGrid")},set:function(e){this.setPropertyValue("fixedWidthGrid",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColumns",{get:function(){return this.getPropertyValue("maxColumns")},set:function(e){this.setPropertyValue("maxColumns",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reverseOrder",{get:function(){return this.getPropertyValue("reverseOrder")},set:function(e){this.setPropertyValue("reverseOrder",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"setStateOnChildren",{get:function(){return this.getPropertyValue("setStateOnChildren")},set:function(e){this.setPropertyValue("setStateOnChildren",e,!0);},enumerable:!0,configurable:!0}),t.prototype.fitsToBounds=function(e){var t=e.x,i=e.y,n=.5;return t>=-.5&&t<=this.pixelWidth+n&&i>=-.5&&i<=this.pixelHeight+n},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.layout=t.layout,this.setStateOnChildren=t.setStateOnChildren,t._background&&(this.background=t._background.clone(),this.background.copyFrom(t._background)),ut(t.children.iterator(),(function(e){e.shouldClone&&(e.clone().parent=i);}));},Object.defineProperty(t.prototype,"preloader",{get:function(){var e=this._preloader;return e||(this.parent?this.parent.preloader:void 0)},set:function(e){this._preloader&&this.removeDispose(this._preloader),this._preloader=e,e&&(e.parent=this.tooltipContainer,this._disposers.push(e));},enumerable:!0,configurable:!0}),t.prototype.setPaper=function(t){var i=this,n=e.prototype.setPaper.call(this,t);return n&&(this._background&&(this._background.paper=t,this._background.topParent=this.topParent),this.children.each((function(e){e.setPaper(t),e.topParent=i.topParent;}))),n},t.prototype.removeFromInvalids=function(){e.prototype.removeFromInvalids.call(this),St.removeFromInvalidLayouts(this);},t.prototype.setDataItem=function(t){this._dataItem!=t&&(ut(this.children.iterator(),(function(e){e.dataItem=t;})),this._background&&(this._background.dataItem=t)),e.prototype.setDataItem.call(this,t);},t.prototype.measureElement=function(){this.disabled||this.isTemplate||"none"==this.layout||this.__disabled||this.validateLayout();},Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.getPropertyValue("fontFamily")},set:function(e){this.setPropertyValue("fontFamily",e,!0)&&(this.setSVGAttribute({"font-family":e}),this.invalidateLabels());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.getPropertyValue("fontSize")},set:function(e){this.setPropertyValue("fontSize",e,!0)&&(this.setSVGAttribute({"font-size":e}),this.invalidateLabels());},enumerable:!0,configurable:!0}),t.prototype.invalidateLabels=function(){this.children.each((function(e){e.hardInvalidate?(e.hardInvalidate(),e.events.once("validated",e.handleValidate,e,!1)):e instanceof t&&e.invalidateLabels();}));},Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.getPropertyValue("fontWeight")},set:function(e){this.setPropertyValue("fontWeight",e),this.setSVGAttribute({"font-weight":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textDecoration",{get:function(){return this.getPropertyValue("textDecoration")},set:function(e){this.setPropertyValue("textDecoration",e),this.setSVGAttribute({"text-decoration":e});},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._background&&this._background.dispose(),this._shouldBeReady=[],this.disposeChildren(),e.prototype.dispose.call(this);},t.prototype.setState=function(t,i,n){var r=t;return t instanceof Qi&&(r=t.name),this.setStateOnChildren&&ut(this.children.iterator(),(function(e){e.setState(r,i,n),"active"!=r&&(e.isActive=!1);})),this._background&&this._background.setState(r),this.setStateOnSprites.length&&we(this.setStateOnSprites,(function(e){e.setState(r,i,n);})),e.prototype.setState.call(this,t,i,n)},t.prototype.setActive=function(t){e.prototype.setActive.call(this,t),this._background&&(this._background.isActive=t);},t.prototype.dispatchReady=function(){var t=this;if(!this.isReady()&&!this.isDisposed()){var i=!0;lt(this.children.iterator(),(function(e){return !!(e.__disabled||e.disabled||e.isReady())||(i=!1,!1)})),Ie(this._shouldBeReady,(function(e){return !!(e.__disabled||e.disabled||e.isReady())||(i=!1,!1)})),i?e.prototype.dispatchReady.call(this):St.events.once("exitframe",(function(){t.dispatchReady(),jr.requestFrame();}),void 0,!1);}},t.prototype._systemUpdate=function(t){this.children.each((function(e){e.invalid&&(e._systemCheckIfValidate()?e.dataItem&&e.dataItem.component&&e.dataItem.component.dataInvalid?t.push(e):e.validate():t.push(e));})),e.prototype._systemUpdate.call(this,t);},t.prototype._systemValidatePositions=function(){this.children.each((function(e){e.positionInvalid&&e.validatePosition();})),e.prototype._systemValidatePositions.call(this);},t.prototype._systemValidateLayouts=function(){this.layoutInvalid&&!this.isDisposed()&&this.validateLayout();},Object.defineProperty(t.prototype,"tapToActivate",{get:function(){return this._tapToActivate},set:function(e){this._tapToActivate!=e&&this.setTapToActivate(e);},enumerable:!0,configurable:!0}),t.prototype.setTapToActivate=function(e){var t=this;this._tapToActivate=e,this.interactions.isTouchProtected=e,e&&this.interactions.setEventDisposer("container-tapToActivate",e,(function(){return new Re([t.events.on("hit",t.handleTapToActivate,t,!1),t.events.on("down",t.initTapTimeout,t,!1),t.events.on("track",t.initTapTimeout,t,!1),Kn().body.events.on("down",(function(e){Kn().isLocalElement(e.pointer,t.paper.svg,t.uid)||t.handleTapToActivateDeactivation();}),t,!1)])})),Kn();},t.prototype.handleTapToActivate=function(){this.interactions.isTouchProtected=!1,this.initTapTimeout();},t.prototype.handleTapToActivateDeactivation=function(){this.interactions.isTouchProtected=!0;},t.prototype.initTapTimeout=function(){var e=this;this._tapToActivateTimeout&&this._tapToActivateTimeout.dispose(),this.tapToActivate&&!this.interactions.isTouchProtected&&this.tapTimeout&&(this._tapToActivateTimeout=this.setTimeout((function(){e.handleTapToActivateDeactivation();}),this.tapTimeout));},t.prototype.moveHtmlContainer=function(e){var t=fn(e);if(t){this.htmlContainer=t;var i=this.svgContainer;i.htmlElement=t,i.htmlElement.appendChild(i.SVGContainer),i.initSensor(),i.measure();}else N(e)&&""!=e&&jr.log("html container '"+e+"' not found");},t.prototype.hasLicense=function(){if(nn.commercialLicense)return !0;for(var e=0;e<nn.licenses.length;e++)if(nn.licenses[e].match(/^CH.{5,}/i))return !0;return !1},t}(Dr);St.registeredClasses.Container=Lr;var Er=function(){function e(){this._isPaused=!1,this.animations=[],this.uid=St.getUniqueId(),this.dummyCounter=0,this._frameRequested=!1,this.updateStepDuration=45,this.time=Date.now();}return e.prototype.reportTime=function(e,t){this.dummyCounter,t&&(this.time=Date.now());},e.prototype.update=function(){var e=this;if(!this._isPaused){this._frameRequested=!1;var t=Date.now();St.dispatchImmediately("enterframe");for(var i in St.invalidDatas)if(Qe(St.invalidDatas,i)){for(var n=St.invalidDatas[i];n.length>0;){var r=(a=n[0]).dataProvider;if(a.isDisposed())Te(n,a);else if(r&&r.dataInvalid)try{if(r.validateData(),r.dataValidationProgress<1)break}catch(e){Te(n,r),r.raiseCriticalError(e);}else try{if(a.validateData(),a.dataValidationProgress<1)break}catch(e){Te(n,a),a.raiseCriticalError(e);}}if(Date.now()-t>this.updateStepDuration)break}for(;St.invalidRawDatas.length>0;){if((a=St.invalidRawDatas[0]).isDisposed())Te(St.invalidRawDatas,a);else try{a.validateRawData();}catch(e){Te(St.invalidRawDatas,a),a.raiseCriticalError(e);}}for(;St.invalidDataItems.length>0;){r=(a=St.invalidDataItems[0]).dataProvider;if(a.isDisposed()||a.dataInvalid||r&&r.dataInvalid);else try{a.validateDataItems();}catch(e){Te(St.invalidDataItems,a),a.raiseCriticalError(e);}Te(St.invalidDataItems,a);}for(;St.invalidDataRange.length>0;){var a;r=(a=St.invalidDataRange[0]).dataProvider;if(a.isDisposed()||a.dataInvalid||r&&r.dataInvalid);else try{a.validateDataRange(),a.skipRangeEvent||a.dispatchImmediately("datarangechanged"),a.skipRangeEvent=!1;}catch(e){Te(St.invalidDataRange,a),a.raiseCriticalError(e);}Te(St.invalidDataRange,a);}var o=[];tt(St.invalidLayouts,(function(t){e.validateLayouts(t);})),tt(St.invalidPositions,(function(t){e.validatePositions(t);}));var s=!1;if(t=Date.now(),tt(St.invalidSprites,(function(i,n){for(var r=0;n.length>0;){if(e.validateLayouts(i),e.validatePositions(i),5==++r){if(Date.now()-t>e.updateStepDuration)break;r=0;}var a=n[n.length-1];if(a&&!a.isDisposed()){if(a._systemCheckIfValidate())if(e.checkIfValidate2(a))try{a._systemUpdate(o);}catch(e){a.invalid=!1,Te(n,a),a.raiseCriticalError(e);}else o.push(a);else o.push(a);a.invalid=!1;}Te(n,a);}St.invalidSprites[i]=St.invalidSprites[i].concat(o);})),tt(St.invalidSprites,(function(e,t){t.length>0&&(s=!0);})),tt(St.invalidDatas,(function(e,t){t.length>0&&(s=!0);})),we(Fe(this.animations),(function(e){e.update();})),tt(St.invalidLayouts,(function(t){e.validateLayouts(t);})),tt(St.invalidPositions,(function(t){e.validatePositions(t);})),function(){for(var e=Date.now(),t=Ue.length,i=0;i<t;++i)Ue.shift()(e);}(),tt(St.invalidLayouts,(function(t){e.validateLayouts(t);})),tt(St.invalidPositions,(function(t){e.validatePositions(t);})),St.dispatchImmediately("exitframe"),(s||this.animations.length>0||[].length>0)&&this.requestFrame(),this.updateStepDuration<200){var l=!0;tt(St.invalidDatas,(function(e,t){t.length>0&&(l=!1);})),tt(St.invalidSprites,(function(e,t){t.length>0&&(l=!1);})),l&&(this.updateStepDuration=200);}}},e.prototype.checkIfValidate2=function(e){return !(e.dataItem&&e.dataItem.component&&e.dataItem.component.dataInvalid&&!e.dataItem.component.isTemplate)},e.prototype.requestFrame=function(){var e=this;this._frameRequested||(qe((function(){e.update();})),this._frameRequested=!0);},e.prototype.softInvalidate=function(e){var t=this;e.children.each((function(e){e instanceof Lr&&t.softInvalidate(e),e.measureFailed&&(_t(e,"Label")?e.hardInvalidate():e.invalidate(),e.measureFailed=!1);}));},e.prototype.validatePositions=function(e){for(var t=St.invalidPositions[e];t.length>0;){var i=t[t.length-1];if(i.isDisposed())Te(t,i);else try{i._systemValidatePositions();}catch(e){i.positionInvalid=!1,Te(t,i),i.raiseCriticalError(e);}}},e.prototype.validateLayouts=function(e){for(var t=St.invalidLayouts[e];t.length>0;){var i=t[t.length-1];if(i.isDisposed())Te(t,i);else try{i.children.each((function(e){e._systemValidateLayouts();})),i.validateLayout();}catch(e){i.layoutInvalid=!1,Te(t,i),i.raiseCriticalError(e);}}},e.prototype.log=function(e){!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console&&console.log.apply(console,I(e));}(e);},Object.defineProperty(e.prototype,"isPaused",{get:function(){return this._isPaused},set:function(e){this._isPaused=e,e||(this._frameRequested=!1,this.requestFrame());},enumerable:!0,configurable:!0}),e.VERSION="4.10.33",e}(),jr=new Er,Vr=function(){function e(){}return e.prototype.parse=function(e){return []},Object.defineProperty(e.prototype,"parsableNumbers",{get:function(){return this.options.numberFields&&this.options.numberFields.length>0},enumerable:!0,configurable:!0}),e.prototype.maybeToNumber=function(e,t){return -1!==this.options.numberFields.indexOf(e)?yi(t):t},Object.defineProperty(e.prototype,"parsableDates",{get:function(){return this.options.dateFields&&this.options.dateFields.length>0},enumerable:!0,configurable:!0}),e.prototype.maybeToDate=function(e,t){return -1!==this.options.dateFields.indexOf(e)?this.options.dateFormatter.parse(t,this.dateFormat):t},e.prototype.maybeToEmpty=function(e){return j(e)&&""!=e||!j(this.options.emptyAs)?e:this.options.emptyAs},Object.defineProperty(e.prototype,"dateFormatter",{get:function(){return this.options.dateFormatter||(this.options.dateFormatter=new vr,this.options.dateFormat&&(this.options.dateFormat=this.options.dateFormat)),this.options.dateFormatter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dateFormat",{get:function(){return this.options.dateFormat||this.dateFormatter.inputDateFormat},enumerable:!0,configurable:!0}),e}(),Rr=[",",";","\t"],Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentType="text/csv",t.options={delimiter:"",reverse:!1,skipRows:0,skipEmpty:!0,useColumnNames:!1},t}return x(t,e),t.isCSV=function(e){return !!t.getDelimiterFromData(e)},t.getDelimiterFromData=function(e){var t,i=e.split("\n"),n=i.length;return we(Rr,(function(e){for(var r=0,a=0,o=0;o<n;++o){if(!((r=i[o].split(e).length)>1)){a=0;break}if(0===a)a=r;else if(r!=a){a=0;break}}a&&(t=e);})),t},t.prototype.parse=function(e){this.options.delimiter||(this.options.delimiter=t.getDelimiterFromData(e));var i,n,r,a=this.CSVToArray(e,this.options.delimiter),o=j(this.options.emptyAs),s=this.parsableNumbers,l=this.parsableDates,u=[],d=[];for(n=0;n<this.options.skipRows;n++)a.shift();if(this.options.useColumnNames){d=a.shift();for(var c=0;c<d.length;c++)""===(i=j(d[c])?d[c].replace(/^\s+|\s+$/gm,""):"")&&(i="col"+c),d[c]=i;}for(;r=this.options.reverse?a.pop():a.shift();)if(!this.options.skipEmpty||1!==r.length||""!==r[0]){var h={};for(n=0;n<r.length;n++)h[i=void 0===d[n]?"col"+n:d[n]]=""===r[n]?this.options.emptyAs:r[n],o&&(h[i]=this.maybeToEmpty(h[i])),s&&(h[i]=this.maybeToNumber(i,h[i])),l&&(h[i]=this.maybeToDate(i,h[i]));u.push(h);}return u},t.prototype.CSVToArray=function(e,t){t=t||",";for(var i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),n=[[]],r=null;r=i.exec(e);){var a=r[1];a.length&&a!==t&&n.push([]);var o=void 0;o=r[2]?r[2].replace(new RegExp('""',"g"),'"'):r[3],n[n.length-1].push(o);}return n},t}(Vr),Nr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.contentType="application/json",t.options={},t}return x(t,e),t.isJSON=function(e){try{return JSON.parse(e),!0}catch(e){return !1}},t.prototype.parse=function(e){var t,i=this;try{j(JSON)&&(t=JSON.parse(e));}catch(e){return}var n=j(this.options.emptyAs),r=this.parsableNumbers,a=this.parsableDates;if(Array.isArray(t)&&(r||a||n))for(var o=function(e,o){var s=t[e];tt(s,(function(e,t){n&&(s[e]=i.maybeToEmpty(s[e])),r&&(s[e]=i.maybeToNumber(e,s[e])),a&&(s[e]=i.maybeToDate(e,s[e]));}));},s=0,l=t.length;s<l;s++)o(s);return t},t}(Vr),Wr=function(){function e(){this.adapter=new Rt(this);}return e.prototype.load=function(e){var t=Pe(Array.isArray(e)?e:[e],(function(e){return e.dispatchImmediately("started"),e.dispatchImmediately("loadstarted"),Pr(e.url,e,e.requestOptions)}));Promise.all(t).then((function(e){we(e,(function(e){var t=e.target;t.dispatchImmediately("loadended"),e.error?t.events.isEnabled("error")&&t.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:t.language.translate("Unable to load file: %1",null,t.url),target:t}):t.processData(e.response,e.type),t.dispatchImmediately("ended");}));})).catch((function(e){e.target&&(e.target.dispatchImmediately("loadended"),e.target.events.isEnabled("error")&&e.target.events.dispatchImmediately("error",{type:"error",code:e.xhr.status,message:e.target.language.translate("Unable to load file: %1",null,e.target.url),target:e.target}),e.target.dispatchImmediately("ended"));}));},e.prototype.getParserByType=function(e){var t=this.adapter.apply("getParserByType",{parser:null,type:e}).parser;return t||("csv"==e||"text/csv"==e||"application/vnd.ms-excel"==e?new Br:"json"==e||"application/json"==e?new Nr:void 0)},e.prototype.getParserByData=function(e,t){var i=this.adapter.apply("getParserByData",{parser:null,data:e,type:t}).parser;if(!i){if(i=this.getParserByType(t))return i;if(Nr.isJSON(e))return this.getParserByType("json");if(Br.isCSV(e))return this.getParserByType("csv")}return i},e}(),zr=new Wr,Hr=function(e){function t(t,i){var n=e.call(this)||this;return n.adapter=new Rt(n),n._requestOptions={},n._incremental=!1,n._incrementalParams={},n._keepCount=!1,n._updateCurrentData=!1,n.showPreloader=!0,n.className="DataSource",t&&(n.url=t),i&&(n.parser="string"==typeof i?zr.getParserByType(i):i),n}return x(t,e),t.prototype.processData=function(e,t){if(this.dispatchImmediately("parsestarted"),this.parser||(this.parser=zr.getParserByData(e,t),this.parser)){if(this.parser.options=this.adapter.apply("parserOptions",this.parser.options),this.parser.options.dateFields=this.adapter.apply("dateFields",this.parser.options.dateFields||[]),this.parser.options.numberFields=this.adapter.apply("numberFields",this.parser.options.numberFields||[]),this.parser.options.dateFields&&!this.parser.options.dateFormatter&&(this.parser.options.dateFormatter=this.dateFormatter),this.data=this.adapter.apply("parsedData",this.parser.parse(this.adapter.apply("unparsedData",e))),!j(this.data)&&this.events.isEnabled("parseerror")){var i={type:"parseerror",message:this.language.translate("Error parsing file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",i);}this.dispatchImmediately("parseended"),j(this.data)&&this.dispatchImmediately("done",{data:this.data}),this.lastLoad=new Date;}else {if(this.events.isEnabled("parseerror")){var n={type:"parseerror",message:this.language.translate("No parser available for file: %1",null,this.url),target:this};this.events.dispatchImmediately("parseerror",n);}this.dispatchImmediately("parseended");}},Object.defineProperty(t.prototype,"url",{get:function(){var e=this.disableCache?this.timestampUrl(this._url):this._url;return this.incremental&&this.component.data.length&&(e=this.addUrlParams(e,this.incrementalParams)),this.adapter.apply("url",e)},set:function(e){this._url=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestOptions",{get:function(){return this.adapter.apply("requestOptions",this._requestOptions)},set:function(e){this._requestOptions=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parser",{get:function(){return this._parser||(this._parser=new Nr),this.adapter.apply("parser",this._parser)},set:function(e){this._parser=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadFrequency",{get:function(){return this.adapter.apply("reloadTimeout",this._reloadFrequency)},set:function(e){var t=this;this._reloadFrequency!=e&&(this._reloadFrequency=e,e?j(this._reloadDisposer)||(this._reloadDisposer=this.events.on("ended",(function(e){t._reloadTimeout=setTimeout((function(){t.load();}),t.reloadFrequency);}))):j(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incremental",{get:function(){return this.adapter.apply("incremental",this._incremental)},set:function(e){this._incremental=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementalParams",{get:function(){return this.adapter.apply("incrementalParams",this._incrementalParams)},set:function(e){this._incrementalParams=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepCount",{get:function(){return this.adapter.apply("keepCount",this._keepCount)},set:function(e){this._keepCount=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateCurrentData",{get:function(){return this.adapter.apply("updateCurrentData",this._updateCurrentData)},set:function(e){this._updateCurrentData=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"language",{get:function(){return this._language?this._language:this.component?(this._language=this.component.language,this._language):(this.language=new mr,this.language)},set:function(e){this._language=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateFormatter",{get:function(){return this._dateFormatter?this._dateFormatter:this.component?(this._dateFormatter=this.component.dateFormatter,this._dateFormatter):(this.dateFormatter=new vr,this.dateFormatter)},set:function(e){this._dateFormatter=e;},enumerable:!0,configurable:!0}),t.prototype.timestampUrl=function(e){var t={};return t[(new Date).getTime().toString()]="",this.addUrlParams(e,t)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._reloadTimeout&&clearTimeout(this._reloadTimeout),j(this._reloadDisposer)&&(this._reloadDisposer.dispose(),this._reloadDisposer=void 0);},t.prototype.load=function(){this.url&&(this._reloadTimeout&&clearTimeout(this._reloadTimeout),zr.load(this));},t.prototype.addUrlParams=function(e,t){var i=e.match(/\?/)?"&":"?",n=[];return tt(t,(function(e,t){""!=t?n.push(e+"="+encodeURIComponent(t)):n.push(e);})),n.length?e+i+n.join("&"):e},t.prototype.processConfig=function(t){St.registeredClasses.json=Nr,St.registeredClasses.JSONParser=Nr,St.registeredClasses.csv=Br,St.registeredClasses.CSVParser=Br,e.prototype.processConfig.call(this,t);},t}(Jt),Gr=function(e){function t(){var t=e.call(this)||this;return t._rules=new Tt,t._appliedRules={},t._appliedTargets=[],t._useDefault=!0,t.adapter=new Rt(t),t._enabled=!1,t._responsiveDisposers=[],t._noStates=[],t.className="Responsive",t.rules.events.on("inserted",(function(){t.checkRules();}),!0),t.rules.events.on("removed",(function(){t.checkRules();}),!0),t._disposers.push(t.rules.events),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"component",{get:function(){return this._component},set:function(e){var t=this;e!=this._component&&(this.disposeResponsiveHandlers(),this._component=e,this._responsiveDisposers.push(V(this.component).events.on("sizechanged",(function(){t.checkRules();}),this)),this._responsiveDisposers.push(V(this.component).events.once("datavalidated",(function(){t._component.isReady()&&t.checkRules(!0);}),this)),this.enabled=!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.adapter.apply("enabled",this._enabled)},set:function(e){this._enabled!=e&&(this._enabled=e,this.applyRules());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefault",{get:function(){return this.adapter.apply("useDefault",this._useDefault)},set:function(e){this._useDefault!=e&&(this._useDefault=e,this.applyRules());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rules",{get:function(){return this.adapter.apply("rules",this._rules)},set:function(e){this._rules=e,this._enabled=!0,this.applyRules();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultRules",{get:function(){return this.adapter.apply("defaultRules",Ur)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allRules",{get:function(){var e=new Tt;return this.useDefault&&e.copyFrom(this.defaultRules),e.copyFrom(this.rules),this.adapter.apply("allRules",e)},enumerable:!0,configurable:!0}),t.prototype.isApplied=function(e){var t=this._appliedRules[e];return !!j(t)&&t},t.prototype.checkRules=function(e){var t=this;void 0===e&&(e=!1);var i=this.allRules;if(i&&0!=i.length){var n=!1,r=V(this.component);if(0!=r.pixelWidth&&0!=r.pixelHeight&&(ut(i.iterator(),(function(e){e.id||(e.id=St.getUniqueId());var i=e.relevant(r);(i&&!t.isApplied(e.id)||!i&&t.isApplied(e.id))&&(n=!0),t._appliedRules[e.id]=i;})),e&&(n=!0),n)){if(!this.component.isReady())return r.hidden=!0,void r.events.once("ready",(function(e){e.target.show(0),t._applyRules();}));this.dispatchImmediately("ruleschanged"),this._applyRules();}}},t.prototype._applyRules=function(){var e=this;this._timeout&&this._timeout.dispose(),this._timeout=this.setTimeout((function(){e.applyRules();}),10);},t.prototype.applyRules=function(e){var t,i,n,r,a=this,o=j(e)?e:V(this.component),s=!1;if(this.enabled){var l=!1;ut(this.allRules.iterator(),(function(e){var t=a.getState(e,o);t&&(s||(-1!==Se(a._appliedTargets,o.uid)&&o.setState(a.getDefaultState(o),0),s=!0),a.isApplied(V(e.id))&&(t.transitionDuration=0,a.setTargetState(o,t),a.dispatchImmediately("ruleapplied",{rule:e}),l=!0));})),l?(t=this._appliedTargets,i=o.uid,-1!==(r=t.indexOf(i))&&t.splice(r,1),W(n)?t.splice(n,0,i):t.push(i)):Te(this._appliedTargets,o.uid);}o.children&&ut(o.children.iterator(),(function(e){a.applyRules(e);}));},t.prototype.getState=function(e,t){var i="responsive-"+e.id,n=t.uid+"_"+i;if(-1===Se(this._noStates,n)){if(t.states.hasKey(i))return t.states.getKey(i);var r=e.state(t,i);return r||this._noStates.push(n),r}},t.prototype.getDefaultState=function(e){return e.states.hasKey("responsive-default")?e.states.getKey("responsive-default"):e.states.create("responsive-default")},t.prototype.setTargetState=function(e,t){var i=this,n=this.getDefaultState(e);tt(t.properties,(function(t,r){j(n.properties[t])||(n.properties[t]=i.getValue(e,t));})),e.setState(t);},t.prototype.getValue=function(e,t){var i=e.getPropertyValue(t);return !j(i)&&j(e[t])&&(i=e[t]),i},t.prototype.dispose=function(){this.disposeResponsiveHandlers(),e.prototype.dispose.call(this);},t.prototype.disposeResponsiveHandlers=function(){for(var e=this._responsiveDisposers.pop();e;)e.dispose(),e=this._responsiveDisposers.pop();},t}(Jt),Ur=new Tt;Ur.events.on("inserted",(function(e){e.newValue.id=St.getUniqueId();}));var qr=function(){function e(){}return e.widthXXS=function(t){return t.pixelWidth<=e.XXS},e.widthXS=function(t){return t.pixelWidth<=e.XS},e.widthS=function(t){return t.pixelWidth<=e.S},e.widthM=function(t){return t.pixelWidth<=e.M},e.widthL=function(t){return t.pixelWidth<=e.L},e.widthXL=function(t){return t.pixelWidth<=e.XL},e.widthXXL=function(t){return t.pixelWidth<=e.XXL},e.heightXXS=function(t){return t.pixelHeight<=e.XXS},e.heightXS=function(t){return t.pixelHeight<=e.XS},e.heightS=function(t){return t.pixelHeight<=e.S},e.heightM=function(t){return t.pixelHeight<=e.M},e.heightL=function(t){return t.pixelHeight<=e.L},e.heightXL=function(t){return t.pixelHeight<=e.XL},e.heightXXL=function(t){return t.pixelHeight<=e.XXL},e.isXXS=function(t){return t.pixelWidth<=e.XXS&&t.pixelHeight<=e.XXS},e.isXS=function(t){return t.pixelWidth<=e.XS&&t.pixelHeight<=e.XS},e.isS=function(t){return t.pixelWidth<=e.S&&t.pixelHeight<=e.S},e.isM=function(t){return t.pixelWidth<=e.M&&t.pixelHeight<=e.M},e.isL=function(t){return t.pixelWidth<=e.L&&t.pixelHeight<=e.L},e.isXL=function(t){return t.pixelWidth<=e.XL&&t.pixelHeight<=e.XL},e.isXXL=function(t){return t.pixelWidth<=e.XXL&&t.pixelHeight<=e.XXL},e.maybeXXS=function(t){return t.pixelWidth<=e.XXS||t.pixelHeight<=e.XXS},e.maybeXS=function(t){return t.pixelWidth<=e.XS||t.pixelHeight<=e.XS},e.maybeS=function(t){return t.pixelWidth<=e.S||t.pixelHeight<=e.S},e.maybeM=function(t){return t.pixelWidth<=e.M||t.pixelHeight<=e.M},e.maybeL=function(t){return t.pixelWidth<=e.L||t.pixelHeight<=e.L},e.maybeXL=function(t){return t.pixelWidth<=e.XL||t.pixelHeight<=e.XL},e.maybeXXL=function(t){return t.pixelWidth<=e.XXL||t.pixelHeight<=e.XXL},e.XXS=100,e.XS=200,e.S=300,e.M=400,e.L=600,e.XL=800,e.XXL=1e3,e}(),$r=function(e){function t(){var t=e.call(this)||this;return t._disabled=!1,t.hasProperties=!1,t.values={},t.categories={},t.dates={},t.locations={},t.workingLocations={},t.properties={},t.sprites=[],t.isTemplate=!1,t._index=null,t._visible=!0,t._hidden=!1,t._ignoreMinMax=!1,t.hasChildren={},t.isHiding=!1,t._valueAnimations={},t._locationAnimations={},t.className="DataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"adapter",{get:function(){return this._adapterO||(this._adapterO=new Rt(this)),this._adapterO},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.component&&null!=this._index?this._index:-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new un(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return !this._hidden&&this._visible},set:function(e){e&&(this.hidden=!1),this._visible!=e&&this.setVisibility(e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hidden",{get:function(){return this._hidden},set:function(e){this._hidden!=e&&(this._hidden=e,e?this.setVisibility(!1):this.setVisibility(!0,!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__disabled",{get:function(){return this._disabled},set:function(e){this._disabled=e,we(this.sprites,(function(t){t.__disabled=e;}));},enumerable:!0,configurable:!0}),t.prototype.setVisibility=function(e,t){if(we(this.sprites,(function(t){e?t.visible=t.defaultState.properties.visible:t.hiddenState?t.visible=t.hiddenState.properties.visible:t.visible=!1;})),this._visible=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("visibilitychanged")){var i={type:"visibilitychanged",target:this,visible:e};this.events.dispatchImmediately("visibilitychanged",i);}},t.prototype.show=function(e,t,i){var n,r=this;if(!this.hidden)return this.setVisibility(!0,!0),this.isHiding=!1,this._hideDisposer&&this.removeDispose(this._hideDisposer),i&&we(i,(function(i){n=r.setWorkingValue(i,r.values[i].value,e,t);})),we(this.sprites,(function(i){var n=i.show(e);null==n||n.isFinished()||(r._disposers.push(n),null!=t&&t>0&&n.delay(t));})),n},t.prototype.dispose=function(){e.prototype.dispose.call(this),we(this.sprites,(function(e){e.dispose();})),this.sprites=[];},t.prototype.hide=function(e,t,i,n){var r=this;if(this.isHiding=!0,we(this.sprites,(function(i){var n=i.hide(e);null==n||n.isFinished()||(r._disposers.push(n),null!=t&&t>0&&n.delay(t));})),W(i)&&n){var a;if(we(n,(function(n){var o=r.setWorkingValue(n,i,e,t);o&&(a=o);})),a&&!a.isFinished())return this._hideDisposer=a.events.on("animationended",(function(){r.setVisibility(!1,!0),r.isHiding=!1;})),this._disposers.push(this._hideDisposer),a;this.isHiding=!1,this.setVisibility(!1,!0);}else this.isHiding=!1,this.setVisibility(!1);},t.prototype.getDuration=function(e){if(!W(e)){var t=this.component;t&&(e=t.interpolationDuration);}if(null!=e)return this._adapterO?this._adapterO.apply("duration",e):e},t.prototype.getValue=function(e,t){if(e&&this.component){t||(t=this.component.dataFields[e+"Show"])||(t="value");var i=this.values[e][t];return this._adapterO&&this._adapterO.isEnabled("value")?this._adapterO.apply("value",{value:i,field:e}).value:i}},t.prototype.getWorkingValue=function(e){if(e&&this.component){var t=this.component.dataFields[e+"Show"];return t||(t="workingValue"),this._adapterO?this._adapterO.apply("workingValue",{workingValue:this.values[e][t],field:e}).workingValue:this.values[e][t]}},t.prototype.getActualWorkingValue=function(e){return this.values[e].workingValue},t.prototype.setValue=function(e,t,i,n){var r=this.values[e].value,a=this.getDuration(i);if(r!==(t=M(t))){if(this.values[e].value=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("valuechanged")){var o={type:"valuechanged",target:this,property:e};this.events.dispatchImmediately("valuechanged",o);}this.component&&this.component.handleDataItemValueChange(this,e);}this.setWorkingValue(e,t,a,n);},t.prototype.setCalculatedValue=function(e,t,i){if(this.values[e][i]!==t&&W(t)){if(this.values[e][i]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("calculatedvaluechanged")){var n={type:"calculatedvaluechanged",target:this,property:e};this.events.dispatchImmediately("calculatedvaluechanged",n);}this.component&&this.component.handleDataItemCalculatedValueChange(this,e);}},t.prototype.setWorkingValue=function(e,t,i,n){if(W(this.values[e].value)){var r=this.getDuration(i),a=this.values[e].workingValue;if(null!=r&&r>0&&W(a)&&this.component){if(a!=t){var o=this.animate({childObject:this.values[e],property:"workingValue",from:a,to:t,dummyData:e},r,this.component.interpolationEasing);return null!=n&&o.delay(n),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._valueAnimations[e]=o,o}(s=this._valueAnimations[e])&&s.stop(),this.values[e].workingValue=t;}else {var s;if((s=this._valueAnimations[e])&&s.stop(),this.values[e].workingValue=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var l={type:"workingvaluechanged",target:this,property:e};this.events.dispatchImmediately("workingvaluechanged",l);}this.component&&this.component.handleDataItemWorkingValueChange(this,e);}}},t.prototype.setLocation=function(e,t,i,n){if(this.locations[e]!==t){if(this.locations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("locationchanged")){var r={type:"locationchanged",target:this,property:e};this.events.dispatchImmediately("locationchanged",r);}this.component&&this.component.handleDataItemValueChange(this,e),this.setWorkingLocation(e,t,i,n);}},t.prototype.setWorkingLocation=function(e,t,i,n){var r=this.getDuration(i),a=this.workingLocations[e];if(null!=r&&r>0&&W(a)&&this.component){if(a!=t){var o=this.animate({childObject:this.workingLocations,property:e,from:a,to:t,dummyData:e},r,this.component.interpolationEasing);return null!=n&&o.delay(n),o.events.on("animationstarted",this.handleInterpolationProgress,this),o.events.on("animationprogress",this.handleInterpolationProgress,this),o.events.on("animationended",this.handleInterpolationProgress,this),this._locationAnimations[e]=o,o}(s=this._locationAnimations[e])&&s.stop(),this.workingLocations[e]=t;}else {var s;if((s=this._locationAnimations[e])&&s.stop(),this.workingLocations[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workinglocationchanged")){var l={type:"workinglocationchanged",target:this,property:e};this.events.dispatchImmediately("workinglocationchanged",l);}this.component&&this.component.handleDataItemWorkingLocationChange(this,e);}},t.prototype.setDate=function(e,t,i){!B(t)&&this.component&&(t=this.component.dateFormatter.parse(t)),this.dates[e]!==t&&(this.dates[e]=t,this.setValue(e,t.getTime(),i));},t.prototype.getDate=function(e){return this._adapterO?this._adapterO.apply("date",{date:this.dates[e],field:e}).date:this.dates[e]},t.prototype.setProperty=function(e,t){if(this.properties[e]!==t){if(this.hasProperties=!0,this.properties[e]=t,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var i={type:"propertychanged",target:this,property:e,value:t};this.events.dispatchImmediately("propertychanged",i);}this.component&&this.component.handleDataItemPropertyChange(this,e);}},t.prototype.setCategory=function(e,t){N(t)||(t=F(t)),this.categories[e]!==t&&(this.categories[e]=t);},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.dataContext&&(this.dataContext=function(e,t){return tt(e,(function(e,i){t[e]=i;})),t}(t.dataContext,{})),Zt(t.locations,this.locations),t._adapterO&&this.adapter.copyFrom(t._adapterO),this.component=t.component;},Object.defineProperty(t.prototype,"opacity",{set:function(e){we(this.sprites,(function(t){t.opacity=e;}));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){if(this._ignoreMinMax=e,this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("propertychanged")){var t={type:"propertychanged",target:this,property:"ignoreMinMax",value:e};this.events.dispatchImmediately("propertychanged",t);}this.component&&this.component.handleDataItemPropertyChange(this,"ignoreMinMax");},enumerable:!0,configurable:!0}),t.prototype.animate=function(e,t,i){return new dn(this,e,t,i).start()},t.prototype.handleInterpolationProgress=function(e){var t=e.target.animationOptions[0];if(t){if(this._eventDispatcher&&!this.__disabled&&this.events.isEnabled("workingvaluechanged")){var i={type:"workingvaluechanged",target:this,property:t.dummyData};this.events.dispatchImmediately("workingvaluechanged",i);}this.component&&this.component.handleDataItemWorkingValueChange(this,t.dummyData);}},t.prototype.hasValue=function(e){for(var t=0,i=e.length;t<i;t++){var n=this.values[e[t]];if(!n||!j(n.value))return !1}return !0},Object.defineProperty(t.prototype,"depth",{get:function(){return this.parent?this.parent.depth+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataContext",{get:function(){return this._dataContext},set:function(e){this._dataContext=e;},enumerable:!0,configurable:!0}),t.prototype.addSprite=function(e){e.dataItem&&e.dataItem!=this&&Te(e.dataItem.sprites,e),this.visible||e.hide(0),this.isHiding&&e.hide(),this.sprites.push(e),e.dataItem=this;},t}(Jt),Yr=function(e){function t(){var t=e.call(this)||this;return t.dataFields={},t._dataSources={},t._parseDataFrom=0,t._dataDisposers=[],t._currentDataSetId="",t._start=0,t._end=1,t.skipRangeEvent=!1,t.rangeChangeDuration=0,t.rangeChangeEasing=qi,t.parsingStepDuration=50,t.dataInvalid=!1,t.rawDataInvalid=!1,t.dataRangeInvalid=!1,t.dataItemsInvalid=!1,t.interpolationDuration=0,t.interpolationEasing=qi,t.sequencedInterpolation=!0,t.sequencedInterpolationDelay=0,t.dataValidationProgress=0,t._addAllDataItems=!0,t._usesData=!0,t.className="Component",t.minZoomCount=1,t.maxZoomCount=0,t._dataItems=new Ft(t.createDataItem()),t._dataItems.events.on("inserted",t.handleDataItemAdded,t,!1),t._dataItems.events.on("removed",t.handleDataItemRemoved,t,!1),t._disposers.push(new wt(t._dataItems)),t._disposers.push(t._dataItems.template),t.invalidateData(),t.dataUsers.events.on("inserted",t.handleDataUserAdded,t,!1),t._disposers.push(new Re(t._dataDisposers)),t._start=0,t._end=1,t.maxZoomDeclination=1,t.applyTheme(),t}return x(t,e),t.prototype.createDataItem=function(){return new $r},t.prototype.handleDataUserAdded=function(e){e.newValue.dataProvider=this;},t.prototype.handleDataItemValueChange=function(e,t){this.dataItemsInvalid||this.invalidateDataItems();},t.prototype.handleDataItemWorkingValueChange=function(e,t){},t.prototype.handleDataItemWorkingLocationChange=function(e,t){},t.prototype.handleDataItemCalculatedValueChange=function(e,t){},t.prototype.handleDataItemPropertyChange=function(e,t){},t.prototype.processDataItem=function(e,t){var i=this;if(e){t||(t={}),e.dataContext=t;var n=!1;tt(this.dataFields,(function(r,a){var o=r,s=t[a];if(i._adapterO&&i._adapterO.isEnabled("dataContextValue")&&(s=i._adapterO.apply("dataContextValue",{field:o,value:s,dataItem:e}).value),j(s))if(n=!0,e.hasChildren[o]){var l=i.createDataItem();l.copyFrom(i.mainDataSet.template);var u=new Ft(l);u.events.on("inserted",i.handleDataItemAdded,i,!1),u.events.on("removed",i.handleDataItemRemoved,i,!1),i._dataDisposers.push(new wt(u));for(var d=s.length,c=0;c<d;c++){var h=s[c],p=u.create();p.parent=e,i.processDataItem(p,h);}e[o]=u;}else e[o]=s;})),tt(this.propertyFields,(function(i,r){var a=i,o=t[r];j(o)&&(n=!0,e.setProperty(a,o));})),this._addAllDataItems||n||this.mainDataSet.remove(e);}},t.prototype.updateDataItem=function(e){var t=this;if(e){var i=e.dataContext;tt(this.dataFields,(function(n,r){var a=n,o=i[r];(t._adapterO&&(o=t._adapterO.apply("dataContextValue",{field:a,value:o,dataItem:e}).value),j(o))&&(e.hasChildren[a]?e[a].each((function(e){t.updateDataItem(e);})):e[a]=o);})),tt(this.propertyFields,(function(t,n){var r=t,a=i[n];j(a)&&e.setProperty(r,a);}));}},t.prototype.validateDataElements=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++){var i=this.dataItems.getIndex(t);i&&this.validateDataElement(i);}},t.prototype.validate=function(){this.validateDataElements(),e.prototype.validate.call(this);},t.prototype.validateDataElement=function(e){},t.prototype.addData=function(e,t,i){var n=this;if(!this.dataInvalid&&this.inited&&(this._parseDataFrom=this.data.length),i||(e instanceof Array?we(e,(function(e){n.data.push(e);})):this.data.push(e)),this.inited)this.removeData(t,i);else if(W(t))for(;t>0;)this.data.shift(),t--;this.invalidateData();},t.prototype.removeData=function(e,t){if(W(e)&&e>0){for(;e>0;){var i=this.mainDataSet.getIndex(0);i&&this.mainDataSet.remove(i),this.dataUsers.each((function(e){if(!e.data||0==e.data.length){var t=e.mainDataSet.getIndex(0);t&&e.mainDataSet.remove(t);}})),t||this.data.shift(),this._parseDataFrom>0&&this._parseDataFrom--,e--;}this.invalidateDataItems();}},t.prototype.invalidateData=function(){this.disabled||this.isTemplate||(St.addToInvalidComponents(this),jr.requestFrame(),this.dataInvalid=!0,ut(this.dataUsers.iterator(),(function(e){e.invalidateDataItems();})));},t.prototype.invalidateDataUsers=function(){ut(this.dataUsers.iterator(),(function(e){e.invalidate();}));},t.prototype.invalidateDataItems=function(){this.disabled||this.isTemplate||(Ae(St.invalidDataItems,this),jr.requestFrame(),this.dataItemsInvalid=!0,ut(this.dataUsers.iterator(),(function(e){e.invalidateDataItems();})));},t.prototype.invalidateDataRange=function(){this.disabled||this.isTemplate||(this.dataRangeInvalid=!0,Ae(St.invalidDataRange,this),jr.requestFrame());},t.prototype.validateDataRange=function(){Te(St.invalidDataRange,this),this.dataRangeInvalid=!1,this.startIndex==this._prevStartIndex&&this.endIndex==this._prevEndIndex||(this.rangeChangeUpdate(),this.appendDataItems(),this.invalidate(),this.dispatchImmediately("datarangechanged"));},t.prototype.sliceData=function(){this._workingStartIndex=this.startIndex,this._workingEndIndex=this.endIndex;},t.prototype.rangeChangeUpdate=function(){this.sliceData(),this._prevStartIndex=this.startIndex,this._prevEndIndex=this.endIndex;},t.prototype.appendDataItems=function(){for(var e=this.endIndex,t=this.startIndex;t<e;t++){(i=this.dataItems.getIndex(t))&&(i.__disabled=!1);}for(t=0;t<this.startIndex;t++){(i=this.dataItems.getIndex(t))&&(i.__disabled=!0);}for(t=this.endIndex;t<this.dataItems.length;t++){var i;(i=this.dataItems.getIndex(t))&&(i.__disabled=!0);}},t.prototype.invalidateRawData=function(){this.disabled||this.isTemplate||(Ae(St.invalidRawDatas,this),jr.requestFrame(),this.rawDataInvalid=!0,ut(this.dataUsers.iterator(),(function(e){e.invalidateRawData();})));},t.prototype.validateRawData=function(){var e=this;Te(St.invalidRawDatas,this),ut(this.mainDataSet.iterator(),(function(t){t&&e.updateDataItem(t);}));},t.prototype.dispose=function(){var t=this;this.mainDataSet.template.clones.clear(),tt(this._dataSources,(function(e,i){t.removeDispose(i);})),this.disposeData(),e.prototype.dispose.call(this);},t.prototype.disposeData=function(){this.mainDataSet.template.clones.clear(),we(this._dataDisposers,(function(e){e.dispose();})),ut(this.dataUsers.iterator(),(function(e){e.disposeData();})),this._dataDisposers.length=0,this._startIndex=void 0,this._endIndex=void 0,this.mainDataSet.clear(),this.mainDataSet.template.clones.clear(),this._dataSets&&this._dataSets.clear();},t.prototype.getDataItem=function(e){return this.mainDataSet.create()},t.prototype.validateData=function(){if(this.dispatchImmediately("beforedatavalidated"),this.dataInvalid=!1,St.removeFromInvalidComponents(this),!this.__disabled){if(this.dataValidationProgress=0,this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.dataFields.data&&this.dataItem){var e=this.dataItem.dataContext;this._data=e[this.dataFields.data];}if(0===this._parseDataFrom&&this.data.length>0&&this.disposeData(),this.data.length>0){var t=this.preloader;ut(this.dataUsers.iterator(),(function(e){e._startIndex=void 0,e._endIndex=void 0;}));for(var i=0,n=Date.now(),r=this._parseDataFrom,a=this.data.length,o=function(){var e=s.data[r];if(s._usesData){var a=s.getDataItem(e);s.processDataItem(a,e);}if((s.dataUsers.each((function(t){if(0==t.data.length){var i=t.getDataItem(e);t.processDataItem(i,e);}})),100==++i)&&(i=0,Date.now()-n>s.parsingStepDuration&&r<s.data.length-10))return s._parseDataFrom=r+1,t&&(r/s.data.length>.5&&!t.visible||(t.progress=r/s.data.length)),s.dataValidationProgress=r/s.data.length,r=s.data.length,s.invalidateData(),{value:void 0}},s=this;r<a;r++){var l=o();if("object"==typeof l)return l.value}t&&(t.progress=1),this.dataUsers.each((function(e){(e.hidden||e.appeared&&!e.visible&&e.stacked)&&e.hide(0);}));}this.dataValidationProgress=1,this._parseDataFrom=0,this.invalidateDataItems(),this._internalDefaultsApplied||this.applyInternalDefaults(),this.dispatch("datavalidated");}},t.prototype.validateDataItems=function(){Te(St.invalidDataItems,this),this.dataItemsInvalid=!1,this.invalidateDataRange(),this.invalidate(),this.dispatch("dataitemsvalidated");},Object.defineProperty(t.prototype,"data",{get:function(){return this._data||(this._data=[]),this._adapterO?this._adapterO.apply("data",this._data):this._data},set:function(e){this.setData(e);},enumerable:!0,configurable:!0}),t.prototype.setData=function(e){this.isDisposed()||(this._parseDataFrom=0,this.disposeData(),this._data=e,e&&e.length>0?this.invalidateData():(this.dispatchImmediately("beforedatavalidated"),this.dispatch("datavalidated")));},t.prototype.getDataSource=function(e){var t=this;return j(this._dataSources[e])||(this._dataSources[e]=new Hr,this._dataSources[e].component=this,this.setDataSourceEvents(this._dataSources[e],e),this._dataSources[e].adapter.add("dateFields",(function(e){return t.dataSourceDateFields(e)})),this._dataSources[e].adapter.add("numberFields",(function(e){return t.dataSourceNumberFields(e)})),this.events.on("inited",(function(){t.loadData(e);}),this,!1)),this._dataSources[e]},Object.defineProperty(t.prototype,"dataSource",{get:function(){return this._dataSources.data||this.getDataSource("data"),this._dataSources.data},set:function(e){var t=this;this._dataSources.data&&this.removeDispose(this._dataSources.data),this._dataSources.data=e,this._dataSources.data.component=this,this.events.on("inited",(function(){t.loadData("data");}),this,!1),this.setDataSourceEvents(e,"data");},enumerable:!0,configurable:!0}),t.prototype.loadData=function(e){this._dataSources[e].load();},t.prototype.dataSourceDateFields=function(e){return e},t.prototype.dataSourceNumberFields=function(e){return e},t.prototype.populateDataSourceFields=function(e,t,i){return we(i,(function(i){t[i]&&-1===Se(e,t[i])&&e.push(t[i]);})),e},t.prototype.setDataSourceEvents=function(e,t){var i=this;e.events.on("started",(function(e){var t=i.preloader;t&&(t.progress=0);}),void 0,!1),e.events.on("loadstarted",(function(e){var t=i.preloader;t&&(t.progress=.25);}),void 0,!1),e.events.on("loadended",(function(e){var t=i.preloader;t&&(t.progress=.5);}),void 0,!1),e.events.on("parseended",(function(e){var t=i.preloader;t&&(t.progress=.75);}),void 0,!1),e.events.on("ended",(function(e){var t=i.preloader;t&&(t.progress=1);}),void 0,!1),e.events.on("error",(function(e){var t=i.preloader;t&&(t.progress=1),i.openModal(e.message);}),void 0,!1),t&&e.events.on("done",(function(n){var r=i.preloader;r&&(r.progress=1),"data"!=t||H(n.data)||(n.data=[n.data]),e.incremental&&"data"==t&&i.data.length?i.addData(n.data,e.keepCount?n.data.length:0):e.updateCurrentData&&"data"==t&&i.data.length?(we(i.data,(function(e,t){j(n.data[t])&&tt(e,(function(i,r){j(n.data[t][i])&&(e[i]=n.data[t][i]);}));})),i.invalidateRawData()):i[t]=n.data;}));},Object.defineProperty(t.prototype,"responsive",{get:function(){return this._responsive||(this._responsive=new Gr,this._responsive.component=this),this._responsive},set:function(e){this._responsive=e,this._responsive.component=this;},enumerable:!0,configurable:!0}),t.prototype.zoom=function(e,t,i,n){var r=this;void 0===t&&(t=!1),void 0===i&&(i=!1);var a=e.start,o=e.end,s=e.priority;if(e.start==e.end&&(e.start=e.start-.5/this.maxZoomFactor,e.end=e.end+.5/this.maxZoomFactor),"end"==s&&1==o&&0!=a&&a<this.start&&(s="start"),"start"==s&&0==a&&o>this.end&&(s="end"),W(n)||(n=this.maxZoomDeclination),!W(a)||!W(o))return {start:this.start,end:this.end};if(this._finalStart!=a||this._finalEnd!=o){var l=this.maxZoomFactor/this.minZoomCount,u=this.maxZoomFactor/this.maxZoomCount;if("start"==s?(this.maxZoomCount>0&&1/(o-a)<u&&(o=a+1/u),1/(o-a)>l&&(o=a+1/l),o>1&&o-a<1/l&&(a=o-1/l)):(this.maxZoomCount>0&&1/(o-a)<u&&(a=o-1/u),1/(o-a)>l&&(a<=0?o=a+1/l:a=o-1/l),a<0&&o-a<1/l&&(o=a+1/l)),a<-n&&(a=-n),1/(o-a)>l&&(o=a+1/l),o>1+n&&(o=1+n),1/(o-a)>l&&(a=o-1/l),this._finalEnd=o,this._finalStart=a,this.skipRangeEvent=t,this.dispatchImmediately("rangechangestarted"),this.rangeChangeDuration>0&&!i){var d=this.rangeChangeAnimation;if(d&&d.progress<1){var c=d.animationOptions;if(c.length>1){if(c[0].to==a&&c[1].to==o)return {start:a,end:o};d.isDisposed()||d.stop();}}this.rangeChangeAnimation&&this.rangeChangeAnimation.kill(),d=this.animate([{property:"start",to:a},{property:"end",to:o}],this.rangeChangeDuration,this.rangeChangeEasing),this.rangeChangeAnimation=d,d&&!d.isFinished()?d.events.on("animationended",(function(){r.dispatchImmediately("rangechangeended");})):this.dispatchImmediately("rangechangeended");}else this.start=a,this.end=o,this.dispatch("rangechangeended");}return {start:a,end:o}},t.prototype.zoomToIndexes=function(e,t,i,n){if(W(e)&&W(t)){var r=e/this.dataItems.length,a=t/this.dataItems.length;this.zoom({start:r,end:a},i,n);}},Object.defineProperty(t.prototype,"zoomFactor",{get:function(){return J(1/(this.end-this.start),1,this.maxZoomFactor)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomFactor",{get:function(){return this.getPropertyValue("maxZoomFactor")},set:function(e){this.setPropertyValue("maxZoomFactor",e)&&(1==e&&(this.maxZoomDeclination=0),this.invalidateDataRange());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomDeclination",{get:function(){return this.getPropertyValue("maxZoomDeclination")},set:function(e){this.setPropertyValue("maxZoomDeclination",e)&&this.invalidateDataRange();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return W(this._startIndex)||(this._startIndex=0),this._startIndex},set:function(e){this._startIndex=J(Math.round(e),0,this.dataItems.length),this.start=this.indexToPosition(this._startIndex);},enumerable:!0,configurable:!0}),t.prototype.indexToPosition=function(e){return e/this.dataItems.length},Object.defineProperty(t.prototype,"endIndex",{get:function(){var e=this.dataItems.length;return (!W(this._endIndex)||this._endIndex>e)&&(this._endIndex=e),this._endIndex},set:function(e){this._endIndex=J(Math.round(e),0,this.dataItems.length),this.end=this.indexToPosition(this._endIndex);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._adapterO?this._adapterO.apply("start",this._start):this._start},set:function(e){if(this._start!=e){this._start=e;var t=Math.max(0,Math.floor(this.dataItems.length*e)||0);this._startIndex=Math.min(t,this.dataItems.length),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("startchanged"),this.dispatch("startendchanged");}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._adapterO?this._adapterO.apply("end",this._end):this._end},set:function(e){this._end!=e&&(this._end=e,this._endIndex=Math.min(this.dataItems.length,Math.ceil(this.dataItems.length*e)||0),this.invalidateDataRange(),this.invalidate(),this.dispatchImmediately("endchanged"),this.dispatch("startendchanged"));},enumerable:!0,configurable:!0}),t.prototype.removeFromInvalids=function(){e.prototype.removeFromInvalids.call(this),St.removeFromInvalidComponents(this),Te(St.invalidDataItems,this),Te(St.invalidDataRange,this),Te(St.invalidRawDatas,this);},Object.defineProperty(t.prototype,"dataItems",{get:function(){if(""!=this._currentDataSetId){var e=this.dataSets.getKey(this._currentDataSetId);if(e)return e}return this._dataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataSets",{get:function(){return this._dataSets||(this._dataSets=new vt),this._dataSets},enumerable:!0,configurable:!0}),t.prototype.setDataSet=function(e){if(this._currentDataSetId!=e){if(this.dataSets.getKey(e))return this.dataItems.each((function(e){e.__disabled=!0;})),this._currentDataSetId=e,this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(e){e.__disabled=!1;})),!0;if(""!=this._currentDataSetId)return this.dataItems.each((function(e){e.__disabled=!0;})),this._currentDataSetId="",this.invalidateDataRange(),this._prevStartIndex=void 0,this.dataItems.each((function(e){e.__disabled=!1;})),!0}return !1},Object.defineProperty(t.prototype,"currentDataSetId",{get:function(){return this._currentDataSetId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainDataSet",{get:function(){return this._dataItems},enumerable:!0,configurable:!0}),t.prototype._updateDataItemIndexes=function(e){for(var t=this.mainDataSet.values,i=t.length,n=e;n<i;++n)t[n]._index=n;},t.prototype.handleDataItemAdded=function(e){e.newValue.component=this,this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems();},t.prototype.handleDataItemRemoved=function(e){this._updateDataItemIndexes(e.index),this.dataItemsInvalid||this.invalidateDataItems();},t.prototype.bindDataField=function(e,t){this.dataFields[e]=t,this.invalidateDataRange();},t.prototype.invalidateProcessedData=function(){this.resetProcessedRange(),this.invalidateDataRange();},t.prototype.resetProcessedRange=function(){this._prevEndIndex=null,this._prevStartIndex=null;},Object.defineProperty(t.prototype,"dataUsers",{get:function(){var e=this;return this._dataUsers||(this._dataUsers=new Tt,this._disposers.push(new Ve((function(){ut(e._dataUsers.iterator(),(function(e){e.dispose();}));})))),this._dataUsers},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t.dataFields=Zt(this.dataFields,{}),t},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.data=t.data,this.sequencedInterpolation=t.sequencedInterpolation,this.sequencedInterpolationDelay=t.sequencedInterpolationDelay,this.interpolationDuration=t.interpolationDuration,this.interpolationEasing=t.interpolationEasing;},t.prototype.reinit=function(){this._inited=!1,this.deepInvalidate();},t.prototype.getExporting=function(){var t=e.prototype.getExporting.call(this);return t.adapter.has("data",this._exportData,-1,this)||(t.adapter.add("data",this._exportData,-1,this),this.events.on("datavalidated",(function(e){t.handleDataUpdated();}))),t},t.prototype._exportData=function(e){return e.data=this.data,e},t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return i&&this.invalidateData(),i},t.prototype.setShowOnInit=function(t){t!=this.getPropertyValue("showOnInit")&&(!t||this.inited||this.hidden?this._showOnInitDisposer2&&this.removeDispose(this._showOnInitDisposer2):(this._showOnInitDisposer2=this.events.once("dataitemsvalidated",this.hideInitially,this,!1),this._disposers.push(this._showOnInitDisposer2))),e.prototype.setShowOnInit.call(this,t);},t.prototype.setBaseId=function(t){t!=this._baseId&&this.dataInvalid&&(this.dataInvalid=!1,St.removeFromInvalidComponents(this),this._baseId=t,this.invalidateData()),e.prototype.setBaseId.call(this,t);},Object.defineProperty(t.prototype,"minZoomCount",{get:function(){return this.getPropertyValue("minZoomCount")},set:function(e){this.setPropertyValue("minZoomCount",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomCount",{get:function(){return this.getPropertyValue("maxZoomCount")},set:function(e){this.setPropertyValue("maxZoomCount",e);},enumerable:!0,configurable:!0}),t.prototype._systemCheckIfValidate=function(){return !(this.dataInvalid||this.dataProvider&&this.dataProvider.dataInvalid)},t.prototype.asFunction=function(t){return "interpolationEasing"==t||"rangeChangeEasing"==t||e.prototype.asIs.call(this,t)},t}(Lr);St.registeredClasses.Component=Yr;var Kr=function(e){function t(){var t=e.call(this)||this;return t.isOversized=!1,t.className="Label",t.fill=(new Fn).getFor("text"),t.wrap=!1,t.truncate=!1,t.fullWords=!0,t.ellipsis="…",t.textAlign="start",t.textValign="top",t.layout="absolute",t.baseLineRatio=-.27,t._positionPrecision=1,t.events.on("maxsizechanged",(function(){t.inited&&t.handleMaxSize();}),t,!1),t.events.once("validated",t.handleValidate,t,!1),t.applyTheme(),t}return x(t,e),t.prototype.afterDraw=function(){e.prototype.afterDraw.call(this),this.validatePosition();},t.prototype.setPaper=function(t){var i=e.prototype.setPaper.call(this,t);return i&&this.hardInvalidate(),i},t.prototype.handleValidate=function(){!this.currentText&&!this.text||0!=this.bbox.width&&0!=this.bbox.height||St.events.once("exitframe",this.hardInvalidate,this);},t.prototype.handleMaxSize=function(){(this.bbox.width>this.availableWidth||this.bbox.width<this.availableWidth&&(this.isOversized||this.truncate)||this.bbox.height>this.availableHeight||this.bbox.height<this.availableHeight&&this.isOversized)&&this.invalidate();},t.prototype.arrange=function(){},t.prototype.updateCurrentText=function(){var e,t;ti(this.html)&&this.paper.supportsForeignObject()?(e="html",t=this.html):(e="svg",t=this.text),z(t)&&(t=t.toString()),j(t)&&""!==t&&(t=this.populateString(t,this.dataItem)),"html"==e?this._adapterO&&(t=this._adapterO.apply("htmlOutput",t)):this._adapterO&&(t=this._adapterO.apply("textOutput",t));var i=t!=this.currentText||e!=this._currentFormat;return this.currentText=t,this._currentFormat=e,i},t.prototype.hardInvalidate=function(){this._prevStatus="",this.invalidate();},t.prototype.getLineBBox=function(e){var t=e&&e.element,i=t&&t.node;i&&i.parentNode&&(e.bbox=t.getBBox());},t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.bbox.width,i=this.bbox.height,n=this.topParent;if(!n||n.maxWidth&&n.maxHeight){var r=te(this.availableWidth-this.pixelPaddingLeft-this.pixelPaddingRight,0),a=te(this.availableHeight-this.pixelPaddingTop-this.pixelPaddingBottom,0),o=a+","+r+this.wrap+this.truncate+this.fullWords+this.rtl+this.ellipsis;if(this.updateCurrentText()||!this.inited||this._prevStatus!=o){this._measuredWidth=0,this._measuredHeight=0,this.isOversized=!1;var s=this._currentFormat,l=this.currentText;if(j(l)&&""!=l){var u=l.split("\n");this._prevStatus=o,this.textAlign=this.textAlign;var d=this.group.getAttr("display");if("none"==d&&this.group.removeAttr("display"),this.textPathElement&&this.textPathElement.removeChildren(),"svg"===s){this.element.removeAttr("display");var c=this.element;this.resetBBox();for(var h=0,p="",m=0;m<u.length;m++){var f=u[m];if(""!=f){var g=gr().chunk(f,null,this.ignoreFormatting),y=0,v=!0,b=!1,x=this.getLineInfo(m);x?(x.text="",x.element.textContent=""):(x={text:"",element:this.getSVGLineElement("",0),complex:!1},c.add(x.element)),x.element.removeAttr("display"),x.element.removeChildren(),this.textPathElement&&x.element.add(this.textPathElement);for(var C=0;C<g.length;C++){C&&(x.complex=!0);var S=g[C];if("format"===S.type)p=S.text;else {if(b)continue;if(x.text=S.text,x.style=gr().translateStyleShortcuts(p),this.textPathElement?this.getSvgElement(x.text,x.style,this.textPathElement):this.getSvgElement(x.text,x.style,x.element),this.getLineBBox(x),x.bbox.width=Math.ceil(x.bbox.width),y<x.bbox.height&&(y=x.bbox.height),(this.wrap||this.truncate)&&x.bbox.width>r){this.isOversized=!0;var _=x.element.textContent,P=x.bbox.width/_.length,w=ie(Math.ceil((x.bbox.width-r)/P),_.length);if(this.truncate){var I=!1,T=x.element.node;if(T&&T.childNodes)for(var A=x.element.node.childNodes.length-1;A>=0;A--){var O=x.element.node.childNodes[A];if(I&&x.bbox.width<=r&&(O.textContent+=" "+this.ellipsis,x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),x.bbox.width<=r))break;I=!1;var k=O.textContent;for(_=x.element.textContent,w=ie(Math.ceil((x.bbox.width-r)/P),_.length);x.bbox.width>r&&w<=_.length&&w>0;){(M=te(_.length-w-this.ellipsis.length,1))<=1&&(w=0,A>0&&(I=!0,x.element.node.removeChild(O))),(k=li(k,M,this.ellipsis,this.fullWords,this.rtl)).length>M&&this.fullWords&&(k=li(k,M,this.ellipsis,!1,this.rtl)),O.textContent=k,x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),w=Math.ceil(1.1*w);}b=!0;}}else {if(x.element.node){for(var F=x.element.node.lastChild,D=void 0;x.bbox.width>r&&w<=_.length&&w>0;){var M=te(S.text.length-w,1);if(v?D=si(S.text,M,!0,this.rtl):((D=si(S.text,M,!0,this.rtl,!1))[0].length>M||1===M)&&(x.element.node.removeChild(F),w=0),w>0){var L=D.shift();v&&(L=ui(L)),F.textContent=gr().cleanUp(L);}x.bbox=x.element.getBBox(),x.bbox.width=Math.floor(x.bbox.width),w++;}if(D.length>0){var E="";j(D)&&(this.rtl?E+=D.join("")+p:E+=p+D.join("").replace(/([\[\]]{1})/g,"$1$1"));for(var V=C+1;V<g.length;V++)"value"==g[V].type?E+=g[V].text.replace(/([\[\]]{1})/g,"$1$1"):E+=g[V].text;u.splice(m+1,0,E);}b=!0;}}}this.bbox.width<x.bbox.width&&(this.bbox.width=x.bbox.width),this.bbox.height=h+y,this.textPathElement?x.element.attr({dy:-this.paddingBottom.toString()}):x.element.attr({x:"0",y:h+y,dy:K(this.baseLineRatio*y,3).toString()}),v=!1;}}var R=x.element.node;if(R)(F=R.lastChild)&&(F.textContent=this.rtl?F.textContent.replace(/^[\s\uFEFF\xA0]+/g,""):di(F.textContent));h+=y,this.addLineInfo(x,m);}else {var B=this.getSVGLineElement("",0);B.add(this.getSvgElement(".",gr().translateStyleShortcuts(p))),c.add(B);var N=Math.ceil(B.getBBox().height);N>0&&(h+=N),c.removeElement(B);var W=this.getLineInfo(m);W&&(W.text="",W.element.textContent="");}}this.maybeHideOversized(),this.measureFailed=!1,0!=this.bbox.width&&0!=this.bbox.height||(this.measureFailed=!0),this._measuredWidth=K(te(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight)),this._measuredHeight=K(te(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom)),this.alignSVGText(),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,i==this._measuredHeight&&t==this._measuredWidth||this.dispatch("transformed"),this.hideUnused(u.length);}else {this.element.removeAttr("display"),this.resetBBox(),(c=this.element).removeChildren(),this.setCache("lineInfo",[],0);var z=this.paper.foreignObject();c.add(z),this.maxWidth&&z.attr({width:this.maxWidth-this.pixelPaddingLeft-this.pixelPaddingRight}),this.maxHeight&&z.attr({height:this.maxHeight-this.pixelPaddingTop-this.pixelPaddingBottom});var H=this.getHTMLLineElement(l);z.node.appendChild(H),H.style.display="inline-block";var G=H.clientWidth,U=H.clientHeight;H.style.display="block",this._bbox={x:0,y:0,width:G,height:U},z.attr({width:G+1,height:U}),this.maybeHideOversized(),this._measuredWidth=te(this.bbox.width,this.pixelWidth-this.pixelPaddingLeft-this.pixelPaddingRight),this._measuredHeight=te(this.bbox.height,this.pixelHeight-this.pixelPaddingTop-this.pixelPaddingBottom),this.bbox.width=this._measuredWidth,this.bbox.height=this._measuredHeight,this.truncate&&(H.style.overflow="hidden"),(G>r||U>a)&&(this.isOversized=!0);}this.setStyles(),this.updateCenter(),this.updateBackground(),"none"==d&&this.group.attr({display:"none"}),this.pathElement&&this.paper.appendDef(this.pathElement);}else this.element.attr({display:"none"});}}else n.events.once("maxsizechanged",this.hardInvalidate,this,!1);},t.prototype.maybeHideOversized=function(){this.hideOversized&&(this.availableWidth<this.bbox.width||this.availableHeight<this.bbox.height?(this.element.attr({display:"none"}),this.isOversized=!0):(this.element.removeAttr("display"),this.isOversized=!1));},t.prototype.alignSVGText=function(){var e=this.element,t=e.node.children||e.node.childNodes;if(t&&(!t||0!=t.length)){var i=this._measuredWidth,n=this._measuredHeight;this.pixelPaddingLeft,this.pixelPaddingRight,this.pixelPaddingTop,this.pixelPaddingBottom,this.rtl?e.attr({direction:"rtl"}):e.removeAttr("direction");for(var r=t.length-1;r>=0;r--){var a=t[r];if(a.setAttribute("text-anchor",this.textAlign),this.textPathElement)a.removeAttribute("x"),a.removeAttribute("y");else {switch(this.textAlign){case"middle":a.setAttribute("x",(i/2).toString()+"px");break;case"end":this.rtl||a.setAttribute("x",i.toString());break;default:this.rtl?a.setAttribute("x",i.toString()):a.removeAttribute("text-anchor");}var o=M(a.getAttribute("y"));switch(this.textValign){case"middle":a.setAttribute("y",((o||0)+(n-this.bbox.height)/2).toString());break;case"bottom":a.setAttribute("y",((o||0)+n-this.bbox.height).toString());break;default:a.setAttribute("y",(o||0).toString());}}}}},t.prototype.getSVGLineElement=function(e,t){var i=this.paper.addGroup("text");return i.textContent=e,i.attr({x:"0"}),j(t)&&i.attr({y:t.toString()}),(this.truncate||this.wrap)&&i.attr({overflow:"hidden"}),i},Object.defineProperty(t.prototype,"rtl",{get:function(){return j(this._rtl)?this._rtl:!!this._topParent&&this._topParent.rtl},set:function(e){e=D(e),this._rtl=e,this.element&&this.alignSVGText();},enumerable:!0,configurable:!0}),t.prototype.resetBBox=function(){this._bbox={x:0,y:0,width:0,height:0};},t.prototype.getHTMLLineElement=function(e){var t=document.createElement("div");switch(t.innerHTML=e,this.textAlign){case"middle":t.style.textAlign="center";break;case"end":t.style.textAlign="right";}return this.wrap?t.style.wordWrap="break-word":t.style.whiteSpace="nowrap",this.rtl&&(t.style.direction="rtl"),j(this.fill)&&(t.style.color=this.fill.toString()),t},t.prototype.setStyles=function(){var e=this.element;!this.selectable||this.draggable||this.resizable||this.swipeable?e.addStyle({webkitUserSelect:"none",msUserSelect:"none"}):this.selectable&&(e.removeStyle("webkitUserSelect"),e.removeStyle("msUserSelect"));},t.prototype.hideUnused=function(e){this.initLineCache();var t=this.getCache("lineInfo");if(t.length>=e)for(var i=e;i<t.length;i++){var n=t[i];n&&n.element&&n.element.attr({display:"none"});}},Object.defineProperty(t.prototype,"text",{get:function(){return this.getPropertyValue("text")},set:function(e){this.setPropertyValue("text",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.getPropertyValue("path")},set:function(e){this.setPropertyValue("path",e,!0)&&(this.pathElement&&this.pathElement.dispose(),this.textPathElement&&this.textPathElement.dispose(),this.pathElement=this.paper.add("path"),this.pathElement.attr({d:e}),this.pathElement.attr({id:"text-path-"+this.uid}),this._disposers.push(this.pathElement),this.textPathElement=this.paper.addGroup("textPath"),this.textPathElement.attrNS(pn,"xlink:href","#text-path-"+this.uid),this.textPathElement.attr({path:e}),this._disposers.push(this.textPathElement),this.hardInvalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationOnPath",{get:function(){return this.getPropertyValue("locationOnPath")},set:function(e){this.setPropertyValue("locationOnPath",e),this.textPathElement&&this.textPathElement.attr({startOffset:100*e+"%"});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseLineRatio",{get:function(){return this.getPropertyValue("baseLineRatio")},set:function(e){this.setPropertyValue("baseLineRatio",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wrap",{get:function(){return this.getPropertyValue("wrap")},set:function(e){this.resetBBox(),this.setPropertyValue("wrap",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truncate",{get:function(){return this.getPropertyValue("truncate")},set:function(e){this.resetBBox(),this.setPropertyValue("truncate",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWords",{get:function(){return this.getPropertyValue("fullWords")},set:function(e){this.setPropertyValue("fullWords",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ellipsis",{get:function(){return this.getPropertyValue("ellipsis")},set:function(e){this.setPropertyValue("ellipsis",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this.getPropertyValue("selectable")},set:function(e){this.setPropertyValue("selectable",e,!0),this.setStyles();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this.getPropertyValue("textAlign")},set:function(e){this.setPropertyValue("textAlign",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textValign",{get:function(){return this.getPropertyValue("textValign")},set:function(e){this.setPropertyValue("textValign",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.getPropertyValue("html")},set:function(e){(this.setPropertyValue("html",e,!0),j(e))||this.element.removeChildrenByTag("foreignObject");},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){if(e.prototype.setFill.call(this,t),this.html)for(var i=this.element.node.getElementsByTagName("div"),n=0;n<i.length;n++){var r=i[n];j(this.fill)&&(r.style.color=this.fill.toString());}},Object.defineProperty(t.prototype,"hideOversized",{get:function(){return this.getPropertyValue("hideOversized")},set:function(e){this.setPropertyValue("hideOversized",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ignoreFormatting",{get:function(){return this.getPropertyValue("ignoreFormatting")},set:function(e){this.setPropertyValue("ignoreFormatting",e,!0);},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},t.prototype.getLineInfo=function(e){this.initLineCache();var t=this.getCache("lineInfo");return t.length>e?t[e]:void 0},t.prototype.addLineInfo=function(e,t){this.initLineCache(),this.getCache("lineInfo")[t]=e;},t.prototype.initLineCache=function(){j(this.getCache("lineInfo"))||this.setCache("lineInfo",[],0);},t.prototype.setDataItem=function(t){this._sourceDataItemEvents&&this._sourceDataItemEvents.dispose(),t&&(this._sourceDataItemEvents=new Re([t.events.on("valuechanged",this.invalidate,this,!1),t.events.on("workingvaluechanged",this.invalidate,this,!1),t.events.on("calculatedvaluechanged",this.invalidate,this,!1),t.events.on("propertychanged",this.invalidate,this,!1)])),e.prototype.setDataItem.call(this,t);},Object.defineProperty(t.prototype,"availableWidth",{get:function(){return j(this.maxWidth)?this.maxWidth:this.pixelWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"availableHeight",{get:function(){return j(this.maxHeight)?this.maxHeight:this.pixelHeight},enumerable:!0,configurable:!0}),t.prototype.getSvgElement=function(e,t,i){var n=this.paper.add("tspan");return n.textContent=e,t&&n.node.setAttribute("style",t),i&&i.add(n),n},t.prototype.deepInvalidate=function(){e.prototype.deepInvalidate.call(this),this.hardInvalidate();},Object.defineProperty(t.prototype,"readerTitle",{get:function(){var e=this.getPropertyValue("readerTitle");return e?this.dataItem&&(e=this.populateString(e)):e=this.populateString(fi(ti(this.html)?this.html:this.text)),e},set:function(e){e=L(e),this.setPropertyValue("readerTitle",e)&&this.applyAccessibility();},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.Label=Kr,Ur.push({relevant:qr.heightXS,state:function(e,t){if(e instanceof Kr&&e.parent&&e.parent.isBaseSprite){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Xr=function(e){function t(){var t=e.call(this)||this;return t.className="RoundedRectangle",t.element=t.paper.add("path"),t.cornerRadius(3,3,3,3),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,i=this.innerHeight;if(W(t)&&W(i)){var n=ie(t,i)/2,r=ii(this.cornerRadiusTopLeft,n),a=ii(this.cornerRadiusTopRight,n),o=ii(this.cornerRadiusBottomRight,n),s=ii(this.cornerRadiusBottomLeft,n),l=ie(Math.abs(t/2),Math.abs(i/2)),u=J(r,0,l),d=J(a,0,l),c=J(o,0,l),h=J(s,0,l),p="M"+u+",0 L"+(t-d)+",0"+(" a"+d+","+d+" 0 0 1 "+d+","+d)+(" L"+t+","+(i-c))+(" a"+c+","+c+" 0 0 1 -"+c+","+c)+(" L"+h+","+i)+(" a"+h+","+h+" 0 0 1 -"+h+",-"+h)+(" L0,"+u)+(" a"+u+","+u+" 0 0 1 "+u+",-"+u)+" Z";this.path=p;}},t.prototype.cornerRadius=function(e,t,i,n){this.cornerRadiusTopLeft=e,this.cornerRadiusTopRight=t,this.cornerRadiusBottomLeft=i,this.cornerRadiusBottomRight=n;},Object.defineProperty(t.prototype,"cornerRadiusTopLeft",{get:function(){return this.getPropertyValue("cornerRadiusTopLeft")},set:function(e){this.setPercentProperty("cornerRadiusTopLeft",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusTopRight",{get:function(){return this.getPropertyValue("cornerRadiusTopRight")},set:function(e){this.setPercentProperty("cornerRadiusTopRight",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomRight",{get:function(){return this.getPropertyValue("cornerRadiusBottomRight")},set:function(e){this.setPercentProperty("cornerRadiusBottomRight",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadiusBottomLeft",{get:function(){return this.getPropertyValue("cornerRadiusBottomLeft")},set:function(e){this.setPercentProperty("cornerRadiusBottomLeft",e,!0);},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?{x:0,y:0,width:this.innerWidth,height:this.innerHeight}:{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.RoundedRectangle=Xr;var Jr=function(e){function t(){var t=e.call(this)||this;t.className="Button",t.tooltipY=0,t.iconPosition="left",t.layout="horizontal",t.contentAlign="center",t.contentValign="middle",t.padding(8,16,8,16),t.setStateOnChildren=!0;var i=new Fn,n=t.background;n.fill=i.getFor("secondaryButton"),n.stroke=i.getFor("secondaryButtonStroke"),n.fillOpacity=1,n.strokeOpacity=1,n.cornerRadius(3,3,3,3),t.label=new Kr,t.label.fill=i.getFor("secondaryButtonText"),t.label.shouldClone=!1;var r=n.states.create("hover");r.properties.fillOpacity=1,r.properties.fill=i.getFor("secondaryButtonHover");var a=n.states.create("down");return a.transitionDuration=100,a.properties.fill=i.getFor("secondaryButtonDown"),a.properties.fillOpacity=1,t.role="button",t.focusable=!0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this._icon},set:function(e){var t=this._icon;t&&(t.parent=void 0),e&&(this._icon=e,e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this.iconPosition=this.iconPosition,this._disposers.push(e));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconPosition",{get:function(){return this.getPropertyValue("iconPosition")},set:function(e){this.setPropertyValue("iconPosition",e),this.icon&&("left"==e?this.icon.toBack():this.icon.toFront());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label},set:function(e){this._label&&this.removeDispose(this._label),this._label=e,e&&(e.parent=this,e.interactionsEnabled=!1,this._disposers.push(this._label));},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new Xr},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.label&&this.label.copyFrom(t.label),t.icon&&(this.icon=t.icon.clone());},t}(Lr);St.registeredClasses.Button=Jr;var Zr=function(e){function t(){var t=e.call(this)||this;return t.className="Circle",t.element=t.paper.add("circle"),t.setPercentProperty("radius",A(100)),t.setPropertyValue("horizontalCenter","middle"),t.setPropertyValue("verticalCenter","middle"),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({r:this.pixelRadius});},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return ii(this.radius,ie(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),t.prototype.measureElement=function(){var e=this.pixelRadius;this._bbox={x:-e,y:-e,width:2*e,height:2*e};},t}(Dr);St.registeredClasses.Circle=Zr;var Qr=function(e){function t(){var t=e.call(this)||this;return t.className="Ellipse",t.element=t.paper.add("ellipse"),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.element.attr({rx:this.radius}),this.element.attr({ry:this.radiusY});},Object.defineProperty(t.prototype,"radiusY",{get:function(){return this.innerHeight/2},set:function(e){this.height=2*e,this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.innerWidth/2},set:function(e){this.width=2*e,this.invalidate();},enumerable:!0,configurable:!0}),t}(Zr);St.registeredClasses.Ellipse=Qr;var ea=function(e){function t(){var t=e.call(this)||this;return t.className="Image",t.element=t.paper.add("image"),t.applyTheme(),t.width=50,t.height=50,t}return x(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),this.href){var t=this.innerWidth,i=this.innerHeight;W(this.widthRatio)&&(t=i*this.widthRatio,this.width=t),W(this.heightRatio)&&(i=t*this.heightRatio,this.height=i),this.element.attr({width:t,height:i}),this.element.attrNS(pn,"xlink:href",this.href);}},Object.defineProperty(t.prototype,"href",{get:function(){return this.getPropertyValue("href")},set:function(e){this.setPropertyValue("href",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widthRatio",{get:function(){return this.getPropertyValue("widthRatio")},set:function(e){this.setPropertyValue("widthRatio",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heightRatio",{get:function(){return this.getPropertyValue("heightRatio")},set:function(e){this.setPropertyValue("heightRatio",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bbox",{get:function(){return {x:0,y:0,width:this.pixelWidth,height:this.pixelHeight}},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Image=ea;var ta=function(e){function t(){var t=e.call(this)||this;return t.className="Line",t.element=t.paper.add("line"),t.fill=Yt(),t.x1=0,t.y1=0,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.x1==this.x2||this.y1==this.y2?this.pixelPerfect=!0:this.pixelPerfect=!1,this.x1=this.x1,this.x2=this.x2,this.y1=this.y1,this.y2=this.y2;},Object.defineProperty(t.prototype,"x1",{get:function(){return this.getPropertyValue("x1")},set:function(e){W(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof ur&&(t=1e-5),this.setPropertyValue("x1",e,!0),this.element.attr({x1:e+t});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){var e=this.getPropertyValue("x2");return W(e)||(e=this.pixelWidth),e},set:function(e){W(e)||(e=0),this.setPropertyValue("x2",e,!0),this.element.attr({x2:e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.getPropertyValue("y1")},set:function(e){W(e)||(e=0);var t=0;this.pixelPerfect&&this.stroke instanceof ur&&(t=1e-5),this.setPropertyValue("y1",e,!0),this.element.attr({y1:e+t});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){var e=this.getPropertyValue("y2");return W(e)||(e=this.pixelHeight),e},set:function(e){W(e)||(e=0),this.setPropertyValue("y2",e,!0),this.element.attr({y2:e});},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},i={x:this.x2,y:this.y2},n=le(t,i,e),r=ue(t,i);return {x:n.x,y:n.y,angle:r}},t}(Dr);St.registeredClasses.Line=ta;var ia=function(e){function t(){var t=e.call(this)||this;return t.className="PointedRectangle",t.element=t.paper.add("path"),t.cornerRadius=6,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.cornerRadius,i=this.innerWidth,n=this.innerHeight;if(i>0&&n>0){var r,a,o=this.pointerX,s=this.pointerY,l=this.pointerBaseWidth/2,u=ie(i/2,n/2),d=J(t,0,u),c=J(t,0,u),h=J(t,0,u),p=J(t,0,u),m=void 0,f=void 0,g=void 0,y=void 0,v=(o-0)*(n-0)-(s-0)*(i-0),b=(o-0)*(0-n)-(s-n)*(i-0);if(v>0&&b>0)m="M"+d+",0 L"+((r=J(o,d+l,i-l-c))-l)+",0 L"+o+","+(s=J(s,-1/0,0))+" L"+(r+l)+",0 L"+(i-c)+",0";else m="M"+d+",0 L"+(i-c)+",0";if(v<0&&b<0)g=" L"+(i-h)+","+n+" L"+((r=J(o,p+l,i-l-h))+l)+","+n+" L"+o+","+(s=J(s,n,1/0))+" L"+(r-l)+","+n+" L"+p+","+n;else g=" L"+p+","+n;if(v<0&&b>0)y=" L0,"+(n-p)+" L0,"+((a=J(s,d+l,n-p-l))+l)+" L"+(o=J(o,-1/0,0))+","+s+" L0,"+(a-l)+" L0,"+d;else y=" L0,"+d;if(v>0&&b<0)f=" L"+i+","+c+" L"+i+","+((a=J(s,c+l,n-l-h))-l)+" L"+(o=J(o,i,1/0))+","+s+" L"+i+","+(a+l)+" L"+i+","+(n-h);else f=" L"+i+","+(n-h);var x=" a"+c+","+c+" 0 0 1 "+c+","+c,C=" a"+h+","+h+" 0 0 1 -"+h+","+h,S=" a"+p+","+p+" 0 0 1 -"+p+",-"+p,_=" a"+d+","+d+" 0 0 1 "+d+",-"+d;this.path=m+x+f+C+g+S+y+_;}},Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0);},enumerable:!0,configurable:!0}),t}(function(e){function t(){var t=e.call(this)||this;return t.className="PointedShape",t.pointerBaseWidth=15,t.pointerLength=10,t.pointerY=0,t.pointerX=0,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),W(this.pointerX)||(this.pointerX=this.pixelWidth/2),W(this.pointerY)||(this.pointerY=this.pixelHeight+10);},Object.defineProperty(t.prototype,"pointerBaseWidth",{get:function(){return this.getPropertyValue("pointerBaseWidth")},set:function(e){this.setPropertyValue("pointerBaseWidth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerLength",{get:function(){return this.getPropertyValue("pointerLength")},set:function(e){this.setPropertyValue("pointerLength",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this.getPropertyValue("pointerX")},set:function(e){this.setPropertyValue("pointerX",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this.getPropertyValue("pointerY")},set:function(e){this.setPropertyValue("pointerY",e,!0);},enumerable:!0,configurable:!0}),t}(Dr));function na(e){var t=aa(e[0]),i={x:0,y:0},n=nn.minPolylineStep;W(n)||(n=.5);for(var r=0,a=e.length;r<a;r++){var o=e[r];ae(o,i)>n&&(t+=aa(o),i=o);}return t}function ra(e){return " M"+K(e.x,4)+","+K(e.y,4)+" "}function aa(e){return " L"+K(e.x,4)+","+K(e.y,4)+" "}function oa(e,t){return " Q"+K(t.x,4)+","+K(t.y,4)+" "+K(e.x,4)+","+K(e.y,4)}function sa(e,t,i){return " C"+K(t.x,4)+","+K(t.y,4)+" "+K(i.x,4)+","+K(i.y,4)+" "+K(e.x,4)+","+K(e.y,4)}function la(e,t,i,n){if(0==t)return "";W(n)||(n=i);var r="",a=",",o=Math.ceil(Math.abs(t)/180),s=1;t<0&&(s=0);var l=0,u=0,d=-ee(e)*i,c=-Z(e)*n;if(t<.5&&i>3e3)return aa({x:m=K(ee(p=e+t)*i,4),y:f=K(Z(p)*n,4)});for(var h=0;h<o;h++){var p,m,f;r+=" a"+i+a+n+a+0+a+0+a+s+a+(m=K(ee(p=e+t/o*(h+1))*i+d-l,4))+a+(f=K(Z(p)*n+c-u,4)),l=m,u=f;}return r}function ua(e,t,i,n,r,a,o){if(0==t)return "";if(W(n)||(n=0),0==i&&n<=0)return "";if(i<n){var s=i;i=n,n=s,W(r)&&(r=r/n*i);}360==(t=ie(t,360))&&(a=0,o=0);var l=e+t,u=Z(ie(t,45)/2),d=(r=W(r)?r:i)/i*n,c=r/i*(a=a||0),h=r/i*(o=W(o)?o:a);a=J(a,0,(i-n)/2),c=J(c,0,(r-d)/2),o=J(o,0,(i-n)/2),h=J(h,0,(r-d)/2),a=K(J(a,0,i*u),4),c=K(J(c,0,r*u),4),o=K(J(o,0,n*u),4),h=K(J(h,0,d*u),4);var p=Math.asin(a/i/2)*$*2,m=Math.asin(c/r/2)*$*2;n<o&&(n=o),d<h&&(d=h);var f=Math.asin(o/n/2)*$*2,g=Math.asin(h/d/2)*$*2;W(f)||(f=0),W(g)||(g=0);var y=e+t/2,v={x:K(ee(y)*n,4),y:Z(y)*d},b={x:ee(e)*(n+o),y:Z(e)*(d+h)},x={x:ee(e)*(i-a),y:Z(e)*(r-c)},C={x:ee(l)*(i-a),y:Z(l)*(r-c)},S={x:ee(l)*(n+o),y:Z(l)*(d+h)},_={x:ee(e+p)*i,y:Z(e+m)*r},P={x:ee(l-f)*n,y:Z(l-g)*d};o+=o*Z(f/2),h+=h*Z(g/2),f>(l-e)/2&&(P=v);var w="";return 360==t?w=ra(x):(w=ra(b),w+=aa(x),w+=da(_,a,c,!0)),w+=la(e+p,t-2*p,i,r),W(n)&&0!=n?(360==t&&0==a?w+=ra(S):(w+=da(C,a,c,!0),w+=aa(S),w+=da(P,o,h,!0)),w+=la(l-f,-(t-2*f),n,d),(t<360||a>0)&&(w+=da(b,o,h,!0)),w+=aa(b)):(w+=da(C,a,c,!0),t<360&&(w+=aa(b))),w}function da(e,t,i,n,r,a){if(0==t)return "";var o=",";return " A"+t+o+i+o+(a=a||0)+o+ +(r=Boolean(r))+o+ +(n=Boolean(n))+o+K(e.x,4)+o+K(e.y,4)}function ca(e,t,i,n){return W(i)||(i=0),W(n)||(n=0),ra({x:i,y:n})+aa({x:i+e,y:n})+aa({x:i+e,y:n+t})+aa({x:i,y:n+t})+" Z"}function ha(e,t){var i=",",n=" L";return t?"M"+e.x+i+e.y+n+e.x+i+(e.y+e.height)+n+(e.x+e.width)+i+(e.y+e.height)+n+(e.x+e.width)+i+e.y+n+e.x+i+e.y:"M"+e.x+i+e.y+n+(e.x+e.width)+i+e.y+n+(e.x+e.width)+i+(e.y+e.height)+n+e.x+i+(e.y+e.height)+n+e.x+i+e.y}var pa=function(e){function t(){var t=e.call(this)||this;return t._distance=0,t.className="Polyline",t.element=t.paper.add("path"),t.shapeRendering="auto",t.fill=Yt(),t.strokeOpacity=1,t.applyTheme(),t}return x(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){for(var t="",i=0,n=e.length;i<n;i++){var r=e[i];if(r.length>0){t+=ra(r[0]);for(var a=1;a<r.length;a++){var o=r[a];t+=aa(o),this._distance+=ae(r[a-1],o);}}}this.path=t;}this._realSegments=e;},Object.defineProperty(t.prototype,"segments",{get:function(){return this.getPropertyValue("segments")},set:function(e){this.setPropertyValue("segments",e),this.makePath();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t=0;e<0&&(e=Math.abs(e),t=180);var i=this._realSegments;if(i){for(var n=this.distance,r=0,a=0,o=0,s=void 0,l=void 0,u=0;u<i.length;u++){var d=i[u];if(d.length>1){for(var c=1;c<d.length;c++)if(a=r/n,o=(r+=ae(s=d[c-1],l=d[c]))/n,a<=e&&o>e){u=i.length;break}}else 1==d.length&&(s=d[0],l=d[0],a=0,o=1);}if(s&&l){var h=le(s,l,(e-a)/(o-a));return {x:h.x,y:h.y,angle:t+ue(s,l)}}}return {x:0,y:0,angle:0}},Object.defineProperty(t.prototype,"realSegments",{get:function(){return this._realSegments},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Polyline=pa;var ma=function(e){function t(){var t=e.call(this)||this;return t.className="Polyarc",t.controlPointDistance=.5,t.controlPointPosition=.5,t.applyTheme(),t}return x(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments;if(e&&e.length>0){var t="";this._realSegments=[];for(var i=0,n=e.length;i<n;i++){var r=e[i],a=[];if(this._realSegments.push(a),r.length>0){t+=ra(r[0]);for(var o=1;o<r.length;o++){var s=r[o-1],l=r[o],u=ae(l,s),d=u*this.controlPointDistance,c=this.controlPointPosition,h=-ue(s,l),p={x:s.x+(l.x-s.x)*c*.5-d*Z(h),y:s.y+(l.y-s.y)*c*.5-d*ee(h)},m={x:s.x+(l.x-s.x)*c*1.5-d*Z(h),y:s.y+(l.y-s.y)*c*1.5-d*ee(h)};t+=sa(l,p,m);var f=Math.ceil(u),g=s;if(f>0)for(var y=0;y<=f;y++){var v=pe(s,l,p,m,y/f);a.push(v),this._distance+=ae(g,v),g=v;}else a.push(s);}}}this.path=t;}},Object.defineProperty(t.prototype,"controlPointPosition",{get:function(){return this.getPropertyValue("controlPointPosition")},set:function(e){this.setPropertyValue("controlPointPosition",e),this.makePath();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e),this.makePath();},enumerable:!0,configurable:!0}),t}(pa);St.registeredClasses.Polyarc=ma;var fa=function(e){function t(t){var i=e.call(this)||this;return i._bboxes=[],i.morphDuration=800,i.morphEasing=qi,i.morphToSingle=!0,i.scaleRatio=1,i.className="Morpher",i.morphable=t,i.applyTheme(),i}return x(t,e),t.prototype.morphToPolygon=function(e,t,i){var n=this.morphable.currentPoints;if(n&&e){this.sortPoints(n),this.sortPoints(e),this._morphFromPointsReal=[],this._morphToPointsReal=[],j(t)||(t=this.morphDuration),j(i)||(i=this.morphEasing),this._morphFromPointsReal=this.normalizePoints(e,n),this._morphToPointsReal=this.normalizePoints(n,e),this.morphable.currentPoints=this._morphFromPointsReal;var r=new dn(this,{property:"morphProgress",from:0,to:1},t,i);return this._disposers.push(r),r.start(),r}},t.prototype.normalizePoints=function(e,t){for(var i=0,n=e.length;i<n;i++){var r=e[i][0],a=e[i][1],o=V(de(r)),s=o.x+o.width,l=o.y+o.height;if(t[i]||(t[i]=[]),r&&!t[i][0]&&(t[i][0]=[{x:s,y:l},{x:s,y:l}]),t[i][0]){t[i][0]=this.addPoints(t[i][0],r.length);for(var u=1/0,d=0,c=0;c<t[i][0].length;c++){var h=ae(t[i][0][c],r[0]);h<u&&(d=c,u=h);}var p=t[i][0].slice(0,d),m=t[i][0].slice(d);t[i][0]=m.concat(p);}a&&(t[i][1]||(t[i][1]=[{x:s,y:l},{x:s,y:l}]),t[i][1]=this.addPoints(t[i][1],a.length));}return t},t.prototype.sortPoints=function(e){e.sort((function(e,t){var i=V(de(e[0])),n=V(de(t[0]));return i.width*i.height>n.width*n.height?-1:1}));for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i][0];r&&t.push(V(de(r)));}return ce(t)},t.prototype.morphToCircle=function(e,t,i){var n=this.morphable.points,r=this.sortPoints(n);this._morphFromPointsReal=[],this._morphToPointsReal=[],j(t)||(t=this.morphDuration),j(i)||(i=this.morphEasing);for(var a=0,o=n.length;a<o;a++){var s=n[a][0],l=n[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var u=s,d=s,c=V(de(d));this.morphToSingle&&(c=V(r));var h=c.x+c.width/2,p=c.y+c.height/2,m=e;W(m)||(m=Math.min(c.width/2,c.height/2)),u=[];var f=ue({x:h,y:p},s[0]),g=100;s.length>g&&(g=s.length);for(var y=360/((g=(d=this.addPoints(s,g)).length)-1),v=0;v<g;v++){var b=y*v+f,x={x:h+m*ee(b),y:p+m*Z(b)};u[v]=x;}if(l&&l.length>0)for(var C=0,S=l.length;C<S;C++)u.push({x:h,y:p});this._morphFromPointsReal[a][0]=d,this._morphToPointsReal[a][0]=u;}}this.morphable.currentPoints=this._morphFromPointsReal;var _=new dn(this,{property:"morphProgress",from:0,to:1},t,i);return this._disposers.push(_),_.start(),_},t.prototype.addPoints=function(e,t){for(var i=Math.round(t/e.length),n=[],r=0,a=e.length;r<a;r++){var o=e[r],s=void 0;s=r==e.length-1?e[0]:e[r+1],n.push(o);for(var l=1;l<i;l++){var u=l/i,d={x:o.x+(s.x-o.x)*u,y:o.y+(s.y-o.y)*u};n.push(d);}n.length+e.length-r==t&&(i=0);}if(n.length<t&&e.length>0){var c=e[e.length-1];for(l=n.length;l<t;l++)n.push({x:c.x,y:c.y});}return n},t.prototype.morphToRectangle=function(e,t,i,n){var r=this.morphable.points;this.sortPoints(r),this._morphFromPointsReal=[],this._morphToPointsReal=[],j(i)||(i=this.morphDuration),j(n)||(n=this.morphEasing);for(var a=0,o=r.length;a<o;a++){var s=r[a][0],l=r[a][1];if(this._morphFromPointsReal[a]=[],this._morphToPointsReal[a]=[],s){var u=s,d=s,c=this._bboxes[a];this.morphToSingle;var h=c.x,p=c.y,m=e,f=t;if(W(m)||(m=c.width),W(f)||(f=c.height),u=[{x:h,y:p},{x:h+m,y:p},{x:h+m,y:p+f},{x:h,y:p+f}],u=this.addPoints(u,s.length),s.length<4)for(var g=s.length;g<4;g++)u.push({x:s[g].x,y:s[g].y});if(l&&l.length>0)for(var y=c.x+c.width/2,v=c.y+c.height/2,b=0,x=l.length;b<x;b++)u.push({x:y,y:v});this._morphFromPointsReal[a][0]=d,this._morphToPointsReal[a][0]=u;}}this.morphable.currentPoints=this._morphFromPointsReal;var C=new dn(this,{property:"morphProgress",from:0,to:1},i,n);return this._disposers.push(C),C.start(),C},Object.defineProperty(t.prototype,"morphProgress",{get:function(){return this._morphProgress},set:function(e){this._morphProgress=e;var t=[];if(null!=e){var i=this._morphFromPointsReal,n=this._morphToPointsReal;if(null!=i&&null!=n)for(var r=0,a=i.length;r<a;r++){var o=[];t.push(o);var s=i[r][0],l=i[r][1],u=n[r][0],d=n[r][1];if(s&&s.length>0&&u&&u.length>0){for(var c=[],h=0,p=s.length;h<p;h++){var m=s[h],f=u[h],g={x:m.x+(f.x*this.scaleRatio-m.x)*e,y:m.y+(f.y*this.scaleRatio-m.y)*e};c.push(g);}o[0]=c;}if(l&&l.length>0&&d&&d.length>0){for(var y=[],v=0,b=l.length;v<b;v++){m=l[v],f=d[v],g={x:m.x+(f.x*this.scaleRatio-m.x)*e,y:m.y+(f.y*this.scaleRatio-m.y)*e};y.push(g);}o[1]=y;}}}this.morphable.currentPoints=t;},enumerable:!0,configurable:!0}),t.prototype.morphBack=function(e,t){this._morphToPointsReal=this._morphFromPointsReal,this._morphFromPointsReal=this.morphable.currentPoints,j(e)||(e=this.morphDuration),j(t)||(t=this.morphEasing);var i=new dn(this,{property:"morphProgress",from:0,to:1},e,t);return this._disposers.push(i),i.start(),i},Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new un(this._animations))),this._animations},enumerable:!0,configurable:!0}),t}(Xt),ga=function(e){function t(){var t=e.call(this)||this;return t.className="Polygon",t.element=t.paper.add("path"),t.shapeRendering="auto",t._currentPoints=[],t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"points",{get:function(){var e=this.getPropertyValue("points"),t=this.path;if(t&&(!e||0==e.length)){for(var i=t.slice(1,t.length-1).split("ZM"),n=0;n<i.length;n++){var r=i[n];if(r.length>0){var a=r.split("M"),o=a[0],s=a[1];if(o&&o.length>0){var l=o.split("L");if(l.length>0){var u=[],d=[u];e.push(d);for(var c=0;c<l.length;c++){var h=l[c].split(",");u.push({x:+h[0],y:+h[1]});}if(s&&s.length>0){var p=s.split("L");if(p.length>0){var m=[];d.push(m);for(c=p.length-1;c>=0;c--){h=p[c].split(",");m.push({x:+h[0],y:+h[1]});}}}}}}}this.setPropertyValue("points",e),this._currentPoints=e;}return e},set:function(e){this.setPropertyValue("points",e,!0),this._currentPoints=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentPoints",{get:function(){return this._currentPoints&&0!=this._currentPoints.length||!this.path||(this._currentPoints=this.points),this._currentPoints},set:function(e){this._currentPoints!=e&&(this._currentPoints=e,this.draw());},enumerable:!0,configurable:!0}),t.prototype.draw=function(){var t,i,n,r,a="",o=this._currentPoints;if(o.length>0){for(var s=0,l=o.length;s<l;s++){var u=o[s][0],d=o[s][1];if(u&&u.length>0){a+=ra(h=u[0]);for(var c=0;c<u.length;c++)a+=aa(h=u[c]),(!W(i)||i<h.x)&&(i=h.x),(!W(t)||t>h.x)&&(t=h.x),(!W(n)||n>h.y)&&(n=h.y),(!W(r)||r<h.y)&&(r=h.y);}if(d&&d.length>0){var h;a+=ra(h=d[0]);for(var p=0,m=d.length;p<m;p++)a+=aa(h=d[p]);}}a&&(a+=" Z"),this.bbox.x=t,this.bbox.y=n,this.bbox.width=i-t,this.bbox.height=r-n,e.prototype.setPath.call(this,a);}},t.prototype.setPath=function(t){return !!e.prototype.setPath.call(this,t)&&(this.points=[],this._bbox=this.group.getBBox(),!0)},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"centerPoint",{get:function(){return {x:this.bbox.x+this.bbox.width/2,y:this.bbox.y+this.bbox.height/2}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"morpher",{get:function(){return this._morpher||(this._morpher=new fa(this),this._disposers.push(this._morpher)),this._morpher},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Polygon=ga;var ya=function(e){function t(){var t=e.call(this)||this;return t.className="Polyspline",t.tensionX=.5,t.tensionY=.5,t.applyTheme(),t}return x(t,e),t.prototype.makePath=function(){this._distance=0;var e=this.segments,t=this.tensionX,i=this.tensionY;if(this.allPoints=[],e&&e.length>0){var n="";this._realSegments=[];for(var r=0,a=e.length;r<a;r++){var o=e[r],s=[];if(this._realSegments.push(s),o.length>0){var l=o[0],u=o[o.length-1],d=!1;K(l.x,3)==K(u.x)&&K(l.y)==K(u.y)&&(d=!0),n+=ra(o[0]);for(var c=0;c<o.length-1;c++){var h=o[c-1],p=o[c],m=o[c+1],f=o[c+2];0===c?h=o[c]:c==o.length-2&&(f=o[c+1]),f||(f=m),0===c?h=d?o[o.length-2]:o[r]:c==o.length-2&&(f=d?o[1]:o[c+1]);var g=me(h,p,m,0,t,i),y=fe(0,p,m,f,t,i);n+=sa(m,g,y);var v=1.2*Math.ceil(oe(p,m,g,y,20)),b=p;if(v>0)for(var x=0;x<=v;x++){var C=pe(p,m,g,y,x/v);if(C.x!=b.x||C.y!=b.y){s.push(C);var S=K(ue(b,C),5);this._distance+=ae(b,C),this.allPoints[Math.floor(this._distance)]={x:C.x,y:C.y,angle:S},b=C;}}else s.push(h);}}var _=this.allPoints;if(_.length>1)for(var P=0;P<_.length;P++)if(!_[P])if(P>1)_[P]=_[P-1];else for(var w=1;w<_.length;w++)if(_[w]){_[P]=_[w];break}}this.path=n;}},t.prototype.getClosestPointIndex=function(e){var t,i=this.allPoints,n=1/0;if(i.length>1)for(var r=1;r<i.length;r++){var a=ae(e,i[r]);a<n&&(t=r,n=a);}return t},Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e),this.makePath();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0),this.makePath();},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){var i=0,n=this.allPoints,r=n.length;if(W(e)||(e=0),r>1){if(t&&r>3){if(e<0){e<-.01&&(e=-.01);var a=n[0],o=n[1];return {x:s=a.x-(a.x-o.x)*r*e,y:l=a.y-(a.y-o.y)*r*e,angle:ue(a,o)}}if(e>1){e>1.01&&(e=1.01);var s,l;a=n[n.length-2],o=n[n.length-3];return {x:s=a.x+(a.x-o.x)*r*(e-1),y:l=a.y+(a.y-o.y)*r*(e-1),angle:ue(a,{x:s,y:l})}}if(1==e){var u=n[n.length-1];return {x:u.x,y:u.y,angle:u.angle}}}else e<0&&(e=Math.abs(e),i=180),e>=1&&(e=.9999999999999);var d;return {x:(d=n[Math.floor(e*r)]).x,y:d.y,angle:d.angle+i}}return 1==r?{x:(d=n[0]).x,y:d.y,angle:d.angle}:{x:0,y:0,angle:0}},t}(pa);St.registeredClasses.Polyspline=ya;var va=function(e){function t(){var t=e.call(this)||this;return t.className="Slice",t.setPropertyValue("cornerRadius",0),t.setPropertyValue("startAngle",0),t.setPercentProperty("innerRadius",0),t.setPercentProperty("radius",0),t.setPropertyValue("arc",0),t.setPropertyValue("shiftRadius",0),t.strokeOpacity=1,t.setPropertyValue("layout","none"),t.slice=t.createChild(Dr),t.slice.isMeasured=!1,t._disposers.push(t.slice),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.radiusY;this.radius>0&&0==t&&(t=.01),this.slice.path=ua(this.startAngle,this.arc,this.radius,this.pixelInnerRadius,t,this.cornerRadius,this.innerCornerRadius),this.slice.invalidate(),this.shiftRadius=this.shiftRadius,this.realFill instanceof dr&&this.updateGradient(this.realFill),this.realStroke instanceof dr&&this.updateGradient(this.realStroke);},t.prototype.updateGradient=function(e){e.element.attr({gradientUnits:"userSpaceOnUse"}),e.element.attr({r:this.radius}),e.cx=0,e.cy=0,e.element.attr({radius:this.radius});},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.isMeasured?ce([be(this.startAngle,this.startAngle+this.arc,this.pixelInnerRadius),be(this.startAngle,this.startAngle+this.arc,this.radius)]):{x:0,y:0,width:0,height:0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",ye(e),!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){W(e)||(e=0),this.setPropertyValue("arc",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){var e=this.getPropertyValue("radius");return W(e)||(e=0),e},set:function(e){this.setPropertyValue("radius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return W(e)||(e=this.radius),e},set:function(e){this.setPropertyValue("radiusY",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return ii(this.innerRadius,this.radius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerCornerRadius",{get:function(){return this.getPropertyValue("innerCornerRadius")},set:function(e){this.setPropertyValue("innerCornerRadius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shiftRadius",{get:function(){return this.getPropertyValue("shiftRadius")},set:function(e){this.setPropertyValue("shiftRadius",e),e=this.getPropertyValue("shiftRadius"),this.dx=e*this.radius*this.ix,this.dy=e*this.radiusY*this.iy;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ix",{get:function(){return ee(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iy",{get:function(){return Z(this.middleAngle)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"middleAngle",{get:function(){return this.startAngle+this.arc/2},enumerable:!0,configurable:!0}),t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");if(W(e))return e;var t=.5;e instanceof T&&(t=e.value);var i=ii(this.innerRadius,this.radius);return this.ix*(i+(this.radius-i)*t)},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipY");if(W(e))return e;var t=.5;e instanceof T&&(t=e.value);var i=ii(this.innerRadius,this.radius);return this.iy*(i+(this.radius-i)*t)+this.slice.dy},t}(Lr);St.registeredClasses.Slice=va;var ba=function(e){function t(){var t=e.call(this)||this;t.className="Preloader",t.width=A(100),t.height=A(100);var i=new Fn,n=t.createChild(Lr);n.shouldClone=!1;var r=n.createChild(va);r.shouldClone=!1,r.radius=53,r.arc=360,r.fill=i.getFor("fill"),r.fillOpacity=.8,r.innerRadius=42,r.isMeasured=!1,t.backgroundSlice=r;var a=n.createChild(va);a.shouldClone=!1,a.radius=50,a.innerRadius=45,a.fill=i.getFor("alternativeBackground"),a.fillOpacity=.2,a.isMeasured=!1,t.progressSlice=a;var o=n.createChild(Kr);return o.shouldClone=!1,o.horizontalCenter="middle",o.verticalCenter="middle",o.isMeasured=!1,o.fill=i.getFor("text"),o.align="center",o.valign="middle",o.textAlign="middle",o.fillOpacity=.4,t.label=o,t.background.opacity=1,t.background.fill=i.getFor("background"),t.contentAlign="center",t.contentValign="middle",t.delay=300,t.states.create("hidden").properties.opacity=0,t.visible=!1,t.hide(0),t.__disabled=!0,t._disposers.push(t.backgroundSlice),t._disposers.push(t.progressSlice),t._disposers.push(t.label),t._disposers.push(n),t}return x(t,e),Object.defineProperty(t.prototype,"progress",{get:function(){return this.getPropertyValue("progress")},set:function(e){var t=this;this.__disabled=!1,this.validateLayout(),this.setPropertyValue("progress",e),this.progressSlice.arc=360*e,this.label&&(this.label.text=Math.round(100*e)+"%"),e>=1?(this._started&&(this._started=void 0),St.events.once("enterframe",(function(){var e=t.hide();e&&!e.isFinished()?e.events.once("animationended",(function(){t.__disabled=!0;})):t.__disabled=!0;})),this.interactionsEnabled=!1,this.setPropertyValue("progress",0)):e>0&&(this.delay?this._started?this._started+this.delay<=(new Date).getTime()&&(this.__disabled=!1,this.show(),this.interactionsEnabled=!0):this._started=(new Date).getTime():(this.__disabled=!1,this.show(),this.interactionsEnabled=!0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this.getPropertyValue("delay")},set:function(e){this.setPropertyValue("delay",e);},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.Preloader=ba;var xa=function(e){function t(){var t=e.call(this)||this;t.className="ResizeButton",t.orientation="horizontal",t.layout="absolute",t.horizontalCenter="middle",t.verticalCenter="middle",t.draggable=!0,t.padding(8,8,8,8),t.background.cornerRadius(20,20,20,20);var i=new Dr;i.element=t.paper.add("path");var n=ra({x:-2,y:-6});return n+=aa({x:-2,y:6}),n+=ra({x:2,y:-6}),n+=aa({x:2,y:6}),i.path=n,i.pixelPerfect=!0,i.padding(0,4,0,4),i.stroke=(new Fn).getFor("alternativeText"),i.strokeOpacity=.7,t.icon=i,t.label.dispose(),t.label=void 0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"orientation",{set:function(e){var t=this.icon;t&&(t.rotation="horizontal"==e?0:-90);},enumerable:!0,configurable:!0}),t}(Jr);St.registeredClasses.ResizeButton=xa;var Ca=function(e){function t(){var t=e.call(this)||this;t.className="CloseButton",t.padding(8,8,8,8),t.showSystemTooltip=!0,t.width=30,t.height=30;var i=new Fn;t.cursorOverStyle=hr.pointer;var n=t.background;n.cornerRadius(20,20,20,20);var r=i.getFor("background");n.fill=r,n.stroke=i.getFor("primaryButton"),n.strokeOpacity=1,n.strokeWidth=1;var a=i.getFor("primaryButtonActive"),o=n.states.getKey("hover");o.properties.strokeWidth=3,o.properties.fill=r;var s=n.states.getKey("down");s.properties.stroke=a,s.properties.fill=r;var l=new Dr;return l.element=t.paper.add("path"),l.stroke=n.stroke,t.icon=l,t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.pixelWidth/3,i=this.pixelHeight/3,n=ra({x:-t/2,y:-i/2});n+=aa({x:t/2,y:i/2}),n+=ra({x:t/2,y:-i/2}),n+=aa({x:-t/2,y:i/2}),this.icon.path=n,this.invalidateLayout();},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Close"));},t}(Jr);St.registeredClasses.CloseButton=Ca;var Sa=function(e){function t(){var t=e.call(this)||this;t.className="SwitchButton",t.tooltipY=0,t.layout="horizontal",t.contentAlign="center",t.contentValign="middle",t.padding(8,16,8,16),t.setStateOnChildren=!0,t.states.create("active");var i=new Fn,n=new Kr;n.fillOpacity=.3,n.states.create("active").properties.fillOpacity=1,n.isActive=!0,t.leftLabel=n;var r=new Jr,a=new Zr;r.contentValign="none",r.padding(0,0,0,0),a.radius=10,r.icon=a,r.icon.valign="middle",r.label=void 0;var o=A(100);r.background.cornerRadius(o,o,o,o),r.width=3.5*a.radius,r.height=2.1*a.radius,r.marginLeft=8,r.marginRight=8,r.togglable=!0,a.dx=.7*-a.radius,a.fill=i.getFor("primaryButton"),a.states.create("hover").properties.fill=i.getFor("primaryButtonHover");var s=a.states.create("active");s.properties.fill=i.getFor("primaryButtonActive"),s.properties.dx=.7*a.radius,t.switchButton=r,t.events.on("toggled",(function(){t.leftLabel.isActive=!t.isActive,t.rightLabel.isActive=t.isActive;}));var l=new Kr;return l.fillOpacity=.3,l.states.create("active").properties.fillOpacity=1,t.rightLabel=l,t.role="button",t.focusable=!0,l.valign="middle",n.valign="middle",r.valign="middle",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"leftLabel",{get:function(){return this._leftLabel},set:function(e){this._leftLabel&&this.removeDispose(this._leftLabel),this._leftLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._leftLabel));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightLabel",{get:function(){return this._rightLabel},set:function(e){this._rightLabel&&this.removeDispose(this._rightLabel),this._rightLabel=e,e&&(e.parent=this,e.interactionsEnabled=!1,e.shouldClone=!1,this._disposers.push(this._rightLabel));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switch",{get:function(){return this._switchButton},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"switchButton",{get:function(){return this._switchButton},set:function(e){this._switchButton&&this.removeDispose(this._switchButton),this._switchButton=e,e&&(e.parent=this,e.shouldClone=!1,this._disposers.push(this._switchButton));},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),t.leftLabel&&this.leftLabel.copyFrom(t.leftLabel),t.rightLabel&&this.rightLabel.copyFrom(t.rightLabel),t.switchButton&&this.switchButton.copyFrom(t.switchButton);},t}(Lr);St.registeredClasses.SwitchButton=Sa;var _a=function(e){function t(){var t=e.call(this)||this;t._previousStart=0,t._previousEnd=1,t._prevStart=0,t._prevEnd=1,t._isBusy=!1,t._skipRangeEvents=!1,t.updateWhileMoving=!0,t.className="Scrollbar",t.minHeight=12,t.minWidth=12,t.animationDuration=0,t.animationEasing=qi,t.margin(10,10,10,10);var i=new Fn,n=t.background;return n.cornerRadius(10,10,10,10),n.fill=i.getFor("fill"),n.fillOpacity=.5,t.showSystemTooltip=!0,t.startGrip=new xa,t.endGrip=new xa,t.events.on("transformed",(function(){t.updateThumb();}),t,!1),t.start=0,t.end=1,t.role="scrollbar",t.thumb.role="slider",t.thumb.readerLive="polite",t.startGrip.role="slider",t.endGrip.role="slider",t.events.once("inited",(function(){t._previousStart=void 0,t.dispatchRangeChange();}),void 0,!1),t.hideGrips=!1,t.orientation="horizontal",t.setSVGAttribute({"aria-valuemin":"0"}),t.setSVGAttribute({"aria-valuemax":"100"}),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),"horizontal"===this.orientation?(j(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB to select grip buttons or left and right arrows to change selection")),j(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use left and right arrows to move selection")),j(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use left and right arrows to move left selection")),j(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use left and right arrows to move right selection")),this.readerOrientation="horizontal"):(j(this.readerTitle)||(this.readerTitle=this.language.translate("Use TAB select grip buttons or up and down arrows to change selection")),j(this.thumb.readerDescription)||(this.thumb.readerDescription=this.language.translate("Use up and down arrows to move selection")),j(this.startGrip.readerDescription)||(this.startGrip.readerDescription=this.language.translate("Use up and down arrows to move upper selection")),j(this.endGrip.readerDescription)||(this.endGrip.readerDescription=this.language.translate("Use up and down arrows to move lower selection")),this.readerOrientation="vertical"),this.readerControls=this.baseSprite.uidAttr();},t.prototype.validateLayout=function(){this.updateSize(),e.prototype.validateLayout.call(this),this.updateExtremes();},t.prototype.processBackground=function(){e.prototype.processBackground.call(this);var t=this.background;t.clickable=!0,t.events.on("hit",this.handleBgHit,this,void 0);},t.prototype.handleBgHit=function(e){this.makeBusy();var t=e.spritePoint;t=Ti(t,this.background,this);var i=this.thumb;if("horizontal"==this.orientation){var n=t.x-i.pixelWidth/2;n=J(n,0,this.innerWidth-i.pixelWidth),this._thumbAnimation=i.animate({property:"x",to:n},this.animationDuration,this.animationEasing);}else {var r=t.y-i.pixelHeight/2;r=J(r,0,this.innerHeight-i.pixelHeight),this._thumbAnimation=i.animate({property:"y",to:r},this.animationDuration,this.animationEasing);}this.animationDuration>0?this._thumbAnimation.events.on("animationended",this.makeUnbusy,this,!1):(this._thumb.validate(),this.makeUnbusy());},t.prototype.makeBusy=function(){this._isBusy=!0,this._skipRangeEvents=!1,this._unbusyTimeout&&this.removeDispose(this._unbusyTimeout),this._unbusyTimeout=void 0,this.stopAnimations();},t.prototype.stopAnimations=function(){this._thumbAnimation&&this._thumbAnimation.stop(!0),this._zoomAnimation&&this._zoomAnimation.stop(!0);},t.prototype.makeUnbusy=function(){this._unbusyTimeout=this.setTimeout(this.makeUnbusyReal.bind(this),1.1*this.animationDuration);},t.prototype.makeUnbusyReal=function(){this._usingGrip=void 0,this._isBusy=!1,this.updateWhileMoving||this.dispatchRangeChange();},t.prototype.dispatchRangeChange=function(){this._previousEnd==this.end&&this._previousStart==this.start||(this._previousStart=this.start,this._previousEnd=this.end,this.dispatch("rangechanged"));},t.prototype.updateThumb=function(e){if(void 0===e&&(e=!0),this.parent){var t=this.thumb,i=this.start,n=this.end,r=this.startGrip,a=this.endGrip;if("horizontal"==this.orientation){var o=this.innerWidth;t.width=o*(n-i),t.maxX=o-t.pixelWidth,t.x=i*o,r.moveTo({x:t.pixelX,y:0},void 0,void 0,!0),a.moveTo({x:t.pixelX+t.pixelWidth,y:0},void 0,void 0,!0),r.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value),r.readerValueNow=""+Math.round(100*i),r.readerValueText=r.readerTitle,a.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*n)+"%",position:n}).value),a.readerValueNow=""+Math.round(100*n),a.readerValueText=a.readerTitle;}else {var s=this.innerHeight;t.height=s*(n-i),t.maxY=s-t.pixelHeight,t.y=(1-n)*s,r.moveTo({x:0,y:t.pixelY+t.pixelHeight},void 0,void 0,!0),a.moveTo({x:0,y:t.pixelY},void 0,void 0,!0),r.readerTitle=this.language.translate("To %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-i))+"%",position:1-i}).value),r.readerValueNow=""+Math.round(100*i),r.readerValueText=r.readerTitle,a.readerTitle=this.language.translate("From %1",void 0,this.adapter.apply("positionValue",{value:Math.round(100*(1-n))+"%",position:1-n}).value),a.readerValueNow=""+Math.round(100*n),a.readerValueText=a.readerTitle;}t.readerTitle=this.language.translate("From %1 to %2",void 0,this.adapter.apply("positionValue",{value:Math.round(100*i)+"%",position:i}).value,this.adapter.apply("positionValue",{value:Math.round(100*n)+"%",position:n}).value),t.readerValueNow=""+Math.round(100*i),t.readerValueText=t.readerTitle,this.readerValueNow=""+Math.round(100*i),this.readerValueText=t.readerTitle,!this._skipRangeEvents&&this.updateWhileMoving&&e&&this.dispatchRangeChange();}},t.prototype.updateExtremes=function(){var e=0,t=0,i=0,n=0;"horizontal"==this.orientation?(i=this.innerWidth,t=n=this.innerHeight/2):(n=this.innerHeight,e=i=this.innerWidth/2);var r=this.startGrip;r.minX=e,r.maxX=i,r.minY=t,r.maxY=n;var a=this.endGrip;a.minX=e,a.maxX=i,a.minY=t,a.maxY=n;var o=this.thumb;o.minX=e,o.maxX=i,o.minY=t,o.maxY=n;},t.prototype.updateSize=function(){var e=this.orientation,t=this.startGrip;t&&(t.orientation=e),this.endGrip&&(this.endGrip.orientation=e);var i=this.thumb;i&&("horizontal"==e?(W(this._pixelWidth)||this.width instanceof T||(this.width=A(100)),j(this.percentHeight)&&(this.height=this.minHeight),i.height=this.innerHeight,i.verticalCenter="middle",i.horizontalCenter="left"):(W(this._pixelHeight)||this.height instanceof T||(this.height=A(100)),j(this.percentWidth)&&(this.width=this.minWidth),i.width=this.innerWidth,i.verticalCenter="top",i.horizontalCenter="middle"));},Object.defineProperty(t.prototype,"isBusy",{get:function(){return this._isBusy},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return Math.min(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__start=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__start",{get:function(){return this._start},set:function(e){this._start=this.getPosition(e),this.updateThumb();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return Math.max(this.getPosition(this._start),this.getPosition(this._end))},set:function(e){this._isBusy||(this.__end=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__end",{get:function(){return this._end},set:function(e){this._end=this.getPosition(e),this.updateThumb();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return {start:this.start,end:this.end,priority:this._usingGrip}},enumerable:!0,configurable:!0}),t.prototype.skipRangeEvents=function(){this._isBusy||(this._skipRangeEvents=!0);},t.prototype.fixRange=function(e){e.start==K(this._start,2)&&e.end==K(this._end,2)||(this._start=e.start,this._end=e.end,this._skipRangeEvents=!0,this.updateThumb(),this._skipRangeEvents=!1,this.thumb.validate(),this.thumb.background.validate());},t.prototype.getPosition=function(e){return J(K(e,4),0,1)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&("horizontal"===e?(this.startGrip.cursorOverStyle=hr.horizontalResize,this.endGrip.cursorOverStyle=hr.horizontalResize):(this.startGrip.cursorOverStyle=hr.verticalResize,this.endGrip.cursorOverStyle=hr.verticalResize),this.updateByOrientation(),this.invalidate());},enumerable:!0,configurable:!0}),t.prototype.updateByOrientation=function(){},Object.defineProperty(t.prototype,"startGrip",{get:function(){return this._startGrip},set:function(e){this._startGrip&&this.removeDispose(this._startGrip),this._startGrip=e,this.processGrip(e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endGrip",{get:function(){return this._endGrip},set:function(e){this._endGrip&&this.removeDispose(this._endGrip),this._endGrip=e,this.processGrip(e);},enumerable:!0,configurable:!0}),t.prototype.processGrip=function(e){e.parent=this,e.isMeasured=!1,e.focusable=!0,e.shouldClone=!1,e.zIndex=100,e.events.on("drag",this.handleGripDrag,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("down",this.makeBusy,this,!1),e.events.on("up",this.makeUnbusy,this,!1),this._disposers.push(e);},t.prototype.handleGripDrag=function(e){this.makeBusy(),e.target===this._startGrip?this._usingGrip="start":this._usingGrip="end","horizontal"==this.orientation?(this._start=this.startGrip.pixelX/this.innerWidth,this._end=this.endGrip.pixelX/this.innerWidth):(this._start=1-this.startGrip.pixelY/this.innerHeight,this._end=1-this.endGrip.pixelY/this.innerHeight),this.updateThumb();},Object.defineProperty(t.prototype,"thumb",{get:function(){if(!this._thumb){var e=new Jr;e.background.cornerRadius(10,10,10,10),e.padding(0,0,0,0),this.thumb=e;}return this._thumb},set:function(e){var t=this;e&&(this._thumb&&this.removeDispose(this._thumb),this._thumb=e,e.parent=this,e.isMeasured=!1,e.inert=!0,e.draggable=!0,e.clickable=!0,e.hoverable=!0,e.focusable=!0,e.shouldClone=!1,e.zIndex=0,e.cursorOverStyle=hr.grab,e.cursorDownStyle=hr.grabbing,e.events.on("dragstart",this.makeBusy,this,!1),e.events.on("dragstop",this.makeUnbusy,this,!1),e.events.on("positionchanged",this.handleThumbPosition,this,!1),e.events.on("sizechanged",this.handleThumbPosition,this,!1),e.events.on("doublehit",this.handleDoubleClick,this,!1),this._disposers.push(Kn().body.events.on("keyup",(function(e){Vn.isKey(e.event,["space","enter"])&&t.thumb.isFocused&&(e.event.preventDefault(),t.handleDoubleClick());}))),this._disposers.push(this._thumb));},enumerable:!0,configurable:!0}),t.prototype.handleDoubleClick=function(){this.makeBusy();var e=0,t=1;0!=this.start||1!=this.end?(this._prevStart=this.start,this._prevEnd=this.end):(e=this._prevStart,t=this._prevEnd);var i=this.animate([{property:"__start",to:e},{property:"__end",to:t}],this.animationDuration,this.animationEasing);i&&!i.isFinished()?(i.events.on("animationended",this.makeUnbusy,this,!1),this._zoomAnimation=i):this.makeUnbusy();},t.prototype.handleThumbPosition=function(){var e=this.thumb;if("horizontal"==this.orientation){var t=this.innerWidth,i=e.innerWidth,n=e.pixelX;this._start=n/t,this._end=(n+i)/t,this.updateThumb();}else {var r=this.innerHeight,a=e.innerHeight,o=e.pixelY;o+a>r&&(o=r-a,e.y=o),this._start=1-(o+a)/r,this._end=1-o/r,this.updateThumb();}},t.prototype.createBackground=function(){return new Xr},Object.defineProperty(t.prototype,"hideGrips",{get:function(){return this._hideGrips},set:function(e){var t=this;this._hideGrips=e,this._overDisposer&&this.removeDispose(this._overDisposer),this._outDisposer&&this.removeDispose(this._outDisposer),e?(this._overDisposer=this.events.on("over",(function(){t.startGrip.show(),t.endGrip.show();}),void 0,!1),this._outDisposer=this.events.on("out",(function(){t.startGrip.hide(),t.endGrip.hide();}),void 0,!1),this.startGrip.hide(),this.endGrip.hide()):(this.startGrip.show(),this.endGrip.show());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e);},enumerable:!0,configurable:!0}),t.prototype.asFunction=function(t){return "animationEasing"==t||e.prototype.asIs.call(this,t)},t}(Lr);St.registeredClasses.Scrollbar=_a;var Pa=function(e){function t(){var t=e.call(this)||this;return t.className="Slider",t.thumb.opacity=0,t.thumb.interactionsEnabled=!1,t.endGrip.opacity=0,t.endGrip.interactionsEnabled=!1,t.startGrip.events.on("drag",(function(){t.endGrip.x=t.startGrip.x,t.endGrip.y=t.startGrip.y;})),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"__end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"end",{get:function(){return this._start},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return this._start},set:function(e){this._isBusy||(this.__start=e);},enumerable:!0,configurable:!0}),t}(_a);St.registeredClasses.Slider=Pa;var wa=function(e){function t(){var t=e.call(this)||this;t.className="TextLink",t.selectable=!0;var i=new Fn;return t.fill=i.getFor("primaryButton").brighten(.3),t.states.create("hover").properties.fill=i.getFor("primaryButtonHover").brighten(.3),t.states.create("down").properties.fill=i.getFor("primaryButtonDown").brighten(.3),t.cursorOverStyle=hr.pointer,t.applyTheme(),t}return x(t,e),t}(Kr);St.registeredClasses.TextLink=wa;var Ia=function(e){function t(){var t=e.call(this)||this;return t.properties={},t.isTemplate=!1,t._scale=1,t._nonScaling=!0,t.className="Filter",t.filterPrimitives=new Tt,t.properties.filterUnits="objectBoundingBox",t.filterPrimitives.events.on("inserted",(function(e){t._disposers.push(e.newValue);})),t.width=120,t.height=120,t.applyTheme(),t}return x(t,e),t.prototype.appendPrimitives=function(e){ut(this.filterPrimitives.iterator(),(function(t){e.add(t);}));},t.prototype.animate=function(e,t,i){return new dn(this,e,t,i).start()},Object.defineProperty(t.prototype,"width",{get:function(){return this.properties.width},set:function(e){this.properties.width=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.properties.height},set:function(e){this.properties.height=e;},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),tt(t.properties,(function(e,t){i[e]=t;}));},Object.defineProperty(t.prototype,"paper",{get:function(){return this._paper?this._paper:sr()},set:function(e){this._paper!=e&&(this._paper=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animations",{get:function(){return this._animations||(this._animations=[],this._disposers.push(new un(this._animations))),this._animations},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale=e,this.updateScale();},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){},Object.defineProperty(t.prototype,"filterUnits",{get:function(){return this.properties.filterUnits},set:function(e){this.properties.filterUnits=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonScaling",{get:function(){return this._nonScaling},set:function(e){this._nonScaling=e,e||(this._scale=1),this.updateScale();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sprite",{set:function(e){this.setSprite(e);},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(e){this._sprite&&this._sprite!=e&&this._sprite.filters.removeValue(this),this._sprite=e;},t}(Xt),Ta=function(e){function t(){var t=e.call(this)||this;return t.className="DropShadowFilter",t.color=Yt("#000"),t.feGaussianBlur=t.paper.add("feGaussianBlur"),t.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),t.filterPrimitives.push(t.feGaussianBlur),t.feOffset=t.paper.add("feOffset"),t.feOffset.attr({result:"offsetBlur"}),t.filterPrimitives.push(t.feOffset),t.feFlood=t.paper.add("feFlood"),t.feFlood.attr({"flood-color":t.color}),t.filterPrimitives.push(t.feFlood),t.feComposite=t.paper.add("feComposite"),t.feComposite.attr({in2:"offsetBlur",operator:"in"}),t.filterPrimitives.push(t.feComposite),t.feMerge=t.paper.addGroup("feMerge"),t.feMerge.add(t.paper.add("feMergeNode")),t.feMerge.add(t.paper.add("feMergeNode").attr({in:"SourceGraphic"})),t.filterPrimitives.push(t.feMerge),t.width=200,t.height=200,t.blur=1.5,t.dx=3,t.dy=3,t.opacity=.5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.feFlood&&this.feFlood.attr({"flood-color":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feFlood.attr({"flood-opacity":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx",{get:function(){return this.properties.dx},set:function(e){this.properties.dx=e,this.feOffset.attr({dx:e/this.scale});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy",{get:function(){return this.properties.dy},set:function(e){this.properties.dy=e,this.feOffset.attr({dy:e/this.scale});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale});},enumerable:!0,configurable:!0}),t.prototype.updateScale=function(){this.dx=this.dx,this.dy=this.dy,this.blur=this.blur;},t}(Ia);St.registeredClasses.DropShadowFilter=Ta;var Aa=function(e){function t(){var t=e.call(this)||this;t._boundingRect={x:-4e4,y:-4e4,width:8e4,height:8e4},t._pointTo={x:0,y:0},t.fitPointerToBounds=!1,t._verticalOrientation="up",t.fixDoc=!0,t.className="Tooltip",t.isMeasured=!1,t.getFillFromObject=!0,t.margin(5,5,5,5),t.defaultState.transitionDuration=1,t.hiddenState.transitionDuration=1;var i=t.background;i.interactionsEnabled=!1,i.fillOpacity=.9,i.strokeWidth=1,i.strokeOpacity=1,i.stroke=Yt("#ffffff"),i.cornerRadius=3,i.pointerLength=6,i.pointerBaseWidth=10;var n=new Ta;n.dy=1,n.dx=1,n.opacity=.5,i.filters.push(n),t.autoTextColor=!0;var r=t.createChild(Kr);return r.shouldClone=!1,t.label=r,r.padding(7,12,4,12),r.interactionsEnabled=!1,r.horizontalCenter="middle",r.fill=Yt("#ffffff"),t._disposers.push(r),t.label.events.on("sizechanged",t.drawBackground,t),t.label.zIndex=1,t.pointerOrientation="vertical",t.animationDuration=0,t.animationEasing=qi,t.setPropertyValue("showInViewport",!1),t.role="tooltip",t.visible=!1,t.opacity=0,t.x=0,t.y=0,t.events.on("visibilitychanged",t.handleVisibility,t),t.applyTheme(),t}return x(t,e),t.prototype.handleVisibility=function(){this.visible&&this.label.invalidate();},Object.defineProperty(t.prototype,"getStrokeFromObject",{get:function(){return this.getPropertyValue("getStrokeFromObject")},set:function(e){this.setPropertyValue("getStrokeFromObject",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoTextColor",{get:function(){return this.getPropertyValue("autoTextColor")},set:function(e){this.setPropertyValue("autoTextColor",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepTargetHover",{get:function(){return this.getPropertyValue("keepTargetHover")},set:function(e){var t=this;this.setPropertyValue("keepTargetHover",e,!0)&&e&&(this.hoverable=!0,this.background.interactionsEnabled=!0,this._disposers.push(this.events.on("over",(function(e){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!0);}))),this._disposers.push(this.events.on("out",(function(e){t.targetSprite&&t.targetSprite.hoverable&&(t.targetSprite.isHover=!1);}))));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showInViewport",{get:function(){return this.getPropertyValue("showInViewport")},set:function(e){this.setPropertyValue("showInViewport",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"getFillFromObject",{get:function(){return this.getPropertyValue("getFillFromObject")},set:function(e){this.setPropertyValue("getFillFromObject",e,!0);},enumerable:!0,configurable:!0}),t.prototype.createBackground=function(){return new ia},Object.defineProperty(t.prototype,"pointerOrientation",{get:function(){return this.getPropertyValue("pointerOrientation")},set:function(e){this.setPropertyValue("pointerOrientation",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationDuration",{get:function(){return this.getPropertyValue("animationDuration")},set:function(e){this.setPropertyValue("animationDuration",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"animationEasing",{get:function(){return this.getPropertyValue("animationEasing")},set:function(e){this.setPropertyValue("animationEasing",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.label.html},set:function(e){this.label.html!=e&&(this.label.html=e,this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text!=e&&(this.label.text=e,this.invalidate());},enumerable:!0,configurable:!0}),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.label;t.invalid&&t.validate();var i,n,r=this._pointTo.x,a=this._pointTo.y,o=this._boundingRect,s=t.measuredWidth,l=t.measuredHeight,u=this.background.pointerLength;if(this.ignoreBounds&&(o=void 0),o&&this.fixDoc&&s>o.width){Di({x:o.x,y:o.y},this.parent);var d=Di({x:o.x+o.width,y:o.y+o.height},this.parent),c=document.body.offsetWidth;document.body.offsetHeight,d.x>c/2?o.x=o.width-s:o.width=o.x+s;}var h=this.pointerOrientation;"horizontal"==h||"left"==h||"right"==h?(n=-l/2,i="horizontal"==h?o&&r>o.x+o.width/2?-s/2-u:s/2+u:"left"==h?s/2+u:-s/2-u):(o&&(i=J(0,o.x-r+s/2,o.x-r+o.width-s/2)),"vertical"==h?o&&a>o.y+l+u?(n=-l-u,this._verticalOrientation="up"):(n=u,this._verticalOrientation="down"):"down"==h?(n=-l-u,this._verticalOrientation="up"):(n=u,this._verticalOrientation="down")),o&&(n=J(n,o.y-a,o.y+o.height-l-a)),t.x=i,t.y=n,this.drawBackground();},t.prototype.updateBackground=function(){this.group.addToBack(this.background.group);},t.prototype.drawBackground=function(){var e=this.label,t=this.background,i=e.measuredWidth,n=e.measuredHeight,r=this._boundingRect,a=i,o=e.pixelX-i/2,s=n,l=e.pixelY,u=this._pointTo.x,d=this._pointTo.y,c=r.x-u,h=c+r.width,p=r.y-d,m=p+r.height;t.x=o,t.y=l,t.width=a,t.height=s,this.fitPointerToBounds?(t.pointerX=J(-t.x,c-t.x,h-t.x),t.pointerY=J(-t.y,p-t.y,m-t.y)):(t.pointerX=-t.x,t.pointerY=-t.y),t.validate();},t.prototype.delayedPointTo=function(e,t){var i=this;this._pointToDisposer&&this._pointToDisposer.dispose(),this._pointToDisposer=St.events.once("exitframe",(function(){i.pointTo(e,t);})),this.addDisposer(this._pointToDisposer);},t.prototype.pointTo=function(e,t){this._pointTo.x==e.x&&this._pointTo.y==e.y||(this._pointTo=e,this.invalidate(),!this.visible||t?(this.moveTo(this._pointTo),this._animation&&this._animation.kill()):0==this.pixelX&&0==this.pixelY?this.moveTo(this._pointTo):(this._animation&&this._animation.kill(),this._animation=new dn(this,[{property:"x",to:e.x,from:this.pixelX},{property:"y",to:e.y,from:this.pixelY}],this.animationDuration,this.animationEasing).start()));},t.prototype.setBounds=function(e){var t=this._boundingRect;t.x==e.x&&t.y==e.y&&t.width==e.width&&t.height==e.height||(this._boundingRect=e,this.invalidate());},Object.defineProperty(t.prototype,"boundingContainer",{set:function(e){this._boundingContainer=e,e.events.on("sizechanged",this.updateBounds,this),e.events.on("positionchanged",this.updateBounds,this);},enumerable:!0,configurable:!0}),t.prototype.updateBounds=function(){var e=this._boundingContainer,t=Ai({x:e.pixelX,y:e.pixelY,width:e.maxWidth,height:e.maxHeight},e);this.setBounds(t);},Object.defineProperty(t.prototype,"ignoreBounds",{get:function(){return this.getPropertyValue("ignoreBounds")},set:function(e){this.setPropertyValue("ignoreBounds",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalOrientation",{get:function(){return this._verticalOrientation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltip",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),t._boundingRect&&(this._boundingRect=t._boundingRect);},t.prototype.asFunction=function(t){return "animationEasing"==t||e.prototype.asIs.call(this,t)},t}(Lr);St.registeredClasses.Tooltip=Aa;var Oa=function(e){function t(){var t=e.call(this)||this;return t.className="Trapezoid",t.element=t.paper.add("path"),t.topSide=A(100),t.bottomSide=A(100),t.leftSide=A(100),t.rightSide=A(100),t.isMeasured=!1,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelWidth,i=this.pixelHeight,n=ii(this.topSide,t),r=ii(this.bottomSide,t),a=ii(this.leftSide,i),o=ii(this.rightSide,i),s=(t-n)/2,l=(i-a)/2,u=t-(t-n)/2,d=(i-o)/2,c=t-(t-r)/2,h=i-(i-o)/2,p=(t-r)/2,m=i-(i-a)/2,f="",g="",y="",v="";if(j(this.horizontalNeck)){var b=this.horizontalNeck.value;f=aa({x:t*b,y:Math.max(l,d)}),y=aa({x:t*b,y:Math.min(h,m)});}if(j(this.verticalNeck)){var x=this.verticalNeck.value;g=aa({x:Math.min(u,c),y:i*x}),v=aa({x:Math.max(s,p),y:i*x});}var C=ra({x:s,y:l})+f+aa({x:u,y:d})+g+aa({x:c,y:h})+y+aa({x:p,y:m})+v;this.path=C;},Object.defineProperty(t.prototype,"topSide",{get:function(){return this.getPropertyValue("topSide")},set:function(e){this.setPercentProperty("topSide",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomSide",{get:function(){return this.getPropertyValue("bottomSide")},set:function(e){this.setPercentProperty("bottomSide",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftSide",{get:function(){return this.getPropertyValue("leftSide")},set:function(e){this.setPercentProperty("leftSide",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightSide",{get:function(){return this.getPropertyValue("rightSide")},set:function(e){this.setPercentProperty("rightSide",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalNeck",{get:function(){return this.getPropertyValue("horizontalNeck")},set:function(e){this.setPropertyValue("horizontalNeck",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalNeck",{get:function(){return this.getPropertyValue("verticalNeck")},set:function(e){this.setPropertyValue("verticalNeck",e,!0);},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Trapezoid=Oa;var ka=function(e){function t(){var t=e.call(this)||this;return t.className="Triangle",t.element=t.paper.add("path"),t.direction="top",t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t,i=this.pixelWidth,n=this.pixelHeight;switch(this.direction){case"right":t=ra({x:0,y:0})+aa({x:i,y:n/2})+aa({x:0,y:n})+" Z";break;case"left":t=ra({x:i,y:0})+aa({x:0,y:n/2})+aa({x:i,y:n})+" Z";break;case"bottom":t=ra({x:0,y:0})+aa({x:i,y:0})+aa({x:i/2,y:n})+" Z";break;case"top":t=ra({x:i/2,y:0})+aa({x:i,y:n})+aa({x:0,y:n})+" Z";}this.path=t;},Object.defineProperty(t.prototype,"direction",{get:function(){return this.getPropertyValue("direction")},set:function(e){this.setPropertyValue("direction",e,!0);},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Triangle=ka;var Fa=function(){function e(e,t){this._tensionX=e,this._tensionY=t;}return e.prototype.smooth=function(e){for(var t=e.length-1;t>0;t--){var i=e[t],n=e[t-1];Math.abs(i.x-n.x)<.1&&Math.abs(i.y-n.y)<.1&&e.splice(t-1,1);}var r=this._tensionX,a=this._tensionY;if(e.length<3||r>=1&&a>=1)return na(e);var o=e[0],s=e[e.length-1],l=!1;K(o.x,3)==K(s.x)&&K(o.y)==K(s.y)&&(l=!0);for(var u="",d=(t=0,e.length-1);t<d;t++){i=e[t-1],n=e[t];var c=e[t+1],h=e[t+2];0===t?i=l?e[e.length-2]:e[t]:t==e.length-2&&(h=l?e[1]:e[t+1]),u+=sa(c,me(i,n,c,0,r,a),fe(0,n,c,h,r,a));}return u},e}();function Da(e,t,i,n,r,a){var o=e.x,s=e.y,l=t.x,u=t.y,d=ae(e,t);a&&(i=d/Math.round(d/i));var c=St.getCache(ai(["wavedLine",e.x,t.x,e.y,t.y,i,n]));if(!c){if(d>0){var h=Math.atan2(u-s,l-o),p=Math.cos(h),m=Math.sin(h),f=i*p,g=i*m;if(i<=1||n<=1)c=aa(t);else {var y=Math.round(2*d/i),v=[],b=1;l<o&&(b*=-1),u<s&&(b*=-1);for(var x=0;x<=y;x++){var C=o+x*f/2+(b*=-1)*n/2*m,S=s+x*g/2-b*n/2*p;v.push({x:C,y:S});}c=new Fa(r,r).smooth(v);}}else c="";St.setCache(ai(["wavedLine",e.x,t.x,e.y,t.y,i,n]),c);}return c}var Ma=function(){function e(e,t){this._reversed=e,this._closed=t.closed;}return e.prototype._curve=function(e,t,i,n,r,a){var o=(t-e)/3;return this._reversed?sa({x:n,y:t},{x:i+o*r,y:e+o},{x:n-o*a,y:t-o}):sa({x:t,y:n},{x:e+o,y:i+o*r},{x:t-o,y:n-o*a})},e.prototype.smooth=function(e){var t=this,i=NaN,n=NaN,r=NaN,a=NaN,o=NaN,s=0,l="";switch(we(e,(function(e){var u=e.x,d=e.y;if(t._reversed){var c=u;u=d,d=c;}var h=NaN;if(u!==n||d!==a){switch(s){case 0:s=1,t._reversed?l+=aa({x:d,y:u}):l+=aa({x:u,y:d});break;case 1:s=2;break;case 2:s=3,l+=t._curve(i,n,r,a,Ea(i,n,r,a,h=ja(i,n,r,a,u,d)),h);break;default:l+=t._curve(i,n,r,a,o,h=ja(i,n,r,a,u,d));}i=n,n=u,r=a,a=d,o=h;}})),s){case 2:this._reversed?l+=aa({x:a,y:n}):l+=aa({x:n,y:a});break;case 3:l+=this._curve(i,n,r,a,o,Ea(i,n,r,a,o));}return this._closed&&(l+=" Z"),l},e}();function La(e){return e<0?-1:1}function Ea(e,t,i,n,r){var a=t-e;return a?(3*(n-i)/a-r)/2:r}function ja(e,t,i,n,r,a){var o=t-e,s=r-t,l=(n-i)/(o||s<0&&-0),u=(a-n)/(s||o<0&&-0),d=(l*s+u*o)/(o+s);return (La(l)+La(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(d))||0}var Va=function(e){function t(t){return e.call(this,!1,t)||this}return x(t,e),t}(Ma),Ra=function(e){function t(t){return e.call(this,!0,t)||this}return x(t,e),t}(Ma),Ba=function(e){function t(){var t=e.call(this)||this;return t.className="WavedCircle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.fill=void 0,t.fillOpacity=0,t.tension=.8,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){var e="",t=this.pixelRadius;t>0&&(e=ra((i=this.getPoints(t))[0])+new Fa(this.tension,this.tension).smooth(i));var i,n=this.pixelInnerRadius;n>0&&((i=this.getPoints(n)).reverse(),e+=ra(i[0])+new Fa(this.tension,this.tension).smooth(i));this.path=e;},t.prototype.getPoints=function(e){for(var t=e*Math.PI*2,i=this.waveHeight/2,n=t/Math.round(t/this.waveLength),r=n/2,a=[],o=t/n,s=0;s<=o;s++){var l=s*n/t*360,u=(s*n+r)/t*360;a.push({x:(e-i)*ee(l),y:(e-i)*Z(l)}),a.push({x:(e+i)*ee(u),y:(e+i)*Z(u)});}return a.pop(),a},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return ii(this.innerRadius,ie(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate();},enumerable:!0,configurable:!0}),t}(Zr);St.registeredClasses.WavedCircle=Ba;var Na=function(e){function t(){var t=e.call(this)||this;return t.className="WavedLine",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.pixelPerfect=!1,t.fill=Yt(),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2};this.path=ra(e)+Da(e,t,this.waveLength,this.waveHeight,this.tension,!0);},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate();},enumerable:!0,configurable:!0}),t}(ta),Wa=function(e){function t(){var t=e.call(this)||this;return t.className="WavedRectangle",t.element=t.paper.add("path"),t.waveLength=16,t.waveHeight=4,t.tension=.8,t.setPropertyValue("wavedLeft",!0),t.setPropertyValue("wavedRight",!0),t.setPropertyValue("wavedTop",!0),t.setPropertyValue("wavedBottom",!0),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelWidth,i=this.pixelHeight;if(t>0&&i>0){var n={x:0,y:0},r={x:t,y:0},a={x:t,y:i},o={x:0,y:i},s=Math.min(t,this.waveLength),l=Math.min(i,this.waveHeight),u=Math.min(i,this.waveLength),d=Math.min(t,this.waveHeight),c="",h="",p="",m="";this.wavedTop&&(c=Da(n,r,s,l,this.tension,!0)),this.wavedRight&&(h=Da(r,a,u,d,this.tension,!0)),this.wavedBottom&&(p=Da(a,o,s,l,this.tension,!0)),this.wavedLeft&&(m=Da(o,n,u,d,this.tension,!0)),this.path=ra(n)+c+aa(r)+h+aa(a)+p+aa(o)+m+"z";}},Object.defineProperty(t.prototype,"waveLength",{get:function(){return this.getPropertyValue("waveLength")},set:function(e){this.setPropertyValue("waveLength",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"waveHeight",{get:function(){return this.getPropertyValue("waveHeight")},set:function(e){this.setPropertyValue("waveHeight",e),this.invalidate();},enumerable:!0,configurable:!0}),t.prototype.setWavedSides=function(e,t,i,n){this.wavedTop=e,this.wavedRight=t,this.wavedBottom=i,this.wavedLeft=n;},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedRight",{get:function(){return this.getPropertyValue("wavedRight")},set:function(e){this.setPropertyValue("wavedRight",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedLeft",{get:function(){return this.getPropertyValue("wavedLeft")},set:function(e){this.setPropertyValue("wavedLeft",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedTop",{get:function(){return this.getPropertyValue("wavedTop")},set:function(e){this.setPropertyValue("wavedTop",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wavedBottom",{get:function(){return this.getPropertyValue("wavedBottom")},set:function(e){this.setPropertyValue("wavedBottom",e,!0);},enumerable:!0,configurable:!0}),t}(Mr),za=function(e){function t(){var t=e.call(this)||this;t.className="ZoomOutButton",t.padding(9,9,9,9),t.showSystemTooltip=!0;var i=new Fn,n=t.background;n.cornerRadius(20,20,20,20),n.fill=i.getFor("primaryButton"),n.stroke=i.getFor("primaryButtonStroke"),n.strokeOpacity=0,n.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),n.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var r=new Dr;r.element=t.paper.add("path");var a=ra({x:0,y:0});return a+=aa({x:11,y:0}),r.path=a,r.pixelPerfect=!0,r.padding(8,3,8,3),r.stroke=i.getFor("primaryButtonText"),t.icon=r,t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Zoom Out"));},t}(Jr);St.registeredClasses.ZoomOutButton=za;var Ha=function(e){function t(){var t=e.call(this)||this;t.className="PlayButton",t.padding(12,12,12,12),t.showSystemTooltip=!0;var i=new Fn,n=t.background;n.cornerRadius(25,25,25,25),n.fill=i.getFor("primaryButton"),n.stroke=i.getFor("primaryButtonStroke"),n.strokeOpacity=0,n.states.getKey("hover").properties.fill=i.getFor("primaryButtonHover"),n.states.getKey("down").properties.fill=i.getFor("primaryButtonActive");var r=new ka;r.direction="right",r.width=9,r.height=11,r.marginLeft=1,r.marginRight=1,r.horizontalCenter="middle",r.verticalCenter="middle",r.stroke=i.getFor("primaryButtonText"),r.fill=r.stroke,t.icon=r;var a=new Xr;a.width=11,a.height=11,a.horizontalCenter="middle",a.verticalCenter="middle",a.cornerRadius(0,0,0,0),a.stroke=i.getFor("primaryButtonText"),a.fill=r.stroke,t.togglable=!0;var o=t.states.create("active");return o.transitionDuration=0,o.properties.icon=a,t.defaultState.transitionDuration=0,t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Play"));},t}(Jr);St.registeredClasses.PlayButton=Ha;var Ga=function(e){function t(){var t=e.call(this)||this;return t.className="ColorModifier",t.applyTheme(),t}return x(t,e),t.prototype.modify=function(e){return e},t}(Xt);St.registeredClasses.ColorModifier=Ga;var Ua=function(e){function t(){var t=e.call(this)||this;return t.lightnesses=[],t.brightnesses=[],t.opacities=[],t.offsets=[],t.className="GradientModifier",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"lightnesses",{get:function(){return this._lightnesses},set:function(e){this._lightnesses=e,this._brightnesses=[];},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"brightnesses",{get:function(){return this._brightnesses},set:function(e){this._brightnesses=e,this._lightnesses=[];},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacities",{get:function(){return this._opacities},set:function(e){this._opacities=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return this._offsets},set:function(e){this._offsets=e;},enumerable:!0,configurable:!0}),t.prototype.modify=function(e){this.gradient.clear();var t=0;this.opacities&&(t=te(t,this.opacities.length)),this.lightnesses&&(t=te(t,this.lightnesses.length)),this.brightnesses&&(t=te(t,this.brightnesses.length));for(var i,n,r=1,a=0;a<t;a++){var o=e;this.opacities&&W(this.opacities[a])&&(r=this.opacities[a]),this.lightnesses&&W(this.lightnesses[a])&&(i=this.lightnesses[a],n=void 0),this.brightnesses&&W(this.brightnesses[a])&&(n=this.brightnesses[a],i=void 0),W(n)?o=e.brighten(this.brightnesses[a]):W(i)&&(o=e.lighten(this.lightnesses[a]));var s=this.offsets[a];this.gradient.addColor(o,r,s);}return this.gradient},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this._offsets=t.offsets,this._brightnesses=t.brightnesses,this._lightnesses=t.lightnesses,this._opacities=t.opacities;},t}(Ga);St.registeredClasses.GradientModifier=Ua;var qa=function(e){function t(){var t=e.call(this)||this;return t.className="LinearGradientModifier",t.gradient=new ur,t.applyTheme(),t}return x(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.gradient=t.gradient.clone();},t}(Ua);St.registeredClasses.LinearGradientModifier=qa;var $a=function(e){function t(){var t=e.call(this)||this;return t.className="Cone",t.angle=30,t.radius=A(100),t.topRadius=A(100),t.top=t.createChild(Qr),t.top.shouldClone=!1,t.bottom=t.createChild(Qr),t.bottom.shouldClone=!1,t.body=t.createChild(Dr),t.body.shouldClone=!1,t.body.setElement(t.paper.add("path")),t.layout="none",t.bodyFillModifier=new qa,t.bodyFillModifier.lightnesses=[0,-.25,0],t.body.fillModifier=t.bodyFillModifier,t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),rt(this,this.top,Fr),rt(this,this.bottom,Fr),rt(this,this.body,Fr);var t,i,n,r=this.innerWidth,a=this.innerHeight,o=this.bottom,s=this.top,l=this.angle;"horizontal"==this.orientation?(t=a/2,o.y=a/2,s.y=a/2,s.x=r,i=(90-l)/90,n=0,this.bodyFillModifier.gradient.rotation=90):(i=0,n=(90-l)/90,t=r/2,o.y=a,o.x=r/2,s.x=r/2,this.bodyFillModifier.gradient.rotation=0);var u,d=this.radius.value*t,c=this.topRadius.value*t;o.radius=d-d*i,o.radiusY=d-d*n,s.radius=c-c*i,s.radiusY=c-c*n,u="horizontal"==this.orientation?ra({x:0,y:a/2-o.radiusY})+la(-90,-180,o.radius,o.radiusY)+aa({x:r,y:a/2+s.radiusY})+la(90,180,s.radius,s.radiusY)+" Z":ra({x:r/2-s.radius,y:0})+la(180,-180,s.radius,s.radiusY)+aa({x:r/2+o.radius,y:a})+la(0,180,o.radius,o.radiusY)+" Z",this.body.path=u;},Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topRadius",{get:function(){return this.getPropertyValue("topRadius")},set:function(e){this.setPropertyValue("topRadius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);},enumerable:!0,configurable:!0}),t}(Lr),Ya=function(e){function t(){var t=e.call(this)||this;return t.className="LightenFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"matrix"}),t.filterPrimitives.push(t.feColorMatrix),t.lightness=0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"lightness",{get:function(){return this.properties.lightness},set:function(e){this.properties.lightness=e;var t=e+1;this.feColorMatrix.attr({values:t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 "+t+" 0 0 0 0 0 1 0"});},enumerable:!0,configurable:!0}),t}(Ia);St.registeredClasses.LightenFilter=Ya;var Ka=function(e){function t(){var t=e.call(this)||this;t.angle=30,t.depth=30,t.className="Rectangle3D",t.layout="none";var i=t.createChild(Dr);i.shouldClone=!1,i.setElement(t.paper.add("path")),i.isMeasured=!1,t.sideBack=i,t._disposers.push(t.sideBack);var n=t.createChild(Dr);n.shouldClone=!1,n.setElement(t.paper.add("path")),n.isMeasured=!1,t.sideBottom=n,t._disposers.push(t.sideBottom);var r=t.createChild(Dr);r.shouldClone=!1,r.setElement(t.paper.add("path")),r.isMeasured=!1,t.sideLeft=r,t._disposers.push(t.sideLeft);var a=t.createChild(Dr);a.shouldClone=!1,a.setElement(t.paper.add("path")),a.isMeasured=!1,t.sideRight=a,t._disposers.push(t.sideRight);var o=t.createChild(Dr);o.shouldClone=!1,o.setElement(t.paper.add("path")),o.isMeasured=!1,t.sideTop=o,t._disposers.push(t.sideTop);var s=t.createChild(Dr);return s.shouldClone=!1,s.setElement(t.paper.add("path")),s.isMeasured=!1,t.sideFront=s,t._disposers.push(t.sideFront),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.innerWidth,i=this.innerHeight,n=this.depth,r=this.angle,a=Z(r),o=ee(r),s={x:0,y:0},l={x:t,y:0},u={x:t,y:i},d={x:0,y:i},c={x:n*o,y:-n*a},h={x:n*o+t,y:-n*a},p={x:n*o+t,y:-n*a+i},m={x:n*o,y:-n*a+i};this.sideFront.path=ra(s)+aa(l)+aa(u)+aa(d)+" Z",this.sideBack.path=ra(c)+aa(h)+aa(p)+aa(m)+" Z",this.sideLeft.path=ra(s)+aa(c)+aa(m)+aa(d)+" Z",this.sideRight.path=ra(l)+aa(h)+aa(p)+aa(u)+" Z",this.sideBottom.path=ra(d)+aa(m)+aa(p)+aa(u)+" Z",this.sideTop.path=ra(s)+aa(c)+aa(h)+aa(l)+" Z";},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){var i;if(e.prototype.setFill.call(this,t),z(t)&&!("r"in t)||(t=Kt(t)),t instanceof $t)i=t.hex;else if(t instanceof ur||t instanceof dr)i=t.stops.getIndex(0).color.hex;else {var n=new Ya;n.lightness=-.2,this.sideBack.filters.push(n);var r=n.clone();r.lightness=-.4,this.sideLeft.filters.push(r);var a=n.clone();a.lightness=-.2,this.sideRight.filters.push(a);var o=n.clone();o.lightness=-.1,this.sideTop.filters.push(o);var s=n.clone();s.lightness=-.5,this.sideBottom.filters.push(s);}i&&(this.sideBack.fill=Yt(i).lighten(-.2),this.sideLeft.fill=Yt(i).lighten(-.4),this.sideRight.fill=Yt(i).lighten(-.2),this.sideTop.fill=Yt(i).lighten(-.1),this.sideBottom.fill=Yt(i).lighten(-.5));},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.sideBack.copyFrom(t.sideBack),this.sideLeft.copyFrom(t.sideLeft),this.sideRight.copyFrom(t.sideRight),this.sideTop.copyFrom(t.sideTop),this.sideBottom.copyFrom(t.sideBottom);},t}(Lr),Xa=function(e){function t(){var t=e.call(this)||this;t.className="Slice3D",t.layout="none";var i=t.createChild(Dr);t.edge=i,i.shouldClone=!1,i.isMeasured=!1,i.toBack(),t.angle=30,t.depth=20;var n=t.createChild(Dr);t.sideA=n,n.shouldClone=!1,n.isMeasured=!1;var r=t.createChild(Dr);return t.sideB=r,r.shouldClone=!1,r.isMeasured=!1,t.applyTheme(),t}return x(t,e),t.prototype.setFill=function(t){var i;if(e.prototype.setFill.call(this,t),t instanceof $t)i=t.hex;else if(t instanceof ur||t instanceof dr)i=t.stops.getIndex(0).color.hex;else {var n=new Ya;n.lightness=-.25,this.edge.filters.push(n),this.sideA.filters.push(n.clone()),this.sideB.filters.push(n.clone());}if(i){var r=Yt(i).lighten(-.25);this.edge.fill=r,this.sideA.fill=r,this.sideB.fill=r,this.edge.stroke=r,this.sideA.stroke=r,this.sideB.stroke=r;}},t.prototype.draw=function(){if(this.cornerRadius=0,this.innerCornerRadius=0,e.prototype.draw.call(this),0!==this.arc&&this.radius>0&&this.depth>0){this.sideB.show(0),this.sideA.show(0),this.edge.show(0);for(var t=this.startAngle,i=this.arc,n=this.pixelInnerRadius||0,r=this.radiusY||0,a=this.radius,o=t+i,s=r/a*n,l={x:ee(t)*n,y:Z(t)*s},u={x:ee(t)*a,y:Z(t)*r},d={x:ee(o)*a,y:Z(o)*r},c={x:ee(o)*n,y:Z(o)*s},h=this.depth,p={x:l.x,y:l.y-h},m={x:u.x,y:u.y-h},f={x:d.x,y:d.y-h},g={x:c.x,y:c.y-h},y="",v=Math.ceil(i/5),b=i/v,x=t,C=m,S=0;S<v;S++)if((x+=b)>0&&x<180){y+=ra(C);var _={x:ee(x)*a,y:Z(x)*r-h};y+=aa({x:C.x,y:C.y+h}),y+=da({x:_.x,y:_.y+h},a,r,!0),y+=aa(_),y+=da(C,a,r),y+="z",C=_;}else {y+=ra(C),y+=da(_={x:ee(x)*a,y:Z(x)*r-h},a,r,!0),y+=aa({x:_.x,y:_.y+h}),y+=da({x:C.x,y:C.y+h},a,r),y+=aa(C),y+="z",C=_;}C=p,x=t;for(S=0;S<v;S++)if((x+=b)>0&&x<180){y+=ra(C);_={x:ee(x)*n,y:Z(x)*s-h};y+=aa({x:C.x,y:C.y+h}),y+=da({x:_.x,y:_.y+h},n,s,!0),y+=aa(_),y+=da(C,n,s),y+="z",C=_;}else {y+=ra(C),y+=da(_={x:ee(x)*n,y:Z(x)*s-h},n,s,!0),y+=aa({x:_.x,y:_.y+h}),y+=da({x:C.x,y:C.y+h},n,s),y+=aa(C),y+="z",C=_;}this.edge.path=y,this.sideA.path=ra(l)+aa(u)+aa(m)+aa(p)+" Z",this.sideB.path=ra(d)+aa(c)+aa(g)+aa(f)+" Z",this.startAngle<90?this.sideA.toBack():this.sideA.toFront(),this.startAngle+this.arc>90?this.sideB.toBack():this.sideB.toFront(),this.slice.dy=-h;}else this.sideA.hide(0),this.sideB.hide(0),this.edge.hide(0);},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){var e=this.getPropertyValue("angle");return W(e)||(e=0),e},set:function(e){this.setPropertyValue("angle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){var e=this.getPropertyValue("radiusY");return W(e)||(e=this.radius-this.radius*this.angle/90),e},set:function(e){this.setPropertyValue("radiusY",e,!0);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.edge.copyFrom(t.edge),this.sideA.copyFrom(t.sideA),this.sideB.copyFrom(t.sideB);},t}(va),Ja=function(e){function t(){var t=e.call(this)||this;return t.className="RadialGradientModifier",t.gradient=new dr,t.applyTheme(),t}return x(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.gradient=t.gradient.clone();},t}(Ua);St.registeredClasses.RadialGradientModifier=Ja;var Za=function(e){function t(){var t=e.call(this)||this;return t.properties.gap=0,t._line=t.paper.add("path"),t.addElement(t._line),t}return x(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),Math.round(this.rotation/90)!=this.rotation/90&&(this.properties.shapeRendering="auto"),this._line){var t=this.width,i=this.height,n="";if(this.gap)for(var r=this.gap+this.strokeWidth,a=this.height/r,o=-a/2;o<1.5*a;o++)Math.round(this.rotation/90)!=this.rotation/90?(n+=ra({x:-t,y:(o+.5)*r})+aa({x:2*t,y:(o+.5)*r}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):n+=ra({x:-t,y:o*r})+aa({x:2*t,y:o*r});else Math.round(this.rotation/90)!=this.rotation/90?(n=ra({x:-t,y:i/2})+aa({x:2*t,y:i/2}),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2):n=ra({x:0,y:0})+aa({x:t,y:0});this._line.attr({d:n});}},Object.defineProperty(t.prototype,"gap",{get:function(){return this.properties.gap},set:function(e){this.properties.gap=e,this.draw();},enumerable:!0,configurable:!0}),t}(lr);St.registeredClasses.LinePattern=Za;var Qa=function(e){function t(){var t=e.call(this)||this;return t.properties.radius=2,t._circle=t.paper.add("circle"),t.addElement(t._circle),t.shapeRendering="auto",t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this._circle&&this._circle.attr({r:this.radius,cx:this.width/2,cy:this.height/2});},Object.defineProperty(t.prototype,"radius",{get:function(){return this.properties.radius},set:function(e){this.properties.radius=e,this.draw();},enumerable:!0,configurable:!0}),t}(lr);St.registeredClasses.CirclePattern=Qa;var eo=function(e){function t(){var t=e.call(this)||this;return t.rectHeight=1,t.rectWidth=1,t._rect=t.paper.add("rect"),t.addElement(t._rect),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this),this.properties.rotationX=this.width/2,this.properties.rotationY=this.height/2,this._rect&&this._rect.attr({width:this.rectWidth,height:this.rectHeight,x:(this.width-this.rectWidth)/2,y:(this.height-this.rectHeight)/2});},Object.defineProperty(t.prototype,"rectWidth",{get:function(){return this.properties.rectWidth},set:function(e){this.properties.rectWidth=e,this.draw();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectHeight",{get:function(){return this.properties.rectHeight},set:function(e){this.properties.rectHeight=e,this.draw();},enumerable:!0,configurable:!0}),t}(lr);St.registeredClasses.RectPattern=eo;var to=function(e){function t(){var t=e.call(this)||this;return t.className="ColorizeFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"matrix"}),t.filterPrimitives.push(t.feColorMatrix),t.intensity=1,t.applyTheme(),t}return x(t,e),t.prototype.applyFilter=function(){var e,t,i,n=this.intensity,r=1-n,a=this.color;a&&a.rgb?(e=a.rgb.r/255*n,t=a.rgb.g/255*n,i=a.rgb.b/255*n):(e=0,t=0,i=0),this.feColorMatrix.attr({values:r+" 0 0 0 "+e+" 0 "+r+" 0 0 "+t+" 0 0 "+r+" 0 "+i+" 0 0 0 1 0"});},Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.properties.color=e,this.applyFilter();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intensity",{get:function(){return this.properties.intensity},set:function(e){this.properties.intensity=e,this.applyFilter();},enumerable:!0,configurable:!0}),t}(Ia);St.registeredClasses.ColorizeFilter=to;var io=function(e){function t(){var t=e.call(this)||this;return t.className="DesaturateFilter",t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({type:"saturate"}),t.filterPrimitives.push(t.feColorMatrix),t.width=120,t.height=120,t.saturation=0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"saturation",{get:function(){return this.properties.saturation},set:function(e){this.properties.saturation=e,this.feColorMatrix.attr({values:e.toString()});},enumerable:!0,configurable:!0}),t}(Ia);St.registeredClasses.DesaturateFilter=io;var no=function(e){function t(){var t=e.call(this)||this;return t.className="BlurFilter",t.feGaussianBlur=t.paper.add("feGaussianBlur"),t.feGaussianBlur.attr({result:"blurOut",in:"SourceGraphic"}),t.filterPrimitives.push(t.feGaussianBlur),t.width=200,t.height=200,t.blur=1.5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"blur",{get:function(){return this.properties.blur},set:function(e){this.properties.blur=e,this.feGaussianBlur.attr({stdDeviation:e/this.scale});},enumerable:!0,configurable:!0}),t}(Ia);St.registeredClasses.BlurFilter=no;var ro=function(e){function t(){var t=e.call(this)||this;return t.className="FocusFilter",t.feFlood=t.paper.add("feFlood"),t.feFlood.attr({"flood-color":(new Fn).getFor("primaryButtonHover"),result:"base"}),t.filterPrimitives.push(t.feFlood),t.feMorphology=t.paper.add("feMorphology"),t.feMorphology.attr({result:"bigger",in:"SourceGraphic",operator:"dilate",radius:"2"}),t.filterPrimitives.push(t.feMorphology),t.feColorMatrix=t.paper.add("feColorMatrix"),t.feColorMatrix.attr({result:"mask",in:"bigger",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),t.filterPrimitives.push(t.feColorMatrix),t.feComposite=t.paper.add("feComposite"),t.feComposite.attr({result:"drop",in:"base",in2:"mask",operator:"in"}),t.filterPrimitives.push(t.feComposite),t.feBlend=t.paper.add("feBlend"),t.feBlend.attr({in:"SourceGraphic",in2:"drop",mode:"normal"}),t.filterPrimitives.push(t.feBlend),t.width=130,t.height=130,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"stroke",{get:function(){return this.properties.stroke},set:function(e){this.properties.stroke=e,this.feFlood.attr({"flood-color":e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this.properties.strokeWidth},set:function(e){this.properties.strokeWidth=e,this.feMorphology.attr({radius:e});},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.properties.opacity},set:function(e){this.properties.opacity=e,this.feColorMatrix.attr({values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 "+e+" 0"});},enumerable:!0,configurable:!0}),t.prototype.setSprite=function(t){this._sprite&&this._sprite!=t&&this._sprite.group.removeStyle("outline"),t.group.addStyle({outline:"none"}),e.prototype.setSprite.call(this,t);},t}(Ia),ao=function(e){function t(){var t=e.call(this)||this;return t._list=[],t._currentStep=0,t._startIndex=0,t._currentPass=0,t.baseColor=new $t({r:103,g:183,b:220}),t.stepOptions={},t.passOptions={brighten:-.2},t.step=1,t.minColors=20,t.minLightness=.2,t.maxLightness=.9,t.shuffle=!1,t.wrap=!0,t.reuse=!1,t.saturation=1,t.className="ColorSet",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"list",{get:function(){return this._list||this.generate(this.minColors),this._list},set:function(e){this._list=e,this.reset();},enumerable:!0,configurable:!0}),t.prototype.getReusableColor=function(e){if(0==this._list.length)return this.generate(1),this.list[0];var t=e-Math.floor(e/this._list.length)*this.list.length;return this.list[t]},t.prototype.next=function(){var e;return this.list.length<=this._currentStep?this.reuse?e=this.getReusableColor(this._currentStep):(this.generate(te(this.minColors,this._currentStep+1)),e=this.list[this._currentStep]):e=this.list[this._currentStep],this._currentStep+=this.step,e.saturate(this.saturation)},t.prototype.getIndex=function(e){var t;return this.list.length<=e?this.reuse?t=this.getReusableColor(e):(this.generate(this.minColors),t=this.getIndex(e)):t=this.list[e],t.saturate(this.saturation)},t.prototype.reset=function(){this._currentStep=this._startIndex;},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset();},enumerable:!0,configurable:!0}),t.prototype.generate=function(e){var t=Ut(V(this.currentColor.rgb)),i=j(this.stepOptions.hue)?this.stepOptions.hue:1/e,n={brighten:0,lighten:0,hue:t.h,lightness:t.l,saturation:t.s},r=[],a=0==this.list.length?0:1;if(this.reuse)for(var o=a;o<=e;o++)r.push(Ut(V(this._list[o].rgb)).h);else for(o=a;o<=e;o++){var s=t.h+i*o;this.wrap&&s>1&&(s-=1),r.push(s);}this.shuffle&&r.sort((function(e,t){return Math.random()-.5}));for(o=0;o<e;o++){this.reuse?t=Ut(V(this._list[o].rgb)):t.h=r.shift(),this.applyStepOptions(t,n,o,this._currentPass);var l=Yt(Gt(t)),u=(this.stepOptions.brighten||0)*o+(this.passOptions.brighten||0)*this._currentPass;0!=u&&(u=this.wrap?Pi(u,this.minLightness,this.maxLightness):_i(u,this.minLightness,this.maxLightness),l=l.brighten(u));var d=(this.stepOptions.lighten||0)*o+(this.passOptions.lighten||0)*this._currentPass;0!=d&&(d=this.wrap?Pi(d,this.minLightness,this.maxLightness):_i(d,this.minLightness,this.maxLightness),l=l.lighten(d)),this._list.push(l);}this._currentPass++;},Object.defineProperty(t.prototype,"currentColor",{get:function(){return 0==this._list.length?this.baseColor.saturate(this.saturation):this._list[this._list.length-1].saturate(this.saturation)},enumerable:!0,configurable:!0}),t.prototype.applyStepOptions=function(e,t,i,n){e.l=t.lightness+(this.stepOptions.lightness||0)*i+(this.passOptions.lightness||0)*n,this.wrap?(e.l>1?e.l=e.l-Math.floor(e.l):e.l<0&&(e.l=-(e.l-Math.floor(e.l))),e.l=Pi(e.l,this.minLightness,this.maxLightness)):(e.l>1?e.l=1:e.l<0&&(e.l=0),e.l=_i(e.l,this.minLightness,this.maxLightness));},t.prototype.processConfig=function(t){if(t){if(j(t.list)&&H(t.list))for(var i=0,n=t.list.length;i<n;i++)t.list[i]instanceof $t||(t.list[i]=Yt(t.list[i]));!j(t.baseColor)||t.baseColor instanceof $t||(t.baseColor=Yt(t.baseColor));}e.prototype.processConfig.call(this,t);},t}(Xt);St.registeredClasses.ColorSet=ao;var oo=function(e){function t(){var t=e.call(this)||this;t._list=[],t._currentStep=0,t._startIndex=0,t._currentPass=0,t.baseColor=new $t({r:103,g:183,b:220}),t.className="PatternSet";var i=new Fn;return t.list=[t.getLinePattern(1e3,45,1,6),t.getRectPattern(10,0,4),t.getLinePattern(1e3,-45,1,6),t.getCirclePattern(11,2,!0),t.getLinePattern(6,90,1),t.getRectPattern(12,45,6,!0),t.getLinePattern(6,0,1),t.getRectPattern(7,0,4),t.getLinePattern(1e3,45,2,3,"4,2"),t.getCirclePattern(9,3,!1),t.getLinePattern(1e3,-45,2,3,"4,2"),t.getRectPattern(10,45,Math.sqrt(50)),t.getLinePattern(1e3,-45,2,1),t.getRectPattern(10,0,9),t.getLinePattern(1e3,45,2,1),t.getLinePattern(1e3,0,3,1),t.getRectPattern(10,45,10),t.getLinePattern(1e3,90,3,1)],t.baseColor=i.getFor("stroke"),t.applyTheme(),t}return x(t,e),t.prototype.getLinePattern=function(e,t,i,n,r){var a=new Za;return a.width=e,a.height=e,a.stroke=this.baseColor,a.gap=n,a.strokeDasharray=r,a.strokeWidth=i,a.rotation=t,a},t.prototype.getRectPattern=function(e,t,i,n){var r=new eo;return r.width=e,r.height=e,r.rectWidth=i,r.rectHeight=i,n?(r.stroke=this.baseColor,r.strokeWidth=1,r.fillOpacity=0):(r.fill=this.baseColor,r.strokeWidth=0),0!=t&&(r.shapeRendering="auto"),r.rotation=t,r},t.prototype.getCirclePattern=function(e,t,i){var n=new Qa;return n.width=e,n.height=e,n.shapeRendering="auto",n.radius=t,i?(n.stroke=this.baseColor,n.strokeWidth=1,n.fillOpacity=0):(n.fill=this.baseColor,n.strokeWidth=0),n},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},set:function(e){this._list=e,this.reset();},enumerable:!0,configurable:!0}),t.prototype.next=function(){var e=this.getIndex(this.currentStep);return this._currentStep++,e},t.prototype.getIndex=function(e){for(;this.list.length<=e;)this.generatePatterns();return this.list[e].clone()},t.prototype.generatePatterns=function(){var e=this.list.length/(this._currentPass+1);this._currentPass++;for(var t=0;t<e;t++)this.list.push(this.list[t].clone());},t.prototype.reset=function(){this._currentStep=this._startIndex;},Object.defineProperty(t.prototype,"currentStep",{get:function(){return this._currentStep},set:function(e){this._currentStep=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this._startIndex},set:function(e){this._startIndex=e,this.reset();},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){e.prototype.processConfig.call(this,t);},t}(Xt);St.registeredClasses.PatternSet=oo;var so=function(e){function t(){var t=e.call(this)||this;t.className="AmChartsLogo",t.valign="bottom";var i=.3;t.opacity=.3,t.defaultState.properties.opacity=.4,t.url="https://www.amcharts.com/",t.urlTarget="_blank",t.showSystemTooltip=!0,t.readerTitle="Chart created using amCharts library",t.width=66,t.height=21,t.background.opacity=0;var n=Yt("#474758");"#ffffff"==(new Fn).getFor("background").alternative.hex&&(n=Yt("#ffffff"));var r=new ur;r.addColor(n),r.addColor(n,1,.75),r.addColor(Yt("#3cabff"),1,.755),r.rotation=-10;var a=r,o=t.createChild(ya);o.shouldClone=!1,o.isMeasured=!1,o.segments=[[{x:15,y:15},{x:27,y:15},{x:36,y:6},{x:40.5,y:10.5},{x:45,y:6},{x:54,y:15},{x:60,y:15}]],o.strokeWidth=6*i,o.tensionX=.8,o.tensionY=1,o.stroke=Yt("#3cabff");var s=t.createChild(ya);s.shouldClone=!1,s.isMeasured=!1,s.segments=[[{x:6,y:15},{x:15,y:15},{x:27,y:12*i},{x:39.9,y:15},{x:51,y:15},{x:60,y:15}]],s.strokeWidth=6*i,s.tensionX=.75,s.tensionY=1,s.stroke=a,t._disposers.push(s);var l=new io;t.filters.push(l);var u=new io;u.saturation=1;var d=t.states.create("hover");return d.properties.opacity=1,d.filters.push(u),t.applyTheme(),t}return x(t,e),t}(Lr);function lo(e,t){var i,n=fn(e),r=!1;if(n||((n=document.createElement("div")).style.width="200px",n.style.height="200px",n.style.top="0",n.style.left="0",n.style.visibility="hidden",n.style.position="absolute",document.body.appendChild(n),r=!0),n){n.innerHTML="";var a=new rr(n),o=new ar(a.SVGContainer,"svg-"+(nr.length-1)),s=new Lr;s.htmlContainer=n,s.svgContainer=a,s.width=A(100),s.height=A(100),s.background.fillOpacity=0,s.paper=o,o.append(s.group),r&&function(e){if("loading"!==document.readyState)e();else {var t=function(){"loading"!==document.readyState&&(document.removeEventListener("readystatechange",t),e());};document.addEventListener("readystatechange",t);}}((function(){s.moveHtmlContainer(e);})),s.relativeWidth=1,s.relativeHeight=1,a.container=s;var l=s.createChild(t);l.topParent=s;var u=l.uid;St.invalidSprites[u]=[],St.invalidDatas[u]=[],St.invalidPositions[u]=[],St.invalidLayouts[u]=[],s.baseId=u,l.isBaseSprite=!0,l.focusFilter=new ro,St.baseSprites.push(l),St.baseSpritesByUid[u]=l,l.maskRectangle={x:0,y:0,width:Math.max(a.width||0,0),height:Math.max(a.height||0,0)},s.events.on("maxsizechanged",(function(e){0!=e.previousWidth&&0!=e.previousHeight||s.deepInvalidate(),l.maskRectangle&&(l.maskRectangle={x:0,y:0,width:Math.max(a.width||0,0),height:Math.max(a.height||0,0)});}));var d=null,c=function(){l.isDisposed()?d=null:null==_n(l.dom)?(nn.autoDispose?(s.htmlContainer=void 0,a.htmlElement=void 0,l.dispose()):Zn("Chart was not disposed",l.uid),d=null):d=window.setTimeout(c,1e3);};c(),l.addDisposer(new Ve((function(){null!==d&&clearTimeout(d),Te(St.baseSprites,l),St.baseSpritesByUid[l.uid]=void 0;}))),l.addDisposer(s);var h=s.createChild(Lr);h.topParent=s,h.width=A(100),h.height=A(100),h.isMeasured=!1,s.tooltipContainer=h,l.tooltip=new Aa,l.tooltip.hide(0),l.tooltip.setBounds({x:0,y:0,width:h.maxWidth,height:h.maxHeight}),h.events.on("maxsizechanged",(function(){V(l.tooltip).setBounds({x:0,y:0,width:h.maxWidth,height:h.maxHeight});}),void 0,!1);var p=new ba;if(p.events.on("inited",(function(){p.__disabled=!0;}),void 0,!1),s.preloader=p,l instanceof Lr&&!l.hasLicense()){var m=h.createChild(so);h.events.on("maxsizechanged",(function(e){h.maxWidth<=100||h.maxHeight<=50?m.hide():(m.isHidden||m.isHiding)&&m.show();}),void 0,!1),l.logo=m,m.align="left",m.valign="bottom";}return l.numberFormatter,s.isStandaloneInstance=!0,nn.queue&&(i=l,-1==St.queue.indexOf(i)&&(i.__disabled=!0,i.tooltipContainer.__disabled=!0,i.events.disableType("appeared"),0==St.queue.length&&(St.events.once("exitframe",(function(){co(i);})),jr.requestFrame()),i.addDisposer(new Ve((function(){uo(i);}))),St.queue.push(i))),l}throw jr.log("html container not found"),new Error("html container not found")}function uo(e){var t=St.queue.indexOf(e);if(t>=0){St.queue.splice(St.queue.indexOf(e),1);var i=St.queue[t];i&&co(i);}}function co(e){e&&e.tooltipContainer&&(e.__disabled=!1,e.tooltipContainer.__disabled=!1,e.events.enableType("appeared"),e.dispatch("removedfromqueue"),e.showOnInit&&e.events.on("appeared",(function(){uo(e);})),e.vpDisposer&&e.vpDisposer.dispose(),e instanceof Lr&&e.invalidateLabels(),e.tooltipContainer&&e.tooltipContainer.invalidateLayout(),e instanceof Yr?(e.invalidateData(),e.reinit(),e.events.once("datavalidated",(function(){e.showOnInit?e.appear():uo(e);}))):(e.reinit(),e.events.once("inited",(function(){uo(e);})),e.showOnInit&&e.appear()));}function ho(e,t){var i;N(t)&&(j(St.registeredClasses[t])?t=St.registeredClasses[t]:(t=St.registeredClasses.Container,i=new Error("Class ["+t+"] is not loaded.")));var n=lo(e,t);return i&&n.raiseCriticalError(i),n}const po="esriFieldTypeDouble",mo="esriFieldTypeInteger",fo="esriFieldTypeSingle",go="esriFieldTypeSmallInteger",yo="count",vo="esriSLS",bo="esriSMS",xo="esriSFS",Co="class-breaks",So="number",_o="scatterSeries",Po="pieSeries",wo="gaugeSeries",Io="lineSeries",To="barSeries",Ao="histogramSeries",Oo="comboLineAndBarSeries",ko="none",Fo="logarithmic",Do="squareRoot",Mo="layer",Lo=yo,Eo="newer",jo="unrecognized";function Vo(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ro(e){let t=e,i=e,n=e;function r(e,t,r=0,a=e.length){if(r<a){if(0!==i(t,t))return a;do{const i=r+a>>>1;n(e[i],t)<0?r=i+1:a=i;}while(r<a)}return r}return 2!==e.length&&(t=(t,i)=>e(t)-i,i=Vo,n=(t,i)=>Vo(e(t),i)),{left:r,center:function(e,i,n=0,a=e.length){const o=r(e,i,n,a-1);return o>n&&t(e[o-1],i)>-t(e[o],i)?o-1:o},right:function(e,t,r=0,a=e.length){if(r<a){if(0!==i(t,t))return a;do{const i=r+a>>>1;n(e[i],t)<=0?r=i+1:a=i;}while(r<a)}return r}}}const Bo=Ro(Vo).right;Ro((function(e){return null===e?NaN:+e})).center;var No=Bo;function Wo(e,t){let i,n;if(void 0===t)for(const t of e)null!=t&&(void 0===i?t>=t&&(i=n=t):(i>t&&(i=t),n<t&&(n=t)));else {let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(void 0===i?a>=a&&(i=n=a):(i>a&&(i=a),n<a&&(n=a)));}return [i,n]}function zo(e){return e}function Ho(e,t){return (null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}var Go=Array.prototype.slice;function Uo(e){return ()=>e}var qo=Math.sqrt(50),$o=Math.sqrt(10),Yo=Math.sqrt(2);function Ko(e,t,i){var n=(t-e)/Math.max(0,i),r=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,r);return r>=0?(a>=qo?10:a>=$o?5:a>=Yo?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(a>=qo?10:a>=$o?5:a>=Yo?2:1)}function Xo(e){return Math.ceil(Math.log(function(e,t){let i=0;for(let t of e)null!=t&&(t=+t)>=t&&++i;return i}(e))/Math.LN2)+1}function Jo(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i<t||void 0===i&&t>=t)&&(i=t);else {let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(i<r||void 0===i&&r>=r)&&(i=r);}return i}function Zo(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i>t||void 0===i&&t>=t)&&(i=t);else {let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(i>r||void 0===i&&r>=r)&&(i=r);}return i}function Qo(e,t,i=0,n=e.length-1,r){for(r=void 0===r?Ho:function(e=Vo){if(e===Vo)return Ho;if("function"!=typeof e)throw new TypeError("compare is not a function");return (t,i)=>{const n=e(t,i);return n||0===n?n:(0===e(i,i))-(0===e(t,t))}}(r);n>i;){if(n-i>600){const a=n-i+1,o=t-i+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);Qo(e,t,Math.max(i,Math.floor(t-o*l/a+u)),Math.min(n,Math.floor(t+(a-o)*l/a+u)),r);}const a=e[t];let o=i,s=n;for(es(e,i,t),r(e[n],a)>0&&es(e,i,n);o<s;){for(es(e,o,s),++o,--s;r(e[o],a)<0;)++o;for(;r(e[s],a)>0;)--s;}0===r(e[i],a)?es(e,i,s):(++s,es(e,s,n)),s<=t&&(i=s+1),t<=s&&(n=s-1);}return e}function es(e,t,i){const n=e[t];e[t]=e[i],e[i]=n;}function ts(e,t){return function(e,t,i){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else {let i=-1;for(let n of e)null!=(n=t(n,++i,e))&&(n=+n)>=n&&(yield n);}}(e,i)),n=e.length){if((t=+t)<=0||n<2)return Zo(e);if(t>=1)return Jo(e);var n,r=(n-1)*t,a=Math.floor(r),o=Jo(Qo(e,a).subarray(0,a+1));return o+(Zo(e.subarray(a+1))-o)*(r-a)}}(e,.5,t)}function is(e,t){let i=0;if(void 0===t)for(let t of e)(t=+t)&&(i+=t);else {let n=-1;for(let r of e)(r=+t(r,++n,e))&&(i+=r);}return i}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function ns(e,t,i,n){return new(i||(i=Promise))((function(r,a){function o(e){try{l(n.next(e));}catch(e){a(e);}}function s(e){try{l(n.throw(e));}catch(e){a(e);}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t);}))).then(o,s);}l((n=n.apply(e,t||[])).next());}))}var rs="object"==typeof global&&global&&global.Object===Object&&global,as="object"==typeof self&&self&&self.Object===Object&&self,os=rs||as||Function("return this")(),ss=os.Symbol,ls=Object.prototype,us=ls.hasOwnProperty,ds=ls.toString,cs=ss?ss.toStringTag:void 0,hs=Object.prototype.toString,ps=ss?ss.toStringTag:void 0;function ms(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ps&&ps in Object(e)?function(e){var t=us.call(e,cs),i=e[cs];try{e[cs]=void 0;var n=!0;}catch(e){}var r=ds.call(e);return n&&(t?e[cs]=i:delete e[cs]),r}(e):function(e){return hs.call(e)}(e)}function fs(e){return null!=e&&"object"==typeof e}function gs(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var ys=Array.isArray,vs=ss?ss.prototype:void 0,bs=vs?vs.toString:void 0;function xs(e){if("string"==typeof e)return e;if(ys(e))return gs(e,xs)+"";if(function(e){return "symbol"==typeof e||fs(e)&&"[object Symbol]"==ms(e)}(e))return bs?bs.call(e):"";var t=e+"";return "0"==t&&1/e==-1/0?"-0":t}function Cs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ss(e){return e}function _s(e){if(!Cs(e))return !1;var t=ms(e);return "[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Ps,ws=os["__core-js_shared__"],Is=(Ps=/[^.]+$/.exec(ws&&ws.keys&&ws.keys.IE_PROTO||""))?"Symbol(src)_1."+Ps:"",Ts=Function.prototype.toString;function As(e){if(null!=e){try{return Ts.call(e)}catch(e){}try{return e+""}catch(e){}}return ""}var Os=/^\[object .+?Constructor\]$/,ks=Function.prototype,Fs=Object.prototype,Ds=ks.toString,Ms=Fs.hasOwnProperty,Ls=RegExp("^"+Ds.call(Ms).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Es(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return !(!Cs(e)||(t=e,Is&&Is in t))&&(_s(e)?Ls:Os).test(As(e));var t;}(i)?i:void 0}var js=Es(os,"WeakMap"),Vs=Object.create,Rs=function(){function e(){}return function(t){if(!Cs(t))return {};if(Vs)return Vs(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),Bs=Rs;function Ns(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var Ws=Date.now,zs=function(){try{var e=Es(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Hs=zs,Gs=Hs?function(e,t){return Hs(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i;}:Ss,Us=function(e){var t=0,i=0;return function(){var n=Ws(),r=16-(n-i);if(i=n,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Gs),qs=Us,$s=/^(?:0|[1-9]\d*)$/;function Ys(e,t){var i=typeof e;return !!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&$s.test(e))&&e>-1&&e%1==0&&e<t}function Ks(e,t,i){"__proto__"==t&&Hs?Hs(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i;}function Xs(e,t){return e===t||e!=e&&t!=t}var Js=Object.prototype.hasOwnProperty;function Zs(e,t,i){var n=e[t];Js.call(e,t)&&Xs(n,i)&&(void 0!==i||t in e)||Ks(e,t,i);}function Qs(e,t,i,n){var r=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),r?Ks(i,s,l):Zs(i,s,l);}return i}var el=Math.max;function tl(e,t){return qs(function(e,t,i){return t=el(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=el(n.length-t,0),o=Array(a);++r<a;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=i(o),Ns(e,this,s)}}(e,t,Ss),e+"")}function il(e){return "number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function nl(e){return null!=e&&il(e.length)&&!_s(e)}function rl(e,t,i){if(!Cs(i))return !1;var n=typeof t;return !!("number"==n?nl(i)&&Ys(t,i.length):"string"==n&&t in i)&&Xs(i[t],e)}var al=Object.prototype;function ol(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||al)}function sl(e){return fs(e)&&"[object Arguments]"==ms(e)}var ll=Object.prototype,ul=ll.hasOwnProperty,dl=ll.propertyIsEnumerable,cl=sl(function(){return arguments}())?sl:function(e){return fs(e)&&ul.call(e,"callee")&&!dl.call(e,"callee")},hl="object"==typeof exports&&exports&&!exports.nodeType&&exports,pl=hl&&"object"==typeof module&&module&&!module.nodeType&&module,ml=pl&&pl.exports===hl?os.Buffer:void 0,fl=(ml?ml.isBuffer:void 0)||function(){return !1},gl={};function yl(e){return function(t){return e(t)}}gl["[object Float32Array]"]=gl["[object Float64Array]"]=gl["[object Int8Array]"]=gl["[object Int16Array]"]=gl["[object Int32Array]"]=gl["[object Uint8Array]"]=gl["[object Uint8ClampedArray]"]=gl["[object Uint16Array]"]=gl["[object Uint32Array]"]=!0,gl["[object Arguments]"]=gl["[object Array]"]=gl["[object ArrayBuffer]"]=gl["[object Boolean]"]=gl["[object DataView]"]=gl["[object Date]"]=gl["[object Error]"]=gl["[object Function]"]=gl["[object Map]"]=gl["[object Number]"]=gl["[object Object]"]=gl["[object RegExp]"]=gl["[object Set]"]=gl["[object String]"]=gl["[object WeakMap]"]=!1;var vl="object"==typeof exports&&exports&&!exports.nodeType&&exports,bl=vl&&"object"==typeof module&&module&&!module.nodeType&&module,xl=bl&&bl.exports===vl&&rs.process,Cl=function(){try{return bl&&bl.require&&bl.require("util").types||xl&&xl.binding&&xl.binding("util")}catch(e){}}(),Sl=Cl&&Cl.isTypedArray,_l=Sl?yl(Sl):function(e){return fs(e)&&il(e.length)&&!!gl[ms(e)]},Pl=Object.prototype.hasOwnProperty;function wl(e,t){var i=ys(e),n=!i&&cl(e),r=!i&&!n&&fl(e),a=!i&&!n&&!r&&_l(e),o=i||n||r||a,s=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!Pl.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ys(u,l))||s.push(u);return s}function Il(e,t){return function(i){return e(t(i))}}var Tl=Il(Object.keys,Object),Al=Object.prototype.hasOwnProperty;function Ol(e){if(!ol(e))return Tl(e);var t=[];for(var i in Object(e))Al.call(e,i)&&"constructor"!=i&&t.push(i);return t}function kl(e){return nl(e)?wl(e):Ol(e)}var Fl=Object.prototype.hasOwnProperty;function Dl(e){return nl(e)?wl(e,!0):function(e){if(!Cs(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=ol(e),i=[];for(var n in e)("constructor"!=n||!t&&Fl.call(e,n))&&i.push(n);return i}(e)}var Ml,Ll=(Ml=function(e,t,i,n){Qs(t,Dl(t),e,n);},tl((function(e,t){var i=-1,n=t.length,r=n>1?t[n-1]:void 0,a=n>2?t[2]:void 0;for(r=Ml.length>3&&"function"==typeof r?(n--,r):void 0,a&&rl(t[0],t[1],a)&&(r=n<3?void 0:r,n=1),e=Object(e);++i<n;){var o=t[i];o&&Ml(e,o,0,r);}return e}))),El=Ll,jl=Es(Object,"create"),Vl=Object.prototype.hasOwnProperty,Rl=Object.prototype.hasOwnProperty;function Bl(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}function Nl(e,t){for(var i=e.length;i--;)if(Xs(e[i][0],t))return i;return -1}Bl.prototype.clear=function(){this.__data__=jl?jl(null):{},this.size=0;},Bl.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bl.prototype.get=function(e){var t=this.__data__;if(jl){var i=t[e];return "__lodash_hash_undefined__"===i?void 0:i}return Vl.call(t,e)?t[e]:void 0},Bl.prototype.has=function(e){var t=this.__data__;return jl?void 0!==t[e]:Rl.call(t,e)},Bl.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=jl&&void 0===t?"__lodash_hash_undefined__":t,this};var Wl=Array.prototype.splice;function zl(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}zl.prototype.clear=function(){this.__data__=[],this.size=0;},zl.prototype.delete=function(e){var t=this.__data__,i=Nl(t,e);return !(i<0||(i==t.length-1?t.pop():Wl.call(t,i,1),--this.size,0))},zl.prototype.get=function(e){var t=this.__data__,i=Nl(t,e);return i<0?void 0:t[i][1]},zl.prototype.has=function(e){return Nl(this.__data__,e)>-1},zl.prototype.set=function(e,t){var i=this.__data__,n=Nl(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var Hl=Es(os,"Map");function Gl(e,t){var i=e.__data__;return function(e){var t=typeof e;return "string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?i["string"==typeof t?"string":"hash"]:i.map}function Ul(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}function ql(e){return null==e?"":xs(e)}function $l(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}Ul.prototype.clear=function(){this.size=0,this.__data__={hash:new Bl,map:new(Hl||zl),string:new Bl};},Ul.prototype.delete=function(e){var t=Gl(this,e).delete(e);return this.size-=t?1:0,t},Ul.prototype.get=function(e){return Gl(this,e).get(e)},Ul.prototype.has=function(e){return Gl(this,e).has(e)},Ul.prototype.set=function(e,t){var i=Gl(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};var Yl=Il(Object.getPrototypeOf,Object),Kl=Function.prototype,Xl=Object.prototype,Jl=Kl.toString,Zl=Xl.hasOwnProperty,Ql=Jl.call(Object);function eu(e){if(!fs(e))return !1;var t=ms(e);return "[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!fs(e)||"[object Object]"!=ms(e))return !1;var t=Yl(e);if(null===t)return !0;var i=Zl.call(t,"constructor")&&t.constructor;return "function"==typeof i&&i instanceof i&&Jl.call(i)==Ql}(e)}var tu=tl((function(e,t){try{return Ns(e,void 0,t)}catch(e){return eu(e)?e:new Error(e)}})),iu=tu;function nu(e){var t=this.__data__=new zl(e);this.size=t.size;}nu.prototype.clear=function(){this.__data__=new zl,this.size=0;},nu.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},nu.prototype.get=function(e){return this.__data__.get(e)},nu.prototype.has=function(e){return this.__data__.has(e)},nu.prototype.set=function(e,t){var i=this.__data__;if(i instanceof zl){var n=i.__data__;if(!Hl||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new Ul(n);}return i.set(e,t),this.size=i.size,this};var ru="object"==typeof exports&&exports&&!exports.nodeType&&exports,au=ru&&"object"==typeof module&&module&&!module.nodeType&&module,ou=au&&au.exports===ru?os.Buffer:void 0,su=ou?ou.allocUnsafe:void 0;function lu(){return []}var uu=Object.prototype.propertyIsEnumerable,du=Object.getOwnPropertySymbols,cu=du?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,a=[];++i<n;){var o=e[i];t(o)&&(a[r++]=o);}return a}(du(e),(function(t){return uu.call(e,t)})))}:lu,hu=cu,pu=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$l(t,hu(e)),e=Yl(e);return t}:lu,mu=pu;function fu(e,t,i){var n=t(e);return ys(e)?n:$l(n,i(e))}function gu(e){return fu(e,kl,hu)}function yu(e){return fu(e,Dl,mu)}var vu=Es(os,"DataView"),bu=Es(os,"Promise"),xu=Es(os,"Set"),Cu=As(vu),Su=As(Hl),_u=As(bu),Pu=As(xu),wu=As(js),Iu=ms;(vu&&"[object DataView]"!=Iu(new vu(new ArrayBuffer(1)))||Hl&&"[object Map]"!=Iu(new Hl)||bu&&"[object Promise]"!=Iu(bu.resolve())||xu&&"[object Set]"!=Iu(new xu)||js&&"[object WeakMap]"!=Iu(new js))&&(Iu=function(e){var t=ms(e),i="[object Object]"==t?e.constructor:void 0,n=i?As(i):"";if(n)switch(n){case Cu:return "[object DataView]";case Su:return "[object Map]";case _u:return "[object Promise]";case Pu:return "[object Set]";case wu:return "[object WeakMap]"}return t});var Tu=Iu,Au=Object.prototype.hasOwnProperty,Ou=os.Uint8Array;function ku(e){var t=new e.constructor(e.byteLength);return new Ou(t).set(new Ou(e)),t}var Fu=/\w*$/,Du=ss?ss.prototype:void 0,Mu=Du?Du.valueOf:void 0;var Lu=Cl&&Cl.isMap,Eu=Lu?yl(Lu):function(e){return fs(e)&&"[object Map]"==Tu(e)},ju=Cl&&Cl.isSet,Vu=ju?yl(ju):function(e){return fs(e)&&"[object Set]"==Tu(e)},Ru={};function Bu(e,t,i,n,r,a){var o,s=1&t,l=2&t,u=4&t;if(i&&(o=r?i(e,n,r,a):i(e)),void 0!==o)return o;if(!Cs(e))return e;var d=ys(e);if(d){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&Au.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(e,o)}else {var c=Tu(e),h="[object Function]"==c||"[object GeneratorFunction]"==c;if(fl(e))return function(e,t){if(t)return e.slice();var i=e.length,n=su?su(i):new e.constructor(i);return e.copy(n),n}(e,s);if("[object Object]"==c||"[object Arguments]"==c||h&&!r){if(o=l||h?{}:function(e){return "function"!=typeof e.constructor||ol(e)?{}:Bs(Yl(e))}(e),!s)return l?function(e,t){return Qs(e,mu(e),t)}(e,function(e,t){return e&&Qs(t,Dl(t),e)}(o,e)):function(e,t){return Qs(e,hu(e),t)}(e,function(e,t){return e&&Qs(t,kl(t),e)}(o,e))}else {if(!Ru[c])return r?e:{};o=function(e,t,i){var n,r,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return ku(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?ku(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var i=t?ku(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(e,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return (a=new(r=e).constructor(r.source,Fu.exec(r))).lastIndex=r.lastIndex,a;case"[object Symbol]":return n=e,Mu?Object(Mu.call(n)):{}}}(e,c,s);}}a||(a=new nu);var p=a.get(e);if(p)return p;a.set(e,o),Vu(e)?e.forEach((function(n){o.add(Bu(n,t,i,n,e,a));})):Eu(e)&&e.forEach((function(n,r){o.set(r,Bu(n,t,i,r,e,a));}));var m=d?void 0:(u?l?yu:gu:l?Dl:kl)(e);return function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i););}(m||e,(function(n,r){m&&(n=e[r=n]),Zs(o,r,Bu(n,t,i,r,e,a));})),o}function Nu(e){return Bu(e,5)}Ru["[object Arguments]"]=Ru["[object Array]"]=Ru["[object ArrayBuffer]"]=Ru["[object DataView]"]=Ru["[object Boolean]"]=Ru["[object Date]"]=Ru["[object Float32Array]"]=Ru["[object Float64Array]"]=Ru["[object Int8Array]"]=Ru["[object Int16Array]"]=Ru["[object Int32Array]"]=Ru["[object Map]"]=Ru["[object Number]"]=Ru["[object Object]"]=Ru["[object RegExp]"]=Ru["[object Set]"]=Ru["[object String]"]=Ru["[object Symbol]"]=Ru["[object Uint8Array]"]=Ru["[object Uint8ClampedArray]"]=Ru["[object Uint16Array]"]=Ru["[object Uint32Array]"]=!0,Ru["[object Error]"]=Ru["[object Function]"]=Ru["[object WeakMap]"]=!1;var Wu,zu=(Wu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==Wu?void 0:Wu[e]}),Hu=/[&<>"']/g,Gu=RegExp(Hu.source),Uu=Object.prototype.hasOwnProperty;function qu(e){if(null==e)return !0;if(nl(e)&&(ys(e)||"string"==typeof e||"function"==typeof e.splice||fl(e)||_l(e)||cl(e)))return !e.length;var t=Tu(e);if("[object Map]"==t||"[object Set]"==t)return !e.size;if(ol(e))return !Ol(e).length;for(var i in e)if(Uu.call(e,i))return !1;return !0}var $u=Object.prototype,Yu=$u.hasOwnProperty;function Ku(e,t,i,n){return void 0===e||Xs(e,$u[i])&&!Yu.call(n,i)?t:e}var Xu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function Ju(e){return "\\"+Xu[e]}var Zu=/<%=([\s\S]+?)%>/g,Qu={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:Zu,variable:"",imports:{_:{escape:function(e){return (e=ql(e))&&Gu.test(e)?e.replace(Hu,zu):e}}}},ed=/\b__p \+= '';/g,td=/\b(__p \+=) '' \+/g,id=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nd=/[()=,{}\[\]\/\s]/,rd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ad=/($^)/,od=/['\n\r\u2028\u2029\\]/g,sd=Object.prototype.hasOwnProperty;const ld="reject",ud="renderUpToTheLimit",dd={Arabic:"ar",ArabicLatin:"ar-u-nu-latn",Bosnian:"bs",Bulgarian:"bg",Catalan:"ca",Czech:"cs",Danish:"da",German:"de",Greek:"el",English:"en",EnglishUSA:"en-US",Spanish:"es",Estonian:"et",Finnish:"fi",French:"fr",Hebrew:"he",Croatian:"hr",Hungarian:"hu",Indonesian:"id",Italian:"it",Japanese:"ja",Korean:"ko",Lithuanian:"lt",Latvian:"lv",NorwegianBokml:"nb",Dutch:"nl",Polish:"pl",PortugueseBrazil:"pt-BR",PortuguesePortugal:"pt-PT",Romanian:"ro",Russian:"ru",Serbian:"sr",Slovenian:"sl",Slovak:"sk",Swedish:"sv",Thai:"th",Turkish:"tr",Ukrainian:"uk",Vietnamese:"vi",ChineseChina:"zh-CN",ChineseHongKong:"zh-HK",ChineseTaiwan:"zh-TW"},cd=[...Object.values(dd),"en-AU","en-GB","es-ES","es-MX","de-CH","de-DE","it-CH","it-IT"],hd=[dd.Arabic,dd.Hebrew];function pd(e,t){return function(e,t,i){var n=Qu.imports._.templateSettings||Qu;i&&rl(e,t,i)&&(t=void 0),e=ql(e),t=El({},t,n,Ku);var r,a,o=El({},t.imports,n.imports,Ku),s=kl(o),l=function(e,t){return gs(t,(function(t){return e[t]}))}(o,s),u=0,d=t.interpolate||ad,c="__p += '",h=RegExp((t.escape||ad).source+"|"+d.source+"|"+(d===Zu?rd:ad).source+"|"+(t.evaluate||ad).source+"|$","g"),p=sd.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(h,(function(t,i,n,o,s,l){return n||(n=o),c+=e.slice(u,l).replace(od,Ju),i&&(r=!0,c+="' +\n__e("+i+") +\n'"),s&&(a=!0,c+="';\n"+s+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),c+="';\n";var m=sd.call(t,"variable")&&t.variable;if(m){if(nd.test(m))throw new Error("Invalid `variable` option passed into `_.template`")}else c="with (obj) {\n"+c+"\n}\n";c=(a?c.replace(ed,""):c).replace(td,"$1").replace(id,"$1;"),c="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var f=iu((function(){return Function(s,p+"return "+c).apply(void 0,l)}));if(f.source=c,eu(f))throw f;return f}(e)(t)}function md(e,t){let i=dd.English;const n=function(e){let t=e;if(void 0!==e&&-1!==e.indexOf("-")){const[i,n]=e.split("-");t=`${i}-${n.toUpperCase()}`;}return t}(e);if(void 0!==n)if(!0===t.includes(n))i=n;else {const e=function(e){const t=null==e?void 0:e.match(/^([a-z]{2})-([A-Z]{2})$/);let i=dd.English;return null!=t&&(null==t?void 0:t.length)>1?i=t[1]:2===(null==e?void 0:e.length)&&e.toLowerCase()===e&&(i=e),i}(n);!0===t.includes(e)&&(i=e);}return i}function fd(e=document.documentElement){var t;const i=("[lang]",function e(t){let i;return i=void 0===t||t===document||t===window?null:t.closest("[lang]")||e(t.getRootNode().host),i}(e));const n=null!==(t=null==i?void 0:i.lang)&&void 0!==t?t:window.navigator.language,r=Object.values(dd),a=Object.values(cd),o=md(n,r);let s=md(n,a);return s="ar"===s?"ar-u-nu-latn":s,{locale:o,rtl:hd.includes(o),formatLocale:s}}const gd="arcgis_charts_features_extent",yd={maxRecordCountFactor:5,maxParallelRequests:4,maxRecords:2e3,orderByJSAPIDelimiter:" ",outStatistics:{statisticType:Lo,onStatisticField:"OBJECTID",outStatisticFieldName:"arcgis_charts_outStatisticFieldName_default_key"},uniqueIdsName:"arcgisChartsUniqueIds"},vd=[156,156,156,255],bd="arcgis_charts_group_of_slices",xd="arcgis-charts-slice-id",Cd="arcgis-charts-slice-id-undefined",Sd="arcgis-charts-slice-id-null",_d="arcgis-charts-slice-id-empty",Pd=[[31,120,180,255],[166,206,227,255],[51,160,44,255],[178,223,138,255],[227,26,28,255],[251,154,153,255],[255,127,0,255],[253,191,111,255],[106,61,154,255],[202,178,214,255]],wd=[[104,104,104,255],[51,124,235,255],[132,0,168,255],[156,156,156,255]];function Id(e){const{colorIndex:t,opacity:i,histogramOverlays:n}=e,r=Math.max(0,null!=t?t:0),a=[...!0===n?wd:Pd],[o,s,l,u]=a[r%a.length];return [o,s,l,void 0!==i?255*i:u]}function Td(e=1){return [Math.floor(256*Math.random()),Math.floor(256*Math.random()),Math.floor(256*Math.random()),255*e]}function Ad(e){var t,i,n;const r=null!==(t=null==e?void 0:e.useRandomColor)&&void 0!==t&&t,a=null==e?void 0:e.useRampColor,o=null!==(i=null==e?void 0:e.width)&&void 0!==i?i:1,s=null==e?void 0:e.isHistogramOverlay;let l=null!==(n=null==e?void 0:e.color)&&void 0!==n?n:function(e){return [0,0,0,255*(null!=e?e:.7)]}(1);return !0===r?l=Td():void 0!==a&&(l=Id(!0===s?{colorIndex:a.colorIndex,histogramOverlays:s}:{colorIndex:a.colorIndex})),void 0!==(null==e?void 0:e.opacity)&&(l[3]=e.opacity),{type:vo,style:"esriSLSSolid",color:l,width:o}}function Od(){return {type:So,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:2}}}function kd(e=!1){return {type:bo,style:"esriSMSCircle",color:!0===e?Td(.7):Id({colorIndex:0,opacity:.7}),size:4}}const Fd={behaviorAfterLimit:ld,maxBarUniqueSeriesCountTotal:1e4,maxBarTwoSeriesCountPerSeries:1e3,maxBarTwoSeriesCountTotal:2e3,maxBarThreePlusSeriesCountPerSeries:100,maxBarThreePlusSeriesCountTotal:2e3,maxScatterPointsBeforeAggregation:1e4,maxScatterPointsAfterAggregation:1e4,maxLineChartMarkersCountTotal:1e4,maxLineChartSeriesCount:100,maxPieChartSliceCountTotal:300,maxGaugeByFeaturesLimit:50};function Dd(e){let t=Object.assign({},Fd);return void 0!==e&&Object.keys(Fd).forEach((i=>{var n,r;t[i]="behaviorAfterLimit"===i?null!==(n=e[i])&&void 0!==n?n:Fd[i]:null!==(r=e[i])&&void 0!==r?r:Fd[i];})),t}var Md={exports:{}};function Ld(e,t,i,n){var r,a=null==(r=n)||"number"==typeof r||"boolean"==typeof r?n:i(n),o=t.get(a);return void 0===o&&(o=e.call(this,n),t.set(a,o)),o}function Ed(e,t,i){var n=Array.prototype.slice.call(arguments,3),r=i(n),a=t.get(r);return void 0===a&&(a=e.apply(this,n),t.set(r,a)),a}function jd(e,t,i,n,r){return i.bind(t,e,n,r)}function Vd(e,t){return jd(e,this,1===e.length?Ld:Ed,t.cache.create(),t.serializer)}function Rd(){return JSON.stringify(arguments)}function Bd(){this.cache=Object.create(null);}Bd.prototype.has=function(e){return e in this.cache},Bd.prototype.get=function(e){return this.cache[e]},Bd.prototype.set=function(e,t){this.cache[e]=t;};var Nd={create:function(){return new Bd}};Md.exports=function(e,t){var i=t&&t.cache?t.cache:Nd,n=t&&t.serializer?t.serializer:Rd;return (t&&t.strategy?t.strategy:Vd)(e,{cache:i,serializer:n})},Md.exports.strategies={variadic:function(e,t){return jd(e,this,Ed,t.cache.create(),t.serializer)},monadic:function(e,t){return jd(e,this,Ld,t.cache.create(),t.serializer)}};var Wd=Md.exports;const zd="simple",Hd="noAggregation",Gd="splitByFieldValues",Ud="multipleNumericalFields",qd="pieFromFields";
/*!
 * @esri/arcgis-html-sanitizer - v2.10.0 - Tue Mar 15 2022 16:38:25 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2022 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2017 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 * 
 * Lodash/isPlainObject
 * Copyright (c) JS Foundation and other contributors <https://js.foundation/>
 * MIT License, see https://raw.githubusercontent.com/lodash/lodash/4.17.10-npm/LICENSE for details
 */var $d,Yd,Kd=Function.prototype,Xd=Object.prototype,Jd=Kd.toString,Zd=Xd.hasOwnProperty,Qd=Jd.call(Object),ec=Xd.toString,tc=($d=Object.getPrototypeOf,Yd=Object,function(e){return $d(Yd(e))}),ic={exports:{}},nc={},rc={exports:{}},ac={};function oc(){return {"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1}}var sc=/javascript\s*\:/gim;ac.whiteList={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1},ac.getDefaultWhiteList=oc,ac.onAttr=function(e,t,i){},ac.onIgnoreAttr=function(e,t,i){},ac.safeAttrValue=function(e,t){return sc.test(t)?"":t};var lc=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},uc=function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")},dc=ac,cc=function(e,t){";"!==(e=uc(e))[e.length-1]&&(e+=";");var i=e.length,n=!1,r=0,a=0,o="";function s(){if(!n){var i=lc(e.slice(r,a)),s=i.indexOf(":");if(-1!==s){var l=lc(i.slice(0,s)),u=lc(i.slice(s+1));if(l){var d=t(r,o.length,l,u,i);d&&(o+=d+"; ");}}}r=a+1;}for(;a<i;a++){var l=e[a];if("/"===l&&"*"===e[a+1]){var u=e.indexOf("*/",a+2);if(-1===u)break;r=(a=u+1)+1,n=!1;}else "("===l?n=!0:")"===l?n=!1:";"===l?n||s():"\n"===l&&s();}return lc(o)};function hc(e){return null==e}function pc(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).whiteList=e.whiteList||dc.whiteList,e.onAttr=e.onAttr||dc.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||dc.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||dc.safeAttrValue,this.options=e;}pc.prototype.process=function(e){if(!(e=(e=e||"").toString()))return "";var t=this.options,i=t.whiteList,n=t.onAttr,r=t.onIgnoreAttr,a=t.safeAttrValue;return cc(e,(function(e,t,o,s,l){var u=i[o],d=!1;if(!0===u?d=u:"function"==typeof u?d=u(s):u instanceof RegExp&&(d=u.test(s)),!0!==d&&(d=!1),s=a(o,s)){var c,h={position:t,sourcePosition:e,source:l,isWhite:d};return d?hc(c=n(o,s,h))?o+":"+s:c:hc(c=r(o,s,h))?void 0:c}}))};var mc=pc;!function(e,t){var i=ac,n=mc;for(var r in (t=e.exports=function(e,t){return new n(t).process(e)}).FilterCSS=n,i)t[r]=i[r];}(rc,rc.exports);var fc={indexOf:function(e,t){var i,n;if(Array.prototype.indexOf)return e.indexOf(t);for(i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return -1},forEach:function(e,t,i){var n,r;if(Array.prototype.forEach)return e.forEach(t,i);for(n=0,r=e.length;n<r;n++)t.call(i,e[n],n,e);},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}},gc=rc.exports.FilterCSS,yc=rc.exports.getDefaultWhiteList,vc=fc;var bc=new gc;function xc(e){return e.replace(Cc,"&lt;").replace(Sc,"&gt;")}var Cc=/</g,Sc=/>/g,_c=/"/g,Pc=/&quot;/g,wc=/&#([a-zA-Z0-9]*);?/gim,Ic=/&colon;?/gim,Tc=/&newline;?/gim,Ac=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,Oc=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,kc=/u\s*r\s*l\s*\(.*/gi;function Fc(e){return e.replace(_c,"&quot;")}function Dc(e){return e.replace(Pc,'"')}function Mc(e){return e.replace(wc,(function(e,t){return "x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function Lc(e){return e.replace(Ic,":").replace(Tc," ")}function Ec(e){for(var t="",i=0,n=e.length;i<n;i++)t+=e.charCodeAt(i)<32?" ":e.charAt(i);return vc.trim(t)}function jc(e){return Ec(e=Lc(e=Mc(e=Dc(e))))}function Vc(e){return xc(e=Fc(e))}nc.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},nc.getDefaultWhiteList=function(){return {a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}},nc.onTag=function(e,t,i){},nc.onIgnoreTag=function(e,t,i){},nc.onTagAttr=function(e,t,i){},nc.onIgnoreTagAttr=function(e,t,i){},nc.safeAttrValue=function(e,t,i,n){if(i=jc(i),"href"===t||"src"===t){if("#"===(i=vc.trim(i)))return "#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return ""}else if("background"===t){if(Ac.lastIndex=0,Ac.test(i))return ""}else if("style"===t){if(Oc.lastIndex=0,Oc.test(i))return "";if(kc.lastIndex=0,kc.test(i)&&(Ac.lastIndex=0,Ac.test(i)))return "";!1!==n&&(i=(n=n||bc).process(i));}return Vc(i)},nc.escapeHtml=xc,nc.escapeQuote=Fc,nc.unescapeQuote=Dc,nc.escapeHtmlEntities=Mc,nc.escapeDangerHtml5Entities=Lc,nc.clearNonPrintableCharacter=Ec,nc.friendlyAttrValue=jc,nc.escapeAttrValue=Vc,nc.onIgnoreTagStripAll=function(){return ""},nc.StripTagBody=function(e,t){"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),n=[],r=!1;return {onIgnoreTag:function(a,o,s){if(function(t){return !!i||-1!==vc.indexOf(e,t)}(a)){if(s.isClosing){var l="[/removed]",u=s.position+l.length;return n.push([!1!==r?r:s.position,u]),r=!1,l}return r||(r=s.position),"[removed]"}return t(a,o,s)},remove:function(e){var t="",i=0;return vc.forEach(n,(function(n){t+=e.slice(i,n[0]),i=n[1];})),t+=e.slice(i)}}},nc.stripCommentTag=function(e){for(var t="",i=0;i<e.length;){var n=e.indexOf("\x3c!--",i);if(-1===n){t+=e.slice(i);break}t+=e.slice(i,n);var r=e.indexOf("--\x3e",n);if(-1===r)break;i=r+3;}return t},nc.stripBlankChar=function(e){var t=e.split("");return (t=t.filter((function(e){var t=e.charCodeAt(0);return !(127===t||t<=31&&10!==t&&13!==t)}))).join("")},nc.cssFilter=bc,nc.getDefaultCSSWhiteList=yc;var Rc={},Bc=fc;function Nc(e){var t=Bc.spaceIndex(e);if(-1===t)var i=e.slice(1,-1);else i=e.slice(1,t+1);return "/"===(i=Bc.trim(i).toLowerCase()).slice(0,1)&&(i=i.slice(1)),"/"===i.slice(-1)&&(i=i.slice(0,-1)),i}function Wc(e){return "</"===e.slice(0,2)}var zc=/[^a-zA-Z0-9_:\.\-]/gim;function Hc(e,t){for(;t<e.length;t++){var i=e[t];if(" "!==i)return "="===i?t:-1}}function Gc(e,t){for(;t>0;t--){var i=e[t];if(" "!==i)return "="===i?t:-1}}function Uc(e){return function(e){return '"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}(e)?e.substr(1,e.length-2):e}Rc.parseTag=function(e,t,i){var n="",r=0,a=!1,o=!1,s=0,l=e.length,u="",d="";e:for(s=0;s<l;s++){var c=e.charAt(s);if(!1===a){if("<"===c){a=s;continue}}else if(!1===o){if("<"===c){n+=i(e.slice(r,s)),a=s,r=s;continue}if(">"===c){n+=i(e.slice(r,a)),u=Nc(d=e.slice(a,s+1)),n+=t(a,n.length,u,d,Wc(d)),r=s+1,a=!1;continue}if('"'===c||"'"===c)for(var h=1,p=e.charAt(s-h);""===p.trim()||"="===p;){if("="===p){o=c;continue e}p=e.charAt(s-++h);}}else if(c===o){o=!1;continue}}return r<e.length&&(n+=i(e.substr(r))),n},Rc.parseAttr=function(e,t){var i=0,n=[],r=!1,a=e.length;function o(e,i){if(!((e=(e=Bc.trim(e)).replace(zc,"").toLowerCase()).length<1)){var r=t(e,i||"");r&&n.push(r);}}for(var s=0;s<a;s++){var l,u=e.charAt(s);if(!1!==r||"="!==u)if(!1===r||s!==i||'"'!==u&&"'"!==u||"="!==e.charAt(s-1)){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===r){if(-1===(l=Hc(e,s))){o(Bc.trim(e.slice(i,s))),r=!1,i=s+1;continue}s=l-1;continue}if(-1===(l=Gc(e,s-1))){o(r,Uc(Bc.trim(e.slice(i,s)))),r=!1,i=s+1;continue}}}else {if(-1===(l=e.indexOf(u,s+1)))break;o(r,Bc.trim(e.slice(i+1,l))),r=!1,i=(s=l)+1;}else r=e.slice(i,s),i=s+1;}return i<e.length&&(!1===r?o(e.slice(i)):o(r,Uc(Bc.trim(e.slice(i))))),Bc.trim(n.join(" "))};var qc=rc.exports.FilterCSS,$c=nc,Yc=Rc,Kc=Yc.parseTag,Xc=Yc.parseAttr,Jc=fc;function Zc(e){return null==e}function Qc(e){(e=function(e){var t={};for(var i in e)t[i]=e[i];return t}(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=$c.onIgnoreTagStripAll),e.whiteList=e.whiteList||e.allowList||$c.whiteList,e.onTag=e.onTag||$c.onTag,e.onTagAttr=e.onTagAttr||$c.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||$c.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||$c.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||$c.safeAttrValue,e.escapeHtml=e.escapeHtml||$c.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new qc(e.css));}Qc.prototype.process=function(e){if(!(e=(e=e||"").toString()))return "";var t=this.options,i=t.whiteList,n=t.onTag,r=t.onIgnoreTag,a=t.onTagAttr,o=t.onIgnoreTagAttr,s=t.safeAttrValue,l=t.escapeHtml,u=this.cssFilter;t.stripBlankChar&&(e=$c.stripBlankChar(e)),t.allowCommentTag||(e=$c.stripCommentTag(e));var d=!1;t.stripIgnoreTagBody&&(d=$c.StripTagBody(t.stripIgnoreTagBody,r),r=d.onIgnoreTag);var c=Kc(e,(function(e,t,d,c,h){var p,m={sourcePosition:e,position:t,isClosing:h,isWhite:i.hasOwnProperty(d)};if(!Zc(p=n(d,c,m)))return p;if(m.isWhite){if(m.isClosing)return "</"+d+">";var f=function(e){var t=Jc.spaceIndex(e);if(-1===t)return {html:"",closing:"/"===e[e.length-2]};var i="/"===(e=Jc.trim(e.slice(t+1,-1)))[e.length-1];return i&&(e=Jc.trim(e.slice(0,-1))),{html:e,closing:i}}(c),g=i[d],y=Xc(f.html,(function(e,t){var i,n=-1!==Jc.indexOf(g,e);return Zc(i=a(d,e,t,n))?n?(t=s(d,e,t,u))?e+'="'+t+'"':e:Zc(i=o(d,e,t,n))?void 0:i:i}));return c="<"+d,y&&(c+=" "+y),f.closing&&(c+=" /"),c+">"}return Zc(p=r(d,c,m))?l(c):p}),l);return d&&(c=d.remove(c)),c};var eh=Qc;!function(e,t){var i=nc,n=Rc,r=eh;function a(e,t){return new r(t).process(e)}for(var o in (t=e.exports=a).filterXSS=a,t.FilterXSS=r,i)t[o]=i[o];for(var o in n)t[o]=n[o];"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=e.exports);}(ic,ic.exports);var th=function(){function e(e,t){var i,n=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],audio:["autoplay","controls","loop","muted","preload"],b:[],br:[],dd:["style"],div:["align","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],ol:[],p:["style"],source:["media","src","type"],span:["style"],strong:[],sub:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(e,t,i,r){return "a"===e&&"href"===t||("img"===e||"source"===e)&&"src"===t?n.sanitizeUrl(i):ic.exports.safeAttrValue(e,t,i,r)}},e&&!t?i=e:e&&t?(i=Object.create(this.arcgisFilterOptions),Object.keys(e).forEach((function(t){"whiteList"===t?i.whiteList=n._extendObjectOfArrays([n.arcgisWhiteList,e.whiteList||{}]):i[t]=e[t];}))):(i=Object.create(this.arcgisFilterOptions)).whiteList=this.arcgisWhiteList,this.xssFilterOptions=i,this._xssFilter=new ic.exports.FilterXSS(i);}return e.prototype.sanitize=function(e,t){switch(void 0===t&&(t={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,t);default:if(t.allowUndefined&&void 0===e)return;return null}},e.prototype.sanitizeUrl=function(e,t){var i=(null!=t?t:{}).isProtocolRequired,n=void 0===i||i,r=this._trim(e.substring(0,e.indexOf(":"))),a="/"===e,o=/^#/.test(e),s=r&&this.allowedProtocols.indexOf(r.toLowerCase())>-1;return a||o||s?ic.exports.escapeAttrValue(e):r||n?"":ic.exports.escapeAttrValue("https://".concat(e))},e.prototype.sanitizeHTMLAttribute=function(e,t,i,n){return "function"==typeof this.xssFilterOptions.safeAttrValue?this.xssFilterOptions.safeAttrValue(e,t,i,n):ic.exports.safeAttrValue(e,t,i,n)},e.prototype.validate=function(e,t){void 0===t&&(t={});var i=this.sanitize(e,t);return {isValid:e===i,sanitized:i}},e.prototype._extendObjectOfArrays=function(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(i){Array.isArray(e[i])&&Array.isArray(t[i])?t[i]=t[i].concat(e[i]):t[i]=e[i];}));})),t},e.prototype._iterateOverObject=function(e,t){var i=this;void 0===t&&(t={});try{var n=!1,r=void 0;if(Array.isArray(e))r=e.reduce((function(e,r){var a=i.validate(r,t);return a.isValid?e.concat([r]):(n=!0,e.concat([a.sanitized]))}),[]);else {if(!function(e){if(!function(e){return !!e&&"object"==typeof e}(e)||"[object Object]"!=ec.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"");}catch(e){}return t}(e))return !1;var t=tc(e);if(null===t)return !0;var i=Zd.call(t,"constructor")&&t.constructor;return "function"==typeof i&&i instanceof i&&Jd.call(i)==Qd}(e)){if(t.allowUndefined&&void 0===e)return;return null}r=Object.keys(e).reduce((function(r,a){var o=e[a],s=i.validate(o,t);return s.isValid?r[a]=o:(n=!0,r[a]=s.sanitized),r}),{});}return n?r:e}catch(e){return null}},e.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},e}();function ih(e,t){let i;if(void 0!==e&&e.length>0)if(void 0!==t&&t<e.length)i=e[t].type;else {const t=function(e){let t;if(0!==e.length){const i=e[0].type;!0===e.every((e=>e.type===i))&&(t=!1),!1===e.some((e=>e.type!==Io&&e.type!==To))&&void 0===t&&(t=!0);}return t}(e);!1===t?i=e[0].type:!0===t&&(i=Oo);}return i}function nh(e){var t;let i;return e.type!==To&&e.type!==Io||(i=null!==(t=e.stackedType)&&void 0!==t?t:"sideBySide"),i}function rh(e){const{value:t,keepSurroundingQuotes:i,escape:n}=e;let r=t.trim(),a="";return "'"===r.charAt(0)&&"'"===r.charAt(r.length-1)&&(r=r.slice(1,-1),!0===i&&(a="'")),!1!==n&&(r=function(e){let t=e;return t=t.replace(/'/g,"''"),t=t.replace(/[/\\"|[\]\\]/g,"\\$&"),t}(r)),r=`${a}${r}${a}`,r}function ah(e){const{count:t,seriesCount:i,seriesType:n,chartLimits:r}=e,{behaviorAfterLimit:a}=null!=r?r:{};let o=!0;if(a!==ud){const{maxBarUniqueSeriesCountTotal:e,maxBarTwoSeriesCountPerSeries:a,maxBarTwoSeriesCountTotal:s,maxBarThreePlusSeriesCountPerSeries:l,maxBarThreePlusSeriesCountTotal:u,maxLineChartMarkersCountTotal:d,maxLineChartSeriesCount:c,maxPieChartSliceCountTotal:h,maxGaugeByFeaturesLimit:p}=Dd(r);switch(n){case To:case Oo:{const n=t/i;0===i?o=!0:1===i?o=t<=e:2===i?o=t<=s&&n<=a:i>2&&(o=t<=u&&n<=l);}break;case Io:o=t<=d&&i<=c;break;case Po:o=t<=h;break;case wo:o=t<=p;}}return o}function oh(e=[],t){var i,n;return null!==(n=null===(i=e.find((e=>e.name===t)))||void 0===i?void 0:i.alias)&&void 0!==n?n:t}function sh(e){return null==e||""===`${e}`.trim()}function lh(e,t){const i=t.find((t=>t in e));return {isInItem:void 0!==i,expr:i}}function uh(e){let t;switch(e){case"Mean":t=1;break;case"Median":t=2;break;case"Standard Deviation":t=3;break;default:t=0;}return t}function dh(e){return (new th).sanitize(e)}function ch(e){return e.type===xo}function hh(e){return e.type===bo}function ph(e){return void 0!==e&&"dataSource"in e&&void 0!==e.dataSource}function mh(e){let t,i,n;return void 0!==e&&(t=e.type,"unique-value"!==t&&t!==Co||(i=e.field,t===Co&&(n=e.normalizationField))),{rendererType:t,rendererField:i,rendererNormalizationField:n}}const fh=Wd((e=>{var o;const s=e.featureCollection;let l,u;if(void 0!==s&&void 0!==(null===(o=s.layers)||void 0===o?void 0:o[0])){const e=s.layers[0];l=e.featureSet,u=e.layerDefinition;}else u=e.layerDefinition;const d={};if(void 0!==l){if(d.source=d$p.fromJSON(l).features,void 0!==(null==u?void 0:u.fields)&&(d.fields=u.fields.map((e=>y$f.fromJSON(e)))),void 0!==(null==u?void 0:u.objectIdField)&&(d.objectIdField=u.objectIdField),void 0!==(null==u?void 0:u.geometryType)){const e=p$w({geometryType:u.geometryType});void 0!==(null==e?void 0:e.type)&&"extent"!==(null==e?void 0:e.type)&&(d.geometryType=e.type);}void 0!==(null==u?void 0:u.spatialReference)&&(d.spatialReference=u.spatialReference);}else d.id=e.id,void 0!==(null==u?void 0:u.id)&&(d.layerId=u.id),void 0!==e.url&&(d.url=e.url),void 0!==e.itemId&&void 0!==(null==u?void 0:u.id)&&(d.portalItem={id:e.itemId});if(void 0!==u){const e=u.drawingInfo;void 0!==(null==e?void 0:e.renderer)&&(d.renderer=t$m(e.renderer));}return new Be$1(d)}));function gh(e){var t;return ns(this,void 0,void 0,(function*(){const{layer:i,view:n,chartConfig:r}=e;let a;return void 0!==i?void 0!==n&&!1===i.isTable?(i.outFields=["*"],a=yield n.whenLayerView(i)):a=i:(null===(t=null==r?void 0:r.dataSource)||void 0===t?void 0:t.type)===Mo&&void 0!==r.dataSource.layer&&(a=fh(r.dataSource.layer)),a}))}function yh(e){return e instanceof Be$1||!1==(void 0!==e&&"layer"in e)}function vh(e){return !0===yh(e)?e:e.layer}function bh(e,t){var i;return ns(this,void 0,void 0,(function*(){const n=vh(e);let r=[];if(void 0!==n){yield n.load();const e=!0===t&&void 0!==(null===(i=null==n?void 0:n.popupTemplate)||void 0===i?void 0:i.fieldInfos);r=n.fields.map((t=>{var i;const r=t.toJSON();if(!0===e){const e=null===(i=n.popupTemplate.fieldInfos.find((e=>e.fieldName.toLowerCase()===t.name.toLowerCase())))||void 0===i?void 0:i.label;void 0!==e&&e!==t.name&&(r.alias=e);}return r}));}return r}))}function xh(e,t=[]){return t.find((t=>t.name===e))}function Ch(e){var t;const i=e.find((e=>"esriFieldTypeOID"===e.type));return null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""}function Sh(e){return [fo,po,go,mo].includes(e.type)}function _h(e,t){let i="";return void 0!==e&&!0===e.includes("=")&&(i=!1!==t?rh({value:e.split("=")[0]}):e.split("=")[0].trim()),i}function Ph(e){const{where:t,normalize:i,keepSurroundingQuotes:n,escape:r}=e;let a="";return void 0!==t&&!0===t.includes("=")&&(a=t.split("=")[1].trim(),a=!1===i?function(e){let t=e,i="";"'"===e.charAt(0)&&"'"===e.charAt(e.length-1)&&(t=e.slice(1,-1),i="'"),t=t.replace(/'/g,"''");let n="";return !0===function(e){let t=!1;return "number"!=typeof e&&(t=[...e].some((e=>e.charCodeAt(0)>255))),t}(t)&&(n="N"),`${n}${i}${t}${i}`}(a):rh({value:a,keepSurroundingQuotes:n,escape:r})),a}function wh(e,t){const i=void 0===t||t,n=_h(e),r=Ph({where:e,normalize:i,keepSurroundingQuotes:!0});let a="";return ""!==n&&""!==r&&(a=`${n}=${r}`),a}function Ih(e){let t=!1;return void 0===e||""===e?t=!0:!0===e.includes("=")&&(t=_h(e,!1)===Ph({where:e,normalize:!1})),t}function Th(e){const t=ih(e);let i=zd;return void 0!==(null==e?void 0:e[0])&&(t===Po?i=function(e){var t,i;let n=zd;return void 0===(null===(t=e[0].query)||void 0===t?void 0:t.outStatistics)?n=Hd:void 0===(null===(i=e[0].query)||void 0===i?void 0:i.groupByFieldsForStatistics)&&(n=qd),n}(e):t!==To&&t!==Io&&t!==Oo||(i=function(e){var t,i;let n=zd;return !1===Ih(null===(t=e[0].query)||void 0===t?void 0:t.where)?n=Gd:void 0===(null===(i=e[0].query)||void 0===i?void 0:i.outStatistics)?n=Hd:e.length>1&&(n=Ud),n}(e))),i}function Ah(e){const{types:t}=e;let i=[];if(void 0!==(null==t?void 0:t[0]))for(const{id:e,name:n,domains:r}of t){const t=Object.entries(null!=r?r:{}),a=null==t?void 0:t.filter((([e,t])=>"coded-value"===t.type)),o=null==a?void 0:a.map((([e,t])=>{const i=t.codedValues.map((({code:e,name:t})=>({name:t,code:e})));return {fieldName:e,name:t.name,codedValues:i}}));i.push({id:e,name:n,domains:o});}return i}function Oh(e){let t;if(void 0!==e){const i=vh(e);void 0!==(null==i?void 0:i.typeIdField)&&(t={typeIdField:i.typeIdField,types:Ah(i)});}return t}function kh(e){var t,i,n,r,a,o,s;const{fieldName:l,fieldValueToMatch:u,subtypeInfo:d,fieldList:c}=e;let h=u;if(void 0!==u&&""!==u&&void 0!==l&&""!==l&&(void 0!==d&&(h=function(e){var t,i,n;const{subtypeInfo:r,fieldName:a,fieldValueToMatch:o}=e;let s=o;return (null==r?void 0:r.typeIdField)===a&&(s=null!==(n=null===(i=null===(t=r.types)||void 0===t?void 0:t.find((e=>`${e.id}`==`${o}`)))||void 0===i?void 0:i.name)&&void 0!==n?n:o),s}({subtypeInfo:d,fieldName:l,fieldValueToMatch:u})),h===u)){const e=xh(l,c);if(void 0!==(null==d?void 0:d.types))for(const a of null==d?void 0:d.types){const o=null!==(i=null===(t=a.domains)||void 0===t?void 0:t.filter((t=>t.fieldName===(null==e?void 0:e.name))))&&void 0!==i?i:[];for(const e of o)if(h=null===(r=null===(n=null==e?void 0:e.codedValues)||void 0===n?void 0:n.find((e=>`${e.code}`==`${u}`)))||void 0===r?void 0:r.name,void 0!==h)break;if(void 0!==h)break}void 0!==h&&h!==u||void 0!==(null==e?void 0:e.domain)&&"codedValue"===e.domain.type&&(h=null!==(s=null===(o=null===(a=e.domain.codedValues)||void 0===a?void 0:a.find((e=>`${e.code}`==`${u}`)))||void 0===o?void 0:o.name)&&void 0!==s?s:u);}return h}function Fh(e){const{seriesConfig:t,xAxisValueFormatType:i,setTimeBinningInfoWhenNotProvided:n}=e;let r=!1;if(ih([t])===Io&&"date"===i&&Th([t])!==Hd){const{timeIntervalUnits:e,timeIntervalSize:i}=t;r=!0===n||void 0!==i&&i>0&&void 0!==e;}return r}function Dh(e,t){var i;return ns(this,void 0,void 0,(function*(){const n=(yield bh(e)).find((e=>t.toUpperCase()===e.name.toUpperCase()));return null!==(i=null==n?void 0:n.name)&&void 0!==i?i:t}))}function Mh(e){var t,i,n,r;return !0===(null===(i=null===(t=e.capabilities)||void 0===t?void 0:t.query)||void 0===i?void 0:i.supportsDistance)||!0===(null===(r=null===(n=e.sourceJSON)||void 0===n?void 0:n.advancedQueryCapabilities)||void 0===r?void 0:r.supportsQueryWithDistance)}function Lh(e){let t=!1;return t=Th(e)===qd,t}function Eh(e){return "featureGauge"===e.subType}function jh(e){const{seriesType:t,fetchedData:i}=e;let n;if(void 0!==i)switch(t){case Ao:n=i.bins;break;case To:case Io:case Oo:case _o:case Po:case wo:n=i.dataItems;}return n}function Vh(e){return e.map((e=>`${e.id}`)).filter((e=>"undefined"!==e))}function Rh(e,t){let i=[];const n=null!=t?t:Vh(e);return i=e.filter((e=>n.includes(e.id))).map((e=>"y"in e?e.y:void 0)).filter((e=>void 0!==e)),Array.from(new Set(i))}function Bh(e){var t,i,n;let r,a,o=NaN,s=NaN;const{chartConfig:l,chartData:u,visibleSeriesId:d}=e,{series:c}=l;if((null==c?void 0:c.length)>0){const e=null!==(t=nh(c[0]))&&void 0!==t?t:"sideBySide",{x:h}=c[0],p=u.filter((e=>null!==e[h]));switch([r,a]=Wo(p,(e=>e[h])),!0==("date"===(null===(n=null===(i=l.axes)||void 0===i?void 0:i[1])||void 0===n?void 0:n.valueFormat.type))&&void 0!==r&&void 0!==a&&([r,a]=[new Date(r).valueOf(),new Date(a).valueOf()]),e){case"stacked100":o=NaN,s=NaN;break;case"stacked":{const{stackedMinY:e,stackedMaxY:t}=function(e){var t,i;const{seriesConfig:n,visibleSeriesId:r,filteredData:a}=e,o=function(e,t){const i=new Map,n=null!=t?t:Vh(e);return e.forEach((e=>{var t;if(n.includes(e.id)&&"y"in e){const n=null!==(t=i.get(e.type))&&void 0!==t?t:[];n.push(e.y),i.set(e.type,n);}})),i}(n,r),s=null===(i=null===(t=n.find((e=>e.type===Io)))||void 0===t?void 0:t.stackNegativeValuesToBaseline)||void 0===i||i;let l=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER;return a.forEach(((e,t)=>{o.forEach((i=>{var n,r;if(!1===s){let t=0;for(let n=0;n<i.length;n+=1)t+=e[i[n]],l=Math.max(l,t),u=Math.min(u,t);}else {let a=[],o=[];for(let s=0;s<i.length;s+=1){const l=e[i[s]];l<0?o[t]=(null!==(n=o[t])&&void 0!==n?n:0)+l:a[t]=(null!==(r=a[t])&&void 0!==r?r:0)+l;}a=a.filter((e=>Number.isFinite(e))).sort(((e,t)=>e-t)),o=o.filter((e=>Number.isFinite(e))).sort(((e,t)=>e-t)),l=Math.max(l,a.length>0?a[a.length-1]:o[o.length-1]),u=Math.min(u,o.length>0?o[0]:a[0]);}}));})),{stackedMinY:u,stackedMaxY:l}}({seriesConfig:c,filteredData:p,visibleSeriesId:d});o=e,s=t;break}default:{o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;const e=Rh(c,d);for(let t=0;t<e.length;t+=1){const i=e[t],[n,r]=Wo(p,(e=>e[i]));void 0!==n&&n<o&&(o=n),void 0!==r&&r>s&&(s=r);}break}}}return {minY:o,maxY:s,minX:r,maxX:a}}function Nh(e){var t,i,n,r,a;let o=null!==(i=null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.maxRecordCount)&&void 0!==i?i:yd.maxRecords;return (null===(r=null===(n=null==e?void 0:e.sourceJSON)||void 0===n?void 0:n.advancedQueryCapabilities)||void 0===r?void 0:r.supportsMaxRecordCountFactor)&&(o=(null===(a=null==e?void 0:e.sourceJSON)||void 0===a?void 0:a.maxRecordCount)*yd.maxRecordCountFactor),o}function Wh(e,t){let i;const n=Array.from(new Set(e)).filter((e=>null!=e&&""!==e&&!1===Ih(e)));return n.sort(((e,t)=>t.length-e.length)),1===n.length?[i]=n:null==n||n.forEach((e=>{void 0!==e&&(!0===sh(i)?i=`(${e})`:!1===(null==i?void 0:i.includes(e))&&(i=`${i} ${null!=t?t:"AND"} (${e})`));})),null!=i?i:"1=1"}function zh(e){let t;return void 0!==e&&(t=new c$v({start:new Date(e[0]),end:new Date(e[1])})),t}function Hh(e){let t;return void 0!==e&&(t=p$w(e)),t}function Gh(e){var t,i;const{queryObject:n,queryConfig:r,outFields:a,maxRecordCountFactor:o,cacheHint:s}=e,{where:d,groupByFieldsForStatistics:c,orderByFields:h,outStatistics:p,gdbVersion:m,geometry:f,distance:g,units:y,timeExtent:v,start:b,num:x,returnDistinctValues:C}=null!=r?r:{},S=new b$b;S.returnGeometry=!1;const _=vh(n);if(S.where=Wh([d,_.definitionExpression]),S.outFields=null!==(t=function(e){return void 0===e?void 0:Array.from(new Set(e))}(a))&&void 0!==t?t:["*"],S.groupByFieldsForStatistics=null!=c?c:S.groupByFieldsForStatistics,S.orderByFields=null!=h?h:[],S.returnDistinctValues=null!=C&&C,void 0!==p){const{compatibleWithEnvelopeAggregate:e}=function(e){var t,i,n,r,a;let o=!1;const s=null!==(n=null===(i=null===(t=e.sourceJSON)||void 0===t?void 0:t.advancedQueryCapabilities)||void 0===i?void 0:i.supportedSpatialAggregationStatistics)&&void 0!==n?n:[],l=null===(a=null===(r=e.capabilities)||void 0===r?void 0:r.query)||void 0===a?void 0:a.supportedSpatialStatisticAggregations;return o=s.includes("EnvelopeAggregate")||!0===(null==l?void 0:l.envelope),{compatibleWithEnvelopeAggregate:o}}(_);S.outStatistics=p.filter((t=>"envelope-aggregate"!==t.statisticType||!0===e)).map((e=>m$m.fromJSON(e)));}void 0!==o&&(S.maxRecordCountFactor=o),void 0!==m&&""!==m?S.gdbVersion=m:void 0!==_.gdbVersion&&""!==_.gdbVersion&&(S.gdbVersion=_.gdbVersion);const P=Hh(f);void 0!==P&&(S.geometry=P,!0===Mh(_)&&(void 0!==g&&(S.distance=g),void 0!==y&&(S.units=y)));const w=zh(v);return void 0!==w?S.timeExtent=w:void 0!==_.timeExtent&&(S.timeExtent=_.timeExtent),S.cacheHint=!1!==s,void 0!==x&&(S.num=x),void 0!==b&&(S.start=b,S.num=null!==(i=S.num)&&void 0!==i?i:Nh(_)),S}function Uh(e){var t,i;return !0===(null===(i=null===(t=null==e?void 0:e.sourceJSON)||void 0===t?void 0:t.advancedQueryCapabilities)||void 0===i?void 0:i.supportsMaxRecordCountFactor)?yd.maxRecordCountFactor:void 0}const qh=new Map,$h="layerLoadFailure",Yh="queryFeaturesError",Kh="ChartDisposeError";class Xh extends Error{constructor(e,t,i){super(t),this.name=e,this.details=i;}}function Jh(e=fd().locale){return ns(this,void 0,void 0,(function*(){let t=yield import('./errors.t9n.en-0944126e-f6e7b6ea-cc0be4f8.js');switch(e){case dd.Arabic:t=yield import('./errors.t9n.ar-c9b78eed-89f60fb3-0ad1c2a6.js');break;case dd.Bosnian:t=yield import('./errors.t9n.bs-a3d4029e-eadc3a18-d5d1401e.js');break;case dd.Bulgarian:t=yield import('./errors.t9n.bg-0d9f2923-fe03344e-22c89708.js');break;case dd.Catalan:t=yield import('./errors.t9n.ca-4818bb56-06e3cab5-1fe82c45.js');break;case dd.Czech:t=yield import('./errors.t9n.cs-509f93b9-c68a454e-8c43239a.js');break;case dd.Danish:t=yield import('./errors.t9n.da-08959ad5-2fa04fd3-d2d8380b.js');break;case dd.German:t=yield import('./errors.t9n.de-1bb9e0d1-02e20bee-61327364.js');break;case dd.Greek:t=yield import('./errors.t9n.el-55c8124f-f8dd052c-92395075.js');break;case dd.EnglishUSA:t=yield import('./errors.t9n.en-US-ddc1dc8b-30a67653-15936cd2.js');break;case dd.Spanish:t=yield import('./errors.t9n.es-624d6a32-fd1dc76e-5bf4b2e5.js');break;case dd.Estonian:t=yield import('./errors.t9n.et-1f073946-cbd91484-e0efe2b3.js');break;case dd.Finnish:t=yield import('./errors.t9n.fi-4ca88213-d1cae928-1f853f78.js');break;case dd.French:t=yield import('./errors.t9n.fr-8a764c82-1092de90-7debb784.js');break;case dd.Hebrew:t=yield import('./errors.t9n.he-5633634b-a87253a0-43f1a8f6.js');break;case dd.Croatian:t=yield import('./errors.t9n.hr-247fd3da-13dbbf59-305881a3.js');break;case dd.Hungarian:t=yield import('./errors.t9n.hu-56cc7097-1d5a4efc-e617730f.js');break;case dd.Indonesian:t=yield import('./errors.t9n.id-889982e7-83e54dcb-c769bd4f.js');break;case dd.Italian:t=yield import('./errors.t9n.it-01759e78-aced60f2-cdb5aa36.js');break;case dd.Japanese:t=yield import('./errors.t9n.ja-322cd1ba-7f3564b1-ac92b4b7.js');break;case dd.Korean:t=yield import('./errors.t9n.ko-43ea692f-a96dc160-123e6367.js');break;case dd.Lithuanian:t=yield import('./errors.t9n.lt-331455e4-7bfc27df-43386081.js');break;case dd.Latvian:t=yield import('./errors.t9n.lv-9ccc0b6d-ce11dbb7-8d615232.js');break;case dd.NorwegianBokml:t=yield import('./errors.t9n.nb-da3c7688-b3d1e7e8-d6ae82fb.js');break;case dd.Dutch:t=yield import('./errors.t9n.nl-0cff2c01-8b9914e9-48d88270.js');break;case dd.Polish:t=yield import('./errors.t9n.pl-3d407ca6-ddfa2b66-ed6061fc.js');break;case dd.PortugueseBrazil:t=yield import('./errors.t9n.pt-BR-2034d8f1-47e8c18a-eba82208.js');break;case dd.PortuguesePortugal:t=yield import('./errors.t9n.pt-PT-f125f71e-f3d51ebf-f2dd8edf.js');break;case dd.Romanian:t=yield import('./errors.t9n.ro-45f8dfa6-1669a752-2a2a4e6f.js');break;case dd.Russian:t=yield import('./errors.t9n.ru-9f79783c-8b58da23-d98286b8.js');break;case dd.Serbian:t=yield import('./errors.t9n.sr-d529e4c5-b3183e94-6ad22738.js');break;case dd.Slovak:t=yield import('./errors.t9n.sk-9632cd95-80c9883c-3ee272f0.js');break;case dd.Slovenian:t=yield import('./errors.t9n.sl-9a22f773-073131e8-2f423ca9.js');break;case dd.Swedish:t=yield import('./errors.t9n.sv-bb992c54-752f5032-0ac0535f.js');break;case dd.Thai:t=yield import('./errors.t9n.th-c0ac1c11-593d4b58-dc539c3e.js');break;case dd.Turkish:t=yield import('./errors.t9n.tr-6ee0bfe1-c51816c4-8005d889.js');break;case dd.Ukrainian:t=yield import('./errors.t9n.uk-8523327a-6be3e081-983bb69e.js');break;case dd.Vietnamese:t=yield import('./errors.t9n.vi-5bb6ab1c-c9fa967a-be011d21.js');break;case dd.ChineseChina:t=yield import('./errors.t9n.zh-CN-88173790-af36d5ed-a00328e3.js');break;case dd.ChineseHongKong:t=yield import('./errors.t9n.zh-HK-4889bcb7-b802b92d-718a3f17.js');break;case dd.ChineseTaiwan:t=yield import('./errors.t9n.zh-TW-1d92594d-476dca44-46dee0a4.js');}return t}))}function Zh(e){var t,i,n;return ns(this,void 0,void 0,(function*(){const{queryObject:r,queryConfig:a,abortKey:o}=e,{outStatistics:l}=a,u=new Map;if(void 0!==r&&void 0!==l&&l.length>0){const e=l.map((e=>{const{statisticType:t,onStatisticField:i,outStatisticFieldName:n}=e;return {statisticType:t,onStatisticField:i,outStatisticFieldName:null==n?void 0:n.toUpperCase()}}));a.outStatistics=e,delete a.num,delete a.orderByFields;const d=Gh({queryObject:r,queryConfig:a});let c;try{c=yield r.queryFeatures(d,{signal:void 0!==o?null===(t=qh.get(o))||void 0===t?void 0:t.signal:void 0});}catch(e){if(!1===d$q(e)){const t=yield Jh();throw new Xh(Yh,t.queryError,e)}}const h=null===(n=null===(i=null==c?void 0:c.features)||void 0===i?void 0:i[0])||void 0===n?void 0:n.attributes;void 0!==h&&l.forEach((e=>{var t,i;const{outStatisticFieldName:n}=e;if(void 0!==n){let e=null!==(i=null!==(t=h[n.toLowerCase()])&&void 0!==t?t:h[n.toUpperCase()])&&void 0!==i?i:h[n];void 0!==e&&u.set(n,e);}}));}return u}))}function Qh(e){var t;return ns(this,void 0,void 0,(function*(){const{queryObject:i,queryConfig:n,outFields:r,returnUniqueIdsOnly:a,abortKey:o}=e;let l=[];if(void 0!==i){const e=Gh({queryObject:i,queryConfig:n,outFields:r,maxRecordCountFactor:Uh(vh(i))});try{l=!0===a?yield i.queryObjectIds(e):(yield i.queryFeatures(e,{signal:void 0!==o?null===(t=qh.get(o))||void 0===t?void 0:t.signal:void 0})).features;}catch(e){if(!1===d$q(e)){const t=yield Jh();throw new Xh(Yh,t.queryError,e)}}}return l}))}function ep(e){var t,i;return ns(this,void 0,void 0,(function*(){const n=[],{featureCount:r,maxRecords:a,queryConfig:o}=e;let s=[],l=0,u=null!==(t=null==o?void 0:o.start)&&void 0!==t?t:0;for(;l<yd.maxParallelRequests&&(null!==(i=null==o?void 0:o.start)&&void 0!==i?i:0)<r;){const t=Object.assign({},e);t.queryConfig=Object.assign(Object.assign({},o),{start:u,num:a}),n.push(Qh(t)),u+=a,l+=1;}return s=(yield Promise.all(n)).reduce(((e,t)=>[...e,...t]),[]),s}))}function tp(e){var t;return ns(this,void 0,void 0,(function*(){const{queryObject:i,queryConfig:n,outFields:r,returnUniqueIdsOnly:a,featureCount:o,noBatch:s,abortKey:l}=e;let u=[];if(void 0!==i){const e=vh(i),d=Ch(yield bh(i)),c=null!==(t=null!=o?o:(yield Zh({queryObject:i,queryConfig:Object.assign(Object.assign({},n),{outStatistics:[{statisticType:yo,onStatisticField:d,outStatisticFieldName:yo}]}),abortKey:l})).get(yo))&&void 0!==t?t:NaN,h=Nh(e);if(!0!==s&&c>h&&!0===e.capabilities.query.supportsPagination){let e=0,t=0;const o=Math.ceil(c/h),s=Math.ceil(o/yd.maxParallelRequests),d=[];for(;t<s;){e=t*yd.maxParallelRequests*h;const o=ep({queryConfig:Object.assign(Object.assign({},n),{start:e}),outFields:r,queryObject:i,maxRecords:h,featureCount:c,returnUniqueIdsOnly:a,abortKey:l});d.push(o),t+=1;}u=(yield Promise.all(d)).flat();}else c>0&&(u=yield Qh({queryObject:i,queryConfig:n,outFields:r,returnUniqueIdsOnly:a,abortKey:l}));}return u}))}function ip(e){return ns(this,void 0,void 0,(function*(){const{queryObject:t,queryConfig:i,uniqueFeature:n,abortKey:r}=e,a=Object.assign(Object.assign({},i),{returnDistinctValues:!0});return yield tp({queryObject:t,abortKey:r,queryConfig:a,returnUniqueIdsOnly:!0,featureCount:!0===n?1:void 0})}))}function np(e){if(void 0!==e){const t=qh.get(e);void 0!==t&&t.abort(),qh.set(e,new AbortController);}}const rp="nonNumericAggregation",ap="duplicateSeriesId",op="required",sp="minLength",lp="minItems",up="maxItems",dp="pattern",cp="additionalProperties",hp="enum",pp="anyOf",mp="badData",fp="emptyDataSet",gp="histogramEmptyField",yp="barElementExceedsLimit",vp="lineChartExceedsLimit",bp="pieChartExceedsLimit",xp="gaugeExceedsLimit",Cp="PieChartMixOfNegativePositiveSlices",Sp="negativeValueInSqrtCalculation",_p="negativeValueInLogCalculation";function Pp(e,t){return e===ko||e===Fo&&t>0||e===Do&&t>=0}function wp(e,t){const i={valid:!1};return !0===t?i.invalidType=gp:e===Fo?i.invalidType=_p:e===Do&&(i.invalidType=Sp),i}function Ip(e){return function(){var e=zo,t=Wo,i=Xo;function n(n){Array.isArray(n)||(n=Array.from(n));var r,a,o=n.length,s=new Array(o);for(r=0;r<o;++r)s[r]=e(n[r],r,n);var l=t(s),u=l[0],d=l[1],c=i(s,u,d);if(!Array.isArray(c)){const e=d,i=+c;if(t===Wo&&([u,d]=function(e,t,i){let n;for(;;){const r=Ko(e,t,i);if(r===n||0===r||!isFinite(r))return [e,t];r>0?(e=Math.floor(e/r)*r,t=Math.ceil(t/r)*r):r<0&&(e=Math.ceil(e*r)/r,t=Math.floor(t*r)/r),n=r;}}(u,d,i)),c=function(e,t,i){var n,r,a,o,s=-1;if(i=+i,(e=+e)==(t=+t)&&i>0)return [e];if((n=t<e)&&(r=e,e=t,t=r),0===(o=Ko(e,t,i))||!isFinite(o))return [];if(o>0){let i=Math.round(e/o),n=Math.round(t/o);for(i*o<e&&++i,n*o>t&&--n,a=new Array(r=n-i+1);++s<r;)a[s]=(i+s)*o;}else {o=-o;let i=Math.round(e*o),n=Math.round(t*o);for(i/o<e&&++i,n/o>t&&--n,a=new Array(r=n-i+1);++s<r;)a[s]=(i+s)/o;}return n&&a.reverse(),a}(u,d,i),c[c.length-1]>=d)if(e>=d&&t===Wo){const e=Ko(u,d,i);isFinite(e)&&(e>0?d=(Math.floor(d/e)+1)*e:e<0&&(d=(Math.ceil(d*-e)+1)/-e));}else c.pop();}for(var h=c.length;c[0]<=u;)c.shift(),--h;for(;c[h-1]>d;)c.pop(),--h;var p,m=new Array(h+1);for(r=0;r<=h;++r)(p=m[r]=[]).x0=r>0?c[r-1]:u,p.x1=r<h?c[r]:d;for(r=0;r<o;++r)null!=(a=s[r])&&u<=a&&a<=d&&m[No(c,a,0,h)].push(n[r]);return m}return n.value=function(t){return arguments.length?(e="function"==typeof t?t:Uo(t),n):e},n.domain=function(e){return arguments.length?(t="function"==typeof e?e:Uo([e[0],e[1]]),n):t},n.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Array.isArray(e)?Uo(Go.call(e)):Uo(e),n):i},n}().thresholds(((t,i,n)=>function(e,t,i){e=+e,t=+t,i=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((t-e)/i)),a=new Array(r);++n<r;)a[n]=e+n*i;return a}(e).map((t=>i+t/e*(n-i)))))}function Tp(e,t){let i=e;switch(t){case Fo:i=Math.log(e);break;case Do:i=Math.sqrt(e);}return i}const Ap=[{unit:"esriTimeUnitsSeconds",threshold:6e4,unitMs:1e3,preferredIntervalSize:[1,2,3,5,6,10,12,15,20,30,60]},{unit:"esriTimeUnitsMinutes",threshold:36e5,unitMs:6e4,preferredIntervalSize:[1,2,3,5,6,10,12,15,20,30,60]},{unit:"esriTimeUnitsHours",threshold:864e5,unitMs:36e5,preferredIntervalSize:[1,2,3,4,6,8,12,24]},{unit:"esriTimeUnitsDays",threshold:6048e5,unitMs:864e5,preferredIntervalSize:[1,2,3,4,5,6,7]},{unit:"esriTimeUnitsWeeks",threshold:24192e5,unitMs:6048e5,preferredIntervalSize:[1,2,3,4]},{unit:"esriTimeUnitsMonths",threshold:290304e5,unitMs:24192e5,preferredIntervalSize:[1,2,3,4,6,12]},{unit:"esriTimeUnitsYears",threshold:Number.MAX_SAFE_INTEGER,unitMs:290304e5,preferredIntervalSize:[1,2,4,5,10,25,50,100]}],Op=["1.0.0","1.0.1","2.0.0","3.0.0","3.1.0","3.2.0","3.3.0","3.4.0","3.5.0","3.6.0","3.7.0","3.8.0","3.9.0","3.9.1","3.9.2","3.10.0","3.11.0","4.0.0","4.0.1","5.0.0","6.0.0","6.1.0","6.2.0","6.2.1"],kp={$schema:"http://json-schema.org/draft-07/schema#",definitions:{RESTFieldType:{enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"RESTFieldType"},RESTStatisticType:{enum:["avg","centroid-aggregate","convex-hull-aggregate","count","envelope-aggregate","max","min","no_aggregation","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"RESTStatisticType"},RESTSimpleLineSymbolStyle:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"RESTSimpleLineSymbolStyle"},RESTSimpleMarkerSymbolStyle:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"RESTSimpleMarkerSymbolStyle"},RESTSimpleFillSymbolStyle:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"RESTSimpleFillSymbolStyle"},RESTHorizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"RESTHorizontalAlignment"},RESTVerticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"RESTVerticalAlignment"},RESTSymbolType:{enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string",title:"RESTSymbolType"},RESTFontStyle:{enum:["italic","normal","oblique"],type:"string",title:"RESTFontStyle"},RESTFontWeight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"RESTFontWeight"},RESTFontDecoration:{enum:["line-through","none","underline"],type:"string",title:"RESTFontDecoration"},RESTRendererType:{enum:["class-breaks","dictionary","dot-density","heatmap","pie-chart","simple","unique-value"],type:"string",title:"RESTRendererType"},RESTUnits:{enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"RESTUnits"},WebChartTypes:{enum:["barSeries","boxPlotSeries","buffer","category","chart","chartAxis","chartGuide","chartLegend","chartOverlay","chartOverlays","chartText","comboLineAndBarSeries","cursorCrosshair","date","gaugeAxisTick","gaugeNeedle","gaugeSeries","histogramSeries","lineSeries","number","pieSeries","pieTick","probabilityPlotSeries","profileGraphSeries","scatterSeries","sizeScale"],type:"string",title:"WebChartTypes"},WebChartDataTransformations:{title:"WebChartDataTransformations",enum:["logarithmic","none","squareRoot"],type:"string"},WebChartColoringPatterns:{title:"WebChartColoringPatterns",enum:["colorMatch","singleColor"],type:"string"},WebChartLegendPositions:{title:"WebChartLegendPositions",enum:["bottom","left","right","top"],type:"string"},WebChartStackedKinds:{enum:["sideBySide","stacked","stacked100"],type:"string",title:"WebChartStackedKinds"},WebChartProbabilityPlotKinds:{title:"WebChartProbabilityPlotKinds",enum:["normalQQPlot","qqPlot"],type:"string"},WebChartSortOrderKinds:{enum:["ASC","DESC"],type:"string",title:"WebChartSortOrderKinds"},WebChartDataSourceTypes:{enum:["inline","layer"],type:"string",title:"WebChartDataSourceTypes"},WebChartLineSmoothedKinds:{enum:["bezier","monotoneX","monotoneY"],type:"string",title:"WebChartLineSmoothedKinds"},WebChartTimeIntervalUnits:{enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"WebChartTimeIntervalUnits"},WebChartNullPolicyTypes:{enum:["interpolate","null","zero"],type:"string",title:"WebChartNullPolicyTypes"},WebChartTimeAggregationTypes:{enum:["equalIntervalsFromEndTime","equalIntervalsFromStartTime"],type:"string",title:"WebChartTimeAggregationTypes"},WebChartLabelBehavior:{enum:["none","rotate","stagger","wrap"],type:"string",title:"WebChartLabelBehavior"},WebChartVersionStatus:{enum:["newer","older","same","unrecognized"],type:"string",title:"WebChartVersionStatus"},WebChartAxisTypes:{enum:["category","date","value"],type:"string",title:"WebChartAxisTypes"},GaugeChartSubTypes:{enum:["featureGauge","statisticGauge"],type:"string",title:"GaugeChartSubTypes"},SizePolicyScaleTypes:{enum:["linear","logarithmic"],type:"string",title:"SizePolicyScaleTypes"},LabelValueTypes:{enum:["modifiedValue","originalValue"],type:"string",title:"LabelValueTypes"},RGBObject:{description:"JSON representation of the color object",title:"RGBObject",type:"object",properties:{r:{type:"number",title:"r"},g:{type:"number",title:"g"},b:{type:"number",title:"b"},a:{default:1,type:"number",title:"a"}},required:["b","g","r"]},RGBArray:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3,title:"RGBArray"},WebChartConfigFields:{description:"Is an object which dictate which data-item field should be used for defining a property of the rendered element (line, point, bars, etc). Used in inline data source mode only.",title:"WebChartConfigFields",type:"object",properties:{fillColor:{type:"string",title:"fillColor"},fillOpacity:{type:"string",title:"fillOpacity"},fillStyle:{type:"string",title:"fillStyle"},lineColor:{type:"string",title:"lineColor"},lineOpacity:{type:"string",title:"lineOpacity"},lineWidth:{type:"string",title:"lineWidth"},lineStyle:{type:"string",title:"lineStyle"},markerSize:{type:"string",title:"markerSize"},outlineColor:{type:"string",title:"outlineColor"},outlineOpacity:{type:"string",title:"outlineOpacity"},outlineWidth:{type:"string",title:"outlineWidth"},outlineStyle:{type:"string",title:"outlineStyle"},displayLabel:{type:"string",title:"displayLabel"}}},WebChartDataItemColor:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"string"}],title:"WebChartDataItemColor"},WebChartDataItemValue:{title:"WebChartDataItemValue",anyOf:[{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"string",format:"date-time"},{$ref:"#/definitions/IExtent"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/RGBObject"},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:{$ref:"#/definitions/WebChartDataItem"}},{type:["null","string","number","boolean"]}]},WebChartDataItem:{description:"JSON representation of a typical data item",title:"WebChartDataItem",type:"object",additionalProperties:{$ref:"#/definitions/WebChartDataItemValue"}},WebChartScatterPlotDataItem:{description:"JSON representation of the processed data for a Scatter plot",title:"WebChartScatterPlotDataItem",type:"object",properties:{r2:{type:"number",title:"r2"},trendLinePoints:{type:"array",items:[{$ref:"#/definitions/WebChartDataItem"},{$ref:"#/definitions/WebChartDataItem"}],minItems:2,maxItems:2,title:"trendLinePoints"},dataItems:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"dataItems"}},required:["dataItems"]},TimeIntervalInfo:{title:"TimeIntervalInfo",type:"object",properties:{timeIntervalUnits:{enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"timeIntervalUnits"},timeIntervalSize:{type:"number",title:"timeIntervalSize"}}},WebChartGenericDataItem:{description:"JSON representation of the generic data structure for bar, line bar-line, gauge and pie chart",title:"WebChartGenericDataItem",type:"object",properties:{dataItems:{type:"array",items:{$ref:"#/definitions/WebChartDataItem"},title:"dataItems"},timeIntervalInfo:{description:"Time interval information, only for line charts",$ref:"#/definitions/TimeIntervalInfo",title:"timeIntervalInfo"}},required:["dataItems"]},WebChartBin:{description:"JSON representation of a Histogram bin",title:"WebChartBin",type:"object",properties:{count:{type:"number",title:"count"},minValue:{description:"Min value in the bin",type:"number",title:"minValue"},maxValue:{description:"Max value in the bin",type:"number",title:"maxValue"},symbol:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"symbol"}},required:["count","maxValue","minValue"]},WebChartHistogramDataItem:{description:"JSON representation of the processed data for a Histogram",title:"WebChartHistogramDataItem",type:"object",properties:{mean:{type:"number",title:"mean"},median:{type:"number",title:"median"},stddev:{type:"number",title:"stddev"},max:{type:"number",title:"max"},min:{type:"number",title:"min"},sum:{description:"Sum of the values of all the points",type:"number",title:"sum"},count:{description:"Number of all the points/features in un-binned data (including only non-null entries)",type:"number",title:"count"},nulls:{description:"Number of null entries in the pool of points",type:"number",title:"nulls"},bins:{type:"array",items:{$ref:"#/definitions/WebChartBin"},title:"bins"}},required:["bins","max","mean","median","min","stddev"]},WebChartDataTypes:{title:"WebChartDataTypes",anyOf:[{$ref:"#/definitions/WebChartScatterPlotDataItem"},{$ref:"#/definitions/WebChartGenericDataItem"},{$ref:"#/definitions/WebChartHistogramDataItem"}]},WebChartInlineDataSource:{description:"JSON representation of the inline data source",title:"WebChartInlineDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source. It is **inline** for inline data (arrays of POJOs).",type:"string",enum:["inline"],title:"type"},processed:{description:"Indicates whether the data is already processed and be used right away. If it is `false`, then the data needs to go through some transformation before being assigned to chart/series.",type:"boolean",title:"processed"},configFields:{description:"An object that is used to pass custom configuration like selecting the fill color based on a dataSource field.",$ref:"#/definitions/WebChartConfigFields",title:"configFields"},data:{$ref:"#/definitions/WebChartDataTypes",description:"Structure containing all the data for the chart.",title:"data"}},required:["data","processed","type"]},WebChartLayerDataSource:{description:"JSON representation of the feature layer data source",title:"WebChartLayerDataSource",type:"object",properties:{type:{description:"Represents a unique string identifier for the type of chart data source.",type:"string",enum:["layer"],title:"type"},layer:{$ref:"#/definitions/IFeatureLayer",description:"Carries the properties necessary to build a JSAPI Feature Layer in order to fetch the chart data.",title:"layer"}},required:["layer","type"]},WebChartDataSources:{title:"WebChartDataSources",anyOf:[{$ref:"#/definitions/WebChartInlineDataSource"},{$ref:"#/definitions/WebChartLayerDataSource"}]},ValueConversion:{description:"Stores information regarding a numeric conversion",title:"ValueConversion",type:"object",properties:{factor:{description:"A numeric value multiplying the value to convert",type:"number",title:"factor"},offset:{description:"A numeric offset to apply to the value to convert",type:"number",title:"offset"}}},WebChartText:{description:"Stores info on how some text is rendered on the chart and whether it is visible or not.",title:"WebChartText",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartText object. For ChartText object, it is "chartText".',type:"string",enum:["chartText"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},content:{$ref:"#/definitions/ITextSymbol",description:"Contains the styling info and text content. Details on **esriTS** are [here](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm).",title:"content"}},required:["content","type"]},WebChartCursorCrosshair:{description:"JSON representation of the cursor's crosshair for a chart.",title:"WebChartCursorCrosshair",type:"object",properties:{type:{description:"Represents a unique string identifier for the chart cursor's crosshair.",type:"string",enum:["cursorCrosshair"],title:"type"},style:{description:"Contains styling info on how the chart cursor's crosshair should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"style"},verticalLineVisible:{description:"Indicates whether the vertical crosshair line should be displayed",default:!1,type:"boolean",title:"verticalLineVisible"},horizontalLineVisible:{description:"Indicates whether the horizontal crosshair line should be displayed",default:!1,type:"boolean",title:"horizontalLineVisible"}},required:["type"]},WebChartLegend:{description:"JSON representation of the Chart's legend box",title:"WebChartLegend",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is "chartLegend".',type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"},roundMarkers:{description:"If set to true, the legend markers are displayed as circles. Otherwise they are rounded rectangles.",default:!1,type:"boolean",title:"roundMarkers"}},required:["body","position","type"]},WebChartPieChartLegend:{description:"Specific legend for the Pie chart",title:"WebChartPieChartLegend",type:"object",properties:{displayNumericValue:{description:"Indicates whether the numeric value associated to a slice is to be displayed in the legend.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`",default:!1,type:"boolean",title:"displayNumericValue"},displayPercentage:{description:"Indicates whether the percentage to a slice is to be displayed in the legend.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`",default:!1,type:"boolean",title:"displayPercentage"},labelMaxWidth:{description:"Maximum width in pixels of the label displaying the slice name. If the label is larger than the maximum width, it will automatically wrap.",default:200,type:"number",title:"labelMaxWidth"},valueLabelMaxWidth:{description:"Maximum width in pixels of the label displaying the slice name. If the label is larger than the maximum width, it will automatically wrap.",default:200,type:"number",title:"valueLabelMaxWidth"},type:{description:'Represents a unique string identifier for the ChartLegend object. For ChartLegend object, it is "chartLegend".',type:"string",enum:["chartLegend"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},title:{description:"Contains styling info on how the title of the legend box should be rendered",$ref:"#/definitions/WebChartText",title:"title"},body:{$ref:"#/definitions/ITextSymbol",description:"Contains styling info on how legend body (excluding the **title**) should be rendered",title:"body"},position:{$ref:"#/definitions/WebChartLegendPositions",description:'Positions the legends at `"right"`, `"left"`, `"top"`, or `"bottom"` of the chart.',title:"position"},maxHeight:{default:50,type:["null","number"],title:"maxHeight"},roundMarkers:{description:"If set to true, the legend markers are displayed as circles. Otherwise they are rounded rectangles.",default:!1,type:"boolean",title:"roundMarkers"}},required:["body","position","type"]},WebChartOverlay:{description:"JSON representation of the chart's overlays like trendline scatter plot, and median in histogram",title:"WebChartOverlay",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartOverlay object. For ChartOverlay object, it is "chartOverlay".',type:"string",enum:["chartOverlay"],title:"type"},created:{description:"Determines whether the overlay is created under the hood. It may or may not be visible.",default:!1,type:"boolean",title:"created"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},symbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the overlay should be rendered",title:"symbol"}},required:["symbol","type"]},NumberFormatOptions:{description:"Defines how the numerical(value) axis data should be formatted.",title:"NumberFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is "number". It can help us to differentiate numerical (value) axis from other types of axes viz., date-time axis and category axis.',type:"string",enum:["number"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.NumberFormatOptions",description:"Represents the JS native [Intl.NumberFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/NumberFormat), which is based on [CLDR](http://cldr.unicode.org/translation/numbers-currency/number-patterns) specifications.",title:"intlOptions"}},required:["intlOptions","type"]},CategoryFormatOptions:{description:"Defines how the category axis data (Categories) should be formatted.",title:"CategoryFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the CategoryFormatOptions object. For CategoryFormatOptions object, it is "category". It can help us to differentiate category axis from other types of axes, viz., date-time axis and numeric (value) axis.',type:"string",enum:["category"],title:"type"},characterLimit:{description:"Represents a positive integer which represents the limit on the number of characters to be displayed for all the category strings. The truncated string are appended with `...`. If property is not present or `null`, no truncation is done.",minimum:1,multipleOf:1,type:["null","number"],title:"characterLimit"}},required:["type"]},WebChartGuide:{description:"JSON representation of the chart's guide object. Can be used to represent both line and fill guides.",title:"WebChartGuide",type:"object",properties:{type:{description:'Represents a unique string identifier for the Guide object. For Guide class, it is "chartGuide".',type:"string",enum:["chartGuide"],title:"type"},start:{description:"Determines the value where the guide should begin.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"start"},end:{description:"Determines the value where the guide should end. If it is not specified, we get a line guide, otherwise we get a fill/rectangular guide.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"end"},style:{description:"Determines how the guide should be rendered. Line guide requires [esriSLS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format, and fill guide requires [esriSFS](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm) format.",anyOf:[{$ref:"#/definitions/ISimpleLineSymbol"},{$ref:"#/definitions/ISimpleFillSymbol"}],title:"style"},name:{description:"A unique string identifier which is used to refer to a particular guide. It is displayed in the Chart Authoring UI to differentiate between different guides.",type:"string",title:"name"},label:{description:"Defines a text label for the given guide. It is displayed on the chart next to the concerned guide and is styled using **esriTS** format.",$ref:"#/definitions/ITextSymbol",title:"label"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},above:{description:"Determines whether the guide should be rendered on top of (overlapping) the series or under the series.",default:!1,type:"boolean",title:"above"}},required:["name","start","style","type"]},WebChartAxis:{description:"JSON representation of the chart's axis object",title:"WebChartAxis",type:"object",properties:{type:{description:'Represents a unique string identifier for the WebChartAxis object. For ChartAxis object, it is "chartAxis".',type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"},scrollbarVisible:{description:"Represents an option to add scrollbar to the axis of the chart",default:!1,type:"boolean",title:"scrollbarVisible"},displayZeroLine:{description:"Represents an option to hide/un-hide the zero line on value axis",default:!1,type:"boolean",title:"displayZeroLine"},integerOnlyValues:{description:"Represents an option to show `integer-only` values for a value axis",default:!1,type:"boolean",title:"integerOnlyValues"},displayCursorTooltip:{description:"Specifies whether cursor tooltip should be displayed.",default:!1,type:"boolean",title:"displayCursorTooltip"},buffer:{description:"Allows setting a buffer to a **value axis** to provide some space around the series.",default:!1,type:"boolean",title:"buffer"}},required:["labels","lineSymbol","title","type","valueFormat"]},WebChartGaugeAxisTick:{description:"JSON representation of the gauge axis ticks.",title:"WebChartGaugeAxisTick",type:"object",properties:{type:{description:'Represents a unique string identifier for the GaugeAxisTick object. For WebChartGaugeAxisTick object, it is "gaugeAxisTick".',type:"string",enum:["gaugeAxisTick"],title:"type"},visible:{description:"Determines the visibility of the axis ticks.",default:!0,type:"boolean",title:"visible"}},required:["type"]},WebChartNeedle:{title:"WebChartNeedle",type:"object",properties:{type:{description:'Represents a unique string identifier for the ChartNeedle object. For WebChartNeedle object, it is "gaugeNeedle".',type:"string",enum:["gaugeNeedle"],title:"type"},visible:{description:"Hides or shows the needle.",default:!0,type:"boolean",title:"visible"},symbol:{description:"Contains styling info on how the needle should be rendered",$ref:"#/definitions/ISimpleFillSymbol",title:"symbol"},startWidth:{description:"Represents the needle's thickness at the bottom (chart's center), in px",minimum:1,default:10,type:["null","number"],title:"startWidth"},endWidth:{description:"Represents the needle's thickness at the top, in px",minimum:1,default:1,type:["null","number"],title:"endWidth"},innerRadius:{description:"Represents the size of the hole in the middle of the chart. Can be visualized when guides are displayed.",minimum:0,maximum:100,default:25,type:["null","number"],title:"innerRadius"},displayPin:{description:"Hides or shows the needle's pin (centroid circle)",default:!1,type:"boolean",title:"displayPin"}},required:["type"]},WebChartGaugeAxis:{description:"JSON representation of the gauge chart's axis object. Inherits from the WebChartAxis properties.",title:"WebChartGaugeAxis",type:"object",properties:{innerLabel:{description:"Specifies how the axis' inner label needs to be displayed",$ref:"#/definitions/WebChartText",title:"innerLabel"},needle:{description:"Specifies how the axis' needle needs to be displayed",$ref:"#/definitions/WebChartNeedle",title:"needle"},ticks:{description:"Specifies how the axis' ticks need to be displayed",$ref:"#/definitions/WebChartGaugeAxisTick",title:"ticks"},labelsIncrement:{description:"If a label has a value being a multiple of that property, it will be displayed. Otherwise it will be hidden.\n\nIf the property is `undefined` or 0, the chart will be displayed with 6 axis labels distributed evenly along\nthe axis min and max.\n\nIf the property has a value that results in more than a set limit of axis labels (25 as defined in `ChartDefaults.gauge.maximumNumberOfLabelIntervals`)\nthis property value will be ignored and the chart will be displayed with only axis min/max with 4 ticks in between.",default:"undefined",type:"number",title:"labelsIncrement"},onlyShowFirstAndLastLabels:{description:"Specifies if only the first and last labels need to be displayed. If set to `true` all the other labels\nwill be hidden.\nTheir visibility still depends on the axis labels visibility (WebChartAxis.labels.visible).",default:!1,type:"boolean",title:"onlyShowFirstAndLastLabels"},minimumValueConversion:{description:"Defines how to convert the axis minimum",$ref:"#/definitions/ValueConversion",title:"minimumValueConversion"},maximumValueConversion:{description:"Defines how to convert the axis maximum",$ref:"#/definitions/ValueConversion",title:"maximumValueConversion"},minimumFromField:{description:"Specifies the field name of which numeric value is to be mapped to the axis minimum value.\nWhen the field name is not provided or the field does not contain a numeric value, the `minimum` value\nfrom the axis config, if provided, or the default value of 0, in that order, will be used.\n\nThis property is only applicable to FeatureGauge.",type:"string",title:"minimumFromField"},maximumFromField:{description:"Specifies the field name of which value is to be mapped to the axis maximum value.\nWhen the field name is not provided or the field does not contain a numeric value, the `maximum` value\nfrom the axis config, if provided, or the default value of 100, in that order, will be used.\n\nThis property is only applicable to FeatureGauge.",type:"string",title:"maximumFromField"},type:{description:'Represents a unique string identifier for the WebChartAxis object. For ChartAxis object, it is "chartAxis".',type:"string",enum:["chartAxis"],title:"type"},visible:{description:"Determines the visibility of the content.",default:!0,type:"boolean",title:"visible"},isLogarithmic:{description:"Specifies whether the axis has a logarithmic scale or not.",default:!1,type:"boolean",title:"isLogarithmic"},title:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the title of the axis should be rendered",title:"title"},valueFormat:{description:"Specifies how numerical/categorical/date-time values should be formatted.",anyOf:[{$ref:"#/definitions/NumberFormatOptions"},{$ref:"#/definitions/DateTimeFormatOptions"},{$ref:"#/definitions/CategoryFormatOptions"}],title:"valueFormat"},minimum:{description:"The minimum value which the axis should represent, when it is not defined or null, then the minimum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"minimum"},maximum:{description:"The maximum value which the axis should represent, when it is not defined or null, then the maximum value for the corresponding axis is automatically calculated.",type:["null","number"],title:"maximum"},grid:{description:"Dictates how the grid lines associated with a particular axis should be rendered.",$ref:"#/definitions/ISimpleLineSymbol",title:"grid"},guides:{description:"Represent an array of guides that should be rendered onto the axis.",type:"array",items:{$ref:"#/definitions/WebChartGuide"},title:"guides"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the axis line should be rendered.",title:"lineSymbol"},labels:{$ref:"#/definitions/WebChartText",description:"Contains styling info on how the axis labels should be rendered.",title:"labels"},scrollbarVisible:{description:"Represents an option to add scrollbar to the axis of the chart",default:!1,type:"boolean",title:"scrollbarVisible"},displayZeroLine:{description:"Represents an option to hide/un-hide the zero line on value axis",default:!1,type:"boolean",title:"displayZeroLine"},integerOnlyValues:{description:"Represents an option to show `integer-only` values for a value axis",default:!1,type:"boolean",title:"integerOnlyValues"},displayCursorTooltip:{description:"Specifies whether cursor tooltip should be displayed.",default:!1,type:"boolean",title:"displayCursorTooltip"},buffer:{description:"Allows setting a buffer to a **value axis** to provide some space around the series.",default:!1,type:"boolean",title:"buffer"}},required:["labels","lineSymbol","title","type","valueFormat"]},IStatisticDefinitionExtended:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"],title:"IStatisticDefinitionExtended"},WebChartQuery:{description:"Chart query object inspired by [JSAPI Query](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html) class.",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statistics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"]},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},gdbVersion:{description:"Specifies the geodatabase version to display for feature service queries.",type:"string",title:"gdbVersion"},geometry:{description:"The geometry to apply to the spatial filter. A buffer can be applied to it by setting the properties `distance` and `units`.",anyOf:[{$ref:"#/definitions/IPoint"},{$ref:"#/definitions/IPolyline"},{$ref:"#/definitions/IPolygon"},{$ref:"#/definitions/IPolygonWithCurves"},{$ref:"#/definitions/IEnvelope"},{$ref:"#/definitions/IExtent"}],title:"geometry"},distance:{description:"Specifies a search distance for the `geometry`. To be associated with the `units` property. For compatible layers only.",type:"number",title:"distance"},units:{description:"The unit for calculating the buffer distance when `distance` and `geometry` are provided.\nIf not specified, the unit is derived from the geometry spatial reference.",enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"units"},timeExtent:{description:"A time extent ([timestamp, timestamp]) for a temporal query against time-aware layers.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"timeExtent"},start:{description:"The zero-based index indicating where to begin retrieving features.",type:"number",title:"start"},num:{description:"The number of features to retrieve.",type:"number",title:"num"},returnDistinctValues:{description:"If true then the query returns distinct values based on the field(s) specified in outFields. Available for count-based aggregations only.",default:!1,type:"boolean",title:"returnDistinctValues"},fetchNullValues:{description:"Indicates whether to fetch null values for them to be counted or displayed as categories on the chart.",default:!1,type:"boolean",title:"fetchNullValues"}},title:"WebChartQuery"},WebChartSeriesQuery:{description:"Subset of the WebChartQuery, use the series level",title:"WebChartSeriesQuery",type:"object",properties:{where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"},groupByFieldsForStatistics:{description:"An array of fields which determine how the base data is grouped. Only one **groupBy** Field is supported, but ArcGIS JSAPI [supports multiple groupBy fields](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#groupByFieldsForStatistics). While splitting by multiple group-by fields is possible, it is not being done because of the number of series it will give rise to (equal to the length of the Cartesian product set) possibly making the visualization hard to interpret.",maxItems:1,type:"array",items:{type:"string"},title:"groupByFieldsForStatistics"},outStatistics:{description:"Represents an array of statistics definitions which dictate how a particular field should be aggregated. Refer to [JSAPI Statistics Definition class](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-StatisticDefinition.html) for more info.",type:"array",items:{description:"Temporary type copying the `IStatisticDefinition` and adding the 'envelope-aggregate' aggregation type\nto the `statisticType` property.\nTODO: remove this type and use IStatisticDefinition once the rest-js typings are updated. See https://github.com/Esri/arcgis-rest-js/issues/1043",type:"object",properties:{statisticType:{description:"Statistical operation to perform (count, sum, min, max, avg, stddev, var, percentile_cont, percentile_disc, envelope-aggregate).",enum:["avg","count","envelope-aggregate","max","min","percentile_cont","percentile_disc","stddev","sum","var"],type:"string",title:"statisticType"},statisticParameters:{description:"Parameters to be used along with statisticType. Currently, only applicable for percentile_cont (continuous percentile) and percentile_disc (discrete percentile).",type:"object",properties:{value:{type:"number",title:"value"},orderBy:{enum:["asc","desc"],type:"string",title:"orderBy"}},required:["value"],title:"statisticParameters"},onStatisticField:{description:"Field on which to perform the statistical operation.",type:"string",title:"onStatisticField"},outStatisticFieldName:{description:"Field name for the returned statistic field. If outStatisticFieldName is empty or missing, the server will assign one. A valid field name can only contain alphanumeric characters and an underscore. If the outStatisticFieldName is a reserved keyword of the underlying DBMS, the operation can fail. Try specifying an alternative outStatisticFieldName.",type:"string",title:"outStatisticFieldName"}},required:["onStatisticField","statisticType"]},title:"outStatistics"},orderByFields:{description:"Represents the sorting order of the output result. More info present in [JSAPI docs](https://developers.arcgis.com/javascript/latest/api-reference/esri-tasks-support-Query.html#orderByFields). The format of any entry in this array is `field_name sorting_order`. When `sorting_order` is not defined, it is assumed to be ascending",examples:["STATE_NAME DESC","CITY_NAME ASC","CITY_NAME"],type:"array",items:{type:"string"},title:"orderByFields"},returnDistinctValues:{description:"If true then the query returns distinct values based on the field(s) specified in outFields. Available for count-based aggregations only.",default:!1,type:"boolean",title:"returnDistinctValues"},fetchNullValues:{description:"Indicates whether to fetch null values for them to be counted or displayed as categories on the chart.",default:!1,type:"boolean",title:"fetchNullValues"}}},WebChartDataFilters:{description:"JSON representation of filters applied to the data",title:"WebChartDataFilters",type:"object",properties:{gdbVersion:{description:"Specifies the geodatabase version to display for feature service queries.",type:"string",title:"gdbVersion"},geometry:{description:"The geometry to apply to the spatial filter. A buffer can be applied to it by setting the properties `distance` and `units`.",anyOf:[{$ref:"#/definitions/IPoint"},{$ref:"#/definitions/IPolyline"},{$ref:"#/definitions/IPolygon"},{$ref:"#/definitions/IPolygonWithCurves"},{$ref:"#/definitions/IEnvelope"},{$ref:"#/definitions/IExtent"}],title:"geometry"},timeExtent:{description:"A time extent ([timestamp, timestamp]) for a temporal query against time-aware layers.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"timeExtent"},distance:{description:"Specifies a search distance for the `geometry`. To be associated with the `units` property. For compatible layers only.",type:"number",title:"distance"},units:{description:"The unit for calculating the buffer distance when `distance` and `geometry` are provided.\nIf not specified, the unit is derived from the geometry spatial reference.",enum:["feet","kilometers","meters","miles","nautical-miles","us-nautical-miles"],type:"string",title:"units"},where:{description:"Acts as a filter on the base data for attribute-based filtering, expect for bar/line charts for which is is used to handle the split-by field values.",type:"string",title:"where"}}},WebChartSeries:{description:"JSON representation of the chart's series object. All other series extends this interface.",type:"object",properties:{type:{type:"string",title:"type"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","name","type","x"],title:"WebChartSeries"},WebChartBarChartSeries:{description:"[Bar chart](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/bar-chart.htm) shows the categorical distribution of String/DateTime data.",title:"WebChartBarChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the BarChartSeries object. For BarSeries object, it is "barSeries".',type:"string",enum:["barSeries"],title:"type"},y:{description:"Specifies which field represents the y-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},stackedType:{description:'Specifies how the bars/columns should be placed when multiple bar series are rendered in the same chart, say when "split by" operation is executed on any field or when multiple attributes/fields corresponding to the same set of classes are to be visualized.',enum:["sideBySide","stacked","stacked100"],type:"string",title:"stackedType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},dataLabels:{$ref:"#/definitions/WebChartText",description:"Specifies how the data labels should be rendered.",title:"dataLabels"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"}},required:["colorType","dataLabels","fillSymbol","id","name","type","x","y"]},HistogramOverlays:{description:"Object containing Histogram overlays",title:"HistogramOverlays",type:"object",properties:{type:{description:'Represents a unique string identifier for the HistogramOverlays object. For HistogramOverlays object, it is "chartOverlays".',type:"string",enum:["chartOverlays"],title:"type"},mean:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the mean overlay for histogram.",title:"mean"},median:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the median overlay for histogram.",title:"median"},standardDeviation:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the standard deviation overlay for histogram.",title:"standardDeviation"},comparisonDistribution:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the comparison distribution overlay for histogram.",title:"comparisonDistribution"}},required:["comparisonDistribution","mean","median","standardDeviation","type"]},WebChartHistogramSeries:{description:"[Histogram](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/histogram.htm) shows the numerical(frequency) distribution of a numerical field.",title:"WebChartHistogramSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the HistogramSeries object. For BarSeries object, it is "histogramSeries".',type:"string",enum:["histogramSeries"],title:"type"},binCount:{description:"Bin count must be a positive integer.",minimum:1,multipleOf:1,default:32,type:["null","number"],title:"binCount"},overlays:{$ref:"#/definitions/HistogramOverlays",description:"Specifies the chart overlays. Histogram supports 4 overlays: **mean**, **median**, **standardDeviation** and **comparisonDistribution**.",title:"overlays"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",description:"Specifies how the data should be transformed (e.g. square root, log, etc.) before binning.",title:"dataTransformationType"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the columns/bars should be rendered",title:"fillSymbol"},rotated:{description:"Specifies whether the bars/columns are rotated or not. When it is `true`, we get vertical columns. When it is `false`, we get horizontal ones.",default:!1,type:"boolean",title:"rotated"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","dataTransformationType","fillSymbol","id","name","overlays","type","x"]},ScatterPlotOverlays:{description:"Object containing Scatter Plot overlays",title:"ScatterPlotOverlays",type:"object",properties:{type:{description:'Represents a unique string identifier for the ScatterPlotOverlays object. For ScatterPlotOverlays object, it is "chartOverlays".',type:"string",enum:["chartOverlays"],title:"type"},trendLine:{$ref:"#/definitions/WebChartOverlay",description:"Specifies the trendline overlay for scatter plot.",title:"trendLine"}},required:["trendLine","type"]},SizePolicy:{title:"SizePolicy",type:"object",properties:{type:{description:'Represents a unique string identifier for the sizePolicy object. For sizePolicy object, it is "sizeScale".',type:"string",enum:["sizeScale"],title:"type"},scaleType:{description:"The type of scale to apply to the markers (linear or logarithmic)",default:"SizePolicyScaleTypes.Linear",enum:["linear","logarithmic"],type:"string",title:"scaleType"},field:{description:"The field which determines the markers size",type:"string",title:"field"},minSize:{description:"The minimum marker size",default:5,multipleOf:1,type:"number",title:"minSize"},maxSize:{description:"The maximum marker size",default:30,multipleOf:1,type:"number",title:"maxSize"}},required:["field","type"]},WebChartScatterPlotSeries:{description:"[Scatter plot](https://pro.arcgis.com/en/pro-app/help/analysis/geoprocessing/charts/scatter-plot.htm) shows the relationship between two numerical fields.",title:"WebChartScatterPlotSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the ScatterSeries object. For ScatterSeries object, it is "scatterSeries".',type:"string",enum:["scatterSeries"],title:"type"},y:{description:"Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",description:'Specifies how each data point in the scatter plot should be rendered. The type is `"esriSMS"` and it is adopted from the [REST API Types](https://developers.arcgis.com/documentation/common-data-types/symbol-objects.htm#GUID-C8D40B32-5F4B-45EB-8048-6D5A8763E13B).',title:"markerSymbol"},overlays:{$ref:"#/definitions/ScatterPlotOverlays",description:"Specifies all the chart overlays. The scatter plot implements only 1 overlay, **trendLine**.",title:"overlays"},sizePolicy:{description:"Specifies rules to use the scatter plot as bubble plot, by changing dynamically the markers size according to a specific field value",$ref:"#/definitions/SizePolicy",title:"sizePolicy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","markerSymbol","name","overlays","type","x","y"]},WebChartPieChartTick:{description:"JSON representation of the pie ticks.",title:"WebChartPieChartTick",type:"object",properties:{type:{description:'Represents a unique string identifier for the WebChartPieChartTick object. For PieTick object, it is "pieTick".',type:"string",enum:["pieTick"],title:"type"},visible:{description:"Determines the visibility of the tick.\nAssigning the `true` value will only be considered when the data labels are visible (`series.dataLabels.visible`) and\nwhen the data label associated to the tick is outside of the chart (`series.dataLabelsOffset` > 0).",type:"boolean",title:"visible"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the pie chart ticks should be rendered",title:"lineSymbol"}},required:["lineSymbol","type"]},WebChartPieChartSlice:{description:"JSON representation of the pie slices",title:"WebChartPieChartSlice",type:"object",properties:{sliceId:{description:"A unique string used identify the slice of a pie chart.",type:"string",title:"sliceId"},originalLabel:{description:"The slice's original label.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"originalLabel"},label:{description:"Custom label for the slice.\nFor grouped slice, the default value is `Other`.\nFor regular slice, it will be either the category or field name.",type:"string",title:"label"},fillSymbol:{description:"Contains styling info on how the slice should be rendered. If not provided, the slice will\nbe styled with default values.",$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"}},required:["sliceId"]},WebChartPieChartGroupSlice:{description:"JSON representation of the pie grouped slice",title:"WebChartPieChartGroupSlice",type:"object",properties:{percentageThreshold:{description:"Slices that have a percent value equal or lesser to this threshold are grouped into a unique slice",type:"number",title:"percentageThreshold"},dataLabels:{description:"Specifies how the grouped slice data labels should be rendered.\nIf the property is not set the `series.dataLabels` will be used instead.",$ref:"#/definitions/WebChartText",title:"dataLabels"},sliceId:{description:"A unique string used identify the slice of a pie chart.",type:"string",title:"sliceId"},originalLabel:{description:"The slice's original label.",anyOf:[{type:"string",format:"date-time"},{type:["null","string","number"]}],title:"originalLabel"},label:{description:"Custom label for the slice.\nFor grouped slice, the default value is `Other`.\nFor regular slice, it will be either the category or field name.",type:"string",title:"label"},fillSymbol:{description:"Contains styling info on how the slice should be rendered. If not provided, the slice will\nbe styled with default values.",$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"}},required:["percentageThreshold","sliceId"]},WebChartPieChartSeries:{description:"JSON representation of the Pie Chart series",title:"WebChartPieChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the PieSeries object. For PieSeries object, it is "pieSeries".',type:"string",enum:["pieSeries"],title:"type"},y:{description:"Specifies which field represents the y-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"y"},innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",minimum:0,maximum:100,default:50,type:["null","number"],title:"innerRadius"},startAngle:{default:-90,type:["null","number"],title:"startAngle"},endAngle:{default:270,type:["null","number"],title:"endAngle"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",description:"Contains styling info on how the slices should be rendered",title:"fillSymbol"},displayNumericValueOnDataLabel:{description:"Indicates whether the numeric value associated to a slice is to be displayed on its data label.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`.\nThis property will be ignored if the chart options `dataLabelFormatter` is provided.",default:!0,type:"boolean",title:"displayNumericValueOnDataLabel"},displayPercentageOnDataLabel:{description:"Indicates whether the percentage associated to a slice is to be displayed on its data label.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `dataLabelFormatter` is provided.",default:!1,type:"boolean",title:"displayPercentageOnDataLabel"},displayNumericValueOnTooltip:{description:"Indicates whether the numeric value associated to a slice is to be displayed on its tooltip.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `tooltipFormatter` is provided.",default:!0,type:"boolean",title:"displayNumericValueOnTooltip"},displayPercentageOnTooltip:{description:"Indicates whether the percentage associated to a slice is to be displayed on its tooltip.\nIf both displayNumericValue & displayPercentage are true on a same label, they will be displayed as `percentage (value)`\nThis property will be ignored if the chart options `tooltipFormatter` is provided.",default:!0,type:"boolean",title:"displayPercentageOnTooltip"},numericValueFormat:{description:"Specifies how the numerical values should be formatted (applied to label, tooltip and legend).\nCan be overridden for the tooltips by series.dataTooltipValueFormat.",$ref:"#/definitions/NumberFormatOptions",title:"numericValueFormat"},percentValueFormat:{description:"Specifies how the percent values should be formatted (applied to label, tooltip and legend)\nCan be overridden for the tooltips by series.dataTooltipPercentFormat.",$ref:"#/definitions/NumberFormatOptions",title:"percentValueFormat"},valuePrefix:{description:"Adds a prefix to all the values displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"valuePrefix"},valueSuffix:{description:"Adds a suffix to all the values displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"valueSuffix"},percentagePrefix:{description:"Adds a prefix to all the percentages displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"percentagePrefix"},percentageSuffix:{description:"Adds a suffix to all the percentages displayed on the pie chart: data labels, tooltips and legend",type:"string",title:"percentageSuffix"},dataLabelsCharacterLimit:{description:'If set, the category on the data label is truncated to display only `characterLimit` characters, and an ellipsis ("...")\nis added to the end of the label.\nThis does not affect the value and percentage part of the labels.\nDoes not apply to tooltips and legend labels.',default:"undefined",minimum:1,multipleOf:1,type:["null","number"],title:"dataLabelsCharacterLimit"},ticks:{description:"Specifies how to render the ticks shown on each slide.\nTicks will be displayed with default values if not provided.",$ref:"#/definitions/WebChartPieChartTick",title:"ticks"},dataLabelsOffset:{description:"Determines in pixel how far the data labels should be placed from their slice.\nIf a negative value is provided the label will be placed inside of the chart.",default:10,type:"number",title:"dataLabelsOffset"},alignDataLabels:{description:"Aligns labels into columns to make them more readable and avoid them to overlap each other.",default:!1,type:"boolean",title:"alignDataLabels"},optimizeDataLabelsOverlapping:{description:"Optimizes the data labels rendering to avoid them to be cut off on the edges or to overlap the legend by wrapping them and adding padding to the chart.",default:!1,type:"boolean",title:"optimizeDataLabelsOverlapping"},sliceGrouping:{description:"Specifies if and how the slices under a given percentage threshold are grouped into a unique slice",$ref:"#/definitions/WebChartPieChartGroupSlice",title:"sliceGrouping"},slices:{description:"An array of WebChartPieChartSlice representing the ids, labels and styles of the pie slices.\n\nWhen this property is not defined, or when a pie slice does not have a matching slice in this array,\nthe series' fillSymbol will be used. If the series' fillSymbol does not contain color information, colors from the\ncolor ramps will be utilized.",type:"array",items:{$ref:"#/definitions/WebChartPieChartSlice"},title:"slices"},sortLabelsBy:{description:"Specifies the label value type to be used for sorting the pie slices.\nIt is either LabelValueTypes.OriginalValue or LabelValueTypes.ModifiedValue.\n\nThis property will only be considered when there is an `orderByFields` defined in the series[0].query object, and\nfor order based on category or field value (not for order by y value).",default:"LabelValueTypes.ModifiedValue",enum:["modifiedValue","originalValue"],type:"string",title:"sortLabelsBy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","fillSymbol","id","name","type","x","y"]},WebChartGaugeSeries:{description:"JSON representation of the `Gauge` series",title:"WebChartGaugeSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the GaugeSeries object. For GaugeSeries object, it is "gaugeSeries".',type:"string",enum:["gaugeSeries"],title:"type"},valueConversion:{description:"Defines the conversion to apply to the gauge value",$ref:"#/definitions/ValueConversion",title:"valueConversion"},featureIndex:{description:"Specifies the index of the feature to be rendered.\nThis property will be ignored for a statistic gauge (indicated via `WebGaugeChart.subType` property).\nFor feature-based gauge, if this property is not present, the first feature will be used (featureIndex = 0)",type:"number",title:"featureIndex"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","name","type","x"]},WebChartLineChartSeries:{description:"JSON representation of the Line Chart series",title:"WebChartLineChartSeries",type:"object",properties:{type:{description:'Represents a unique string identifier for the LineSeries object. For LineSeries object, it is "lineSeries".',type:"string",enum:["lineSeries"],title:"type"},y:{type:"string",title:"y"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",description:"Contains styling info on how the line/line segments should be rendered",title:"lineSymbol"},lineSmoothed:{description:"Specifies whether line segments should be smoothed.",default:!1,type:"boolean",title:"lineSmoothed"},showArea:{description:"Indicates whether line series show area.",default:!1,type:"boolean",title:"showArea"},markerVisible:{description:"Indicates whether to show or hide the markers/bullets of the line series.",default:!0,type:"boolean",title:"markerVisible"},markerSymbol:{description:"Contains styling info on how the marker should be rendered",$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},areaColor:{description:"Specifies the color of the filled area for line chart.\nareaColor will be applied only if showArea is true, and is defaulted to the line color if not provided.",type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"areaColor"},rotated:{description:"Specifies whether the series should be rotated.",default:!1,type:"boolean",title:"rotated"},stackedType:{description:'Specifies how the lines should be placed when multiple line series are rendered in the same chart, say when "split by" operation is executed on any field or\nwhen multiple attributes/fields corresponding to the same set of classes are to be visualized.',default:"sideBySide",enum:["sideBySide","stacked","stacked100"],type:"string",title:"stackedType"},stackNegativeValuesToBaseline:{description:"Specifies how negative values are treated in stacked series.\nIf true, negative values will be stacked on the base line.\nIf false, negative values will be stacked in relation to their previous values in the stack.",default:!0,type:"boolean",title:"stackNegativeValuesToBaseline"},timeIntervalUnits:{description:"The time unit that corresponds to the `timeIntervalSize`. Valid options include seconds, minutes, hours, days, weeks, months, and years.",enum:["esriTimeUnitsDays","esriTimeUnitsHours","esriTimeUnitsMinutes","esriTimeUnitsMonths","esriTimeUnitsSeconds","esriTimeUnitsWeeks","esriTimeUnitsYears"],type:"string",title:"timeIntervalUnits"},timeIntervalSize:{description:"The span of time that will be binned or aggregated together. This property must be used in conjunction with `timeIntervalUnits`.",minimum:0,type:"number",title:"timeIntervalSize"},timeAggregationType:{description:"The time interval alignment type. Valid options include `equalIntervalsFromStartTime` and `equalIntervalsFromEndTime`.",default:"equalIntervalsFromStartTime",enum:["equalIntervalsFromEndTime","equalIntervalsFromStartTime"],type:"string",title:"timeAggregationType"},trimIncompleteTimeInterval:{description:"Determines whether incomplete time intervals at the start or end of the data span (depending on the `timeAggregationType`) will be removed from the chart.\nIncomplete intervals on a chart can cause misleading results in which the period in question is under- or overreported due to a different amount of time in the interval.\nSetting `true` indicates to trim these incomplete intervals. Setting `false` does not trim incomplete intervals.",default:!0,type:"boolean",title:"trimIncompleteTimeInterval"},nullPolicy:{description:"How summarized bins returning a null value are displayed. Supported options are `null`, `zero`, and `interpolate`.",default:"null",enum:["interpolate","null","zero"],type:"string",title:"nullPolicy"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","id","lineSymbol","name","type","x","y"]},WebChartBoxPlotSeries:{description:"JSON representation of the Box plot series",title:"WebChartBoxPlotSeries",type:"object",properties:{type:{type:"string",enum:["boxPlotSeries"],title:"type"},y:{anyOf:[{type:"array",items:{type:"string"}},{type:"string"}],title:"y"},showOutliers:{type:"boolean",title:"showOutliers"},showInnerPoints:{type:"boolean",title:"showInnerPoints"},showMean:{type:"boolean",title:"showMean"},standardizeValues:{type:"boolean",title:"standardizeValues"},fillSymbol:{$ref:"#/definitions/ISimpleFillSymbol",title:"fillSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","fillSymbol","id","name","showInnerPoints","showMean","showOutliers","standardizeValues","type","x","y"]},WebChartProbabilityPlotSeries:{description:"JSON representation of the Probability plot series",title:"WebChartProbabilityPlotSeries",type:"object",properties:{type:{type:"string",enum:["probabilityPlotSeries"],title:"type"},y:{type:"string",title:"y"},probabilityPlotType:{$ref:"#/definitions/WebChartProbabilityPlotKinds",title:"probabilityPlotType"},dataTransformationType:{$ref:"#/definitions/WebChartDataTransformations",title:"dataTransformationType"},showReferenceLine:{type:"boolean",title:"showReferenceLine"},standardizeValues:{type:"boolean",title:"standardizeValues"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},referenceLineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"referenceLineSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","dataTransformationType","id","markerSymbol","name","probabilityPlotType","referenceLineSymbol","showReferenceLine","standardizeValues","type","x","y"]},WebChartProfileGraphSeries:{description:"JSON representation of the Profile graph series",title:"WebChartProfileGraphSeries",type:"object",properties:{type:{type:"string",enum:["profileGraphSeries"],title:"type"},y:{type:"string",title:"y"},horizontalUnits:{type:"string",title:"horizontalUnits"},verticalUnits:{type:"string",title:"verticalUnits"},lineSymbol:{$ref:"#/definitions/ISimpleLineSymbol",title:"lineSymbol"},markerSymbol:{$ref:"#/definitions/ISimpleMarkerSymbol",title:"markerSymbol"},id:{description:"A unique string used to differentiate the series on a chart.",type:"string",title:"id"},visible:{description:"Hides or shows the series. If the series is has **visible** set to `false`, the corresponding legend is grayed out in the legend box.",default:!0,type:"boolean",title:"visible"},dataTooltipVisible:{description:"Hides or shows data tooltips.\nApplies to all charts but Gauge.",default:!0,type:"boolean",title:"dataTooltipVisible"},dataTooltipReverseColor:{description:"Indicates whether to apply the hovered element's color to the background (false) or the outline (true).\nApplies to all charts but Gauge.",default:!1,type:"boolean",title:"dataTooltipReverseColor"},dataTooltipValueFormat:{description:"Defines how to render numeric values in tooltips.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipValueFormat"},dataTooltipPercentFormat:{description:"Defines how to render percent values in tooltips.\nCurrently used for stacked 100% bar and line charts, as well as pie charts.",$ref:"#/definitions/NumberFormatOptions",title:"dataTooltipPercentFormat"},dataTooltipDateFormat:{description:"Defines how to render dates in tooltips.\nCurrently used for bar and line charts using a date x-axis with no time binning.",$ref:"#/definitions/DateTimeFormatOptions",title:"dataTooltipDateFormat"},name:{description:"Specifies the name of the series. It would be reflected in the chart [legends](#legend)",type:"string",title:"name"},query:{description:"Subset of the WebChartQuery, use the series level",$ref:"#/definitions/WebChartSeriesQuery",title:"query"},x:{description:"Specifies which field represents the x-coordinates of this series. Empty string or one with just white spaces is not allowed. At least 1 or more word characters (a-z, A-Z, _) are needed.",minLength:1,type:"string",title:"x"},colorType:{$ref:"#/definitions/WebChartColoringPatterns",description:"Specifies whether the layer's renderer should be used for coloring the points/lines/columns etc.",title:"colorType"},dataLabels:{description:"Specifies how the data labels should be rendered.",$ref:"#/definitions/WebChartText",title:"dataLabels"}},required:["colorType","horizontalUnits","id","lineSymbol","markerSymbol","name","type","verticalUnits","x","y"]},WebChartSeriesType:{description:"Type containing all the series types available",title:"WebChartSeriesType",anyOf:[{$ref:"#/definitions/WebChartBarChartSeries"},{$ref:"#/definitions/WebChartHistogramSeries"},{$ref:"#/definitions/WebChartScatterPlotSeries"},{$ref:"#/definitions/WebChartPieChartSeries"},{$ref:"#/definitions/WebChartGaugeSeries"},{$ref:"#/definitions/WebChartLineChartSeries"},{$ref:"#/definitions/WebChartBoxPlotSeries"},{$ref:"#/definitions/WebChartProbabilityPlotSeries"},{$ref:"#/definitions/WebChartProfileGraphSeries"}]},WebMapWebChart:{description:"Gives a JSON representation of the Chart object without the dataSource Object. Used in the Webmap Viewer workflows.",type:"object",properties:{version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,maxItems:2,title:"axes"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["series","type","version"],title:"WebMapWebChart"},WebMapWebGaugeChart:{description:"JSON representation of Gauge",type:"object",properties:{innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",default:50,type:["null","number"],title:"innerRadius"},startAngle:{description:"Represents where is the chart's starting point",default:-180,type:["null","number"],title:"startAngle"},endAngle:{description:"Represents where is the chart's ending point. To be related with startAngle. If endAngle-startAngle is 360 the chart will render as full circle.",default:180,type:["null","number"],title:"endAngle"},axes:{description:"Array of one WebChartGaugeAxis",type:"array",items:[{$ref:"#/definitions/WebChartGaugeAxis"}],minItems:1,maxItems:1,title:"axes"},subType:{description:"The type of Gauge, like FeatureGauge and StatisticGauge.\n\nWhen this property is not specified, it will be defaulted to `GaugeChartSubTypes.StatisticGauge`.",enum:["featureGauge","statisticGauge"],type:"string",title:"subType"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["axes","series","type","version"],title:"WebMapWebGaugeChart"},WebChart:{description:"Gives a JSON representation of the Chart object. Used by ArcGIS Charts packages.",type:"object",properties:{dataSource:{$ref:"#/definitions/WebChartDataSources",description:"Property representing the data source. Can be Layer or vanilla POJOs.",title:"dataSource"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},axes:{description:"Represents an array of **at least 1 or at most 2** Chart Axes accompanying the chart. The axes property is optional because Pie chart does not use any axis.",type:"array",items:[{$ref:"#/definitions/WebChartAxis"},{$ref:"#/definitions/WebChartAxis"}],minItems:1,maxItems:2,title:"axes"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["dataSource","series","type","version"],title:"WebChart"},WebGaugeChart:{type:"object",properties:{dataSource:{$ref:"#/definitions/WebChartDataSources",description:"Property representing the data source. Can be Layer or vanilla POJOs.",title:"dataSource"},innerRadius:{description:"Represents the size of the hole in middle of the chart. The number is used as a percentage rather than a fixed value.",default:50,type:["null","number"],title:"innerRadius"},startAngle:{description:"Represents where is the chart's starting point",default:-180,type:["null","number"],title:"startAngle"},endAngle:{description:"Represents where is the chart's ending point. To be related with startAngle. If endAngle-startAngle is 360 the chart will render as full circle.",default:180,type:["null","number"],title:"endAngle"},axes:{description:"Array of one WebChartGaugeAxis",type:"array",items:[{$ref:"#/definitions/WebChartGaugeAxis"}],minItems:1,maxItems:1,title:"axes"},subType:{description:"The type of Gauge, like FeatureGauge and StatisticGauge.\n\nWhen this property is not specified, it will be defaulted to `GaugeChartSubTypes.StatisticGauge`.",enum:["featureGauge","statisticGauge"],type:"string",title:"subType"},version:{description:"Version of the specification. Used to identify when a saved config was created.",type:"string",enum:["6.2.1"],title:"version"},type:{description:"Represents a unique string identifier for the Chart object. For Chart object, it is **chart**.",type:"string",enum:["chart"],title:"type"},id:{description:"Can be used to uniquely identify a chart. The consumer app can choose whether to use it or not.",type:"string",title:"id"},dataFilters:{description:"JSON representation of filters applied to the data",$ref:"#/definitions/WebChartDataFilters",title:"dataFilters"},title:{description:"Specifies heading/title of the chart.",$ref:"#/definitions/WebChartText",title:"title"},subTitle:{description:"Specifies sub-heading/subtitle of the chart.",$ref:"#/definitions/WebChartText",title:"subTitle"},footer:{description:"Specifies footer of the chart",$ref:"#/definitions/WebChartText",title:"footer"},background:{description:"Specifies the background color of the chart.",default:[255,255,255,255],type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"background"},theme:{description:"A unique string that specifies the styling theme currently applied to the chart. This property needs to finalized and not in active use currently.",type:"string",title:"theme"},cursorCrosshair:{description:"Specifies cursor's crosshair information for the chart.",$ref:"#/definitions/WebChartCursorCrosshair",title:"cursorCrosshair"},legend:{description:"Specifies the Legend information for the chart.",anyOf:[{$ref:"#/definitions/WebChartLegend"},{$ref:"#/definitions/WebChartPieChartLegend"}],title:"legend"},horizontalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the horizontal axis can\'t display them all.\nThe available options are: "none", "rotate", "stagger" and "wrap".\nFor XY Chart only. Histogram can handle "none" and "rotate" only.\nThe default value for the horizontal axis is "rotate".',default:"rotate",enum:["none","rotate","stagger","wrap"],type:"string",title:"horizontalAxisLabelsBehavior"},verticalAxisLabelsBehavior:{description:'Represents the way the labels should behave when the vertical axis can\'t display them all. For XY Chart only.\nThe available options are: "none" and "wrap".\nThe default value for the vertical axis is "wrap".',default:"wrap",enum:["none","rotate","stagger","wrap"],type:"string",title:"verticalAxisLabelsBehavior"},series:{description:"Represents an array of various chart series to be plot inside the chart.\nEmpty array is not allowed.",minItems:1,type:"array",items:{$ref:"#/definitions/WebChartSeriesType"},title:"series"},rotated:{description:"Specifies whether or not the chart is rotated. Applied to Bar, Line, and Combo Bar and Line charts.",default:!1,type:"boolean",title:"rotated"}},required:["axes","dataSource","series","type","version"],title:"WebGaugeChart"},OverlayTerms:{enum:["Mean","Median","Normal Distribution","Standard Deviation","Trendline"],type:"string",title:"OverlayTerms"},CalculatedMinMaxBoundsPayload:{type:"object",properties:{isXAxis:{type:"boolean",title:"isXAxis"},minimum:{type:["null","number"],title:"minimum"},maximum:{type:["null","number"],title:"maximum"}},required:["isXAxis"],title:"CalculatedMinMaxBoundsPayload"},ChartDeletePayload:{type:"object",properties:{chartId:{type:"string",title:"chartId"}},required:["chartId"],title:"ChartDeletePayload"},LegendItemVisibility:{type:"object",properties:{visible:{type:"boolean",title:"visible"},seriesId:{type:"string",title:"seriesId"},overlayType:{enum:["Mean","Median","Normal Distribution","Standard Deviation","Trendline"],type:"string",title:"overlayType"},sliceId:{type:"string",title:"sliceId"},sliceData:{description:"JSON representation of a typical data item",$ref:"#/definitions/WebChartDataItem",title:"sliceData"}},required:["visible"],title:"LegendItemVisibility"},IExtent:{description:'Extents are used to define rectangles and bounding boxes.\n\n`IExtent` can also be imported from the following packages:\n\n```js\nimport { IExtent } from "@esri/arcgis-rest-geocoding";\nimport { IExtent } from "@esri/arcgis-rest-service-admin";\nimport { IExtent } from "@esri/arcgis-rest-feature-layer";\n```',title:"IExtent",type:"object",properties:{xmin:{type:"number",title:"xmin"},ymin:{type:"number",title:"ymin"},zmin:{type:"number",title:"zmin"},xmax:{type:"number",title:"xmax"},ymax:{type:"number",title:"ymax"},zmax:{type:"number",title:"zmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["xmax","xmin","ymax","ymin"]},ISpatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',title:"ISpatialReference",type:"object",properties:{wkid:{type:"number",title:"wkid"},latestWkid:{type:"number",title:"latestWkid"},vcsWkid:{type:"number",title:"vcsWkid"},latestVcsWkid:{type:"number",title:"latestVcsWkid"},wkt:{type:"string",title:"wkt"},latestWkt:{type:"string",title:"latestWkt"}}},IFeatureLayer:{description:"Feature layers can be created by referencing a layer from either a map service or a feature service or by specifying a feature collection object.\nUse a map service if you just want to retrieve geometries and attributes from the server and symbolize them yourself. Use a feature service if\nyou want to take advantage of symbols from the service's source map document. Also, use a feature service if you plan on doing editing with the\nfeature layer. Feature layers honor any feature templates configured in the source map document. Feature collection objects are used to create\na feature layer based on the supplied definition.",title:"IFeatureLayer",type:"object",properties:{capabilities:{description:"A comma-separated string listing which editing operations are allowed on an editable feature service.",type:"string",title:"capabilities"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},disablePopup:{description:"Indicates whether to allow a client to ignore popups defined by the service item.",enum:[!0],type:"boolean",title:"disablePopup"},featureCollection:{description:"A featureCollection object defining a layer of features whose geometry and attributes are either stored directly within the web map or with an item. Feature Collections can be created from CSVs, shapefiles, GPX, or map notes.",title:"featureCollection"},featureCollectionType:{description:"Indicates the type of features in the feature collection. If featureCollectionType is missing, it means the feature collection is a regular single-layer or multi-layer feature collection.",enum:["markup","notes","route"],type:"string",title:"featureCollectionType"},layerDefinition:{description:"A layerDefinition object defining the attribute schema and drawing information for the layer.",$ref:"#/definitions/ILayerDefinition",title:"layerDefinition"},layerType:{description:"String indicating the layer type.",type:"string",enum:["ArcGISFeatureLayer"],title:"layerType"},mode:{description:"0 is snapshot mode. 1 is on-demand mode. 2 is selection-only mode. Used with ArcGIS feature services and individual layers in ArcGIS map services.",enum:[0,1,2],type:"number",title:"mode"},popupInfo:{description:"A popupInfo object defining the content of popup windows when you click or query a feature.",$ref:"#/definitions/IPopupInfo",title:"popupInfo"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled.",type:"number",title:"refreshInterval"},showLabels:{description:"Labels will display if this property is set to true and the layer also has a labelingInfo property associated with it. This property can get stored in the web map config and in the item/data.",enum:[!0],type:"boolean",title:"showLabels"},visibleLayers:{description:"An array of sublayer ids that should appear visible. Used with feature layers that are based on feature collections.",type:"array",items:{type:"number"},title:"visibleLayers"},id:{description:"A unique identifying string for the layer.",title:"id"},name:{description:"Layer name",type:"string",title:"name"},itemId:{description:"Optional string containing the item ID of the service if it's registered on ArcGIS Online or your organization's portal.",type:"string",title:"itemId"},maxScale:{description:"Integer property used to determine the maximum scale at which the layer is displayed.",type:"number",title:"maxScale"},minScale:{description:"Integer property used to determine the minimum scale at which the layer is displayed.",type:"number",title:"minScale"},opacity:{description:"The degree of transparency applied to the layer on the client side, where 0 is full transparency and 1 is no transparency.",type:"number",title:"opacity"},showLegend:{description:"Boolean property indicating whether to display in the legend.",type:"boolean",title:"showLegend"},title:{description:"A user-friendly string title for the layer that can be used in a table of contents.",type:"string",title:"title"},type:{description:"Deprecated, use layerType instead.",type:"string",title:"type"},visibility:{description:"Boolean property determining whether the layer is initially visible in the web map.",type:"boolean",title:"visibility"},url:{description:"The URL to the layer. Not applicable to all layer types.",type:"string",title:"url"},timeAnimation:{description:"This property is applicable to layers that support time. If 'true', timeAnimation is enabled.",type:"boolean",title:"timeAnimation"}},required:["id","layerType"]},IDefinitionEditor:{description:"The definitionEditor stores interactive filters at the same level as layerDefinition.",title:"IDefinitionEditor",type:"object",properties:{inputs:{description:"An array of input objects.",type:"array",items:{$ref:"#/definitions/IDefinitionInput"},title:"inputs"},parameterizedExpression:{description:"A string value representing the where clause for the interactive filter.",type:"string",title:"parameterizedExpression"}}},IDefinitionInput:{title:"IDefinitionInput",type:"object",properties:{hint:{description:"A string value representing a hint for the input.",type:"string",title:"hint"},parameters:{description:"An array of parameter objects.",type:"array",items:{$ref:"#/definitions/IDefinitionParameter"},title:"parameters"},prompt:{description:"A string value representing the prompt for the input.",type:"string",title:"prompt"}}},IDefinitionParameter:{title:"IDefinitionParameter",type:"object",properties:{defaultValue:{description:"The default value that is automatically given if nothing is provided.",type:["string","number"],title:"defaultValue"},fieldName:{description:"A string value representing the name of the field to query.",type:"string",title:"fieldName"},parameterId:{description:"Number given to uniquely identify the specified parameter.",title:"parameterId"},type:{description:"The field type for the specified field parameter.",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string",title:"type"},utcValue:{description:"An integer value representing exact UNIX time used when defaultValue is a date string.",type:"number",title:"utcValue"}}},ILayerDefinition:{description:'`ILayerDefinition` can also be imported from the following packages:\n\n```js\nimport { ILayerDefinition } from "@esri/arcgis-rest-service-admin";\nimport { ILayerDefinition } from "@esri/arcgis-rest-feature-layer";\n```',title:"ILayerDefinition",type:"object",properties:{allowGeometryUpdates:{description:"Boolean value indicating whether the geometry of the features in the layer can be edited.",type:"boolean",title:"allowGeometryUpdates"},capabilities:{description:"A comma separated list of supported capabilities, e.g. Query,Editing.",type:"string",title:"capabilities"},copyrightText:{description:"String value for the copyright text information for the layer.",type:"string",title:"copyrightText"},currentVersion:{description:"Numeric value indicating the server version of the layer.",type:"number",title:"currentVersion"},defaultVisibility:{description:"Boolean value indicating whether the layer's visibility is turned on.",type:"boolean",title:"defaultVisibility"},definitionEditor:{description:"Stores interactive filters.",$ref:"#/definitions/IDefinitionEditor",title:"definitionEditor"},definitionExpression:{description:"SQL-based definition expression string that narrows the data to be displayed in the layer.",type:"string",title:"definitionExpression"},description:{description:"String value of the layer as defined in the map service.",type:"string",title:"description"},displayField:{description:"A string value that summarizes the feature.",type:"string",title:"displayField"},drawingInfo:{description:"Contains drawing, labeling, and transparency information.",title:"drawingInfo"},extent:{description:"An object defining the rectangular area.",anyOf:[{$ref:"#/definitions/IExtent"},{type:"null"}],title:"extent"},editingInfo:{description:"An object defining the editing info (last edit date).",$ref:"#/definitions/IEditingInfo",title:"editingInfo"},featureReduction:{description:"Feature reductions declutter the screen by hiding features that would otherwise intersect with other features on screen.",title:"featureReduction"},fields:{description:"An array of field objects containing information about the attribute fields for the feature collection or layer.",type:"array",items:{$ref:"#/definitions/IField"},title:"fields"},geometryType:{description:"A string defining the type of geometry. Possible geometry types are: esriGeometryPoint, esriGeometryMultipoint, esriGeometryPolyline, esriGeometryPolygon, and esriGeometryEnvelope.",enum:["esriGeometryEnvelope","esriGeometryMultipoint","esriGeometryPoint","esriGeometryPolygon","esriGeometryPolyline"],type:"string",title:"geometryType"},globalIdField:{description:"The unique identifier for a feature or table row within a geodatabase.",type:"string",title:"globalIdField"},hasAttachments:{description:"Indicates whether attachments should be loaded for the layer.",type:"boolean",title:"hasAttachments"},hasStaticData:{description:"Boolean value indicating whether data changes. True if it does not.",type:"boolean",title:"hasStaticData"},htmlPopupType:{description:"String value indicating the HTML popup type.",enum:["esriServerHTMLPopupTypeAsHTMLText","esriServerHTMLPopupTypeAsURL","esriServerHTMLPopupTypeNone"],type:"string",title:"htmlPopupType"},id:{description:"The identifier assigned to the layer.",type:"number",title:"id"},isDataVersioned:{description:"Boolean value indicating whether the data is versioned.",type:"boolean",title:"isDataVersioned"},maxRecordCount:{description:"Numeric value indicating tbe maximum number of records that will be returned at once for a query.",type:"number",title:"maxRecordCount"},maxScale:{description:"Represents the maximum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"maxScale"},minScale:{description:"Represents the minimum scale at which the layer definition will be applied. This does not apply to layers of type: ArcGISMapServiceLayer, ImageServiceVectorLayer or ImageServiceLayer.",type:"number",title:"minScale"},name:{description:"Contains a unique name for the layer that can be displayed in a legend.",type:"string",title:"name"},objectIdField:{description:"Indicates the name of the object ID field in the dataset.",type:"string",title:"objectIdField"},overrideSymbols:{description:"Dictates whether a client can support having an end user modify symbols on individual features.",type:"boolean",title:"overrideSymbols"},rangeInfos:{description:"Indicates range information",title:"rangeInfos"},source:{description:"An object indicating the layerDefinition's layer source.",title:"source"},spatialReference:{description:"An object containing the WKID or WKT identifying the spatial reference of the layer's geometry.",$ref:"#/definitions/ISpatialReference",title:"spatialReference"},supportedQueryFormats:{description:"String value indicating the output formats that are supported in a query.",type:"string",title:"supportedQueryFormats"},supportsAdvancedQueries:{description:"Boolean value indicating whether the layer supports orderByFields in a query operation.",type:"boolean",title:"supportsAdvancedQueries"},supportsAttachmentsByUploadId:{description:"Boolean value indicating whether the layer supports uploading attachments with the Uploads operation. This can then be used in the Add Attachment and Update Attachment operations.",type:"boolean",title:"supportsAttachmentsByUploadId"},supportsCalculate:{description:"Boolean value indicating whether the layer supports the Calculate REST operation when updating features.",type:"boolean",title:"supportsCalculate"},supportsRollbackOnFailureParameter:{description:"Boolean value indicating whether the layer supports rolling back edits made on a feature layer if some of the edits fail.",type:"boolean",title:"supportsRollbackOnFailureParameter"},supportsStatistics:{description:"Boolean value indicating whether feature layer query operations support statistical functions.",type:"boolean",title:"supportsStatistics"},supportsValidateSql:{description:"Boolean value indicating whether the validateSQL operation is supported across a feature service layer.",type:"boolean",title:"supportsValidateSql"},templates:{description:"A property of the layer definition when there are no types defined; otherwise, templates are defined as properties of the types.",type:"array",items:{$ref:"#/definitions/ITemplate"},title:"templates"},timeInfo:{description:"The time info metadata of the layer. May be set for feature layers inside a feature collection item.",title:"timeInfo"},type:{description:"Indicates whether the layerDefinition applies to a Feature Layer or a Table.",enum:["Feature Layer","Table"],type:"string",title:"type"},typeIdField:{description:"Contains the name of the field holding the type ID for the features.",type:"string",title:"typeIdField"},types:{description:"Contains information about an attribute field.",title:"types"},visibilityField:{description:"String value indicating the attribute field that is used to control the visibility of a feature.\nIf applicable, when rendering a feature the client should use this field to control visibility.\nThe field's values are 0 = do not display, 1 = display.",type:"string",title:"visibilityField"},relationships:{type:"array",items:{},title:"relationships"},editFieldsInfo:{type:"object",properties:{creationDateField:{type:"string",title:"creationDateField"},creatorField:{type:"string",title:"creatorField"},editDateField:{type:"string",title:"editDateField"},editorField:{type:"string",title:"editorField"}},title:"editFieldsInfo"},parentLayerId:{type:"number",title:"parentLayerId"},ownershipBasedAccessControlForFeatures:{type:"boolean",title:"ownershipBasedAccessControlForFeatures"},syncCanReturnChanges:{type:"boolean",title:"syncCanReturnChanges"},archivingInfo:{type:"object",properties:{supportsQueryWithHistoricMoment:{type:"boolean",title:"supportsQueryWithHistoricMoment"},startArchivingMoment:{type:"number",title:"startArchivingMoment"}},title:"archivingInfo"},supportsValidateSQL:{type:"boolean",title:"supportsValidateSQL"},advancedQueryCapabilities:{type:"object",properties:{supportsPagination:{type:"boolean",title:"supportsPagination"},supportsTrueCurve:{type:"boolean",title:"supportsTrueCurve"},supportsQueryWithDistance:{type:"boolean",title:"supportsQueryWithDistance"},supportsReturningQueryExtent:{type:"boolean",title:"supportsReturningQueryExtent"},supportsStatistics:{type:"boolean",title:"supportsStatistics"},supportsOrderBy:{type:"boolean",title:"supportsOrderBy"},supportsDistinct:{type:"boolean",title:"supportsDistinct"},supportsSqlExpression:{type:"boolean",title:"supportsSqlExpression"},supportsPercentileStatistics:{type:"boolean",title:"supportsPercentileStatistics"}},title:"advancedQueryCapabilities"},allowTrueCurvesUpdates:{type:"boolean",title:"allowTrueCurvesUpdates"},onlyAllowTrueCurveUpdatesByTrueCurveClients:{type:"boolean",title:"onlyAllowTrueCurveUpdatesByTrueCurveClients"},supportsApplyEditsWithGlobalIds:{type:"boolean",title:"supportsApplyEditsWithGlobalIds"},subtypeField:{type:"string",title:"subtypeField"},indexes:{type:"array",items:{},title:"indexes"},dateFieldsTimeReference:{type:"object",properties:{timeZone:{type:"string",title:"timeZone"},respectsDaylightSaving:{type:"boolean",title:"respectsDaylightSaving"}},title:"dateFieldsTimeReference"},useStandardizedQueries:{type:"boolean",title:"useStandardizedQueries"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"}}},IEditingInfo:{title:"IEditingInfo",type:"object",properties:{lastEditDate:{description:"date of last edit to the layer",type:"number",title:"lastEditDate"}}},IField:{description:'Contains information about an attribute field.\n\n`IField` can also be imported from the following packages:\n\n```js\nimport { IField } from "@esri/arcgis-rest-feature-layer";\n```',title:"IField",type:"object",properties:{name:{description:"A string defining the field name.",type:"string",title:"name"},type:{$ref:"#/definitions/FieldType",description:"A string defining the field type.",title:"type"},alias:{description:"A string defining the field alias.",type:"string",title:"alias"},domain:{description:"Information for a field with a domain",type:"object",properties:{type:{$ref:"#/definitions/DomainType",description:"A string defining the domain type.",title:"type"},name:{description:"A string defining the field name.",type:"string",title:"name"},range:{description:"A 2 element array defining the range of possible values.",type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2,title:"range"},codedValues:{description:"An array of CodedValues for domains of type codedValue.",type:"array",items:{description:"CodedValue type",type:"object",properties:{name:{description:"User-friendly name for what the code means.",type:"string",title:"name"},code:{description:"The value stored in the feature attribute.",type:["string","number"],title:"code"}},required:["code","name"]},title:"codedValues"},description:{description:"Description of the domain",type:"string",title:"description"},mergePolicy:{description:"Merge policy",type:"string",title:"mergePolicy"},splitPolicy:{description:"Split Policy",type:"string",title:"splitPolicy"}},required:["type"],title:"domain"},editable:{description:"A Boolean defining whether this field is editable.",type:"boolean",title:"editable"},exactMatch:{description:"A Boolean defining whether or not the field is an exact match.",type:"boolean",title:"exactMatch"},length:{description:"A number defining how many characters are allowed in a string. field.",type:"number",title:"length"},nullable:{description:"A Boolean defining whether this field can have a null value.",type:"boolean",title:"nullable"},defaultValue:{description:"The value written in for new records by default.",title:"defaultValue"}},required:["name","type"]},FieldType:{description:"Field type.",title:"FieldType",enum:["esriFieldTypeBlob","esriFieldTypeDate","esriFieldTypeDouble","esriFieldTypeGUID","esriFieldTypeGeometry","esriFieldTypeGlobalID","esriFieldTypeInteger","esriFieldTypeOID","esriFieldTypeRaster","esriFieldTypeSingle","esriFieldTypeSmallInteger","esriFieldTypeString","esriFieldTypeXML"],type:"string"},DomainType:{description:"Domain types",title:"DomainType",enum:["codedValue","inherited","range"],type:"string"},ITemplate:{description:"Templates describe features that can be created in a layer. They are generally used with feature collections and editable web-based CSV layers.\nTemplates are not used with ArcGIS feature services as these already have templates defined in the service. They are also defined as properties\nof the layer definition when there are no defined types. Otherwise, templates are defined as properties of the types.",title:"ITemplate",type:"object",properties:{description:{description:"A string value containing a detailed description of the template.",title:"description"},drawingTool:{description:"An optional string that can define a client-side drawing tool to be used with this feature. For example, map notes used by the Online Map Viewer use this to represent the viewer's different drawing tools.",enum:["esriFeatureEditToolAutoCompletePolygon","esriFeatureEditToolCircle","esriFeatureEditToolDownArrow","esriFeatureEditToolEllipse","esriFeatureEditToolFreehand","esriFeatureEditToolLeftArrow","esriFeatureEditToolLine","esriFeatureEditToolNone","esriFeatureEditToolPoint","esriFeatureEditToolPolygon","esriFeatureEditToolRectangle","esriFeatureEditToolRightArrow","esriFeatureEditToolText","esriFeatureEditToolTriangle","esriFeatureEditToolUpArrow"],type:"string",title:"drawingTool"},name:{description:"A string containing a user-friendly name for the template.",type:"string",title:"name"},prototype:{description:"A feature object representing a prototypical feature for the template.",$ref:"#/definitions/IFeature",title:"prototype"}}},IFeature:{description:'a spatial entity and its corresponding properties\n\n`IFeature` can also be imported from the following packages:\n\n```js\nimport { IFeature } from "@esri/arcgis-rest-feature-layer";\nimport { IFeature } from "@esri/arcgis-rest-routing";\n```',title:"IFeature",type:"object",properties:{geometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/IGeometry",title:"geometry"},attributes:{type:"object",additionalProperties:{},title:"attributes"},symbol:{$ref:"#/definitions/ISymbol",title:"symbol"}},required:["attributes"]},IGeometry:{description:'a building block for discrete geometries\n\n`IGeometry` can also be imported from the following packages:\n\n```js\nimport { IGeometry } from "@esri/arcgis-rest-feature-layer";\n```',title:"IGeometry",type:"object",properties:{spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}}},ISymbol:{title:"ISymbol",type:"object",properties:{type:{$ref:"#/definitions/SymbolType",title:"type"},style:{type:"string",title:"style"}},required:["type"]},SymbolType:{title:"SymbolType",enum:["esriPFS","esriPMS","esriSFS","esriSLS","esriSMS","esriTS"],type:"string"},IPopupInfo:{description:"Defines the look and feel of popup windows when a user clicks or queries a feature.",title:"IPopupInfo",type:"object",properties:{description:{description:"A string that appears in the body of the popup window as a description. It is also possible to specify the description as HTML-formatted content.",type:["null","string"],title:"description"},expressionInfos:{description:"List of Arcade expressions added to the pop-up.",type:"array",items:{$ref:"#/definitions/IPopupExpressionInfo"},title:"expressionInfos"},fieldInfos:{description:"Array of fieldInfo information properties. This information is provided by the service layer definition. When the description uses name/value pairs, the order of the array is how the fields display in the editable Map Viewer popup and the resulting popup. It is also possible to specify HTML-formatted content.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},layerOptions:{description:"Additional options that can be defined for the popup layer.",type:"object",properties:{showNoDataRecords:{description:"Indicates whether or not the NoData records should be displayed.",type:"boolean",title:"showNoDataRecords"}},required:["showNoDataRecords"],title:"layerOptions"},mediaInfos:{description:"Array of various mediaInfo to display. Can be of type image, piechart, barchart, columnchart, or linechart. The order given is the order in which is displays.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},popupElements:{description:"An array of popupElement objects that represent an ordered list of popup elements.",type:"array",items:{$ref:"#/definitions/IPopupElement"},title:"popupElements"},relatedRecordsInfo:{description:"Indicates whether to enable related records if they exist on a layer.",$ref:"#/definitions/IRelatedRecordsInfo",title:"relatedRecordsInfo"},showAttachments:{description:"Indicates whether attachments will be loaded for feature layers that have attachments.",type:"boolean",title:"showAttachments"},title:{description:"A string that appears at the top of the popup window as a title.",type:"string",title:"title"}}},IPopupExpressionInfo:{description:"Arcade expression added to the pop-up.",title:"IPopupExpressionInfo",type:"object",properties:{expression:{description:"The Arcade expression.",type:"string",title:"expression"},name:{description:"Unique identifier for the expression.",type:"string",title:"name"},returnType:{description:"Return type of the Arcade expression, can be number or string. Defaults to string value. Number values are assumed to be double. This can be determined by the authoring client by executing the expression using a sample feature(s), although it can be corrected by the user. Knowing the returnType allows the authoring client to present fields in relevant contexts. For example, numeric fields in numeric contexts such as charts.",enum:["number","string"],type:"string",title:"returnType"},title:{description:"Title of the expression.",type:"string",title:"title"}}},IFieldInfo:{description:"Defines how a field in the dataset participates (or does not participate) in a popup window.",title:"IFieldInfo",type:"object",properties:{fieldName:{description:"A string containing the field name as defined by the service. Anywhere that a fieldname is referenced as {field-name} in popupInfo, an Arcade expression can also be referenced as{expression/}`.",title:"fieldName"},format:{description:"A format object used with numerical or date fields to provide more detail about how the value should be displayed in a web map popup window.",$ref:"#/definitions/IFieldFormat",title:"format"},isEditable:{description:"A Boolean determining whether users can edit this field. Not applicable to Arcade expressions.",type:"boolean",title:"isEditable"},label:{description:"A string containing the field alias. This can be overridden by the web map author. Not applicable to Arcade expressions as title is used instead.",type:"string",title:"label"},stringFieldOption:{description:"A string determining what type of input box editors see when editing the field. Applies only to string fields. Not applicable to Arcade expressions.",enum:["richtext","textarea","textbox"],type:"string",title:"stringFieldOption"},tooltip:{description:"A string providing an editing hint for editors of the field. Not applicable to Arcade expressions.",type:"string",title:"tooltip"},visible:{description:"A Boolean determining whether the field is visible in the popup window.",type:"boolean",title:"visible"}}},IFieldFormat:{description:"The format object can be used with numerical or date fields to provide more detail about how values should be displayed in popup windows.",title:"IFieldFormat",type:"object",properties:{dateFormat:{description:"A string used with date fields to specify how the date should appear in popup windows.",enum:["dayShortMonthYear","longDate","longMonthDayYear","longMonthYear","shortDate","shortDateLE","shortDateLELongTime","shortDateLELongTime24","shortDateLEShortTime","shortDateLEShortTime24","shortDateLongTime","shortDateLongTime24","shortDateShortTime","shortDateShortTime24","shortMonthYear","year"],type:"string",title:"dateFormat"},digitSeparator:{description:"A Boolean used with numerical fields. A value of true allows the number to have a digit (or thousands) separator when the value appears in popup windows.\nDepending on the locale, this separator is a decimal point or a comma. A value of false means that no separator will be used.",type:"boolean",title:"digitSeparator"},places:{description:"An integer used with numerical fields to specify the number of supported decimal places that should appear in popup windows. Any places beyond this value are rounded.",type:"number",title:"places"}}},IMediaInfo:{description:"Defines an image or a chart to be displayed in a popup window.",title:"IMediaInfo",type:"object",properties:{caption:{description:"A string caption describing the media.",title:"caption"},refreshInterval:{description:"Refresh interval of the layer in minutes. Non-zero value indicates automatic layer refresh at the specified interval. Value of 0 indicates auto refresh is not enabled. If the property does not exist, it's equivalent to having a value of 0. Only applicable when type is set to image.",title:"refreshInterval"},title:{description:"A string title for the media.",type:["null","string"],title:"title"},type:{description:"A string defining the type of media.",enum:["barchart","columnchart","image","linechart","piechart"],type:"string",title:"type"},value:{description:"A value object containing information about how the image should be retrieved or how the chart should be constructed.",anyOf:[{$ref:"#/definitions/IMediaInfoValue"},{type:"null"}],title:"value"}}},IMediaInfoValue:{description:"The value object contains information for popup windows about how images should be retrieved or charts constructed.",title:"IMediaInfoValue",type:"object",properties:{fields:{description:"Used with charts. An array of strings, with each string containing the name of a field to display in the chart.",type:"array",items:{type:"string"},title:"fields"},linkURL:{description:"Used with images. A string containing a URL to be launched in a browser when a user clicks the image.",type:"string",title:"linkURL"},normalizeField:{description:"Used with charts. An optional string containing the name of a field. The values of all fields in the chart will be normalized (divided) by the value of this field.",type:"string",title:"normalizeField"},sourceURL:{description:"Used with images. A string containing the URL to the image.",type:"string",title:"sourceURL"},tooltipField:{description:"String value indicating the tooltip for a chart specified from another field. This field is needed when related records are not sued. It is used for showing tooltips from another field in the same layer or related layer/table.",type:"string",title:"tooltipField"}}},IPopupElement:{description:"Popup elements allow users to author popups, using multiple elements such as tabular views, string description, media (charts and images), and attachments of the attributes\nand control the order in which they appear. Specifically, popupElements do the following:\n1) provide the ability to explicitly add a field/ value table in addition to a description,\n2) allow adding multiple description elements, and\n3) allow a user to author and consume elements of a popup in the order of their choosing.",title:"IPopupElement",type:"object",properties:{displayType:{description:"This property applies to elements of type attachments. A string value indicating how to display the attachment.\nPossible values are, preview, and list. If list is specified, attachments show as links.",enum:["list","preview"],type:"string",title:"displayType"},fieldInfos:{description:"This property applies to elements of type fields. It is an array of popupInfo.fieldInfo objects representing a field/value pair displayed as a table within the popupElement.\nIf the fieldInfos property is not provided, the popupElement will display whatever is specified directly in the popupInfo.fieldInfos property.",type:"array",items:{$ref:"#/definitions/IFieldInfo"},title:"fieldInfos"},mediaInfos:{description:"This property applies to elements of type media. An array of popupInfo.mediaInfo objects representing an image or chart for display.\nIf no mediaInfos property is provided, the popupElement will display whatever is specified in the popupInfo.mediaInfo property.",type:"array",items:{$ref:"#/definitions/IMediaInfo"},title:"mediaInfos"},text:{description:"This property applies to elements of type text. This is string value indicating the text to be displayed within the popupElement.\nIf no text property is provided, the popupElement will display whatever is specified in the popupInfo.description property.",type:"string",title:"text"},type:{description:"String value indicating which elements to use.",enum:["attachments","fields","media","text"],type:"string",title:"type"}}},IRelatedRecordsInfo:{description:"The sort in the popupInfo for the parent feature. This impacts the sorting order for the returned child records.",title:"IRelatedRecordsInfo",type:"object",properties:{orderByFields:{description:"Array of orderByFields objects indicating the field display order for the related records and whether they should be sorted in ascending 'asc' or descending 'desc' order.",type:"array",items:{$ref:"#/definitions/IOrderByField"},title:"orderByFields"},showRelatedRecords:{description:"Required boolean value indicating whether to display related records. If true, client should let the user navigate to the related records. Defaults to true if the layer participates in a relationship AND the related layer/table has already been added to the map (either as an operationalLayer or as a table).",type:"boolean",title:"showRelatedRecords"}},required:["showRelatedRecords"]},IOrderByField:{description:"Object indicating the field display order for the related records and whether they should be sorted in ascending or descending order.",title:"IOrderByField",type:"object",properties:{field:{description:"The attribute value of the field selected that will drive the sorting of related records.",type:"string",title:"field"},order:{description:"Set the ascending or descending sort order of the returned related records.",enum:["asc","desc"],type:"string",title:"order"}}},ITextSymbol:{title:"ITextSymbol",type:"object",properties:{type:{type:"string",enum:["esriTS"],title:"type"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},backgroundColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"backgroundColor"},borderLineSize:{type:"number",title:"borderLineSize"},borderLineColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"borderLineColor"},haloSize:{type:"number",title:"haloSize"},haloColor:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"haloColor"},verticalAlignment:{enum:["baseline","bottom","middle","top"],type:"string",title:"verticalAlignment"},horizontalAlignment:{enum:["center","justify","left","right"],type:"string",title:"horizontalAlignment"},rightToLeft:{type:"boolean",title:"rightToLeft"},kerning:{type:"boolean",title:"kerning"},font:{$ref:"#/definitions/IFont",title:"font"},text:{type:"string",title:"text"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"},style:{type:"string",title:"style"}},required:["type"]},IFont:{title:"IFont",type:"object",properties:{family:{type:"string",title:"family"},size:{type:"number",title:"size"},style:{enum:["italic","normal","oblique"],type:"string",title:"style"},weight:{enum:["bold","bolder","lighter","normal"],type:"string",title:"weight"},decoration:{enum:["line-through","none","underline"],type:"string",title:"decoration"}}},ISimpleLineSymbol:{title:"ISimpleLineSymbol",type:"object",properties:{type:{type:"string",enum:["esriSLS"],title:"type"},style:{enum:["esriSLSDash","esriSLSDashDot","esriSLSDashDotDot","esriSLSDot","esriSLSNull","esriSLSSolid"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},width:{type:"number",title:"width"}},required:["type"]},"Intl.NumberFormatOptions":{title:"Intl.NumberFormatOptions",type:"object",properties:{localeMatcher:{type:"string",title:"localeMatcher"},style:{type:"string",title:"style"},currency:{type:"string",title:"currency"},currencySign:{type:"string",title:"currencySign"},useGrouping:{type:"boolean",title:"useGrouping"},minimumIntegerDigits:{type:"number",title:"minimumIntegerDigits"},minimumFractionDigits:{type:"number",title:"minimumFractionDigits"},maximumFractionDigits:{type:"number",title:"maximumFractionDigits"},minimumSignificantDigits:{type:"number",title:"minimumSignificantDigits"},maximumSignificantDigits:{type:"number",title:"maximumSignificantDigits"},compactDisplay:{enum:["long","short"],type:"string",title:"compactDisplay"},notation:{enum:["compact","engineering","scientific","standard"],type:"string",title:"notation"},signDisplay:{enum:["always","auto","exceptZero","never"],type:"string",title:"signDisplay"},unit:{type:"string",title:"unit"},unitDisplay:{enum:["long","narrow","short"],type:"string",title:"unitDisplay"},currencyDisplay:{type:"string",title:"currencyDisplay"}}},ISimpleFillSymbol:{title:"ISimpleFillSymbol",type:"object",properties:{type:{type:"string",enum:["esriSFS"],title:"type"},style:{enum:["esriSFSBackwardDiagonal","esriSFSCross","esriSFSDiagonalCross","esriSFSForwardDiagonal","esriSFSHorizontal","esriSFSNull","esriSFSSolid","esriSFSVertical"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"}},required:["type"]},DateTimeFormatOptions:{description:"Defines how the DateTime axis data should be formatted.",title:"DateTimeFormatOptions",type:"object",properties:{type:{description:'Represents a unique string identifier for the NumberFormatOptions object. For NumberFormatOptions object, it is "date". It can help us to differentiate date-time axis from other types of axes viz., numeric (value) axis and category axis.',type:"string",enum:["date"],title:"type"},intlOptions:{$ref:"#/definitions/Intl.DateTimeFormatOptions",description:"Represent the JS native [Intl.DateTimeFormatOptions](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormatt), which is based on [CLDR](http://cldr.unicode.org/translation/date-time-1/date-time-patterns) specifications.",title:"intlOptions"}},required:["intlOptions","type"]},"Intl.DateTimeFormatOptions":{title:"Intl.DateTimeFormatOptions",type:"object",properties:{localeMatcher:{enum:["best fit","lookup"],type:"string",title:"localeMatcher"},weekday:{enum:["long","narrow","short"],type:"string",title:"weekday"},era:{enum:["long","narrow","short"],type:"string",title:"era"},year:{enum:["2-digit","numeric"],type:"string",title:"year"},month:{enum:["2-digit","long","narrow","numeric","short"],type:"string",title:"month"},day:{enum:["2-digit","numeric"],type:"string",title:"day"},hour:{enum:["2-digit","numeric"],type:"string",title:"hour"},minute:{enum:["2-digit","numeric"],type:"string",title:"minute"},second:{enum:["2-digit","numeric"],type:"string",title:"second"},timeZoneName:{enum:["long","longGeneric","longOffset","short","shortGeneric","shortOffset"],type:"string",title:"timeZoneName"},formatMatcher:{enum:["basic","best fit"],type:"string",title:"formatMatcher"},hour12:{type:"boolean",title:"hour12"},timeZone:{type:"string",title:"timeZone"},calendar:{type:"string",title:"calendar"},dayPeriod:{enum:["long","narrow","short"],type:"string",title:"dayPeriod"},numberingSystem:{type:"string",title:"numberingSystem"},dateStyle:{enum:["full","long","medium","short"],type:"string",title:"dateStyle"},timeStyle:{enum:["full","long","medium","short"],type:"string",title:"timeStyle"},hourCycle:{enum:["h11","h12","h23","h24"],type:"string",title:"hourCycle"}}},IPoint:{description:'A simple point geometry, with spatial reference defined.\n\n`IPoint` can also be imported from the following packages:\n\n```js\nimport { IPoint } from "@esri/arcgis-rest-routing";\nimport { IPoint } from "@esri/arcgis-rest-geocoding";\n```',title:"IPoint",type:"object",properties:{x:{type:"number",title:"x"},y:{type:"number",title:"y"},z:{type:"number",title:"z"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["x","y"]},IPolyline:{title:"IPolyline",type:"object",properties:{paths:{type:"array",items:{type:"array",items:{$ref:"#/definitions/Position"}},title:"paths"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["paths"]},Position:{title:"Position",anyOf:[{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4}]},IPolygon:{title:"IPolygon",type:"object",properties:{rings:{type:"array",items:{type:"array",items:{$ref:"#/definitions/Position"}},title:"rings"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["rings"]},IPolygonWithCurves:{title:"IPolygonWithCurves",type:"object",properties:{curveRings:{type:"array",items:{type:"array",items:{anyOf:[{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"}],minItems:3,maxItems:3},{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4},{$ref:"#/definitions/ICircularArc"},{$ref:"#/definitions/IArc"},{$ref:"#/definitions/IOldCircularArc"},{$ref:"#/definitions/IBezierCurve"}]}},title:"curveRings"},hasZ:{type:"boolean",title:"hasZ"},hasM:{type:"boolean",title:"hasM"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["curveRings"]},ICircularArc:{description:"a circular arc can be represented as a JSON curve object",title:"ICircularArc",type:"object",properties:{c:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2}],minItems:2,maxItems:2,title:"c"}},required:["c"]},IArc:{description:"an arc can be represented as a JSON curve object",title:"IArc",type:"object",properties:{a:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"number"},{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:7,maxItems:7,title:"a"}},required:["a"]},IOldCircularArc:{title:"IOldCircularArc",type:"object",properties:{a:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"a"}},required:["a"]},IBezierCurve:{description:"a bezier curve can be represented as a JSON curve object",title:"IBezierCurve",type:"object",properties:{b:{type:"array",items:[{$ref:"#/definitions/Position"},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2},{type:"array",items:[{type:"number"},{type:"number"}],minItems:2,maxItems:2}],minItems:3,maxItems:3,title:"b"}},required:["b"]},IEnvelope:{description:"An envelope is a rectangle defined by a range of values for each coordinate and attribute.",title:"IEnvelope",type:"object",properties:{xmin:{type:"number",title:"xmin"},xmax:{type:"number",title:"xmax"},ymin:{type:"number",title:"ymin"},ymax:{type:"number",title:"ymax"},zmin:{type:"number",title:"zmin"},zmax:{type:"number",title:"zmax"},mmin:{type:"number",title:"mmin"},mmax:{type:"number",title:"mmax"},spatialReference:{description:'Spatial reference systems define mathematical transformations and coordinate systems for displaying spatial information in 2D and 3D.\n\n`ISpatialReference` can also be imported from the following packages:\n\n```js\nimport { ISpatialReference } from "@esri/arcgis-rest-geocoding";\nimport { ISpatialReference } from "@esri/arcgis-rest-routing";\nimport { ISpatialReference } from "@esri/arcgis-rest-service-admin";\nimport { ISpatialReference } from "@esri/arcgis-rest-feature-layer";\n```',$ref:"#/definitions/ISpatialReference",title:"spatialReference"}},required:["xmax","xmin","ymax","ymin"]},ISimpleMarkerSymbol:{title:"ISimpleMarkerSymbol",type:"object",properties:{type:{type:"string",enum:["esriSMS"],title:"type"},style:{enum:["esriSMSCircle","esriSMSCross","esriSMSDiamond","esriSMSSquare","esriSMSTriangle","esriSMSX"],type:"string",title:"style"},color:{type:"array",items:[{type:"number"},{type:"number"},{type:"number"},{type:"number"}],minItems:4,maxItems:4,title:"color"},size:{type:"number",title:"size"},outline:{$ref:"#/definitions/ISimpleLineSymbol",title:"outline"},angle:{type:"number",title:"angle"},xoffset:{type:"number",title:"xoffset"},yoffset:{type:"number",title:"yoffset"}},required:["type"]}},$ref:"#/definitions/WebChart"};var Fp={};
/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */!function(e){function t(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length>1){t[0]=t[0].slice(0,-1);for(var n=t.length-1,r=1;r<n;++r)t[r]=t[r].slice(1,-1);return t[n]=t[n].slice(1),t.join("")}return t[0]}function i(e){return "(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function a(e){var n="[A-Za-z]",r="[0-9]",a=t(r,"[A-Fa-f]"),o=i(i("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+i("%[89A-Fa-f]"+a+"%"+a+a)+"|"+i("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",s),u=e?"[\\uE000-\\uF8FF]":"[]",d=t(n,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]");i(n+t(n,r,"[\\+\\-\\.]")+"*"),i(i(o+"|"+t(d,s,"[\\:]"))+"*");var c=i(i("25[0-5]")+"|"+i("2[0-4]"+r)+"|"+i("1"+r+r)+"|"+i("0?[1-9]"+r)+"|0?0?"+r),h=i(c+"\\."+c+"\\."+c+"\\."+c),p=i(a+"{1,4}"),m=i(i(p+"\\:"+p)+"|"+h),f=i(i(p+"\\:")+"{6}"+m),g=i("\\:\\:"+i(p+"\\:")+"{5}"+m),y=i(i(p)+"?\\:\\:"+i(p+"\\:")+"{4}"+m),v=i(i(i(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+i(p+"\\:")+"{3}"+m),b=i(i(i(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+i(p+"\\:")+"{2}"+m),x=i(i(i(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+m),C=i(i(i(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+m),S=i(i(i(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),_=i(i(i(p+"\\:")+"{0,6}"+p)+"?\\:\\:"),P=i([f,g,y,v,b,x,C,S,_].join("|")),w=i(i(d+"|"+o)+"+");i("[vV]"+a+"+\\."+t(d,s,"[\\:]")+"+"),i(i(o+"|"+t(d,s))+"*");var I=i(o+"|"+t(d,s,"[\\:\\@]"));return i(i(o+"|"+t(d,s,"[\\@]"))+"+"),i(i(I+"|"+t("[\\/\\?]",u))+"*"),{NOT_SCHEME:new RegExp(t("[^]",n,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",d,s),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",d,s),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",d,s),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",d,s),"g"),NOT_QUERY:new RegExp(t("[^\\%]",d,s,"[\\:\\@\\/\\?]",u),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",d,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",d,s),"g"),UNRESERVED:new RegExp(d,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",d,l),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+P+")"+i(i("\\%25|\\%(?!"+a+"{2})")+"("+w+")")+"?\\]?$")}}var o=a(!1),s=a(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e;}finally{try{!n&&s.return&&s.return();}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=2147483647,d=36,c=/^xn--/,h=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function y(e){throw new RangeError(m[e])}function v(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+function(e,t){for(var i=[],n=e.length;n--;)i[n]=t(e[n]);return i}((e=e.replace(p,".")).split("."),t).join(".")}function b(e){for(var t=[],i=0,n=e.length;i<n;){var r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var a=e.charCodeAt(i++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),i--);}else t.push(r);}return t}var x=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:d},C=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},S=function(e,t,i){var n=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;n+=d)e=f(e/35);return f(n+36*e/(e+38))},_=function(e){var t=[],i=e.length,n=0,r=128,a=72,o=e.lastIndexOf("-");o<0&&(o=0);for(var s=0;s<o;++s)e.charCodeAt(s)>=128&&y("not-basic"),t.push(e.charCodeAt(s));for(var l=o>0?o+1:0;l<i;){for(var c=n,h=1,p=d;;p+=d){l>=i&&y("invalid-input");var m=x(e.charCodeAt(l++));(m>=d||m>f((u-n)/h))&&y("overflow"),n+=m*h;var g=p<=a?1:p>=a+26?26:p-a;if(m<g)break;var v=d-g;h>f(u/v)&&y("overflow"),h*=v;}var b=t.length+1;a=S(n-c,b,0==c),f(n/b)>u-r&&y("overflow"),r+=f(n/b),n%=b,t.splice(n++,0,r);}return String.fromCodePoint.apply(String,t)},P=function(e){var t=[],i=(e=b(e)).length,n=128,r=0,a=72,o=!0,s=!1,l=void 0;try{for(var c,h=e[Symbol.iterator]();!(o=(c=h.next()).done);o=!0){var p=c.value;p<128&&t.push(g(p));}}catch(e){s=!0,l=e;}finally{try{!o&&h.return&&h.return();}finally{if(s)throw l}}var m=t.length,v=m;for(m&&t.push("-");v<i;){var x=u,_=!0,P=!1,w=void 0;try{for(var I,T=e[Symbol.iterator]();!(_=(I=T.next()).done);_=!0){var A=I.value;A>=n&&A<x&&(x=A);}}catch(e){P=!0,w=e;}finally{try{!_&&T.return&&T.return();}finally{if(P)throw w}}var O=v+1;x-n>f((u-r)/O)&&y("overflow"),r+=(x-n)*O,n=x;var k=!0,F=!1,D=void 0;try{for(var M,L=e[Symbol.iterator]();!(k=(M=L.next()).done);k=!0){var E=M.value;if(E<n&&++r>u&&y("overflow"),E==n){for(var j=r,V=d;;V+=d){var R=V<=a?1:V>=a+26?26:V-a;if(j<R)break;var B=j-R,N=d-R;t.push(g(C(R+B%N,0))),j=f(B/N);}t.push(g(C(j,0))),a=S(r,O,v==m),r=0,++v;}}}catch(e){F=!0,D=e;}finally{try{!k&&L.return&&L.return();}finally{if(F)throw D}}++r,++n;}return t.join("")},w=function(e){return v(e,(function(e){return h.test(e)?"xn--"+P(e):e}))},I=function(e){return v(e,(function(e){return c.test(e)?_(e.slice(4).toLowerCase()):e}))},T={};function A(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function O(e){for(var t="",i=0,n=e.length;i<n;){var r=parseInt(e.substr(i+1,2),16);if(r<128)t+=String.fromCharCode(r),i+=3;else if(r>=194&&r<224){if(n-i>=6){var a=parseInt(e.substr(i+4,2),16);t+=String.fromCharCode((31&r)<<6|63&a);}else t+=e.substr(i,6);i+=6;}else if(r>=224){if(n-i>=9){var o=parseInt(e.substr(i+4,2),16),s=parseInt(e.substr(i+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s);}else t+=e.substr(i,9);i+=9;}else t+=e.substr(i,3),i+=3;}return t}function k(e,t){function i(e){var i=O(e);return i.match(t.UNRESERVED)?i:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,i).replace(t.NOT_USERINFO,A).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,i).toLowerCase().replace(t.NOT_HOST,A).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,i).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,A).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,i).replace(t.NOT_QUERY,A).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,i).replace(t.NOT_FRAGMENT,A).replace(t.PCT_ENCODED,r)),e}function F(e){return e.replace(/^0*(.*)/,"$1")||"0"}function D(e,t){var i=e.match(t.IPV4ADDRESS)||[],n=l(i,2)[1];return n?n.split(".").map(F).join("."):e}function M(e,t){var i=e.match(t.IPV6ADDRESS)||[],n=l(i,3),r=n[1],a=n[2];if(r){for(var o=r.toLowerCase().split("::").reverse(),s=l(o,2),u=s[0],d=s[1],c=d?d.split(":").map(F):[],h=u.split(":").map(F),p=t.IPV4ADDRESS.test(h[h.length-1]),m=p?7:8,f=h.length-m,g=Array(m),y=0;y<m;++y)g[y]=c[y]||h[f+y]||"";p&&(g[m-1]=D(g[m-1],t));var v=g.reduce((function(e,t,i){if(!t||"0"===t){var n=e[e.length-1];n&&n.index+n.length===i?n.length++:e.push({index:i,length:1});}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(v&&v.length>1){var x=g.slice(0,v.index),C=g.slice(v.index+v.length);b=x.join(":")+"::"+C.join(":");}else b=g.join(":");return a&&(b+="%"+a),b}return e}var L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,E=void 0==="".match(/(){0}/)[1];function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={},n=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(L);if(r){E?(i.scheme=r[1],i.userinfo=r[3],i.host=r[4],i.port=parseInt(r[5],10),i.path=r[6]||"",i.query=r[7],i.fragment=r[8],isNaN(i.port)&&(i.port=r[5])):(i.scheme=r[1]||void 0,i.userinfo=-1!==e.indexOf("@")?r[3]:void 0,i.host=-1!==e.indexOf("//")?r[4]:void 0,i.port=parseInt(r[5],10),i.path=r[6]||"",i.query=-1!==e.indexOf("?")?r[7]:void 0,i.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(i.port)&&(i.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),i.host&&(i.host=M(D(i.host,n),n)),void 0!==i.scheme||void 0!==i.userinfo||void 0!==i.host||void 0!==i.port||i.path||void 0!==i.query?void 0===i.scheme?i.reference="relative":void 0===i.fragment?i.reference="absolute":i.reference="uri":i.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==i.reference&&(i.error=i.error||"URI is not a "+t.reference+" reference.");var a=T[(t.scheme||i.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)k(i,n);else {if(i.host&&(t.domainHost||a&&a.domainHost))try{i.host=w(i.host.replace(n.PCT_ENCODED,O).toLowerCase());}catch(e){i.error=i.error||"Host's domain name can not be converted to ASCII via punycode: "+e;}k(i,o);}a&&a.parse&&a.parse(i,t);}else i.error=i.error||"URI can not be parsed.";return i}function V(e,t){var i=!1!==t.iri?s:o,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(M(D(String(e.host),i),i).replace(i.IPV6ADDRESS,(function(e,t,i){return "["+t+(i?"%25"+i:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(n.push(":"),n.push(String(e.port))),n.length?n.join(""):void 0}var R=/^\.\.?\//,B=/^\/\.(\/|$)/,N=/^\/\.\.(\/|$)/,W=/^\/?(?:.|\n)*?(?=\/|$)/;function z(e){for(var t=[];e.length;)if(e.match(R))e=e.replace(R,"");else if(e.match(B))e=e.replace(B,"/");else if(e.match(N))e=e.replace(N,"/"),t.pop();else if("."===e||".."===e)e="";else {var i=e.match(W);if(!i)throw new Error("Unexpected dot segment condition");var n=i[0];e=e.slice(n.length),t.push(n);}return t.join("")}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.iri?s:o,n=[],r=T[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(i.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?I(e.host):w(e.host.replace(i.PCT_ENCODED,O).toLowerCase());}catch(i){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+i;}k(e,i),"suffix"!==t.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=V(e,t);if(void 0!==a&&("suffix"!==t.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||r&&r.absolutePath||(l=z(l)),void 0===a&&(l=l.replace(/^\/\//,"/%2F")),n.push(l);}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function G(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=j(H(e,i),i),t=j(H(t,i),i)),!(i=i||{}).tolerant&&t.scheme?(n.scheme=t.scheme,n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=z(t.path||""),n.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(n.userinfo=t.userinfo,n.host=t.host,n.port=t.port,n.path=z(t.path||""),n.query=t.query):(t.path?("/"===t.path.charAt(0)?n.path=z(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:n.path=t.path:n.path="/"+t.path,n.path=z(n.path)),n.query=t.query):(n.path=e.path,void 0!==t.query?n.query=t.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=t.fragment,n}function U(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,O)}var q={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var i="https"===String(e.scheme).toLowerCase();return e.port!==(i?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},$={scheme:"https",domainHost:q.domainHost,parse:q.parse,serialize:q.serialize};function Y(e){return "boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var K={scheme:"ws",domainHost:!0,parse:function(e,t){var i=e;return i.secure=Y(i),i.resourceName=(i.path||"/")+(i.query?"?"+i.query:""),i.path=void 0,i.query=void 0,i},serialize:function(e,t){if(e.port!==(Y(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var i=e.resourceName.split("?"),n=l(i,2),r=n[0],a=n[1];e.path=r&&"/"!==r?r:void 0,e.query=a,e.resourceName=void 0;}return e.fragment=void 0,e}},X={scheme:"wss",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize},J={},Z="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Q="[0-9A-Fa-f]",ee=i(i("%[EFef]"+Q+"%"+Q+Q+"%"+Q+Q)+"|"+i("%[89A-Fa-f]"+Q+"%"+Q+Q)+"|"+i("%"+Q+Q)),te=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),ie=new RegExp(Z,"g"),ne=new RegExp(ee,"g"),re=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',te),"g"),ae=new RegExp(t("[^]",Z,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=ae;function se(e){var t=O(e);return t.match(ie)?t:e}var le={scheme:"mailto",parse:function(e,t){var i=e,n=i.to=i.path?i.path.split(","):[];if(i.path=void 0,i.query){for(var r=!1,a={},o=i.query.split("&"),s=0,l=o.length;s<l;++s){var u=o[s].split("=");switch(u[0]){case"to":for(var d=u[1].split(","),c=0,h=d.length;c<h;++c)n.push(d[c]);break;case"subject":i.subject=U(u[1],t);break;case"body":i.body=U(u[1],t);break;default:r=!0,a[U(u[0],t)]=U(u[1],t);}}r&&(i.headers=a);}i.query=void 0;for(var p=0,m=n.length;p<m;++p){var f=n[p].split("@");if(f[0]=U(f[0]),t.unicodeSupport)f[1]=U(f[1],t).toLowerCase();else try{f[1]=w(U(f[1],t).toLowerCase());}catch(e){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+e;}n[p]=f.join("@");}return i},serialize:function(e,t){var i=e,n=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(e.to);if(n){for(var a=0,o=n.length;a<o;++a){var s=String(n[a]),l=s.lastIndexOf("@"),u=s.slice(0,l).replace(ne,se).replace(ne,r).replace(re,A),d=s.slice(l+1);try{d=t.iri?I(d):w(U(d,t).toLowerCase());}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e;}n[a]=u+"@"+d;}i.path=n.join(",");}var c=e.headers=e.headers||{};e.subject&&(c.subject=e.subject),e.body&&(c.body=e.body);var h=[];for(var p in c)c[p]!==J[p]&&h.push(p.replace(ne,se).replace(ne,r).replace(ae,A)+"="+c[p].replace(ne,se).replace(ne,r).replace(oe,A));return h.length&&(i.query=h.join("&")),i}},ue=/^([^\:]+)\:(.*)/,de={scheme:"urn",parse:function(e,t){var i=e.path&&e.path.match(ue),n=e;if(i){var r=t.scheme||n.scheme||"urn",a=i[1].toLowerCase(),o=i[2],s=r+":"+(t.nid||a),l=T[s];n.nid=a,n.nss=o,n.path=void 0,l&&(n=l.parse(n,t));}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,t){var i=t.scheme||e.scheme||"urn",n=e.nid,r=i+":"+(t.nid||n),a=T[r];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(n||t.nid)+":"+s,o}},ce=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,he={scheme:"urn:uuid",parse:function(e,t){var i=e;return i.uuid=i.nss,i.nss=void 0,t.tolerant||i.uuid&&i.uuid.match(ce)||(i.error=i.error||"UUID is not valid."),i},serialize:function(e,t){var i=e;return i.nss=(e.uuid||"").toLowerCase(),i}};T[q.scheme]=q,T[$.scheme]=$,T[K.scheme]=K,T[X.scheme]=X,T[le.scheme]=le,T[de.scheme]=de,T[he.scheme]=he,e.SCHEMES=T,e.pctEncChar=A,e.pctDecChars=O,e.parse=j,e.removeDotSegments=z,e.serialize=H,e.resolveComponents=G,e.resolve=function(e,t,i){var n=function(e,t){var i=e;if(t)for(var n in t)i[n]=t[n];return i}({scheme:"null"},i);return H(G(j(e,n),j(t,n),n,!0),n)},e.normalize=function(e,t){return "string"==typeof e?e=H(j(e,t),t):"object"===n(e)&&(e=j(H(e,t),t)),e},e.equal=function(e,t,i){return "string"==typeof e?e=H(j(e,i),i):"object"===n(e)&&(e=H(e,i)),"string"==typeof t?t=H(j(t,i),i):"object"===n(t)&&(t=H(t,i)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,A)},e.unescapeComponent=U,Object.defineProperty(e,"__esModule",{value:!0});}(Fp);var Dp=function e(t,i){if(t===i)return !0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return !1;var n,r,a;if(Array.isArray(t)){if((n=t.length)!=i.length)return !1;for(r=n;0!=r--;)if(!e(t[r],i[r]))return !1;return !0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(i).length)return !1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(i,a[r]))return !1;for(r=n;0!=r--;){var o=a[r];if(!e(t[o],i[o]))return !1}return !0}return t!=t&&i!=i},Mp={copy:function(e,t){for(var i in t=t||{},e)t[i]=e[i];return t},checkDataType:Lp,checkDataTypes:function(e,t,i){if(1===e.length)return Lp(e[0],t,i,!0);var n="",r=jp(e);for(var a in r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer,r)n+=(n?" && ":"")+Lp(a,t,i,!0);return n},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var i=[],n=0;n<t.length;n++){var r=t[n];(Ep[r]||"array"===e&&"array"===r)&&(i[i.length]=r);}if(i.length)return i}else {if(Ep[t])return [t];if("array"===e&&"array"===t)return ["array"]}},toHash:jp,getProperty:Bp,escapeQuotes:Np,equal:Dp,ucs2length:function(e){for(var t,i=0,n=e.length,r=0;r<n;)i++,(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<n&&56320==(64512&(t=e.charCodeAt(r)))&&r++;return i},varOccurences:function(e,t){t+="[^0-9]";var i=e.match(new RegExp(t,"g"));return i?i.length:0},varReplace:function(e,t,i){return t+="([^0-9])",i=i.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),i+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return !e;for(var i in e)if(t[i])return !0},schemaHasRulesExcept:function(e,t,i){if("boolean"==typeof e)return !e&&"not"!=i;for(var n in e)if(n!=i&&t[n])return !0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var i in e)if(!t[i])return i},toQuotedString:Wp,getPathExpr:function(e,t,i,n){return Gp(e,i?"'/' + "+t+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,i){return Gp(e,Wp(i?"/"+Up(t):Bp(t)))},getData:function(e,t,i){var n,r,a,o;if(""===e)return "rootData";if("/"==e[0]){if(!zp.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,a="rootData";}else {if(!(o=e.match(Hp)))throw new Error("Invalid JSON-pointer: "+e);if(n=+o[1],"#"==(r=o[2])){if(n>=t)throw new Error("Cannot access property/index "+n+" levels up, current level is "+t);return i[t-n]}if(n>t)throw new Error("Cannot access data "+n+" levels up, current level is "+t);if(a="data"+(t-n||""),!r)return a}for(var s=a,l=r.split("/"),u=0;u<l.length;u++){var d=l[u];d&&(s+=" && "+(a+=Bp(qp(d))));}return s},unescapeFragment:function(e){return qp(decodeURIComponent(e))},unescapeJsonPointer:qp,escapeFragment:function(e){return encodeURIComponent(Up(e))},escapeJsonPointer:Up};function Lp(e,t,i,n){var r=n?" !== ":" === ",a=n?" || ":" && ",o=n?"!":"",s=n?"":"!";switch(e){case"null":return t+r+"null";case"array":return o+"Array.isArray("+t+")";case"object":return "("+o+t+a+"typeof "+t+r+'"object"'+a+s+"Array.isArray("+t+"))";case"integer":return "(typeof "+t+r+'"number"'+a+s+"("+t+" % 1)"+a+t+r+t+(i?a+o+"isFinite("+t+")":"")+")";case"number":return "(typeof "+t+r+'"'+e+'"'+(i?a+o+"isFinite("+t+")":"")+")";default:return "typeof "+t+r+'"'+e+'"'}}var Ep=jp(["string","number","integer","boolean","null"]);function jp(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=!0;return t}var Vp=/^[a-z$_][a-z$_0-9]*$/i,Rp=/'|\\/g;function Bp(e){return "number"==typeof e?"["+e+"]":Vp.test(e)?"."+e:"['"+Np(e)+"']"}function Np(e){return e.replace(Rp,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function Wp(e){return "'"+Np(e)+"'"}var zp=/^\/(?:[^~]|~0|~1)*$/,Hp=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Gp(e,t){return '""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function Up(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function qp(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}var $p=Mp,Yp=function(e){$p.copy(e,this);},Kp={exports:{}},Xp=Kp.exports=function(e,t,i){"function"==typeof t&&(i=t,t={}),Jp(t,"function"==typeof(i=t.cb||i)?i:i.pre||function(){},i.post||function(){},e,"",e);};function Jp(e,t,i,n,r,a,o,s,l,u){if(n&&"object"==typeof n&&!Array.isArray(n)){for(var d in t(n,r,a,o,s,l,u),n){var c=n[d];if(Array.isArray(c)){if(d in Xp.arrayKeywords)for(var h=0;h<c.length;h++)Jp(e,t,i,c[h],r+"/"+d+"/"+h,a,r,d,n,h);}else if(d in Xp.propsKeywords){if(c&&"object"==typeof c)for(var p in c)Jp(e,t,i,c[p],r+"/"+d+"/"+p.replace(/~/g,"~0").replace(/\//g,"~1"),a,r,d,n,p);}else (d in Xp.keywords||e.allKeys&&!(d in Xp.skipKeywords))&&Jp(e,t,i,c,r+"/"+d,a,r,d,n);}i(n,r,a,o,s,l,u);}}Xp.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},Xp.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},Xp.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},Xp.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};var Zp=Fp,Qp=Dp,em=Mp,tm=Yp,im=Kp.exports,nm=rm;function rm(e,t,i){var n=this._refs[i];if("string"==typeof n){if(!this._refs[n])return rm.call(this,e,t,n);n=this._refs[n];}if((n=n||this._schemas[i])instanceof tm)return dm(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r,a,o,s=am.call(this,t,i);return s&&(r=s.schema,t=s.root,o=s.baseId),r instanceof tm?a=r.validate||e.call(this,r.schema,t,void 0,o):void 0!==r&&(a=dm(r,this._opts.inlineRefs)?r:e.call(this,r,t,void 0,o)),a}function am(e,t){var i=Zp.parse(t),n=mm(i),r=pm(this._getId(e.schema));if(0===Object.keys(e.schema).length||n!==r){var a=gm(n),o=this._refs[a];if("string"==typeof o)return om.call(this,e,o,i);if(o instanceof tm)o.validate||this._compile(o),e=o;else {if(!((o=this._schemas[a])instanceof tm))return;if(o.validate||this._compile(o),a==gm(t))return {schema:o,root:e,baseId:r};e=o;}if(!e.schema)return;r=pm(this._getId(e.schema));}return lm.call(this,i,r,e.schema,e)}function om(e,t,i){var n=am.call(this,e,t);if(n){var r=n.schema,a=n.baseId;e=n.root;var o=this._getId(r);return o&&(a=ym(a,o)),lm.call(this,i,a,r,e)}}rm.normalizeId=gm,rm.fullPath=pm,rm.url=ym,rm.ids=function(e){var t=gm(this._getId(e)),i={"":t},n={"":pm(t,!1)},r={},a=this;return im(e,{allKeys:!0},(function(e,t,o,s,l,u,d){if(""!==t){var c=a._getId(e),h=i[s],p=n[s]+"/"+l;if(void 0!==d&&(p+="/"+("number"==typeof d?d:em.escapeFragment(d))),"string"==typeof c){c=h=gm(h?Zp.resolve(h,c):c);var m=a._refs[c];if("string"==typeof m&&(m=a._refs[m]),m&&m.schema){if(!Qp(e,m.schema))throw new Error('id "'+c+'" resolves to more than one schema')}else if(c!=gm(p))if("#"==c[0]){if(r[c]&&!Qp(e,r[c]))throw new Error('id "'+c+'" resolves to more than one schema');r[c]=e;}else a._refs[c]=p;}i[t]=h,n[t]=p;}})),r},rm.inlineRef=dm,rm.schema=am;var sm=em.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function lm(e,t,i,n){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var r=e.fragment.split("/"),a=1;a<r.length;a++){var o=r[a];if(o){if(void 0===(i=i[o=em.unescapeFragment(o)]))break;var s;if(!sm[o]&&((s=this._getId(i))&&(t=ym(t,s)),i.$ref)){var l=ym(t,i.$ref),u=am.call(this,n,l);u&&(i=u.schema,n=u.root,t=u.baseId);}}}return void 0!==i&&i!==n.schema?{schema:i,root:n,baseId:t}:void 0}}var um=em.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function dm(e,t){return !1!==t&&(void 0===t||!0===t?cm(e):t?hm(e)<=t:void 0)}function cm(e){var t;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(t=e[i])&&!cm(t))return !1}else for(var n in e){if("$ref"==n)return !1;if("object"==typeof(t=e[n])&&!cm(t))return !1}return !0}function hm(e){var t,i=0;if(Array.isArray(e)){for(var n=0;n<e.length;n++)if("object"==typeof(t=e[n])&&(i+=hm(t)),i==1/0)return 1/0}else for(var r in e){if("$ref"==r)return 1/0;if(um[r])i++;else if("object"==typeof(t=e[r])&&(i+=hm(t)+1),i==1/0)return 1/0}return i}function pm(e,t){return !1!==t&&(e=gm(e)),mm(Zp.parse(e))}function mm(e){return Zp.serialize(e).split("#")[0]+"#"}var fm=/#\/?$/;function gm(e){return e?e.replace(fm,""):""}function ym(e,t){return t=gm(t),Zp.resolve(e,t)}var vm=nm,bm={Validation:Cm((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0;})),MissingRef:Cm(xm)};function xm(e,t,i){this.message=i||xm.message(e,t),this.missingRef=vm.url(e,t),this.missingSchema=vm.normalizeId(vm.fullPath(this.missingRef));}function Cm(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}xm.message=function(e,t){return "can't resolve reference "+t+" from id "+e};var Sm=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var i,n="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(i=t.cmp,function(e){return function(t,n){var r={key:t,value:e[t]},a={key:n,value:e[n]};return i(r,a)}}),a=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var i,o;if(Array.isArray(t)){for(o="[",i=0;i<t.length;i++)i&&(o+=","),o+=e(t[i])||"null";return o+"]"}if(null===t)return "null";if(-1!==a.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var s=a.push(t)-1,l=Object.keys(t).sort(r&&r(t));for(o="",i=0;i<l.length;i++){var u=l[i],d=e(t[u]);d&&(o&&(o+=","),o+=JSON.stringify(u)+":"+d);}return a.splice(s,1),"{"+o+"}"}}(e)},_m=function(e,t,i){var n="",r=!0===e.schema.$async,a=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var l="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(l);e.logger.warn(l);}}if(e.isTop&&(n+=" var validate = ",r&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!a&&!e.schema.$ref){t="false schema";var u=e.level,d=e.dataLevel,c=e.schema[t],h=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,f="data"+(d||""),g="valid"+u;if(!1===e.schema){e.isTop?m=!0:n+=" var "+g+" = false; ",(U=U||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ";var y=n;n=U.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";}else e.isTop?n+=r?" return data; ":" validate.errors = null; return true; ":n+=" var "+g+" = true; ";return e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var v=e.isTop;if(u=e.level=0,d=e.dataLevel=0,f="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b);}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; ";}else {if(u=e.level,f="data"+((d=e.dataLevel)||""),o&&(e.baseId=e.resolve.url(e.baseId,o)),r&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+u+" = errors;";}g="valid"+u,m=!e.opts.allErrors;var x="",C="",S=e.schema.type,_=Array.isArray(S);if(S&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==S.indexOf("null")&&(S=S.concat("null")):"null"!=S&&(S=[S,"null"],_=!0)),_&&1==S.length&&(S=S[0],_=!1),e.schema.$ref&&a){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(a=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'));}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),S){if(e.opts.coerceTypes)var P=e.util.coerceToTypes(e.opts.coerceTypes,S);var w=e.RULES.types[S];if(P||_||!0===w||w&&!J(w)){h=e.schemaPath+".type",p=e.errSchemaPath+"/type",h=e.schemaPath+".type",p=e.errSchemaPath+"/type";var I=_?"checkDataTypes":"checkDataType";if(n+=" if ("+e.util[I](S,f,e.opts.strictNumbers,!0)+") { ",P){var T="dataType"+u,A="coerced"+u;n+=" var "+T+" = typeof "+f+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+T+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+T+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+A+" = "+f+"; } "),n+=" if ("+A+" !== undefined) ; ";var O=P;if(O)for(var k,F=-1,D=O.length-1;F<D;)"string"==(k=O[F+=1])?n+=" else if ("+T+" == 'number' || "+T+" == 'boolean') "+A+" = '' + "+f+"; else if ("+f+" === null) "+A+" = ''; ":"number"==k||"integer"==k?(n+=" else if ("+T+" == 'boolean' || "+f+" === null || ("+T+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==k&&(n+=" && !("+f+" % 1)"),n+=")) "+A+" = +"+f+"; "):"boolean"==k?n+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+A+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+A+" = true; ":"null"==k?n+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==k&&(n+=" else if ("+T+" == 'string' || "+T+" == 'number' || "+T+" == 'boolean' || "+f+" == null) "+A+" = ["+f+"]; ");n+=" else {   ",(U=U||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+S.join(","):""+S,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+S.join(","):""+S,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",y=n,n=U.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+A+" !== undefined) {  ";var M=d?"data"+(d-1||""):"parentData";n+=" "+f+" = "+A+"; ",d||(n+="if ("+M+" !== undefined)"),n+=" "+M+"["+(d?e.dataPathArr[d]:"parentDataProperty")+"] = "+A+"; } ";}else (U=U||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+S.join(","):""+S,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+S.join(","):""+S,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",y=n,n=U.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } ";}}if(e.schema.$ref&&!a)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",m&&(n+=" } if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",C+="}");else {var L=e.RULES;if(L)for(var E=-1,j=L.length-1;E<j;)if(J(w=L[E+=1])){if(w.type&&(n+=" if ("+e.util.checkDataType(w.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==w.type&&e.schema.properties){c=e.schema.properties;var V=Object.keys(c);if(V)for(var R,B=-1,N=V.length-1;B<N;)if(void 0!==(H=c[R=V[B+=1]]).default){var W=f+e.util.getProperty(R);if(e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+W,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b);}}else n+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+W+" === null || "+W+" === '' "),n+=" ) "+W+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(H.default)+" ":n+=" "+JSON.stringify(H.default)+" ",n+="; ";}}else if("array"==w.type&&Array.isArray(e.schema.items)){var z=e.schema.items;if(z){F=-1;for(var H,G=z.length-1;F<G;)if(void 0!==(H=z[F+=1]).default)if(W=f+"["+F+"]",e.compositeRule){if(e.opts.strictDefaults){if(b="default is ignored for: "+W,"log"!==e.opts.strictDefaults)throw new Error(b);e.logger.warn(b);}}else n+=" if ("+W+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+W+" === null || "+W+" === '' "),n+=" ) "+W+" = ","shared"==e.opts.useDefaults?n+=" "+e.useDefault(H.default)+" ":n+=" "+JSON.stringify(H.default)+" ",n+="; ";}}var U,q=w.rules;if(q)for(var $,Y=-1,K=q.length-1;Y<K;)if(Z($=q[Y+=1])){var X=$.code(e,$.keyword,w.type);X&&(n+=" "+X+" ",m&&(x+="}"));}if(m&&(n+=" "+x+" ",x=""),w.type&&(n+=" } ",S&&S===w.type&&!P))n+=" else { ",h=e.schemaPath+".type",p=e.errSchemaPath+"/type",(U=U||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",n+=_?""+S.join(","):""+S,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+S.join(","):""+S,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),n+=" } "):n+=" {} ",y=n,n=U.pop(),!e.compositeRule&&m?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ";m&&(n+=" if (errors === ",n+=v?"0":"errs_"+u,n+=") { ",C+="}");}}function J(e){for(var t=e.rules,i=0;i<t.length;i++)if(Z(t[i]))return !0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var i=t.implements,n=0;n<i.length;n++)if(void 0!==e.schema[i[n]])return !0}(t)}return m&&(n+=" "+C+" "),v?(r?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+g+" = errors === errs_"+u+";",n},Pm=nm,wm=Mp,Im=bm,Tm=Sm,Am=_m,Om=wm.ucs2length,km=Dp,Fm=Im.Validation;function Dm(e,t,i){var n=Lm.call(this,e,t,i);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:e,root:t,baseId:i},{index:n,compiling:!1})}function Mm(e,t,i){var n=Lm.call(this,e,t,i);n>=0&&this._compilations.splice(n,1);}function Lm(e,t,i){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==e&&r.root==t&&r.baseId==i)return n}return -1}function Em(e,t){return "var pattern"+e+" = new RegExp("+wm.toQuotedString(t[e])+");"}function jm(e){return "var default"+e+" = defaults["+e+"];"}function Vm(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function Rm(e){return "var customRule"+e+" = customRules["+e+"];"}function Bm(e,t){if(!e.length)return "";for(var i="",n=0;n<e.length;n++)i+=t(n,e);return i}var Nm={exports:{}},Wm=Nm.exports=function(){this._cache={};};Wm.prototype.put=function(e,t){this._cache[e]=t;},Wm.prototype.get=function(e){return this._cache[e]},Wm.prototype.del=function(e){delete this._cache[e];},Wm.prototype.clear=function(){this._cache={};};var zm=Mp,Hm=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Gm=[0,31,28,31,30,31,30,31,31,30,31,30,31],Um=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,qm=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,$m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ym=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Km=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,Xm=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Jm=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Zm=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Qm=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ef=tf;function tf(e){return e="full"==e?"full":"fast",zm.copy(tf[e])}function nf(e){var t=e.match(Hm);if(!t)return !1;var i=+t[1],n=+t[2],r=+t[3];return n>=1&&n<=12&&r>=1&&r<=(2==n&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(i)?29:Gm[n])}function rf(e,t){var i=e.match(Um);if(!i)return !1;var n=i[1],r=i[2],a=i[3],o=i[5];return (n<=23&&r<=59&&a<=59||23==n&&59==r&&60==a)&&(!t||o)}tf.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Ym,url:Km,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:qm,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:lf,uuid:Xm,"json-pointer":Jm,"json-pointer-uri-fragment":Zm,"relative-json-pointer":Qm},tf.full={date:nf,time:rf,"date-time":function(e){var t=e.split(af);return 2==t.length&&nf(t[0])&&rf(t[1],!0)},uri:function(e){return of.test(e)&&$m.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":Ym,url:Km,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:qm,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:lf,uuid:Xm,"json-pointer":Jm,"json-pointer-uri-fragment":Zm,"relative-json-pointer":Qm};var af=/t|\s/i,of=/\/|:/,sf=/[^\\]\\Z/;function lf(e){if(sf.test(e))return !1;try{return new RegExp(e),!0}catch(e){return !1}}var uf=function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s;var p="maximum"==t,m=p?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[m],g=e.opts.$data&&f&&f.$data,y=p?"<":">",v=p?">":"<",b=void 0;if(!h&&"number"!=typeof s&&void 0!==s)throw new Error(t+" must be number");if(!g&&void 0!==f&&"number"!=typeof f&&"boolean"!=typeof f)throw new Error(m+" must be number or boolean");if(g){var x,C=e.util.getData(f.$data,o,e.dataPathArr),S="exclusive"+a,_="exclType"+a,P="exclIsNumber"+a,w="' + "+(T="op"+a)+" + '";r+=" var schemaExcl"+a+" = "+C+"; ",r+=" var "+S+"; var "+_+" = typeof "+(C="schemaExcl"+a)+"; if ("+_+" != 'boolean' && "+_+" != 'undefined' && "+_+" != 'number') { ",b=m,(x=x||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(b||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: '"+m+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var I=r;r=x.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+_+" == 'number' ? ( ("+S+" = "+n+" === undefined || "+C+" "+y+"= "+n+") ? "+c+" "+v+"= "+C+" : "+c+" "+v+" "+n+" ) : ( ("+S+" = "+C+" === true) ? "+c+" "+v+"= "+n+" : "+c+" "+v+" "+n+" ) || "+c+" !== "+c+") { var op"+a+" = "+S+" ? '"+y+"' : '"+y+"='; ",void 0===s&&(b=m,u=e.errSchemaPath+"/"+m,n=C,h=g);}else if(w=y,(P="number"==typeof f)&&h){var T="'"+w+"'";r+=" if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" ( "+n+" === undefined || "+f+" "+y+"= "+n+" ? "+c+" "+v+"= "+f+" : "+c+" "+v+" "+n+" ) || "+c+" !== "+c+") { ";}else P&&void 0===s?(S=!0,b=m,u=e.errSchemaPath+"/"+m,n=f,v+="="):(P&&(n=Math[p?"min":"max"](f,s)),f===(!P||n)?(S=!0,b=m,u=e.errSchemaPath+"/"+m,v+="="):(S=!1,w+="=")),T="'"+w+"'",r+=" if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+c+" "+v+" "+n+" || "+c+" !== "+c+") { ";return b=b||t,(x=x||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(b||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { comparison: "+T+", limit: "+n+", exclusive: "+S+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+w+" ",r+=h?"' + "+n:n+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ",I=r,r=x.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d&&(r+=" else { "),r},df=function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+c+".length "+("maxItems"==t?">":"<")+" "+n+") { ";var p=t,m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxItems"==t?"more":"fewer",r+=" than ",r+=h?"' + "+n+" + '":""+s,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var f=r;return r=m.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r},cf=function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");var p="maxLength"==t?">":"<";r+="if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),!1===e.opts.unicode?r+=" "+c+".length ":r+=" ucs2length("+c+") ",r+=" "+p+" "+n+") { ";var m=t,f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(m||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be ",r+="maxLength"==t?"longer":"shorter",r+=" than ",r+=h?"' + "+n+" + '":""+s,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var g=r;return r=f.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r},hf=function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" Object.keys("+c+").length "+("maxProperties"==t?">":"<")+" "+n+") { ";var p=t,m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { limit: "+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxProperties"==t?"more":"fewer",r+=" than ",r+=h?"' + "+n+" + '":""+s,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var f=r;return r=m.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r},pf={$ref:function(e,t,i){var n,r,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(s||""),h="valid"+o;if("#"==l||"#/"==l)e.isRoot?(n=e.async,r="validate"):(n=!0===e.root.schema.$async,r="root.refVal[0]");else {var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var m=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){e.logger.error(m),(v=v||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(a+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(a+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),a+=" } "):a+=" {} ";var f=a;a=v.pop(),!e.compositeRule&&d?e.async?a+=" throw new ValidationError(["+f+"]); ":a+=" validate.errors = ["+f+"]; return false; ":a+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(a+=" if (false) { ");}else {if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,m);e.logger.warn(m),d&&(a+=" if (true) { ");}}else if(p.inline){var g=e.util.copy(e);g.level++;var y="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=l,a+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",d&&(a+=" if ("+y+") { ");}else n=!0===p.$async||e.async&&!1!==p.$async,r=p.code;}if(r){var v;(v=v||[]).push(a),a="",e.opts.passContext?a+=" "+r+".call(this, ":a+=" "+r+"( ",a+=" "+c+", (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var b=a+=" , "+(s?"data"+(s-1||""):"parentData")+" , "+(s?e.dataPathArr[s]:"parentDataProperty")+", rootData)  ";if(a=v.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");d&&(a+=" var "+h+"; "),a+=" try { await "+b+"; ",d&&(a+=" "+h+" = true; "),a+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(a+=" "+h+" = false; "),a+=" } ",d&&(a+=" if ("+h+") { ");}else a+=" if (!"+b+") { if (vErrors === null) vErrors = "+r+".errors; else vErrors = vErrors.concat("+r+".errors); errors = vErrors.length; } ",d&&(a+=" else { ");}return a},allOf:function(e,t,i){var n=" ",r=e.schema[t],a=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,l=e.util.copy(e),u="";l.level++;var d="valid"+l.level,c=l.baseId,h=!0,p=r;if(p)for(var m,f=-1,g=p.length-1;f<g;)m=p[f+=1],(e.opts.strictKeywords?"object"==typeof m&&Object.keys(m).length>0||!1===m:e.util.schemaHasRules(m,e.RULES.all))&&(h=!1,l.schema=m,l.schemaPath=a+"["+f+"]",l.errSchemaPath=o+"/"+f,n+="  "+e.validate(l)+" ",l.baseId=c,s&&(n+=" if ("+d+") { ",u+="}"));return s&&(n+=h?" if (true) { ":" "+u.slice(0,-1)+" "),n},anyOf:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h="errs__"+r,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,g=o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&Object.keys(t).length>0||!1===t:e.util.schemaHasRules(t,e.RULES.all)}));if(g){var y=p.baseId;n+=" var "+h+" = errors; var "+c+" = false;  ";var v=e.compositeRule;e.compositeRule=p.compositeRule=!0;var b=o;if(b)for(var x,C=-1,S=b.length-1;C<S;)x=b[C+=1],p.schema=x,p.schemaPath=s+"["+C+"]",p.errSchemaPath=l+"/"+C,n+="  "+e.validate(p)+" ",p.baseId=y,n+=" "+c+" = "+c+" || "+f+"; if (!"+c+") { ",m+="}";e.compositeRule=p.compositeRule=v,n+=" "+m+" if (!"+c+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ");}else u&&(n+=" if (true) { ");return n},$comment:function(e,t,i){var n=" ",r=e.schema[t],a=e.errSchemaPath+"/"+t;e.opts.allErrors;var o=e.util.toQuotedString(r);return !0===e.opts.$comment?n+=" console.log("+o+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+o+", "+e.util.toQuotedString(a)+", validate.root.schema);"),n},const:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; "),h||(n+=" var schema"+r+" = validate.schema"+s+";"),n+="var "+c+" = equal("+d+", schema"+r+"); if (!"+c+") {   ";var p=p||[];p.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValue: schema"+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var m=n;return n=p.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+m+"]); ":n+=" validate.errors = ["+m+"]; return false; ":n+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n},contains:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h="errs__"+r,p=e.util.copy(e);p.level++;var m="valid"+p.level,f="i"+r,g=p.dataLevel=e.dataLevel+1,y="data"+g,v=e.baseId,b=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all);if(n+="var "+h+" = errors;var "+c+";",b){var x=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,n+=" var "+m+" = false; for (var "+f+" = 0; "+f+" < "+d+".length; "+f+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0);var C=d+"["+f+"]";p.dataPathArr[g]=f;var S=e.validate(p);p.baseId=v,e.util.varOccurences(S,y)<2?n+=" "+e.util.varReplace(S,y,C)+" ":n+=" var "+y+" = "+C+"; "+S+" ",n+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=x,n+="  if (!"+m+") {";}else n+=" if ("+d+".length == 0) {";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var P=n;return n=_.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",b&&(n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n},dependencies:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="errs__"+r,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f={},g={},y=e.opts.ownProperties;for(C in o)if("__proto__"!=C){var v=o[C],b=Array.isArray(v)?g:f;b[C]=v;}n+="var "+c+" = errors;";var x=e.errorPath;for(var C in n+="var missing"+r+";",g)if((b=g[C]).length){if(n+=" if ( "+d+e.util.getProperty(C)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),u){n+=" && ( ";var S=b;if(S)for(var _=-1,P=S.length-1;_<P;)k=S[_+=1],_&&(n+=" || "),n+=" ( ( "+(L=d+(M=e.util.getProperty(k)))+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(k)+"') "),n+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?k:M)+") ) ";n+=")) {  ";var w="missing"+r,I="' + "+w+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,w,!0):x+" + "+w);var T=T||[];T.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var A=n;n=T.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+A+"]); ":n+=" validate.errors = ["+A+"]; return false; ":n+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";}else {n+=" ) { ";var O=b;if(O)for(var k,F=-1,D=O.length-1;F<D;){k=O[F+=1];var M=e.util.getProperty(k),L=(I=e.util.escapeQuotes(k),d+M);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,k,e.opts.jsonPointers)),n+=" if ( "+L+" === undefined ",y&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(k)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(C)+"', missingProperty: '"+I+"', depsCount: "+b.length+", deps: '"+e.util.escapeQuotes(1==b.length?b[0]:b.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",1==b.length?n+="property "+e.util.escapeQuotes(b[0]):n+="properties "+e.util.escapeQuotes(b.join(", ")),n+=" when property "+e.util.escapeQuotes(C)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";}}n+=" }   ",u&&(p+="}",n+=" else { ");}e.errorPath=x;var E=h.baseId;for(var C in f)v=f[C],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0||!1===v:e.util.schemaHasRules(v,e.RULES.all))&&(n+=" "+m+" = true; if ( "+d+e.util.getProperty(C)+" !== undefined ",y&&(n+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(C)+"') "),n+=") { ",h.schema=v,h.schemaPath=s+e.util.getProperty(C),h.errSchemaPath=l+"/"+e.util.escapeFragment(C),n+="  "+e.validate(h)+" ",h.baseId=E,n+=" }  ",u&&(n+=" if ("+m+") { ",p+="}"));return u&&(n+="   "+p+" if ("+c+" == errors) {"),n},enum:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="i"+r,m="schema"+r;h||(n+=" var "+m+" = validate.schema"+s+";"),n+="var "+c+";",h&&(n+=" if (schema"+r+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+r+")) "+c+" = false; else {"),n+=c+" = false;for (var "+p+"=0; "+p+"<"+m+".length; "+p+"++) if (equal("+d+", "+m+"["+p+"])) { "+c+" = true; break; }",h&&(n+="  }  "),n+=" if (!"+c+") {   ";var f=f||[];f.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+r+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var g=n;return n=f.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",u&&(n+=" else { "),n},format:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||"");if(!1===e.opts.format)return u&&(n+=" if (true) { "),n;var c,h=e.opts.$data&&o&&o.$data;h?(n+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ",c="schema"+r):c=o;var p=e.opts.unknownFormats,m=Array.isArray(p);if(h)n+=" var "+(f="format"+r)+" = formats["+c+"]; var "+(g="isObject"+r)+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+(y="formatType"+r)+" = "+g+" && "+f+".type || 'string'; if ("+g+") { ",e.async&&(n+=" var async"+r+" = "+f+".async; "),n+=" "+f+" = "+f+".validate; } if (  ",h&&(n+=" ("+c+" !== undefined && typeof "+c+" != 'string') || "),n+=" (","ignore"!=p&&(n+=" ("+c+" && !"+f+" ",m&&(n+=" && self._opts.unknownFormats.indexOf("+c+") == -1 "),n+=") || "),n+=" ("+f+" && "+y+" == '"+i+"' && !(typeof "+f+" == 'function' ? ",e.async?n+=" (async"+r+" ? await "+f+"("+d+") : "+f+"("+d+")) ":n+=" "+f+"("+d+") ",n+=" : "+f+".test("+d+"))))) {";else {var f;if(!(f=e.formats[o])){if("ignore"==p)return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(n+=" if (true) { "),n;if(m&&p.indexOf(o)>=0)return u&&(n+=" if (true) { "),n;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,y=(g="object"==typeof f&&!(f instanceof RegExp)&&f.validate)&&f.type||"string";if(g){var v=!0===f.async;f=f.validate;}if(y!=i)return u&&(n+=" if (true) { "),n;if(v){if(!e.async)throw new Error("async format in sync schema");n+=" if (!(await "+(b="formats"+e.util.getProperty(o)+".validate")+"("+d+"))) { ";}else {n+=" if (! ";var b="formats"+e.util.getProperty(o);g&&(b+=".validate"),n+="function"==typeof f?" "+b+"("+d+") ":" "+b+".test("+d+") ",n+=") { ";}}var x=x||[];x.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",n+=h?""+c:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match format \"",n+=h?"' + "+c+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var C=n;return n=x.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",u&&(n+=" else { "),n},if:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h="errs__"+r,p=e.util.copy(e);p.level++;var m="valid"+p.level,f=e.schema.then,g=e.schema.else,y=void 0!==f&&(e.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0||!1===f:e.util.schemaHasRules(f,e.RULES.all)),v=void 0!==g&&(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0||!1===g:e.util.schemaHasRules(g,e.RULES.all)),b=p.baseId;if(y||v){var x;p.createErrors=!1,p.schema=o,p.schemaPath=s,p.errSchemaPath=l,n+=" var "+h+" = errors; var "+c+" = true;  ";var C=e.compositeRule;e.compositeRule=p.compositeRule=!0,n+="  "+e.validate(p)+" ",p.baseId=b,p.createErrors=!0,n+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }  ",e.compositeRule=p.compositeRule=C,y?(n+=" if ("+m+") {  ",p.schema=e.schema.then,p.schemaPath=e.schemaPath+".then",p.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+c+" = "+m+"; ",y&&v?n+=" var "+(x="ifClause"+r)+" = 'then'; ":x="'then'",n+=" } ",v&&(n+=" else { ")):n+=" if (!"+m+") { ",v&&(p.schema=e.schema.else,p.schemaPath=e.schemaPath+".else",p.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(p)+" ",p.baseId=b,n+=" "+c+" = "+m+"; ",y&&v?n+=" var "+(x="ifClause"+r)+" = 'else'; ":x="'else'",n+=" } "),n+=" if (!"+c+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { failingKeyword: "+x+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+x+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",u&&(n+=" else { ");}else u&&(n+=" if (true) { ");return n},items:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h="errs__"+r,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,g="i"+r,y=p.dataLevel=e.dataLevel+1,v="data"+y,b=e.baseId;if(n+="var "+h+" = errors;var "+c+";",Array.isArray(o)){var x=e.schema.additionalItems;if(!1===x){n+=" "+c+" = "+d+".length <= "+o.length+"; ";var C=l;l=e.errSchemaPath+"/additionalItems",n+="  if (!"+c+") {   ";var S=S||[];S.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var _=n;n=S.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+_+"]); ":n+=" validate.errors = ["+_+"]; return false; ":n+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",l=C,u&&(m+="}",n+=" else { ");}var P=o;if(P)for(var w,I=-1,T=P.length-1;I<T;)if(w=P[I+=1],e.opts.strictKeywords?"object"==typeof w&&Object.keys(w).length>0||!1===w:e.util.schemaHasRules(w,e.RULES.all)){n+=" "+f+" = true; if ("+d+".length > "+I+") { ";var A=d+"["+I+"]";p.schema=w,p.schemaPath=s+"["+I+"]",p.errSchemaPath=l+"/"+I,p.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),p.dataPathArr[y]=I;var O=e.validate(p);p.baseId=b,e.util.varOccurences(O,v)<2?n+=" "+e.util.varReplace(O,v,A)+" ":n+=" var "+v+" = "+A+"; "+O+" ",n+=" }  ",u&&(n+=" if ("+f+") { ",m+="}");}"object"==typeof x&&(e.opts.strictKeywords?"object"==typeof x&&Object.keys(x).length>0||!1===x:e.util.schemaHasRules(x,e.RULES.all))&&(p.schema=x,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+f+" = true; if ("+d+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+d+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=d+"["+g+"]",p.dataPathArr[y]=g,O=e.validate(p),p.baseId=b,e.util.varOccurences(O,v)<2?n+=" "+e.util.varReplace(O,v,A)+" ":n+=" var "+v+" = "+A+"; "+O+" ",u&&(n+=" if (!"+f+") break; "),n+=" } }  ",u&&(n+=" if ("+f+") { ",m+="}"));}else (e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all))&&(p.schema=o,p.schemaPath=s,p.errSchemaPath=l,n+="  for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0),A=d+"["+g+"]",p.dataPathArr[y]=g,O=e.validate(p),p.baseId=b,e.util.varOccurences(O,v)<2?n+=" "+e.util.varReplace(O,v,A)+" ":n+=" var "+v+" = "+A+"; "+O+" ",u&&(n+=" if (!"+f+") break; "),n+=" }");return u&&(n+=" "+m+" if ("+h+" == errors) {"),n},maximum:uf,minimum:uf,maxItems:df,minItems:df,maxLength:cf,minLength:cf,maxProperties:hf,minProperties:hf,multipleOf:function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;if(h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,!h&&"number"!=typeof s)throw new Error(t+" must be number");r+="var division"+a+";if (",h&&(r+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),r+=" (division"+a+" = "+c+" / "+n+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+a+") - division"+a+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+a+" !== parseInt(division"+a+") ",r+=" ) ",h&&(r+="  )  "),r+=" ) {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { multipleOf: "+n+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be multiple of ",r+=h?"' + "+n:n+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;return r=p.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r},not:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="errs__"+r,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=s,h.errSchemaPath=l,n+=" var "+c+" = errors;  ";var m,f=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(m=h.opts.allErrors,h.opts.allErrors=!1),n+=" "+e.validate(h)+" ",h.createErrors=!0,m&&(h.opts.allErrors=m),e.compositeRule=h.compositeRule=f,n+=" if ("+p+") {   ";var g=g||[];g.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var y=n;n=g.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+y+"]); ":n+=" validate.errors = ["+y+"]; return false; ":n+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+c+"; if (vErrors !== null) { if ("+c+") vErrors.length = "+c+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ");}else n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(n+=" if (false) { ");return n},oneOf:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h="errs__"+r,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,g=p.baseId,y="prevValid"+r,v="passingSchemas"+r;n+="var "+h+" = errors , "+y+" = false , "+c+" = false , "+v+" = null; ";var b=e.compositeRule;e.compositeRule=p.compositeRule=!0;var x=o;if(x)for(var C,S=-1,_=x.length-1;S<_;)C=x[S+=1],(e.opts.strictKeywords?"object"==typeof C&&Object.keys(C).length>0||!1===C:e.util.schemaHasRules(C,e.RULES.all))?(p.schema=C,p.schemaPath=s+"["+S+"]",p.errSchemaPath=l+"/"+S,n+="  "+e.validate(p)+" ",p.baseId=g):n+=" var "+f+" = true; ",S&&(n+=" if ("+f+" && "+y+") { "+c+" = false; "+v+" = ["+v+", "+S+"]; } else { ",m+="}"),n+=" if ("+f+") { "+c+" = "+y+" = true; "+v+" = "+S+"; }";return e.compositeRule=p.compositeRule=b,n+=m+"if (!"+c+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n},pattern:function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h=e.opts.$data&&s&&s.$data;h?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,r+="if ( ",h&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" !"+(h?"(new RegExp("+n+"))":e.usePattern(s))+".test("+c+") ) {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { pattern:  ",r+=h?""+n:""+e.util.toQuotedString(s),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match pattern \"",r+=h?"' + "+n+" + '":""+e.util.escapeQuotes(s),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+e.util.toQuotedString(s),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;return r=p.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r},properties:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="errs__"+r,h=e.util.copy(e),p="";h.level++;var m="valid"+h.level,f="key"+r,g="idx"+r,y=h.dataLevel=e.dataLevel+1,v="data"+y,b="dataProperties"+r,x=Object.keys(o||{}).filter(M),C=e.schema.patternProperties||{},S=Object.keys(C).filter(M),_=e.schema.additionalProperties,P=x.length||S.length,w=!1===_,I="object"==typeof _&&Object.keys(_).length,T=e.opts.removeAdditional,A=w||I||T,O=e.opts.ownProperties,k=e.baseId,F=e.schema.required;if(F&&(!e.opts.$data||!F.$data)&&F.length<e.opts.loopRequired)var D=e.util.toHash(F);function M(e){return "__proto__"!==e}if(n+="var "+c+" = errors;var "+m+" = true;",O&&(n+=" var "+b+" = undefined;"),A){if(n+=O?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+f+" = "+b+"["+g+"]; ":" for (var "+f+" in "+d+") { ",P){if(n+=" var isAdditional"+r+" = !(false ",x.length)if(x.length>8)n+=" || validate.schema"+s+".hasOwnProperty("+f+") ";else {var L=x;if(L)for(var E=-1,j=L.length-1;E<j;)K=L[E+=1],n+=" || "+f+" == "+e.util.toQuotedString(K)+" ";}if(S.length){var V=S;if(V)for(var R=-1,B=V.length-1;R<B;)ae=V[R+=1],n+=" || "+e.usePattern(ae)+".test("+f+") ";}n+=" ); if (isAdditional"+r+") { ";}if("all"==T)n+=" delete "+d+"["+f+"]; ";else {var N=e.errorPath,W="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),w)if(T)n+=" delete "+d+"["+f+"]; ";else {n+=" "+m+" = false; ";var z=l;l=e.errSchemaPath+"/additionalProperties",(ie=ie||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+W+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var H=n;n=ie.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+H+"]); ":n+=" validate.errors = ["+H+"]; return false; ":n+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,u&&(n+=" break; ");}else if(I)if("failing"==T){n+=" var "+c+" = errors;  ";var G=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var U=d+"["+f+"]";h.dataPathArr[y]=f;var q=e.validate(h);h.baseId=k,e.util.varOccurences(q,v)<2?n+=" "+e.util.varReplace(q,v,U)+" ":n+=" var "+v+" = "+U+"; "+q+" ",n+=" if (!"+m+") { errors = "+c+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+f+"]; }  ",e.compositeRule=h.compositeRule=G;}else h.schema=_,h.schemaPath=e.schemaPath+".additionalProperties",h.errSchemaPath=e.errSchemaPath+"/additionalProperties",h.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers),U=d+"["+f+"]",h.dataPathArr[y]=f,q=e.validate(h),h.baseId=k,e.util.varOccurences(q,v)<2?n+=" "+e.util.varReplace(q,v,U)+" ":n+=" var "+v+" = "+U+"; "+q+" ",u&&(n+=" if (!"+m+") break; ");e.errorPath=N;}P&&(n+=" } "),n+=" }  ",u&&(n+=" if ("+m+") { ",p+="}");}var $=e.opts.useDefaults&&!e.compositeRule;if(x.length){var Y=x;if(Y)for(var K,X=-1,J=Y.length-1;X<J;){var Z=o[K=Y[X+=1]];if(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all)){var Q=e.util.getProperty(K),ee=(U=d+Q,$&&void 0!==Z.default);if(h.schema=Z,h.schemaPath=s+Q,h.errSchemaPath=l+"/"+e.util.escapeFragment(K),h.errorPath=e.util.getPath(e.errorPath,K,e.opts.jsonPointers),h.dataPathArr[y]=e.util.toQuotedString(K),q=e.validate(h),h.baseId=k,e.util.varOccurences(q,v)<2){q=e.util.varReplace(q,v,U);var te=U;}else te=v,n+=" var "+v+" = "+U+"; ";if(ee)n+=" "+q+" ";else {if(D&&D[K]){n+=" if ( "+te+" === undefined ",O&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),n+=") { "+m+" = false; ",N=e.errorPath,z=l;var ie,ne=e.util.escapeQuotes(K);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(N,K,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(ie=ie||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+ne+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+ne+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",H=n,n=ie.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+H+"]); ":n+=" validate.errors = ["+H+"]; return false; ":n+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=z,e.errorPath=N,n+=" } else { ";}else u?(n+=" if ( "+te+" === undefined ",O&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+te+" !== undefined ",O&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(K)+"') "),n+=" ) { ");n+=" "+q+" } ";}}u&&(n+=" if ("+m+") { ",p+="}");}}if(S.length){var re=S;if(re)for(var ae,oe=-1,se=re.length-1;oe<se;)Z=C[ae=re[oe+=1]],(e.opts.strictKeywords?"object"==typeof Z&&Object.keys(Z).length>0||!1===Z:e.util.schemaHasRules(Z,e.RULES.all))&&(h.schema=Z,h.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ae),h.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ae),n+=O?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) { var "+f+" = "+b+"["+g+"]; ":" for (var "+f+" in "+d+") { ",n+=" if ("+e.usePattern(ae)+".test("+f+")) { ",h.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers),U=d+"["+f+"]",h.dataPathArr[y]=f,q=e.validate(h),h.baseId=k,e.util.varOccurences(q,v)<2?n+=" "+e.util.varReplace(q,v,U)+" ":n+=" var "+v+" = "+U+"; "+q+" ",u&&(n+=" if (!"+m+") break; "),n+=" } ",u&&(n+=" else "+m+" = true; "),n+=" }  ",u&&(n+=" if ("+m+") { ",p+="}"));}return u&&(n+=" "+p+" if ("+c+" == errors) {"),n},propertyNames:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="errs__"+r,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(n+="var "+c+" = errors;",e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0||!1===o:e.util.schemaHasRules(o,e.RULES.all)){h.schema=o,h.schemaPath=s,h.errSchemaPath=l;var m="key"+r,f="idx"+r,g="i"+r,y="' + "+m+" + '",v="data"+(h.dataLevel=e.dataLevel+1),b="dataProperties"+r,x=e.opts.ownProperties,C=e.baseId;x&&(n+=" var "+b+" = undefined; "),n+=x?" "+b+" = "+b+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+b+".length; "+f+"++) { var "+m+" = "+b+"["+f+"]; ":" for (var "+m+" in "+d+") { ",n+=" var startErrs"+r+" = errors; ";var S=m,_=e.compositeRule;e.compositeRule=h.compositeRule=!0;var P=e.validate(h);h.baseId=C,e.util.varOccurences(P,v)<2?n+=" "+e.util.varReplace(P,v,S)+" ":n+=" var "+v+" = "+S+"; "+P+" ",e.compositeRule=h.compositeRule=_,n+=" if (!"+p+") { for (var "+g+"=startErrs"+r+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+m+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+y+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+y+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),u&&(n+=" break; "),n+=" } }";}return u&&(n+="  if ("+c+" == errors) {"),n},required:function(e,t,i){var n=" ",r=e.level,a=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),c="valid"+r,h=e.opts.$data&&o&&o.$data;h&&(n+=" var schema"+r+" = "+e.util.getData(o.$data,a,e.dataPathArr)+"; ");var p="schema"+r;if(!h)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var m=[],f=o;if(f)for(var g,y=-1,v=f.length-1;y<v;){g=f[y+=1];var b=e.schema.properties[g];b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0||!1===b:e.util.schemaHasRules(b,e.RULES.all))||(m[m.length]=g);}}else m=o;if(h||m.length){var x=e.errorPath,C=h||m.length>=e.opts.loopRequired,S=e.opts.ownProperties;if(u)if(n+=" var missing"+r+"; ",C){h||(n+=" var "+p+" = validate.schema"+s+"; ");var _="' + "+(O="schema"+r+"["+(T="i"+r)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),n+=" var "+c+" = true; ",h&&(n+=" if (schema"+r+" === undefined) "+c+" = true; else if (!Array.isArray(schema"+r+")) "+c+" = false; else {"),n+=" for (var "+T+" = 0; "+T+" < "+p+".length; "+T+"++) { "+c+" = "+d+"["+p+"["+T+"]] !== undefined ",S&&(n+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+p+"["+T+"]) "),n+="; if (!"+c+") break; } ",h&&(n+="  }  "),n+="  if (!"+c+") {   ",(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ";var P=n;n=w.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ";}else {n+=" if ( ";var w,I=m;if(I)for(var T=-1,A=I.length-1;T<A;)F=I[T+=1],T&&(n+=" || "),n+=" ( ( "+(E=d+(L=e.util.getProperty(F)))+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(F)+"') "),n+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:L)+") ) ";n+=") {  ",_="' + "+(O="missing"+r)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(x,O,!0):x+" + "+O),(w=w||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",P=n,n=w.pop(),!e.compositeRule&&u?e.async?n+=" throw new ValidationError(["+P+"]); ":n+=" validate.errors = ["+P+"]; return false; ":n+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ";}else if(C){var O;h||(n+=" var "+p+" = validate.schema"+s+"; "),_="' + "+(O="schema"+r+"["+(T="i"+r)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(x,O,e.opts.jsonPointers)),h&&(n+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),n+=" for (var "+T+" = 0; "+T+" < "+p+".length; "+T+"++) { if ("+d+"["+p+"["+T+"]] === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+p+"["+T+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(n+="  }  ");}else {var k=m;if(k)for(var F,D=-1,M=k.length-1;D<M;){F=k[D+=1];var L=e.util.getProperty(F),E=(_=e.util.escapeQuotes(F),d+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(x,F,e.opts.jsonPointers)),n+=" if ( "+E+" === undefined ",S&&(n+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(F)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",e.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ";}}e.errorPath=x;}else u&&(n+=" if (true) {");return n},uniqueItems:function(e,t,i){var n,r=" ",a=e.level,o=e.dataLevel,s=e.schema[t],l=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,c="data"+(o||""),h="valid"+a,p=e.opts.$data&&s&&s.$data;if(p?(r+=" var schema"+a+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",n="schema"+a):n=s,(s||p)&&!1!==e.opts.uniqueItems){p&&(r+=" var "+h+"; if ("+n+" === false || "+n+" === undefined) "+h+" = true; else if (typeof "+n+" != 'boolean') "+h+" = false; else { "),r+=" var i = "+c+".length , "+h+" = true , j; if (i > 1) { ";var m=e.schema.items&&e.schema.items.type,f=Array.isArray(m);if(!m||"object"==m||"array"==m||f&&(m.indexOf("object")>=0||m.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+c+"[i], "+c+"[j])) { "+h+" = false; break outer; } } } ";else {r+=" var itemIndices = {}, item; for (;i--;) { var item = "+c+"[i]; ";var g="checkDataType"+(f?"s":"");r+=" if ("+e.util[g](m,"item",e.opts.strictNumbers,!0)+") continue; ",f&&(r+=" if (typeof item == 'string') item = '\"' + item; "),r+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ";}r+=" } ",p&&(r+="  }  "),r+=" if (!"+h+") {   ";var y=y||[];y.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",r+=p?"validate.schema"+l:""+s,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var v=r;r=y.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+v+"]); ":r+=" validate.errors = ["+v+"]; return false; ":r+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d&&(r+=" else { ");}else d&&(r+=" if (true) { ");return r},validate:_m},mf=pf,ff=Mp.toHash,gf=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],yf=bm.MissingRef,vf={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0},bf=vf,xf={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:bf.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:bf.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Cf=/^[a-z_$][a-z0-9_$-]*$/i,Sf=function(e,t,i){var n,r,a=" ",o=e.level,s=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(s||""),p="valid"+o,m="errs__"+o,f=e.opts.$data&&l&&l.$data;f?(a+=" var schema"+o+" = "+e.util.getData(l.$data,s,e.dataPathArr)+"; ",r="schema"+o):r=l;var g,y,v,b,x,C=this,S="definition"+o,_=C.definition,P="";if(f&&_.$data){x="keywordValidate"+o;var w=_.validateSchema;a+=" var "+S+" = RULES.custom['"+t+"'].definition; var "+x+" = "+S+".validate;";}else {if(!(b=e.useCustomRule(C,l,e.schema,e)))return;r="validate.schema"+u,x=b.code,g=_.compile,y=_.inline,v=_.macro;}var I=x+".errors",T="i"+o,A="ruleErr"+o,O=_.async;if(O&&!e.async)throw new Error("async keyword in sync schema");if(y||v||(a+=I+" = null;"),a+="var "+m+" = errors;var "+p+";",f&&_.$data&&(P+="}",a+=" if ("+r+" === undefined) { "+p+" = true; } else { ",w&&(P+="}",a+=" "+p+" = "+S+".validateSchema("+r+"); if ("+p+") { ")),y)_.statements?a+=" "+b.validate+" ":a+=" "+p+" = "+b.validate+"; ";else if(v){var k=e.util.copy(e);P="",k.level++;var F="valid"+k.level;k.schema=b.validate,k.schemaPath="";var D=e.compositeRule;e.compositeRule=k.compositeRule=!0;var M=e.validate(k).replace(/validate\.schema/g,x);e.compositeRule=k.compositeRule=D,a+=" "+M;}else {(V=V||[]).push(a),a="",a+="  "+x+".call( ",e.opts.passContext?a+="this":a+="self",g||!1===_.schema?a+=" , "+h+" ":a+=" , "+r+" , "+h+" , validate.schema"+e.schemaPath+" ",a+=" , (dataPath || '')",'""'!=e.errorPath&&(a+=" + "+e.errorPath);var L=s?"data"+(s-1||""):"parentData",E=s?e.dataPathArr[s]:"parentDataProperty",j=a+=" , "+L+" , "+E+" , rootData )  ";a=V.pop(),!1===_.errors?(a+=" "+p+" = ",O&&(a+="await "),a+=j+"; "):a+=O?" var "+(I="customErrors"+o)+" = null; try { "+p+" = await "+j+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+I+" = e.errors; else throw e; } ":" "+I+" = null; "+p+" = "+j+"; ";}if(_.modifying&&(a+=" if ("+L+") "+h+" = "+L+"["+E+"];"),a+=""+P,_.valid)c&&(a+=" if (true) { ");else {var V;a+=" if ( ",void 0===_.valid?(a+=" !",a+=v?""+F:""+p):a+=" "+!_.valid+" ",a+=") { ",n=C.keyword,(V=V||[]).push(a),a="",(V=V||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+C.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+C.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ";var R=a;a=V.pop(),!e.compositeRule&&c?e.async?a+=" throw new ValidationError(["+R+"]); ":a+=" validate.errors = ["+R+"]; return false; ":a+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=a;a=V.pop(),y?_.errors?"full"!=_.errors&&(a+="  for (var "+T+"="+m+"; "+T+"<errors; "+T+"++) { var "+A+" = vErrors["+T+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+r+"; "+A+".data = "+h+"; "),a+=" } "):!1===_.errors?a+=" "+B+" ":(a+=" if ("+m+" == errors) { "+B+" } else {  for (var "+T+"="+m+"; "+T+"<errors; "+T+"++) { var "+A+" = vErrors["+T+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+d+'"; } ',e.opts.verbose&&(a+=" "+A+".schema = "+r+"; "+A+".data = "+h+"; "),a+=" } } "):v?(a+="   var err =   ",!1!==e.createErrors?(a+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { keyword: '"+C.keyword+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should pass \""+C.keyword+"\" keyword validation' "),e.opts.verbose&&(a+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?a+=" throw new ValidationError(vErrors); ":a+=" validate.errors = vErrors; return false; ")):!1===_.errors?a+=" "+B+" ":(a+=" if (Array.isArray("+I+")) { if (vErrors === null) vErrors = "+I+"; else vErrors = vErrors.concat("+I+"); errors = vErrors.length;  for (var "+T+"="+m+"; "+T+"<errors; "+T+"++) { var "+A+" = vErrors["+T+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+e.errorPath+";  "+A+'.schemaPath = "'+d+'";  ',e.opts.verbose&&(a+=" "+A+".schema = "+r+"; "+A+".data = "+h+"; "),a+=" } } else { "+B+" } "),a+=" } ",c&&(a+=" else { ");}return a},_f=xf,Pf={add:function(e,t){var i=this.RULES;if(i.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!Cf.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var n=t.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)o(e,n[r],t);else o(e,n,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0));}function o(e,t,n){for(var r,a=0;a<i.length;a++){var o=i[a];if(o.type==t){r=o;break}}r||(r={type:t,rules:[]},i.push(r));var s={keyword:e,definition:n,custom:!0,code:Sf,implements:n.implements};r.rules.push(s),i.custom[e]=s;}return i.keywords[e]=i.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var i=0;i<t.length;i++)for(var n=t[i].rules,r=0;r<n.length;r++)if(n[r].keyword==e){n.splice(r,1);break}return this},validate:function e(t,i){e.errors=null;var n=this._validateKeyword=this._validateKeyword||this.compile(_f,!0);if(n(t))return !0;if(e.errors=n.errors,i)throw new Error("custom keyword definition is invalid: "+this.errorsText(n.errors));return !1}},wf={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1},If=function e(t,i,n,r){var a=this,o=this._opts,s=[void 0],l={},u=[],d={},c=[],h={},p=[];i=i||{schema:t,refVal:s,refs:l};var m=Dm.call(this,t,i,r),f=this._compilations[m.index];if(m.compiling)return f.callValidate=function e(){var t=f.validate,i=t.apply(this,arguments);return e.errors=t.errors,i};var g=this._formats,y=this.RULES;try{var v=x(t,i,n,r);f.validate=v;var b=f.callValidate;return b&&(b.schema=v.schema,b.errors=null,b.refs=v.refs,b.refVal=v.refVal,b.root=v.root,b.$async=v.$async,o.sourceCode&&(b.source=v.source)),v}finally{Mm.call(this,t,i,r);}function x(t,n,r,d){var h=!n||n&&n.schema==t;if(n.schema!=i.schema)return e.call(a,t,n,r,d);var m,f=!0===t.$async,v=Am({isTop:!0,schema:t,isRoot:h,baseId:d,root:n,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Im.MissingRef,RULES:y,validate:Am,util:wm,resolve:Pm,resolveRef:C,usePattern:P,useDefault:w,useCustomRule:I,opts:o,formats:g,logger:a.logger,self:a});v=Bm(s,Vm)+Bm(u,Em)+Bm(c,jm)+Bm(p,Rm)+v,o.processCode&&(v=o.processCode(v,t));try{m=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",v)(a,y,g,i,s,c,p,km,Om,Fm),s[0]=m;}catch(e){throw a.logger.error("Error compiling schema, function code:",v),e}return m.schema=t,m.errors=null,m.refs=l,m.refVal=s,m.root=h?m:n,f&&(m.$async=!0),!0===o.sourceCode&&(m.source={code:v,patterns:u,defaults:c}),m}function C(t,r,u){r=Pm.url(t,r);var d,c,h=l[r];if(void 0!==h)return _(d=s[h],c="refVal["+h+"]");if(!u&&i.refs){var p=i.refs[r];if(void 0!==p)return _(d=i.refVal[p],c=S(r,d))}c=S(r);var m=Pm.call(a,x,i,r);if(void 0===m){var f=n&&n[r];f&&(m=Pm.inlineRef(f,o.inlineRefs)?f:e.call(a,f,i,n,t));}if(void 0!==m)return function(e,t){var i=l[e];s[i]=t;}(r,m),_(m,c);!function(e){delete l[e];}(r);}function S(e,t){var i=s.length;return s[i]=t,l[e]=i,"refVal"+i}function _(e,t){return "object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function P(e){var t=d[e];return void 0===t&&(t=d[e]=u.length,u[t]=e),"pattern"+t}function w(e){switch(typeof e){case"boolean":case"number":return ""+e;case"string":return wm.toQuotedString(e);case"object":if(null===e)return "null";var t=Tm(e),i=h[t];return void 0===i&&(i=h[t]=c.length,c[i]=e),"default"+i}}function I(e,t,i,n){if(!1!==a._opts.validateSchema){var r=e.definition.dependencies;if(r&&!r.every((function(e){return Object.prototype.hasOwnProperty.call(i,e)})))throw new Error("parent schema must have all required keywords: "+r.join(","));var s=e.definition.validateSchema;if(s&&!s(t)){var l="keyword schema is invalid: "+a.errorsText(s.errors);if("log"!=a._opts.validateSchema)throw new Error(l);a.logger.error(l);}}var u,d=e.definition.compile,c=e.definition.inline,h=e.definition.macro;if(d)u=d.call(a,t,i,n);else if(h)u=h.call(a,t,i,n),!1!==o.validateSchema&&a.validateSchema(u,!0);else if(c)u=c.call(a,n,e.keyword,t,i);else if(!(u=e.definition.validate))return;if(void 0===u)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var m=p.length;return p[m]=u,{code:"customRule"+m,validate:u}}},Tf=nm,Af=Nm.exports,Of=Yp,kf=Sm,Ff=ef,Df=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var n,r=t[i].split("/"),a=e;for(n=1;n<r.length;n++)a=a[r[n]];for(n=0;n<gf.length;n++){var o=gf[n],s=a[o];s&&(a[o]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]});}}return e},Mf=Mp,Lf=Nf;Nf.prototype.validate=function(e,t){var i;if("string"==typeof e){if(!(i=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else {var n=this._addSchema(e);i=n.validate||this._compile(n);}var r=i(t);return !0!==i.$async&&(this.errors=i.errors),r},Nf.prototype.compile=function(e,t){var i=this._addSchema(e,void 0,t);return i.validate||this._compile(i)},Nf.prototype.addSchema=function(e,t,i,n){if(Array.isArray(e)){for(var r=0;r<e.length;r++)this.addSchema(e[r],void 0,i,n);return this}var a=this._getId(e);if(void 0!==a&&"string"!=typeof a)throw new Error("schema id must be string");return qf(this,t=Tf.normalizeId(t||a)),this._schemas[t]=this._addSchema(e,i,n,!0),this},Nf.prototype.addMetaSchema=function(e,t,i){return this.addSchema(e,t,i,!0),this},Nf.prototype.validateSchema=function(e,t){var i=e.$schema;if(void 0!==i&&"string"!=typeof i)throw new Error("$schema must be a string");if(!(i=i||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(Vf)?Vf:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(i,e);if(!n&&t){var r="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(r);this.logger.error(r);}return n},Nf.prototype.getSchema=function(e){var t=Wf(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var i=Tf.schema.call(e,{schema:{}},t);if(i){var n=i.schema,r=i.root,a=i.baseId,o=If.call(e,n,r,void 0,a);return e._fragments[t]=new Of({ref:t,fragment:!0,schema:n,root:r,baseId:a,validate:o}),o}}(this,e)}},Nf.prototype.removeSchema=function(e){if(e instanceof RegExp)return zf(this,this._schemas,e),zf(this,this._refs,e),this;switch(typeof e){case"undefined":return zf(this,this._schemas),zf(this,this._refs),this._cache.clear(),this;case"string":var t=Wf(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var i=this._opts.serialize,n=i?i(e):e;this._cache.del(n);var r=this._getId(e);r&&(r=Tf.normalizeId(r),delete this._schemas[r],delete this._refs[r]);}return this},Nf.prototype.addFormat=function(e,t){return "string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},Nf.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return "No errors";for(var i=void 0===(t=t||{}).separator?", ":t.separator,n=void 0===t.dataVar?"data":t.dataVar,r="",a=0;a<e.length;a++){var o=e[a];o&&(r+=n+o.dataPath+" "+o.message+i);}return r.slice(0,-i.length)},Nf.prototype._addSchema=function(e,t,i,n){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var r=this._opts.serialize,a=r?r(e):e,o=this._cache.get(a);if(o)return o;n=n||!1!==this._opts.addUsedSchema;var s=Tf.normalizeId(this._getId(e));s&&n&&qf(this,s);var l,u=!1!==this._opts.validateSchema&&!t;u&&!(l=s&&s==Tf.normalizeId(e.$schema))&&this.validateSchema(e,!0);var d=Tf.ids.call(this,e),c=new Of({id:s,schema:e,localRefs:d,cacheKey:a,meta:i});return "#"!=s[0]&&n&&(this._refs[s]=c),this._cache.put(a,c),u&&l&&this.validateSchema(e,!0),c},Nf.prototype._compile=function(e,t){if(e.compiling)return e.validate=r,r.schema=e.schema,r.errors=null,r.root=t||r,!0===e.schema.$async&&(r.$async=!0),r;var i,n;e.compiling=!0,e.meta&&(i=this._opts,this._opts=this._metaOpts);try{n=If.call(this,e.schema,t,e.localRefs);}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=i);}return e.validate=n,e.refs=n.refs,e.refVal=n.refVal,e.root=n.root,n;function r(){var t=e.validate,i=t.apply(this,arguments);return r.errors=t.errors,i}},Nf.prototype.compileAsync=function e(t,i,n){var r=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof i&&(n=i,i=void 0);var a=o(t).then((function(){var e=r._addSchema(t,void 0,i);return e.validate||s(e)}));return n&&a.then((function(e){n(null,e);}),n),a;function o(t){var i=t.$schema;return i&&!r.getSchema(i)?e.call(r,{$ref:i},!0):Promise.resolve()}function s(e){try{return r._compile(e)}catch(t){if(t instanceof yf)return function(t){var n=t.missingSchema;if(u(n))throw new Error("Schema "+n+" is loaded but "+t.missingRef+" cannot be resolved");var a=r._loadingSchemas[n];return a||(a=r._loadingSchemas[n]=r._opts.loadSchema(n)).then(l,l),a.then((function(e){if(!u(n))return o(e).then((function(){u(n)||r.addSchema(e,n,void 0,i);}))})).then((function(){return s(e)}));function l(){delete r._loadingSchemas[n];}function u(e){return r._refs[e]||r._schemas[e]}}(t);throw t}}};var Ef=Pf;Nf.prototype.addKeyword=Ef.add,Nf.prototype.getKeyword=Ef.get,Nf.prototype.removeKeyword=Ef.remove,Nf.prototype.validateKeyword=Ef.validate;var jf=bm;Nf.ValidationError=jf.Validation,Nf.MissingRefError=jf.MissingRef,Nf.$dataMetaSchema=Df;var Vf="http://json-schema.org/draft-07/schema",Rf=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Bf=["/properties"];function Nf(e){if(!(this instanceof Nf))return new Nf(e);e=this._opts=Mf.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:$f,warn:$f,error:$f};else {if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t;}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=Ff(e.format),this._cache=e.cache||new Af,this._loadingSchemas={},this._compilations=[],this.RULES=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=ff(t),e.types=ff(["number","integer","string","array","object","boolean","null"]),e.forEach((function(i){i.rules=i.rules.map((function(i){var n;if("object"==typeof i){var r=Object.keys(i)[0];n=i[r],i=r,n.forEach((function(i){t.push(i),e.all[i]=!0;}));}return t.push(i),e.all[i]={keyword:i,code:mf[i],implements:n}})),e.all.$comment={keyword:"$comment",code:mf.$comment},i.type&&(e.types[i.type]=i);})),e.keywords=ff(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}(),this._getId=function(e){switch(e.schemaId){case"auto":return Uf;case"id":return Hf;default:return Gf}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=kf),this._metaOpts=function(e){for(var t=Mf.copy(e._opts),i=0;i<Rf.length;i++)delete t[Rf[i]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var i=e._opts.formats[t];e.addFormat(t,i);}}(this),e.keywords&&function(e){for(var t in e._opts.keywords){var i=e._opts.keywords[t];e.addKeyword(t,i);}}(this),function(e){var t;if(e._opts.$data&&(t=wf,e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var i=vf;e._opts.$data&&(i=Df(i,Bf)),e.addMetaSchema(i,Vf,!0),e._refs["http://json-schema.org/schema"]=Vf;}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var i in t)e.addSchema(t[i],i);}(this);}function Wf(e,t){return t=Tf.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function zf(e,t,i){for(var n in t){var r=t[n];r.meta||i&&!i.test(n)||(e._cache.del(r.cacheKey),delete t[n]);}}function Hf(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function Gf(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function Uf(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function qf(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function $f(){}function Yf(e,t){return ns(this,void 0,void 0,(function*(){let i=e;return void 0!==i&&(i=yield Promise.all(i.map((e=>ns(this,void 0,void 0,(function*(){return Dh(t,e)})))))),i}))}function Kf(e){var t;const{chartConfig:i,layer:n,inlineData:r}=e;let a;if(void 0!==n)a={type:Mo,layer:{id:null!==(t=n.id)&&void 0!==t?t:0,layerType:"ArcGISFeatureLayer"}},null!==n.url&&void 0!==n.url&&(a.layer.url=n.url);else if(void 0!==r){const{inputData:e,processed:t,configFields:i}=null!=r?r:{};a={type:"inline",data:e,processed:t,configFields:i};}return Object.assign(Object.assign({},i),{dataSource:a})}function Xf(e,t){let i=0;if(e!==t){const n=e.split("."),r=t.split(".");for(let e=0;e<n.length;e+=1){const t=parseInt(n[e],10),a=parseInt(r[e],10);if(t>a||Number.isNaN(a)){i=1;break}if(t<a){i=-1;break}}}return i}function Jf(e){let t="same",i=[];var n;if(!0===(void 0!==(n=e)&&/^([1-9]\d*|0)(\.(([1-9]\d*)|0)){2}$/.test(n))&&void 0!==e){Op.sort(Xf);const n=Xf(e,Op[Op.length-1]);if(1===n?t=Eo:-1===n&&(t="older"),t===Eo||"same"===t)i.push(e);else {for(let t=Op.length-2;t>=0;t-=1)if(Xf(e,Op[t])>=0){i=Op.slice(t,Op.length);break}0===i.length&&i.push("1.0.0");}}else t=jo,i.push("unrecognized.version");return {versionStatus:t,versions:i}}function Zf(e,t){return Object.assign(Object.assign({},e),{$ref:`#/definitions/${t}`})}const Qf=function(){const e=new Lf({allErrors:!0});return (t,i)=>ns(this,void 0,void 0,(function*(){let n=kp;i===wo&&(n=Zf(kp,"WebGaugeChart")),void 0===(null==t?void 0:t.dataSource)&&(n=Zf(kp,"WebMapWebChart"));const r=e.compile(n);r(t);let a=[];return null!==r.errors&&void 0!==r.errors&&(a=yield function(e){return ns(this,void 0,void 0,(function*(){const t=yield Jh();return e.map((e=>{let i=e;const n="."===e.dataPath[0]?e.dataPath.substring(1):e.dataPath;switch(e.keyword){case op:i=Object.assign(Object.assign({},e),{message:pd(t.requiredProperty,{dataPath:n,missingProperty:e.params.missingProperty})});break;case sp:i=Object.assign(Object.assign({},e),{message:pd(t.minLength,{dataPath:n,limit:e.params.limit.toString()})});break;case lp:i=Object.assign(Object.assign({},e),{message:pd(t.minItems,{dataPath:n,limit:e.params.limit.toString()})});break;case up:i=Object.assign(Object.assign({},e),{message:pd(t.maxItems,{dataPath:n,limit:e.params.limit.toString()})});break;case dp:"\\w+"===e.params.pattern&&(i=Object.assign(Object.assign({},e),{message:pd(t.whiteSpacePattern,{dataPath:n}),params:{}}));break;case cp:i=Object.assign(Object.assign({},e),{message:pd(t.additionalProperty,{dataPath:n,additionalProperty:e.params.additionalProperty})});break;case hp:i=Object.assign(Object.assign({},e),{message:pd(t.enumValues,{dataPath:n,allowedValues:e.params.allowedValues.join(", ")})});break;case pp:{let r=[];"#/properties/legend/anyOf"===e.schemaPath&&(r=kp.definitions.WebChart.properties.legend.anyOf.map((e=>function(e){const t=e.lastIndexOf("/");return -1!==t?e.slice(t+1):e}(e.$ref)))),i=Object.assign(Object.assign({},e),{params:r,message:pd(t.anyOfValues,{dataPath:n,schemaOptions:r.join(", ")})});break}}return i}))}))}(r.errors)),a}))}();function eg(e){return ns(this,void 0,void 0,(function*(){const{input:t,seriesType:i,queryObject:n}=e;let r;if(Jf(null==t?void 0:t.version).versionStatus===Eo)r={valid:!0,schemaErrors:[],customErrors:[],warnings:[]};else {const e=yield Qf(t,i);let a=[],o=[];void 0!==t&&0===e.length&&(o=yield function(e){return ns(this,void 0,void 0,(function*(){let t=[];if(void 0!==e){const i=yield function(e){var t,i,n;return ns(this,void 0,void 0,(function*(){let r;const a=yield Jh(),o=vh(e);try{yield o.load();}catch(e){const s=null!==(t=null==o?void 0:o.url)&&void 0!==t?t:"",l=null!==(n=null===(i=null==o?void 0:o.portalItem)||void 0===i?void 0:i.id)&&void 0!==n?n:"";r={keyword:$h,message:pd(a.layerLoadFailure,{url:s,portalItemId:l}),params:{url:s,portalItemId:l}};}return r}))}(e);void 0!==i&&(t=t.concat(i));}return t}))}(n),0===o.length&&(a=yield function(e,t){return ns(this,void 0,void 0,(function*(){let i=[];if(void 0!==t){const n=yield function(e,t){var i;return ns(this,void 0,void 0,(function*(){const n=yield bh(t),r=[],a=yield Jh();for(let t=0;t<e.length;t+=1){const o=null===(i=e[t].query)||void 0===i?void 0:i.outStatistics;if(void 0!==o)for(let e=0;e<o.length;e+=1){const i=o[e],s=xh(i.onStatisticField,n);if(void 0!==s&&!1===Sh(s)&&i.statisticType!==yo){const n=`series[${t}].query.outStatistics[${e}]`;r.push({keyword:rp,message:pd(a.nonNumericAggregation,{dataPath:n}),dataPath:n,params:{fieldName:i.onStatisticField,fieldType:s.type,aggregationRequested:i.statisticType}});}}}return r}))}(e.series,t);i=i.concat(n);}return i=i.concat(yield function(e){return ns(this,void 0,void 0,(function*(){const t=[],i=yield Jh();if(void 0!==e&&e.series.length>1){const n=new Set;let r=0;e.series.forEach(((e,a)=>{if(n.add(e.id),n.size===r){const n=`series[${a}].id`;t.push({keyword:ap,message:pd(i.duplicateSeriesID,{dataPath:n,seriesID:e.id,seriesName:e.name}),dataPath:n,params:{seriesId:e.id,seriesName:e.name}});}else r+=1;}));}return t}))}(e)),i}))}(t,n))),r={valid:0===e.length&&0===a.length&&0===o.length,schemaErrors:e,customErrors:o,warnings:a};}return r}))}function tg(e){return ns(this,void 0,void 0,(function*(){const{invalidType:t,elementCount:i,chartLimits:n,seriesCount:r}=e,a=yield Jh(),o=yield function(e=fd().locale){return ns(this,void 0,void 0,(function*(){let t=yield import('./common.t9n.en-f7b19882-bbdeeaea-b2d6f268.js');switch(e){case dd.Arabic:t=yield import('./common.t9n.ar-c5961b08-b09d0228-48f6516b.js');break;case dd.Bosnian:t=yield import('./common.t9n.bs-cc2f2e4d-a6895ed2-e6d8e5ce.js');break;case dd.Bulgarian:t=yield import('./common.t9n.bg-890dfa75-52deaf49-b7f2ccf0.js');break;case dd.Catalan:t=yield import('./common.t9n.ca-a45af6db-ebac5e94-49c3ae2c.js');break;case dd.Czech:t=yield import('./common.t9n.cs-9b94e671-10ae6572-cbf10ce8.js');break;case dd.Danish:t=yield import('./common.t9n.da-622ff081-03885d4a-d66fc868.js');break;case dd.German:t=yield import('./common.t9n.de-bbcc2f7f-500c948a-878c837a.js');break;case dd.Greek:t=yield import('./common.t9n.el-fd1266d7-000c5e5f-e584bdfa.js');break;case dd.EnglishUSA:t=yield import('./common.t9n.en-US-6a425b97-cc283446-c9fb8796.js');break;case dd.Spanish:t=yield import('./common.t9n.es-ac28c2f5-77bcf947-3f297939.js');break;case dd.Estonian:t=yield import('./common.t9n.et-734a7f62-6ded1e15-10be6790.js');break;case dd.Finnish:t=yield import('./common.t9n.fi-970b0f38-746dbd55-ee1a3d4b.js');break;case dd.French:t=yield import('./common.t9n.fr-643368de-e73298ad-7e9fc44c.js');break;case dd.Hebrew:t=yield import('./common.t9n.he-f0dfc3a8-3c26c1b6-0708a456.js');break;case dd.Croatian:t=yield import('./common.t9n.hr-751570b2-d5ba5484-149b00de.js');break;case dd.Hungarian:t=yield import('./common.t9n.hu-ab64b992-37ab1219-6d53d98b.js');break;case dd.Indonesian:t=yield import('./common.t9n.id-996b047b-97a2e5e8-47a0560a.js');break;case dd.Italian:t=yield import('./common.t9n.it-8bf89e83-94888f56-83a42e2f.js');break;case dd.Japanese:t=yield import('./common.t9n.ja-a830b5da-ada84e3d-25dfe155.js');break;case dd.Korean:t=yield import('./common.t9n.ko-10c933b4-64ef2429-8882e5d2.js');break;case dd.Lithuanian:t=yield import('./common.t9n.lt-81834350-4e11d5d6-c4793303.js');break;case dd.Latvian:t=yield import('./common.t9n.lv-693d06ed-1afa6f7d-4aad88c4.js');break;case dd.NorwegianBokml:t=yield import('./common.t9n.nb-1f9bf937-2898ac3d-b54a328b.js');break;case dd.Dutch:t=yield import('./common.t9n.nl-6f8c5b7d-a16b9fd6-0a208d05.js');break;case dd.Polish:t=yield import('./common.t9n.pl-93b4e96b-923b3e83-08869de9.js');break;case dd.PortugueseBrazil:t=yield import('./common.t9n.pt-BR-aaffec26-c5cec3fb-e8f0e9ad.js');break;case dd.PortuguesePortugal:t=yield import('./common.t9n.pt-PT-f50d1dcd-b98a5b9e-4f6baaf3.js');break;case dd.Romanian:t=yield import('./common.t9n.ro-3eda6813-38208e5f-9184deae.js');break;case dd.Russian:t=yield import('./common.t9n.ru-19fb8d05-238b47b7-98d333d0.js');break;case dd.Serbian:t=yield import('./common.t9n.sr-3cfd243d-1e73a4ad-57c8c418.js');break;case dd.Slovak:t=yield import('./common.t9n.sk-5e429fb0-907a2880-4fb211b2.js');break;case dd.Slovenian:t=yield import('./common.t9n.sl-957c489b-c6cce2d6-bbae8e14.js');break;case dd.Swedish:t=yield import('./common.t9n.sv-93e55328-b22f832c-4da29b7d.js');break;case dd.Thai:t=yield import('./common.t9n.th-1bd5e545-f4cde53c-c52384c1.js');break;case dd.Turkish:t=yield import('./common.t9n.tr-0238e090-79fc40a4-408187ea.js');break;case dd.Ukrainian:t=yield import('./common.t9n.uk-7cc71d69-4f4e549e-98c6fe7d.js');break;case dd.Vietnamese:t=yield import('./common.t9n.vi-b93ccd68-ba526561-c9c2b539.js');break;case dd.ChineseChina:t=yield import('./common.t9n.zh-CN-8ecc5de8-85adc763-bb48943f.js');break;case dd.ChineseHongKong:t=yield import('./common.t9n.zh-HK-d957cbd9-0c53a6aa-559ffd7d.js');break;case dd.ChineseTaiwan:t=yield import('./common.t9n.zh-TW-f69b18ef-c389c8e4-a29ae075.js');}return t}))}();let s,l=a.defaultInvalidChart;const u=fd().formatLocale,d=new Intl.NumberFormat(u),c=Dd(n);switch(t){case yp:{let e=NaN,t=NaN,n="";1===r?(n=a.uniqueSeriesBarCountCannotExceedLimit,e=c.maxBarUniqueSeriesCountTotal):2===r?(n=a.twoSeriesBarCountCannotExceedLimit,e=c.maxBarTwoSeriesCountTotal,t=c.maxBarTwoSeriesCountPerSeries):void 0!==r&&r>2&&(n=a.threePlusSeriesBarCountCannotExceedLimit,e=c.maxBarThreePlusSeriesCountTotal,t=c.maxBarThreePlusSeriesCountPerSeries),l=pd(n,{totalLimit:d.format(e),seriesLimit:d.format(t),elementCount:void 0!==i?d.format(i):""}),s={actualCount:null!=i?i:NaN,totalLimit:e,seriesLimit:t};break}case vp:{const e=a.lineChartSeriesAndMarkersCannotExceedLimit,t=c.maxLineChartMarkersCountTotal,n=c.maxLineChartSeriesCount,o=d.format(t),u=d.format(n),h=void 0!==i?d.format(i):"";l=pd(e,{seriesCount:void 0!==r?d.format(r):"",elementCount:h,seriesLimit:u,totalLimit:o}),s={actualCount:null!=i?i:NaN,totalLimit:t,seriesLimit:n};}break;case bp:{const e=a.pieChartSlicesCannotExceedLimit,t=c.maxPieChartSliceCountTotal,n=d.format(t);l=pd(e,{sliceCount:void 0!==i?d.format(i):"",totalLimit:n}),s={actualCount:null!=i?i:NaN,totalLimit:t};}break;case xp:{const e=a.gaugeCannotExceedLimit,t=c.maxGaugeByFeaturesLimit,n=d.format(t);l=pd(e,{featureCount:void 0!==i?d.format(i):"",totalLimit:n}),s={actualCount:null!=i?i:NaN,totalLimit:t};}break;case Cp:l=a.pieChartCannotHaveMixtureOfPositiveAndNegativeSlices;break;case Sp:l=a.negativeValueInDataForSqrtTransformation;break;case _p:l=a.negativeValueInDataForLogTransformation;break;case gp:l=a.histogramEmptyField;break;case fp:l=o.noDataMessage;}return {keyword:null!=t?t:mp,message:l,params:s}}))}function ig(e){let t=Nu(e);return void 0!==e&&(t=function(e){var t,i;let n=Nu(e);if(void 0!==e&&!1===qu(e.series)&&ih(e.series)===wo&&void 0!==(null===(t=e.axes)||void 0===t?void 0:t[0])){const t=e.axes[0];!0===(null===(i=t.ticks)||void 0===i?void 0:i.hasOwnProperty("spacing"))&&delete t.ticks.spacing,n.axes[0]=t;}return n}(t)),t}function ng(e){let t=Nu(e);return void 0!==e&&(t=function(e){var t,i;let n=Nu(e);const{extent:r}=null!==(i=null===(t=n.series[0])||void 0===t?void 0:t.query)&&void 0!==i?i:{};return void 0!==r&&(n.dataFilters=Object.assign(Object.assign({},n.dataFilters),{geometry:r}),n.series.forEach((e=>{var t;null===(t=e.query)||void 0===t||delete t.extent;}))),n}(t)),t}function rg(e){let t=Nu(e);return void 0!==e&&(t=function(e){var t;let i=Nu(e);if(void 0!==e&&!1===qu(e.series)){const n=ih(e.series);1==(n===To||n===Io||n===Oo)&&void 0===e.rotated&&(i.rotated=null!==(t=e.series[0].rotated)&&void 0!==t&&t),i.series.forEach((e=>{void 0!==e.rotated&&delete e.rotated;}));}return i}(t)),t}function ag(e){let t=Nu(e);return void 0!==e&&(t=function(e){let t=Nu(e);const i=e.dataSource;return void 0!==e&&"dataSource"in t&&!1===qu(i)&&("featureLayer"===i.type&&(t.dataSource.type="layer"),"featureLayer"in i&&(t.dataSource.layer=i.featureLayer,delete t.dataSource.featureLayer)),t}(t)),t}function og(e){let t=Nu(e);return void 0!==e&&(t=function(e){var t,i;let n=Nu(e);if("dataSource"in e){const r=e.dataSource;if(void 0!==(null==r?void 0:r.filter)&&""!==(null===(t=r.filter)||void 0===t?void 0:t.trim())){const e=Wh([r.filter,null===(i=n.dataFilters)||void 0===i?void 0:i.where]);n.dataFilters=Object.assign(Object.assign({},n.dataFilters),{where:e}),delete n.dataSource.filter;}}return n}(t)),t}function sg(e,t){var i;return ns(this,void 0,void 0,(function*(){const n=null!==(i=null==e?void 0:e.version)&&void 0!==i?i:"1.0.0";let r=e;const{versionStatus:a,versions:o}=Jf(n);return void 0===r||"older"!==a&&a!==jo||(r=yield function(e){return ns(this,void 0,void 0,(function*(){const{versionsToConvert:t=[],configToUpdate:i,layer:n}=e;let r=Nu(i);return t.length>0&&void 0!==i&&(r=yield function(e,t){return ns(this,void 0,void 0,(function*(){let i=Nu(e);return void 0!==i&&(i=function(e){var t,i;const n=Nu(e);return void 0===e||void 0!==e.id&&""!==e.id&&e.id!==(null===(i=null===(t=e.title)||void 0===t?void 0:t.content)||void 0===i?void 0:i.text)||(n.id=`Chart_${Date.now()}`),n}(i),i=function(e){var t;const i=Nu(e);return void 0!==e&&!1===qu(e.axes)&&(i.axes=null===(t=e.axes)||void 0===t?void 0:t.map(((t,i)=>{var n,r,a,o,s;const l=t;return delete l.calculateAutomaticMaximum,delete l.calculateAutomaticMinimum,(null===(n=e.series)||void 0===n?void 0:n[0].type)===To&&0===i&&(null===(r=l.valueFormat)||void 0===r?void 0:r.type)===So&&(l.valueFormat={type:"category",characterLimit:11}),void 0!==(null===(s=null===(o=null===(a=l.title)||void 0===a?void 0:a.content)||void 0===o?void 0:o.font)||void 0===s?void 0:s.style)&&(l.title.content.font.style=l.title.content.font.style.toLowerCase()),l}))),i}(i),i=function(e){const t=Nu(e);return void 0!==e&&!1===qu(e.series)&&(t.series=e.series.map(((t,i)=>{var n,r,a;const o=t;void 0===t.id&&(o.id=`Series ${Date.now()}-${i}`);const s=ih(e.series,i);return s!==To&&s!==Io||"median"!==(null===(a=null===(r=null===(n=o.query)||void 0===n?void 0:n.outStatistics)||void 0===r?void 0:r[0])||void 0===a?void 0:a.statisticType)||(o.query.outStatistics[0].statisticType="percentile_cont"),s===To&&void 0!==o.multipleBarType&&(o.stackedType=o.multipleBarType,delete o.multipleBarType),s===Po&&void 0!==o.sliceGrouping&&(o.sliceGrouping.sliceId=bd,void 0!==o.sliceGrouping.groupName&&(o.sliceGrouping=Object.assign(Object.assign({},o.sliceGrouping),{label:o.sliceGrouping.groupName}),delete o.sliceGrouping.groupName),void 0!==o.sliceGrouping.groupSliceSymbol&&(o.sliceGrouping=Object.assign(Object.assign({},o.sliceGrouping),{fillSymbol:o.sliceGrouping.groupSliceSymbol}),delete o.sliceGrouping.groupSliceSymbol)),o}))),t}(i),i=yield function(e,t){var i,n,r;return ns(this,void 0,void 0,(function*(){const a=Object.assign({},e);if(void 0!==e&&(void 0!==t||"dataSource"in e&&(null===(i=e.dataSource)||void 0===i?void 0:i.type)===Mo)&&(null===(n=e.series)||void 0===n?void 0:n.length)>0){const i=null!=t?t:fh(e.dataSource.layer),n=Th(a.series),o=ih(a.series),s=o===wo&&!1===Eh(e)||o===Po&&!0===Lh(e.series),l=o===_o||n===Hd;if(a.series=yield Promise.all(e.series.map((e=>ns(this,void 0,void 0,(function*(){var t;const r=Object.assign({},e);if(!1===s&&(r.x=yield Dh(i,e.x)),void 0!==r.y&&!0===l&&(r.y=yield Dh(i,e.y)),void 0!==e.query){let{where:a,groupByFieldsForStatistics:o,outStatistics:s,orderByFields:l}=e.query;if(o=yield Yf(o,i),void 0!==l){let e=[],t=[];l.forEach((i=>{if(""!==i&&void 0!==i){const n=i.split(" ");e.push(n[0]),t.push(n[1]);}})),e.length>0&&(e=yield Yf(e,i),l=e.map(((e,i)=>`${e} ${t[i]}`)));}if(void 0!==s&&(s=yield Promise.all(s.map((e=>ns(this,void 0,void 0,(function*(){const t=Object.assign({},e);return t.onStatisticField=yield Dh(i,e.onStatisticField),t})))))),void 0!==a&&n===Gd){const n=_h(null===(t=e.query)||void 0===t?void 0:t.where),r=a.split("=");a=`${yield Dh(i,n)}=${r[1].trim()}`;}void 0!==r.query&&(void 0!==a&&(r.query.where=a),void 0!==o&&(r.query.groupByFieldsForStatistics=o),void 0!==s&&(r.query.outStatistics=s),void 0!==l&&(r.query.orderByFields=l));}return r}))))),o===wo&&void 0!==(null===(r=null==e?void 0:e.axes)||void 0===r?void 0:r[0])){const{minimumFromField:t,maximumFromField:n}=e.axes[0];void 0!==t&&(e.axes[0].minimumFromField=yield Dh(i,t)),void 0!==n&&(e.axes[0].maximumFromField=yield Dh(i,n));}}return a}))}(i,t),void 0!==i.legend&&!1===Number.isFinite(i.legend.maxHeight)&&(i.legend.maxHeight=NaN)),i}))}(r,n),t.includes("1.0.0")||t.includes("unrecognized.version")?(r=function(e){let t=Nu(e);return void 0!==e&&(t=function(e){let t=Nu(e);return void 0!==e&&!1===qu(e.series)&&!0===Lh(e.series)&&(t.series=e.series.map((e=>{var t,i,n,r;const a=Nu(e);return void 0!==(null===(i=null===(t=e.query)||void 0===t?void 0:t.orderByFields)||void 0===i?void 0:i[0])&&!0===(null===(r=null===(n=e.query)||void 0===n?void 0:n.orderByFields)||void 0===r?void 0:r[0].includes("arcgis_charts_pie_category_from_fields_name"))&&(a.query.orderByFields[0]=e.query.orderByFields[0].replace("arcgis_charts_pie_category_from_fields_name","arcgis_charts_pie_from_fields_name")),a}))),t}(t)),t}(r),r=ig(r),r=ng(r),r=rg(r),r=ag(r),r=og(r)):t.forEach((e=>{switch(e){case"1.0.1":r=ig(r);break;case"3.4.0":r=ng(r);break;case"4.0.0":r=rg(r);break;case"4.0.1":r=ag(r);break;case"6.2.0":r=og(r);}})),r.version="6.2.1"),r}))}({versionsToConvert:o,configToUpdate:r,layer:t})),r}))}const lg="SelectionByClickOrRange",ug="ProgrammaticSelection",dg="ClearSelection",cg="monoSelection",hg="multiSelection",pg="multiSelectionWithCtrlKey",mg="zoom",fg="none";var gg=function(e){function t(){var t=e.call(this)||this;t.className="Grip";var i=new Fn;t.layout="absolute",t.padding(10,10,10,10),t.margin(3,3,3,3),t.background.fillOpacity=.3,t.background.cornerRadius(10,10,10,10);var n=new Dr;n.element=t.paper.add("path");var r=ra({x:-6,y:0});return r+=aa({x:6,y:0}),r+=ra({x:-8,y:-6}),r+=aa({x:0,y:-12}),r+=aa({x:8,y:-6}),r+=ra({x:-8,y:6}),r+=aa({x:0,y:12}),r+=aa({x:8,y:6}),n.path=r,n.strokeWidth=2,n.fillOpacity=0,n.pixelPerfect=!0,n.padding(0,4,0,4),n.stroke=i.getFor("text"),n.strokeOpacity=.7,n.align="center",n.valign="middle",t.icon=n,t.label.dispose(),t.label=void 0,t.position="right",t.autoHideDelay=3e3,t.events.on("shown",(function(e){t._autoHideTimeout&&t._autoHideTimeout.dispose(),t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout((function(){t.hide();}),t.autoHideDelay));})),t.events.on("down",(function(e){t._autoHideTimeout&&t._autoHideTimeout.dispose();})),t.events.on("out",(function(e){t.autoHideDelay&&(t._autoHideTimeout=t.setTimeout((function(){t.hide();}),t.autoHideDelay));})),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){if(this.setPropertyValue("position",e))switch(e){case"left":this.align="left",this.valign="middle",this.horizontalCenter="left",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=A(30);break;case"right":this.align="right",this.valign="middle",this.horizontalCenter="right",this.verticalCenter="middle",this.icon.rotation=0,this.width=void 0,this.height=A(30);break;case"top":this.align="center",this.valign="top",this.horizontalCenter="middle",this.verticalCenter="top",this.icon.rotation=90,this.width=A(30),this.height=void 0;break;case"bottom":this.align="center",this.valign="bottom",this.horizontalCenter="middle",this.verticalCenter="bottom",this.icon.rotation=90,this.width=A(30),this.height=void 0;break;default:this.align="center",this.valign="middle",this.horizontalCenter="middle",this.verticalCenter="middle",this.icon.rotation=90,this.width=A(30),this.height=void 0;}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHideDelay",{get:function(){return this.getPropertyValue("autoHideDelay")},set:function(e){this.setPropertyValue("autoHideDelay",e);},enumerable:!0,configurable:!0}),t}(Jr);St.registeredClasses.Grip=gg;var yg=function(e){function t(){var t=e.call(this)||this;return t.className="ChartDataItem",t.applyTheme(),t}return x(t,e),t}($r),vg=function(e){function t(){var i=e.call(this)||this;if(i._legend=new Be,i.constructor===t)throw new Error("'Chart' cannot be instantiated directly. Please use a specific chart type.");i.className="Chart";var n=new Kr;i.titles=new At(n),i._disposers.push(new wt(i.titles)),i._disposers.push(n),i.width=A(100),i.height=A(100),i.layout="vertical";var r=i.createChild(Lr);r.shouldClone=!1,r.layout="vertical",r.width=A(100),r.height=A(100),i.chartAndLegendContainer=r;var a=r.createChild(Lr);return a.shouldClone=!1,a.width=A(100),a.height=A(100),i.chartContainer=a,i.showOnInit=!0,i._disposers.push(i._legend),i.titles.events.on("inserted",(function(e){i.processTitle(e),i.updateReaderTitleReferences();}),i,!1),i.titles.events.on("removed",(function(e){i.updateReaderTitleReferences();}),i,!1),i.role="region",i.defaultState.transitionDuration=1,i.applyTheme(),i}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Chart"));},t.prototype.draw=function(){this.fixLayout(),e.prototype.draw.call(this);},t.prototype.fixLayout=function(){var e=this.legend;if(e){var t=this.chartAndLegendContainer,i=this.chartContainer;switch(i.x=void 0,i.y=void 0,"absolute"!=e.position&&(e.x=void 0,e.y=void 0),e.position){case"left":t.layout="horizontal",e.toBack();break;case"right":t.layout="horizontal",e.toFront();break;case"top":t.layout="vertical",e.toBack();break;case"bottom":t.layout="vertical",e.toFront();break;case"absolute":e.isMeasured=!1;}}},t.prototype.feedLegend=function(){},t.prototype.processTitle=function(e){var t=e.newValue;return t.parent=this,t.toBack(),t.shouldClone=!1,t.align="center",t.uidAttr(),t},t.prototype.updateReaderTitleReferences=function(){if(this.titles.length){var e=[];ut(this.titles.iterator(),(function(t){e.push(t.uid);})),this.setSVGAttribute({"aria-labelledby":e.join(" ")});}else this.removeSVGAttribute("aria-labelledby");},Object.defineProperty(t.prototype,"legend",{get:function(){return this._legend.get()},set:function(e){this.setLegend(e);},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(e){var t=this;this._legend.get()!==e&&(e?(e.parent=this.chartAndLegendContainer,this._legend.set(e,e.events.on("propertychanged",(function(e){"position"==e.property&&t.fixLayout();}),void 0,!1)),e.addDisposer(new Ve((function(){t.legend=void 0;})))):this._legend.reset(),this.feedLegend());},t.prototype.dispose=function(){this.legend&&this.legend.dispose(),e.prototype.dispose.call(this);},t.prototype.processConfig=function(t){t&&j(t.legend)&&!j(t.legend.type)&&(t.legend.type="Legend"),e.prototype.processConfig.call(this,t);},t.prototype.copyFrom=function(t){this.titles.copyFrom(t.titles),this.chartContainer.copyFrom(t.chartContainer),t.legend&&(this.legend=t.legend.clone(),this.legend.removeChildren()),e.prototype.copyFrom.call(this,t);},Object.defineProperty(t.prototype,"dragGrip",{get:function(){var e=this;if(!this._dragGrip){var t=this.tooltipContainer.createChild(gg);t.align="right",t.valign="middle",t.hide(0),t.events.on("down",(function(t){t.touch&&(e.interactionsEnabled=!1);})),t.events.on("up",(function(t){e.interactionsEnabled=!0;})),this.events.on("down",(function(e){e.touch&&t.show();})),this._dragGrip=t;}return this._dragGrip},set:function(e){this._dragGrip=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"focusable",{get:function(){return this.parent.focusable},set:function(e){this.parent.focusable=e;},enumerable:!0,configurable:!0}),t}(Yr);St.registeredClasses.Chart=vg,Ur.push({relevant:qr.widthXS,state:function(e,t){if(e instanceof vg){var i=e.states.create(t);return e.pixelPaddingLeft>10&&(i.properties.paddingLeft=10),e.pixelPaddingRight>10&&(i.properties.paddingRight=10),i}return null}}),Ur.push({relevant:qr.heightXS,state:function(e,t){if(e instanceof vg){var i=e.states.create(t);return e.pixelPaddingTop>10&&(i.properties.paddingTop=10),e.pixelPaddingBottom>10&&(i.properties.paddingBottom=10),i}return null}}),Ur.push({relevant:qr.widthXXS,state:function(e,t){if(e instanceof vg){var i=e.states.create(t);return i.properties.paddingLeft=0,i.properties.paddingRight=0,i}return null}}),Ur.push({relevant:qr.heightXXS,state:function(e,t){if(e instanceof vg){var i=e.states.create(t);return i.properties.paddingTop=0,i.properties.paddingBottom=0,i}return null}});var bg=function(e){function t(){var t=e.call(this)||this;return t.className="Bullet",t.isMeasured=!1,t.tooltipX=0,t.tooltipY=0,t.layout="none",t.applyOnClones=!0,t.copyToLegendMarker=!0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){if(this.setPropertyValue("locationX",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate();}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){if(this.setPropertyValue("locationY",e)){var t=this.dataItem;t&&t.component&&t.component.invalidate();}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this.getPropertyValue("xField")},set:function(e){this.setPropertyValue("xField",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this.getPropertyValue("yField")},set:function(e){this.setPropertyValue("yField",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDynamic",{get:function(){return this.getPropertyValue("isDynamic")},set:function(e){this.setPropertyValue("isDynamic",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyToLegendMarker",{get:function(){return this.getPropertyValue("copyToLegendMarker")},set:function(e){this.setPropertyValue("copyToLegendMarker",e);},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.Bullet=bg,Ur.push({relevant:qr.isXS,state:function(e,t){if(e instanceof bg){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var xg=function(e){function t(){var t=e.call(this)||this;return t.childrenCreated=!1,t.className="LegendDataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this._label=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ve((function(){j(e.component)&&e.component.labels.removeValue(t);})));}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueLabel",{get:function(){var e=this;if(!this._valueLabel){var t=this.component.valueLabels.create();this._valueLabel=t,this.addSprite(t),this._disposers.push(t),t.parent=this.itemContainer,this._disposers.push(new Ve((function(){j(e.component)&&e.component.valueLabels.removeValue(t);})));}return this._valueLabel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemContainer",{get:function(){var e=this;if(!this._itemContainer){var t=this.component,i=t.itemContainers.create();i.parent=t,this._itemContainer=i,this.addSprite(i),this._disposers.push(i),i.togglable&&i.events.on("toggled",(function(e){t.toggleDataItem(e.target.dataItem);}),void 0,!1),i.focusable&&(i.events.on("hit",(function(e){t.focusedItem=void 0;}),void 0,!1),i.events.on("focus",(function(e){t.focusedItem=e.target.dataItem;}),void 0,!1),i.events.on("blur",(function(e){t.focusedItem=void 0;}),void 0,!1)),this._disposers.push(new Ve((function(){j(e.component)&&e.component.itemContainers.removeValue(i);}))),this.dataContext.uidAttr&&(i.readerControls=this.dataContext.uidAttr(),i.readerLabelledBy=this.dataContext.uidAttr());var n=this.dataContext;if((n instanceof $r||n instanceof Dr)&&!n.isDisposed()){var r=function(e){i.readerChecked=e.visible,i.events.disableType("toggled"),i.isActive=!e.visible,i.events.enableType("toggled");};n.addDisposer(new Ve((function(){e.component&&e.component.dataItems.remove(e);}))),n instanceof Dr?(i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1)),i.addDisposer(n.events.on("hidden",(function(e){i.readerChecked=!1,i.events.disableType("toggled"),i.isActive=!0,i.events.enableType("toggled");}),void 0,!1)),i.addDisposer(n.events.on("shown",(function(e){i.readerChecked=!0,i.events.disableType("toggled"),i.isActive=!1,i.events.enableType("toggled");}),void 0,!1))):i.addDisposer(n.events.on("visibilitychanged",r,void 0,!1));}}return this._itemContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){var e=this;if(!this._marker){var t=this.component.markers.create();this._marker=t,t.parent=this.itemContainer,this.addSprite(t),this._disposers.push(t),this._disposers.push(new Ve((function(){j(e.component)&&e.component.markers.removeValue(t);})));}return this._marker},enumerable:!0,configurable:!0}),t}($r),Cg=function(){this.createMarker=!0;},Sg=function(e){function t(){var t=e.call(this)||this;t.className="Legend",t.layout="grid",t.setPropertyValue("useDefaultMarker",!1),t.setPropertyValue("scrollable",!1),t.setPropertyValue("contentAlign","center");var i=new Lr;i.applyOnClones=!0,i.padding(8,0,8,0),i.margin(0,10,0,10),i.layout="horizontal",i.clickable=!0,i.focusable=!0,i.role="switch",i.togglable=!0,i.cursorOverStyle=hr.pointer,i.background.fillOpacity=0,t.itemContainers=new At(i),t._disposers.push(new wt(t.itemContainers)),t._disposers.push(t.itemContainers.template),t._disposers.push(Kn().body.events.on("keyup",(function(e){if(Vn.isKey(e.event,"enter")&&t.focusedItem){var i=t.focusedItem,n=i.itemContainer;n.togglable?t.toggleDataItem(i):n.clickable&&n.events.isEnabled("hit")&&(n.dispatchImmediately("hit",{event:e}),t.focusedItem=i);}}),t));var n=new Fn,r=new Lr;r.width=23,r.height=23,r.interactionsEnabled=!1,r.applyOnClones=!0,r.setStateOnChildren=!0,r.background.fillOpacity=0,r.background.strokeOpacity=0,r.propertyFields.fill="fill",r.valign="middle";var a=n.getFor("disabledBackground");r.events.on("childadded",(function(e){var t=e.newValue.states.create("active");t.properties.stroke=a,t.properties.fill=a;})),t.markers=new At(r),t._disposers.push(new wt(t.markers)),t._disposers.push(t.markers.template);var o=r.createChild(Xr);o.width=A(100),o.height=A(100),o.applyOnClones=!0,o.propertyFields.fill="fill",o.strokeOpacity=0;var s=new Kr;s.text="{name}",s.margin(0,5,0,5),s.valign="middle",s.applyOnClones=!0,s.states.create("active").properties.fill=n.getFor("disabledBackground"),t.labels=new At(s),t._disposers.push(new wt(t.labels)),t._disposers.push(t.labels.template),s.interactionsEnabled=!1,s.truncate=!0,s.fullWords=!1;var l=new Kr;return l.margin(0,5,0,0),l.valign="middle",l.width=50,l.align="right",l.textAlign="end",l.applyOnClones=!0,l.states.create("active").properties.fill=n.getFor("disabledBackground"),l.interactionsEnabled=!1,t.valueLabels=new At(l),t._disposers.push(new wt(t.valueLabels)),t._disposers.push(t.valueLabels.template),t.position="bottom",i.states.create("active"),i.setStateOnChildren=!0,t.role="group",t.events.on("layoutvalidated",t.handleScrollbar,t,!1),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Legend"));},t.prototype.createDataItem=function(){return new xg},t.prototype.validateDataElements=function(){this.scrollbar&&(this.scrollbar.start=0,this.scrollbar.end=1),e.prototype.validateDataElements.call(this);},t.prototype.validateDataElement=function(t){e.prototype.validateDataElement.call(this,t);var i=t.itemContainer,n=t.marker;t.label;var r=t.valueLabel;i.readerChecked=t.dataContext.visible,t.dataContext.legendDataItem=t;var a=t.label.maxWidth;t.label.width instanceof T||(t.label.width=void 0),a>0&&(t.label.maxWidth=a),"right"==r.align&&(r.width=void 0);var o=t.dataContext.legendSettings,s=t.dataContext;!s.createLegendMarker||this.useDefaultMarker&&s instanceof Dr?this.markers.template.propertyFields.fill=void 0:t.childrenCreated||(s.createLegendMarker(n),t.childrenCreated=!0),s.updateLegendValue&&s.updateLegendValue(),s.component&&s.component.updateLegendValue&&s.component.updateLegendValue(s),r.invalid&&r.validate(),""==r.text||null==r.text?r.__disabled=!0:r.__disabled=!1,!o||null==o.itemValueText&&null==o.valueText||(r.__disabled=!1);var l=t.dataContext.visible;void 0===l&&(l=!0),l=D(l),t.dataContext.visible=l,i.events.disableType("toggled"),i.isActive=!l,i.isActive?i.setState("active",0):i.setState("default",0),i.events.enableType("toggled");},t.prototype.afterDraw=function(){var t=this,i=this.getPropertyValue("maxWidth"),n=0;this.labels.each((function(e){e.invalid&&(e.maxWidth=void 0,e.validate()),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>n&&(n=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight);}));var r=0;this.valueLabels.each((function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>r&&(r=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight);}));var a=0;this.markers.each((function(e){e.invalid&&e.validate(),e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight>a&&(a=e.measuredWidth+e.pixelMarginLeft+e.pixelMarginRight);}));var o,s=this.itemContainers.template,l=s.pixelMarginRight+s.pixelMarginLeft,u=n+r+a;W(i)?((i-=l)>u&&(i=u),o=i-a-r):o=n,this.labels.each((function(e){("right"==t.valueLabels.template.align||e.measuredWidth>o)&&(e.width instanceof T||(e.width=Math.min(e.maxWidth,o-e.pixelMarginLeft-e.pixelMarginRight),e.maxWidth=e.width));})),"right"==this.valueLabels.template.align&&this.valueLabels.each((function(e){e.width=r-e.pixelMarginRight-e.pixelMarginLeft;})),e.prototype.afterDraw.call(this);},t.prototype.handleScrollbar=function(){var e=this.scrollbar;this.scrollable&&e&&(e.height=this.measuredHeight,e.x=this.measuredWidth-e.pixelWidth-e.pixelMarginLeft,this.contentHeight>this.measuredHeight?(e.visible=!0,e.thumb.height=e.height*this.measuredHeight/this.contentHeight,this.paddingRight=e.pixelWidth+e.pixelMarginLeft+ +e.pixelMarginRight):e.visible=!1,e.handleThumbPosition(),this.updateMasks());},Object.defineProperty(t.prototype,"position",{get:function(){return this.getPropertyValue("position")},set:function(e){this.setPropertyValue("position",e)&&("left"==e||"right"==e?(this.margin(10,5,10,10),this.valign="middle",this.contentAlign="none",this.valueLabels.template.align="right",W(this.maxColumns)||(this.maxColumns=1),this.width=void 0,this.maxWidth=220):(this.maxColumns=void 0,this.width=A(100),this.valueLabels.template.align="left"),this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useDefaultMarker",{get:function(){return this.getPropertyValue("useDefaultMarker")},set:function(e){this.setPropertyValue("useDefaultMarker",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollable",{get:function(){return this.getPropertyValue("scrollable")},set:function(e){if(this.setPropertyValue("scrollable",e,!0))if(e){var t=this.createChild(_a);this.scrollbar=t,t.isMeasured=!1,t.orientation="vertical",t.endGrip.__disabled=!0,t.startGrip.__disabled=!0,t.visible=!1,t.marginLeft=5,this._mouseWheelDisposer=this.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer),this._disposers.push(t.events.on("rangechanged",this.updateMasks,this,!1));}else this._mouseWheelDisposer&&(this._mouseWheelDisposer.dispose(),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=void 0));},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var t=e.shift.y,i=this.scrollbar;if(i){var n=t/1e3*this.measuredHeight/this.contentHeight,r=i.end-i.start;t>0?(i.start=te(0,i.start-n),i.end=i.start+r):(i.end=ie(1,i.end-n),i.start=i.end-r);}},t.prototype.updateMasks=function(){var e=this;this.scrollbar&&this.itemContainers.each((function(t){t.dy=-e.scrollbar.thumb.pixelY*e.contentHeight/e.measuredHeight,t.maskRectangle={x:0,y:-t.dy,width:e.measuredWidth,height:e.measuredHeight};}));},t.prototype.toggleDataItem=function(e){var t=e.dataContext;!t.visible||t.isHiding||t instanceof Dr&&t.isHidden?(e.color=e.colorOrig,t.appeared=!0,e.itemContainer.isActive=!1,!0===t.hidden&&(t.hidden=!1),t.show?t.show():t.visible=!0,this.svgContainer.readerAlert(this.language.translate("%1 shown",this.language.locale,e.label.readerTitle))):(e.itemContainer.isActive=!0,t.appeared=!0,t.hide?t.hide():t.visible=!1,this.svgContainer.readerAlert(this.language.translate("%1 hidden",this.language.locale,e.label.readerTitle)),e.color=(new Fn).getFor("disabledBackground"));},Object.defineProperty(t.prototype,"preloader",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.handleDataItemPropertyChange=function(e,t){e.valueLabel.invalidate(),e.label.invalidate();},t}(Yr);St.registeredClasses.Legend=Sg,Ur.push({relevant:qr.widthXS,state:function(e,t){if(e instanceof Sg&&("left"==e.position||"right"==e.position)){var i=e.states.create(t);return i.properties.position="bottom",i}return null}}),Ur.push({relevant:qr.heightXS,state:function(e,t){if(e instanceof Sg&&("top"==e.position||"bottom"==e.position)){var i=e.states.create(t);return i.properties.position="right",i}return null}}),Ur.push({relevant:qr.isXS,state:function(e,t){if(e instanceof Sg){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var _g=function(e){function t(){var t=e.call(this)||this;return t.className="SeriesDataItem",t.values.value={},t.values.value={},t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new vt,this._disposers.push(new yt(this._bullets))),this._bullets},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.bullets.clear(),e.prototype.dispose.call(this);},Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e);},enumerable:!0,configurable:!0}),t}($r),Pg=function(e){function t(){var i=e.call(this)||this;if(i._ignoreMinMax=!1,i._showBullets=!0,i.legendSettings=new Cg,i._tmin=new vt,i._tmax=new vt,i._smin=new vt,i._smax=new vt,i.dataItemsByAxis=new vt,i.skipFocusThreshold=20,i._itemReaderTextChanged=!1,i.calculatePercent=!1,i.usePercentHack=!0,i.autoDispose=!0,i.simplifiedProcessing=!1,i.constructor===t)throw new Error("'Series' cannot be instantiated directly. Please use a specific series type.");i.className="Series",i.isMeasured=!1,i.layout="none",i.shouldClone=!1,i.setPropertyValue("hidden",!1),i.axisRanges=new Tt,i.axisRanges.events.on("inserted",i.processAxisRange,i,!1),i.minBulletDistance=0,i.mainContainer=i.createChild(Lr),i.mainContainer.shouldClone=!1,i.mainContainer.mask=i.createChild(Dr),i._disposers.push(i.mainContainer);var n=i.mainContainer.createChild(Lr);return i._shouldBeReady.push(n),n.shouldClone=!1,n.layout="none",n.virtualParent=i,i._disposers.push(n),i.bulletsContainer=n,i.tooltip=new Aa,i.tooltip.virtualParent=i,i._disposers.push(i.tooltip),i.hiddenState.transitionEasing=Ui,i.dataItem=i.createDataItem(),i._disposers.push(i.dataItem),i.dataItem.component=i,i.role="group",i.applyTheme(),i}return x(t,e),t.prototype.applyTheme=function(){e.prototype.applyTheme.call(this);},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Series"));},t.prototype.createDataItem=function(){return new _g},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e;},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){},t.prototype.processBullet=function(e){var t=this,i=e.newValue;i.isTemplate=!0,this.events.once("datavalidated",(function(e){t.itemsFocusable()&&(i.focusable=!0);})),this.invalidate();},t.prototype.removeBullet=function(e){var t=e.oldValue;this.dataItems.each((function(e){var i=e.bullets.getKey(t.uid);i&&i.dispose();})),this.invalidate();},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.processValues(!1);},t.prototype.getFirstValue=function(e,t){for(var i=t;i>=0;i--){var n=this.dataItems.getIndex(i).getActualWorkingValue(e);if(W(n))return n}return null},t.prototype.getAbsoluteFirstValue=function(e){for(var t=0;t<this.dataItems.length;t++){var i=this.dataItems.getIndex(t).values[e].value;if(W(i))return i}return null},t.prototype.rangeChangeUpdate=function(){e.prototype.rangeChangeUpdate.call(this),this.processValues(!0);},t.prototype.processValues=function(e){var t=this;if(!this.simplifiedProcessing){var i=this.dataItems,n={},r={},a={},o={},s={},l={},u={},d={},c={},h={},p=te(0,this.startIndex);p=ie(p,this.dataItems.length);var m=ie(this.endIndex,this.dataItems.length);if(W(p)||(p=0),W(m)||(m=this.dataItems.length),p>0){var f=i.getIndex(p-1);tt(f.values,(function(e,t){var i=f.getActualWorkingValue(e);W(i)&&(d[e]=i);}));}for(var g=function(e){var m=i.getIndex(e);tt(m.values,(function(e,i){var f=m.getActualWorkingValue(e);if(W(f)){W(n[e])||(n[e]=0),n[e]++,W(r[e])||(r[e]=0),r[e]+=f,W(a[e])||(a[e]=0),a[e]+=Math.abs(f),W(l[e])||(l[e]=f),u[e]=f,W(o[e])?o[e]>f&&(o[e]=f):o[e]=f,W(s[e])?s[e]<f&&(s[e]=f):s[e]=f,W(c[e])||(c[e]=t.getFirstValue(e,p)),W(h[e])||(h[e]=t.getAbsoluteFirstValue(e)),m.setCalculatedValue(e,f-c[e],"change"),m.setCalculatedValue(e,(f-c[e])/c[e]*100,"changePercent"),m.setCalculatedValue(e,f-h[e],"startChange"),m.setCalculatedValue(e,(f-h[e])/h[e]*100,"startChangePercent");var g=d[e];W(g)||(g=f),m.setCalculatedValue(e,f-g,"previousChange"),m.setCalculatedValue(e,(f-g)/g*100,"previousChangePercent"),d[e]=f;}}));},y=p;y<m;y++)g(y);if(this.calculatePercent){var v=function(e){var n=i.getIndex(e);tt(n.values,(function(e){var i=a[e],r=n.getActualWorkingValue(e);if(W(r))if(i>0){t.usePercentHack&&r==i&&(i=n.values[e].value);var o=r/i*100;n.setCalculatedValue(e,o,"percent");}else n.setCalculatedValue(e,0,"percent");}));};for(y=p;y<m;y++)v(y);}if(p>0){var b=i.getIndex(p-1);tt(b.values,(function(e){var t=b.values[e].value;b.setCalculatedValue(e,t-l[e],"change"),b.setCalculatedValue(e,(t-l[e])/l[e]*100,"changePercent");}));}var x=this.dataItem;tt(x.values,(function(e){x.setCalculatedValue(e,r[e],"sum"),x.setCalculatedValue(e,a[e],"absoluteSum"),x.setCalculatedValue(e,r[e]/n[e],"average"),x.setCalculatedValue(e,l[e],"open"),x.setCalculatedValue(e,u[e],"close"),x.setCalculatedValue(e,o[e],"low"),x.setCalculatedValue(e,s[e],"high"),x.setCalculatedValue(e,n[e],"count");}));}},t.prototype.validate=function(){Ri()&&this.filters.clear(),ut(this.axisRanges.iterator(),(function(e){e.validate();})),e.prototype.validate.call(this);var t=this.bulletsContainer;if(t.fill=this.fill,t.stroke=this.stroke,t.x=this.pixelX,t.y=this.pixelY,this.bulletsContainer.children.length>0)if(this._showBullets){for(var i=0;i<this.startIndex;i++){(n=this.dataItems.getIndex(i))&&n.bullets.each((function(e,t){t.__disabled=!0;}));}for(i=this.dataItems.length-1;i>this.endIndex;i--){var n;(n=this.dataItems.getIndex(i))&&n.bullets.each((function(e,t){t.__disabled=!0;}));}}else this.bulletsContainer.children.each((function(e){e.__disabled=!0;}));this.updateTooltipBounds();},t.prototype.updateTooltipBounds=function(){if(this.topParent){var e={x:0,y:0,width:this.topParent.maxWidth,height:this.topParent.maxHeight};this.tooltip.setBounds(e);}},t.prototype.shouldCreateBullet=function(e,t){return !0},t.prototype.validateDataElement=function(t){var i=this;e.prototype.validateDataElement.call(this,t),this._showBullets?(this.isHidden||(this.bulletsContainer.visible=!0),this.bullets.each((function(e){var n=t.bullets.getKey(e.uid);if(i.shouldCreateBullet(t,e)){if(!n){var r=e.propertyFields.disabled,a=t.dataContext;r&&a&&!1===a[r]?(e.applyOnClones=!1,e.disabled=!1,n=e.clone(),e.disabled=!0,e.applyOnClones=!0):n=e.clone(),n.shouldClone=!1,t.addSprite(n),i.visible&&!i.isHiding||n.hide(0);}var o=n.dataItem;if(o!=t){o&&o.bullets.setKey(e.uid,void 0);var s=i.itemReaderText;n instanceof bg&&(s||(s="{"+n.xField+"}: {"+n.yField+"}"),n.isDynamic&&(t.events.on("workingvaluechanged",n.deepInvalidate,n,!1),i.dataItem.events.on("workingvaluechanged",n.deepInvalidate,n,!1)),n.deepInvalidate()),n.focusable&&(n.events.on("focus",(function(e){n.readerTitle=i.populateString(s,n.dataItem);}),void 0,!1),n.events.on("blur",(function(e){n.readerTitle="";}),void 0,!1)),n.hoverable&&(n.events.on("over",(function(e){n.readerTitle=i.populateString(s,n.dataItem);}),void 0,!1),n.events.on("out",(function(e){n.readerTitle="";}),void 0,!1));}n.parent=i.bulletsContainer,t.bullets.setKey(e.uid,n),n.maxWidth=t.itemWidth,n.maxHeight=t.itemHeight,n.__disabled=!1,i.positionBullet(n);}else n&&(n.__disabled=!0);}))):this.bulletsContainer.visible=!1;},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.dataRangeInvalid||this.invalidateProcessedData();},Object.defineProperty(t.prototype,"ignoreMinMax",{get:function(){return this._ignoreMinMax},set:function(e){this._ignoreMinMax=e,this.invalidateDataItems();},enumerable:!0,configurable:!0}),t.prototype.createMask=function(){},t.prototype.processAxisRange=function(e){this.rangesContainer||(this.rangesContainer=this.createChild(Lr),this.rangesContainer.shouldClone=!1,this.rangesContainer.isMeasured=!1);var t=e.newValue;t&&(t.contents.parent=this.rangesContainer,t.isRange=!0,t.events.on("valuechanged",this.invalidateDataItems,this,!1));},t.prototype.getAxisField=function(e){},t.prototype.showTooltipAtPosition=function(e,t){},Object.defineProperty(t.prototype,"minBulletDistance",{get:function(){return this.getPropertyValue("minBulletDistance")},set:function(e){this.setPropertyValue("minBulletDistance",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bullets",{get:function(){return this._bullets||(this._bullets=new At(new bg),this._bullets.template.virtualParent=this,this._bullets.events.on("inserted",this.processBullet,this,!1),this._bullets.events.on("removed",this.removeBullet,this,!1),this._disposers.push(new wt(this._bullets)),this._disposers.push(this._bullets.template)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){},Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.getPropertyValue("hiddenInLegend")},set:function(e){this.setPropertyValue("hiddenInLegend",e)&&this.chart&&this.chart.feedLegend();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e);var t=this.legendDataItem;t&&(t.component.invalidate(),t.component.invalidateRawData()),this.readerTitle=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemReaderText",{get:function(){var e=this._itemReaderText;return e||(this.tooltipText?e=fi(this.tooltipText):this.tooltipHTML&&(e=fi(this.tooltipHTML))),this._adapterO?this._adapterO.apply("itemReaderText",e):e},set:function(e){this._itemReaderText=e,this._itemReaderTextChanged=!0;},enumerable:!0,configurable:!0}),t.prototype.itemsFocusable=function(){return !(this.dataItems.length>=this.skipFocusThreshold)},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate();},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e,t){if(this.legendDataItem){var i=this.legendSettings,n=this.legendDataItem,r=n.label,a=n.valueLabel;e&&!e.isDisposed()||t?(a&&(i.itemValueText&&(a.text=i.itemValueText),a.dataItem=e),r&&(i.itemLabelText&&(r.text=i.itemLabelText),r.dataItem=e)):(r&&((i.labelText||null!=i.itemLabelText)&&(r.text=i.labelText),r.dataItem=this.dataItem),a&&((i.valueText||null!=i.itemValueText)&&(a.text=i.valueText),a.dataItem=this.dataItem));}},t.prototype.copyFrom=function(t){this.bullets.copyFrom(t.bullets),this.bulletsContainer.copyFrom(t.bulletsContainer),this.calculatePercent=t.calculatePercent,this.usePercentHack=t.usePercentHack,this.simplifiedProcessing=t.simplifiedProcessing,e.prototype.copyFrom.call(this,t);},t.prototype.raiseCriticalError=function(e){this._chart&&this._chart.modal&&(this._chart.modal.content=this._chart.adapter.apply("criticalError",e).message,this._chart.modal.closable=!1,this._chart.modal.open(),this._chart.disabled=!0),console.log(e);},t.prototype.applyFilters=function(){var t=this;e.prototype.applyFilters.call(this),this.bulletsContainer.filters.clear(),ut(this.filters.iterator(),(function(e){t.bulletsContainer.filters.push(e.clone());}));},Object.defineProperty(t.prototype,"heatRules",{get:function(){var e=this;return this._heatRules||(this._heatRules=new Tt,this._heatRules.events.on("inserted",(function(t){var i=t.newValue,n=i.target;if(n){var r=i.dataField;j(r)||(r="value");var a=e.dataItem,o=i.property,s=M(i.minValue),l=M(i.maxValue);W(s)||W(l)||e.dataItem.events.on("calculatedvaluechanged",(function(t){t.property==r&&ut(e.dataItems.iterator(),(function(e){var t=!1;we(e.sprites,(function(e){if(e.clonedFrom==n){var i=e;i[o]=i[o],t=!0;}})),t||we(e.sprites,(function(e){e instanceof Lr&&ut(e.children.iterator(),(function(e){if(e.className==n.className){var t=e;t[o]=t[o];}else e instanceof Lr&&e.deepInvalidate();}));}));}));})),e.dataItems.template.events.on("workingvaluechanged",(function(e){if(e.property==r){var t=e.target,i=!1;we(t.sprites,(function(e){if(e.clonedFrom==n){var t=e;t[o]=t[o],i=!0;}})),i||we(t.sprites,(function(e){e instanceof Lr&&ut(e.children.iterator(),(function(e){if(e.className==n.className){var t=e;t[o]=t[o];}else e instanceof Lr&&e.deepInvalidate();}));}));}})),n.adapter.add(o,(function(e,t,n){var o=M(i.minValue),s=M(i.maxValue),l=i.min,u=i.max;if(t instanceof Dr){var d=t.propertyFields[n];if(d&&t.dataItem){var c=t.dataItem.dataContext;if(c&&j(c[d]))return e}}var h=t.dataItem;if((W(o)||(o=a.values[r].low),W(s)||(s=a.values[r].high),h)&&h.values[r]){var p=h.getActualWorkingValue(r);if(j(l)&&j(u)&&W(o)&&W(s)&&W(p)){var m=void 0;if(m=i.logarithmic?(Math.log(p)*Math.LOG10E-Math.log(o)*Math.LOG10E)/(Math.log(s)*Math.LOG10E-Math.log(o)*Math.LOG10E):(p-o)/(s-o),!W(p)||W(m)&&Math.abs(m)!=1/0||(m=.5),W(l))return l+(u-l)*m;if(l instanceof $t)return new $t(zt(l.rgb,u.rgb,m))}}return e}));}}))),this._heatRules},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){var i;if(t){if(j(t.bullets)&&H(t.bullets))for(var n=0,r=t.bullets.length;n<r;n++){var a=t.bullets[n];j(a.type)||(a.type="Bullet");}j(t.heatRules)&&H(t.heatRules)&&(i=t.heatRules,delete t.heatRules);}if(e.prototype.processConfig.call(this,t),i){for(n=0,r=i.length;n<r;n++){var o=i[n],s=this;if(j(o.target)&&N(o.target))if(this.map.hasKey(o.target))s=this.map.getKey(o.target);else for(var l=o.target.split("."),u=0;u<l.length;u++)if(s instanceof Tt){var d=s.getIndex(M(l[u]));s=d||s[l[u]];}else {var c=l[u].match(/^(.*)\[([0-9]+)\]/);s=c?s[c[1]]instanceof Tt?s[c[1]].getIndex(M(c[2])):s[c[1]][M(c[2])]:s[l[u]];}o.target=s,j(o.min)&&(o.min=this.maybeColorOrPercent(o.min)),j(o.max)&&(o.max=this.maybeColorOrPercent(o.max));}e.prototype.processConfig.call(this,{heatRules:i});}},t.prototype.configOrder=function(t,i){return t==i?0:"heatRules"==t?1:"heatRules"==i?-1:e.prototype.configOrder.call(this,t,i)},t.prototype.setVisibility=function(t){e.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t;},t}(Yr);St.registeredClasses.Series=Pg,St.registeredClasses.SeriesDataItem=_g;var wg=function(e){function t(){var t=e.call(this)||this;return t.className="SerialChartDataItem",t.applyTheme(),t}return x(t,e),t}(yg),Ig=function(e){function t(){var t=e.call(this)||this;t.className="SerialChart",t.colors=new ao,t._usesData=!1;var i=t.chartContainer.createChild(Lr);i.shouldClone=!1,i.width=A(100),i.height=A(100),i.isMeasured=!1,i.layout="none",i.zIndex=2,t.seriesContainer=i;var n=t.chartContainer.createChild(Lr);return n.shouldClone=!1,n.width=A(100),n.height=A(100),n.isMeasured=!1,n.zIndex=3,n.layout="none",t.bulletsContainer=n,t.applyTheme(),t}return x(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.colors&&this.colors.dispose(),this.patterns&&this.patterns.dispose();},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Serial chart"));},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new At(this.createSeries()),this._series.events.on("inserted",this.handleSeriesAdded,this,!1),this._series.events.on("removed",this.handleSeriesRemoved,this,!1),this._disposers.push(new wt(this._series,!1)),this._disposers.push(this._series.template)),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),this.dataUsers.each((function(e){e.invalidateDataItems();})),t.autoDispose?t.dispose():(t.parent=void 0,t.bulletsContainer.parent=void 0);var i=this.legend;if(i){for(var n=this.legend.dataItems,r=n.length-1;r>=0;r--){var a=n.getIndex(r);a&&a.dataContext==t&&i.dataItems.remove(a);}for(r=i.data.length-1;r>=0;r--){var o=i.data[r];o&&o==t&&Te(i.data,o);}}},t.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;i.isDisposed()||(i.chart=this,i.parent=this.seriesContainer,i.bulletsContainer.parent=this.bulletsContainer,this._dataUsers.moveValue(i),i.addDisposer(new Ve((function(){t.dataUsers.removeValue(i);}))),this.handleSeriesAdded2(i),this.handleLegendSeriesAdded(i));},t.prototype.handleLegendSeriesAdded=function(e){e.hiddenInLegend||this.legend&&this.legend.addData(e);},t.prototype.handleSeriesAdded2=function(e){var t=this;this.dataInvalid||this._disposers.push(St.events.once("exitframe",(function(){e.data&&0!=e.data.length||(e.data=t.data,e.showOnInit&&(e.reinit(),e.setPropertyValue("showOnInit",!1),e.showOnInit=!0),e.isDisposed()||e.events.once("datavalidated",(function(){e.data==t.data&&(e._data=[]);})));})));},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];ut(this.series.iterator(),(function(e){e.hiddenInLegend||t.push(e);})),e.dataFields.name="name",e.data=t;}},t.prototype.createSeries=function(){return new Pg},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.series.copyFrom(t.series);},t.prototype.appear=function(){e.prototype.appear.call(this),this.series.each((function(e){e.showOnInit&&e.inited&&e.appear();}));},t}(vg);St.registeredClasses.SerialChart=Ig;var Tg=function(e){function t(){var t=e.call(this)||this;t._axis=new Be,t.dataItems=new Tt,t.className="AxisBreak",t.breakSize=.01,t.marginLeft=-5,t.marginRight=-5,t.marginTop=-5,t.marginBottom=-5;var i=new Fn,n=new Na;n.fill=i.getFor("background"),n.stroke=Yt(),n.fillOpacity=.9,n.zIndex=0,t._fillShape=n;var r=new Na;r.fill=Yt(),r.stroke=i.getFor("grid"),r.strokeOpacity=.3,r.zIndex=1,t._startLine=r;var a=new Na;return a.fill=Yt(),a.stroke=Yt("#000000"),a.strokeOpacity=.3,a.zIndex=2,t._endLine=a,t._disposers.push(t._axis),t.applyTheme(),t}return x(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._fillShape&&this._fillShape.dispose(),this._startLine&&this._startLine.dispose(),this._endLine&&this._endLine.dispose();},Object.defineProperty(t.prototype,"startLine",{get:function(){return this._startLine},set:function(e){this._startLine&&this._startLine.dispose(),this._startLine=e,this.addBreakSprite(e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLine",{get:function(){return this._endLine},set:function(e){this._endLine&&this._endLine.dispose(),this._endLine=e,this.addBreakSprite(e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShape",{get:function(){return this._fillShape},set:function(e){this._fillShape&&this._fillShape.dispose(),this._fillShape=e,this.addBreakSprite(e);},enumerable:!0,configurable:!0}),t.prototype.addBreakSprite=function(e){e.parent=this,e.isMeasured=!1,this._disposers.push(e);},Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this._axis.get()!==e){this._axis.set(e,e.renderer.gridContainer.events.on("transformed",this.invalidate,this,!1)),e.renderer.createBreakSprites(this);var t=e.axisBreaks.template;this.startLine.copyFrom(t.startLine),this.endLine.copyFrom(t.endLine),this.fillShape.copyFrom(t.fillShape);}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakSize",{get:function(){return this.getPropertyValue("breakSize")},set:function(e){this.setPropertyValue("breakSize",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.startPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){var e=this.axis.renderer;if(e)return e.positionToPoint(this.endPosition)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){},enumerable:!0,configurable:!0}),t.prototype.draw=function(){(e.prototype.draw.call(this),this.axis)&&this.axis.renderer.updateBreakElement(this);},Object.defineProperty(t.prototype,"startValue",{get:function(){return this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.AxisBreak=Tg;var Ag,Og=function(e){function t(){var t=e.call(this)||this;return t.className="AxisDataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.grid).disabled)return;t=i.clone();}else {if((i=e.renderer.grid.template).disabled)return;t=e.renderer.grid.create(),this._disposers.push(new Ve((function(){e.renderer.grid.removeValue(t);})));}this.grid=t,t.shouldClone=!1,this._disposers.push(t),t.axis=this.component;}}return this._grid},set:function(e){this._grid&&this._grid!=e&&(Te(this.sprites,this._grid),this._grid.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Te(e.dataItem.sprites,e),e.dataItem.grid=void 0),this.addSprite(e)),this._grid=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){if(!this._tick){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.tick).disabled)return;t=i.clone();}else {if((i=e.renderer.ticks.template).disabled)return;t=e.renderer.ticks.create(),this._disposers.push(new Ve((function(){e.renderer.ticks.removeValue(t);})));}this.tick=t,t.axis=this.component,t.shouldClone=!1,this._disposers.push(t);}}return this._tick},set:function(e){this._tick&&this._tick!=e&&(Te(this.sprites,this._tick),this._tick.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Te(e.dataItem.sprites,e),e.dataItem.tick=void 0),this.addSprite(e)),this._tick=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){if(!this._label){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if((i=e.axisRanges.template.label).disabled)return;t=i.clone();}else {if((i=e.renderer.labels.template).disabled)return;t=e.renderer.labels.create(),this._disposers.push(new Ve((function(){e.renderer.labels.removeValue(t);})));}this._disposers.push(t),this.label=t,t.shouldClone=!1,t.axis=this.component,t.virtualParent=e;}}return this._label},set:function(e){this._label&&this._label!=e&&(Te(this.sprites,this._label),this._label.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Te(e.dataItem.sprites,e),e.dataItem.label=void 0),this.addSprite(e)),this._label=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisFill",{get:function(){if(!this._axisFill){var e=this.component;if(e){var t,i=void 0;if(this.isRange){if(i=e.axisRanges.template.axisFill,!this.isTemplate&&i.disabled)return;t=i.clone();}else {if((i=e.renderer.axisFills.template).disabled)return;t=e.renderer.axisFills.create(),this._disposers.push(new Ve((function(){e.renderer.axisFills.removeValue(t);})));}this.axisFill=t,t.shouldClone=!1,this._disposers.push(t);}}return this._axisFill},set:function(e){this._axisFill&&this._axisFill!=e&&(Te(this.sprites,this._axisFill),this._axisFill.dataItem=void 0),e&&(e.dataItem&&e.dataItem!=this&&(Te(e.dataItem.sprites,e),e.dataItem.axisFill=void 0),e.axis=this.component,this.addSprite(e)),this._axisFill=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this._text=e,this._label&&(this._label.text=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){if(!this._contents){var e=new Lr;this.addSprite(e),e.isMeasured=!1,this._contents=e;var t=this.component;if(t){var i=t.renderer.createFill(this.component);i.disabled=!1,i.axis=t,this.addSprite(i),this._mask=i,e.mask=i;}}return this._contents},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisBreak",{get:function(){return this._axisBreak},set:function(e){this._axisBreak&&this._axisBreak.dataItems.removeValue(this),e&&e.dataItems.push(this),this._axisBreak=e;},enumerable:!0,configurable:!0}),t.prototype.validate=function(){this.component&&this.component.validateDataElement(this);},t.prototype.appendChildren=function(){this.component&&this.component.appendDataItem(this);},t.prototype.hasProperty=function(t){return "component"==t||e.prototype.hasProperty.call(this,t)},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.text=t.text,t.bullet&&(this.bullet=t.bullet.clone()),this.minPosition=t.minPosition,this.maxPosition=t.maxPosition;},t.prototype.setVisibility=function(t,i){e.prototype.setVisibility.call(this,t,i),this._contents&&(this._contents.visible=t);},Object.defineProperty(t.prototype,"bullet",{get:function(){return this._bullet},set:function(e){this._bullet&&this._bullet!=e&&(Te(this.sprites,this._bullet),this._bullet.dataItem=void 0),this._bullet=e,e&&this.addSprite(e);},enumerable:!0,configurable:!0}),t}($r);!function(e){e[e.Start=0]="Start",e[e.Middle=.5]="Middle",e[e.End=1]="End";}(Ag||(Ag={}));var kg=function(e){function t(){var i=e.call(this)||this;if(i._gridCount=10,i._series=new Tt,i.autoDispose=!0,i._axisItemCount=0,i.constructor===t)throw new Error("'Axis' cannot be instantiated directly. Please use a specific axis type.");i.hideTooltipWhileZooming=!0,i.minWidth=1e-4,i.minHeight=1e-4,i.className="Axis",i.shouldClone=!1,i.setPropertyValue("cursorTooltipEnabled",!0),i.toggleZoomOutButton=!0,i.zoomable=!0;var n=new Fn;i.title=new Kr,i.title.shouldClone=!1,i._disposers.push(i.title),i.setPropertyValue("startLocation",0),i.setPropertyValue("endLocation",1),i._dataItemsIterator=new mt(i.dataItems,(function(){return i.dataItems.create()})),i._dataItemsIterator.createNewItems=!0;var r=new Aa;i._disposers.push(r),r.label.padding(5,10,5,10),r.background.pointerLength=5,r.fitPointerToBounds=!0,r.background.filters.clear(),r.virtualParent=i;var a=r.background;return a.cornerRadius=0,a.fill=n.getFor("alternativeBackground"),a.stroke=a.fill,a.strokeWidth=1,a.fillOpacity=1,r.label.fill=n.getFor("alternativeText"),i.tooltip=r,i.readerHidden=!0,i.events.on("rangechangestarted",(function(){i.series.each((function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!0);})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!0);}),void 0,!1),i.events.on("rangechangeended",(function(){i.series.each((function(e){e.hideTooltipWhileZooming&&(e.tooltip.hide(),e.tooltip.preventShow=!1);})),i.hideTooltipWhileZooming&&(i.tooltip.hide(),i.tooltip.preventShow=!1);}),void 0,!1),i.applyTheme(),i}return x(t,e),t.prototype.fillRule=function(e,t){W(t)||(t=e.index),t/2==Math.round(t/2)?(e.axisFill.__disabled=!0,e.axisFill.opacity=0):(e.axisFill.opacity=1,e.axisFill.__disabled=!1);},t.prototype.createDataItem=function(){return new Og},t.prototype.invalidateLayout=function(){e.prototype.invalidateLayout.call(this),ut(this.series.iterator(),(function(e){e.invalidateLayout();}));},t.prototype.invalidateSeries=function(){ut(this.series.iterator(),(function(e){e.invalidate();}));},t.prototype.validateDataElements=function(){this._axisItemCount=0,this.ghostLabel&&(this.renderer.updateLabelElement(this.ghostLabel,this.start,this.end),this.ghostLabel.validate());},t.prototype.updateGridCount=function(){if(this.renderer){var e=this.axisLength/this.renderer.minGridDistance;e!=this._gridCount&&(this._gridCount=e,this.clearCache());}},t.prototype.validateLayout=function(){this.axisFullLength=this.axisLength/(this.end-this.start),e.prototype.validateLayout.call(this),this.updateGridCount();var t=this.renderer;t&&(t.updateAxisLine(),t.updateTooltip(),t.updateBaseGridElement()),this._prevLength!=this.axisLength&&(this.dispatchImmediately("lengthchanged"),this._prevLength=this.axisLength);},t.prototype.initRenderer=function(){},t.prototype.appendDataItem=function(e){var t=this.renderer,i=e.tick;i&&(i.above?i.parent=t.bulletsContainer:i.parent=t.gridContainer),e.label&&(e.label.parent=t);var n=e.axisFill;n&&(n.above?n.parent=t.bulletsContainer:n.parent=t.gridContainer);var r=e.grid;r&&(r.above?r.parent=t.bulletsContainer:r.parent=t.gridContainer),e.bullet&&(e.bullet.parent=t.bulletsContainer);},t.prototype.validate=function(){e.prototype.validate.call(this),this.validateLayout(),this.renderer.updateGridContainer();},t.prototype.validateAxisRanges=function(){var e=this;ut(this.axisRanges.iterator(),(function(t){e.appendDataItem(t),e.validateDataElement(t),t.grid&&t.grid.validate(),t.tick&&t.tick.validate(),t.axisFill&&t.axisFill.validate(),t.label&&t.label.validate();}));},t.prototype.validateBreaks=function(){this._axisBreaks&&ut(this._axisBreaks.iterator(),(function(e){e.invalidate();}));},t.prototype.processBreak=function(e){var t=e.newValue;t.parent=this.renderer.breakContainer,t.axis=this;},t.prototype.registerSeries=function(e){var t=this;return this.series.moveValue(e),new Re([new Ve((function(){t.series.removeValue(e);})),this.events.on("lengthchanged",e.invalidate,e,!1),this.events.on("lengthchanged",e.createMask,e,!1),this.events.on("startchanged",e.invalidate,e,!1),this.events.on("endchanged",e.invalidate,e,!1)])},Object.defineProperty(t.prototype,"renderer",{get:function(){return this._renderer},set:function(e){if(e!=this._renderer){this._renderer=e,e.chart=this.chart,e.axis=this,e.parent=this,this.title.parent=this,this.initRenderer(),this._disposers.push(e.gridContainer.events.on("maxsizechanged",this.invalidate,this,!1));var t=this.renderer.labels.create();this._disposers.push(t),t.dataItem=this.dataItems.template.clone(),t.text="L",t.parent=this.renderer,t.shouldClone=!1,t.fillOpacity=0,t.opacity=0,t.strokeOpacity=0,t.interactionsEnabled=!1,t.validate(),this.ghostLabel=t,this.events.on("beforedatavalidated",(function(){t.text="L";}),void 0,!1);}},enumerable:!0,configurable:!0}),t.prototype.positionToAngle=function(e){return this.renderer.positionToAngle(e)},t.prototype.pointToPosition=function(e){return this.renderer.pointToPosition(e)},t.prototype.positionToCoordinate=function(e){return this.renderer.positionToCoordinate(e)},t.prototype.getAnyRangePath=function(e,t){return this.renderer.getPositionRangePath(e,t)},t.prototype.anyToPosition=function(e){return 0},t.prototype.anyToPoint=function(e){return {x:0,y:0,angle:0}},t.prototype.getPositionRangePath=function(e,t){return this.renderer?this.renderer.getPositionRangePath(e,t):""},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.renderer?this.renderer.axisLength:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e)&&(e&&this.renderer?this.renderer.updateTooltip():this.tooltip&&this.tooltip.hide(0));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toggleZoomOutButton",{get:function(){return this.getPropertyValue("toggleZoomOutButton")},set:function(e){this.setPropertyValue("toggleZoomOutButton",e);},enumerable:!0,configurable:!0}),t.prototype.hideTooltip=function(t){e.prototype.hideTooltip.call(this,t),this._tooltipPosition=void 0;},t.prototype.showTooltipAtPosition=function(e,t){var i=this._tooltip;if(!i||this.dataItems.length<=0)this._tooltipPosition=void 0;else {if(t||(e=this.toAxisPosition(e)),!W(e)||e<this.start||e>this.end)return i.hide(0),void(this._tooltipPosition=void 0);var n=this.renderer;i.parent||(i.parent=this.tooltipContainer);var r=n.tooltipLocation,a=this.getCellStartPosition(e),o=this.getCellEndPosition(e);if("fixed"==this.tooltipPosition&&(e=a+(o-a)*r),e=J(e,this.start,this.end),this._tooltipPosition!=e){this._tooltipPosition=e;var s=n.tooltipLocation2,l=n.positionToPoint(a,s),u=n.positionToPoint(o,s);this.currentItemStartPoint=l,this.currentItemEndPoint=u,n.fullWidthTooltip&&(i.width=u.x-l.x,i.height=u.y-l.y);var d=Ii(n.positionToPoint(e,s),this.renderer.line);i.text=this.getTooltipText(e),i.text&&(i.delayedPointTo(d),i.show());}this.cursorTooltipEnabled&&!this.tooltip.disabled||i.hide(0);}},t.prototype.toAxisPosition=function(e){if(null!=(e=this.renderer.toAxisPosition(e)))return e*=this.end-this.start,e=this.renderer.inversed?this.end-e:this.start+e},t.prototype.toGlobalPosition=function(e){return this.renderer.inversed?e=this.end-e:e-=this.start,e/(this.end-this.start)},t.prototype.getTooltipText=function(e){},t.prototype.updateTooltip=function(e,t){var i=this._tooltip;i&&(i.fixDoc=!1,i.pointerOrientation=e,i.setBounds(Ai(t,this.renderer.line)));},t.prototype.roundPosition=function(e,t,i){return e},t.prototype.getCellStartPosition=function(e){return e},t.prototype.getCellEndPosition=function(e){return e},Object.defineProperty(t.prototype,"axisRanges",{get:function(){if(!this._axisRanges){var e=this.createDataItem();e.isRange=!0,e.axisFill=this.renderer.axisFills.template.clone(),e.grid=this.renderer.grid.template.clone(),e.tick=this.renderer.ticks.template.clone(),e.label=this.renderer.labels.template.clone(),e.isTemplate=!0,e.component=this,e.axisFill.disabled=!1,e.tick.disabled=!1,e.grid.disabled=!1,e.label.disabled=!1,this._axisRanges=new At(e),this._axisRanges.events.on("inserted",this.processAxisRange,this,!1),this._disposers.push(new wt(this._axisRanges)),this._disposers.push(this._axisRanges.template);}return this._axisRanges},enumerable:!0,configurable:!0}),t.prototype.processAxisRange=function(e){var t=e.newValue;t.component=this,t.isRange=!0;},Object.defineProperty(t.prototype,"axisBreaks",{get:function(){return this._axisBreaks||(this._axisBreaks=new Dt(this.createAxisBreak(),(function(e,t){return Mt(e.adjustedStartValue,t.adjustedStartValue)})),this._axisBreaks.events.on("inserted",this.processBreak,this,!1),this._disposers.push(new wt(this._axisBreaks)),this._disposers.push(this._axisBreaks.template)),this._axisBreaks},enumerable:!0,configurable:!0}),t.prototype.createAxisBreak=function(){return new Tg},Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Tt),this._series},enumerable:!0,configurable:!0}),t.prototype.processSeriesDataItems=function(){},t.prototype.processSeriesDataItem=function(e,t){},t.prototype.postProcessSeriesDataItems=function(e){},t.prototype.postProcessSeriesDataItem=function(e){},t.prototype.updateAxisBySeries=function(){},t.prototype.hideUnusedDataItems=function(){var e=this,t=this._dataItemsIterator;t.createNewItems=!1,ut(t.iterator(),(function(t){e.validateDataElement(t),t.__disabled=!0;})),t.clear(),t.createNewItems=!0;},t.prototype.getSeriesDataItem=function(e,t,i){},t.prototype.getAngle=function(e,t,i,n,r){},t.prototype.getX=function(e,t,i,n,r){},t.prototype.getPositionX=function(e,t,i,n,r){},t.prototype.getY=function(e,t,i,n,r){},t.prototype.getPositionY=function(e,t,i,n,r){},Object.defineProperty(t.prototype,"basePoint",{get:function(){return {x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.dataChangeUpdate=function(){},t.prototype.seriesDataChangeUpdate=function(e){},t.prototype.adjustDifference=function(e,t){var i=t-e;if(W(i))return this._axisBreaks&&lt(this._axisBreaks.iterator(),(function(n){var r,a,o,s,l,u,d,c,h=n.adjustedStartValue,p=n.adjustedEndValue;if(W(h)&&W(p)){if(h>t)return !1;if(p>=e&&W(h)&&W(p)){var m=n.breakSize,f=(a={start:e,end:t},o=V((r={start:h,end:p}).start),s=V(a.start),l=V(r.end),u=V(a.end),d=Math.max(o,s),(c=Math.min(l,u))<d?void 0:{start:d,end:c});f&&(i-=(f.end-f.start)*(1-m));}return !0}})),i},t.prototype.isInBreak=function(e){if(this._axisBreaks)return t=this._axisBreaks.iterator(),i=function(t){return e>=t.adjustedStartValue&&e<=t.adjustedEndValue},t((function(e){return !i(e)||(n=e,!1)})),n;var t,i,n;},t.prototype.fixAxisBreaks=function(){var e=this;if(this._axisBreaks){var t=this._axisBreaks;if(t.length>0){we(st(t.iterator()),(function(t){var i=ie(t.startValue,t.endValue),n=te(t.startValue,t.endValue);t.adjustedStartValue=i,t.adjustedEndValue=n,e._axisBreaks.update(t);}));var i=t.first,n=Math.min(i.startValue,i.endValue);ut(t.iterator(),(function(e){var t=e.adjustedStartValue,i=e.adjustedEndValue;t<n&&(t=n,i<n&&(i=n)),e.adjustedStartValue=t,e.adjustedEndValue=i;}));}}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return 0},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return this.dataItems.length},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.getPositionLabel=function(e){return Math.round(100*e)+"%x"},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e;},enumerable:!0,configurable:!0}),t.prototype.createSeriesRange=function(e){var t=this.axisRanges.create();return t.component=this,t.axisFill=this.renderer.axisFills.template.clone(),t.axisFill.disabled=!1,t.axisFill.fillOpacity=0,t.grid=this.renderer.grid.template.clone(),t.grid.disabled=!0,t.tick=this.renderer.ticks.template.clone(),t.tick.disabled=!0,t.label=this.renderer.labels.template.clone(),t.label.disabled=!0,t.addDisposer(new Ve((function(){e.axisRanges.removeValue(t);}))),e.axisRanges.push(t),t},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.renderer?this.renderer.copyFrom(t.renderer):t.renderer&&(this.renderer=t.renderer.clone(),this._disposers.push(this.renderer)),t.title&&(this.title?this.title.copyFrom(t.title):(this.title=t.title.clone(),this.title.parent=this),this._disposers.push(this.title));},t.prototype.resetIterators=function(){this._dataItemsIterator.reset();},t.prototype.processConfig=function(t){if(t&&j(t.axisRanges)&&H(t.axisRanges))for(var i=0,n=t.axisRanges.length;i<n;i++){var r=t.axisRanges[i];j(r.series)&&N(r.series)&&this.map.hasKey(r.series)&&(t.axisRanges[i]=this.createSeriesRange(this.map.getKey(r.series)),delete r.series,t.axisRanges[i].config=r);}e.prototype.processConfig.call(this,t);},t.prototype.configOrder=function(t,i){return t==i?0:"title"==t?1:"title"==i||"component"==t?-1:"component"==i?1:e.prototype.configOrder.call(this,t,i)},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.renderer&&(this.renderer.gridContainer.disabled=t),i},Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){this._title&&this._title!=e&&this._title.dispose(),e&&(this._title=e,e.parent=this,e.shouldClone=!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"zoomable",{get:function(){return this.getPropertyValue("zoomable")},set:function(e){this.setPropertyValue("zoomable",e);},enumerable:!0,configurable:!0}),t}(Yr);St.registeredClasses.Axis=kg,St.registeredClasses.AxisDataItem=Og,Ur.push({relevant:qr.maybeXS,state:function(e,t){if(e instanceof kg&&e.tooltip){var i=e.states.create(t);return i.properties.cursorTooltipEnabled=!1,i}return null}});var Fg=function(e){function t(){var t=e.call(this)||this;t.className="AxisLine",t.element=t.paper.add("path");var i=new Fn;return t.stroke=i.getFor("grid"),t.strokeOpacity=.15,t.pixelPerfect=!0,t.fill=Yt(),t.applyTheme(),t.interactionsEnabled=!1,t}return x(t,e),t}(Dr);St.registeredClasses.AxisLine=Fg;var Dg=function(e){function t(t){var i=e.call(this)||this;i.axis=t,i.element=i.paper.add("path"),i.className="AxisFill",i.isMeasured=!1,i.location=0,i.above=!1;var n=new Fn;return i.fill=n.getFor("alternativeBackground"),i.fillOpacity=0,i.applyTheme(),i}return x(t,e),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t.prototype.draw=function(){e.prototype.draw.call(this),this.__disabled||this.disabled||this.axis&&W(this.startPosition)&&W(this.endPosition)&&(this.fillPath=this.axis.getPositionRangePath(this.startPosition,this.endPosition),this.path=this.fillPath,this.isMeasured&&this.measure());},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.getPropertyValue("startPosition")},set:function(e){this.setPropertyValue("startPosition",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.getPropertyValue("endPosition")},set:function(e){this.setPropertyValue("endPosition",e),this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setPath=function(e){return !!this.setPropertyValue("path",e)&&(this.element.attr({d:e}),!0)},Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0);},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.AxisFill=Dg;var Mg=function(e){function t(){var t=e.call(this)||this;t.className="Grid",t.element=t.paper.add("path"),t.location=.5,t.isMeasured=!1,t.above=!1;var i=new Fn;return t.stroke=i.getFor("grid"),t.pixelPerfect=!0,t.strokeOpacity=.15,t.fill=Yt(),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(Dr);St.registeredClasses.Grid=Mg,Ur.push({relevant:qr.maybeXS,state:function(e,t){if(e instanceof Mg){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Lg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisLabel",t.isMeasured=!1,t.padding(10,10,10,10),t.location=.5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(Kr);St.registeredClasses.AxisLabel=Lg;var Eg=function(e){function t(){var t=e.call(this)||this;t.className="Tick";var i=new Fn;return t.fillOpacity=0,t.length=6,t.strokeOpacity=.2,t.stroke=i.getFor("grid"),t.isMeasured=!1,t.nonScalingStroke=!0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"length",{get:function(){return this.disabled?0:this.getPropertyValue("length")},set:function(e){this.setPropertyValue("length",e,!0);},enumerable:!0,configurable:!0}),t}(Dr);St.registeredClasses.Tick=Eg;var jg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisTick",t.element=t.paper.add("path"),t.location=.5,t.above=!1,t.isMeasured=!1,t.pixelPerfect=!0,t.strokeOpacity=0,t.length=5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"above",{get:function(){return this.getPropertyValue("above")},set:function(e){this.setPropertyValue("above",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(Eg);St.registeredClasses.AxisTick=jg;var Vg=function(e){function t(){var t=e.call(this)||this;t._chart=new Be,t.className="AxisRenderer",t.minGridDistance=50,t.inside=!1,t.inversed=!1,t.tooltipLocation=.5,t.fullWidthTooltip=!1,t.cellStartLocation=0,t.cellEndLocation=1,t.minLabelPosition=0,t.maxLabelPosition=1,t.shouldClone=!1;var i=t.createChild(Lr);i.shouldClone=!1,i.layout="none",i.virtualParent=t,i.width=A(100),i.height=A(100),t.gridContainer=i,i.events.on("maxsizechanged",(function(){t.inited&&t.invalidateAxisItems();}),t,!1);var n=t.createChild(Lr);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",n.width=A(100),n.height=A(100),t.breakContainer=n;var r=t.createChild(Lr);r.shouldClone=!1,r.isMeasured=!1,r.layout="none",r.width=A(100),r.height=A(100),t.bulletsContainer=r,t.line=t.createChild(Fg),t.line.shouldClone=!1,t.line.strokeOpacity=0;var a=t.createChild(Mg);a.shouldClone=!1,t.baseGrid=a;var o=t._disposers;return o.push(a),o.push(t.line),o.push(i),o.push(n),o.push(r),o.push(t._chart),t.ticks.template.disabled=!0,t.axisFills.template.disabled=!0,t.axisFills.template.interactionsEnabled=!1,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis},set:function(e){this.setAxis(e);},enumerable:!0,configurable:!0}),t.prototype.setAxis=function(e){this._axis=e,this.baseGrid.parent=e,this.line.parent=e,this.gridContainer.bind("opacity",e);},t.prototype.processRenderer=function(){this.events.on("sizechanged",this.updateTooltip,this,!1),this.events.on("positionchanged",this.updateTooltip,this,!1),this.labels.template.inside=this.inside,this.ticks.template.inside=this.inside;},t.prototype.updateTooltip=function(){},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 0},enumerable:!0,configurable:!0}),t.prototype.positionItem=function(e,t){e&&e.moveTo(t);},t.prototype.positionToPoint=function(e,t){return {x:0,y:0}},t.prototype.positionToAngle=function(e){return 0},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength;return t.renderer.inversed?(t.end-e)*i:(e-t.start)*i},t.prototype.updateGridContainer=function(){},t.prototype.getHeight=function(){var e=this.gridContainer;return e.parent?e.parent.pixelHeight:this.gridContainer.pixelHeight||0},t.prototype.getWidth=function(){var e=this.gridContainer;return e.parent?e.parent.pixelWidth:this.gridContainer.pixelWidth||0},t.prototype.coordinateToPosition=function(e,t){var i=this.axis,n=i.axisFullLength;return K(i.renderer.inversed?i.end-e/n:e/n+i.start,5)},t.prototype.pointToPosition=function(e){return 0},t.prototype.getPositionRangePath=function(e,t){return ""},t.prototype.invalidateAxisItems=function(){var e=this.axis;e&&e.invalidateDataItems();},t.prototype.updateGridElement=function(e,t,i){},t.prototype.updateTickElement=function(e,t,i){},t.prototype.updateBullet=function(e,t,i){},t.prototype.updateLabelElement=function(e,t,i,n){},t.prototype.updateFillElement=function(e,t,i){e.startPosition=t,e.endPosition=i;},t.prototype.updateAxisLine=function(){},t.prototype.updateBaseGridElement=function(){},t.prototype.updateBreakElement=function(e){this.positionItem(e.startLine,e.startPoint),this.toggleVisibility(e.startLine,e.startPosition,0,1),this.positionItem(e.endLine,e.endPoint),this.toggleVisibility(e.endLine,e.endPosition,0,1);},Object.defineProperty(t.prototype,"minGridDistance",{get:function(){return this.getPropertyValue("minGridDistance")},set:function(e){this.setPropertyValue("minGridDistance",e)&&this.axis&&this.axis.invalidateDataItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null);},enumerable:!0,configurable:!0}),t.prototype.toggleVisibility=function(e,t,i,n){var r=this.axis,a=e.dataItem;a&&a instanceof Og&&(W(a.minPosition)&&(i=a.minPosition),W(a.maxPosition)&&(n=a.maxPosition));var o=r.start+(r.end-r.start)*(i-1e-4),s=r.start+(r.end-r.start)*(n+1e-4);e.disabled||(e.__disabled=t<o||t>s);},t.prototype.createBreakSprites=function(e){},Object.defineProperty(t.prototype,"axisFills",{get:function(){if(!this._axisFills){var e=this.createFill(this.axis);this._axisFills=new At(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new wt(this._axisFills)),this._disposers.push(this._axisFills.template);}return this._axisFills},enumerable:!0,configurable:!0}),t.prototype.createFill=function(e){return new Dg(e)},Object.defineProperty(t.prototype,"grid",{get:function(){if(!this._grid){var e=this.createGrid();this._grid=new At(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new wt(this._grid)),this._disposers.push(this._grid.template);}return this._grid},enumerable:!0,configurable:!0}),t.prototype.createGrid=function(){return new Mg},Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,e.isMeasured=!1,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._ticks=new At(e),this._disposers.push(new wt(this._ticks)),this._disposers.push(this._ticks.template);}return this._ticks},enumerable:!0,configurable:!0}),t.prototype.createTick=function(){return new jg},Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();this._labels=new At(e),e.applyOnClones=!0,e.events.on("enabled",this.invalidateAxisItems,this,!1),this._disposers.push(new wt(this._labels)),this._disposers.push(this._labels.template);}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createLabel=function(){return new Lg},Object.defineProperty(t.prototype,"inside",{get:function(){return this.getPropertyValue("inside")},set:function(e){this.setPropertyValue("inside",e)&&this.axis&&this.axis.invalidate(),e?(this.width=0,this.height=0):(this.width=void 0,this.height=void 0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opposite",{get:function(){return this.getPropertyValue("opposite")},set:function(e){this.setPropertyValue("opposite",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthTooltip",{get:function(){return this.getPropertyValue("fullWidthTooltip")},set:function(e){this.setPropertyValue("fullWidthTooltip",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation2",{get:function(){return this.getPropertyValue("tooltipLocation2")},set:function(e){this.setPropertyValue("tooltipLocation2",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellStartLocation",{get:function(){return this.getPropertyValue("cellStartLocation")},set:function(e){this.setPropertyValue("cellStartLocation",e)&&this.axis&&this.axis.invalidateSeries();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellEndLocation",{get:function(){return this.getPropertyValue("cellEndLocation")},set:function(e){this.setPropertyValue("cellEndLocation",e)&&this.axis&&this.axis.invalidateSeries();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inversed",{get:function(){return this.getPropertyValue("inversed")},set:function(e){this.setPropertyValue("inversed",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minLabelPosition",{get:function(){return this.getPropertyValue("minLabelPosition")},set:function(e){this.setPropertyValue("minLabelPosition",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxLabelPosition",{get:function(){return this.getPropertyValue("maxLabelPosition")},set:function(e){this.setPropertyValue("maxLabelPosition",e,!0);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.grid.template.copyFrom(t.grid.template),this.ticks.template.copyFrom(t.ticks.template),this.labels.template.copyFrom(t.labels.template),this.axisFills.template.copyFrom(t.axisFills.template),this.line.copyFrom(t.line),this.baseGrid.copyFrom(t.baseGrid);},t.prototype.toAxisPosition=function(e){return e},t.prototype.setVisibility=function(t){e.prototype.setVisibility.call(this,t),this.bulletsContainer.visible=t;},t}(Lr);St.registeredClasses.AxisRenderer=Vg;var Rg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisBullet",t.location=.5,t.isMeasured=!1,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return this.getPropertyValue("location")},set:function(e){this.setPropertyValue("location",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setDisabled=function(t){var i=e.prototype.setDisabled.call(this,t);return this.axis&&this.axis.invalidateDataItems(),i},t}(Lr);St.registeredClasses.AxisBullet=Rg;var Bg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisRendererY",t.minGridDistance=40,t.opposite=!1,t.height=A(100),t.labels.template.verticalCenter="middle",t.applyTheme(),t}return x(t,e),t.prototype.setAxis=function(t){e.prototype.setAxis.call(this,t),t.layout="horizontal";},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.y=e.pixelY,t.height=e.axisLength;}},t.prototype.toAxisPosition=function(e){var t=this.axis;if(t){var i=1-e,n=t.relativePositionSprite,r=t.pixelY;if(n?r=Ti({x:0,y:this.pixelY},this.parent,n).y:n=t.parent,n)return 1-(i-r/n.innerHeight)/(t.axisLength/n.innerHeight)}return e},t.prototype.processRenderer=function(){e.prototype.processRenderer.call(this);var t=this.axis;if(t){var i=t.title;i.valign="middle",t.height instanceof T||(t.height=A(100)),this.opposite?(i.rotation=90,this.line.toBack(),i.toFront()):(i.rotation=-90,i.toBack(),this.line.toFront());}},t.prototype.updateTooltip=function(){if(this.axis){var e=2e3,t=0,i=e,n=this.axisLength;this.opposite?this.inside&&(t=-2e3,i=e):this.inside||(t=-2e3,i=e),this.axis.updateTooltip("horizontal",{x:t,y:0,width:i,height:n});}},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredHeight-e.pixelPaddingTop-e.pixelPaddingBottom||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){return {x:0,y:this.positionToCoordinate(e)}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.y,e.x)},t.prototype.coordinateToPosition=function(e,t){var i=this.axis,n=i.axisFullLength;return K(i.renderer.inversed?1-i.start-e/n:e/n+(1-i.end),5)},t.prototype.getPositionRangePath=function(e,t){var i=J(this.positionToCoordinate(e),0,this.axisLength),n=J(this.positionToCoordinate(t),0,this.axisLength),r=Math.abs(n-i),a=this.getWidth();return ha({x:0,y:Math.min(i,n),width:a,height:r},!0)},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);e.path=ra({x:0,y:0})+aa({x:this.getWidth(),y:0}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t),r=e.length;try{this.axis.title.measuredWidth;}catch(e){}n.x=Ti({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.opposite?r*=e.inside?-1:1:r*=e.inside?1:-1,e.path=ra({x:0,y:0})+aa({x:r,y:0}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateAxisLine=function(){this.line.path=ra({x:0,y:0})+aa({x:0,y:this.axisLength});},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.axis,i=this.getWidth(),n=this.axisLength,r=t.basePoint.y,a=this.baseGrid;if(r<-.2||r>n+.2)a.hide(0);else {var o=Ti({x:0,y:0},this.gridContainer,a.parent).x;a.path=ra({x:0,y:0})+aa({x:i,y:0}),a.moveTo({x:o,y:r}),a.show(0);}},t.prototype.updateLabelElement=function(e,t,i,n){j(n)||(n=e.location),t+=(i-t)*n,e.isMeasured=!e.inside;var r,a=this.positionToPoint(t),o=0,s=this.gridContainer.maxWidth;this.opposite?(e.inside?(r="right","left"==e.align&&(o=-s,r="left"),"center"==e.align&&(o=-s/2,r="middle")):r="left",a.x=0+o):(e.inside?(r="left","right"==e.align&&(o=s,r="right"),"center"==e.align&&(o=s/2,r="middle")):r="right",a.x=this.measuredWidth+o),0==e.rotation&&(e.horizontalCenter=r),this.positionItem(e,a),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition);},t.prototype.updateBreakElement=function(t){e.prototype.updateBreakElement.call(this,t);var i=t.startLine,n=t.endLine,r=t.fillShape,a=t.startPoint,o=t.endPoint,s=t.pixelMarginLeft,l=this.getWidth()-t.pixelMarginLeft-t.pixelMarginRight;a.y=J(a.y,-1,this.axisLength+1),o.y=J(o.y,-1,this.axisLength+1),a.y==o.y&&(a.y<0||a.y>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1;var u=Math.abs(l-s);i.x=s,i.height=0,i.width=u,n.x=s,n.height=0,n.width=u,r.width=u,r.height=Math.abs(o.y-a.y),r.x=s,r.y=o.y;},t.prototype.createBreakSprites=function(e){e.startLine=new Na,e.endLine=new Na;var t=new Wa;t.setWavedSides(!0,!1,!0,!1),e.fillShape=t;},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength;return t.renderer.inversed?(e-t.start)*i:(t.end-e)*i},t.prototype.updateBullet=function(e,t,i){var n=.5;e instanceof Rg&&(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t);r.x=Ti({x:this.line.pixelX,y:0},this.line.parent,this.gridContainer).x,this.positionItem(e,r),this.toggleVisibility(e,t,0,1);},t}(Vg);St.registeredClasses.AxisRendererY=Bg,Ur.push({relevant:qr.widthS,state:function(e,t){if(e instanceof Bg){var i=e.states.create(t);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),Ur.push({relevant:qr.widthXS,state:function(e,t){if(e instanceof Bg){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var Ng=function(e){function t(){var t=e.call(this)||this;return t.className="ValueAxisBreak",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedStartValue)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.valueToPosition(this.adjustedEndValue)},enumerable:!0,configurable:!0}),t}(Tg);St.registeredClasses.ValueAxisBreak=Ng;var Wg=function(e){function t(){var t=e.call(this)||this;return t.className="ValueAxisDataItem",t.values.value={},t.values.endValue={},t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){return this.values.endValue.value},set:function(e){this.setValue("endValue",e);},enumerable:!0,configurable:!0}),t}(Og),zg=function(e){function t(){var t=e.call(this)||this;return t._stepDecimalPlaces=0,t._prevStepDecimalPlaces=0,t._adjustLabelPrecision=!0,t._baseValue=0,t._adjustedStart=0,t._adjustedEnd=1,t._extremesChanged=!1,t._deltaMinMax=1,t._dsc=!1,t.calculateTotals=!1,t.className="ValueAxis",t.axisFieldName="value",t.setPropertyValue("maxZoomFactor",1e3),t.setPropertyValue("extraMin",0),t.setPropertyValue("extraMax",0),t.setPropertyValue("strictMinMax",!1),t.setPropertyValue("maxPrecision",Number.MAX_VALUE),t.setPropertyValue("adjustLabelPrecision",!0),t.setPropertyValue("extraTooltipPrecision",0),t.keepSelection=!1,t.includeRangesInMinMax=!1,t.applyTheme(),t}return x(t,e),t.prototype.fillRule=function(e){var t=e.value,i=e.component;e.axisFill.disabled||(K(t/i.step/2,5)==Math.round(t/i.step/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1);},t.prototype.createDataItem=function(){return new Wg},t.prototype.createAxisBreak=function(){return new Ng},t.prototype.dataChangeUpdate=function(){this.clearCache(),this.keepSelection?(0!=this._start&&this.dispatchImmediately("startchanged"),1!=this._end&&this.dispatchImmediately("endchanged"),0==this._start&&1==this._end||this.dispatchImmediately("startendchanged")):0==this._start&&1==this._end||(this._start=0,this._end=1,this.dispatchImmediately("startendchanged")),this._maxZoomed=this._maxDefined,this._minZoomed=this._minDefined,this._maxAdjusted=this._maxDefined,this._minAdjusted=this._minDefined;},t.prototype.processSeriesDataItems=function(){if(this.calculateTotals){var e=this.series.getIndex(0),t=e.startIndex;if(e.dataItems.length>0){t>0&&t--;var i=e.endIndex;i<e.dataItems.length&&i++;for(var n=function(e){var t={},i={};r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(e);r&&tt(r.values,(function(e){var n=r.values[e].workingValue;W(n)&&(W(t[e])?t[e]+=Math.abs(n):t[e]=Math.abs(n),W(i[e])?i[e]+=n:i[e]=n);}));}})),r.series.each((function(n){if(!n.excludeFromTotal){var r=n.dataItems.getIndex(e);r&&tt(r.values,(function(e){var n=r.values[e].workingValue;W(n)&&(r.setCalculatedValue(e,t[e],"total"),r.setCalculatedValue(e,100*n/t[e],"totalPercent"),r.setCalculatedValue(e,i[e],"sum"));}));}}));},r=this,a=t;a<i;++a)n(a);}}},t.prototype.validate=function(){this.axisLength<=0||(e.prototype.validate.call(this),this.getMinMax(),W(this._minAdjusted)||this.dataItems.each((function(e){e.value=null;})),this.fixAxisBreaks(),this.calculateZoom(),this.validateAxisElements(),this.validateAxisRanges(),this.validateBreaks(),this.hideUnusedDataItems(),this.renderer.invalidateLayout());},t.prototype.calculateZoom=function(){if(W(this.min)&&W(this.max)){var e=this.positionToValue(this.start),t=this.positionToValue(this.end),i=this.adjustDifference(e,t),n=this.adjustMinMax(e,t,i,this._gridCount,!0),r=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(n.step);this._stepDecimalPlaces=r,e=K(e,r),t=K(t,r);var a=(n=this.adjustMinMax(e,t,i,this._gridCount,!0)).step;if(this.syncWithAxis){var o=this.getCache(e+"-"+t);W(o)&&(a=o);}else e=n.min,t=n.max;(this._minZoomed!=e||this._maxZoomed!=t||this._step!=a||this._dsc)&&(this._dsc=!1,this._minZoomed=e,this._maxZoomed=t,this._step=a,this.dispatchImmediately("selectionextremeschanged"));}},t.prototype.fixSmallStep=function(e){return 1+e==1?(e*=2,this.fixSmallStep(e)):e},t.prototype.validateAxisElements=function(){var e=this;if(W(this.max)&&W(this.min)){var t=this.minZoomed-2*this._step;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E):0==(t=Math.floor(this.minZoomed/this._step)*this._step)&&(t=this.minZoomed);else t=Math.floor(t/this._step)*this._step;var i=this._maxZoomed+this._step;this.resetIterators();var n=this._dataItemsIterator;if(0==this._step)return;this._step=this.fixSmallStep(this._step);var r=0,a=this._prevStepDecimalPlaces!=this._stepDecimalPlaces;for(this._prevStepDecimalPlaces=this._stepDecimalPlaces;t<=i;){if(!this.isInBreak(t)){var o=n.find((function(e){return e.value===t}));o.__disabled&&(o.__disabled=!1),this.appendDataItem(o),o.axisBreak=void 0,(o.value!=t||a)&&(o.value=t,o.text=this.formatLabel(t),o.label&&o.label.invalid&&o.label.validate(),o.value>=this.min&&o.value<=this.max&&o.label&&("Y"==this.axisLetter&&o.label.measuredWidth>this.ghostLabel.measuredWidth||"X"==this.axisLetter&&o.label.measuredHeight>this.ghostLabel.measuredHeight)&&(this.ghostLabel.text=o.label.currentText,this.ghostLabel.validate())),this.validateDataElement(o);}r++;var s=t;if(this.logarithmic)Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E>1?t=Math.pow(10,Math.log(this.min)*Math.LOG10E+r):t+=this._step;else t+=this._step;var l=Math.pow(10,Math.floor(Math.log(Math.abs(this._step))*Math.LOG10E));if(l<1){var u=Math.round(Math.abs(Math.log(Math.abs(l))*Math.LOG10E))+2;if(u=Math.min(13,u),s==(t=K(t,u))){t=i;break}}}var d=this._axisBreaks;if(d){var c=this.renderer;ut(d.iterator(),(function(t){if(t.breakSize>0&&ae(t.startPoint,t.endPoint)>c.minGridDistance)for(var i=t.adjustedMin;i<=t.adjustedMax;){if(i>=t.adjustedStartValue&&i<=t.adjustedEndValue){var r=n.find((function(e){return e.value===i}));r.__disabled&&(r.__disabled=!1),e.appendDataItem(r),r.axisBreak=t,r.value!=i&&(r.value=i,r.text=e.formatLabel(i),r.label&&r.label.invalid&&r.label.validate()),e.validateDataElement(r);}i+=t.adjustedStep;}}));}}},t.prototype.validateDataElement=function(t){e.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var i=this.renderer,n=t.value,r=t.endValue,a=this.valueToPosition(n);t.position=a;var o=a,s=this.valueToPosition(n+this._step);W(r)&&(s=o=this.valueToPosition(r)),t.point=i.positionToPoint(a);var l=t.tick;l&&!l.disabled&&i.updateTickElement(l,a,o);var u=t.grid;u&&!u.disabled&&i.updateGridElement(u,a,o);var d=t.label;d&&!d.disabled&&i.updateLabelElement(d,a,o);var c=t.axisFill;c&&!c.disabled&&(i.updateFillElement(c,a,s),t.isRange||this.fillRule(t)),t.bullet&&i.updateBullet(t.bullet,a,o);var h=t.mask;h&&i.updateFillElement(h,a,s);},t.prototype.formatLabel=function(e){return this.adjustLabelPrecision&&0!=e?this.numberFormatter.format(e,void 0,this._stepDecimalPlaces):this.numberFormatter.format(e)},Object.defineProperty(t.prototype,"basePoint",{get:function(){var e=this.baseValue,t=this.valueToPosition(e);return this.renderer.positionToPoint(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"baseValue",{get:function(){var e=this._baseValue;return this.logarithmic&&(e=this.min),this._adapterO?this._adapterO.apply("baseValue",e):e},set:function(e){this._baseValue=e,this.invalidateLayout(),this.invalidateSeries();},enumerable:!0,configurable:!0}),t.prototype.anyToPosition=function(e){return this.valueToPosition(e)},t.prototype.valueToPoint=function(e){var t=this.valueToPosition(e),i=this.renderer.positionToPoint(t),n=this.renderer.positionToAngle(t);return {x:i.x,y:i.y,angle:n}},t.prototype.anyToPoint=function(e){return this.valueToPoint(e)},t.prototype.valueToPosition=function(e){if(W(e)){var t=this.min,i=this.max;if(W(t)&&W(i)){var n=this._difference,r=this._axisBreaks;r&&r.length>0&&lt(r.iterator(),(function(n){var r=n.adjustedStartValue,a=n.adjustedEndValue;if(W(r)&&W(a)){if(e<r)return !1;if(ne({start:r,end:a},{start:t,end:i})){r=Math.max(r,t),a=Math.min(a,i);var o=n.breakSize;e>a?t+=(a-r)*(1-o):e<r||(e=r+(e-r)*o);}}return !0}));var a=void 0;if(this.logarithmic){var o=this.treatZeroAs;W(o)&&e<=o&&(e=o),a=(Math.log(e)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)/(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E);}else a=(e-t)/n;return a}}return 0},t.prototype.invalidateLabels=function(){e.prototype.invalidateLabels.call(this),this.dataItems&&(this.dataItems.each((function(e){e.value=void 0;})),this.invalidate());},t.prototype.positionToValue=function(e){var t=this.min,i=this.max;if(W(t)&&W(i)){var n=i-t,r=null,a=this._axisBreaks;return a&&a.length>0&&lt(a.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,u=a.adjustedEndValue;if(W(l)&&W(u)){if(l>i)return !1;if(ne({start:l,end:u},{start:t,end:i})){l=te(l,t),u=ie(u,i);var d=a.breakSize;if(n-=(u-l)*(1-d),e>s)t+=(u-l)*(1-d);else if(!(e<o))return r=l+(e-o)/(s-o)*(u-l),!1}return !0}})),W(r)||(r=this.logarithmic?Math.pow(Math.E,(e*(Math.log(this.max)*Math.LOG10E-Math.log(this.min)*Math.LOG10E)+Math.log(this.min)*Math.LOG10E)/Math.LOG10E):e*n+t),r}},t.prototype.xToValue=function(e){return this.positionToValue(this.pointToPosition({x:e,y:0}))},t.prototype.yToValue=function(e){return this.positionToValue(this.pointToPosition({x:0,y:e}))},t.prototype.pointToPosition=function(e){return this.renderer instanceof Bg?1-this.renderer.pointToPosition(e):this.renderer.pointToPosition(e)},t.prototype.animateMinMax=function(e,t){return this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing)},t.prototype.getMinMax=function(){var e=this;this.updateGridCount();var t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;if(W(this._minDefined)&&W(this._maxDefined)||(this.series.each((function(n){if(!n.ignoreMinMax){var r=n.min(e);W(r)&&r<t&&(t=r);var a=n.max(e);W(a)&&a>i&&(i=a);}})),this.includeRangesInMinMax&&this.axisRanges.each((function(e){if(!e.ignoreMinMax){var n=ie(e.value,e.endValue),r=te(e.value,e.endValue);(n<t||!W(t))&&(t=n),(r>i||!W(i))&&(i=r);}}))),this.logarithmic){var n=this.treatZeroAs;W(n)&&t<=0&&(t=n),t<=0&&this.raiseCriticalError(new Error("Logarithmic value axis can not have values <= 0."),!0);}if(0==t&&0==i&&(i=.9,t=-.9),W(this._minDefined)&&(t=this._minDefined),W(this._maxDefined)&&(i=this._maxDefined),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),W(t)&&W(i)){this._minReal=t,this._maxReal=i,t==Number.POSITIVE_INFINITY&&(t=void 0),i==Number.NEGATIVE_INFINITY&&(i=void 0);var r=this.adjustDifference(t,i);if(t=this.fixMin(t),(i=this.fixMax(i))-t<=1/Math.pow(10,15)){if(i-t!=0)this._deltaMinMax=(i-t)/2;else {var a=Math.log(Math.abs(i))*Math.LOG10E,o=Math.pow(10,Math.floor(a));o/=10,this._deltaMinMax=o;}t-=this._deltaMinMax,i+=this._deltaMinMax;}t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax;var s=this.strictMinMax;W(this._maxDefined)&&(s=!0);var l=this.adjustMinMax(t,i,r,this._gridCount,s);if(t=l.min,r=(i=l.max)-t,l=this.adjustMinMax(t,i,i-t,this._gridCount,!0),t=l.min,i=l.max,this.strictMinMax&&(t=W(this._minDefined)?this._minDefined:this._minReal,(i=W(this._maxDefined)?this._maxDefined:this._maxReal)-t<=1e-8&&(t-=this._deltaMinMax,i+=this._deltaMinMax),t-=(i-t)*this.extraMin,i+=(i-t)*this.extraMax),this._adapterO&&(t=this._adapterO.apply("min",t)),this._adapterO&&(i=this._adapterO.apply("max",i)),this._step=l.step,W(t)||W(i)||(this.start=0,this.end=1,this.renderer.labels.each((function(e){e.dataItem.text="";}))),(this._minAdjusted!=t||this._maxAdjusted!=i)&&W(t)&&W(i)){var u=this._minMaxAnimation;if(this._extremesChanged&&W(this._minAdjusted)&&W(this._maxAdjusted)&&this.inited){if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._finalMin=t,this._finalMax=i,(u=this.animateMinMax(t,i))&&!u.isFinished()?(u.events.on("animationprogress",this.validateDataItems,this),u.events.on("animationended",(function(){e.series.each((function(e){e.validate();})),e.validateDataItems(),e.handleSelectionExtremesChange();})),this._minMaxAnimation=u):this.series.each((function(e){e.invalidate();})),this.validateDataItems(),this.dispatchImmediately("extremeschanged"),this.handleSelectionExtremesChange();}else {if(u&&!u.isFinished()&&this._finalMax==i&&this._finalMin==t)return;this._minAdjusted=t,this._maxAdjusted=i,this._finalMin=t,this._finalMax=i,this.invalidateDataItems(),this.dispatchImmediately("extremeschanged"),this._saveMinMax(t,i);}}this._extremesChanged=!1,this._difference=this.adjustDifference(t,i);}},t.prototype.fixMin=function(e){return e},t.prototype.fixMax=function(e){return e},t.prototype.adjustMinMax=function(e,t,i,n,r){n<=1&&(n=1),n=Math.round(n);var a=e,o=t;0===i&&(i=Math.abs(t));var s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),u=l/=10;r&&(u=0),this.logarithmic?(e<=0&&(e=this.baseValue),e==1/0&&(e=1),t==-1/0&&(t=10),this.strictMinMax?(e=this._minDefined>0?this._minDefined:e,this._maxDefined>0&&(t=t)):(e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),t=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E)))):(r?(e=Math.floor(e/l)*l,t=Math.ceil(t/l)*l):(e=Math.ceil(e/l)*l-u,t=Math.floor(t/l)*l+u),e<0&&a>=0&&(e=0),t>0&&o<=0&&(t=0)),s=Math.log(Math.abs(i))*Math.LOG10E,l=Math.pow(10,Math.floor(s)),l/=10;var d=Math.ceil(i/n/l)*l,c=Math.pow(10,Math.floor(Math.log(Math.abs(d))*Math.LOG10E)),h=Math.ceil(d/c);h>5?h=10:h<=5&&h>2&&(h=5),d=Math.ceil(d/(c*h))*c*h,this.maxPrecision<Number.MAX_VALUE&&d!=X(d,this.maxPrecision)&&(d=X(d,this.maxPrecision));var p=0;if(c<1&&(d=K(d,p=Math.round(Math.abs(Math.log(Math.abs(c))*Math.LOG10E))+1)),!this.logarithmic){var m=Math.floor(e/d);e=K(d*m,p);var f=void 0;(f=r?Math.floor(t/d):Math.ceil(t/d))==m&&f++,(t=K(d*f,p))<o&&(t+=d),e>a&&(e-=d);}return {min:e,max:t,step:d}},Object.defineProperty(t.prototype,"min",{get:function(){var e=this._minAdjusted;return W(e)||(e=this._minDefined),e},set:function(e){this._minDefined!=e&&(this._minDefined=e,this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minDefined",{get:function(){return this._minDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDefined",{get:function(){return this._maxDefined},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMin",{get:function(){return this.getPropertyValue("extraMin")},set:function(e){this.setPropertyValue("extraMin",e)&&this.invalidateDataItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraMax",{get:function(){return this.getPropertyValue("extraMax")},set:function(e){this.setPropertyValue("extraMax",e)&&this.invalidateDataItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){var e=this._maxAdjusted;return W(e)||(e=this._maxDefined),e},set:function(e){this._maxDefined!=e&&(this._maxDefined=e,this.invalidate());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"adjustLabelPrecision",{get:function(){return this.getPropertyValue("adjustLabelPrecision")},set:function(e){this.setPropertyValue("adjustLabelPrecision",e)&&this.invalidate();},enumerable:!0,configurable:!0}),t.prototype.registerSeries=function(t){return new Re([e.prototype.registerSeries.call(this,t),t.events.on("extremeschanged",this.handleExtremesChange,this,!1),t.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1),this.events.on("extremeschanged",t.invalidate,t,!1)])},t.prototype.handleSelectionExtremesChange=function(){var e,t,i=this,n=!0;if(ut(this.series.iterator(),(function(r){if(!r.ignoreMinMax&&!r.isHidden&&!r.outOfRange){r.visible&&!r.isHiding&&(n=!1);var a=r.selectionMin(i),o=r.selectionMax(i);W(a)&&(!W(e)||a<e)&&(e=a),W(o)&&(!W(t)||o>t)&&(t=o);}})),this.includeRangesInMinMax&&this.axisRanges.each((function(i){if(!i.ignoreMinMax){var n=ie(i.value,i.endValue),r=te(i.value,i.endValue);n<e&&(e=n),r>t&&(t=r);}})),W(this._minDefined)?e=this.strictMinMax?this._minDefined:this.min:this.strictMinMax&&(e=this._minReal),W(this._maxDefined)?t=this.strictMinMax?this._maxDefined:this.max:this.strictMinMax&&(t=this._maxReal),e==t){e-=this._deltaMinMax,t+=this._deltaMinMax;var r=this.adjustMinMax(e,t,0,this._gridCount,this.strictMinMax);e=r.min,t=r.max;}var a=this.adjustDifference(e,t),o=this.adjustMinMax(e,t,a,this._gridCount);e=o.min,t=o.max,e-=(t-e)*this.extraMin,t+=(t-e)*this.extraMax,e=J(e,this.min,this.max),t=J(t,this.min,this.max),a=this.adjustDifference(e,t),o=this.adjustMinMax(e,t,a,this._gridCount,!0),e=o.min,t=o.max,this.strictMinMax&&(e=te(e,this._minDefined),t=ie(t,this._maxDefined));var s=o.step;this.syncWithAxis&&(o=this.syncAxes(e,t,s),e=o.min,t=o.max,this.invalidate()),s=o.step,this._difference=this.adjustDifference(this.min,this.max);var l=this.valueToPosition(e),u=this.valueToPosition(t);n&&!this.syncWithAxis&&(l=0,u=1);var d=0;this.syncWithAxis?(d=5,this.setCache(e+"-"+t,s)):(this._step==s&&this._minZoomed==e&&this._maxZoomed==t||(this._dsc=!0),this._step=s,this._minZoomed=e,this._maxZoomed=t),this.keepSelection||this.zoom({start:l,end:u},!1,!1,d);},Object.defineProperty(t.prototype,"strictMinMax",{get:function(){return this.getPropertyValue("strictMinMax")},set:function(e){this.setPropertyValue("strictMinMax",e)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logarithmic",{get:function(){return this.getPropertyValue("logarithmic")},set:function(e){this.setPropertyValue("logarithmic",e)&&(this.invalidate(),this.series.each((function(e){e.invalidateDataItems();})));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepSelection",{get:function(){return this.getPropertyValue("keepSelection")},set:function(e){this.setPropertyValue("keepSelection",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"includeRangesInMinMax",{get:function(){return this.getPropertyValue("includeRangesInMinMax")},set:function(e){this.setPropertyValue("includeRangesInMinMax",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPrecision",{get:function(){return this.getPropertyValue("maxPrecision")},set:function(e){this.setPropertyValue("maxPrecision",e)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extraTooltipPrecision",{get:function(){return this.getPropertyValue("extraTooltipPrecision")},set:function(e){this.setPropertyValue("extraTooltipPrecision",e)&&this.invalidate();},enumerable:!0,configurable:!0}),t.prototype.handleExtremesChange=function(){var e=this;if(this._extremesChanged=!0,this.getMinMax(),this.ghostLabel){this.dataItems.each((function(t){t.label&&t.label.pixelWidth>0&&(e.ghostLabel.text=t.label.currentText);}));}},t.prototype.getX=function(e,t,i,n,r){return this.renderer.positionToPoint(this.getPositionX(e,t,i,n,r)).x},t.prototype.getPositionX=function(e,t,i,n,r){var a=e.getWorkingValue(t);j(n)||(n="valueX");var o=e.getValue(n,"stack");W(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return r&&(s=J(s,r.start,r.end)),s},t.prototype.getY=function(e,t,i,n,r){return this.renderer.positionToPoint(this.getPositionY(e,t,i,n,r)).y},t.prototype.getPositionY=function(e,t,i,n,r){var a=e.getWorkingValue(t);j(n)||(n="valueY");var o=e.getValue(n,"stack");W(a)||(a=this.baseValue,this.logarithmic&&o>0&&(a=0));var s=this.valueToPosition(a+o);return r&&(s=J(s,r.start,r.end)),s},t.prototype.getAngle=function(e,t,i,n,r){var a=e.getWorkingValue(t),o=e.getValue(n,"stack");W(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return r&&(s=J(s,r.start,r.end)),this.positionToAngle(s)},t.prototype.getAnyRangePath=function(e,t,i){var n=this.valueToPosition(e),r=this.valueToPosition(t);return this.getPositionRangePath(n,r)},t.prototype.getTooltipText=function(e){var t=K(this.positionToValue(e),this._stepDecimalPlaces+this.extraTooltipPrecision),i=this.tooltip.numberFormatter.format(t);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},t.prototype.zoomToValues=function(e,t,i,n){var r=(e-this.min)/(this.max-this.min),a=(t-this.min)/(this.max-this.min);this.zoom({start:r,end:a},i,n);},Object.defineProperty(t.prototype,"minZoomed",{get:function(){return this.syncWithAxis?this._minZoomed:te(this.min,this._minZoomed)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxZoomed",{get:function(){return this.syncWithAxis?this._maxZoomed:ie(this.max,this._maxZoomed)},enumerable:!0,configurable:!0}),t.prototype.fixAxisBreaks=function(){var t=this;e.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(e){var i=e.adjustedStartValue,n=e.adjustedEndValue,r=n-i,a=Math.ceil(r*e.breakSize)*t._gridCount/(t.max-t.min),o=t.adjustMinMax(i,n,r,a,!0);e.adjustedStep=o.step,e.adjustedMin=o.min,e.adjustedMax=o.max;})),this._difference=this.adjustDifference(this.min,this.max);},t.prototype.getPositionLabel=function(e){var t=this.positionToValue(e);return this.numberFormatter.format(t)},t.prototype.showTooltipAt=function(e){this.showTooltipAtPosition(this.valueToPosition(e));},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.min=t.min,this.max=t.max,this.calculateTotals=t.calculateTotals,this._baseValue=t.baseValue;},Object.defineProperty(t.prototype,"syncWithAxis",{get:function(){return this.getPropertyValue("syncWithAxis")},set:function(e){var t=this;this.setPropertyValue("syncWithAxis",e,!0)&&e&&(this._disposers.push(e.events.on("extremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("selectionextremeschanged",this.handleSelectionExtremesChange,this,!1)),this._disposers.push(e.events.on("startendchanged",this.handleSelectionExtremesChange,this,!1)),this.events.on("shown",this.handleSelectionExtremesChange,this,!1),this.events.on("maxsizechanged",(function(){t.clearCache(),t._disposers.push(St.events.once("exitframe",(function(){t.handleSelectionExtremesChange();})));}),this,!1));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treatZeroAs",{get:function(){return this.getPropertyValue("treatZeroAs")},set:function(e){this.setPropertyValue("treatZeroAs",e,!0);},enumerable:!0,configurable:!0}),t.prototype.syncAxes=function(e,t,i){var n=this.syncWithAxis;if(n){W(e)||(e=this.min),W(t)||(t=this.max),W(i)||(i=this._step);var r=Math.round((n.maxZoomed-n.minZoomed)/n.step),a=Math.round((t-e)/i);if(W(r)&&W(a))for(var o=!1,s=0,l=.01*(t-e),u=e,d=t,c=i;1!=o;)if(o=this.checkSync(u,d,c,r),++s>1e3&&(o=!0),o)e=u,t=d,i=c;else {s/3==Math.round(s/3)?(u=e-l*s,e>=0&&u<0&&(u=0)):(d=t+l*s)<=0&&d>0&&(d=0);var h=this.adjustMinMax(u,d,d-u,this._gridCount,!0);u=h.min,d=h.max,c=h.step;}}return {min:e,max:t,step:i}},t.prototype.checkSync=function(e,t,i,n){for(var r=(t-e)/i,a=1;a<n;a++)if(K(r/a,1)==n||r*a==n)return !0;return !1},t.prototype.processConfig=function(t){t&&j(t.syncWithAxis)&&N(t.syncWithAxis)&&(this.map.hasKey(t.syncWithAxis)?t.syncWithAxis=this.map.getKey(t.syncWithAxis):(this.processingErrors.push('[ValueAxis] No axis with id "'+t.syncWithAxis+'" found for `syncWithAxis`'),delete t.xAxis)),e.prototype.processConfig.call(this,t);},t.prototype._saveMinMax=function(e,t){},t}(kg);St.registeredClasses.ValueAxis=zg,St.registeredClasses.ValueAxisDataItem=Wg;var Hg=function(e){function t(){var t=e.call(this)||this;return t.className="DateAxisBreak",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"startDate",{get:function(){return this.getPropertyValue("startDate")},set:function(e){this.setPropertyValue("startDate",e)&&(this.startValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.getPropertyValue("endDate")},set:function(e){this.setPropertyValue("endDate",e)&&(this.endValue=e.getTime(),this.axis&&(this.axis.invalidate(),this.axis.invalidateSeries()));},enumerable:!0,configurable:!0}),t}(Ng);St.registeredClasses.DateAxisBreak=Hg;var Gg=function(e){function t(){var t=e.call(this)||this;return t.className="DateAxisDataItem",t.applyTheme(),t.values.date={},t.values.endDate={},t}return x(t,e),Object.defineProperty(t.prototype,"date",{get:function(){return this.dates.date},set:function(e){this.setDate("date",e),this.value=e.getTime();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endDate",{get:function(){return this.dates.endDate},set:function(e){this.setDate("endDate",e),this.endValue=e.getTime();},enumerable:!0,configurable:!0}),t}(Wg),Ug=function(e){function t(){var t=e.call(this)||this;return t._gapBreaks=!1,t.gridIntervals=new Tt,t.groupIntervals=new Tt,t.dateFormats=new vt,t.periodChangeDateFormats=new vt,t._baseIntervalReal={timeUnit:"day",count:1},t._prevSeriesTime={},t._minDifference={},t._firstWeekDay=1,t.groupMin={},t.groupMax={},t._intervalMax={},t._intervalMin={},t.className="DateAxis",t.setPropertyValue("markUnitChange",!0),t.snapTooltip=!0,t.tooltipPosition="pointer",t.setPropertyValue("groupData",!1),t.groupCount=200,t.events.on("parentset",t.getDFFormatter,t,!1),t.gridIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}]),t.groupIntervals.pushAll([{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}]),t.axisFieldName="date",t.applyTheme(),t}return x(t,e),t.prototype.fillRule=function(e){var t=e.value,i=e.component,n=i._gridInterval,r=Nn(n.timeUnit,n.count);Math.round((t-i.min)/r)/2==Math.round(Math.round((t-i.min)/r)/2)?e.axisFill.__disabled=!0:e.axisFill.__disabled=!1;},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),this.dateFormats.hasKey("millisecond")||this.dateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.dateFormats.hasKey("second")||this.dateFormats.setKey("second",this.language.translate("_date_second")),this.dateFormats.hasKey("minute")||this.dateFormats.setKey("minute",this.language.translate("_date_minute")),this.dateFormats.hasKey("hour")||this.dateFormats.setKey("hour",this.language.translate("_date_hour")),this.dateFormats.hasKey("day")||this.dateFormats.setKey("day",this.language.translate("_date_day")),this.dateFormats.hasKey("week")||this.dateFormats.setKey("week",this.language.translate("_date_day")),this.dateFormats.hasKey("month")||this.dateFormats.setKey("month",this.language.translate("_date_month")),this.dateFormats.hasKey("year")||this.dateFormats.setKey("year",this.language.translate("_date_year")),this.periodChangeDateFormats.hasKey("millisecond")||this.periodChangeDateFormats.setKey("millisecond",this.language.translate("_date_millisecond")),this.periodChangeDateFormats.hasKey("second")||this.periodChangeDateFormats.setKey("second",this.language.translate("_date_second")),this.periodChangeDateFormats.hasKey("minute")||this.periodChangeDateFormats.setKey("minute",this.language.translate("_date_minute")),this.periodChangeDateFormats.hasKey("hour")||this.periodChangeDateFormats.setKey("hour",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("day")||this.periodChangeDateFormats.setKey("day",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("week")||this.periodChangeDateFormats.setKey("week",this.language.translate("_date_day")),this.periodChangeDateFormats.hasKey("month")||this.periodChangeDateFormats.setKey("month",this.language.translate("_date_month")+" "+this.language.translate("_date_year"));},t.prototype.createDataItem=function(){return new Gg},t.prototype.createAxisBreak=function(){return new Hg},t.prototype.validateDataItems=function(){var t=this.start,i=this.end,n=this.baseDuration,r=(this.max-this.min)/n;this._firstWeekDay=this.getFirstWeekDay(),this.getDFFormatter(),e.prototype.validateDataItems.call(this);var a=Nn(this.mainBaseInterval.timeUnit,this.mainBaseInterval.count);this.maxZoomFactor=Math.max(1,(this.max-this.min)/a),this._deltaMinMax=this.baseDuration/2,t+=(i-t)*(1-r/((this.max-this.min)/n)),this.zoom({start:t,end:i},!1,!0);},t.prototype.handleSelectionExtremesChange=function(){},t.prototype.getIntervalMax=function(e){return this._intervalMax[e.timeUnit+e.count]},t.prototype.getIntervalMin=function(e){return this._intervalMin[e.timeUnit+e.count]},t.prototype.calculateZoom=function(){var t=this;e.prototype.calculateZoom.call(this);var i=this.adjustDifference(this._minZoomed,this._maxZoomed),n=!1;if(this.groupData&&j(i)){var r=this.mainBaseInterval,a=this.getIntervalMin(r),o=this.getIntervalMax(r),s=a+(o-a)*this.start,l=a+(o-a)*this.end,u=this.adjustDifference(s,l)+(this.startLocation+(1-this.endLocation))*this.baseDuration,d=void 0;this.groupInterval?d=C({},this.groupInterval):Nn((d=this.chooseInterval(0,u,this.groupCount,this.groupIntervals)).timeUnit,d.count)<Nn(r.timeUnit,r.count)&&(d=C({},r)),this._groupInterval=d;var c=d.timeUnit+d.count;this._currentDataSetId!=c&&(this._currentDataSetId=c,this.dispatch("groupperiodchanged")),this.series.each((function(e){e.baseAxis==t&&e.setDataSet(t._currentDataSetId)&&(n=!0);}));}var h=this.chooseInterval(0,i,this._gridCount);Nn(h.timeUnit,h.count)<this.baseDuration&&(h=C({},this.baseInterval)),this._gridInterval=h,this._nextGridUnit=Bn(h.timeUnit),this._intervalDuration=Nn(h.timeUnit,h.count),this._gridDate=Un(new Date(this.minZoomed-Nn(h.timeUnit,h.count)),h.timeUnit,h.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),ut(this.series.iterator(),(function(e){if(e.baseAxis==t){var i=e.getAxisField(t),r=Un(new Date(t._minZoomed+.05*t.baseDuration),t.baseInterval.timeUnit,t.baseInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone).getTime(),a=r.toString(),o=e.dataItemsByAxis.getKey(t.uid).getKey(a+e.currentDataSetId),s=0;0!=t.start&&(s=o?(o=t.findFirst(o,r,i)).index:e.dataItems.findClosestIndex(t._minZoomed,(function(e){return e[i]}),"left"));var l=t.baseInterval,u=Gn(Un(new Date(t._maxZoomed),l.timeUnit,l.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone),l.timeUnit,l.count,t._df.utc).getTime(),d=u.toString(),c=e.dataItemsByAxis.getKey(t.uid).getKey(d+e.currentDataSetId),h=e.dataItems.length;1!=t.end&&(c?h=c.index:(u-=1,h=e.dataItems.findClosestIndex(u,(function(e){return e[i]}),"right"),h++)),e.max(t)<r?(e.startIndex=e.dataItems.length,e.endIndex=e.dataItems.length,e.outOfRange=!0):e.min(t)>u?(e.startIndex=0,e.endIndex=0,e.outOfRange=!0):(e.outOfRange=!1,e.startIndex=s,e.endIndex=h),!n&&e.dataRangeInvalid&&e.validateDataRange();}}));},t.prototype.findFirst=function(e,t,i){var n=e.index;if(n>0){var r=e.component.dataItems.getIndex(n-1),a=r[i];return !a||a.getTime()<t?e:this.findFirst(r,t,i)}return e},t.prototype.validateData=function(){e.prototype.validateData.call(this),W(this.baseInterval.count)||(this.baseInterval.count=1);},Object.defineProperty(t.prototype,"minDifference",{get:function(){var e=this,t=Number.MAX_VALUE;return this.series.each((function(i){t>e._minDifference[i.uid]&&(t=e._minDifference[i.uid]);})),t!=Number.MAX_VALUE&&0!=t||(t=Nn("day")),t},enumerable:!0,configurable:!0}),t.prototype.seriesDataChangeUpdate=function(e){this._minDifference[e.uid]=Number.MAX_VALUE;},t.prototype.postProcessSeriesDataItems=function(e){var t=this;this._firstWeekDay=this.getFirstWeekDay(),e?this.seriesGroupUpdate(e):this.series.each((function(e){t.seriesGroupUpdate(e);})),this.addEmptyUnitsBreaks();},t.prototype.seriesGroupUpdate=function(e){var t=this;JSON.stringify(e._baseInterval[this.uid])!=JSON.stringify(this.mainBaseInterval)&&(e._baseInterval[this.uid]=this.mainBaseInterval,e.mainDataSet.each((function(e){t.postProcessSeriesDataItem(e);})),this.groupData&&this.groupSeriesData(e));},t.prototype.groupSeriesData=function(e){var t=this;if(e.baseAxis==this&&e.dataItems.length>0&&!e.dataGrouped){e.bulletsContainer.removeChildren();var i=[],n=this.mainBaseInterval,r=Nn(n.timeUnit,n.count);this.groupIntervals.each((function(e){var n=Nn(e.timeUnit,e.count);(n>r&&n<t.max-t.min||t.groupInterval)&&i.push(e);})),e._dataSets&&(e._dataSets.each((function(e,t){t.each((function(e){e.dispose();})),t.clear();})),e._dataSets.clear()),e.dataGrouped=!0,we(i,(function(i){var n="date"+t.axisLetter,r=i.timeUnit+i.count,a=new Ft(e.mainDataSet.template.clone());e.dataSets.setKey(r,a);var o,s,l=e.mainDataSet,u=Number.NEGATIVE_INFINITY,d=0,c=[];tt(e.dataFields,(function(e,t){var i=e;i!=n&&-1==i.indexOf("Show")&&c.push(i);})),l.each((function(r){var l=r.getDate(n);if(l){var h=l.getTime(),p=(s=Un(new Date(h),i.timeUnit,i.count,t._df.firstDayOfWeek,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone)).getTime();u<p?(o&&e._adapterO&&we(c,(function(t){o.values[t].value=e._adapterO.apply("groupDataItem",{dataItem:o,interval:i,dataField:t,date:s,value:o.values[t].value}).value,o.values[t].workingValue=o.values[t].value;})),(o=a.create()).dataContext={},o.setWorkingLocation("dateX",e.dataItems.template.locations.dateX,0),o.setWorkingLocation("openDateX",e.dataItems.template.locations.openDateX,0),o.setWorkingLocation("dateY",e.dataItems.template.locations.dateY,0),o.setWorkingLocation("openDateY",e.dataItems.template.locations.openDateY,0),o.component=e,o.setDate(n,s),o._index=d,d++,we(c,(function(t){var n=r.values[t];if(n){var a=n.value;e._adapterO&&(a=e._adapterO.apply("groupValue",{dataItem:r,interval:i,dataField:t,date:s,value:a}).value);var l=o.values[t];W(a)?(l.value=a,l.workingValue=a,l.open=a,l.close=a,l.low=a,l.high=a,l.sum=a,l.average=a,l.count=1):l.count=0;}})),t.postProcessSeriesDataItem(o,i),tt(e.propertyFields,(function(e,t){var i=e,n=r.properties[e];j(n)&&(o.hasProperties=!0,o.setProperty(i,n));})),o.groupDataItems=[r],u=p):o&&(we(c,(function(t){var n=e.groupFields[t],a=r.values[t];if(a){var l=a.value;if(e._adapterO&&(l=e._adapterO.apply("groupValue",{dataItem:r,interval:i,dataField:t,date:s,value:l}).value),W(l)){var u=o.values[t];W(u.open)||(u.open=l),u.close=l,(u.low>l||!W(u.low))&&(u.low=l),(u.high<l||!W(u.high))&&(u.high=l),W(u.sum)?u.sum+=l:u.sum=l,u.count++,u.average=u.sum/u.count,W(u[n])&&(u.value=u[n],u.workingValue=u.value);}}})),Zt(r.properties,o.properties),tt(e.propertyFields,(function(e,t){var i=e,n=r.properties[e];j(n)&&(o.hasProperties=!0,o.setProperty(i,n));})),o.groupDataItems.push(r));}o&&Zt(r.dataContext,o.dataContext);})),o&&e._adapterO&&we(c,(function(t){o.values[t].value=e._adapterO.apply("groupDataItem",{dataItem:o,interval:i,dataField:t,date:s,value:o.values[t].value}).value,o.values[t].workingValue=o.values[t].value;}));})),this.calculateZoom();}},t.prototype.getDFFormatter=function(){this._df=this.dateFormatter;},t.prototype.postProcessSeriesDataItem=function(e,t){var i=this,n="";t?n=t.timeUnit+t.count:t=this.mainBaseInterval;var r=e.component.dataItemsByAxis.getKey(this.uid);tt(e.dates,(function(a){var o=e.getDate(a).getTime(),s=Un(new Date(o),t.timeUnit,t.count,i._firstWeekDay,i._df.utc,void 0,i._df.timezoneMinutes,i._df.timezone).getTime(),l=Gn(new Date(s),t.timeUnit,t.count,i._df.utc);e.setCalculatedValue(a,s,"open"),e.setCalculatedValue(a,l.getTime(),"close"),r.setKey(s+n,e);}));},t.prototype.addEmptyUnitsBreaks=function(){var e=this;if(this.skipEmptyPeriods&&W(this.min)&&W(this.max)){var t=this.baseInterval.timeUnit,i=this.baseInterval.count;this._axisBreaks&&this._axisBreaks.clear();for(var n=Un(new Date(this.min),t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),r=void 0,a=function(){Gn(n,t,i,o._df.utc);var a=n.getTime(),s=a.toString();pt(o.series.iterator(),(function(t){return !!t.dataItemsByAxis.getKey(e.uid).getKey(s+t.currentDataSetId)}))?r&&(r.endDate=new Date(a-1),r=void 0):r||((r=o.axisBreaks.create()).startDate=new Date(a),o._gapBreaks=!0);},o=this;n.getTime()<this.max-this.baseDuration;)a();}},t.prototype.fixAxisBreaks=function(){var t=this;e.prototype.fixAxisBreaks.call(this);var i=this._axisBreaks;i&&i.length>0&&i.each((function(e){var i=Math.ceil(t._gridCount*(Math.min(t.end,e.endPosition)-Math.max(t.start,e.startPosition))/(t.end-t.start));e.gridInterval=t.chooseInterval(0,e.adjustedEndValue-e.adjustedStartValue,i);var n=Un(new Date(e.adjustedStartValue),e.gridInterval.timeUnit,e.gridInterval.count,t._firstWeekDay,t._df.utc,void 0,t._df.timezoneMinutes,t._df.timezone);n.getTime()>e.startDate.getTime()&&Gn(n,e.gridInterval.timeUnit,e.gridInterval.count,t._df.utc),e.gridDate=n;}));},t.prototype.getFirstWeekDay=function(){return this._df?this._df.firstDayOfWeek:1},t.prototype.getGridDate=function(e,t){var i=this._gridInterval.timeUnit,n=this._gridInterval.count;Un(e,i,1,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);var r=e.getTime(),a=zn(e),o=Gn(a,i,t,this._df.utc).getTime(),s=this.isInBreak(o);s&&s.endDate&&(Un(a=new Date(s.endDate.getTime()),i,n,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),a.getTime()<s.endDate.getTime()&&Gn(a,i,n,this._df.utc),o=a.getTime());var l=this.adjustDifference(r,o);return Math.round(l/Nn(i))<n?this.getGridDate(e,t+n):a},t.prototype.getBreaklessDate=function(e,t,i){var n=new Date(e.endValue);Un(n,t,i,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),Gn(n,t,i,this._df.utc);var r=n.getTime();return (e=this.isInBreak(r))?this.getBreaklessDate(e,t,i):n},t.prototype.validateAxisElements=function(){var e=this;if(W(this.max)&&W(this.min)){this.calculateZoom();var t=this._gridDate.getTime(),i=this._gridInterval.timeUnit,n=this._gridInterval.count,r=zn(this._gridDate),a=this._dataItemsIterator;this.resetIterators();for(var o=function(){var e=s.getGridDate(zn(r),n);t=e.getTime();var o=zn(e);o=Gn(o,i,n,s._df.utc);var l=s.dateFormats.getKey(i);s.markUnitChange&&r&&Hn(e,r,s._nextGridUnit,s._df.utc)&&"year"!==i&&(l=s.periodChangeDateFormats.getKey(i));var u=s._df.format(e,l),d=a.find((function(e){return e.text===u}));d.__disabled&&(d.__disabled=!1),s.appendDataItem(d),d.axisBreak=void 0,d.date=e,d.endDate=o,d.text=u,s.validateDataElement(d),r=e;},s=this;t<=this._maxZoomed;)o();var l=this.renderer;this._axisBreaks&&ut(this._axisBreaks.iterator(),(function(t){if(t.breakSize>0){var i=t.gridInterval.timeUnit,n=t.gridInterval.count;if(ae(t.startPoint,t.endPoint)>4*l.minGridDistance)for(var r,o=t.gridDate.getTime(),s=0,u=function(){var l=zn(t.gridDate);if(o=Gn(l,i,n*s,e._df.utc).getTime(),s++,o>t.adjustedStartValue&&o<t.adjustedEndValue){var u=zn(l);u=Gn(u,i,n,e._df.utc);var d=e.dateFormats.getKey(i);e.markUnitChange&&r&&Hn(l,r,e._nextGridUnit,e._df.utc)&&"year"!==i&&(d=e.periodChangeDateFormats.getKey(i));var c=e._df.format(l,d),h=a.find((function(e){return e.text===c}));h.__disabled&&(h.__disabled=!1),e.appendDataItem(h),h.axisBreak=t,t.dataItems.moveValue(h),h.date=l,h.endDate=u,h.text=c,r=l,e.validateDataElement(h);}};o<=t.adjustedMax;)u();}}));}},t.prototype.validateDataElement=function(e){if(e.itemIndex=this._axisItemCount,this._axisItemCount++,W(this.max)&&W(this.min)){var t=this.renderer,i=e.value,n=e.endValue;W(n)||(n=i);var r=this.valueToPosition(i),a=this.valueToPosition(n),o=a;!e.isRange&&this._gridInterval.count>this.baseInterval.count&&(a=r+(a-r)/(this._gridInterval.count/this.baseInterval.count)),e.position=r;var s=e.tick;s&&!s.disabled&&t.updateTickElement(s,r,a);var l=e.grid;l&&!l.disabled&&t.updateGridElement(l,r,a);var u=e.axisFill;u&&!u.disabled&&(t.updateFillElement(u,r,o),e.isRange||this.fillRule(e));var d=e.mask;d&&t.updateFillElement(d,r,a),e.bullet&&t.updateBullet(e.bullet,r,a);var c=e.label;if(c&&!c.disabled){var h=c.location;0==h&&(h=1!=this._gridInterval.count||"week"==this._gridInterval.timeUnit||e.isRange?0:.5),t.updateLabelElement(c,r,a,h);}}},Object.defineProperty(t.prototype,"baseDuration",{get:function(){return Nn(this.baseInterval.timeUnit,this.baseInterval.count)},enumerable:!0,configurable:!0}),t.prototype.adjustMinMax=function(e,t){return {min:e,max:t,step:this.baseDuration}},t.prototype.fixMin=function(e){var t=this.baseInterval,i=Un(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return i+(Gn(new Date(i),t.timeUnit,t.count,this._df.utc).getTime()-i)*this.startLocation},t.prototype.fixMax=function(e){var t=this.baseInterval,i=Un(new Date(e),t.timeUnit,t.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone).getTime();return i+(Gn(new Date(i),t.timeUnit,t.count,this._df.utc).getTime()-i)*this.endLocation},t.prototype.chooseInterval=function(e,t,i,n){n||(n=this.gridIntervals);var r=n.getIndex(e),a=Nn(r.timeUnit,r.count),o=n.length-1;if(e>=o)return C({},n.getIndex(o));var s=Math.ceil(t/a);return t<a&&e>0?C({},n.getIndex(e-1)):s<=i?C({},n.getIndex(e)):e+1<n.length?this.chooseInterval(e+1,t,i,n):C({},n.getIndex(e))},t.prototype.formatLabel=function(e){return this._df.format(e)},t.prototype.dateToPosition=function(e){return this.valueToPosition(e.getTime())},t.prototype.anyToPosition=function(e){return e instanceof Date?this.dateToPosition(e):this.valueToPosition(e)},t.prototype.dateToPoint=function(e){var t=this.dateToPosition(e),i=this.renderer.positionToPoint(t),n=this.renderer.positionToAngle(t);return {x:i.x,y:i.y,angle:n}},t.prototype.anyToPoint=function(e){return e instanceof Date?this.dateToPoint(e):this.valueToPoint(e)},t.prototype.positionToDate=function(e){return new Date(this.positionToValue(e))},t.prototype.getPositionX=function(e,t,i,n,r){var a=this.getTimeByLocation(e,t,i);W(a)||(a=this.baseValue);var o=this.valueToPosition(a);return r&&(o=J(o,r.start,r.end)),o},t.prototype.getPositionY=function(e,t,i,n,r){var a=this.getTimeByLocation(e,t,i),o=e.getValue("valueX","stack");W(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return r&&(s=J(s,r.start,r.end)),s},t.prototype.getAngle=function(e,t,i,n,r){var a=this.getTimeByLocation(e,t,i),o=e.getValue(n,"stack");W(a)||(a=this.baseValue);var s=this.valueToPosition(a+o);return r&&(s=J(s,r.start,r.end)),this.positionToAngle(s)},t.prototype.getTimeByLocation=function(e,t,i){if(j(t)){W(i)||W(i=e.workingLocations[t])||(i=0);var n=e.values[t].open,r=e.values[t].close,a=e.values[t].workingValue,o=e.values[t].value-a;return r-=o,W(n-=o)&&W(r)?n+(r-n)*i:void 0}},t.prototype.processSeriesDataItem=function(e,t){var i,n=e.component,r=e["date"+t];if(W(this.timezoneOffset)?(r.setTime(r.getTime()+6e4*(r.getTimezoneOffset()-this.timezoneOffset)),e.setValue("date"+t,r.getTime(),0)):j(this.timezone)&&(r=qn(r,this.timezone),e.setValue("date"+t,r.getTime(),0),e["date"+t]=r),r){i=r.getTime();var a,o=e["openDate"+t],s=this._prevSeriesTime[n.uid];if(o&&(a=o.getTime()),W(a)){var l=Math.abs(i-a);this._minDifference[n.uid]>l&&(this._minDifference[n.uid]=l);}var u=i-s;u>0&&this._minDifference[n.uid]>u&&(this._minDifference[n.uid]=u),this._prevSeriesTime[n.uid]=i,n._baseInterval[this.uid]&&this.postProcessSeriesDataItem(e);}},t.prototype.updateAxisBySeries=function(){e.prototype.updateAxisBySeries.call(this);var t=this.chooseInterval(0,this.minDifference,1);this.minDifference>=Nn("day",27)&&"week"==t.timeUnit&&(t.timeUnit="month",t.count=1),"month"==t.timeUnit&&(this.minDifference>=Nn("day",58)&&1==t.count&&(t.count=2),this.minDifference>=Nn("day",87)&&2==t.count&&(t.count=3),this.minDifference>=Nn("day",174)&&5==t.count&&(t.count=6)),this.minDifference>=Nn("hour",23)&&"hour"==t.timeUnit&&(t.timeUnit="day",t.count=1),this.minDifference>=Nn("week",1)-Nn("hour",1)&&"day"==t.timeUnit&&(t.timeUnit="week",t.count=1),this.minDifference>=Nn("year",1)-Nn("day",1.01)&&"month"==t.timeUnit&&(t.timeUnit="year",t.count=1),this._baseIntervalReal=t,this._mainBaseInterval=t;},Object.defineProperty(t.prototype,"baseInterval",{get:function(){return this._groupInterval?this._groupInterval:this._baseInterval?this._baseInterval:this._baseIntervalReal},set:function(e){JSON.stringify(this._baseInterval)!=JSON.stringify(e)&&(this._baseInterval=e,this._mainBaseInterval=e,W(e.count)||(e.count=1),this.invalidate(),this.postProcessSeriesDataItems());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mainBaseInterval",{get:function(){return this._baseInterval?this._baseInterval:this._mainBaseInterval?this._mainBaseInterval:this._baseIntervalReal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipEmptyPeriods",{get:function(){return this.getPropertyValue("skipEmptyPeriods")},set:function(e){if(e){var t=this.axisBreaks.template;t.startLine.disabled=!0,t.endLine.disabled=!0,t.fillShape.disabled=!0,t.breakSize=0;}else this._gapBreaks&&(this.axisBreaks.clear(),this._gapBreaks=!1);this.setPropertyValue("skipEmptyPeriods",e)&&(this.invalidate(),this.postProcessSeriesDataItems(),this.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipDateFormat",{get:function(){return this.getPropertyValue("tooltipDateFormat")},set:function(e){this.setPropertyValue("tooltipDateFormat",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markUnitChange",{get:function(){return this.getPropertyValue("markUnitChange")},set:function(e){this.setPropertyValue("markUnitChange",e)&&this.invalidateData();},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var t,i=this.positionToDate(e);if(i=Un(i,this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,new Date(this.min),this._df.timezoneMinutes,this._df.timezone),this.tooltipDate=i,j(this.tooltipDateFormat))t=this._df.format(i,this.tooltipDateFormat,-1==["day","month","week","year"].indexOf(this.baseInterval.timeUnit));else {var n=this.dateFormats.getKey(this.baseInterval.timeUnit);t=n?this._df.format(i,n):this.getPositionLabel(e);}return this._adapterO?this._adapterO.apply("getTooltipText",t):t},t.prototype.roundPosition=function(e,t,i){var n=this.baseInterval,r=n.timeUnit,a=n.count,o=this.positionToDate(e);if(Un(o,r,a,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),t>0&&Gn(o,r,t*a,this._df.utc),i>0&&i<1&&o.setTime(o.getTime()+this.baseDuration*i),this.isInBreak(o.getTime()))for(;o.getTime()<this.max&&(Gn(o,r,a,this._df.utc),this.isInBreak(o.getTime())););return this.dateToPosition(o)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getSeriesDataItem=function(e,t,i){var n=this.positionToValue(t),r=n-("Y"==this.axisLetter?e.dataItems.template.locations.dateY:e.dataItems.template.locations.dateX)*this.baseDuration,a=Un(new Date(n),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o=Un(new Date(n+this.baseDuration),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone);o.getTime()>a.getTime()&&Math.abs(o.getTime()-r)<Math.abs(r-a.getTime())&&(a=o);var s,l=e.dataItemsByAxis.getKey(this.uid).getKey(a.getTime()+e.currentDataSetId);!l&&i&&(s="Y"==this.axisLetter?"dateY":"dateX",l=e.dataItems.getIndex(e.dataItems.findClosestIndex(a.getTime(),(function(e){return e[s]?e[s].getTime():-1/0}),"any")));return l},t.prototype.getPositionLabel=function(e){var t=this.positionToDate(e);return this._df.format(t,this.getCurrentLabelFormat())},t.prototype.getCurrentLabelFormat=function(){return this.dateFormats.getKey(this._gridInterval?this._gridInterval.timeUnit:"day")},t.prototype.initRenderer=function(){e.prototype.initRenderer.call(this);var t=this.renderer;t&&(t.ticks.template.location=0,t.grid.template.location=0,t.labels.template.location=0,t.baseGrid.disabled=!0);},Object.defineProperty(t.prototype,"basePoint",{get:function(){return {x:0,y:0}},enumerable:!0,configurable:!0}),t.prototype.animateMinMax=function(e,t){var i=this,n=this.animate([{property:"_minAdjusted",from:this._minAdjusted,to:e},{property:"_maxAdjusted",from:this._maxAdjusted,to:t}],this.rangeChangeDuration,this.rangeChangeEasing);return n.events.on("animationprogress",(function(){i.dispatch("extremeschanged");})),n},t.prototype.handleExtremesChange=function(){if(e.prototype.handleExtremesChange.call(this),this.groupData){var t=this.baseInterval.timeUnit+this.baseInterval.count;this.groupMin[t]=this._finalMin,this.groupMax[t]=this._finalMax;}},t.prototype.zoomToDates=function(e,t,i,n,r){e=this._df.parse(e),t=this._df.parse(t),this.zoomToValues(e.getTime(),t.getTime(),i,n,r);},t.prototype.zoomToValues=function(e,t,i,n,r){var a=this;if(this.groupData){var o=this.adjustDifference(e,t),s=!1;t==this.max&&(s=!0);var l=!1;if(e==this.min&&(l=!0),j(o)){var u=this.mainBaseInterval,d=this.chooseInterval(0,o,this.groupCount,this.groupIntervals);(d.timeUnit==u.timeUnit&&d.count<u.count||Nn(d.timeUnit,1)<Nn(u.timeUnit,1))&&(d=C({},u));var c=d.timeUnit+d.count,h=this.groupMin[c],p=this.groupMax[c];W(h)&&W(p)||(h=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,this.series.each((function(e){var t=e.min(a),i=e.max(a);if(e._dataSets){var n=e._dataSets.getKey(d.timeUnit+d.count);if(n){var r=n.getIndex(0),o=n.getIndex(n.length-1);r&&(e.xAxis==a?t=r.dateX.getTime():e.yAxis==a&&(t=r.dateY.getTime())),o&&(e.xAxis==a?i=o.dateX.getTime():e.yAxis==a&&(i=o.dateY.getTime()));}}i=Un(Gn(new Date(i),d.timeUnit,1,a._df.utc),d.timeUnit,1,a._df.firstDayOfWeek,a._df.utc,void 0,a._df.timezoneMinutes,a._df.timezone).getTime(),t<h&&(h=t),i>p&&(p=i);})),this.groupMin[c]=h,this.groupMax[c]=p),e=J(e,h,p),t=J(t,h,p),r&&(s&&(e=J(e=t-o,h,p)),l&&(t=J(t=e+o,h,p)));m=(e-h)/(p-h),f=(t-h)/(p-h);this.zoom({start:m,end:f},i,n);}}else {var m=this.valueToPosition(e),f=this.valueToPosition(t);this.zoom({start:m,end:f},i,n);}},t.prototype.asIs=function(t){return "baseInterval"==t||e.prototype.asIs.call(this,t)},t.prototype.copyFrom=function(t){var i=this;e.prototype.copyFrom.call(this,t),this.dateFormats=t.dateFormats,this.periodChangeDateFormats=t.periodChangeDateFormats,this.groupIntervals.clear(),t.groupIntervals.each((function(e){i.groupIntervals.push(C({},e));})),this.gridIntervals.clear(),t.gridIntervals.each((function(e){i.gridIntervals.push(C({},e));})),t._baseInterval&&(this.baseInterval=t._baseInterval);},t.prototype.showTooltipAtPosition=function(t,i){var n=this;if(i||(t=this.toAxisPosition(t)),this.snapTooltip){var r,a=this.positionToDate(t).getTime();if(this.series.each((function(e){if(e.baseAxis==n){var i=n.getSeriesDataItem(e,t,!0);if(i){var o=void 0;e.xAxis==n&&(o=i.dateX),e.yAxis==n&&(o=i.dateY),r?Math.abs(r.getTime()-a)>Math.abs(o.getTime()-a)&&(r=o):r=o;}}})),r){var o=r.getTime();r=Un(new Date(o),this.baseInterval.timeUnit,this.baseInterval.count,this._firstWeekDay,this._df.utc,void 0,this._df.timezoneMinutes,this._df.timezone),o=r.getTime();var s=this.renderer.tooltipLocation;0==s&&(s=1e-4),r=new Date(r.getTime()+this.baseDuration*s),t=this.dateToPosition(r),this.chart.cursor&&this.chart.cursor.snapToSeries||this.series.each((function(e){var t=e.dataItemsByAxis.getKey(n.uid).getKey(o+e.currentDataSetId),i=e.showTooltipAtDataItem(t);i?n.chart._seriesPoints.push({series:e,point:i}):(e.tooltipText||e.tooltipHTML)&&e.hideTooltip();}));}}e.prototype.showTooltipAtPosition.call(this,t,!0);},Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupData",{get:function(){return this.getPropertyValue("groupData")},set:function(e){var t=this;this.setPropertyValue("groupData",e)&&(this.series.each((function(i){i.setDataSet(""),e&&!i.dataGrouped&&i.inited&&(i._baseInterval[t.uid]=t.mainBaseInterval,t.groupSeriesData(i));})),this._currentDataSetId="",this._groupInterval=void 0,this.invalidate(),this.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupInterval",{get:function(){return this.getPropertyValue("groupInterval")},set:function(e){this.setPropertyValue("groupInterval",e)&&(this.invalidate(),this.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupCount",{get:function(){return this.getPropertyValue("groupCount")},set:function(e){this.setPropertyValue("groupCount",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezoneOffset",{get:function(){return this.getPropertyValue("timezoneOffset")},set:function(e){this.setPropertyValue("timezoneOffset",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timezone",{get:function(){return this.getPropertyValue("timezone")},set:function(e){this.setPropertyValue("timezone",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridInterval",{get:function(){return this._gridInterval},enumerable:!0,configurable:!0}),t.prototype.makeGap=function(e,t){var i=e.component;if(e&&t&&!i.connect&&W(i.autoGapCount)&&i.baseAxis==this){var n=e.dates["date"+this.axisLetter],r=t.dates["date"+this.axisLetter];if(n&&r)if(n.getTime()-r.getTime()>i.autoGapCount*this.baseDuration)return !0}return !1},Object.defineProperty(t.prototype,"baseValue",{get:function(){return this.min},enumerable:!0,configurable:!0}),t.prototype._saveMinMax=function(e,t){var i=this.groupInterval;i||(i=this._mainBaseInterval);var n=i.timeUnit+i.count;this._intervalMin[n]=e,this._intervalMax[n]=t;},t}(zg);St.registeredClasses.DateAxis=Ug,St.registeredClasses.DateAxisDataItem=Gg;var qg=function(e){function t(){var t=e.call(this)||this;return t.className="AxisRendererX",t.minGridDistance=120,t.opposite=!1,t.rotation=0,t.width=A(100),t.labels.template.horizontalCenter="middle",t.applyTheme(),t}return x(t,e),t.prototype.setAxis=function(t){e.prototype.setAxis.call(this,t),t.layout="vertical";},t.prototype.updateGridContainer=function(){var e=this.axis;if(e){var t=this.gridContainer;t.x=e.pixelX,t.width=e.axisLength;}},t.prototype.processRenderer=function(){e.prototype.processRenderer.call(this);var t=this.axis;if(t){t.width instanceof T||(t.width=A(100)),this.line;var i=t.title;i.rotation=0,i.align="center",this.opposite?(this.line.toFront(),i.toBack()):(i.toFront(),this.toBack(),this.line.toBack());}},t.prototype.updateTooltip=function(){if(this.axis){var e=1e3,t=this.line.pixelX,i=this.line.pixelY,n=this.axisLength,r=e;this.opposite?this.inside||(i=-1e3,r=e):this.inside&&(i=-1e3,r=e),this.axis.updateTooltip("vertical",{x:t,y:i,width:n,height:r});}},t.prototype.updateLabelElement=function(e,t,i,n){j(n)||(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t);e.isMeasured=!e.inside;var a,o=0,s=this.gridContainer.maxHeight;this.opposite?(e.inside?(a="top","bottom"==e.valign&&(o=s,a="bottom"),"middle"==e.valign&&(o=s/2,a="middle")):a="bottom",r.y=o):(e.inside?(a="bottom","top"==e.valign&&(o=-s,a="top"),"middle"==e.valign&&(o=-s/2,a="middle")):a="top",r.y+=o),0==e.rotation&&(e.verticalCenter=a),this.positionItem(e,r),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition);},Object.defineProperty(t.prototype,"axisLength",{get:function(){var e=this.axis;return e.measuredWidth-e.pixelPaddingRight-e.pixelPaddingLeft||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){return {x:this.positionToCoordinate(e),y:0}},t.prototype.pointToPosition=function(e){return this.coordinateToPosition(e.x,e.y)},t.prototype.getPositionRangePath=function(e,t){var i=J(this.positionToCoordinate(e),0,this.axisLength),n=J(this.positionToCoordinate(t),0,this.axisLength),r=Math.abs(n-i),a=this.getHeight();return ha({x:Math.min(i,n),y:0,width:r,height:a},!0)},t.prototype.updateBreakElement=function(t){e.prototype.updateBreakElement.call(this,t);var i=t.startLine,n=t.endLine,r=t.fillShape,a=t.startPoint,o=t.endPoint,s=t.pixelMarginLeft,l=this.getHeight()-t.pixelMarginTop-t.pixelMarginBottom;a.x=J(a.x,-1,this.axisLength+1),o.x=J(o.x,-1,this.axisLength+1),a.x==o.x&&(a.x<0||a.x>this.axisLength)?t.fillShape.__disabled=!0:t.fillShape.__disabled=!1,i.y=s,i.width=0,i.height=l,n.y=s,n.width=0,n.height=l,r.height=l,r.width=Math.abs(o.x-a.x),r.y=s,r.x=a.x;},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);e.path=ra({x:0,y:0})+aa({x:0,y:this.getHeight()}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t),r=e.length;n.y=Ti({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.opposite?r*=e.inside?1:-1:r*=e.inside?-1:1,e.path=ra({x:0,y:0})+aa({x:0,y:r}),this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateAxisLine=function(){this.line.path=ra({x:0,y:0})+aa({x:this.axisLength,y:0});},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.axis,i=this.getHeight(),n=this.axisLength,r=this.baseGrid,a=t.basePoint.x;if(a<-.2||a>n+.2)r.hide(0);else {var o=Ti({x:0,y:0},this.gridContainer,r.parent).y;r.path=ra({x:0,y:0})+aa({x:0,y:i}),r.moveTo({x:a,y:o}),r.show(0);}},t.prototype.createBreakSprites=function(e){e.startLine=new Na,e.endLine=new Na;var t=new Wa;t.setWavedSides(!1,!0,!1,!0),e.fillShape=t;},t.prototype.toAxisPosition=function(e){var t=e,i=this.axis;if(i){var n=i.relativePositionSprite,r=i.pixelX;if(n?r=Ti({x:this.pixelX,y:0},this.parent,n).x:n=i.parent,n)return (t-r/n.innerWidth)/(i.axisLength/n.innerWidth)}return e},t.prototype.updateBullet=function(e,t,i){var n=.5;e instanceof Rg&&(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t);r.y=Ti({x:0,y:this.line.pixelY},this.line.parent,this.gridContainer).y,this.positionItem(e,r),this.toggleVisibility(e,t,0,1);},t}(Vg);St.registeredClasses.AxisRendererX=qg,Ur.push({relevant:qr.heightXS,state:function(e,t){if(e instanceof qg){var i=e.states.create(t);return i.properties.inside=!0,i.properties.maxLabelPosition=.9,i.properties.minLabelPosition=.1,i}return null}}),Ur.push({relevant:qr.heightXXS,state:function(e,t){if(e instanceof qg){var i=e.states.create(t);return i.properties.disabled=!0,i}return null}});var $g=function(e){function t(){var t=e.call(this)||this;return t.className="CategoryAxisBreak",t.properties.startLocation=.5,t.properties.endLocation=.5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"startPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedStartValue,this.startLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){if(this.axis)return this.axis.indexToPosition(this.adjustedEndValue,this.endLocation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startCategory",{get:function(){return this.getPropertyValue("startCategory")},set:function(e){this.setPropertyValue("startCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.getPropertyValue("endCategory")},set:function(e){this.setPropertyValue("endCategory",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startValue",{get:function(){var e=this.getPropertyValue("startCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("startValue")},set:function(e){this.setPropertyValue("startValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endValue",{get:function(){var e=this.getPropertyValue("endCategory");return e?this.axis.categoryToIndex(e):this.getPropertyValue("endValue")},set:function(e){this.setPropertyValue("endValue",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.axis&&(this.axis.invalidateDataItems(),this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),t}(Tg);St.registeredClasses.CategoryAxisBreak=$g;var Yg=function(e){function t(){var t=e.call(this)||this;return t.seriesDataItems={},t.className="CategoryAxisDataItem",t.text="{category}",t.locations.category=0,t.locations.endCategory=1,t.deltaPosition=0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"category",{get:function(){return this._adapterO&&this._adapterO.isEnabled("category")?this._adapterO.apply("category",this.properties.category):this.properties.category},set:function(e){var t=this.properties.category;this.setProperty("category",e),j(t)&&t!=e&&this.component&&this.component.validateDataElement(this);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endCategory",{get:function(){return this.properties.endCategory},set:function(e){this.setProperty("endCategory",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deltaPosition",{get:function(){return this.properties.deltaCoordinate},set:function(e){e!=this.properties.deltaCoordinate&&(this.setProperty("deltaCoordinate",e),this.component&&(this.component.invalidateDataItems(),this.component.invalidateSeries()));},enumerable:!0,configurable:!0}),t}(Og),Kg=function(e){function t(){var t=e.call(this)||this;t.dataItemsByCategory=new vt,t.className="CategoryAxis",t.axisFieldName="category",t._lastDataItem=t.createDataItem(),t._lastDataItem.component=t,t._disposers.push(t._lastDataItem),t.applyTheme();var i=t.dataItemsByCategory;return t.addDisposer(t.mainDataSet.events.on("removed",(function(e){i.removeKey(e.oldValue.category);}))),t}return x(t,e),t.prototype.createDataItem=function(){return new Yg},t.prototype.createAxisBreak=function(){return new $g},t.prototype.processSeriesDataItem=function(t,i){e.prototype.processSeriesDataItem.call(this,t,i);var n=t["category"+this.axisLetter];if(j(n)){var r=this.dataItemsByCategory.getKey(n);if(r){var a=t.component.uid,o=r.seriesDataItems[a];o||(o=[],r.seriesDataItems[a]=o),o.push(t);}}else t.component.dataItems.remove(t);},t.prototype.validateDataRange=function(){var i=this;e.prototype.validateDataRange.call(this),ut(this._series.iterator(),(function(e){if(e.xAxis instanceof t&&e.yAxis instanceof t)e.invalidateDataRange();else {var n=i.positionToIndex(i.start),r=i.positionToIndex(i.end);r>=i.dataItems.length&&r--;for(var a=e.uid,o=void 0,s=void 0,l=n;l<=r;l++){var u=i.dataItems.getIndex(l);if(u){var d=u.seriesDataItems[a];if(d)for(var c=0;c<d.length;c++){var h=d[c];if(h){var p=h.index;(!W(o)||p<o)&&(o=p),(!W(s)||p>s)&&(s=p);}}}}W(o)?e.startIndex=o:e.start=i.start,W(s)?e.endIndex=s+1:e.end=i.end,i._axisBreaks&&i._axisBreaks.length>0&&e.invalidateDataRange();}}));},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this);var i=this.dataItems.length,n=J(Math.floor(this.start*i-1),0,i),r=J(Math.ceil(this.end*i),0,i);this.renderer.invalid&&this.renderer.validate();var a=this.renderer.axisLength/Math.max(this.renderer.minGridDistance,1/Number.MAX_SAFE_INTEGER),o=Math.min(this.dataItems.length,Math.ceil((r-n)/a));if(this._startIndex=Math.floor(n/o)*o,this._endIndex=Math.ceil(this.end*i),this.fixAxisBreaks(),this._startIndex==this._endIndex&&this._endIndex++,this._frequency=o,!(this.axisLength<=0)){this.maxZoomFactor=this.dataItems.length,this.dataItems.length<=0&&(this.maxZoomFactor=1),this.resetIterators(),n=te(0,this._startIndex-this._frequency),r=ie(this.dataItems.length,this._endIndex+this._frequency);for(var s=0,l=0;l<n;l++){(d=this.dataItems.getIndex(l)).__disabled=!0;}l=r;for(var u=this.dataItems.length;l<u;l++){(d=this.dataItems.getIndex(l)).__disabled=!0;}for(l=n;l<r;l++)if(l<this.dataItems.length){var d=this.dataItems.getIndex(l);if(l/this._frequency==Math.round(l/this._frequency))this.isInBreak(l)||(this.appendDataItem(d),this.validateDataElement(d,s)),s++;else d.__disabled=!0;}if(this.appendDataItem(this._lastDataItem),this.validateDataElement(this._lastDataItem,s+1,this.dataItems.length),this._axisBreaks)this._axisBreaks.each((function(e){var i=e.adjustedStartValue,n=e.adjustedEndValue;if(ne({start:i,end:n},{start:t._startIndex,end:t._endIndex})){for(var r=i;r<=n;r++){(s=t.dataItems.getIndex(r)).__disabled=!0;}var a=J(Math.ceil(t._frequency/e.breakSize),1,n-i),o=0;if(e.breakSize>0)for(r=i;r<=n;r+=a){var s;(s=t.dataItems.getIndex(r)).__disabled=!1,t.appendDataItem(s),t.validateDataElement(s,o),o++;}}}));this.validateBreaks(),this.validateAxisRanges(),this.ghostLabel.invalidate(),this.renderer.invalidateLayout();}},t.prototype.validateDataElement=function(t,i,n){e.prototype.validateDataElement.call(this,t),t.itemIndex=this._axisItemCount,this._axisItemCount++;var r=this.renderer;W(n)||(n=this.categoryToIndex(t.category));var a=this.categoryToIndex(t.endCategory);W(a)||(a=n);var o,s,l,u=this.indexToPosition(n,t.locations.category),d=this.indexToPosition(a,t.locations.endCategory);t.position=u,t.isRange&&(o=a,s=this.indexToPosition(n,t.locations.category),l=this.indexToPosition(o,t.locations.endCategory)),t.point=r.positionToPoint(u);var c=t.tick;c&&!c.disabled&&r.updateTickElement(c,u,d);var h=t.grid;h&&!h.disabled&&r.updateGridElement(h,u,d);var p=t.label;p&&!p.disabled&&(t.isRange&&null!=p.text||(t.text=t.text),r.updateLabelElement(p,u,d),(r instanceof Bg&&t.label.measuredWidth>this.ghostLabel.measuredWidth||r instanceof qg&&t.label.measuredHeight>this.ghostLabel.measuredHeight)&&(t.label.html?this.ghostLabel.html=t.label.currentText:this.ghostLabel.text=t.label.currentText));var m=t.axisFill;m&&!m.disabled&&(t.isRange||(o=n+this._frequency,s=this.indexToPosition(n,m.location),l=this.indexToPosition(o,m.location)),r.updateFillElement(m,s,l),t.isRange||this.fillRule(t,i)),t.bullet&&r.updateBullet(t.bullet,u,d);var f=t.mask;f&&r.updateFillElement(f,s,l);},t.prototype.disposeData=function(){this.dataItemsByCategory.clear(),e.prototype.disposeData.call(this);},t.prototype.processDataItem=function(t,i){t&&(e.prototype.processDataItem.call(this,t,i),j(t.category)&&this.dataItemsByCategory.setKey(t.category,t));},t.prototype.getDataItem=function(e){var t=e[this.dataFields.category];if(j(t)){var i=this.dataItemsByCategory.getKey(t);return i||this.dataItems.create()}},t.prototype.indexToPosition=function(e,t){W(t)||(t=.5);var i=this.startIndex,n=this.endIndex,r=this.adjustDifference(i,n),a=this.startLocation;(r-=a,r-=1-this.endLocation,this._axisBreaks)&&lt(this._axisBreaks.iterator(),(function(t){var r=t.adjustedStartValue,a=t.adjustedEndValue;if(e<i||!W(r)||!W(a))return !1;if(ne({start:r,end:a},{start:i,end:n})){r=Math.max(i,r),a=Math.min(n,a);var o=t.breakSize;e>a?i+=(a-r)*(1-o):e<r||(e=r+(e-r)*o);}return !0}));var o=0,s=this.dataItems.getIndex(e);return s&&(o=s.deltaPosition),K(o+(e+t-a-i)/r,5)},t.prototype.categoryToPosition=function(e,t){var i=this.categoryToIndex(e);return this.indexToPosition(i,t)},t.prototype.categoryToPoint=function(e,t){var i=this.categoryToPosition(e,t),n=this.renderer.positionToPoint(i),r=this.renderer.positionToAngle(i);return {x:n.x,y:n.y,angle:r}},t.prototype.anyToPoint=function(e,t){return this.categoryToPoint(e,t)},t.prototype.anyToPosition=function(e,t){return this.categoryToPosition(e,t)},t.prototype.categoryToIndex=function(e){if(j(e)){var t=this.dataItemsByCategory.getKey(e);if(t)return t.index}},t.prototype.zoomToCategories=function(e,t){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1);},t.prototype.getAnyRangePath=function(e,t,i,n){var r=this.categoryToPosition(e,i),a=this.categoryToPosition(t,n);return this.getPositionRangePath(r,a)},t.prototype.roundPosition=function(e,t){var i=this.positionToIndex(e);return this.indexToPosition(i,t)},t.prototype.getFirstSeriesDataItem=function(e,t){for(var i=0;i<e.dataItems.length;i++){var n=e.dataItems.getIndex(i);if(e.xAxis==this&&n.categoryX==t)return n;if(e.yAxis==this&&n.categoryY==t)return n}},t.prototype.getLastSeriesDataItem=function(e,t){for(var i=e.dataItems.length-1;i>=0;i--){var n=e.dataItems.getIndex(i);if(e.xAxis==this&&n.categoryX==t)return n;if(e.yAxis==this&&n.categoryY==t)return n}},t.prototype.getSeriesDataItemByCategory=function(e,t){var i,n=this;return t.dataItems.each((function(r){t.xAxis==n?r.categoryX==e&&(i=r):t.yAxis==n&&r.categoryY==e&&(i=r);})),i},t.prototype.getSeriesDataItem=function(e,t,i){var n=this;if(W(t)){var r=this.positionToIndex(t);r>=this.dataItems.length&&r--;var a=this.dataItems.getIndex(r);if(a){var o,s=a.category,l=e.dataItems.getIndex(r);if(l){if(e.xAxis==this&&l.categoryX==s)return l;if(e.yAxis==this&&l.categoryY==s)return l}return e.dataItems.each((function(t){e.xAxis==n&&t.categoryX==s&&(o||(o=t),Math.abs(r-o.index)>Math.abs(r-t.index)&&(o=t)),e.yAxis==n&&t.categoryY==s&&(o||(o=t),Math.abs(r-o.index)>Math.abs(r-t.index)&&(o=t));})),o}}},t.prototype.getX=function(e,t,i,n,r){var a=this.getPositionX(e,t,i,n,r);return O(a)?this.basePoint.x:this.renderer.positionToPoint(a).x},t.prototype.getPositionX=function(e,t,i,n,r){var a;return j(t)&&(a=this.categoryToPosition(e.categories[t],i)),r&&(a=J(a,r.start,r.end)),a},t.prototype.getY=function(e,t,i,n,r){var a=this.getPositionY(e,t,i,n,r);return O(a)?this.basePoint.y:this.renderer.positionToPoint(a).y},t.prototype.getPositionY=function(e,t,i,n,r){var a;return j(t)&&(a=this.categoryToPosition(e.categories[t],i)),r&&(a=J(a,r.start,r.end)),a},t.prototype.getAngle=function(e,t,i,n,r){var a=this.categoryToPosition(e.categories[t],i);return r&&(a=J(a,r.start,r.end)),this.positionToAngle(a)},t.prototype.getCellStartPosition=function(e){return this.roundPosition(e,0)},t.prototype.getCellEndPosition=function(e){return this.roundPosition(e,1)},t.prototype.getTooltipText=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return this.tooltipDataItem=t,this.tooltip.dataItem=t,this.tooltipText?this.tooltipText:this._adapterO?this._adapterO.apply("getTooltipText",t.category):t.category},t.prototype.positionToIndex=function(e){(e=K(e,10))<0&&(e=0),e>1&&(e=1);var t=this.startIndex,i=this.endIndex,n=i-t-this.startLocation-(1-this.endLocation);e+=1/n*this.startLocation;var r=null;this._axisBreaks&&lt(this._axisBreaks.iterator(),(function(a){var o=a.startPosition,s=a.endPosition,l=a.adjustedStartValue,u=a.adjustedEndValue;l=te(l,t),u=ie(u,i);var d=a.breakSize;if(n-=(u-l)*(1-d),e>s)t+=(u-l)*(1-d);else if(!(e<o)){var c=(e-o)/(s-o);return r=l+Math.round(c*(u-l)),!1}return !0}));return W(r)||(r=Math.floor(e*n+t)),r>=this.dataItems.length&&(r=this.dataItems.length-1),r},t.prototype.positionToCategory=function(e){return this.getPositionLabel(e)},t.prototype.getPositionLabel=function(e){var t=this.dataItems.getIndex(this.positionToIndex(e));if(t)return t.category},Object.defineProperty(t.prototype,"basePoint",{get:function(){return this.renderer.positionToPoint(1)},enumerable:!0,configurable:!0}),t.prototype.initRenderer=function(){e.prototype.initRenderer.call(this),this.renderer.baseGrid.disabled=!0;},Object.defineProperty(t.prototype,"frequency",{get:function(){return this._frequency},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBySeries",{get:function(){return this.getPropertyValue("sortBySeries")},set:function(e){this.setPropertyValue("sortBySeries",e,!0);},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){t&&j(t.sortBySeries)&&N(t.sortBySeries)&&(this.map.hasKey(t.sortBySeries)?t.sortBySeries=this.map.getKey(t.sortBySeries):(this.addDelayedMap("sortBySeries",t.sortBySeries),delete t.sortBySeries)),e.prototype.processConfig.call(this,t);},t}(kg);St.registeredClasses.CategoryAxis=Kg,St.registeredClasses.CategoryAxisDataItem=Yg;var Xg=function(e){function t(){var t=e.call(this)||this;return t.className="XYSeriesDataItem",t.values.customValue={},t.values.valueX={stack:0},t.values.valueY={stack:0},t.values.openValueX={},t.values.openValueY={},t.values.dateX={},t.values.dateY={},t.values.openDateX={},t.values.openDateY={},t.setLocation("dateX",.5,0),t.setLocation("dateY",.5,0),t.setLocation("categoryX",.5,0),t.setLocation("categoryY",.5,0),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"valueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"customValue",{get:function(){return this.values.customValue.value},set:function(e){this.setValue("customValue",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateX",{get:function(){return this.getDate("dateX")},set:function(e){this.setDate("dateX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dateY",{get:function(){return this.getDate("dateY")},set:function(e){this.setDate("dateY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryX",{get:function(){return this.categories.categoryX},set:function(e){this.setCategory("categoryX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"categoryY",{get:function(){return this.categories.categoryY},set:function(e){this.setCategory("categoryY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueX",{get:function(){return this.values.openValueX.value},set:function(e){this.setValue("openValueX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openValueY",{get:function(){return this.values.openValueY.value},set:function(e){this.setValue("openValueY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateX",{get:function(){return this.getDate("openDateX")},set:function(e){this.setDate("openDateX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openDateY",{get:function(){return this.getDate("openDateY")},set:function(e){this.setDate("openDateY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryX",{get:function(){return this.categories.openCategoryX},set:function(e){this.setCategory("openCategoryX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openCategoryY",{get:function(){return this.categories.openCategoryY},set:function(e){this.setCategory("openCategoryY",e);},enumerable:!0,configurable:!0}),t.prototype.getMin=function(e,t,i){var n,r=this;return W(i)||(i=0),we(e,(function(e){var a;a=t?r.getWorkingValue(e):r.getValue(e),((a+=i)<n||!W(n))&&(n=a);})),n},t.prototype.getMax=function(e,t,i){var n,r=this;return W(i)||(i=0),we(e,(function(e){var a;a=t?r.getWorkingValue(e):r.getValue(e),((a+=i)>n||!W(n))&&(n=a);})),n},t}(_g),Jg=function(e){function t(){var t=e.call(this)||this;return t.groupFields={},t._xAxis=new Be,t._yAxis=new Be,t._xValueFields=[],t._yValueFields=[],t._baseInterval={},t.dataGrouped=!1,t.usesShowFields=!1,t._dataSetChanged=!1,t._maxxX=1e5,t._maxxY=1e5,t._propertiesChanged=!1,t.outOfRange=!1,t.className="XYSeries",t.isMeasured=!1,t.groupFields.valueX="close",t.groupFields.valueY="close",t.groupFields.customValue="close",t.groupFields.openValueX="open",t.groupFields.openValueY="open",t.cursorTooltipEnabled=!0,t.cursorHoverEnabled=!0,t.excludeFromTotal=!1,t.mainContainer.mask=new Dr,t.mainContainer.mask.setElement(t.paper.add("path")),t.stacked=!1,t.snapTooltip=!1,t._showBullets=!1,t.tooltip.pointerOrientation="horizontal",t.properties.stackToNegative=!0,t.hideTooltipWhileZooming=!0,t.setPropertyValue("maskBullets",!0),t.tooltip.events.on("hidden",(function(){t.returnBulletDefaultState();}),void 0,!1),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.observe(Fr,(function(){t.inited&&(t._propertiesChanged=!0,t.legendDataItem&&(t.legendDataItem.childrenCreated=!1),t.chart&&t.chart.legend&&t.chart.legend.invalidateDataItems(),t.invalidate());}),void 0,!1),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y Series"));},t.prototype.createDataItem=function(){return new Xg},t.prototype.resetExtremes=function(){this._tmin.clear(),this._tmax.clear(),this._smin.clear(),this._smax.clear();},t.prototype.dataChangeUpdate=function(){this.dataGrouped=!1,this._baseInterval={},this._currentDataSetId="",this.resetExtremes(),this.xAxis&&this.xAxis.seriesDataChangeUpdate(this),this.yAxis&&this.yAxis.seriesDataChangeUpdate(this);},t.prototype.validateData=function(){this._baseInterval={};var t=this.dataFields;if(t.valueYShow||t.openValueXShow||t.openValueXShow||t.openValueYShow?this.usesShowFields=!0:this.usesShowFields=!1,this.defineFields(),this.data.length>0&&this.dataChangeUpdate(),e.prototype.validateData.call(this),this.updateItemReaderText(),this.chart&&(!j(this.dataFields[this._xField])||!j(this.dataFields[this._yField])))throw Error('Data fields for series "'+(this.name?this.name:this.uid)+'" are not properly defined.');this.inited&&this.isHidden&&this.hide(0),this.dataGrouped=!1;},t.prototype.processDataItem=function(t,i){try{e.prototype.processDataItem.call(this,t,i),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y"),this.setInitialWorkingValues(t);}catch(e){this._chart&&this._chart.raiseCriticalError(e);}},t.prototype.updateDataItem=function(t){e.prototype.updateDataItem.call(this,t),this.xAxis.processSeriesDataItem(t,"X"),this.yAxis.processSeriesDataItem(t,"Y");},t.prototype.setInitialWorkingValues=function(e){},t.prototype.disposeData=function(){e.prototype.disposeData.call(this);var t=this.xAxis,i=this.yAxis;if(t){var n=this.dataItemsByAxis.getKey(t.uid);n&&n.clear(),t instanceof Kg&&this.clearCatAxis(t);}if(i){var r=this.dataItemsByAxis.getKey(i.uid);r&&r.clear(),i instanceof Kg&&this.clearCatAxis(i);}},t.prototype.clearCatAxis=function(e){var t=this.uid;e.dataItems.each((function(e){e.seriesDataItems[t]&&(e.seriesDataItems[t]=[]);}));},t.prototype.defineFields=function(){var e=this.xAxis,t=this.yAxis;if(e&&t){var i=e.axisFieldName,n=i+"X",r="open"+ri(i)+"X",a=t.axisFieldName,o=a+"Y",s="open"+ri(a)+"Y";this._xField=n,this._yField=o,this.dataFields[r]&&(this._xOpenField=r),this.dataFields[s]&&(this._yOpenField=s),this.dataFields[s]||this.baseAxis!=t||(this._yOpenField=o),this.dataFields[r]||this.baseAxis!=e||(this._xOpenField=n),this.stacked&&this.baseAxis==e&&(this._xOpenField=n),this.stacked&&this.baseAxis==t&&(this._yOpenField=o),e instanceof Kg&&t instanceof Kg&&(this._yOpenField||(this._yOpenField=o)),this._xValueFields=[],this._yValueFields=[],this.addValueField(e,this._xValueFields,this._xField),this.addValueField(e,this._xValueFields,this._xOpenField),this.addValueField(t,this._yValueFields,this._yField),this.addValueField(t,this._yValueFields,this._yOpenField);}},t.prototype.addValueField=function(e,t,i){e instanceof zg&&j(this.dataFields[i])&&-1==t.indexOf(i)&&t.push(i);},t.prototype.setCategoryAxisField=function(e,t){j(this.dataFields[e])||(this.dataFields[e]=t.dataFields.category);},t.prototype.setDateAxisField=function(e,t){j(this.dataFields[e])||(this.dataFields[e]=t.dataFields.date);},t.prototype.afterDraw=function(){e.prototype.afterDraw.call(this),this.createMask();},t.prototype.createMask=function(){if(this.mainContainer.mask){var e=this.getMaskPath();ut(this.axisRanges.iterator(),(function(t){t.axisFill.fillPath&&(t.axisFill.validate(),e+=t.axisFill.fillPath);})),this.mainContainer.mask.path=e;}},t.prototype.getMaskPath=function(){return this.xAxis&&this.yAxis?ha({x:0,y:0,width:this.xAxis.axisLength,height:this.yAxis.axisLength}):""},t.prototype.getAxisField=function(e){return e==this.xAxis?this.xField:e==this.yAxis?this.yField:void 0},t.prototype.validateDataItems=function(){var t=this.chart;t&&(this._maxxX=te(1e5,2*t.plotContainer.maxWidth),this._maxxY=te(1e5,2*t.plotContainer.maxHeight));var i=this.xAxis,n=this.yAxis;i&&n&&(i.updateAxisBySeries(),n.updateAxisBySeries()),e.prototype.validateDataItems.call(this),i&&n&&(i.postProcessSeriesDataItems(this),n.postProcessSeriesDataItems(this));},t.prototype.validateDataRange=function(){var t=this.xAxis,i=this.yAxis;t&&i&&(t.dataRangeInvalid&&t.validateDataRange(),i.dataRangeInvalid&&i.validateDataRange()),e.prototype.validateDataRange.call(this);},t.prototype.validate=function(){var t=this.xAxis,i=this.yAxis;if(t&&i){t.invalid&&t.validate(),i.invalid&&i.validate(),this.y=i.pixelY,this.x=t.pixelX,this._showBullets=!0;var n=this.minBulletDistance;W(n)&&this.baseAxis.axisLength/(this.endIndex-this.startIndex)<n&&(this._showBullets=!1);}if(this.updateTooltip(),!(t instanceof Ug&&t.groupData&&!this.dataGrouped||i instanceof Ug&&i.groupData&&!this.dataGrouped)){e.prototype.validate.call(this);var r=this.chart,a=this.maskBullets;r&&a&&"XYChart"==r.className&&("vertical"!=r.leftAxesContainer.layout&&"vertical"!=r.rightAxesContainer.layout||(this.yAxis?this.bulletsContainer.mask=this.yAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0),"horizontal"!=r.topAxesContainer.layout&&"horizontal"!=r.bottomAxesContainer.layout||(this.xAxis?this.bulletsContainer.mask=this.xAxis.renderer.gridContainer:this.bulletsContainer.mask=void 0));}},Object.defineProperty(t.prototype,"xAxis",{get:function(){if(this.chart){if(!this._xAxis.get()){var e=this.chart.xAxes.getIndex(0);if(!e)throw Error("There are no X axes on chart.");this.xAxis=e;}return this._xAxis.get()}},set:function(e){this.setXAxis(e);},enumerable:!0,configurable:!0}),t.prototype.setXAxis=function(e){var t=this._xAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._xAxis.dispose(),t.series.removeValue(this)),this._xAxis.set(e,e.registerSeries(this)),this.dataItemsByAxis.setKey(e.uid,new vt),this.invalidateData());},Object.defineProperty(t.prototype,"yAxis",{get:function(){if(this.chart){if(!this._yAxis.get()){var e=this.chart.yAxes.getIndex(0);if(!e)throw Error("There are no Y axes on chart.");this.yAxis=e;}return this._yAxis.get()}},set:function(e){this.setYAxis(e);},enumerable:!0,configurable:!0}),t.prototype.setYAxis=function(e){var t=this._yAxis.get();t!=e&&(t&&(this.dataItemsByAxis.removeKey(t.uid),this._yAxis.dispose(),t.series.removeValue(this)),this._yAxis.set(e,e.registerSeries(this)),e.chart instanceof ey&&e.chart.handleYAxisSet(this),this.dataItemsByAxis.setKey(e.uid,new vt),this.invalidateData());},Object.defineProperty(t.prototype,"baseAxis",{get:function(){var e=this.xAxis,t=this.yAxis;return !this._baseAxis&&e&&t&&(t instanceof Ug&&(this._baseAxis=t),e instanceof Ug&&(this._baseAxis=e),t instanceof Kg&&(this._baseAxis=t),e instanceof Kg&&(this._baseAxis=e),this._baseAxis||(this._baseAxis=e)),this._baseAxis},set:function(e){this._baseAxis!=e&&(this._baseAxis=e,this.invalidate());},enumerable:!0,configurable:!0}),t.prototype.addData=function(t,i,n){e.prototype.addData.call(this,t,i,n),this.scrollbarSeries&&(this.scrollbarSeries.addData(t,i,!0),this.scrollbarSeries._parseDataFrom=this._parseDataFrom);},t.prototype.setData=function(t){e.prototype.setData.call(this,t),this.scrollbarSeries&&this.scrollbarSeries.setData(t);},t.prototype.setDataSet=function(t){var i=e.prototype.setDataSet.call(this,t);if(i){this._dataSetChanged=!0;var n=this.dataItems;if(this.resetExtremes(),n&&n.length>0){var r=this.xAxis,a=this.yAxis;this._prevStartIndex=void 0,this._prevEndIndex=void 0,this._startIndex=void 0,this._endIndex=void 0,this.appeared||this.processValues(!1),r instanceof Ug&&r==this.baseAxis&&(this._tmin.setKey(r.uid,n.getIndex(0).dateX.getTime()),this._tmax.setKey(r.uid,n.getIndex(n.length-1).dateX.getTime()),this.dispatch("extremeschanged")),a instanceof Ug&&a==this.baseAxis&&(this._tmin.setKey(a.uid,n.getIndex(0).dateY.getTime()),this._tmax.setKey(a.uid,n.getIndex(n.length-1).dateY.getTime()),this.dispatch("extremeschanged"));}}return i},t.prototype.processValues=function(t){e.prototype.processValues.call(this,t);var i=this.xAxis,n=this.yAxis;if(i&&n){var r=this.dataItems,a=1/0,o=-1/0,s=1/0,l=-1/0,u=this.startIndex,d=this.endIndex,c=u,h=d;t||(u=0,d=this.dataItems.length);for(var p=u;p<d;p++){var m=r.getIndex(p);this.getStackValue(m,t);var f=m.getValue("valueX","stack"),g=m.getValue("valueY","stack");t||(f=m.getValue("valueX","stackTrue"),g=m.getValue("valueY","stackTrue")),a=ie(m.getMin(this._xValueFields,t,f),a),s=ie(m.getMin(this._yValueFields,t,g),s),o=te(m.getMax(this._xValueFields,t,f),o),l=te(m.getMax(this._yValueFields,t,g),l),this.stacked&&(this.baseAxis==i&&(g<s&&(s=g),g>l&&(l=g)),this.baseAxis==n&&(f<a&&(a=f),f>o&&(o=f)));}i.processSeriesDataItems(),n.processSeriesDataItems();var y=i.uid,v=n.uid;if(this.xAxis instanceof zg&&(a==1/0||o==-1/0))return this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof zg&&(s==1/0||l==-1/0))return this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),void this.dispatchImmediately("selectionextremeschanged");if(!t&&(this._tmin.getKey(y)!=a||this._tmax.getKey(y)!=o||this._tmin.getKey(v)!=s||this._tmax.getKey(v)!=l)){this._tmin.setKey(y,a),this._tmax.setKey(y,o),this._tmin.setKey(v,s),this._tmax.setKey(v,l);var b=this.stackedSeries;b&&(b.isDisposed()?this.stackedSeries=void 0:b.processValues(!1)),this.dispatchImmediately("extremeschanged");}if(u!=c||d!=h){a=1/0,o=-1/0,s=1/0,l=-1/0;for(p=c;p<h;p++){m=r.getIndex(p);this.getStackValue(m,t);f=m.getValue("valueX","stack"),g=m.getValue("valueY","stack");t||(f=m.getValue("valueX","stackTrue"),g=m.getValue("valueY","stackTrue")),a=ie(m.getMin(this._xValueFields,t,f),a),s=ie(m.getMin(this._yValueFields,t,g),s),o=te(m.getMax(this._xValueFields,t,f),o),l=te(m.getMax(this._yValueFields,t,g),l),this.stacked&&(this.baseAxis==i&&(g<s&&(s=g),g>l&&(l=g)),this.baseAxis==n&&(f<a&&(a=f),f>o&&(o=f)));}}if(this.xAxis instanceof zg&&(a==1/0||o==-1/0))return this._smin.setKey(y,void 0),this._smax.setKey(y,void 0),void this.dispatchImmediately("selectionextremeschanged");if(this.yAxis instanceof zg&&(s==1/0||l==-1/0))return this._smin.setKey(v,void 0),this._smax.setKey(v,void 0),void this.dispatchImmediately("selectionextremeschanged");if((this._smin.getKey(y)!=a||this._smax.getKey(y)!=o||this._smin.getKey(v)!=s||this._smax.getKey(v)!=l)&&(this._smin.setKey(y,a),this._smax.setKey(y,o),this._smin.setKey(v,s),this._smax.setKey(v,l),this.appeared||0!=this.start||1!=this.end||this.dataItems!=this.mainDataSet)){var x,C,S=!1;if(n instanceof zg&&!(n instanceof Ug))(!W(x=this._tmin.getKey(v))||(this.usesShowFields||this._dataSetChanged||i instanceof Ug&&i.groupData&&this.isShowing)&&s<x||this.stackedSeries&&!this.isHidden&&!t)&&(this._tmin.setKey(v,s),S=!0),(!W(C=this._tmax.getKey(v))||(this.usesShowFields||this._dataSetChanged||i instanceof Ug&&i.groupData&&this.isShowing)&&l>C||this.stackedSeries&&!this.isHidden&&!t)&&(this._tmax.setKey(v,l),S=!0);if(i instanceof zg&&!(i instanceof Ug))(!W(x=this._tmin.getKey(y))||(this.usesShowFields||this._dataSetChanged||n instanceof Ug&&n.groupData&&this.isShowing)&&a<x||this.stackedSeries&&!this.isHidden&&!t)&&(this._tmin.setKey(y,a),S=!0),(!W(C=this._tmax.getKey(y))||(this.usesShowFields||this._dataSetChanged||n instanceof Ug&&n.groupData&&this.isShowing)&&o>C||this.stackedSeries&&!this.isHidden&&!t)&&(this._tmax.setKey(y,o),S=!0);S&&this.dispatchImmediately("extremeschanged"),0==this.start&&1==this.end&&(this._dataSetChanged=!1),this.dispatchImmediately("selectionextremeschanged");}!t&&this.stacked&&this.processValues(!0);}},t.prototype.hideTooltip=function(t){e.prototype.hideTooltip.call(this,t),this.returnBulletDefaultState(),this._prevTooltipDataItem=void 0;},t.prototype.showTooltipAtPosition=function(e,t){var i;if(this.visible&&!this.isHiding&&!this.isShowing){var n=this._xAxis.get(),r=this._yAxis.get();n==this.baseAxis&&(i=n.getSeriesDataItem(this,n.toAxisPosition(e),this.snapTooltip)),r==this.baseAxis&&(i=r.getSeriesDataItem(this,r.toAxisPosition(t),this.snapTooltip));var a=this.showTooltipAtDataItem(i);if(a)return a;if(!this.tooltipText&&!this.tooltipHTML)return}this.hideTooltip();},t.prototype.getAdjustedXLocation=function(e,t,i){return e.locations[t]},t.prototype.getAdjustedYLocation=function(e,t,i){return e.locations[t]},t.prototype.showTooltipAtDataItem=function(e){var t,i,n=this.chart.cursor;if(n&&n.hideSeriesTooltipsOnSelection&&n.selection.visible&&n.downPoint)this.hideTooltip();else if(this.returnBulletDefaultState(e),e&&e.visible){if(this.updateLegendValue(e),this.cursorTooltipEnabled){this.tooltipDataItem=e;var r=this.tooltipXField,a=this.tooltipYField;if(j(e[r])&&j(e[a])){var o=this.getPoint(e,r,a,this.getAdjustedXLocation(e,r),this.getAdjustedYLocation(e,a));if(o&&("XYChart"!=this.chart.className||!(o.y<-1||o.y>this.yAxis.pixelHeight+1||o.x<-1||o.x>this.xAxis.pixelWidth+1))){if(this.tooltipX=o.x,this.tooltipY=o.y,this._prevTooltipDataItem!=e&&(this.dispatchImmediately("tooltipshownat",{type:"tooltipshownat",target:this,dataItem:e}),this._prevTooltipDataItem=e),this.cursorHoverEnabled)try{for(var s=P(e.sprites),l=s.next();!l.done;l=s.next()){var u=l.value;!u.parent.visible||u.isHidden||u.__disabled||u.disabled||u.isHiding||(u.interactions.isRealHover||(u.dispatchImmediately("over"),u.interactions.isRealHover=!0),u.isHover=!0);}}catch(e){t={error:e};}finally{try{l&&!l.done&&(i=s.return)&&i.call(s);}finally{if(t)throw t.error}}return this.showTooltip()?Ii({x:o.x,y:o.y},this):void 0}}}}else this.updateLegendValue(e,!0);},t.prototype.returnBulletDefaultState=function(e){var t,i;if(this._prevTooltipDataItem&&this._prevTooltipDataItem!=e)try{for(var n=P(this._prevTooltipDataItem.sprites),r=n.next();!r.done;r=n.next()){var a=r.value;if(a.isDisposed())this._prevTooltipDataItem=void 0;else {var o=a.interactions.isRealHover;a.isHover=!1,o&&a.dispatchImmediately("out");}}}catch(e){t={error:e};}finally{try{r&&!r.done&&(i=n.return)&&i.call(n);}finally{if(t)throw t.error}}},t.prototype.shouldCreateBullet=function(e,t){var i=t.xField;j(i)||(i=this.xField);var n=t.yField;if(j(n)||(n=this.yField),this.xAxis instanceof zg&&!e.hasValue([i])||this.yAxis instanceof zg&&!e.hasValue([n]))return !1;if(t.disabled){var r=t.propertyFields.disabled,a=e.dataContext;return !(!a||!1!==a[r])}return !0},t.prototype.updateTooltip=function(){this.hideTooltipWhileZooming||!this.tooltip||this.tooltip.isHidden||this.isHiding||this.isHidden||!this.tooltipDataItem||this.showTooltipAtDataItem(this.tooltipDataItem);},t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem,n=t.xField;j(n)||(n=this.xField);var r=t.yField;j(r)||(r=this.yField);var a=this.xAxis,o=this.yAxis;if(a instanceof zg&&!i.hasValue([n])||o instanceof zg&&!i.hasValue([r]))t.visible=!1;else {var s=this.getBulletLocationX(t,n),l=this.getBulletLocationY(t,r);if(this.getPoint(i,n,r,s,l)){var u=this.xOpenField,d=this.yOpenField,c=void 0,h=void 0;if(a instanceof Ug){W(s)||(s=0);var p=void 0,m=i.getWorkingValue(n);if(u?p=i.getWorkingValue(u):a==this.baseAxis&&(p=a.baseValue),W(p)||(p=m),(p+=C=i.getValue("valueX","stack"))==(m+=C)){var f=a.baseInterval,g=a.dateFormatter;p=Un(new Date(p),f.timeUnit,f.count,g.firstDayOfWeek,g.utc,void 0,g.timezoneMinutes,g.timezone).getTime(),m=Gn(new Date(p),f.timeUnit,f.count,g.utc).getTime();}var y=void 0;y=a==this.baseAxis?p+(m-p)*s:p+(m-p)*(1-s),c=a.valueToPosition(y);}else if(a instanceof zg){W(s)||(s=0);p=void 0,m=i.getWorkingValue(n);p=u?i.getWorkingValue(u):a.baseValue;y=(p+=C=i.getValue("valueX","stack"))+((m+=C)-p)*(1-s);c=a.valueToPosition(y);}else if(a instanceof Kg){var v=this.getAdjustedXLocation(i,n,t.locationX),b=this.getAdjustedXLocation(i,u,t.locationX);c=a.categoryToPosition(i[n],v);var x=void 0;u&&(x=a.categoryToPosition(i[u],b)),W(x)||(x=1),c=x+(c-x)*s;}if(o instanceof Ug){W(l)||(l=0);p=void 0,m=i.getWorkingValue(r);if(d?p=i.getWorkingValue(d):o==this.baseAxis&&(p=o.baseValue),W(p)||(p=m),(p+=C=i.getValue("valueY","stack"))==(m+=C)){f=o.baseInterval,g=o.dateFormatter;p=Un(new Date(p),f.timeUnit,f.count,g.firstDayOfWeek,g.utc,void 0,g.timezoneMinutes,g.timezone).getTime(),m=Gn(new Date(p),f.timeUnit,f.count,g.utc).getTime();}y=void 0;y=o==this.baseAxis?p+(m-p)*l:p+(m-p)*(1-l),h=o.valueToPosition(y);}else if(o instanceof zg){W(l)||(l=0);var C;p=void 0,m=i.getWorkingValue(r);p=d?i.getWorkingValue(d):o.baseValue;y=(p+=C=i.getValue("valueY","stack"))+((m+=C)-p)*(1-l);h=o.valueToPosition(y);}else if(o instanceof Kg){h=o.categoryToPosition(i[r],l);var S=this.getAdjustedYLocation(i,r,t.locationY),_=this.getAdjustedYLocation(i,d,t.locationY);h=o.categoryToPosition(i[r],S);var P=void 0;d&&(P=o.categoryToPosition(i[d],_)),W(P)||(P=1),h=P+(h-P)*l;}t.visible=!0,this.positionBulletReal(t,c,h);}else t.visible=!1;}},t.prototype.positionBulletReal=function(e,t,i){e.x=this.xAxis.renderer.positionToPoint(t,i).x,e.y=this.yAxis.renderer.positionToPoint(i,t).y;},t.prototype.getBulletLocationX=function(e,t){var i=e.locationX,n=e.dataItem;return W(i)||(i=n.workingLocations[t]),i},t.prototype.getBulletLocationY=function(e,t){var i=e.locationY,n=e.dataItem;return W(i)||(i=n.workingLocations[t]),i},t.prototype.updateStacking=function(){var e=this;this.invalidateDataItems(),this.chart&&this.chart.series.each((function(t){t.baseAxis==e.baseAxis&&(t.stackedSeries=void 0,t.invalidateDataItems(),t.invalidateProcessedData());}));},Object.defineProperty(t.prototype,"stacked",{get:function(){return this.getPropertyValue("stacked")},set:function(e){if(this.setPropertyValue("stacked",e,!0)){this.updateStacking();var t,i=this.xAxis,n=this.yAxis;if(!e)i!=this.baseAxis&&i instanceof zg&&(t=this.xField),n!=this.baseAxis&&n instanceof zg&&(t=this.yField),t&&this.dataItems.each((function(e){e.setCalculatedValue(t,0,"stack"),e.setCalculatedValue(t,0,"stackTrue");}));}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapTooltip",{get:function(){return this.getPropertyValue("snapTooltip")},set:function(e){this.setPropertyValue("snapTooltip",e);},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var i,n=this;this.isHidden&&(this.appeared&&this.xAxis instanceof Ug&&this.xAxis.groupData&&(this._tmin.setKey(this.yAxis.uid,void 0),this._tmax.setKey(this.yAxis.uid,void 0)),this.appeared&&this.yAxis instanceof Ug&&this.yAxis.groupData&&(this._tmin.setKey(this.xAxis.uid,void 0),this._tmax.setKey(this.xAxis.uid,void 0))),this.xAxis instanceof zg&&this.xAxis!=this.baseAxis&&(i=this._xValueFields),this.yAxis instanceof zg&&this.yAxis!=this.baseAxis&&(i=this._yValueFields);var r,a=this.startIndex,o=this.endIndex,s=0,l=this.defaultState.transitionDuration;W(t)&&(l=t),ut(ht(this.dataItems.iterator()),(function(e){var t=e[0],u=e[1],d=l;(t<n.startIndex-10||t>n.endIndex+10)&&(d=0,s=0),n.sequencedInterpolation&&d>0&&(s=n.sequencedInterpolationDelay*t+l*(t-a)/(o-a)),r=u.show(d,s,i);})),this.dataSets.each((function(e,t){t!=n.dataItems&&t.each((function(e){e.events.disable(),e.show(0,0,i),e.events.enable();}));})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(e){e.events.disable(),e.show(0,0,i),e.events.enable();}));var u=e.prototype.show.call(this,t);return r&&!r.isFinished()&&(u=r),this.hidden&&(this.dispatchImmediately("selectionextremeschanged"),this.hidden=!1),u},t.prototype.hide=function(t){var i,n,r=this,a=this.xAxis;a instanceof zg&&a!=this.baseAxis&&(i=this._xValueFields,n=this.stacked||a.minZoomed<a.baseValue&&a.maxZoomed>a.baseValue||this.stackedSeries?a.baseValue:a.min);var o=this.yAxis;o instanceof zg&&o!=this.baseAxis&&(i=this._yValueFields,n=this.stacked||o.minZoomed<o.baseValue&&o.maxZoomed>o.baseValue||this.stackedSeries?o.baseValue:o.min);var s=this.startIndex,l=this.endIndex,u=this.hiddenState.transitionDuration;W(t)&&(u=t);var d,c=0;ut(ht(this.dataItems.iterator()),(function(e){var t=e[0],a=e[1],o=u;(t<r.startIndex-10||t>r.endIndex+10)&&(o=0),0==o?a.hide(0,0,n,i):(r.sequencedInterpolation&&o>0&&(c=r.sequencedInterpolationDelay*t+u*(t-s)/(l-s)),d=a.hide(o,c,n,i));})),this.dataSets.each((function(e,t){t!=r.dataItems&&t.each((function(e){e.events.disable(),e.hide(0,0,n,i),e.events.enable();}));})),this.mainDataSet!=this.dataItems&&this.mainDataSet.each((function(e){e.events.disable(),e.hide(0,0,n,i),e.events.enable();}));var h=e.prototype.hide.call(this,u);return h&&!h.isFinished()&&h.delay(c),d&&!d.isFinished()&&(h=d),this.appeared&&this.dispatch("selectionextremeschanged"),this.validateDataElements(),h},t.prototype.handleDataItemWorkingValueChange=function(t,i){e.prototype.handleDataItemWorkingValueChange.call(this,t,i),ut(this.baseAxis.series.iterator(),(function(e){(e.stacked||e.stackedSeries)&&e.invalidateProcessedData();}));},t.prototype.getStackValue=function(e,t){var i=this,n=this.xAxis,r=this.yAxis;if(this.stacked&&n&&r){var a,o=this.chart,s=o.series.indexOf(this);n!=this.baseAxis&&n instanceof zg&&(a=this.xField),r!=this.baseAxis&&r instanceof zg&&(a=this.yField),a&&(e.setCalculatedValue(a,0,"stack"),e.setCalculatedValue(a,0,"stackTrue"),lt(o.series.range(0,s).backwards().iterator(),(function(t){if(t.xAxis==n&&t.yAxis==r&&t.className==i.className){t.stackedSeries=i;var o=t.dataItems.getIndex(e.index);if(o&&o.hasValue(i._xValueFields)&&o.hasValue(i._yValueFields)){var s,l=e.getValue(a),u=o.getValue(a,"stackTrue");null==u&&(u=0);var d=o.getValue(a)+u;if(s=o.getWorkingValue(a)+o.getValue(a,"stack"),!i.stackToNegative)return e.setCalculatedValue(a,s,"stack"),e.setCalculatedValue(a,d,"stackTrue"),!1;if(l>=0&&d>=0||l<0&&d<0)return e.setCalculatedValue(a,s,"stack"),e.setCalculatedValue(a,d,"stackTrue"),!1;if(!t.stacked)return !1}else if(!t.stacked)return !1}return !0})));}},Object.defineProperty(t.prototype,"stackToNegative",{get:function(){return this.getPropertyValue("stackToNegative")},set:function(e){this.setPropertyValue("stackToNegative",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xField",{get:function(){return this._xField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yField",{get:function(){return this._yField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xOpenField",{get:function(){return this._xOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yOpenField",{get:function(){return this._yOpenField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipXField",{get:function(){return this._tooltipXField?this._tooltipXField:this._xField},set:function(e){this._tooltipXField=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipYField",{get:function(){return this._tooltipYField?this._tooltipYField:this._yField},set:function(e){this._tooltipYField=e;},enumerable:!0,configurable:!0}),t.prototype.min=function(e){return this._tmin.getKey(e.uid)},t.prototype.max=function(e){return this._tmax.getKey(e.uid)},t.prototype.selectionMin=function(e){return this._smin.getKey(e.uid)},t.prototype.selectionMax=function(e){return this._smax.getKey(e.uid)},t.prototype.processConfig=function(t){if(t){if(j(t.baseAxis)&&N(t.baseAxis)&&(this.map.hasKey(t.baseAxis)?t.baseAxis=this.map.getKey(t.baseAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.baseAxis+'" found for `baseAxis`.'),delete t.baseAxis)),j(t.xAxis)&&N(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.xAxis+'" found for `xAxis`.'),delete t.xAxis)),j(t.yAxis)&&N(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push("[XYSeries ("+(this.name||"unnamed")+')] No axis with id "'+t.yAxis+'" found for `yAxis`.'),delete t.yAxis)),j(t.axisRanges)&&H(t.axisRanges))for(var i=0,n=t.axisRanges.length;i<n;i++){var r=t.axisRanges[i];j(r.type)||(r.type="AxisDataItem"),j(r.axis)&&N(r.axis)&&this.map.hasKey(r.axis)?r.component=this.map.getKey(r.axis):j(r.component)&&N(r.component)&&this.map.hasKey(r.component)&&(r.component=this.map.getKey(r.component));}j(t.dataFields)&&z(t.dataFields)||this.processingErrors.push("`dataFields` is not set for series ["+(this.name||"unnamed")+"]");}e.prototype.processConfig.call(this,t);},t.prototype.getPoint=function(e,t,i,n,r,a,o){if(this.xAxis&&this.yAxis){var s=this.xAxis.getX(e,t,n),l=this.yAxis.getY(e,i,r);return {x:s=J(s,-this._maxxX,this._maxxX),y:l=J(l,-this._maxxY,this._maxxY)}}},t.prototype.updateItemReaderText=function(){if(!this._itemReaderTextChanged){var e="";tt(this.dataFields,(function(t,i){e+="{"+t+"} ";})),this.itemReaderText=e,this._itemReaderTextChanged=!1;}},Object.defineProperty(t.prototype,"cursorTooltipEnabled",{get:function(){return this.getPropertyValue("cursorTooltipEnabled")},set:function(e){this.setPropertyValue("cursorTooltipEnabled",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursorHoverEnabled",{get:function(){return this.getPropertyValue("cursorHoverEnabled")},set:function(e){this.setPropertyValue("cursorHoverEnabled",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"excludeFromTotal",{get:function(){return this.getPropertyValue("excludeFromTotal")},set:function(e){this.setPropertyValue("excludeFromTotal",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTooltipWhileZooming",{get:function(){return this.getPropertyValue("hideTooltipWhileZooming")},set:function(e){this.setPropertyValue("hideTooltipWhileZooming",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e);var t=this.chart;t&&(this.bulletsContainer.parent=e?t.bulletsContainer:t.axisBulletsContainer);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){this.groupFields=Zt(t.groupFields,{}),e.prototype.copyFrom.call(this,t);},t.prototype.dispose=function(){this.scrollbarSeries&&this.scrollbarSeries.dispose(),e.prototype.dispose.call(this);},t}(Pg);St.registeredClasses.XYSeries=Jg,St.registeredClasses.XYSeriesDataItem=Xg;var Zg=function(e){function t(){var t=e.call(this)||this;t._chart=new Be,t.className="XYChartScrollbar";var i=new Fn;t.padding(0,0,0,0);var n=t.createChild(ey);if(n.shouldClone=!1,n.margin(0,0,0,0),n.padding(0,0,0,0),n.interactionsEnabled=!1,t._scrollbarChart=n,!Ri()){var r=new io;r.filterUnits="userSpaceOnUse",n.plotContainer.filters.push(r);}t._disposers.push(t._scrollbarChart),t.minHeight=60,t.minWidth=60;var a=t.createChild(Dr);a.shouldClone=!1,a.setElement(t.paper.add("path")),a.fill=i.getFor("background"),a.fillOpacity=.8,a.interactionsEnabled=!1,a.isMeasured=!1,a.toBack(),t._unselectedOverlay=a,t._disposers.push(t._unselectedOverlay),n.toBack(),t.background.cornerRadius(0,0,0,0);var o=t.thumb.background;o.cornerRadius(0,0,0,0),o.fillOpacity=0,o.fill=i.getFor("background");var s=o.states.getKey("hover");s&&(s.properties.fillOpacity=.2);var l=o.states.getKey("down");return l&&(l.properties.fillOpacity=.4),t._disposers.push(t._chart),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"series",{get:function(){return this._series||(this._series=new Tt,this._disposers.push(this._series.events.on("inserted",this.handleSeriesAdded,this,!1)),this._disposers.push(this._series.events.on("removed",this.handleSeriesRemoved,this,!1))),this._series},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(e){var t=this,i=e.newValue;if(i.xAxis&&i.yAxis){var n=this.scrollbarChart;n.zoomOutButton.disabled=!0,this.chart=i.chart,n.dateFormatter.inputDateFormat=this.chart.dateFormatter.inputDateFormat,n.language.locale=this.chart.language.locale;var r=!0,a=!0;ut(this.series.iterator(),(function(e){e!=i&&(e.xAxis==i.xAxis&&t.scrollbarChart.xAxes.length>0&&(r=!1),e.yAxis==i.yAxis&&t.scrollbarChart.yAxes.length>0&&(a=!1));})),i.events.on("beforedisposed",(function(){t.series.removeValue(i);}));var o=new Fn,s=i.clone();if(nn.queue&&this.addDisposer(this.chart.events.on("removedfromqueue",(function(){n.invalidateData();}))),Ri()&&(s.stroke=Yt("#aaaaaa"),s.fill=s.stroke,s.propertyFields.fill=void 0,s.propertyFields.stroke=void 0),i.scrollbarSeries=s,r){var l=i.xAxis.clone();if(n.xAxes.moveValue(l),l.title.disabled=!0,l.rangeChangeDuration=0,(h=l.renderer).ticks.template.disabled=!0,h.inside=!0,h.labels.template.inside=!0,h.line.strokeOpacity=0,h.minLabelPosition=.02,h.maxLabelPosition=.98,h.line.disabled=!0,h.axisFills.template.disabled=!0,h.baseGrid.disabled=!0,h.grid.template.strokeOpacity=.05,h.minWidth=void 0,h.minHeight=void 0,h.padding(0,0,0,0),h.chart=n,h.margin(0,0,0,0),l.width=A(100),h.labels.template.fillOpacity=.5,l.maxZoomCount=void 0,l.minZoomCount=void 0,l instanceof Ug){var u=l,d=i.xAxis;u.groupCount=5*d.groupCount,u.min=void 0,u.max=void 0,this._disposers.push(u.clonedFrom.events.on("extremeschanged",(function(){W(u.clonedFrom.minDefined)&&(u.min=u.clonedFrom.minDefined),W(u.clonedFrom.maxDefined)&&(u.max=u.clonedFrom.maxDefined);}),void 0,!1));}else if(l instanceof zg){var c=l;c.min=void 0,c.max=void 0,W(c.clonedFrom.minDefined)||(c.min=void 0),W(c.clonedFrom.maxDefined)||(c.max=void 0),this._disposers.push(c.clonedFrom.events.on("extremeschanged",(function(){W(c.clonedFrom.minDefined)&&(c.min=c.clonedFrom.min),W(c.clonedFrom.maxDefined)&&(c.max=c.clonedFrom.max);}),void 0,!1));}s.xAxis=l;}else this.scrollbarChart.xAxes.each((function(e){e.clonedFrom==i.xAxis&&(s.xAxis=e);}));if(a){var h,p=i.yAxis.clone();if(n.yAxes.moveValue(p),p.title.disabled=!0,p.rangeChangeDuration=0,(h=p.renderer).ticks.template.disabled=!0,h.inside=!0,h.labels.template.inside=!0,h.line.strokeOpacity=0,h.minLabelPosition=.02,h.maxLabelPosition=.98,h.line.disabled=!0,h.axisFills.template.disabled=!0,h.grid.template.stroke=o.getFor("background"),h.baseGrid.disabled=!0,h.grid.template.strokeOpacity=.05,h.minWidth=void 0,h.minHeight=void 0,h.chart=n,h.padding(0,0,0,0),h.margin(0,0,0,0),p.height=A(100),h.labels.template.fillOpacity=.5,s.yAxis=p,p.maxZoomCount=void 0,p.minZoomCount=void 0,p instanceof Ug){var m=p;m.min=void 0,m.max=void 0;d=i.yAxis;p.groupCount=5*d.groupCount,this._disposers.push(m.clonedFrom.events.on("extremeschanged",(function(){W(m.clonedFrom.minDefined)&&(m.min=m.clonedFrom.minDefined),W(m.clonedFrom.maxDefined)&&(m.max=m.clonedFrom.maxDefined);})));}else if(p instanceof zg){var f=p;f.min=void 0,f.max=void 0,W(f.clonedFrom.minDefined)||(f.min=void 0),W(f.clonedFrom.maxDefined)||(f.max=void 0),this._disposers.push(f.clonedFrom.events.on("extremeschanged",(function(){W(f.clonedFrom.minDefined)&&(f.min=f.clonedFrom.minDefined),W(f.clonedFrom.maxDefined)&&(f.max=f.clonedFrom.maxDefined);})));}}else this.scrollbarChart.yAxes.each((function(e){e.clonedFrom==i.yAxis&&(s.yAxis=e);}));s.rangeChangeDuration=0,s.interpolationDuration=0,s.defaultState.transitionDuration=0,s.showOnInit=!1,this._disposers.push(s.events.on("validated",this.zoomOutAxes,this,!1)),this._disposers.push(i.events.on("datavalidated",(function(){s.data!=i.data&&(s.data=i.data);}),void 0,!1)),s.defaultState.properties.visible=!0,n.series.push(s),this.updateByOrientation();}},t.prototype.updateByOrientation=function(){var e=this;this._scrollbarChart&&(ut(this._scrollbarChart.xAxes.iterator(),(function(t){var i=t.renderer;"vertical"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance);})),ut(this._scrollbarChart.yAxes.iterator(),(function(t){var i=t.renderer;"horizontal"==e.orientation?(i.grid.template.disabled=!0,i.labels.template.disabled=!0,i.minGridDistance=10):(i.grid.template.disabled=!1,i.labels.template.disabled=!1,i.minGridDistance=t.clonedFrom.renderer.minGridDistance);})));},t.prototype.handleSeriesRemoved=function(e){var t=e.oldValue,i=this.scrollbarChart;i.series.each((function(e){e&&e.clonedFrom==t&&i.series.removeValue(e);})),0==i.series.length&&(i.xAxes.clear(),i.yAxes.clear());try{t.events.off("validated",this.zoomOutAxes,this);}catch(e){}},Object.defineProperty(t.prototype,"scrollbarChart",{get:function(){return this._scrollbarChart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.get()!==e&&(this._chart.set(e,e.events.on("datavalidated",this.handleDataChanged,this,!1)),this.handleDataChanged(),this._scrollbarChart.dataProvider=e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unselectedOverlay",{get:function(){return this._unselectedOverlay},enumerable:!0,configurable:!0}),t.prototype.handleDataChanged=function(){this.chart.data!=this.scrollbarChart.data?this.scrollbarChart.data=this.chart.data:this.scrollbarChart.invalidateRawData();},t.prototype.zoomOutAxes=function(){var e=this.scrollbarChart;ut(e.xAxes.iterator(),(function(e){e.zoom({start:0,end:1},!0,!0);})),ut(e.yAxes.iterator(),(function(e){e.zoom({start:0,end:1},!0,!0);}));},t.prototype.updateThumb=function(t){if(void 0===t&&(t=!0),e.prototype.updateThumb.call(this,t),this._unselectedOverlay){var i=this.thumb,n=i.pixelX||0,r=i.pixelY||0,a=i.pixelWidth||0,o=i.pixelHeight||0,s="";"horizontal"==this.orientation?(s=ha({x:-1,y:0,width:n,height:o}),s+=ha({x:n+a,y:0,width:(this.pixelWidth||0)-n-a,height:o})):(s=ha({x:0,y:0,width:a,height:r}),s+=ha({x:0,y:r+o,width:a,height:(this.pixelHeight||0)-r-o})),this._unselectedOverlay.path=s;}},t.prototype.processConfig=function(t){if(t&&j(t.series)&&H(t.series))for(var i=0,n=t.series.length;i<n;i++){var r=t.series[i];if(j(r)&&N(r)){if(!this.map.hasKey(r))throw Error("XYChartScrollbar error: Series with id `"+r+"` does not exist.");t.series[i]=this.map.getKey(r);}}e.prototype.processConfig.call(this,t);},t}(_a);St.registeredClasses.XYChartScrollbar=Zg;var Qg=function(e){function t(){var t=e.call(this)||this;return t.className="XYChartDataItem",t.applyTheme(),t}return x(t,e),t}(wg),ey=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=qg,t._axisRendererY=Bg,t._seriesPoints=[],t.className="XYChart",t.maskBullets=!0,t.arrangeTooltips=!0;var i=t.chartContainer;i.layout="vertical",t.padding(15,15,15,15);var n=i.createChild(Lr);n.shouldClone=!1,n.layout="vertical",n.width=A(100),n.zIndex=1,t.topAxesContainer=n;var r=i.createChild(Lr);r.shouldClone=!1,r.layout="horizontal",r.width=A(100),r.height=A(100),r.zIndex=0,t.yAxesAndPlotContainer=r;var a=i.createChild(Lr);a.shouldClone=!1,a.width=A(100),a.layout="vertical",a.zIndex=1,t.bottomAxesContainer=a;var o=r.createChild(Lr);o.shouldClone=!1,o.layout="horizontal",o.height=A(100),o.contentAlign="right",o.events.on("transformed",t.updateXAxesMargins,t,!1),o.zIndex=1,t.leftAxesContainer=o;var s=r.createChild(Lr);s.shouldClone=!1,s.height=A(100),s.width=A(100),s.background.fillOpacity=0,t.plotContainer=s,t.mouseWheelBehavior="none",t._cursorContainer=s;var l=r.createChild(Lr);l.shouldClone=!1,l.layout="horizontal",l.height=A(100),l.zIndex=1,l.events.on("transformed",t.updateXAxesMargins,t,!1),t.rightAxesContainer=l,t.seriesContainer.parent=s,t.bulletsContainer.parent=s;var u=s.createChild(za);u.shouldClone=!1,u.align="right",u.valign="top",u.zIndex=Number.MAX_SAFE_INTEGER,u.marginTop=5,u.marginRight=5,u.hide(0),t.zoomOutButton=u;var d=t.plotContainer.createChild(Lr);return d.shouldClone=!1,d.width=A(100),d.height=A(100),d.isMeasured=!1,d.zIndex=4,d.layout="none",t.axisBulletsContainer=d,t._bulletMask=t.plotContainer,t.events.on("beforedatavalidated",(function(){t.series.each((function(e){e.dataGrouped=!1,e._baseInterval={};}));}),t,!1),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),this.zoomOutButton.exportable=!1,j(this.readerTitle)||(this.readerTitle=this.language.translate("X/Y chart"));},t.prototype.draw=function(){e.prototype.draw.call(this),this.seriesContainer.toFront(),this.bulletsContainer.toFront(),this.maskBullets&&(this.bulletsContainer.mask=this._bulletMask),this.updateSeriesLegend();},t.prototype.updatePlotElements=function(){ut(this.series.iterator(),(function(e){e.invalidate();}));},t.prototype.validateData=function(){0==this._parseDataFrom&&(ut(this.xAxes.iterator(),(function(e){e.dataChangeUpdate();})),ut(this.yAxes.iterator(),(function(e){e.dataChangeUpdate();})),ut(this.series.iterator(),(function(e){e.dataChangeUpdate();}))),e.prototype.validateData.call(this);},t.prototype.updateXAxesMargins=function(){var e=this.leftAxesContainer.measuredWidth,t=this.rightAxesContainer.measuredWidth,i=this.bottomAxesContainer;i.paddingLeft==e&&i.paddingRight==t||(i.paddingLeft=e,i.paddingRight=t);var n=this.topAxesContainer;n.paddingLeft==e&&n.paddingRight==t||(n.paddingLeft=e,n.paddingRight=t);},t.prototype.reinit=function(){e.prototype.reinit.call(this),this.series.each((function(e){e.appeared=!1;}));},t.prototype.handleXAxisChange=function(e){this.updateXAxis(e.target);},t.prototype.handleYAxisChange=function(e){this.updateYAxis(e.target);},t.prototype.processXAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererX,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleXAxisChange,this,!1)),t.axisLetter="X",t.events.on("startendchanged",this.handleXAxisRangeChange,this,!1),t.dataProvider=this,this.updateXAxis(t.renderer),this.processAxis(t);},t.prototype.processYAxis=function(e){var t=e.newValue;t.chart=this,t.renderer||(t.renderer=new this._axisRendererY,t.renderer.observe(["opposite","inside","inversed","minGridDistance"],this.handleYAxisChange,this,!1)),t.axisLetter="Y",t.events.on("startendchanged",this.handleYAxisRangeChange,this,!1),t.dataProvider=this,this.updateYAxis(t.renderer),this.processAxis(t);},t.prototype.handleXAxisRangeChange=function(){var e=this.getCommonAxisRange(this.xAxes);this.scrollbarX&&this.zoomAxes(this.xAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarX,e);},t.prototype.toggleZoomOutButton=function(){if(this.zoomOutButton){var e=!1;lt(this.xAxes.iterator(),(function(t){if(t.toggleZoomOutButton)if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(K(t.end-t.start,3)<1/i)return e=!0,!1}else if(K(t.start,3)>0||K(t.end,3)<1)return e=!0,!1;return !0})),lt(this.yAxes.iterator(),(function(t){if(t.toggleZoomOutButton){if(t.maxZoomCount>0){var i=t.maxZoomFactor/t.maxZoomCount;if(K(t.end-t.start,3)<1/i)return e=!0,!1}else if(K(t.start,3)>0||K(t.end,3)<1)return e=!0,!1;return !0}})),this.seriesAppeared||(e=!1),e?this.zoomOutButton.show():this.zoomOutButton.hide();}},t.prototype.seriesAppeared=function(){var e=!1;return ut(this.series.iterator(),(function(t){if(!t.appeared)return e=!1,!1})),e},t.prototype.handleYAxisRangeChange=function(){var e=this.getCommonAxisRange(this.yAxes);this.scrollbarY&&this.zoomAxes(this.yAxes,e,!0),this.toggleZoomOutButton(),this.updateScrollbar(this.scrollbarY,e);},t.prototype.updateScrollbar=function(e,t){e&&(e.skipRangeEvents(),e.start=t.start,e.end=t.end);},t.prototype.getCommonAxisRange=function(e){var t,i;return e.each((function(e){if(!e.zoomable||e instanceof zg&&e.syncWithAxis);else {var n=e.start,r=e.end;e.renderer.inversed&&(n=1-e.end,r=1-e.start),(!W(t)||n<t)&&(t=n),(!W(i)||r>i)&&(i=r);}})),{start:t,end:i}},t.prototype.updateXAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.topAxesContainer,t.toFront()):(t.parent=this.bottomAxesContainer,t.toBack()),t.renderer&&t.renderer.processRenderer();},t.prototype.updateYAxis=function(e){var t=e.axis;e.opposite?(t.parent=this.rightAxesContainer,t.toBack()):(t.parent=this.leftAxesContainer,t.toFront()),t.renderer&&t.renderer.processRenderer();},t.prototype.processAxis=function(e){var t=this;e instanceof Kg&&this._dataUsers.moveValue(e);var i=e.renderer;i.gridContainer.parent=this.plotContainer,i.gridContainer.toBack(),i.breakContainer.parent=this.plotContainer,i.breakContainer.toFront(),i.breakContainer.zIndex=10,e.addDisposer(new Ve((function(){t.dataUsers.removeValue(e);}))),i.bulletsContainer.parent=this.axisBulletsContainer,this._disposers.push(e.events.on("positionchanged",(function(){var n=Ti({x:0,y:0},e,t.axisBulletsContainer);e.renderer instanceof Bg&&(i.bulletsContainer.y=n.y),e.renderer instanceof qg&&(i.bulletsContainer.x=n.x);}),void 0,!1)),this.plotContainer.events.on("maxsizechanged",(function(){t.inited&&(e.invalidateDataItems(),t.updateSeriesMasks());}),e,!1);},t.prototype.updateSeriesMasks=function(){Ri()&&this.series.each((function(e){var t=e.mainContainer.mask;e.mainContainer.mask=void 0,e.mainContainer.mask=t;}));},t.prototype.handleSeriesRemoved=function(t){var i=t.oldValue;i&&(i.xAxis&&(i.xAxis.series.removeValue(i),i.xAxis.invalidateProcessedData()),i.yAxis&&(i.yAxis.series.removeValue(i),i.yAxis.invalidateProcessedData()),this.series.each((function(e){e.resetExtremes();}))),e.prototype.handleSeriesRemoved.call(this,t);},Object.defineProperty(t.prototype,"xAxes",{get:function(){return this._xAxes||(this._xAxes=new Tt,this._xAxes.events.on("inserted",this.processXAxis,this,!1),this._xAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new wt(this._xAxes,!1))),this._xAxes},enumerable:!0,configurable:!0}),t.prototype.handleAxisRemoval=function(e){var t=e.oldValue;this.dataUsers.removeValue(t),t.autoDispose&&t.dispose();},Object.defineProperty(t.prototype,"yAxes",{get:function(){return this._yAxes||(this._yAxes=new Tt,this._yAxes.events.on("inserted",this.processYAxis,this,!1),this._yAxes.events.on("removed",this.handleAxisRemoval,this,!1),this._disposers.push(new wt(this._yAxes,!1))),this._yAxes},enumerable:!0,configurable:!0}),t.prototype.handleSeriesAdded=function(t){try{e.prototype.handleSeriesAdded.call(this,t);var i=t.newValue;0!=this.xAxes.length&&0!=this.yAxes.length||(St.removeFromInvalidComponents(i),i.dataInvalid=!1),i.xAxis,i.yAxis,i.maskBullets=i.maskBullets,null==i.fill&&(this.patterns?(j(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),j(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof $t&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next()),j(i.stroke)||(i.stroke=i.fill);}catch(e){this.raiseCriticalError(e);}},Object.defineProperty(t.prototype,"cursor",{get:function(){return this._cursor},set:function(e){this._cursor!=e&&(this._cursor&&this.removeDispose(this._cursor),this._cursor=e,e&&(this._disposers.push(e),e.chart=this,e.shouldClone=!1,e.parent=this._cursorContainer,e.events.on("cursorpositionchanged",this.handleCursorPositionChange,this,!1),e.events.on("zoomstarted",this.handleCursorZoomStart,this,!1),e.events.on("zoomended",this.handleCursorZoomEnd,this,!1),e.events.on("panstarted",this.handleCursorPanStart,this,!1),e.events.on("panning",this.handleCursorPanning,this,!1),e.events.on("panended",this.handleCursorPanEnd,this,!1),e.events.on("behaviorcanceled",this.handleCursorCanceled,this,!1),e.events.on("hidden",this.handleHideCursor,this,!1),e.zIndex=Number.MAX_SAFE_INTEGER-1,this.tapToActivate&&this.setTapToActivate(this.tapToActivate)));},enumerable:!0,configurable:!0}),t.prototype.handleCursorPositionChange=function(){var e=this.cursor;if(e.visible&&!e.isHiding){var t=this.cursor.xPosition,i=this.cursor.yPosition;this.showSeriesTooltip({x:t,y:i});var n=[],r=e.snapToSeries;if(r&&!e.downPoint){r instanceof Jg&&(r=[r]);var a=[];we(r,(function(e){if(!e.isHidden&&!e.isHiding){var r=e.xAxis,o=e.yAxis;r instanceof zg&&!(r instanceof Ug)&&o instanceof zg&&!(o instanceof Ug)?(e.dataItems.each((function(e){a.push(e);})),Ae(n,e.yAxis),Ae(n,e.xAxis)):(e.baseAxis==e.xAxis&&(Ae(n,e.yAxis),a.push(r.getSeriesDataItem(e,r.toAxisPosition(t),!0))),e.baseAxis==e.yAxis&&(Ae(n,e.xAxis),a.push(o.getSeriesDataItem(e,o.toAxisPosition(i),!0))));}}));var o=this.getClosest(a,t,i);o&&(this.series.each((function(e){var t=o.component;e!=t&&(e.hideTooltip(),e.xAxis!=t.xAxis&&(e.xAxis.hideTooltip(),n.push(e.xAxis)),e.yAxis!=t.yAxis&&(e.yAxis.hideTooltip(),n.push(e.yAxis)));})),o.component.showTooltipAtDataItem(o),e.handleSnap(o.component));}this._seriesPoints=[],this._cursorXPosition!=t&&this.showAxisTooltip(this.xAxes,t,n),this._cursorYPosition!=i&&this.showAxisTooltip(this.yAxes,i,n),this.arrangeTooltips&&this.sortSeriesTooltips(this._seriesPoints),this.legend&&this.legend.afterDraw();}},t.prototype.getClosest=function(e,t,i){var n,r=1/0;return Ie(e,(function(e){if(e){var a=e.component.xAxis,o=e.component.yAxis,s=a.positionToCoordinate(a.toGlobalPosition(a.toAxisPosition(t))),l=o.positionToCoordinate(o.toGlobalPosition(o.toAxisPosition(i))),u=e.component.xField,d=e.component.yField;if(a instanceof zg&&!W(e.getValue(u)))return !0;if(o instanceof zg&&!W(e.getValue(d)))return !0;var c=a.positionToCoordinate(a.toGlobalPosition(a.getPositionX(e,u,e.locations[u],"valueX"))),h=o.positionToCoordinate(o.toGlobalPosition(o.getPositionY(e,d,e.locations[d],"valueY"))),p=Math.sqrt(Math.pow(s-c,2)+Math.pow(l-h,2));return p<r&&(r=p,n=e),!0}})),n},t.prototype.handleHideCursor=function(){this.hideObjectTooltip(this.xAxes),this.hideObjectTooltip(this.yAxes),this.hideObjectTooltip(this.series),this._cursorXPosition=void 0,this._cursorYPosition=void 0,this.updateSeriesLegend();},t.prototype.updateSeriesLegend=function(){ut(this.series.iterator(),(function(e){e.updateLegendValue();}));},t.prototype.hideObjectTooltip=function(e){ut(e.iterator(),(function(e){e.cursorTooltipEnabled&&e.hideTooltip(0);}));},t.prototype.showSeriesTooltip=function(e){var t=this;if(e){var i=[];this.series.each((function(n){if(n.xAxis instanceof Ug&&n.xAxis.snapTooltip||n.yAxis instanceof Ug&&n.yAxis.snapTooltip);else {var r=n.showTooltipAtPosition(e.x,e.y);r&&(n.tooltip.setBounds(Ai({x:0,y:0,width:t.pixelWidth,height:t.pixelHeight},t)),i.push({series:n,point:r}));}})),this.arrangeTooltips&&this.sortSeriesTooltips(i);}else this.series.each((function(e){e.hideTooltip();}));},t.prototype.sortSeriesTooltips=function(e){if(e.length>0){var t=this.cursor;if(t&&W(t.maxTooltipDistance)){var i,n,r=Ii({x:t.point.x,y:t.point.y},t),a=1/0;we(e,(function(e){var t=e.series,o=e.point;if(o){var s={x:o.x,y:o.y},l=Math.abs(ae(s,r));l<a&&(n=s,a=l,i=t);}}));var o=[];i&&(we(e,(function(e){if(Math.abs(ae(e.point,n))<=Math.abs(t.maxTooltipDistance))o.push({series:e.series,point:e.point});else {var i=e.series.tooltipDataItem;i&&we(i.sprites,(function(e){e.isHover=!1,e.handleOutReal();})),e.series.hideTooltip(0);}})),t.maxTooltipDistance<0&&(o.length>0&&we(o,(function(e){i!=e.series&&e.series.hideTooltip(0);})),o=[{series:i,point:n}])),e=o;}var s=Ii({x:-.5,y:-.5},this.plotContainer),l=Ii({x:this.plotContainer.pixelWidth+.5,y:this.plotContainer.pixelHeight+.5},this.plotContainer),u=0,d=[];we(e,(function(e){var t=e.point;t&&Ce(t,{x:s.x,y:s.y,width:l.x-s.x,height:l.y-s.y})&&(d.push({point:t,series:e.series}),u+=t.y);})),e=d;var c=this.series.getIndex(0),h=!1;c&&c.yAxis&&c.yAxis.renderer.inversed&&(h=!0),h?e.sort((function(e,t){return Mt(e.point.y,t.point.y)})):(e.sort((function(e,t){return Mt(t.point.y,e.point.y)})),e.reverse());var p=u/e.length,m=ki({x:0,y:0},this.svgContainer.SVGContainer).y;if(e.length>0){var f=s.y,g=l.y;Di({x:0,y:f},this);var y=!1;if(p>f+(g-f)/2)for(var v=g,b=e.length-1;b>=0;b--){var x=(P=e[b].series).tooltip,C=e[b].point.y;if(x.setBounds({x:0,y:-m,width:this.pixelWidth,height:v+m}),x.invalid&&x.validate(),x.toBack(),(v=Ii({x:0,y:x.label.pixelY-x.pixelY+C-x.pixelMarginTop},x).y)<-m){y=!0;break}}if(p<=f+(g-f)/2||y)for(var S=f,_=(b=0,e.length);b<_;b++){var P=e[b].series;C=e[b].point.y;(x=P.tooltip).setBounds({x:0,y:S,width:this.pixelWidth,height:g}),x.invalid&&x.validate(),x.toBack(),S=Ii({x:0,y:x.label.pixelY+x.label.measuredHeight-x.pixelY+C+x.pixelMarginBottom},x).y;}}}},t.prototype.showAxisTooltip=function(e,t,i){var n=this;ut(e.iterator(),(function(e){i&&-1!=i.indexOf(e)||(n.dataItems.length>0||e.dataItems.length>0)&&e.showTooltipAtPosition(t);}));},t.prototype.getUpdatedRange=function(e,t){if(e){var i,n;e.renderer.inversed?(re(t),i=1-e.end,n=1-e.start):(i=e.start,n=e.end);var r=n-i;return {start:i+t.start*r,end:i+t.end*r}}},t.prototype.handleCursorZoomEnd=function(e){var t=this.cursor,i=t.behavior;if("zoomX"==i||"zoomXY"==i){var n=t.xRange;n&&this.xAxes.length>0&&((n=this.getUpdatedRange(this.xAxes.getIndex(0),n)).priority="start",this.zoomAxes(this.xAxes,n));}if("zoomY"==i||"zoomXY"==i){var r=t.yRange;r&&this.yAxes.length>0&&((r=this.getUpdatedRange(this.yAxes.getIndex(0),r)).priority="start",this.zoomAxes(this.yAxes,r));}this.handleHideCursor();},t.prototype.handleCursorPanStart=function(e){var t=this.xAxes.getIndex(0);t&&(this._panStartXRange={start:t.start,end:t.end},t.renderer.inversed&&(this._panStartXRange=re(this._panStartXRange)));var i=this.yAxes.getIndex(0);i&&(this._panStartYRange={start:i.start,end:i.end},i.renderer.inversed&&(this._panStartYRange=re(this._panStartYRange)));},t.prototype.handleCursorPanEnd=function(e){var t=this.cursor,i=t.behavior;if(this._panEndXRange&&("panX"==i||"panXY"==i)){var n=this._panEndXRange,r=this._panStartXRange,a=0;n.start<0&&(a=n.start),r.end>1?n.end>r.end&&(a=n.end-r.end):n.end>1&&(a=n.end-1),this.zoomAxes(this.xAxes,{start:n.start-a,end:n.end-a},!1,t.snapOnPan),this._panEndXRange=void 0,this._panStartXRange=void 0;}if(this._panEndYRange&&("panY"==i||"panXY"==i)){a=0;(n=this._panEndYRange).start<0&&(a=n.start),n.end>1&&(a=n.end-1),this.zoomAxes(this.yAxes,{start:n.start-a,end:n.end-a},!1,t.snapOnPan),this._panEndYRange=void 0,this._panStartYRange=void 0;}},t.prototype.handleCursorCanceled=function(){this._panEndXRange=void 0,this._panStartXRange=void 0;},t.prototype.handleCursorPanning=function(e){var t=this.cursor,i=t.behavior,n=t.maxPanOut;if(this._panStartXRange&&("panX"==i||"panXY"==i)){var r=this._panStartXRange,a=t.xRange,o=this.getCommonAxisRange(this.xAxes),s=r.end-r.start,l=a.start*(o.end-o.start),u=Math.max(-n,l+r.start),d=Math.min(l+r.end,1+n);u<=0&&(d=u+s),d>=1&&(u=d-s);var c={start:u,end:d};this._panEndXRange=c,this.zoomAxes(this.xAxes,c,!1,!1,t.maxPanOut);}if(this._panStartYRange&&("panY"==i||"panXY"==i)){r=this._panStartYRange,a=t.yRange,o=this.getCommonAxisRange(this.yAxes),s=r.end-r.start,l=a.start*(o.end-o.start),u=Math.max(-n,l+r.start),d=Math.min(l+r.end,1+n);u<=0&&(d=u+s),d>=1&&(u=d-s);c={start:u,end:d};this._panEndYRange=c,this.zoomAxes(this.yAxes,c,!1,!1,t.maxPanOut);}this.handleHideCursor();},t.prototype.handleYAxisSet=function(e){},t.prototype.handleCursorZoomStart=function(e){},Object.defineProperty(t.prototype,"scrollbarX",{get:function(){return this._scrollbarX},set:function(e){var t=this;this._scrollbarX&&this.removeDispose(this._scrollbarX),this._scrollbarX=e,e&&(this._disposers.push(e),e.parent=this.topAxesContainer,e.shouldClone=!1,e.startGrip.exportable=!1,e.endGrip.exportable=!1,e.toBack(),e.orientation="horizontal",e.events.on("rangechanged",this.handleXScrollbarChange,this,!1),this.events.on("datavalidated",(function(){return e.updateThumb(!1)}),this,!1),e.adapter.add("positionValue",(function(e){var i=t.xAxes.getIndex(0);return i&&(e.value=i.getPositionLabel(i.renderer.inversed?1-e.position:e.position)),e})));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollbarY",{get:function(){return this._scrollbarY},set:function(e){var t=this;this._scrollbarY&&this.removeDispose(this._scrollbarY),this._scrollbarY=e,e&&(this._disposers.push(e),e.parent=this.rightAxesContainer,e.startGrip.exportable=!1,e.shouldClone=!1,e.endGrip.exportable=!1,e.toFront(),e.orientation="vertical",e.events.on("rangechanged",this.handleYScrollbarChange,this,!1),this.events.on("datavalidated",(function(){return e.updateThumb(!1)}),this,!1),e.adapter.add("positionValue",(function(e){var i=t.yAxes.getIndex(0);return i&&(e.value=i.getPositionLabel(e.position)),e})));},enumerable:!0,configurable:!0}),t.prototype.handleXScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;0==i.start&&(i.priority="start"),1==i.end&&(i.priority="end"),i=this.zoomAxes(this.xAxes,i),t.fixRange(i);}},t.prototype.handleYScrollbarChange=function(e){if(this.inited){var t=e.target,i=t.range;1==i.end&&(i.priority="end"),0==i.start&&(i.priority="start"),i=this.zoomAxes(this.yAxes,i),t.fixRange(i);}},t.prototype.zoomAxes=function(e,t,i,n,r,a){var o={start:0,end:1};this.showSeriesTooltip();var s=t;return this.dataInvalid||ut(e.iterator(),(function(e){var l=e.maxZoomFactor;if(W(e.minZoomCount)&&(l/=e.minZoomCount),a&&1/(t.end-t.start)>=l);else if(e.zoomable){if(t=e.renderer.inversed?re(s):s,e.hideTooltip(0),n)if(e instanceof Kg){var u=e.getCellEndPosition(0)-e.getCellStartPosition(0);t.start=e.roundPosition(t.start+u/2-e.startLocation*u,e.startLocation),t.end=e.roundPosition(t.end-u/2+(1-e.endLocation)*u,e.endLocation);}else {var d=1e-4;t.start=e.roundPosition(t.start+d,0,e.startLocation),t.end=e.roundPosition(t.end+d,0,e.endLocation);}var c=e.zoom(t,i,i,r);e.renderer.inversed&&(c=re(c)),o=c;}})),o},Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0)&&this.bulletsContainer&&(this.bulletsContainer.mask=e?this._bulletMask:void 0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arrangeTooltips",{get:function(){return this.getPropertyValue("arrangeTooltips")},set:function(e){this.setPropertyValue("arrangeTooltips",e,!0);},enumerable:!0,configurable:!0}),t.prototype.handleWheel=function(e){var t=this.plotContainer,i=wi(Oi(e.point,this.htmlContainer,this.svgContainer.cssScale),t),n=e.shift.y;this.handleWheelReal(n,this.mouseWheelBehavior,i);},t.prototype.handleHorizontalWheel=function(e){var t=this.plotContainer,i=wi(Oi(e.point,this.htmlContainer,this.svgContainer.cssScale),t);this.handleWheelReal(e.shift.x,this.horizontalMouseWheelBehavior,i);},t.prototype.handleWheelReal=function(e,t,i){if(0!=e){var n=this.plotContainer,r=this.getCommonAxisRange(this.xAxes),a=this.getCommonAxisRange(this.yAxes),o=.1;if("panX"==t||"panXY"==t){var s=this.xAxes.getIndex(0),l=!1,u=o;s instanceof Kg&&(u=.5/((r.end-r.start)*s.dataItems.length),l=!0),o=Math.max(.2,u);var d=r.end-r.start,c=Math.max(-0,r.start+o*e/100*(r.end-r.start)),h=Math.min(r.end+o*e/100*(r.end-r.start),1);c<=0&&(h=c+d),h>=1&&(c=h-d),this.zoomAxes(this.xAxes,{start:c,end:h},void 0,l);}if("panY"==t||"panXY"==t){var p=this.yAxes.getIndex(0);u=o,l=!1;p instanceof Kg&&(u=.5/((r.end-r.start)*p.dataItems.length),l=!0),o=Math.max(.2,u),e*=-1;var m=a.end-a.start,f=Math.max(-0,a.start+o*e/100*(a.end-a.start)),g=Math.min(a.end+o*e/100*(a.end-a.start),1);f<=0&&(g=f+m),g>=1&&(f=g-m),this.zoomAxes(this.yAxes,{start:f,end:g},void 0,l);}if("zoomX"==t||"zoomXY"==t){var y=i.x/n.maxWidth,v=this.xAxes.getIndex(0).toAxisPosition(y);c=Math.max(-0,r.start-o*(r.end-r.start)*e/100*y);c=Math.min(c,v);h=Math.min(r.end+o*(r.end-r.start)*e/100*(1-y),1);h=Math.max(h,v),this.zoomAxes(this.xAxes,{start:c,end:h},void 0);}if("zoomY"==t||"zoomXY"==t){var b=i.y/n.maxHeight,x=this.yAxes.getIndex(0).toAxisPosition(b);f=Math.max(-0,a.start-o*(a.end-a.start)*e/100*(1-b));f=Math.min(f,x);g=Math.min(a.end+o*e/100*b*(a.end-a.start),1);g=Math.max(g,x),this.zoomAxes(this.yAxes,{start:f,end:g},void 0);}}},Object.defineProperty(t.prototype,"mouseWheelBehavior",{get:function(){return this.getPropertyValue("mouseWheelBehavior")},set:function(e){this.setPropertyValue("mouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer=this.plotContainer.events.on("wheel",this.handleWheel,this,!1),this._disposers.push(this._mouseWheelDisposer)):this._mouseWheelDisposer&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer.dispose()));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalMouseWheelBehavior",{get:function(){return this.getPropertyValue("horizontalMouseWheelBehavior")},set:function(e){this.setPropertyValue("horizontalMouseWheelBehavior",e)&&("none"!=e?(this._mouseWheelDisposer2=this.plotContainer.events.on("wheel",this.handleHorizontalWheel,this,!1),this._disposers.push(this._mouseWheelDisposer2)):this._mouseWheelDisposer2&&(this.plotContainer.wheelable=!1,this.plotContainer.hoverable=!1,this._mouseWheelDisposer2.dispose()));},enumerable:!0,configurable:!0}),t.prototype.dataSourceDateFields=function(t){var i=this;return t=e.prototype.dataSourceDateFields.call(this,t),ut(this.series.iterator(),(function(e){t=i.populateDataSourceFields(t,e.dataFields,["dateX","dateY","openDateX","openDateY"]);})),t},t.prototype.dataSourceNumberFields=function(t){var i=this;return t=e.prototype.dataSourceDateFields.call(this,t),ut(this.series.iterator(),(function(e){t=i.populateDataSourceFields(t,e.dataFields,["valueX","valueY","openValueX","openValueY"]);})),t},t.prototype.processConfig=function(t){if(t){var i=[],n=[];if(j(t.xAxes)&&H(t.xAxes))for(var r=0,a=t.xAxes.length;r<a;r++){if(!t.xAxes[r].type)throw Error("[XYChart error] No type set for xAxes["+r+"].");if(j(t.xAxes[r].axisRanges)){for(var o=0,s=t.xAxes[r].axisRanges.length;o<s;o++){j((u=t.xAxes[r].axisRanges[o]).date)&&N(u.date)&&(u.date=this.dateFormatter.parse(u.date)),j(u.endDate)&&N(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate));}i.push({axisRanges:t.xAxes[r].axisRanges,index:r}),delete t.xAxes[r].axisRanges;}}if(j(t.yAxes)&&H(t.yAxes))for(r=0,a=t.yAxes.length;r<a;r++){if(!t.yAxes[r].type)throw Error("[XYChart error] No type set for yAxes["+r+"].");if(j(t.yAxes[r].axisRanges)){o=0;for(var l=t.yAxes[r].axisRanges.length;o<l;o++){var u;j((u=t.yAxes[r].axisRanges[o]).date)&&N(u.date)&&(u.date=this.dateFormatter.parse(u.date)),j(u.endDate)&&N(u.endDate)&&(u.endDate=this.dateFormatter.parse(u.endDate));}n.push({axisRanges:t.yAxes[r].axisRanges,index:r}),delete t.yAxes[r].axisRanges;}}if(j(t.series)&&H(t.series))for(r=0,a=t.series.length;r<a;r++)t.series[r].type=t.series[r].type||"LineSeries";if(j(t.cursor)&&!j(t.cursor.type)&&(t.cursor.type="XYCursor"),j(t.scrollbarX)&&!j(t.scrollbarX.type)&&(t.scrollbarX.type="Scrollbar"),j(t.scrollbarY)&&!j(t.scrollbarY.type)&&(t.scrollbarY.type="Scrollbar"),e.prototype.processConfig.call(this,t),n.length)for(r=0,a=n.length;r<a;r++)this.yAxes.getIndex(n[r].index).config={axisRanges:n[r].axisRanges};if(i.length)for(r=0,a=i.length;r<a;r++)this.xAxes.getIndex(i[r].index).config={axisRanges:i[r].axisRanges};}},t.prototype.configOrder=function(t,i){return t==i?0:"scrollbarX"==t?1:"scrollbarX"==i?-1:"scrollbarY"==t?1:"scrollbarY"==i?-1:"cursor"==t?1:"cursor"==i?-1:"series"==t?1:"series"==i?-1:e.prototype.configOrder.call(this,t,i)},t.prototype.createSeries=function(){return new Jg},Object.defineProperty(t.prototype,"zoomOutButton",{get:function(){return this._zoomOutButton},set:function(e){var t=this;this._zoomOutButton=e,e&&e.events.on("hit",(function(){t.zoomAxes(t.xAxes,{start:0,end:1}),t.zoomAxes(t.yAxes,{start:0,end:1});}),void 0,!1);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){var i=this;t.xAxes.each((function(e){var t=i.xAxes.push(e.clone());t.chart=i,t.renderer.chart=i;})),t.yAxes.each((function(e){var t=i.yAxes.push(e.clone());t.renderer.chart=i,t.chart=i;})),e.prototype.copyFrom.call(this,t),t.cursor&&(this.cursor=t.cursor.clone()),t.scrollbarX&&(this.scrollbarX=t.scrollbarX.clone()),t.scrollbarY&&(this.scrollbarY=t.scrollbarY.clone());},t.prototype.disposeData=function(){e.prototype.disposeData.call(this);var t=this.scrollbarX;t&&t instanceof Zg&&t.scrollbarChart.disposeData();var i=this.scrollbarY;i&&i instanceof Zg&&i.scrollbarChart.disposeData(),this.xAxes.each((function(e){e instanceof Kg&&e.disposeData();})),this.yAxes.each((function(e){e instanceof Kg&&e.disposeData();}));},t.prototype.addData=function(t,i){this.scrollbarX instanceof Zg&&this.addScrollbarData(this.scrollbarX,i),this.scrollbarY instanceof Zg&&this.addScrollbarData(this.scrollbarY,i),e.prototype.addData.call(this,t,i);},t.prototype.addScrollbarData=function(e,t){var i=e.scrollbarChart;i._parseDataFrom=i.data.length,i.invalidateData();},t.prototype.removeScrollbarData=function(e,t){var i=e.scrollbarChart;if(W(t)){for(;t>0;){var n=this.dataItems.getIndex(0);n&&i.dataItems.remove(n),i.dataUsers.each((function(e){var t=e.dataItems.getIndex(0);t&&e.dataItems.remove(t);})),i._parseDataFrom--,t--;}i.invalidateData();}},t.prototype.removeData=function(t){this.scrollbarX instanceof Zg&&this.removeScrollbarData(this.scrollbarX,t),this.scrollbarY instanceof Zg&&this.removeScrollbarData(this.scrollbarY,t),e.prototype.removeData.call(this,t);},t.prototype.setTapToActivate=function(t){e.prototype.setTapToActivate.call(this,t),this.cursor&&(this.cursor.interactions.isTouchProtected=t,this.plotContainer.interactions.isTouchProtected=t);},t.prototype.handleTapToActivate=function(){e.prototype.handleTapToActivate.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!1,this.plotContainer.interactions.isTouchProtected=!1);},t.prototype.handleTapToActivateDeactivation=function(){e.prototype.handleTapToActivateDeactivation.call(this),this.cursor&&(this.cursor.interactions.isTouchProtected=!0,this.plotContainer.interactions.isTouchProtected=!0);},t}(Ig);St.registeredClasses.XYChart=ey,Ur.push({relevant:qr.maybeXS,state:function(e,t){if(e instanceof ey&&e.scrollbarX){var i=e.states.create(t);return e.scrollbarX.states.create(t).properties.disabled=!0,i}return null}}),Ur.push({relevant:qr.maybeXS,state:function(e,t){if(e instanceof ey&&e.scrollbarY){var i=e.states.create(t);return e.scrollbarY.states.create(t).properties.disabled=!0,i}return null}});var ty=function(e){function t(){var t=e.call(this)||this;t.className="LineSeriesSegment",t.isMeasured=!1,t.interactionsEnabled=!1,t.layout="none";var i=t.createChild(Dr);t.fillSprite=i,i.shouldClone=!1,i.setElement(t.paper.add("path")),i.isMeasured=!1,t._disposers.push(i);var n=t.createChild(Dr);return t.strokeSprite=n,n.shouldClone=!1,n.fill=Yt(),n.setElement(t.paper.add("path")),n.isMeasured=!1,t._disposers.push(n),t}return x(t,e),t.prototype.drawSegment=function(e,t,i,n){if(!this.disabled)if(e.length>0&&t.length>0&&W(e[0].x)&&W(e[0].y)){var r=ra({x:e[0].x-.2,y:e[0].y-.2})+ra(e[0]),a=this.series;"bezier"==a.smoothing?r+=new Fa(i,n).smooth(e):"monotoneX"==a.smoothing?r+=new Va({closed:!1}).smooth(e):"monotoneY"==a.smoothing&&(r+=new Ra({closed:!1}).smooth(e)),0==this.strokeOpacity||0==this.strokeSprite.strokeOpacity||(this.strokeSprite.path=r),(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&W(t[0].x)&&W(t[0].y)&&(r+=aa(t[0]),"bezier"==a.smoothing?r+=new Fa(i,n).smooth(t):"monotoneX"==a.smoothing?r+=new Va({closed:!1}).smooth(t):"monotoneY"==a.smoothing&&(r+=new Ra({closed:!1}).smooth(t)),r+=aa(e[0]),r+=" Z",this.fillSprite.path=r);}else this.fillSprite.path="",this.strokeSprite.path="";},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t);var i=this.strokeSprite;rt(t,i.properties,Fr),i.events.copyFrom(t.strokeSprite.events),i.fillOpacity=0;var n=this.fillSprite;rt(t,n.properties,Fr),n.events.copyFrom(t.fillSprite.events),n.strokeOpacity=0;},t}(Lr);St.registeredClasses.LineSeriesSegment=ty;var iy=function(e){function t(){var t=e.call(this)||this;return t.className="DurationAxisDataItem",t.applyTheme(),t}return x(t,e),t}(Wg),ny=function(e){function t(){var t=e.call(this)||this;return t._baseUnit="second",t.className="DurationAxis",t.setPropertyValue("maxZoomFactor",1e6),t.applyTheme(),t}return x(t,e),t.prototype.formatLabel=function(e,t){return this.durationFormatter.format(e,t||this.axisDurationFormat)},t.prototype.adjustMinMax=function(t,i,n,r,a){var o,s,l,u,d=this.baseUnit;if(this.setPropertyValue("maxPrecision",0),"millisecond"==d||"second"==d||"minute"==d||"hour"==d){r<=1&&(r=1),r=Math.round(r);var c=t,h=i;0===n&&(n=Math.abs(i));var p,m=[60,30,20,15,10,2,1],f=1;"hour"==d&&(m=[24,12,6,4,2,1]);try{for(var g=P(m),y=g.next();!y.done;y=g.next()){var v=y.value;if(n/v>r){f=v;break}}}catch(e){o={error:e};}finally{try{y&&!y.done&&(s=g.return)&&s.call(g);}finally{if(o)throw o.error}}var b=Math.ceil((i-t)/f/r),x=Math.log(Math.abs(b))*Math.LOG10E,C=Math.pow(10,Math.floor(x))/10;p=f*(b=(u=b/C,m.reduce((function(e,t){return Math.abs(t-u)<Math.abs(e-u)?t:e})))*C),this.durationFormatter.getValueUnit(p,this.baseUnit),t=Math.floor(t/p)*p,i=Math.ceil(i/p)*p,a&&((t-=p)<0&&c>=0&&(t=0),(i+=p)>0&&h<=0&&(i=0)),l={min:t,max:i,step:p};}else l=e.prototype.adjustMinMax.call(this,t,i,n,r,a);return this.axisDurationFormat=this.durationFormatter.getFormat(l.step,l.max,this.baseUnit),l},Object.defineProperty(t.prototype,"tooltipDurationFormat",{get:function(){return this._tooltipDurationFormat},set:function(e){this._tooltipDurationFormat=e;},enumerable:!0,configurable:!0}),t.prototype.getTooltipText=function(e){var t=K(this.positionToValue(e),this._stepDecimalPlaces),i=this.formatLabel(t,this.tooltipDurationFormat);return this._adapterO?this._adapterO.apply("getTooltipText",i):i},Object.defineProperty(t.prototype,"baseUnit",{get:function(){return this._baseUnit},set:function(e){this._baseUnit!=e&&(this._baseUnit=e,this.durationFormatter.baseUnit=e,this.invalidate());},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.baseUnit=t.baseUnit;},t}(zg);St.registeredClasses.DurationAxis=ny,St.registeredClasses.DurationAxisDataItem=iy;var ry=function(e){function t(){var t=e.call(this)||this;return t.className="LineSeriesDataItem",t}return x(t,e),t}(Xg),ay=function(e){function t(){var t=e.call(this)||this;return t.minDistance=.5,t.segments=new At(t.createSegment()),t.segments.template.applyOnClones=!0,t._disposers.push(new wt(t.segments)),t._disposers.push(t.segments.template),t._segmentsIterator=new mt(t.segments,(function(){return t.segments.create()})),t._segmentsIterator.createNewItems=!0,t.className="LineSeries",t.strokeOpacity=1,t.fillOpacity=0,t.connect=!0,t.tensionX=1,t.tensionY=1,t.autoGapCount=1.1,t.smoothing="bezier",t.segmentsContainer=t.mainContainer.createChild(Lr),t.segmentsContainer.isMeasured=!1,t.bulletsContainer.toFront(),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Line Series"));},t.prototype.createSegment=function(){return new ty},t.prototype.createDataItem=function(){return new ry},t.prototype.setInitialWorkingValues=function(e){var t=this._yAxis.get(),i=this._xAxis.get();if(this.appeared&&this.visible){var n=this.dataItems.getIndex(e.index-1);if(e.component=this,this.baseAxis==i&&t instanceof zg){var r=t.minZoomed;if(n&&(r=n.values.valueY.workingValue),e.setWorkingValue("valueY",r,0),e.setWorkingValue("valueY",e.values.valueY.value),i instanceof Ug)e.setWorkingLocation("dateX",e.locations.dateX-1,0),e.setWorkingLocation("dateX",e.locations.dateX);else if(i instanceof ny&&n){var a=e.valueX;e.setWorkingValue("valueX",n.valueX,0),e.setWorkingValue("valueX",a);}}if(this.baseAxis==t&&i instanceof zg){var o=i.minZoomed;if(n&&(o=n.values.valueX.workingValue),e.setWorkingValue("valueX",o,0),e.setWorkingValue("valueX",e.values.valueX.value),t instanceof Ug)e.setWorkingLocation("dateY",e.locations.dateX-1,0),e.setWorkingLocation("dateY",e.locations.dateY);else if(t instanceof ny&&n){a=e.valueY;e.setWorkingValue("valueY",n.valueY,0),e.setWorkingValue("valueY",a);}}}else this.baseAxis==i&&t instanceof zg&&(i instanceof Ug&&e.setWorkingLocation("dateX",e.locations.dateX),i instanceof Kg&&e.setWorkingLocation("categoryX",e.locations.categoryX)),this.baseAxis==t&&i instanceof zg&&(t instanceof Ug&&e.setWorkingLocation("dateY",e.locations.dateY),t instanceof Kg&&e.setWorkingLocation("categoryY",e.locations.categoryY));},t.prototype.updateLegendValue=function(t,i){e.prototype.updateLegendValue.call(this,t,i),t&&t.segment&&(this.tooltipColorSource=t.segment);},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.xAxis&&this.yAxis&&(this._segmentsIterator.reset(),this.openSegmentWrapper(this._adjustedStartIndex),ut(this.axisRanges.iterator(),(function(e){t.openSegmentWrapper(t._adjustedStartIndex,e);})),ut(this._segmentsIterator.iterator(),(function(e){e.__disabled=!0;})));},t.prototype.sliceData=function(){for(var e=this.startIndex,t=this.endIndex,i=this.startIndex-1;i>=0;i--){if((r=this.dataItems.getIndex(i))&&r.hasValue(this._xValueFields)&&r.hasValue(this._yValueFields)){e=i;break}}this._adjustedStartIndex=this.findAdjustedIndex(e,["stroke","strokeWidth","strokeDasharray","strokeOpacity","fill","fillOpacity","opacity"]);i=this.endIndex;for(var n=this.dataItems.length;i<n;i++){var r;if((r=this.dataItems.getIndex(i))&&r.hasValue(this._xValueFields)&&r.hasValue(this._yValueFields)){t=i+1;break}}this._workingStartIndex=e,this._workingEndIndex=t;},t.prototype.findAdjustedIndex=function(e,t){var i=this,n=this.propertyFields,r=e;return we(t,(function(t){if(j(n[t]))for(var a=r;a>=0;a--){var o=i.dataItems.getIndex(a);if(o&&j(o.properties[t])){e>a&&(e=a);break}}})),e},t.prototype.openSegmentWrapper=function(e,t){var i={index:e,axisRange:t};do{i=this.openSegment(i.index,i.axisRange);}while(i)},t.prototype.getSegment=function(){var e=this._segmentsIterator.getFirst();return e.series=this,e.isDisposed()?(this.segments.removeValue(e),this.getSegment()):e},t.prototype.openSegment=function(e,t){var i=!1,n=[];e=Math.min(e,this.dataItems.length);var r,a=Math.min(this._workingEndIndex,this.dataItems.length);this._workingEndIndex=Math.min(this._workingEndIndex,this.dataItems.length);var o=!1,s=this.getSegment();s.strokeDasharray=void 0,s.__disabled=!1,t?(s.parent=t.contents,rt(t.contents,s,Fr)):(rt(this,s,Fr),s.filters.clear(),s.parent=this.segmentsContainer),this.group.node.removeAttribute("fill");for(var l=this.connect,u=!1,d=e;d<a;d++){var c=this.dataItems.getIndex(d);if(c.segment=s,c.hasProperties&&(d==e?this.updateSegmentProperties(c.properties,s):o=this.updateSegmentProperties(c.properties,s,!0)),c.hasValue(this._xValueFields)&&c.hasValue(this._yValueFields))this.addPoints(n,c,this.xField,this.yField),u=!0;else {if(d==e)continue;if(!l&&u){r=d;break}}if(r=d,this.baseAxis instanceof Ug){var h=this.dataItems.getIndex(d+1);if(h&&this.baseAxis.makeGap(h,c)){i=!0;break}}if(o)break}return this.closeSegment(s,n,e,r,t,i)},t.prototype.addPoints=function(e,t,i,n,r){var a=this.getPoint(t,i,n,t.workingLocations[i],t.workingLocations[n]);r||(t.point=a),e.push(a);},t.prototype.closeSegment=function(e,t,i,n,r,a){var o=[];if(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)for(var s=n;s>=i;s--){var l=this.dataItems.getIndex(s);l.hasValue(this._xValueFields)&&l.hasValue(this._yValueFields)&&this.addPoints(o,l,this.xOpenField,this.yOpenField,!0);}else {var u=this.baseAxis,d=t.length,c=this.xAxis,h=this.yAxis;d>0&&(u==c?(o.push({x:t[d-1].x,y:h.basePoint.y}),o.push({x:t[0].x,y:h.basePoint.y})):(o.push({x:c.basePoint.x,y:t[d-1].y}),o.push({x:c.basePoint.x,y:t[0].y})));}return this.drawSegment(e,t,o),a&&n++,n<this._workingEndIndex-1?{index:n,axisRange:r}:null},t.prototype.drawSegment=function(e,t,i){e.drawSegment(t,i,this.tensionX,this.tensionY);},t.prototype.updateSegmentProperties=function(e,t,i){var n=!1;return tt(e,(function(e,r){if(j(r)){var a=t[e],o=void 0;a&&(o=a.toString?a.toString():a);var s=void 0;r&&(s=r.toString?r.toString():r),a==r||null!=o&&null!=s&&o==s||(i||(t[e]=r),n=!0);}})),n},Object.defineProperty(t.prototype,"connect",{get:function(){return this.getPropertyValue("connect")},set:function(e){this.setPropertyValue("connect",e)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionX",{get:function(){return this.getPropertyValue("tensionX")},set:function(e){this.setPropertyValue("tensionX",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tensionY",{get:function(){return this.getPropertyValue("tensionY")},set:function(e){this.setPropertyValue("tensionY",e,!0);},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=this,i=e.pixelWidth,n=e.pixelHeight;e.disposeChildren();var r=e.createChild(ta);if(r.shouldClone=!1,rt(this,r,Fr),r.x2=i,r.y=n/2,r.y2=1e-5,r.visible=!0,this.fillOpacity>0){var a=e.createChild(Mr);rt(this,a,Fr),a.width=i,a.height=n,a.y=0,a.strokeOpacity=0,a.visible=!0,r.y=0;}var o=e.dataItem;o.color=this.stroke,o.colorOrig=this.fill,lt(this.bullets.iterator(),(function(r){if(r instanceof bg&&!r.copyToLegendMarker)return !1;var a=!1;if(r instanceof Lr&&ut(r.children.iterator(),(function(e){if(e instanceof Kr)return a=!0,!0})),!a){var o=r.clone();return o.parent=e,o.isMeasured=!0,o.tooltipText=void 0,o.x=i/2,t.fillOpacity>0?o.y=0:o.y=n/2,o.visible=!0,j(o.fill)||(o.fill=t.fill),j(o.stroke)||(o.stroke=t.stroke),!1}}));},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.segments.clear();},Object.defineProperty(t.prototype,"autoGapCount",{get:function(){return this.getPropertyValue("autoGapCount")},set:function(e){this.setPropertyValue("autoGapCount",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"smoothing",{get:function(){return this.getPropertyValue("smoothing")},set:function(e){this.setPropertyValue("smoothing",e,!0);},enumerable:!0,configurable:!0}),t}(Jg);St.registeredClasses.LineSeries=ay,St.registeredClasses.LineSeriesDataItem=ry;var oy=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeriesDataItem",t.setLocation("dateX",0,0),t.setLocation("dateY",0,0),t.setLocation("categoryX",0,0),t.setLocation("categoryY",0,0),t.applyTheme(),t}return x(t,e),t}(ry),sy=function(e){function t(){var t=e.call(this)||this;return t.className="RadarSeries",t.connectEnds=!0,t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this);},t.prototype.createDataItem=function(){return new oy},t.prototype.getPoint=function(e,t,i,n,r,a,o){a||(a="valueX"),o||(o="valueY");var s=ae({x:this.yAxis.getX(e,i,r,o),y:this.yAxis.getY(e,i,r,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(e,t,n,a),u=this.chart.startAngle,d=this.chart.endAngle;return l<u||l>d?void 0:{x:s*ee(l),y:s*Z(l)}},t.prototype.addPoints=function(e,t,i,n,r){var a=this.getPoint(t,i,n,t.locations[i],t.locations[n]);a&&e.push(a);},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return ua(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.drawSegment=function(t,i,n){var r=this.yAxis.renderer;this.connectEnds&&360==Math.abs(r.endAngle-r.startAngle)&&(this.dataFields[this._xOpenField]||this.dataFields[this._yOpenField]||this.stacked)&&(i.push(i[0]),n.length>0&&n.unshift(n[n.length-1])),e.prototype.drawSegment.call(this,t,i,n);},Object.defineProperty(t.prototype,"connectEnds",{get:function(){return this.getPropertyValue("connectEnds")},set:function(e){this.setPropertyValue("connectEnds",e,!0);},enumerable:!0,configurable:!0}),t.prototype.positionBulletReal=function(e,t,i){var n=this.xAxis,r=this.yAxis;(t<n.start||t>n.end||i<r.start||i>r.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i));},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs();},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs();},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t;},t}(ay);St.registeredClasses.RadarSeries=sy,St.registeredClasses.RadarSeriesDataItem=oy;var ly=function(e){function t(t){var i=e.call(this,t)||this;return i.className="AxisFillCircular",i.element=i.paper.add("path"),i.radius=A(100),i.applyTheme(),i}return x(t,e),t.prototype.draw=function(){if(e.prototype.draw.call(this),!this.__disabled&&!this.disabled&&this.axis){var t=this.axis.renderer;this.fillPath=t.getPositionRangePath(this.startPosition,this.endPosition,this.radius,j(this.innerRadius)?this.innerRadius:t.innerRadius,this.cornerRadius),this.path=this.fillPath;}},Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cornerRadius",{get:function(){return this.getPropertyValue("cornerRadius")},set:function(e){this.setPropertyValue("cornerRadius",e,!0);},enumerable:!0,configurable:!0}),t}(Dg);St.registeredClasses.AxisFillCircular=ly;var uy=function(e){function t(){var t=e.call(this)||this;return t.className="GridCircular",t.pixelPerfect=!1,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),t}(Mg);St.registeredClasses.GridCircular=uy;var dy=function(e){function t(){var t=e.call(this)||this;return t.fdx=0,t.fdy=0,t.className="AxisLabelCircular",t.padding(0,0,0,0),t.location=.5,t.locationOnPath=.5,t.radius=0,t.isMeasured=!1,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"relativeRotation",{get:function(){return this.getPropertyValue("relativeRotation")},set:function(e){if(this.setPropertyValue("relativeRotation",e,!0),!j(e)){this.rotation=void 0;var t=this.dataItem;t&&t.component&&t.component.invalidateDataItems();}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bent",{get:function(){return this.getPropertyValue("bent")},set:function(e){this.setPropertyValue("bent",e,!0),this.setPropertyValue("wrap",!1),this.setPropertyValue("horizontalCenter","none"),this.setPropertyValue("verticalCenter","none"),e?(this.setPropertyValue("dx",0),this.setPropertyValue("dy",0),this.setPropertyValue("x",0),this.setPropertyValue("y",0),this.setPropertyValue("rotation",0),this.fdx=0,this.fdy=0,this.textAlign="middle"):this.textPathElement&&(this.textPathElement.dispose(),this.textPathElement=void 0);},enumerable:!0,configurable:!0}),t.prototype.pixelRadius=function(e){var t=1;return this.inside&&(t=-1),ii(this.radius,e)*t},t.prototype.pixelRadiusY=function(e,t){var i=1;this.inside&&(i=-1);var n=this.radius;return W(n)?ii(n*=t/e,e)*i:ii(n,t)*i},t.prototype.fixPosition=function(e,t,i,n,r){W(i)||(i=t),W(n)||(n=0),W(r)||(r=0);var a={x:t*ee(e),y:i*Z(e)};this.invalid&&this.validate();var o=!1,s=this.radius;(s instanceof T&&s.value<0||s<0)&&(o=!0);var l=this.relativeRotation,u=this.pixelRadius(t);if(this.bent){var d={x:(t+u)*ee(e+180),y:(i+u*i/t)*Z(e+180)};return this.path=ra(d)+la(e+180,360,t+u,i+u*i/t),void(this.textPathElement&&this.textPathElement.attr({startOffset:100*this.locationOnPath+"%"}))}if(W(l)){this.horizontalCenter="none",this.verticalCenter="none",e=ve(e,-180,180);var c=this.bbox.width,h=this.bbox.height,p=this.pixelPaddingBottom,m=this.pixelPaddingTop,f=this.pixelPaddingLeft,g=this.pixelPaddingRight;e>90||e<-90?-90==l&&(l=90,c=0):(-90==l&&(h=-h),90==l&&(l=-90,c=-f-g,h=-h-m-p)),this.rotation=l+e+90;var y=Z(l)/2,v=ee(l)/2,b=this.rotation;this.dx=h*y*Z(b)-c*v*ee(b),this.dy=-h*y*ee(b)-c*v*Z(b),this.inside?e>90||e<-90?u-=(p+m)*ee(l)+(f+g)*Z(l):u+=(p+this.bbox.height+m)*ee(l)+(f+g+this.bbox.width)*Z(l):u+=(h+p+m)*ee(l)+(c+f+g)*Z(l),a.x+=ee(e)*u,a.y+=Z(e)*u*i/t;}else this.horizontalCenter="middle",this.verticalCenter="middle",o?(this.dx=0,this.dy=0,a.x=(t+u)*ee(e),a.y=(i+u*i/t)*Z(e)):(this.dy=this._measuredHeight/2*Z(e),this.dx=this._measuredWidth/2*ee(e),a.x+=ee(e)*u,a.y+=Z(e)*u*i/t);a.x+=n,a.y+=r,this.fdx=this.dx,this.fdy=this.dy,this.moveTo(a);},t}(Lg);St.registeredClasses.AxisLabelCircular=dy;var cy=function(e){function t(){var t=e.call(this)||this;return t.pixelRadiusReal=0,t.layout="none",t.className="AxisRendererCircular",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.useChartAngles=!0,t.radius=A(100),t.isMeasured=!1,t.grid.template.location=0,t.labels.template.location=0,t.labels.template.radius=15,t.ticks.template.location=0,t.ticks.template.pixelPerfect=!1,t.tooltipLocation=0,t.line.strokeOpacity=0,t.applyTheme(),t}return x(t,e),t.prototype.setAxis=function(t){var i=this;e.prototype.setAxis.call(this,t),t.isMeasured=!1;var n=t.tooltip;n.adapter.add("dx",(function(e,t){var n=wi({x:t.pixelX,y:t.pixelY},i);return i.pixelRadius*Math.cos(Math.atan2(n.y,n.x))-n.x})),n.adapter.add("dy",(function(e,t){var n=wi({x:t.pixelX,y:t.pixelY},i);return i.pixelRadius*Math.sin(Math.atan2(n.y,n.x))-n.y}));},t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this);},Object.defineProperty(t.prototype,"axisLength",{get:function(){return 2*Math.PI*this.pixelRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return ni(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e){if(j(t)){if(t instanceof T&&e){var i=e.mr,n=t.value;t=A(100*(n=Math.max(i*n,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i));}}else (t=e.innerRadius)instanceof T&&e&&(t=A(t.value*e.innerRadiusModifyer*100));return t}},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1)&&this.axis&&this.axis.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"useChartAngles",{get:function(){return this.getPropertyValue("useChartAngles")},set:function(e){this.setPropertyValue("useChartAngles",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return ni(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){W(t)||(t=1);var i=this.positionToCoordinate(e),n=this.startAngle+(this.endAngle-this.startAngle)*i/this.axisLength,r=this.pixelRadius,a=this.pixelInnerRadius;if(this.axisRendererY){var o=J(this.axisRendererY.positionToCoordinate(t),0,1/0);return 0==o&&(o=1e-6),{x:o*ee(n),y:o*Z(n)}}return {x:ee(n)*a+(r-a)*ee(n)*t,y:Z(n)*a+(r-a)*Z(n)*t}},t.prototype.positionToAngle=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start);return K(t.renderer.inversed?this.startAngle+(t.end-e)*i:this.startAngle+(e-t.start)*i,3)},t.prototype.angleToPosition=function(e){var t=this.axis,i=(this.endAngle-this.startAngle)/(t.end-t.start);return K(t.renderer.inversed?t.end-(e-this.startAngle)/i:(e-this.startAngle)/i+t.start,5)},t.prototype.updateAxisLine=function(){var e=this.pixelRadius,t=this.startAngle,i=ie(360,this.endAngle-t);this.line.path=ra({x:e*ee(t),y:e*Z(t)})+la(t,i,e,e);},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);if(W(n.x)&&W(n.y)&&e.element){var r=$*Math.atan2(n.y,n.x),a=ni(j(e.radius)?e.radius:A(100),this.pixelRadius),o=ni(e.innerRadius,this.pixelRadius);e.zIndex=0;var s=ni(W(o)?o:this.innerRadius,this.pixelRadiusReal,!0);W(s)||(s=0),e.path=ra({x:s*ee(r),y:s*Z(r)})+aa({x:a*ee(r),y:a*Z(r)});}this.toggleVisibility(e,t,0,1);},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);if(e.element){var r=this.pixelRadius,a=$*Math.atan2(n.y,n.x),o=e.length;e.inside&&(o=-o),e.zIndex=1,e.path=ra({x:r*ee(a),y:r*Z(a)})+aa({x:(r+o)*ee(a),y:(r+o)*Z(a)});}this.toggleVisibility(e,t,0,1);},t.prototype.updateBullet=function(e,t,i){var n=.5;e instanceof Rg&&(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t),a=this.pixelRadius,o=$*Math.atan2(r.y,r.x);r={x:a*ee(o),y:a*Z(o)},this.positionItem(e,r),this.toggleVisibility(e,t,0,1);},t.prototype.updateLabelElement=function(e,t,i,n){j(n)||(n=e.location),t+=(i-t)*n,e.fixPosition(this.positionToAngle(t),this.pixelRadius),e.zIndex=2,this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition);},t.prototype.fitsToBounds=function(e){return !0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.invalidateAxisItems(),this.axis&&this.axis.invalidateSeries());},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,t,i,n,r){var a="";if(W(e)&&W(t)){j(i)||(i=this.radius),e=te(e,this.axis.start),(t=ie(t,this.axis.end))<e&&(t=e);var o=ni(i,this.pixelRadius),s=ni(n,this.pixelRadius,!0),l=this.positionToAngle(e);a=ua(l,this.positionToAngle(t)-l,o,s,o,r);}return a},t.prototype.createGrid=function(){return new uy},t.prototype.createFill=function(e){return new ly(e)},t.prototype.createLabel=function(){return new dy},t.prototype.pointToPosition=function(e){var t=ve(ue(e),this.startAngle,this.endAngle);return this.coordinateToPosition((t-this.startAngle)/360*this.axisLength)},t}(Vg);St.registeredClasses.AxisRendererCircular=cy;var hy=function(e){function t(){var t=e.call(this)||this;return t._chart=new Be,t.pixelRadiusReal=0,t.className="AxisRendererRadial",t.isMeasured=!1,t.startAngle=-90,t.endAngle=270,t.minGridDistance=30,t.gridType="circles",t.axisAngle=-90,t.isMeasured=!1,t.layout="none",t.radius=A(100),t.line.strokeOpacity=0,t.labels.template.horizontalCenter="middle",t._disposers.push(t._chart),t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){this.chart&&this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this);},Object.defineProperty(t.prototype,"axisLength",{get:function(){return this.pixelRadius-this.pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return ni(this.radius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){var e=this.chart,t=this.getPropertyValue("innerRadius");if(e)if(j(t)){if(t instanceof T&&e){var i=e.mr,n=t.value;t=A(100*(n=Math.max(i*n,i-Math.min(e.plotContainer.innerHeight,e.plotContainer.innerWidth))/i));}}else (t=e.innerRadius)instanceof T&&e&&(t=A(t.value*e.innerRadiusModifyer*100));return t},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return ni(this.innerRadius,this.pixelRadiusReal)||0},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e,t){var i=J(this.positionToCoordinate(e),0,1/0);return {x:i*ee(this.axisAngle),y:i*Z(this.axisAngle)}},t.prototype.updateAxisLine=function(){this.line.path=ra({x:this.pixelInnerRadius*ee(this.axisAngle),y:this.pixelInnerRadius*Z(this.axisAngle)})+aa({x:this.pixelRadius*ee(this.axisAngle),y:this.pixelRadius*Z(this.axisAngle)});var e=this.axis.title;e.valign="none",e.horizontalCenter="middle",e.verticalCenter="bottom",e.y=-this.axisLength/2;var t=90;this.opposite?this.inside||(t=-90):this.inside&&(t=-90),e.rotation=t;},t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n,r=ae(this.positionToPoint(t)),a=this.startAngle,o=this.endAngle,s=this.chart;if(W(r)&&e.element&&s){var l=s.xAxes.getIndex(0),u=0,d=s.series.getIndex(0);if(d&&(u=d.dataItems.length),"polygons"==this.gridType&&u>0&&d&&l&&l instanceof Kg){var c=l.renderer.grid.template.location,h=l.getAngle(d.dataItems.getIndex(0),"categoryX",c);n=ra({x:r*ee(h),y:r*Z(h)});for(var p=1;p<u;p++)n+=aa({x:r*ee(h=l.getAngle(d.dataItems.getIndex(p),"categoryX",c)),y:r*Z(h)});n+=aa({x:r*ee(h=l.getAngle(d.dataItems.getIndex(u-1),"categoryX",l.renderer.cellEndLocation)),y:r*Z(h)});}else n=ra({x:r*ee(a),y:r*Z(a)})+la(a,o-a,r,r);e.path=n;}this.toggleVisibility(e,t,0,1);},t.prototype.updateLabelElement=function(e,t,i,n){j(n)||(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t);this.positionItem(e,r),this.toggleVisibility(e,t,this.minLabelPosition,this.maxLabelPosition);},t.prototype.updateBaseGridElement=function(){},t.prototype.fitsToBounds=function(e){return !0},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&this.invalidateAxisItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&this.invalidateAxisItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axisAngle",{get:function(){return this.getPropertyValue("axisAngle")},set:function(e){this.setPropertyValue("axisAngle",ye(e)),this.invalidateAxisItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridType",{get:function(){return this.chart.xAxes.getIndex(0)instanceof Kg?this.getPropertyValue("gridType"):"circles"},set:function(e){this.setPropertyValue("gridType",e,!0);},enumerable:!0,configurable:!0}),t.prototype.getPositionRangePath=function(e,t){var i,n=this.pixelInnerRadius,r=this.axisLength+n,a=J(this.positionToCoordinate(e),n,r),o=J(this.positionToCoordinate(t),n,r),s=this.startAngle,l=this.endAngle-s,u=this.chart,d=u.xAxes.getIndex(0),c=u.series.getIndex(0),h=0;if(c&&(h=c.dataItems.length),"polygons"==this.gridType&&h>0&&c&&d&&d instanceof Kg){var p=d.renderer.grid.template.location,m=d.getAngle(c.dataItems.getIndex(0),"categoryX",p);i=ra({x:o*ee(m),y:o*Z(m)});for(var f=1;f<h;f++)i+=aa({x:o*ee(m=d.getAngle(c.dataItems.getIndex(f),"categoryX",p)),y:o*Z(m)});i+=aa({x:o*ee(m=d.getAngle(c.dataItems.getIndex(h-1),"categoryX",d.renderer.cellEndLocation)),y:o*Z(m)}),i+=ra({x:a*ee(m),y:a*Z(m)});for(f=h-1;f>=0;f--)i+=aa({x:a*ee(m=d.getAngle(c.dataItems.getIndex(f),"categoryX",p)),y:a*Z(m)});}else i=ua(s,l,o,a);return i},t.prototype.updateBreakElement=function(e){var t=e.startLine,i=e.endLine,n=e.fillShape,r=e.startPoint,a=e.endPoint;t.radius=Math.abs(r.y),i.radius=Math.abs(a.y),n.radius=Math.abs(a.y),n.innerRadius=Math.abs(r.y);},t.prototype.createBreakSprites=function(e){e.startLine=new Ba,e.endLine=new Ba,e.fillShape=new Ba;},t.prototype.updateTooltip=function(){if(this.axis){var e=this.axisAngle;e<0&&(e+=360);var t="vertical";(e>45&&e<135||e>225&&e<315)&&(t="horizontal"),this.axis.updateTooltip(t,{x:-4e3,y:-4e3,width:8e3,height:8e3});}},t.prototype.updateTickElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);if(e.element){var r=ye(this.axisAngle+90);r/90!=Math.round(r/90)?e.pixelPerfect=!1:e.pixelPerfect=!0;var a=-e.length;e.inside&&(a*=-1),e.path=ra({x:0,y:0})+aa({x:a*ee(r),y:a*Z(r)});}this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateBullet=function(e,t,i){var n=.5;e instanceof Rg&&(n=e.location),t+=(i-t)*n;var r=this.positionToPoint(t);this.positionItem(e,r),this.toggleVisibility(e,t,0,1);},t.prototype.positionToCoordinate=function(e){var t=this.axis,i=t.axisFullLength,n=this.pixelInnerRadius;return K(t.renderer.inversed?(t.end-e)*i+n:(e-t.start)*i+n,1)},t.prototype.pointToPosition=function(e){var t=ae(e)-this.pixelInnerRadius;return this.coordinateToPosition(t)},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){this._chart.set(e,null);},enumerable:!0,configurable:!0}),t}(Bg);St.registeredClasses.AxisRendererRadial=hy;var py=function(e){function t(){var t=e.call(this)||this;return t.className="RadarChartDataItem",t.applyTheme(),t}return x(t,e),t}(Qg),my=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=cy,t._axisRendererY=hy,t.innerRadiusModifyer=1,t.mr=1,t.className="RadarChart",t.startAngle=-90,t.endAngle=270,t.radius=A(80),t.innerRadius=0;var i=t.plotContainer.createChild(Lr);return i.shouldClone=!1,i.layout="absolute",i.align="center",i.valign="middle",t.seriesContainer.parent=i,t.radarContainer=i,t.bulletsContainer.parent=i,t.axisBulletsContainer=i,t._cursorContainer=i,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t._bulletMask=i.createChild(Zr),t._bulletMask.shouldClone=!1,t._bulletMask.element=t.paper.add("path"),t._bulletMask.opacity=0,t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Radar chart"));},t.prototype.processAxis=function(t){e.prototype.processAxis.call(this,t);var i=t.renderer;i.gridContainer.parent=i,i.breakContainer.parent=i,t.parent=this.radarContainer,i.toBack();},t.prototype.handleXAxisRangeChange=function(){e.prototype.handleXAxisRangeChange.call(this),ut(this.yAxes.iterator(),(function(e){e.invalidate();}));},t.prototype.handleYAxisRangeChange=function(){e.prototype.handleYAxisRangeChange.call(this),ut(this.xAxes.iterator(),(function(e){e.invalidate();}));},t.prototype.processConfig=function(t){if(t&&(j(t.cursor)&&!j(t.cursor.type)&&(t.cursor.type="RadarCursor"),j(t.series)&&H(t.series)))for(var i=0,n=t.series.length;i<n;i++)t.series[i].type=t.series[i].type||"RadarSeries";e.prototype.processConfig.call(this,t);},t.prototype.beforeDraw=function(){e.prototype.beforeDraw.call(this);var t=this.plotContainer,i=be(this.startAngle,this.endAngle,1),n={x:0,y:0,width:0,height:0},r=t.innerWidth/i.width,a=t.innerHeight/i.height,o=this.innerRadius;if(o instanceof T){var s=o.value,l=Math.min(r,a);this.mr=l,s=Math.max(l*s,l-Math.min(t.innerHeight,t.innerWidth))/l,n=be(this.startAngle,this.endAngle,s),this.innerRadiusModifyer=s/o.value,o=A(100*s);}i=ce([i,n]);var u=Math.min(t.innerWidth/i.width,t.innerHeight/i.height),d=2*ni(this.radius,u)||0,c=d/2,h=this.startAngle,p=this.endAngle;this._pixelInnerRadius=ni(o,c),this._bulletMask.path=ua(h,p-h,c,this._pixelInnerRadius),ut(this.xAxes.iterator(),(function(e){e.renderer.useChartAngles&&(e.renderer.startAngle=h,e.renderer.endAngle=p),e.width=d,e.height=d,e.renderer.pixelRadiusReal=c;})),ut(this.yAxes.iterator(),(function(e){e.renderer.startAngle=h,e.renderer.endAngle=p,e.width=d,e.height=d,e.renderer.pixelRadiusReal=c;}));var m=this.cursor;m&&(m.width=d,m.height=d,m.startAngle=h,m.endAngle=p),this.radarContainer.definedBBox={x:c*i.x,y:c*i.y,width:c*i.width,height:c*i.height},this.radarContainer.validatePosition();},t.prototype.createSeries=function(){return new sy},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),t.prototype.updateXAxis=function(e){e&&e.processRenderer();},t.prototype.updateYAxis=function(e){e&&e.processRenderer();},t}(ey);St.registeredClasses.RadarChart=my;var fy=function(e){function t(){var t=e.call(this)||this;t._axis=new Be,t.className="ClockHand";var i=new Fn;t.fill=i.getFor("alternativeBackground"),t.stroke=t.fill;var n=new Zr;n.radius=5,t.pin=n,t.isMeasured=!1,t.startWidth=5,t.endWidth=1,t.width=A(100),t.height=A(100),t.radius=A(100),t.innerRadius=A(0);var r=new Oa;return t.hand=r,t._disposers.push(t._axis),t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.hand;t.width=this.pixelWidth;var i=Math.max(this.startWidth,this.endWidth);if(t.height=i,t.leftSide=A(this.startWidth/i*100),t.rightSide=A(this.endWidth/i*100),this.axis){var n=this.axis.renderer,r=ni(this.innerRadius,n.pixelRadius),a=ni(this.radius,n.pixelRadius);t.x=r,t.y=-i/2,t.width=a-r;}},Object.defineProperty(t.prototype,"pin",{get:function(){return this._pin},set:function(e){this._pin&&this.removeDispose(this._pin),e&&(this._pin=e,e.parent=this,this._disposers.push(e));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hand",{get:function(){return this._hand},set:function(e){this._hand&&this.removeDispose(this._hand),e&&(this._hand=e,e.parent=this,this._disposers.push(e));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startWidth",{get:function(){return this.getPropertyValue("startWidth")},set:function(e){this.setPropertyValue("startWidth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endWidth",{get:function(){return this.getPropertyValue("endWidth")},set:function(e){this.setPropertyValue("endWidth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationDirection",{get:function(){return this.getPropertyValue("rotationDirection")},set:function(e){this.setPropertyValue("rotationDirection",e);},enumerable:!0,configurable:!0}),t.prototype.showValue=function(e,t,i){if(this._value=e,null!=e&&(W(t)||(t=0),this.axis)){var n=this.axis.renderer.positionToAngle(this.axis.anyToPosition(e)),r=this.rotation;"clockWise"==this.rotationDirection&&n<r&&(this.rotation=r-360),"counterClockWise"==this.rotationDirection&&n>r&&(this.rotation=r+360),this.animate({property:"rotation",to:n},t,i);}},Object.defineProperty(t.prototype,"currentPosition",{get:function(){if(this.axis)return this.axis.renderer.angleToPosition(this.rotation)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.showValue(e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this._axis.get()},set:function(e){if(this.axis!=e&&this._axis.set(e,new Re([e.events.on("datavalidated",this.updateValue,this,!1),e.events.on("datarangechanged",this.updateValue,this,!1),e.events.on("dataitemsvalidated",this.updateValue,this,!1),e.events.on("propertychanged",this.invalidate,this,!1)])),e){var t=e.chart;t&&(this.rotation=t.startAngle);}this.parent=e.renderer,this.zIndex=5;},enumerable:!0,configurable:!0}),t.prototype.updateValue=function(){this.value=this.value;},t.prototype.processConfig=function(t){t&&j(t.axis)&&N(t.axis)&&this.map.hasKey(t.axis)&&(t.axis=this.map.getKey(t.axis)),e.prototype.processConfig.call(this,t);},t}(Lr);St.registeredClasses.ClockHand=fy,function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChartDataItem",t.applyTheme(),t}x(t,e);}(py);var gy=function(e){function t(){var t=e.call(this)||this;return t.className="GaugeChart",t.startAngle=180,t.endAngle=360,t.hands=new At(new fy),t.hands.events.on("inserted",t.processHand,t,!1),t._disposers.push(new wt(t.hands)),t._disposers.push(t.hands.template),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Gauge chart"));},t.prototype.processHand=function(e){var t=e.newValue;t.axis||(t.axis=this.xAxes.getIndex(0));},t.prototype.configOrder=function(t,i){return t==i?0:"hands"==t?1:"hands"==i?-1:e.prototype.configOrder.call(this,t,i)},t}(my);St.registeredClasses.GaugeChart=gy;var yy=function(e){function t(){var t=e.call(this)||this;return t.className="PercentSeriesDataItem",t.applyTheme(),t}return x(t,e),t.prototype.uidAttr=function(){return this.slice.uidAttr()},t.prototype.hide=function(t,i,n,r){return r||(r=["value"]),e.prototype.hide.call(this,t,i,0,r)},t.prototype.setVisibility=function(t,i){i||(t?this.setWorkingValue("value",this.values.value.value,0,0):this.setWorkingValue("value",0,0,0)),e.prototype.setVisibility.call(this,t,i);},t.prototype.show=function(t,i,n){return n||(n=["value"]),e.prototype.show.call(this,t,i,n)},Object.defineProperty(t.prototype,"category",{get:function(){return this.properties.category},set:function(e){this.setProperty("category",e);},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){this.component.createLegendMarker(e,this);},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tick",{get:function(){var e=this;if(!this._tick){var t=this.component.ticks.create();this._tick=t,this.addSprite(t),this._disposers.push(t),t.parent=this.component.ticksContainer,this._disposers.push(new Ve((function(){e.component&&e.component.ticks.removeValue(t);}))),t.visible=this.visible;}return this._tick},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){var e=this;if(!this._label){var t=this.component.labels.create();this.addSprite(t),this._label=t,this._disposers.push(t),t.parent=this.component.labelsContainer,this._disposers.push(new Ve((function(){e.component&&e.component.labels.removeValue(t);}))),t.visible=this.visible;}return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"slice",{get:function(){var e=this;if(!this._slice){var t=this.component,i=t.slices.create();this.addSprite(i),this._slice=i,this._disposers.push(i),i.parent=t.slicesContainer,this._disposers.push(new Ve((function(){t.slices.removeValue(i);}))),i.visible=this.visible,t.itemsFocusable()?(j(this.component.role)||(this.component.role="menu"),j(i.role)||(i.role="menuitem"),i.focusable=!0):(j(this.component.role)||(this.component.role="list"),j(i.role)||(i.role="listitem"),i.focusable=!1),i.focusable&&(i.events.on("focus",(function(n){i.readerTitle=t.populateString(t.itemReaderText,e);}),void 0,!1),i.events.on("blur",(function(e){i.readerTitle="";}),void 0,!1)),i.hoverable&&(i.events.on("over",(function(n){i.readerTitle=t.populateString(t.itemReaderText,e);}),void 0,!1),i.events.on("out",(function(e){i.readerTitle="";}),void 0,!1));}return this._slice},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hiddenInLegend",{get:function(){return this.properties.hiddenInLegend},set:function(e){this.setProperty("hiddenInLegend",e);},enumerable:!0,configurable:!0}),t}(_g),vy=function(e){function t(){var t=e.call(this)||this;t.className="PercentSeries",t._addAllDataItems=!1,t.colors=new ao,t.colors.step=1,t.isMeasured=!0,t.calculatePercent=!0;var i=t.createChild(Lr);i.shouldClone=!1,i.isMeasured=!1,t.slicesContainer=i;var n=t.createChild(Lr);n.shouldClone=!1,n.isMeasured=!1,n.layout="none",t.ticksContainer=n;var r=t.createChild(Lr);return r.shouldClone=!1,r.isMeasured=!1,r.layout="none",t.labelsContainer=r,t.alignLabels=!1,t.bulletsContainer.toFront(),t.skipFocusThreshold=50,t.defaultState.transitionEasing=Gi,t.itemReaderText="{category}: {value.percent.formatNumber('#.#p')}",t.applyTheme(),t}return x(t,e),t.prototype.createSlice=function(){return new Dr},t.prototype.createTick=function(){return new Eg},t.prototype.createLabel=function(){return new Kr},Object.defineProperty(t.prototype,"slices",{get:function(){if(!this._slices){var e=this.createSlice();e.applyOnClones=!0,this._disposers.push(e),this.initSlice(e),this._slices=new At(e),this._disposers.push(new wt(this._slices));}return this._slices},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ticks",{get:function(){if(!this._ticks){var e=this.createTick();e.applyOnClones=!0,this._disposers.push(e),this.initTick(e),this._ticks=new At(e),this._disposers.push(new wt(this._ticks));}return this._ticks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){if(!this._labels){var e=this.createLabel();e.applyOnClones=!0,this._disposers.push(e),this.initLabel(e),this._labels=new At(e),this._disposers.push(new wt(this._labels));}return this._labels},enumerable:!0,configurable:!0}),t.prototype.createDataItem=function(){return new yy},t.prototype.initSlice=function(e){},t.prototype.initLabel=function(e){e.text="{category}: {value.percent.formatNumber('#.0p')}",e.isMeasured=!1,e.padding(5,5,5,5);},t.prototype.initTick=function(e){},t.prototype.validateDataItems=function(){this.colors.reset(),this.patterns&&this.patterns.reset(),e.prototype.validateDataItems.call(this);},t.prototype.validateDataElement=function(t){var i=t.slice;i&&(null==i.fill?this.patterns?(j(i.stroke)||(i.stroke=this.colors.next()),i.fill=this.patterns.next(),j(i.fillOpacity)&&(i.fill.backgroundOpacity=i.fillOpacity),i.stroke instanceof $t&&(i.fill.stroke=i.stroke,i.fill.fill=i.stroke)):i.fill=this.colors.next():this.colors.currentStep+=this.colors.step,null==i.stroke&&(i.stroke=i.fill)),e.prototype.validateDataElement.call(this,t),i&&t.bullets.each((function(e,t){null==t.fill&&(t.fill=i.fill),null==t.stroke&&(t.stroke=i.stroke);})),this.updateLegendValue(t);},t.prototype.validateData=function(){e.prototype.validateData.call(this),this.chart&&this.chart.feedLegend();},t.prototype.arrangeLabels=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t].label;if(n){n.invalid&&n.validate();var r=n.measuredHeight;n.visible||(r=0),n.pixelY-r/2<-this.maxHeight/2&&(n.y=-this.maxHeight/2+r/2);var a=this.getNextLabel(t+1,e),o=n.pixelY+r/2;if(a){a.invalid&&a.validate();var s=a.measuredHeight;a.visible||(s=0);var l=a.pixelY;null==l&&(l=0),l-s/2<o&&(a.y=o+s/2);}}}},t.prototype.arrangeLabels2=function(e){for(var t=this.maxHeight/2,i=e.length-1;i>=0;i--){var n=e[i].label;if(n){n.invalid&&n.validate();var r=n.measuredHeight;n.visible||(r=0),n.pixelY+r/2>t&&(n.y=t-r/2,t=n.y-r/2);}}},t.prototype.getNextLabel=function(e,t){if(t.length>=e){var i=t[e];if(i)return i.label&&i.visible?i.label:this.getNextLabel(e+1,t)}},Object.defineProperty(t.prototype,"colors",{get:function(){return this.getPropertyValue("colors")},set:function(e){this.setPropertyValue("colors",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"patterns",{get:function(){return this.getPropertyValue("patterns")},set:function(e){this.setPropertyValue("patterns",e,!0);},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e,t){ut(e.children.iterator(),(function(i){var n=t.slice;i.defaultState.properties.fill=n.fill,i.defaultState.properties.stroke=n.stroke,i.defaultState.properties.fillOpacity=n.fillOpacity,i.defaultState.properties.strokeOpacity=n.strokeOpacity,i.fill=n.fill,i.stroke=n.stroke,i.fillOpacity=n.fillOpacity,i.strokeOpacity=n.strokeOpacity,null==i.fill&&(i.__disabled=!0);var r=e.dataItem;r.color=n.fill,r.colorOrig=n.fill,i.addDisposer(n.events.on("propertychanged",(function(e){"fill"==e.property&&(i.__disabled=!1,i.isActive||(i.fill=n.fill),i.defaultState.properties.fill=n.fill,r.color=n.fill,r.colorOrig=n.fill),"stroke"==e.property&&(i.isActive||(i.stroke=n.stroke),i.defaultState.properties.stroke=n.stroke),"strokeOpacity"==e.property&&(i.isActive||(i.strokeOpacity=n.strokeOpacity),i.defaultState.properties.strokeOpacity=n.strokeOpacity);}),void 0,!1));}));},t.prototype.handleSliceScale=function(e){var t=this,i=e.target.dataItem;i&&i.bullets&&ut(i.bullets.iterator(),(function(e){var i=e[1];t.positionBullet(i);}));},t.prototype.handleSliceMove=function(e){},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.slices.template.copyFrom(t.slices.template),this.labels.template.copyFrom(t.labels.template),this.ticks.template.copyFrom(t.ticks.template),this.colors=t.colors.clone();},Object.defineProperty(t.prototype,"alignLabels",{get:function(){return this.getPropertyValue("alignLabels")},set:function(e){this.setAlignLabels(e);},enumerable:!0,configurable:!0}),t.prototype.setAlignLabels=function(e){this.setPropertyValue("alignLabels",e,!0);},Object.defineProperty(t.prototype,"ignoreZeroValues",{get:function(){return this.getPropertyValue("ignoreZeroValues")},set:function(e){this.setPropertyValue("ignoreZeroValues",e,!0);},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(e){if(e){var t=e.legendDataItem,i=e.legendSettings;t&&i&&i&&(i.labelText&&(t.label.text=i.labelText),i.itemLabelText&&(t.label.text=i.itemLabelText),i.valueText&&(t.valueLabel.text=i.valueText),i.itemValueText&&(t.valueLabel.text=i.itemValueText));}},t}(Pg);St.registeredClasses.PercentSeries=vy,St.registeredClasses.PercentSeriesDataItem=yy,Ur.push({relevant:qr.maybeXS,state:function(e,t){if(e instanceof vy){var i=e.states.create(t);return e.labels.template.states.create(t).properties.disabled=!0,e.ticks.template.states.create(t).properties.disabled=!0,i}return null}});var by=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChartDataItem",t.applyTheme(),t}return x(t,e),t}(wg),xy=function(e){function t(){var t=e.call(this)||this;return t.className="PercentChart",t.align="none",t.valign="none",t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.applyTheme(),t}return x(t,e),t.prototype.validateData=function(){e.prototype.validateData.call(this),this.feedLegend();},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];ut(this.series.iterator(),(function(e){e.hiddenInLegend||ut(e.dataItems.iterator(),(function(i){i.hiddenInLegend||(t.push(i),i.legendSettings||(i.legendSettings=e.legendSettings));}));})),e.data=t,e.dataFields.name="category";}},t.prototype.createSeries=function(){return new vy},t.prototype.setLegend=function(t){e.prototype.setLegend.call(this,t),t&&(t.labels.template.text="{category}",t.valueLabels.template.text="{value.percent.formatNumber('#.0p')}",t.itemContainers.template.events.on("over",(function(e){var t=e.target.dataItem.dataContext;if(t.visible&&!t.isHiding){var i=t.slice;i.dispatchImmediately("over"),i.isHover=!0,i.interactions.isRealHover=!0;}})),t.itemContainers.template.events.on("out",(function(e){var t=e.target.dataItem.dataContext.slice;t.dispatchImmediately("out"),t.isHover=!1;})));},t}(Ig);St.registeredClasses.PercentChart=xy,St.registeredClasses.PercentChartDataItem=by;var Cy=function(e){function t(){var t=e.call(this)||this;return t._label=new Be,t._slice=new Be,t.className="PieTick",t.element=t.paper.add("polyline"),t._disposers.push(t._label),t._disposers.push(t._slice),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.slice,i=this.label,n=t.dataItem.component;if(t&&t.radius>0&&i&&i.text){var r=t.dx+t.slice.dx+t.pixelX+t.ix*t.radius*t.scale,a=t.dy+t.slice.dy+t.pixelY+t.iy*t.radiusY*t.scale,o=void 0,s=void 0,l=void 0,u=void 0;if(n.alignLabels)o=i.pixelX-this.length,s=i.pixelY,l=i.pixelX,u=s,"right"==i.horizontalCenter&&(l=(o+=2*this.length)-this.length);else {var d=i.pixelRadius(t.radius);l=o=r+d*t.ix,u=s=a+d*t.iy;}this.element.attr({points:[r,a,o,s,l,u]});}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Re([e.events.on("transformed",this.invalidate,this),e.events.on("validated",this.invalidate,this)]));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1));},enumerable:!0,configurable:!0}),t}(Eg);St.registeredClasses.PieTick=Cy;var Sy=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeriesDataItem",t.values.radiusValue={},t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"radiusValue",{get:function(){return this.values.radiusValue.value},set:function(e){this.setValue("radiusValue",e);},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,n,r){return e.prototype.hide.call(this,t,i,0,["value","radiusValue"])},t.prototype.show=function(t,i,n){return e.prototype.show.call(this,t,i,["value","radiusValue"])},t}(yy),_y=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries",t.alignLabels=!0,t.layout="none",t.labels.template.radius=A(5),t.addDisposer(t.labels.template.events.on("enabled",t.invalidate,t,!1)),t.applyTheme(),t}return x(t,e),t.prototype.createSlice=function(){return new va},t.prototype.createTick=function(){return new Cy},t.prototype.createLabel=function(){return new dy},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Pie Slice Series"));},t.prototype.createDataItem=function(){return new Sy},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y","shiftRadius"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})",e.states.create("hover").properties.scale=1.05,e.defaultState.properties.shiftRadius=0,e.togglable=!0,e.events.on("toggled",(function(e){e.target.hideTooltip(),e.target.interactions.lastHitPointer&&e.target.interactions.lastHitPointer.touch&&!e.target.isActive&&(e.target.isHover=!1);})),e.states.create("active").properties.shiftRadius=.1;},t.prototype.validate=function(){this._leftItems=[],this._rightItems=[],this._currentStartAngle=this.startAngle,this._arcRect=be(this.startAngle,this.endAngle),this._maxRadiusPercent=0;for(var t=this.startIndex;t<this.endIndex;t++){var i=this.dataItems.getIndex(t).values.radiusValue.percent;i>this._maxRadiusPercent&&(this._maxRadiusPercent=i);}e.prototype.validate.call(this),this.alignLabels&&(this.startAngle>this.endAngle?this._rightItems.reverse():this._leftItems.reverse(),this._rightItems.sort((function(e,t){var i=(e.slice.middleAngle+360)%360,n=(t.slice.middleAngle+360)%360;return i>270&&(i-=360),n>270&&(n-=360),i<n?-1:i>n?1:0})),this._leftItems.sort((function(e,t){var i=(e.slice.middleAngle+360)%360,n=(t.slice.middleAngle+360)%360;return i<n?1:i>n?-1:0})),this.arrangeLabels(this._rightItems),this.arrangeLabels2(this._rightItems),this.arrangeLabels(this._leftItems),this.arrangeLabels2(this._leftItems));},t.prototype.validateDataElement=function(t){if(this.pixelRadius>0){!this.ignoreZeroValues||0!=t.value&&null!=t.value?t.__disabled=!1:t.__disabled=!0;var i=t.slice;if(i.radius=this.pixelRadius,W(t.radiusValue)&&(i.radius=this.pixelInnerRadius+(this.pixelRadius-this.pixelInnerRadius)*t.values.radiusValue.percent/this._maxRadiusPercent),i.innerRadius instanceof T||(i.innerRadius=this.pixelInnerRadius),i.startAngle=this._currentStartAngle,i.arc=Math.abs(t.values.value.percent)*(this.endAngle-this.startAngle)/100,!this.labels.template.disabled){var n=t.label,r=t.tick;r.slice=i,r.label=n;var a=(i.middleAngle+360)%360,o=void 0;if(this.alignLabels){var s=n.pixelRadius(i.radius),l=r.length+s;n.dx=0,n.dy=0,n.verticalCenter="middle";var u=this._arcRect;a>270||a<=90?(l+=(u.width+u.x)*this.pixelRadius,n.horizontalCenter="left",this._rightItems.push(t)):(l-=u.x*this.pixelRadius,n.horizontalCenter="right",this._leftItems.push(t),l*=-1);var d=i.radius+r.length+s;o={x:l,y:i.iy*d},n.moveTo(o);}else {var c=i.depth;W(c)||(c=0),n.fixPosition(i.middleAngle,i.radius,i.radiusY,0,-c);}}this._currentStartAngle+=i.arc,e.prototype.validateDataElement.call(this,t);}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateDataItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return this._pixelRadius},set:function(e){this._pixelRadius!=e&&(this._pixelRadius=e,this.invalidateDataItems());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){return this._pixelInnerRadius},set:function(e){this._pixelInnerRadius!=e&&(this._pixelInnerRadius=e,this.invalidateDataItems());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){var e=this.getPropertyValue("startAngle");return W(e)?e:this._startAngleInternal},set:function(e){this.setPropertyValue("startAngle",ye(e),!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){var e=this.getPropertyValue("endAngle");return W(e)?e:this._endAngleInternal},set:function(e){this.setPropertyValue("endAngle",e,!0);},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,n=t.locationX;W(n)||(n=.5);var r=t.locationY;W(r)||(r=1);var a=i.startAngle+i.arc*n;t.x=r*i.radius*ee(a),t.y=r*i.radiusY*Z(a);},t.prototype.handleSliceMove=function(e){if(!this.alignLabels){var t=e.target,i=t.dataItem;if(i){var n=i.label;n&&(n.dx=n.fdx+t.dx+t.pixelX,n.dy=n.fdy+t.dy+t.pixelY);}}},Object.defineProperty(t.prototype,"bbox",{get:function(){if(this.definedBBox)return this.definedBBox;var e=this.chart;return e?be(e.startAngle,e.endAngle,this.pixelRadius):be(this.startAngle,this.endAngle,this.pixelRadius)},enumerable:!0,configurable:!0}),t}(vy);St.registeredClasses.PieSeries=_y,St.registeredClasses.PieSeriesDataItem=Sy;var Py=function(e){function t(){var t=e.call(this)||this;return t.className="PieChartDataItem",t.applyTheme(),t}return x(t,e),t}(by),wy=function(e){function t(){var t=e.call(this)||this;t.className="PieChart",t.innerRadius=0,t.radius=A(80),t.align="none",t.valign="none",t.startAngle=-90,t.endAngle=270;var i=t.seriesContainer;return i.isMeasured=!0,i.valign="middle",i.align="center",i.layout="absolute",i.width=void 0,i.height=void 0,t.chartContainer.minHeight=50,t.chartContainer.minWidth=50,t.chartContainer.events.on("maxsizechanged",t.updateRadius,t,!1),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Pie chart"));},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.updateRadius();},t.prototype.handleSeriesAdded=function(t){e.prototype.handleSeriesAdded.call(this,t),this._chartPixelRadius=void 0,this.updateSeriesAngles();},t.prototype.updateSeriesAngles=function(){var e=this;this.series.each((function(t){t._startAngleInternal=e.startAngle,t._endAngleInternal=e.endAngle;}));},t.prototype.updateRadius=function(){var e=this.chartContainer,t=be(this.startAngle,this.endAngle,1),i={x:0,y:0,width:0,height:0},n=this.innerRadius;n instanceof T&&(i=be(this.startAngle,this.endAngle,n.value)),t=ce([t,i]);var r=Math.min(e.innerWidth/t.width,e.innerHeight/t.height);W(r)||(r=0);var a=ni(this.radius,r),o=ni(this.innerRadius,r),s=(a-o)/this.series.length;a==this._chartPixelRadius&&o==this._chartPixelInnerRadius||(this._chartPixelRadius=a,this._chartPixelInnerRadius=o,ut(ht(this.series.iterator()),(function(e){var t=e[0],i=e[1],n=o+ni(i.radius,a-o),r=o+ni(i.innerRadius,a-o);W(n)||(n=o+s*(t+1)),W(r)||(r=o+s*t),i.pixelRadius=n,i.pixelInnerRadius=r;})),this.seriesContainer.definedBBox={x:a*t.x,y:a*t.y,width:a*t.width,height:a*t.height},this.seriesContainer.invalidateLayout(),this.bulletsContainer.x=this.seriesContainer.x,this.bulletsContainer.y=this.seriesContainer.y);},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1)&&this.invalidateLayout();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new _y},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e)&&(this.updateRadius(),this.updateSeriesAngles());},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e)&&(this.updateRadius(),this.updateSeriesAngles());},enumerable:!0,configurable:!0}),t}(xy);St.registeredClasses.PieChart=wy,St.registeredClasses.PieChartDataItem=Py;var Iy=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3DDataItem",t.values.depthValue={},t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"depthValue",{get:function(){return this.values.depthValue.value},set:function(e){this.setValue("depthValue",e);},enumerable:!0,configurable:!0}),t}(Sy),Ty=function(e){function t(){var t=e.call(this)||this;return t.className="PieSeries3D",t.applyTheme(),t}return x(t,e),t.prototype.createDataItem=function(){return new Iy},t.prototype.createSlice=function(){return new Xa},t.prototype.validateDataElement=function(t){var i=t.slice,n=this.depth;W(n)||(n=this.chart.depth);var r=t.values.depthValue.percent;W(r)||(r=100),i.depth=r*n/100;var a=this.angle;W(a)||(a=this.chart.angle),i.angle=a,e.prototype.validateDataElement.call(this,t);},t.prototype.validate=function(){e.prototype.validate.call(this);for(var t=this._workingStartIndex;t<this._workingEndIndex;t++){var i=this.dataItems.getIndex(t).slice,n=i.startAngle;n>=-90&&n<90?i.toFront():n>=90&&i.toBack();}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e);},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice;t.y=t.pixelY-i.depth;},t}(_y);St.registeredClasses.PieSeries3D=Ty,St.registeredClasses.PieSeries3DDataItem=Iy,function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3DDataItem",t.applyTheme(),t}x(t,e);}(Py);var Ay=function(e){function t(){var t=e.call(this)||this;return t.className="PieChart3D",t.depth=20,t.angle=10,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e)&&this.invalidateDataUsers();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){e=J(e,0,90),this.setPropertyValue("angle",e)&&this.invalidateDataUsers();},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Ty},t}(wy);St.registeredClasses.PieChart3D=Ay;var Oy=function(e){function t(){var t=e.call(this)||this;return t.className="SlicedChartDataItem",t.applyTheme(),t}return x(t,e),t}(by),ky=function(e){function t(){var t=e.call(this)||this;return t.className="SlicedChart",t.seriesContainer.layout="horizontal",t.padding(15,15,15,15),t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Sliced chart"));},t.prototype.validate=function(){e.prototype.validate.call(this);},t}(xy);St.registeredClasses.SlicedChart=ky,St.registeredClasses.SlicedChartDataItem=Oy;var Fy=function(e){function t(){var t=e.call(this)||this;return t.legendSettings=new Cg,t.className="FlowDiagramNode",t.isMeasured=!1,new Fn,t.draggable=!0,t.inert=!0,t.setStateOnChildren=!0,t.events.on("positionchanged",t.invalidateLinks,t,!1),t.events.on("sizechanged",t.invalidateLinks,t,!1),t}return x(t,e),t.prototype.handleHit=function(e){this.isHidden||this.isHiding?this.show():this.hide();},t.prototype.show=function(t){var i=e.prototype.show.call(this,t);return this.outgoingDataItems.each((function(e){(!e.toNode||e.toNode&&!e.toNode.isHidden)&&(e.setWorkingValue("value",e.getValue("value"),t),e.link.show());})),this.incomingDataItems.each((function(e){(!e.fromNode||e.fromNode&&!e.fromNode.isHidden)&&(e.setWorkingValue("value",e.getValue("value"),t),e.link.show());})),i},t.prototype.hide=function(t){var i=e.prototype.hide.call(this,t);return this.outgoingDataItems.each((function(e){e.setWorkingValue("value",0,t),e.link.hide();})),this.incomingDataItems.each((function(e){e.setWorkingValue("value",0,t),e.link.hide();})),i},t.prototype.validate=function(){this.isDisposed()||(e.prototype.validate.call(this),this.invalidateLinks());},t.prototype.invalidateLinks=function(){var e=this;this.outgoingDataItems.each((function(t){var i=t.link;if("fromNode"==i.colorMode&&(i.fill=i.dataItem.fromNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var n=i.gradient.stops.getIndex(0);n&&(n.color=e.color,i.gradient.validate());}})),this.incomingDataItems.each((function(t){var i=t.link;if("toNode"==i.colorMode&&(i.fill=i.dataItem.toNode.color),"gradient"==i.colorMode){i.fill=i.gradient,i.stroke=i.gradient;var n=i.gradient.stops.getIndex(1);n&&(n.color=e.color,i.gradient.validate());}}));},Object.defineProperty(t.prototype,"incomingDataItems",{get:function(){var e=this;if(!this._incomingDataItems){var t=new Tt;t.events.on("inserted",(function(){"name"==e.chart.sortBy?e._incomingSorted=dt(e._incomingDataItems.iterator(),(function(e,t){return ft(e.fromName,t.fromName)})):"value"==e.chart.sortBy?e._incomingSorted=dt(e._incomingDataItems.iterator(),(function(e,t){return Lt(Mt(e.value,t.value))})):e._incomingSorted=e._incomingDataItems.iterator();}),void 0,!1),this._incomingDataItems=t;}return this._incomingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingDataItems",{get:function(){var e=this;if(!this._outgoingDataItems){var t=new Tt;t.events.on("inserted",(function(){"name"==e.chart.sortBy?e._outgoingSorted=dt(e._outgoingDataItems.iterator(),(function(e,t){return ft(e.fromName,t.fromName)})):"value"==e.chart.sortBy?e._outgoingSorted=dt(e._outgoingDataItems.iterator(),(function(e,t){return Lt(Mt(e.value,t.value))})):e._outgoingSorted=e._outgoingDataItems.iterator();}),void 0,!1),this._outgoingDataItems=t;}return this._outgoingDataItems},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.getPropertyValue("name")},set:function(e){this.setPropertyValue("name",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"total",{get:function(){return this.getPropertyValue("total")},set:function(e){this.setPropertyValue("total",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalIncoming",{get:function(){return this.getPropertyValue("totalIncoming")},set:function(e){this.setPropertyValue("totalIncoming",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalOutgoing",{get:function(){return this.getPropertyValue("totalOutgoing")},set:function(e){this.setPropertyValue("totalOutgoing",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.getPropertyValue("color")},set:function(e){this.setColorProperty("color",e),this._background&&(this._background.fill=e),this.fill=e;},enumerable:!0,configurable:!0}),t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var n=e.createChild(Xr);n.shouldClone=!1,rt(this,n,Fr),n.stroke=this.fill,n.copyFrom(this),n.padding(0,0,0,0),n.width=t,n.height=i;var r=e.dataItem;r.color=n.fill,r.colorOrig=n.fill;},Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,this._legendDataItem.itemContainer.deepInvalidate();},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.FlowDiagramNode=Fy;var Dy=function(e){function t(){var t=e.call(this)||this;t.className="FlowDiagramLink";var i=new Fn;return t.maskBullets=!1,t.colorMode="fromNode",t.layout="none",t.isMeasured=!1,t.startAngle=0,t.endAngle=0,t.strokeOpacity=0,t.verticalCenter="none",t.horizontalCenter="none",t.tooltipText="{fromName}→{toName}:{value.value}",t.tooltipLocation=.5,t.link=t.createChild(Dr),t.link.shouldClone=!1,t.link.setElement(t.paper.add("path")),t.link.isMeasured=!1,t.fillOpacity=.2,t.fill=i.getFor("alternativeBackground"),t.applyTheme(),t}return x(t,e),t.prototype.positionBullets=function(){var e=this;ut(this.bullets.iterator(),(function(t){t.parent=e.bulletsContainer,t.maxWidth=e.maxWidth,t.maxHeight=e.maxHeight,e.positionBullet(t);}));},Object.defineProperty(t.prototype,"bulletsContainer",{get:function(){if(!this._bulletsContainer){var e=this.createChild(Lr);e.shouldClone=!1,e.layout="none",this._bulletsContainer=e;}return this._bulletsContainer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bulletsMask",{get:function(){if(!this._bulletsMask){var e=this.createChild(Dr);e.shouldClone=!1,e.setElement(this.paper.add("path")),e.isMeasured=!1,this._bulletsMask=e;}return this._bulletsMask},enumerable:!0,configurable:!0}),t.prototype.positionBullet=function(e){var t=e.locationX;W(t)||(t=e.locationY),W(t)||(t=.5);var i=this.middleLine.positionToPoint(t);e.moveTo(i);var n,r=e.propertyFields.rotation;e.dataItem&&(n=e.dataItem.dataContext[r]);W(n)||(n=i.angle),e.rotation=n;},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorMode",{get:function(){return this.getPropertyValue("colorMode")},set:function(e){if("gradient"==e){var t=this.fill;this.gradient.stops.clear(),t instanceof $t&&(this.gradient.addColor(t),this.gradient.addColor(t)),this.fill=this.gradient,this.stroke=this.gradient;}this.setPropertyValue("colorMode",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskBullets",{get:function(){return this.getPropertyValue("maskBullets")},set:function(e){this.setPropertyValue("maskBullets",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tooltipLocation",{get:function(){return this.getPropertyValue("tooltipLocation")},set:function(e){this.setPropertyValue("tooltipLocation",e,!0);},enumerable:!0,configurable:!0}),t.prototype.setFill=function(t){e.prototype.setFill.call(this,t);var i=this._gradient;i&&t instanceof $t&&(i.stops.clear(),i.addColor(t),i.addColor(t));},t.prototype.measureElement=function(){},Object.defineProperty(t.prototype,"bullets",{get:function(){var e=this;return this._bullets||(this._bullets=new At(new bg),this._disposers.push(new wt(this._bullets)),this._disposers.push(this._bullets.template),this._bullets.events.on("inserted",(function(t){t.newValue.events.on("propertychanged",(function(t){"locationX"!=t.property&&"locationY"!=t.property||e.positionBullet(t.target);}),void 0,!1);}),void 0,!1)),this._bullets},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.bullets.copyFrom(t.bullets);var i=this.middleLine;i&&(i instanceof ta&&t.middleLine instanceof ta&&i.copyFrom(t.middleLine),i instanceof pa&&t.middleLine instanceof pa&&i.copyFrom(t.middleLine)),this.link.copyFrom(t.link);},t.prototype.getTooltipX=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).x},t.prototype.getTooltipY=function(){if(this.middleLine)return this.middleLine.positionToPoint(this.tooltipLocation).y},Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient||(this._gradient=new ur),this._gradient},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.FlowDiagramLink=Dy;var My=function(e){function t(){var t=e.call(this)||this;return t.className="FlowDiagramDataItem",t.values.value={},t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"fromName",{get:function(){return this.properties.fromName},set:function(e){this.setProperty("fromName",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"toName",{get:function(){return this.properties.toName},set:function(e){this.setProperty("toName",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.properties.color},set:function(e){this.setProperty("color",Kt(e));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.values.value.value},set:function(e){this.setValue("value",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){var e=this;if(!this._link){var t=this.component.links.create();this._link=t,this.addSprite(t),this._disposers.push(new Ve((function(){e.component&&e.component.links.removeValue(t);})));}return this._link},enumerable:!0,configurable:!0}),t}(yg),Ly=function(e){function t(){var t=e.call(this)||this;t.colors=new ao,t.className="FlowDiagram",t.nodePadding=20,t.sortBy="none",t.sequencedInterpolation=!0,t.colors.step=2,t.minNodeSize=.02;var i=t.chartContainer.createChild(Lr);i.shouldClone=!1,i.layout="none",i.isMeasured=!1,t.linksContainer=i;var n=t.chartContainer.createChild(Lr);return n.shouldClone=!1,n.layout="none",n.isMeasured=!1,t.nodesContainer=n,t.dataItem=t.createDataItem(),t.dataItem.component=t,t.applyTheme(),t}return x(t,e),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.dataItem.dispose();},t.prototype.validateData=function(){var t=this;0==this._parseDataFrom&&this.nodes.clear(),this.sortNodes(),this.colors.reset(),e.prototype.validateData.call(this);var i,n,r=0,a=0;ut(this.dataItems.iterator(),(function(e){var o=e.fromName;o&&((s=t.nodes.getKey(o))||((s=t.nodes.create(o)).name=o,s.chart=t,s.dataItem=e),e.fromNode=s,e.fromNode.outgoingDataItems.push(e));var s,l=e.toName;l&&((s=t.nodes.getKey(l))||((s=t.nodes.create(l)).name=l,s.chart=t,s.dataItem=e),e.toNode=s,e.toNode.incomingDataItems.push(e));if(!e.fromNode){var u=new qa;u.opacities=[0,1],e.link.strokeModifier=u;}if(!e.toNode){var d=new qa;d.opacities=[1,0],e.link.strokeModifier=d;}var c=e.value;W(c)&&(r+=c,a++,(i>c||!W(i))&&(i=c),(n<c||!W(n))&&(n=c));}));var o="value";this.dataItem.setCalculatedValue(o,n,"high"),this.dataItem.setCalculatedValue(o,i,"low"),this.dataItem.setCalculatedValue(o,r,"sum"),this.dataItem.setCalculatedValue(o,r/a,"average"),this.dataItem.setCalculatedValue(o,a,"count"),ut(this.nodes.iterator(),(function(e){var i=e[1];i.fill instanceof $t&&(i.color=i.fill),null==i.color&&(i.color=t.colors.next()),null!=i.dataItem.color&&(i.color=i.dataItem.color),i.dataItem.visible||i.hide(0),t.getNodeValue(i);})),this.sortNodes(),this.feedLegend();},t.prototype.handleDataItemWorkingValueChange=function(e,t){this.invalidate();},t.prototype.sortNodes=function(){"name"==this.sortBy?this._sorted=this.nodes.sortedIterator():"value"==this.sortBy?this._sorted=dt(this.nodes.iterator(),(function(e,t){return Lt(Mt(e[1].total,t[1].total))})):this._sorted=this.nodes.iterator();},t.prototype.getNodeValue=function(e){var t=0,i=0;ut(e.incomingDataItems.iterator(),(function(e){var i=e.getWorkingValue("value");W(i)&&(t+=i);})),ut(e.outgoingDataItems.iterator(),(function(e){var t=e.getWorkingValue("value");W(t)&&(i+=t);})),e.total=t+i,e.totalIncoming=t,e.totalOutgoing=i;},t.prototype.changeSorting=function(){this.sortNodes();},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Flow diagram"));},t.prototype.createDataItem=function(){return new My},Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this.getPropertyValue("nodePadding")},set:function(e){this.setPropertyValue("nodePadding",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortBy",{get:function(){return this.getPropertyValue("sortBy")},set:function(e){this.setPropertyValue("sortBy",e),this.changeSorting();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minNodeSize",{get:function(){return this.getPropertyValue("minNodeSize")},set:function(e){this.setPropertyValue("minNodeSize",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){if(!this._nodes){var e=this.createNode();e.events.on("hit",(function(e){e.target.handleHit(e);})),this._nodes=new bt(e),this._disposers.push(new yt(this._nodes));}return this._nodes},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Fy;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"links",{get:function(){return this._links||(this._links=new At(this.createLink()),this._disposers.push(new wt(this._links))),this._links},enumerable:!0,configurable:!0}),t.prototype.createLink=function(){var e=new Dy;return this._disposers.push(e),e},t.prototype.feedLegend=function(){var e=this.legend;if(e){var t=[];this.nodes.each((function(e,i){t.push(i);})),e.data=t,e.dataFields.name="name";}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.nodes.clear();},t}(vg);St.registeredClasses.FlowDiagram=Ly;var Ey=function(e){function t(){var t=e.call(this)||this;t.className="LabelBullet";var i=t.createChild(Kr);return i.shouldClone=!1,i.verticalCenter="middle",i.horizontalCenter="middle",i.truncate=!0,i.hideOversized=!1,i.maxWidth=500,i.maxHeight=500,i.stroke=Yt(),i.strokeOpacity=0,i.fill=(new Fn).getFor("text"),t.events.on("maxsizechanged",t.handleMaxSize,t,!1),t.label=i,t.applyTheme(),t}return x(t,e),t.prototype.handleMaxSize=function(){this.label.maxWidth=this.maxWidth,this.label.maxHeight=this.maxHeight;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label);},t}(bg);St.registeredClasses.LabelBullet=Ey;var jy=function(e){function t(){var t=e.call(this)||this;t.nextInCoord=0,t.nextOutCoord=0,t.className="SankeyNode",t.width=10,t.height=10;var i=t.createChild(Ey);i.shouldClone=!1,i.locationX=1,i.locationY=.5,i.label.text="{name}",i.width=150,i.height=150,i.label.horizontalCenter="left",i.label.padding(0,5,0,5),t.nameLabel=i;var n=t.createChild(Ey);n.shouldClone=!1,n.label.hideOversized=!1,n.locationX=.5,n.locationY=.5,n.width=150,n.height=150,n.label.horizontalCenter="middle",t.valueLabel=n;var r=t.hiddenState;return r.properties.fill=(new Fn).getFor("disabledBackground"),r.properties.opacity=.5,r.properties.visible=!0,t.background.hiddenState.copyFrom(r),t}return x(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this),this.nextInCoord=0,this.nextOutCoord=0;var i=this.chart;if(i){var n=i.orientation;this._incomingSorted&&ut(this._incomingSorted,(function(e){var r=e.link,a=e.getWorkingValue("value");if(W(a)){r.parent=t.chart.linksContainer;var o=void 0,s=void 0,l=void 0;if("horizontal"==n?(o=t.pixelX+t.dx,s=t.nextInCoord+t.pixelY+t.dy,l=0):(s=t.pixelY+t.dy,o=t.nextInCoord+t.pixelX+t.dx,l=90),r.endX=o,r.endY=s,r.startAngle=l,r.endAngle=l,r.gradient.rotation=l,r.linkWidth=a*i.valueHeight,!e.fromNode){"horizontal"==n?(r.maxWidth=200,r.startX=t.pixelX+t.dx-r.maxWidth,r.startY=r.endY):(r.maxHeight=200,r.startX=r.endX,r.startY=t.pixelY+t.dy-r.maxHeight),r.gradient,r.fill=e.toNode.color;var u=r.gradient.stops.getIndex(0);u&&("gradient"==r.colorMode&&(u.color=t.color),u.opacity=0,r.fill=r.gradient,r.stroke=r.gradient,r.gradient.validate());}t.nextInCoord+=r.linkWidth;}})),this._outgoingSorted&&ut(this._outgoingSorted,(function(e){var i=e.link;i.parent=t.chart.linksContainer;var r=e.getWorkingValue("value");if(W(r)){var a=void 0,o=void 0,s=void 0;if("horizontal"==n?(s=0,a=t.pixelX+t.pixelWidth+t.dx-1,o=t.nextOutCoord+t.pixelY+t.dy):(s=90,a=t.nextOutCoord+t.pixelX+t.dx,o=t.pixelY+t.pixelHeight+t.dy-1),i.startX=a,i.startY=o,i.startAngle=s,i.endAngle=s,i.gradient.rotation=s,i.linkWidth=r*t.chart.valueHeight,!e.toNode){"horizontal"==n?(i.maxWidth=200,i.endX=t.pixelX+i.maxWidth+t.dx,i.endY=i.startY):(i.maxHeight=200,i.endX=i.startX,i.endY=t.pixelY+i.maxHeight+t.dy),i.opacity=t.opacity;var l=i.gradient.stops.getIndex(1);l&&("gradient"==i.colorMode&&(l.color=t.color),l.opacity=0,i.fill=i.gradient,i.stroke=i.gradient,i.gradient.validate());}t.nextOutCoord+=i.linkWidth;}}));}this.positionBullet(this.nameLabel),this.positionBullet(this.valueLabel);},t.prototype.positionBullet=function(e){e&&(e.x=this.measuredWidth*e.locationX,e.y=this.measuredHeight*e.locationY);},Object.defineProperty(t.prototype,"level",{get:function(){return this.getPropertyValue("level")},set:function(e){this.setPropertyValue("level",e,!0);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.nameLabel.copyFrom(t.nameLabel),this.valueLabel.copyFrom(t.valueLabel);},t}(Fy);St.registeredClasses.SankeyNode=jy;var Vy=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyLink",new Fn,t.tension=.8,t.controlPointDistance=.2,t.startAngle=0,t.endAngle=0,t.linkWidth=0,t.startX=0,t.endX=0,t.startY=0,t.endY=0,t.middleLine=t.createChild(ya),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return x(t,e),t.prototype.makeBackwards=function(){null!=this.states.getKey("backwards")&&this.setState("backwards");},t.prototype.validate=function(){var t,i,n,r;if(e.prototype.validate.call(this),!this.isTemplate){var a=this.startX,o=this.startY,s=this.endX,l=this.endY;if(this.states.getKey("backwards")&&this.setState("default"),this.dataItem){var u=this.dataItem.component;u&&("horizontal"==u.orientation?s<a&&(a=(t=w([s,a],2))[0],s=t[1],o=(i=w([l,o],2))[0],l=i[1],this.makeBackwards()):l<o&&(o=(n=w([l,o],2))[0],l=n[1],a=(r=w([s,a],2))[0],s=r[1],this.makeBackwards()));}W(s)||(s=a),W(l)||(l=o);var d=this.startAngle,c=this.endAngle,h=this.linkWidth,p="",m=a,f=o,g=s,y=l,v=a+h*Z(d),b=s+h*Z(c),x=o+h*ee(d),C=l+h*ee(c),S=a+h/2*Z(d),_=s+h/2*Z(c),P=o+h/2*ee(d),I=l+h/2*ee(c);this.zIndex=this.zIndex||this.dataItem.index;var T=this.tension+(1-this.tension)*Z(d),A=this.tension+(1-this.tension)*ee(d);if(this.middleLine.tensionX=T,this.middleLine.tensionY=A,W(h)&&W(a)&&W(s)&&W(o)&&W(l)){K(m,3)==K(g,3)&&(g+=.01),K(f,3)==K(y,3)&&(y+=.01),K(v,3)==K(b,3)&&(b+=.01),K(x,3)==K(C,3)&&(C+=.01);var O=Math.min(v,b,m,g),k=Math.min(x,C,f,y),F=Math.max(v,b,m,g),D=Math.max(x,C,f,y);this._bbox={x:O,y:k,width:F-O,height:D-k};var M=this.controlPointDistance,L=m+(g-m)*M*ee(d),E=f+(y-f)*M*Z(d),j=g-(g-m)*M*ee(c),V=y-(y-f)*M*Z(c),R=S+(_-S)*M*ee(d),B=P+(I-P)*M*Z(d),N=_-(_-S)*M*ee(c),z=I-(I-P)*M*Z(c),H=ue({x:L,y:E},{x:j,y:V}),G=(h/ee(H)-h)/Q(H)*ee(d),U=(h/Z(H)-h)*Q(H)*Z(d),q=-G/2+v+(b-v)*M*ee(d),$=-U/2+x+(C-x)*M*Z(d),Y=-G/2+b-(b-v)*M*ee(c),X=-U/2+C-(C-x)*M*Z(c);I==P&&(I+=.01),this.middleLine.segments=[[{x:S,y:P},{x:R,y:B},{x:N,y:z},{x:_,y:I}]],L+=G/2,E+=U/2,j+=G/2,V+=U/2,p+=ra({x:m,y:f}),p+=new Fa(T,A).smooth([{x:m,y:f},{x:L,y:E},{x:j,y:V},{x:g,y:y}]),p+=aa({x:b,y:C}),p+=new Fa(T,A).smooth([{x:b,y:C},{x:Y,y:X},{x:q,y:$},{x:v,y:x}]),p+=" Z";}this.link.path=p,this.maskBullets&&(this.bulletsMask.path=p,this.bulletsContainer.mask=this.bulletsMask),this.positionBullets();}},Object.defineProperty(t.prototype,"startX",{get:function(){return this.getPropertyValue("startX")},set:function(e){this.setPropertyValue("startX",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endX",{get:function(){return this.getPropertyValue("endX")},set:function(e){this.setPropertyValue("endX",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startY",{get:function(){return this.getPropertyValue("startY")},set:function(e){this.setPropertyValue("startY",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endY",{get:function(){return this.getPropertyValue("endY")},set:function(e){this.setPropertyValue("endY",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linkWidth",{get:function(){return this.getPropertyValue("linkWidth")},set:function(e){this.setPropertyValue("linkWidth",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlPointDistance",{get:function(){return this.getPropertyValue("controlPointDistance")},set:function(e){this.setPropertyValue("controlPointDistance",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0);},enumerable:!0,configurable:!0}),t}(Dy);St.registeredClasses.SankeyLink=Vy;var Ry=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagramDataItem",t.applyTheme(),t}return x(t,e),t}(My),By=function(e){function t(){var t=e.call(this)||this;return t.className="SankeyDiagram",t.orientation="horizontal",t.nodeAlign="middle",t.nodesContainer.width=A(100),t.nodesContainer.height=A(100),t.linksContainer.width=A(100),t.linksContainer.height=A(100),t.applyTheme(),t}return x(t,e),t.prototype.validateData=function(){var t=this;this._valueHeight=void 0,e.prototype.validateData.call(this),this._levelCount=0,this.nodes.each((function(e,t){t.level=void 0;})),this.nodes.each((function(e,i){i.level=t.getNodeLevel(i,0),t._levelCount=te(t._levelCount,i.level);}));},t.prototype.getNodeLevel=function(e,t){var i=this,n=[t];return ut(e.incomingDataItems.iterator(),(function(e){e.fromNode&&(W(e.fromNode.level)?n.push(e.fromNode.level+1):(i._counter=0,i.checkLoop(e.fromNode),i._counter<i.dataItems.length&&n.push(i.getNodeLevel(e.fromNode,t+1))));})),Math.max.apply(Math,I(n))},t.prototype.checkLoop=function(e){var t=this;this._counter++,this._counter>this.dataItems.length||ut(e.incomingDataItems.iterator(),(function(e){t.checkLoop(e.fromNode);}));},t.prototype.calculateValueHeight=function(){var e=this;this._levelSum={},this._levelNodesCount={},this.maxSum=0;var t,i,n,r=this.dataItem.values.value.sum;ut(this._sorted,(function(t){var i=t[1];e.getNodeValue(i);})),this.nodes.each((function(t,i){var n=i.level,a=Math.max(i.totalIncoming,i.totalOutgoing);a/r<e.minNodeSize&&(a=r*e.minNodeSize),W(e._levelSum[n])?e._levelSum[n]+=a:e._levelSum[n]=a,W(e._levelNodesCount[n])?e._levelNodesCount[n]++:e._levelNodesCount[n]=1;})),t="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,tt(this._levelSum,(function(r,a){var o=a,s=e._levelNodesCount[r],l=(t-(s-1)*e.nodePadding)/o;l==1/0&&(l=0),(n>l||!W(n))&&(n=l,e.maxSum=o,i=M(r));})),this._maxSumLevel=i;var a=this._levelNodesCount[this._maxSumLevel],o=(t-(a-1)*this.nodePadding)/this.maxSum;if(o==1/0&&(o=0),W(this.valueHeight)){var s=void 0;try{s=this._heightAnimation.animationOptions[0].to;}catch(e){}if(s!=o){var l=this.interpolationDuration;try{l=this.nodes.template.states.getKey("active").transitionDuration;}catch(e){}this._heightAnimation=new dn(this,{property:"valueHeight",from:this.valueHeight,to:o},l,this.interpolationEasing).start(),this._disposers.push(this._heightAnimation);}}else this.valueHeight=o;},t.prototype.validate=function(){var t=this;e.prototype.validate.call(this),this.calculateValueHeight();var i,n=this.nodesContainer,r={},a=this._levelNodesCount[this._maxSumLevel],o=this.dataItem.values.value.sum;i="horizontal"==this.orientation?this.chartContainer.maxHeight-1:this.chartContainer.maxWidth-1,ut(this._sorted,(function(e){var s,l,u,d=e[1],c=d.level,h=0,p=t._levelNodesCount[c];switch(t.nodeAlign){case"bottom":h=(t.maxSum-t._levelSum[c])*t.valueHeight-(p-a)*t.nodePadding;break;case"middle":h=(t.maxSum-t._levelSum[c])*t.valueHeight/2-(p-a)*t.nodePadding/2;}if(0==t.maxSum)switch(t.nodeAlign){case"bottom":h=i-p*(t.minNodeSize*i+t.nodePadding);break;case"middle":h=i/2-p/2*(t.minNodeSize*i+t.nodePadding);}d.parent=n;var m=Math.max(d.totalIncoming,d.totalOutgoing);if(m/o<t.minNodeSize&&(m=o*t.minNodeSize),"horizontal"==t.orientation){l=(s=(t.innerWidth-d.pixelWidth)/t._levelCount)*d.level,u=r[c]||h;var f=m*t.valueHeight;0==o&&0==f&&(f=t.minNodeSize*i),d.height=f,d.minX=l,d.maxX=l,r[c]=u+f+t.nodePadding;}else {s=(t.innerHeight-d.pixelHeight)/t._levelCount,l=r[c]||h,u=s*d.level;var g=m*t.valueHeight;0==o&&0==g&&(g=t.minNodeSize*i),d.width=g,d.minY=u,d.maxY=u,r[c]=l+g+t.nodePadding;}d.x=l,d.y=u;}));},t.prototype.showReal=function(t){var i=this;if(!this.preventShow){if(this.interpolationDuration>0){var n=this.nodesContainer,r=0;ut(this.links.iterator(),(function(e){e.hide(0);})),ut(this._sorted,(function(e){var t,a=e[1];"horizontal"==i.orientation?(a.dx=-(n.pixelWidth-a.pixelWidth)/Math.max(i._levelCount,1),t="dx"):(a.dy=-(n.pixelHeight-a.pixelHeight)/Math.max(i._levelCount,1),t="dy");var o=0,s=i.interpolationDuration;i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*r+s*r/function(e){var t=0;return e((function(e){return ++t,!0})),t}(i.nodes.iterator())),a.opacity=0,a.invalidateLinks(),a.animate([{property:"opacity",from:0,to:1},{property:t,to:0}],i.interpolationDuration,i.interpolationEasing).delay(o),ut(a.outgoingDataItems.iterator(),(function(e){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(o);})),ut(a.incomingDataItems.iterator(),(function(e){if(!e.fromNode){var t=e.link.show(i.interpolationDuration);t&&!t.isFinished()&&t.delay(o);}})),r++;}));}return e.prototype.showReal.call(this)}},t.prototype.changeSorting=function(){var e=this;this.sortNodes();var t={};ut(this._sorted,(function(i){var n,r,a=i[1],o=a.level,s=(e.maxSum-e._levelSum[o])*e.valueHeight/2;"horizontal"==e.orientation?(n="y",r=a.pixelHeight):(n="x",r=a.pixelWidth),a.animate({property:n,to:t[o]||s},e.interpolationDuration,e.interpolationEasing),t[o]=(t[o]||s)+r+e.nodePadding,a.invalidateLinks();}));},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Sankey diagram"));},t.prototype.createDataItem=function(){return new Ry},Object.defineProperty(t.prototype,"nodeAlign",{get:function(){return this.getPropertyValue("nodeAlign")},set:function(e){this.setPropertyValue("nodeAlign",e),this.changeSorting();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.nodes.template.nameLabel;"vertical"==e?(this.nodes.template.width=void 0,t.label.horizontalCenter="middle",t.locationX=.5):(this.nodes.template.height=void 0,t.label.horizontalCenter="left",t.locationX=1);},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new jy;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new Vy;return this._disposers.push(e),e},Object.defineProperty(t.prototype,"valueHeight",{get:function(){return this._valueHeight},set:function(e){e!=this._valueHeight&&(this._valueHeight=e,this.invalidate());},enumerable:!0,configurable:!0}),t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._sorted=this.nodes.iterator();},t}(Ly);St.registeredClasses.SankeyDiagram=By;var Ny=function(e){function t(){var t=e.call(this)||this;t.className="ChordNode";var i=t.createChild(dy);i.location=.5,i.radius=5,i.text="{name}",i.zIndex=1,i.shouldClone=!1,t.label=i,t.layout="none",t.events.on("positionchanged",t.updateRotation,t,!1),t.isMeasured=!1,t.slice=t.createChild(va),t.slice.isMeasured=!1;var n=t.hiddenState;return n.properties.fill=(new Fn).getFor("disabledBackground"),n.properties.opacity=.5,n.properties.visible=!0,t.setStateOnChildren=!1,t.slice.hiddenState.properties.visible=!0,t.adapter.add("tooltipX",(function(e,t){return t.slice.ix*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)})),t.adapter.add("tooltipY",(function(e,t){return t.slice.iy*(t.slice.radius-(t.slice.radius-t.slice.pixelInnerRadius)/2)})),t}return x(t,e),t.prototype.invalidateLinks=function(){var t=this;e.prototype.invalidateLinks.call(this);var i=this.label,n=this.slice,r=this.chart;if(r&&n){var a=this.total,o=n.arc,s=n.startAngle;this.children.each((function(e){if(e instanceof bg){var t=e.locationX;W(t)||(t=.5);var i=e.locationY;W(i)||(i=1);var r=s+o*t,a=i*n.radius;e.x=a*ee(r),e.y=a*Z(r);}}));var l=s+o*i.location,u=s+(1-a/this.adjustedTotal)*o*.5;O(u)&&(u=s),i.fixPosition(l,n.radius),this.nextAngle=u,this._outgoingSorted&&ut(this._outgoingSorted,(function(e){var i=e.link;i.parent=t.chart.linksContainer;var a=e.getWorkingValue("value");if(W(a)){if(r.nonRibbon){var l=i.percentWidth;W(l)||(l=5),l/=100,i.startAngle=s+o/2-o/2*l,i.arc=o*l;}else i.arc=a*r.valueAngle,i.startAngle=t.nextAngle,t.nextAngle+=i.arc;e.toNode||(i.endAngle=i.startAngle),i.radius=n.pixelInnerRadius;}})),this._incomingSorted&&ut(this._incomingSorted,(function(e){var i=e.link;if(i.radius=n.pixelInnerRadius,r.nonRibbon){var a=i.percentWidth;W(a)||(a=5),a/=100,i.endAngle=s+o/2-o/2*a,i.arc=o*a;}else {i.endAngle=t.nextAngle;var l=e.getWorkingValue("value");W(l)&&(i.arc=l*r.valueAngle,t.nextAngle+=i.arc);}e.fromNode||(i.startAngle=i.endAngle);}));}},t.prototype.updateRotation=function(){var e=this.slice,t=this.trueStartAngle+e.arc/2,i=e.radius,n=i*ee(t),r=i*Z(t),a=ue({x:n+this.pixelX,y:r+this.pixelY});e.startAngle=this.trueStartAngle+(a-t),this.dx=-this.pixelX,this.dy=-this.pixelY;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.label.copyFrom(t.label),this.slice.copyFrom(t.slice);},t}(Fy);St.registeredClasses.ChordNode=Ny;var Wy=function(e){function t(){var t=e.call(this)||this;return t.className="QuadraticCurve",t.element=t.paper.add("path"),t.pixelPerfect=!1,t.fill=Yt(),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){if(W(this.x1+this.x2+this.y1+this.y2+this.cpx+this.cpy)){var e={x:this.x1,y:this.y1},t={x:this.x2,y:this.y2},i={x:this.cpx,y:this.cpy},n=ra(e)+oa(t,i);this.path=n;}},Object.defineProperty(t.prototype,"cpx",{get:function(){return this.getPropertyValue("cpx")},set:function(e){this.setPropertyValue("cpx",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpy",{get:function(){return this.getPropertyValue("cpy")},set:function(e){this.setPropertyValue("cpy",e,!0);},enumerable:!0,configurable:!0}),t.prototype.positionToPoint=function(e){var t={x:this.x1,y:this.y1},i={x:this.cpx,y:this.cpy},n={x:this.x2,y:this.y2},r=he(t,n,i,e),a=he(t,n,i,e+.001);return {x:r.x,y:r.y,angle:ue(r,a)}},t}(ta),zy=function(e){function t(){var t=e.call(this)||this;return t.className="ChordLink",t.middleLine=t.createChild(Wy),t.middleLine.shouldClone=!1,t.middleLine.strokeOpacity=0,t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){if(e.prototype.validate.call(this),!this.isTemplate){var t=this.startAngle,i=this.endAngle,n=this.arc,r=this.radius,a=this.dataItem.fromNode,o=this.dataItem.toNode,s=0,l=0;a&&(s=a.pixelX+a.dx,l=a.pixelY+a.dy);var u=0,d=0;if(o&&(u=o.pixelX+o.dx,d=o.pixelY+o.dy),r>0){var c=r*ee(t)+s,h=r*Z(t)+l,p=r*ee(i)+u,m=r*Z(i)+d,f={x:0,y:0},g=ra({x:c,y:h});g+=la(t,n,r),g+=oa({x:p,y:m},f),g+=la(i,n,r),g+=oa({x:c,y:h},f),this.link.path=n>0?g:"",this.maskBullets&&(this.bulletsMask.path=g,this.bulletsContainer.mask=this.bulletsMask);var y=t+n/2,v=i+n/2,b=this.middleLine;b.x1=r*ee(y)+s,b.y1=r*Z(y)+l,b.x2=r*ee(v)+u,b.y2=r*Z(v)+d,b.cpx=0,b.cpy=0,b.stroke=this.fill,this.positionBullets();}}},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPropertyValue("radius",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arc",{get:function(){return this.getPropertyValue("arc")},set:function(e){this.setPropertyValue("arc",e,!0);},enumerable:!0,configurable:!0}),t}(Dy);St.registeredClasses.ChordLink=zy;var Hy=function(e){function t(){var t=e.call(this)||this;return t.className="ChordDiagramDataItem",t.applyTheme(),t}return x(t,e),t}(My),Gy=function(e){function t(){var t=e.call(this)||this;t.valueAngle=0,t.className="ChordDiagram",t.startAngle=-90,t.endAngle=270,t.radius=A(80),t.innerRadius=-15,t.nodePadding=5;var i=t.chartContainer.createChild(Lr);return i.align="center",i.valign="middle",i.shouldClone=!1,i.layout="absolute",t.chordContainer=i,t.nodesContainer.parent=i,t.linksContainer.parent=i,t.chartContainer.events.on("maxsizechanged",t.invalidate,t,!1),t.applyTheme(),t}return x(t,e),t.prototype.validate=function(){var t=this,i=this.chartContainer,n=this.endAngle,r=this.startAngle+this.nodePadding/2,a=be(this.startAngle,this.endAngle,1);a=ce([a,{x:0,y:0,width:0,height:0}]);var o=Math.min(i.innerWidth/a.width,i.innerHeight/a.height);W(o)||(o=0);var s=ni(this.radius,o),l=ni(this.innerRadius,s,!0),u=this.dataItem.values.value.sum,d=0,c=0;ut(this._sorted,(function(e){var i=e[1];t.getNodeValue(i),d++;var n=i.total;i.total/u<t.minNodeSize&&(n=u*t.minNodeSize),c+=n;})),this.valueAngle=(n-this.startAngle-this.nodePadding*d)/c,ut(this._sorted,(function(e){var i=e[1],a=i.slice;a.radius=s,a.innerRadius=l;var o,c=i.total;i.total/u<t.minNodeSize&&(c=u*t.minNodeSize),i.adjustedTotal=c,o=t.nonRibbon?(n-t.startAngle)/d-t.nodePadding:t.valueAngle*c,a.arc=o,a.startAngle=r,i.trueStartAngle=r,i.parent=t.nodesContainer,i.validate(),r+=o+t.nodePadding;})),this.chordContainer.definedBBox={x:s*a.x,y:s*a.y,width:s*a.width,height:s*a.height},this.chordContainer.invalidateLayout(),e.prototype.validate.call(this);},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Chord diagram"));},t.prototype.createDataItem=function(){return new Hy},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nonRibbon",{get:function(){return this.getPropertyValue("nonRibbon")},set:function(e){this.setPropertyValue("nonRibbon",e,!0),this.links.template.middleLine.strokeOpacity=1,this.links.template.link.fillOpacity=0;},enumerable:!0,configurable:!0}),t.prototype.createNode=function(){var e=new Ny;return this._disposers.push(e),e},t.prototype.createLink=function(){var e=new zy;return this._disposers.push(e),e},t}(Ly);St.registeredClasses.ChordDiagram=Gy;var Uy=function(e){function t(){var t=e.call(this)||this;return t.className="Column",t.width=A(80),t.height=A(80),t.events.disableType("transformed"),t.applyOnClones=!0,t.strokeOpacity=1,t.layout="none",t.createAssets(),t.events.on("childadded",t.handleKidAdded,t,!1),t}return x(t,e),t.prototype.handleKidAdded=function(){"none"==this.layout&&(this.layout="absolute");},t.prototype.createAssets=function(){this.column=this.createChild(Xr),this.column.shouldClone=!1,this.column.isMeasured=!1,this.column.cornerRadius(0,0,0,0),this._disposers.push(this.column);},t.prototype.validate=function(){e.prototype.validate.call(this);var t=this.column;t&&(t.width=ie(this.pixelWidth,this.maxWidth),t.height=ie(this.pixelHeight,this.maxHeight),t.invalid&&t.validate());},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.column&&this.column.copyFrom(t.column);},Object.defineProperty(t.prototype,"bbox",{get:function(){return this.definedBBox?this.definedBBox:this.column?{x:0,y:0,width:this.column.measuredWidth,height:this.column.measuredHeight}:{x:0,y:0,width:ie(this.pixelWidth,this.maxWidth),height:ie(this.pixelHeight,this.maxHeight)}},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.Column=Uy;var qy=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeriesDataItem",t.locations.dateX=.5,t.locations.dateY=.5,t.locations.categoryX=.5,t.locations.categoryY=.5,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"column",{get:function(){return this._column},set:function(e){this.setColumn(e);},enumerable:!0,configurable:!0}),t.prototype.setColumn=function(e){var t=this;if(this._column&&e!=this._column&&Te(this.sprites,this._column),this._column=e,e){var i=e.dataItem;i&&i!=this&&(i.column=void 0),this.addSprite(e),this._disposers.push(new Ve((function(){t.component&&t.component.columns.removeValue(e);})));}},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.properties.width;return this._adapterO&&(e=this._adapterO.apply("width",e)),e},set:function(e){this.properties.width!=e&&(this.properties.width=e,this.component&&this.component.validateDataElement(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var e=this.properties.height;return this._adapterO&&(e=this._adapterO.apply("height",e)),e},set:function(e){this.properties.height!=e&&(this.properties.height=e,this.component&&this.component.validateDataElement(this));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangesColumns",{get:function(){return this._rangesColumns||(this._rangesColumns=new vt),this._rangesColumns},enumerable:!0,configurable:!0}),t}(Xg),$y=function(e){function t(){var t=e.call(this)||this;t._startLocation=0,t._endLocation=1,t.className="ColumnSeries",t.width=A(100),t.height=A(100),t.strokeOpacity=0,t.fillOpacity=1,t.clustered=!0;var i=t.mainContainer.createChild(Lr);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t._columnsContainer=i,t.columns.template.pixelPerfect=!1,t.tooltipColorSource=t.columns.template,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){return this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Column Series"));},t.prototype.createDataItem=function(){return new qy},t.prototype.validate=function(){var i=this;if(this.group.node.removeAttribute("fill"),this.chart&&this.xAxis&&this.yAxis){var n,r=this.chart.series,a=0,o=0,s=[];ut(r.iterator(),(function(e){var n;e instanceof t&&(i.baseAxis==e.baseAxis&&(n=i.baseAxis==i.xAxis?i.chart.yAxes.indexOf(e.yAxis):i.chart.xAxes.indexOf(e.xAxis),s.push({series:e,axis:n})));})),s.sort((function(e,t){return e.axis-t.axis})),we(s,(function(e){var r=e.series;r instanceof t&&((!r.stacked&&r.clustered||n!=e.axis&&r.clustered)&&a++,r==i&&(o=a-1)),n=e.axis;})),this.clustered||(o=0,a=1);var l=this.baseAxis.renderer,u=l.cellStartLocation,d=l.cellEndLocation;this._startLocation=u+o/a*(d-u),this._endLocation=u+(o+1)/a*(d-u);var c=this.xAxis,h=this.yAxis;c instanceof Kg&&h instanceof zg&&c.sortBySeries==this&&this.sortCategoryAxis(c,"valueY"),h instanceof Kg&&c instanceof zg&&h.sortBySeries==this&&this.sortCategoryAxis(h,"valueX");}e.prototype.validate.call(this);for(var p=0;p<this.startIndex;p++){var m=this.dataItems.getIndex(p);this.disableUnusedColumns(m);}for(p=this.dataItems.length-1;p>this.endIndex;p--){m=this.dataItems.getIndex(p);this.disableUnusedColumns(m);}this._propertiesChanged=!1;},t.prototype.sortCategoryAxis=function(e,t){var i=this;this.dataItems.values.sort((function(e,i){return i.values[t].workingValue-e.values[t].workingValue}));var n=0;this.dataItems.each((function(e){e._index=n,n++;})),e.dataItems.each((function(e){var t=e.component,n=t.categoryToPosition(e.category)-e.deltaPosition,r=t.getSeriesDataItemByCategory(e.category,i);if(r){var a=i.dataItems.indexOf(r);e._index=a;var o=K((a+.5)/i.dataItems.length-n,3);e.deltaAnimation&&!e.deltaAnimation.isDisposed()&&e.deltaAnimation.animationOptions[0].to==o||o!=K(e.deltaPosition,3)&&(e.deltaAnimation&&e.deltaAnimation.stop(),e.deltaAnimation=e.animate({property:"deltaPosition",from:-o,to:0},t.interpolationDuration,t.interpolationEasing),i._disposers.push(e.deltaAnimation));}})),e.dataItems.values.sort((function(e,t){return e.index-t.index}));},t.prototype.validateDataElement=function(t){this.chart&&this.xAxis&&this.yAxis&&(this.validateDataElementReal(t),e.prototype.validateDataElement.call(this,t));},t.prototype.getStartLocation=function(e){var t=this._startLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xOpenField]-.5:t+=e.locations[this.yOpenField]-.5,t},t.prototype.getEndLocation=function(e){var t=this._endLocation;return this.baseAxis==this.xAxis?t+=e.locations[this.xField]-.5:t+=e.locations[this.yField]-.5,t},t.prototype.validateDataElementReal=function(e){var t,i,n,r,a=this,o=this.getStartLocation(e),s=this.getEndLocation(e),l=this.xField,u=this.xOpenField,d=this.yField,c=this.yOpenField,h=this.columns.template,p=h.percentWidth,m=h.percentHeight,f=h.pixelWidth,g=h.pixelHeight,y=h.maxWidth,v=h.maxHeight,b=h.pixelPaddingLeft,x=h.pixelPaddingRight,C=h.pixelPaddingTop,S=h.pixelPaddingBottom,_=!1,P=e.width;j(P)&&(W(P)&&(f=P),P instanceof T&&(p=100*P.value));var w=e.height;if(j(w)&&(W(w)&&(g=w),w instanceof T&&(m=100*w.value)),this.xAxis instanceof Kg&&this.yAxis instanceof Kg){if(!e.hasValue(this._xValueFields)||!e.hasValue(this._yValueFields))return;if(o=0,s=1,!O(p))o+=F=K((s-o)*(1-p/100)/2,5),s-=F;if(t=this.xAxis.getX(e,u,o),i=this.xAxis.getX(e,l,s),O(p))t+=F=(i-t-f)/2,i-=F;if(!O(y)&&y<Math.abs(i-t))t+=F=(i-t-y)/2,i-=F;if(o=0,s=1,!O(m))o+=F=K((1-m/100)/2,5),s-=F;if(n=this.yAxis.getY(e,c,o),r=this.yAxis.getY(e,d,s),O(m))r+=F=(r-n-g)/2,n-=F;if(!O(v)&&v<Math.abs(r-n))r+=F=(r-n-v)/2,n-=F;i=this.fixHorizontalCoordinate(i),t=this.fixHorizontalCoordinate(t),n=this.fixVerticalCoordinate(n),r=this.fixVerticalCoordinate(r);}else if(this.baseAxis==this.xAxis){if(!e.hasValue(this._yValueFields))return;if(!O(p))o+=F=K((s-o)*(1-p/100)/2,5),s-=F;if(t=this.xAxis.getX(e,u,o),i=this.xAxis.getX(e,l,s),O(p))t+=F=(i-t-f)/2,i-=F;if(!O(y)&&y<Math.abs(i-t))t+=F=(i-t-y)/2,i-=F;var I=e.locations[c],A=e.locations[d];this.yAxis instanceof zg&&this.dataFields[this.yField]!=this.dataFields[this.yOpenField]&&(I=0,A=0),r=this.yAxis.getY(e,c,I),n=this.yAxis.getY(e,d,A);var k=Math.ceil(this.yAxis.axisLength);(n<0&&r<0||n>k&&r>k)&&(_=!0),n=this.fixVerticalCoordinate(n),r=this.fixVerticalCoordinate(r),Math.abs(i-t)-b-x==0&&(_=!0);}else {if(!e.hasValue(this._xValueFields))return;var F;if(!O(m))o+=F=K((s-o)*(1-m/100)/2,5),s-=F;if(n=this.yAxis.getY(e,c,o),r=this.yAxis.getY(e,d,s),O(m))r-=F=(r-n-g)/2,n+=F;if(!O(v)&&v<Math.abs(r-n))r-=F=(r-n-v)/2,n+=F;var D=e.locations[l],M=e.locations[u];this.xAxis instanceof zg&&this.dataFields[this.xField]!=this.dataFields[this.xOpenField]&&(D=0,M=0),i=this.xAxis.getX(e,l,D),t=this.xAxis.getX(e,u,M);k=Math.ceil(this.xAxis.axisLength);(i<0&&t<0||i>k&&t>k)&&(_=!0),i=this.fixHorizontalCoordinate(i),t=this.fixHorizontalCoordinate(t),Math.abs(n-r)-C-S==0&&(_=!0);}var L,E=Math.abs(i-t),V=Math.abs(r-n),R=Math.min(t,i),B=Math.min(n,r);_?this.disableUnusedColumns(e):(e.column?(L=e.column,this._propertiesChanged&&(rt(this,L,Fr),rt(this.columns.template,L,Fr),we(Fr,(function(e){L[e]=L[e];})))):(rt(this,L=this.columns.create(),Fr),rt(this.columns.template,L,Fr),e.addSprite(L),e.column=L,L.paper=this.paper,this.itemsFocusable()?(j(this.role)||(this.role="menu"),j(L.role)||(L.role="menuitem"),L.focusable=!0):(j(this.role)||(this.role="list"),j(L.role)||(L.role="listitem"),L.focusable=!1),L.focusable&&(L.events.on("focus",(function(t){L.readerTitle=a.populateString(a.itemReaderText,e);}),void 0,!1),L.events.on("blur",(function(e){L.readerTitle="";}),void 0,!1)),L.hoverable&&(L.events.on("over",(function(t){L.readerTitle=a.populateString(a.itemReaderText,e);}),void 0,!1),L.events.on("out",(function(e){L.readerTitle="";}),void 0,!1)),L.parent=this.columnsContainer,L.virtualParent=this),L.width=E,L.height=V,L.x=R,L.y=B,L.realX=t,L.realY=n,L.realWidth=i-t,L.realHeight=r-n,this.setColumnStates(L),L.invalid&&L.validate(),L.__disabled=!1,ut(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i||(i=a.columns.create(),rt(t.contents,i,Fr),e.addSprite(i),e.rangesColumns.setKey(t.uid,i),i.paper=a.paper),i.parent=t.contents,i.width=E,i.height=V,i.x=R,i.y=B,a.setColumnStates(i),i.invalid&&i.validate(),i.__disabled=!1;})));e.itemWidth=E,e.itemHeight=V;},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.width=0,e.column.height=0,e.column.__disabled=!0),ut(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.width=0,i.height=0,i.__disabled=!0);})));},t.prototype.setColumnStates=function(e){if(this._dropFromOpenState||this._dropFromPreviousState||this._riseFromOpenState||this._riseFromPreviousState){var t=e.dataItem;if(this.xAxis instanceof zg||this.yAxis instanceof zg){var i,n=void 0,r=void 0;this.baseAxis==this.yAxis?(this.xOpenField&&this.xField&&this.xAxis instanceof zg&&(i=t.getValue(this.xOpenField),n=t.getValue(this.xField)),r=t.getValue(this.xAxis.axisFieldName+"X","previousChange")):(this.yOpenField&&this.yField&&this.yAxis instanceof zg&&(i=t.getValue(this.yOpenField),n=t.getValue(this.yField)),r=t.getValue(this.yAxis.axisFieldName+"Y","previousChange")),n<i?(t.droppedFromOpen=!0,e.defaultState.copyFrom(this._dropFromOpenState),e.setState(this._dropFromOpenState,0)):(t.droppedFromOpen=!1,e.defaultState.copyFrom(this._riseFromOpenState),e.setState(this._riseFromOpenState,0)),r<0?(t.droppedFromPrevious=!0,e.defaultState.copyFrom(this._dropFromPreviousState),e.setState(this._dropFromPreviousState,0)):(t.droppedFromPrevious=!1,e.defaultState.copyFrom(this._riseFromPreviousState),e.setState(this._riseFromPreviousState,0));}}},Object.defineProperty(t.prototype,"columns",{get:function(){return this._columns||(this._columns=new At(this.createColumnTemplate()),this._disposers.push(new wt(this._columns)),this._disposers.push(this._columns.template)),this._columns},enumerable:!0,configurable:!0}),t.prototype.createColumnTemplate=function(){return new Uy},Object.defineProperty(t.prototype,"clustered",{get:function(){return this.getPropertyValue("clustered")},set:function(e){this.setPropertyValue("clustered",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromOpenState",{get:function(){return this._dropFromOpenState||(this._dropFromOpenState=this.states.create("dropFromOpenState")),this._dropFromOpenState},set:function(e){this._dropFromOpenState=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropFromPreviousState",{get:function(){return this._dropFromPreviousState||(this._dropFromPreviousState=this.states.create("dropFromPreviousState")),this._dropFromPreviousState},set:function(e){this._dropFromPreviousState=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromOpenState",{get:function(){return this._riseFromOpenState||(this._riseFromOpenState=this.states.create("riseFromOpenState")),this._riseFromOpenState},set:function(e){this._riseFromOpenState=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"riseFromPreviousState",{get:function(){return this._riseFromPreviousState||(this._riseFromPreviousState=this.states.create("riseFromPreviousState")),this._riseFromPreviousState},set:function(e){this._riseFromPreviousState=e;},enumerable:!0,configurable:!0}),t.prototype.updateLegendValue=function(t,i){var n=this;if(e.prototype.updateLegendValue.call(this,t,i),this.legendDataItem){var r,a,o=this.legendDataItem.marker;t&&(r=t.droppedFromOpen?this._dropFromOpenState:this._riseFromOpenState,a=t.droppedFromPrevious?this._dropFromPreviousState:this._riseFromPreviousState),ut(o.children.iterator(),(function(e){t?(e.setState(a),e.setState(r)):(e.setState(n._riseFromPreviousState),e.setState(n._riseFromOpenState));}));}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var n=e.createChild(Xr);n.shouldClone=!1,rt(this,n,Fr),n.copyFrom(this.columns.template),n.padding(0,0,0,0),n.width=t,n.height=i;var r=e.dataItem;r.color=this.fill,r.colorOrig=this.fill;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.columns.template.copyFrom(t.columns.template);},t.prototype.getBulletLocationX=function(t,i){if(this.baseAxis==this.xAxis){var n=t.locationX;W(n)||(n=.5);var r=this.getEndLocation(t.dataItem);return r-(r-this.getStartLocation(t.dataItem))*n}return e.prototype.getBulletLocationX.call(this,t,i)},t.prototype.getBulletLocationY=function(t,i){if(this.baseAxis==this.yAxis){var n=t.locationY;W(n)||(n=.5);var r=this.getEndLocation(t.dataItem);return r-(r-this.getStartLocation(t.dataItem))*n}return e.prototype.getBulletLocationY.call(this,t,i)},t.prototype.getAdjustedXLocation=function(e,t,i){return W(i)||(i=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*(1-i)},t.prototype.getAdjustedYLocation=function(e,t,i){return W(i)||(i=e?e.locations[t]:.5),this._endLocation-(this._endLocation-this._startLocation)*i},t.prototype.fixVerticalCoordinate=function(e){var t=this.columns.template.pixelPaddingBottom;return J(e,-this.columns.template.pixelPaddingTop,this.yAxis.axisLength+t)},t.prototype.fixHorizontalCoordinate=function(e){var t=this.columns.template.pixelPaddingLeft,i=this.columns.template.pixelPaddingRight;return J(e,-t,this.xAxis.axisLength+i)},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this.columns.clear();},t}(Jg);St.registeredClasses.ColumnSeries=$y,St.registeredClasses.ColumnSeriesDataItem=qy;var Yy=function(e){function t(){var t=e.call(this)||this;return t.className="TreeMapSeriesDataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"parentName",{get:function(){var e=this.treeMapDataItem;if(e&&e.parent)return e.parent.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){var e=this.treeMapDataItem;if(e)return e.value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"treeMapDataItem",{get:function(){return this._dataContext},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,n,r){var a=this.treeMapDataItem;return a&&a.hide(t),e.prototype.hide.call(this,t,i,n,r)},t.prototype.show=function(t,i,n){var r=this.treeMapDataItem;return r&&r.show(t,i,n),e.prototype.show.call(this,t,i,n)},t}(qy),Ky=function(e){function t(){var t=e.call(this)||this;t.className="TreeMapSeries",t.applyTheme(),t.fillOpacity=1,t.strokeOpacity=1,t.minBulletDistance=0,t.columns.template.tooltipText="{parentName} {name}: {value}",t.columns.template.configField="config";var i=new Fn;return t.stroke=i.getFor("background"),t.dataFields.openValueX="x0",t.dataFields.valueX="x1",t.dataFields.openValueY="y0",t.dataFields.valueY="y1",t.sequencedInterpolation=!1,t.showOnInit=!1,t.columns.template.pixelPerfect=!1,t}return x(t,e),t.prototype.processDataItem=function(t,i){i.seriesDataItem=t,e.prototype.processDataItem.call(this,t,i);},t.prototype.createDataItem=function(){return new Yy},t.prototype.show=function(t){if(!this.preventShow){var i=this.defaultState.transitionDuration;return W(t)&&(i=t),this.dataItems.each((function(e){e.show(t);})),e.prototype.showReal.call(this,i)}},t.prototype.hide=function(t){var i=this.defaultState.transitionDuration;W(t)&&(i=t);var n=e.prototype.hideReal.call(this,i);return this.dataItems.each((function(e){e.hide(t);})),n},t.prototype.processValues=function(){},t.prototype.getStartLocation=function(e){return 0},t.prototype.getEndLocation=function(e){return 1},t.prototype.dataChangeUpdate=function(){},t.prototype.processConfig=function(t){t&&(j(t.dataFields)&&z(t.dataFields)||(t.dataFields={})),e.prototype.processConfig.call(this,t);},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var n=e.createChild(Xr);n.shouldClone=!1,rt(this,n,Fr),n.padding(0,0,0,0),n.width=t,n.height=i;var r=e.dataItem;r.color=n.fill,r.colorOrig=n.fill;},t.prototype.disableUnusedColumns=function(t){e.prototype.disableUnusedColumns.call(this,t),t.column&&(t.column.__disabled=!1);},t}($y);St.registeredClasses.TreeMapSeries=Ky,St.registeredClasses.TreeMapSeriesDataItem=Yy;var Xy=function(e){function t(){var t=e.call(this)||this;return t.rows=[],t.className="TreeMapDataItem",t.values.value={workingValue:0},t.values.x0={},t.values.y0={},t.values.x1={},t.values.y1={},t.hasChildren.children=!0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"legendDataItem",{get:function(){return this._legendDataItem},set:function(e){this._legendDataItem=e,e.label&&(e.label.dataItem=this),e.valueLabel&&(e.valueLabel.dataItem=this);},enumerable:!0,configurable:!0}),t.prototype.getDuration=function(){return 0},Object.defineProperty(t.prototype,"value",{get:function(){var e=0;return this.children&&0!=this.children.length?ut(this.children.iterator(),(function(t){var i=t.value;W(i)&&(e+=i);})):e=this.values.value.workingValue,e},set:function(e){this.setValue("value",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"percent",{get:function(){return this.parent?this.value/this.parent.value*100:100},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x0",{get:function(){return this.values.x0.value},set:function(e){this.setValue("x0",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x1",{get:function(){return this.values.x1.value},set:function(e){this.setValue("x1",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y0",{get:function(){return this.values.y0.value},set:function(e){this.setValue("y0",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this.values.y1.value},set:function(e){this.setValue("y1",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this.properties.children},set:function(e){this.setProperty("children",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.parent?this.parent.level+1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){var e=this.properties.color;return null==e&&this.parent&&(e=this.parent.color),null==e&&this.component&&(e=this.component.colors.getIndex(this.component.colors.step*this.index)),e},set:function(e){this.setProperty("color",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this.color},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){e!=this._series&&(this._series&&(this.component.series.removeValue(this._series),this._series.dispose()),this._series=e,this._disposers.push(e));},enumerable:!0,configurable:!0}),t.prototype.hide=function(t,i,n,r){this.setWorkingValue("value",0),this.children&&this.children.each((function(e){e.hide(t,i,n,r);}));var a=this.seriesDataItem;return a&&a.bullets.each((function(e,t){t.hide(),t.preventShow=!0;})),e.prototype.hide.call(this,t,i,n,r)},t.prototype.show=function(t,i,n){this.setWorkingValue("value",this.values.value.value),this.children&&this.children.each((function(e){e.show(t,i,n);}));var r=this.seriesDataItem;return r&&r.bullets.each((function(e,t){t.preventShow=!1;})),e.prototype.show.call(this,t,i,n)},t}(Qg),Jy=function(e){function t(){var t=e.call(this)||this;t.layoutAlgorithm=t.squarify,t.zoomable=!0,t.className="TreeMap",t._usesData=!0,t.maxLevels=2,t.currentLevel=0,t.hideParentColumns=!1,t.colors=new ao,t.sorting="descending";var i=t.xAxes.push(new zg);i.title.disabled=!0,i.strictMinMax=!0;var n=i.renderer;n.inside=!0,n.labels.template.disabled=!0,n.ticks.template.disabled=!0,n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.minGridDistance=100,n.line.disabled=!0,n.baseGrid.disabled=!0;var r=t.yAxes.push(new zg);r.title.disabled=!0,r.strictMinMax=!0;var a=r.renderer;a.inside=!0,a.labels.template.disabled=!0,a.ticks.template.disabled=!0,a.grid.template.disabled=!0,a.axisFills.template.disabled=!0,a.minGridDistance=100,a.line.disabled=!0,a.baseGrid.disabled=!0,a.inversed=!0,t.xAxis=i,t.yAxis=r;var o=new Ky;return t.seriesTemplates=new bt(o),o.virtualParent=t,t._disposers.push(new yt(t.seriesTemplates)),t._disposers.push(o),t.zoomOutButton.events.on("hit",(function(){t.zoomToChartDataItem(t._homeDataItem);}),void 0,!1),t.seriesTemplates.events.on("insertKey",(function(e){e.newValue.isTemplate=!0;}),void 0,!1),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"navigationBar",{get:function(){return this._navigationBar},set:function(e){var t=this;this._navigationBar!=e&&(this._navigationBar=e,e.parent=this,e.toBack(),e.links.template.events.on("hit",(function(e){var i=e.target.dataItem.dataContext;i.isDisposed()||(t.zoomToChartDataItem(i),t.createTreeSeries(i));}),void 0,!0),this._disposers.push(e));},enumerable:!0,configurable:!0}),t.prototype.validateData=function(){this.series.clear(),this._tempSeries=[],e.prototype.validateData.call(this),this._homeDataItem&&this._homeDataItem.dispose();var t=this.dataItems.template.clone();this._homeDataItem=t,ut(this.dataItems.iterator(),(function(e){e.parent=t;})),t.children=this.dataItems,t.x0=0,t.y0=0,t.name=this._homeText;var i=1e3,n=10*Math.round(i*this.pixelHeight/this.pixelWidth/10)||1e3;t.x1=i,t.y1=n,this.xAxis.min=0,this.xAxis.max=i,this.xAxis.getMinMax(),this.yAxis.min=0,this.yAxis.max=n,this.yAxis.getMinMax(),this.layoutItems(t),this.createTreeSeries(t),this.feedLegend();},t.prototype.layoutItems=function(e,t){if(e){var i=e.children;t||(t=this.sorting),"ascending"==t&&i.values.sort((function(e,t){return e.value-t.value})),"descending"==t&&i.values.sort((function(e,t){return t.value-e.value})),this._updateDataItemIndexes(0),this.layoutAlgorithm(e);for(var n=0,r=i.length;n<r;n++){var a=i.getIndex(n);a.children&&this.layoutItems(a);}}},t.prototype.createTreeSeries=function(e){var t=this;this._tempSeries=[];for(var i=[e],n=e.parent;null!=n;)this.initSeries(n),i.push(n),n=n.parent;i.reverse(),this.navigationBar&&(this.navigationBar.data=i),this.createTreeSeriesReal(e),we(this._tempSeries,(function(e){-1==t.series.indexOf(e)&&t.series.push(e),e.zIndex=e.level;}));},t.prototype.createTreeSeriesReal=function(e){if(e.children&&e.level<this.currentLevel+this.maxLevels){this.initSeries(e);for(var t=0;t<e.children.length;t++){var i=e.children.getIndex(t);i.children&&this.createTreeSeriesReal(i);}}},t.prototype.setData=function(t){this.currentLevel=0,this.currentlyZoomed=void 0,this.xAxis.start=0,this.xAxis.end=1,this.yAxis.start=0,this.yAxis.end=1,e.prototype.setData.call(this,t);},t.prototype.seriesAppeared=function(){return !0},t.prototype.initSeries=function(e){var t=this;if(!e.series){var i=void 0,n=this.seriesTemplates.getKey(e.level.toString());(i=n?n.clone():this.series.create()).dataItem.dataContext=e,i.name=e.name,i.parentDataItem=e,e.series=i;var r=e.level;i.level=r;var a=e.dataContext;a&&(i.config=a.config),this.dataUsers.removeValue(i),i.data=e.children.values,i.fill=e.color,i.columnsContainer.hide(0),i.bulletsContainer.hide(0),i.columns.template.adapter.add("fill",(function(e,t){var i=t.dataItem;if(i){var n=i.treeMapDataItem;if(n)return t.fill=n.color,t.adapter.remove("fill"),n.color}})),this.zoomable&&(e.level>this.currentLevel||e.children&&e.children.length>0)&&(i.columns.template.cursorOverStyle=hr.pointer,this.zoomable&&i.columns.template.events.on("hit",(function(i){var n=i.target.dataItem;e.level>t.currentLevel?t.zoomToChartDataItem(n.treeMapDataItem.parent):t.zoomToSeriesDataItem(n);}),this,void 0));}this._tempSeries.push(e.series);},t.prototype.toggleBullets=function(e){var t=this;ut(this.series.iterator(),(function(i){-1==t._tempSeries.indexOf(i)?(i.columnsContainer.hide(),i.bulletsContainer.hide(e)):(i.columnsContainer.show(),i.bulletsContainer.show(e),i.dataItems.each((function(e){e.bullets.each((function(e,t){t.show();}));})),i.level<t.currentLevel?(t.hideParentColumns&&i.columnsContainer.hide(),i.bulletsContainer.hide(e)):i.level==t.currentLevel&&t.maxLevels>1&&i.dataItems.each((function(e){e.treeMapDataItem.children&&e.bullets.each((function(e,t){t.hide();}));})));}));},t.prototype.zoomToSeriesDataItem=function(e){this.zoomToChartDataItem(e.treeMapDataItem);},t.prototype.zoomToChartDataItem=function(e){var t=this;e||(e=this._homeDataItem);var i=this.zoomOutButton;if(i&&(e!=this._homeDataItem?i.show():i.hide()),e&&e.children){this.xAxis.zoomToValues(e.x0,e.x1),this.yAxis.zoomToValues(e.y0,e.y1),this.currentLevel=e.level,this.currentlyZoomed=e,this.createTreeSeries(e);var n=this.xAxis.rangeChangeAnimation||this.yAxis.rangeChangeAnimation;!n||n.isDisposed()||n.isFinished()?this.toggleBullets():(this._dataDisposers.push(n),n.events.once("animationended",(function(){t.toggleBullets();})));}},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("TreeMap chart"));},t.prototype.createDataItem=function(){return new Xy},Object.defineProperty(t.prototype,"maxLevels",{get:function(){return this.getPropertyValue("maxLevels")},set:function(e){this.setPropertyValue("maxLevels",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.getPropertyValue("currentLevel")},set:function(e){this.setPropertyValue("currentLevel",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideParentColumns",{get:function(){return this.getPropertyValue("hideParentColumns")},set:function(e){this.setPropertyValue("hideParentColumns",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sorting",{get:function(){return this.getPropertyValue("sorting")},set:function(e){this.setPropertyValue("sorting",e,!0);},enumerable:!0,configurable:!0}),t.prototype.createSeries=function(){return new Ky},Object.defineProperty(t.prototype,"homeText",{get:function(){return this._homeText},set:function(e){this._homeText=e,this._homeDataItem&&(this._homeDataItem.name=this._homeText);},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){if(t){if(j(t.layoutAlgorithm)&&N(t.layoutAlgorithm))switch(t.layoutAlgorithm){case"squarify":t.layoutAlgorithm=this.squarify;break;case"binaryTree":t.layoutAlgorithm=this.binaryTree;break;case"slice":t.layoutAlgorithm=this.slice;break;case"dice":t.layoutAlgorithm=this.dice;break;case"sliceDice":t.layoutAlgorithm=this.sliceDice;break;default:delete t.layoutAlgorithm;}j(t.navigationBar)&&!j(t.navigationBar.type)&&(t.navigationBar.type="NavigationBar"),e.prototype.processConfig.call(this,t);}},t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.layoutItems(this.currentlyZoomed);},t.prototype.validateDataItems=function(){e.prototype.validateDataItems.call(this),this.layoutItems(this._homeDataItem),ut(this.series.iterator(),(function(e){e.validateRawData();})),this.zoomToChartDataItem(this._homeDataItem);},t.prototype.binaryTree=function(e){var t,i,n=e.children,r=n.length,a=new Array(r+1);for(a[0]=i=t=0;t<r;++t)a[t+1]=i+=n.getIndex(t).value;r>0&&function e(t,i,r,o,s,l,u){if(t>=i-1){return (y=n.getIndex(t)).x0=o,y.y0=s,y.x1=l,void(y.y1=u)}var d=a[t],c=r/2+d,h=t+1,p=i-1;for(;h<p;){var m=h+p>>>1;a[m]<c?h=m+1:p=m;}c-a[h-1]<a[h]-c&&t+1<h&&--h;var f=a[h]-d,g=r-f;if(0==r){var y;return (y=n.getIndex(t)).x0=o,y.y0=s,y.x1=l,void(y.y1=u)}if(l-o>u-s){var v=(o*g+l*f)/r;e(t,h,f,o,s,v,u),e(h,i,g,v,s,l,u);}else {var b=(s*g+u*f)/r;e(t,h,f,o,s,l,b),e(h,i,g,o,b,l,u);}}(0,r,e.value,e.x0,e.y0,e.x1,e.y1);},t.prototype.slice=function(e){for(var t,i=e.x0,n=e.x1,r=e.y0,a=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(a-r)/e.value;++s<l;)(t=o.getIndex(s)).x0=i,t.x1=n,t.y0=r,r+=t.value*u,t.y1=r;},t.prototype.dice=function(e){for(var t,i=e.x0,n=e.x1,r=e.y0,a=e.y1,o=e.children,s=-1,l=o.length,u=e.value&&(n-i)/e.value;++s<l;)(t=o.getIndex(s)).y0=r,t.y1=a,t.x0=i,i+=t.value*u,t.x1=i;},t.prototype.sliceDice=function(e){1&e.level?this.slice(e):this.dice(e);},t.prototype.squarify=function(e){for(var t,i,n,r,a,o,s,l,u,d,c=(1+Math.sqrt(5))/2,h=e.x0,p=e.x1,m=e.y0,f=e.y1,g=e.children,y=0,v=0,b=g.length,x=e.value;y<b;){i=p-h,n=f-m;do{r=g.getIndex(v++).value;}while(!r&&v<b);for(a=o=r,d=r*r*(u=Math.max(n/i,i/n)/(x*c)),l=Math.max(o/d,d/a);v<b;++v){if(r+=t=g.getIndex(v).value,t<a&&(a=t),t>o&&(o=t),d=r*r*u,(s=Math.max(o/d,d/a))>l){r-=t;break}l=s;}var C=this.dataItems.template.clone();C.value=r,C.dice=i<n,C.children=g.slice(y,v),C.x0=h,C.y0=m,C.x1=p,C.y1=f,C.dice?(C.y1=x?m+=n*r/x:f,this.dice(C)):(C.x1=x?h+=i*r/x:p,this.slice(C)),x-=r,y=v;}},t.prototype.handleSeriesAdded2=function(){},t.prototype.handleDataItemValueChange=function(e,t){"value"==t&&this.invalidateDataItems();},t.prototype.handleDataItemWorkingValueChange=function(e,t){"value"==t&&this.invalidateDataItems();},t.prototype.getLegendLevel=function(e){if(e&&e.children){if(e.children.length>1)return e;if(1==e.children.length){var t=e.children.getIndex(0);return t.children?this.getLegendLevel(t):e}return e}},t.prototype.handleLegendSeriesAdded=function(e){},Object.defineProperty(t.prototype,"homeDataItem",{get:function(){return this._homeDataItem},enumerable:!0,configurable:!0}),t.prototype.feedLegend=function(){var e=this.legend;if(e){e.dataFields.name="name";var t=this.getLegendLevel(this._homeDataItem);if(t){var i=[];t.children.each((function(e){i.push(e);})),e.data=i;}}},t.prototype.disposeData=function(){e.prototype.disposeData.call(this),this._homeDataItem=void 0,this.series.clear(),this.navigationBar&&this.navigationBar.disposeData(),this.xAxis.disposeData(),this.yAxis.disposeData();},t.prototype.getExporting=function(){var t=this,i=e.prototype.getExporting.call(this);return i.adapter.add("formatDataFields",(function(e){return "csv"!=e.format&&"xlsx"!=e.format||j(t.dataFields.children)&&delete e.dataFields[t.dataFields.children],e})),i},t}(ey);St.registeredClasses.TreeMap=Jy;var Zy=function(e){function t(){var t=e.call(this)||this;return t._chart=new Be,t.className="AxisRendererX3D",t._disposers.push(t._chart),t.applyTheme(),t}return x(t,e),t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);if(e.element){var r=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getHeight();e.path=ra({x:r,y:a})+aa({x:r,y:o+a})+aa({x:0,y:o});}this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.getHeight(),i=this.chart.dx3D||0,n=this.chart.dy3D||0;this.baseGrid.path=ra({x:i,y:n})+aa({x:0,y:0})+aa({x:0,y:t});},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1));},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate();},t}(qg);St.registeredClasses.AxisRendererX3D=Zy;var Qy=function(e){function t(){var t=e.call(this)||this;return t._chart=new Be,t.className="AxisRendererY3D",t._disposers.push(t._chart),t.applyTheme(),t}return x(t,e),t.prototype.updateGridElement=function(e,t,i){t+=(i-t)*e.location;var n=this.positionToPoint(t);if(e.element){var r=this.chart.dx3D||0,a=this.chart.dy3D||0,o=this.getWidth();e.path=ra({x:0,y:0})+aa({x:r,y:a})+aa({x:o+r,y:a});}this.positionItem(e,n),this.toggleVisibility(e,t,0,1);},t.prototype.updateBaseGridElement=function(){e.prototype.updateBaseGridElement.call(this);var t=this.chart.dx3D||0,i=this.chart.dy3D||0,n=this.getWidth();this.baseGrid.path=ra({x:0,y:0})+aa({x:n,y:0})+aa({x:n+t,y:i});},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart.get()},set:function(e){e&&this._chart.set(e,e.events.on("propertychanged",this.handle3DChanged,this,!1));},enumerable:!0,configurable:!0}),t.prototype.handle3DChanged=function(e){"depth"!=e.property&&"angle"!=e.property||this.invalidate();},t}(Bg),ev=function(e){function t(){var t=e.call(this)||this;return t.className="Column3D",t}return x(t,e),t.prototype.createAssets=function(){this.column3D=this.createChild(Ka),this.column3D.shouldClone=!1,this.column3D.strokeOpacity=0,this.column=this.column3D;},t.prototype.validate=function(){e.prototype.validate.call(this),this.column3D&&(this.column3D.width=this.pixelWidth,this.column3D.height=this.pixelHeight,this.column3D.invalid&&this.column3D.validate());},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.column3D&&this.column3D.copyFrom(t.column3D);},t.prototype.setFill=function(t){e.prototype.setFill.call(this,t),this.column.fill=t;},t}(Uy);St.registeredClasses.Column3D=ev;var tv=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3DDataItem",t.applyTheme(),t}return x(t,e),t}(qy),iv=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeries3D",t.columns.template.column3D.applyOnClones=!0,t.columns.template.hiddenState.properties.visible=!0,t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"columnsContainer",{get:function(){var e=this.chart;return e&&e.columnsContainer&&"vertical"!=e.leftAxesContainer.layout&&"vertical"!=e.rightAxesContainer.layout&&"horizontal"!=e.bottomAxesContainer.layout&&"horizontal"!=e.topAxesContainer.layout?e.columnsContainer:this._columnsContainer},enumerable:!0,configurable:!0}),t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),t.column&&(t.column.dx=this.dx,t.column.dy=this.dy,t.column.visible=this.visible);},t.prototype.validateDataElements=function(){e.prototype.validateDataElements.call(this),this.chart&&this.chart.invalidateLayout();},t.prototype.createColumnTemplate=function(){return new ev},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e,!0),this.columns.template.column3D.depth=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.columns.template.column3D.angle=e;},enumerable:!0,configurable:!0}),t}($y);St.registeredClasses.ColumnSeries3D=iv,St.registeredClasses.ColumnSeries3DDataItem=tv,function(e){function t(){var t=e.call(this)||this;return t.className="XYChart3DDataItem",t.applyTheme(),t}x(t,e);}(Qg);var nv=function(e){function t(){var t=e.call(this)||this;t._axisRendererX=Zy,t._axisRendererY=Qy,t.className="XYChart3D",t.depth=30,t.angle=30;var i=t.seriesContainer.createChild(Lr);return i.shouldClone=!1,i.isMeasured=!1,i.layout="none",t.columnsContainer=i,t.columnsContainer.mask=t.createChild(Dr),t.applyTheme(),t}return x(t,e),t.prototype.updateSeriesMasks=function(){if(e.prototype.updateSeriesMasks.call(this),Ri()){var t=this.columnsContainer,i=t.mask;t.mask=void 0,t.mask=i;}},Object.defineProperty(t.prototype,"depth",{get:function(){return this.getPropertyValue("depth")},set:function(e){this.setPropertyValue("depth",e),this.fixLayout(),this.invalidateDataUsers();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.getPropertyValue("angle")},set:function(e){this.setPropertyValue("angle",e),this.fixLayout(),this.invalidateDataUsers();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dx3D",{get:function(){return ee(this.angle)*this.depth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dy3D",{get:function(){return -Z(this.angle)*this.depth},enumerable:!0,configurable:!0}),t.prototype.validateLayout=function(){e.prototype.validateLayout.call(this),this.fixColumns();},t.prototype.fixLayout=function(){this.chartContainer.paddingTop=-this.dy3D,this.chartContainer.paddingRight=this.dx3D,this.scrollbarX&&(this.scrollbarX.dy=this.dy3D,this.scrollbarX.dx=this.dx3D),this.scrollbarY&&(this.scrollbarY.dy=this.dy3D,this.scrollbarY.dx=this.dx3D),this.fixColumns(),e.prototype.fixLayout.call(this);},t.prototype.fixColumns=function(){var e=this,t=1,i=0;ut(this.series.iterator(),(function(e){e instanceof iv&&(!e.clustered&&i>0&&t++,e.depthIndex=t-1,i++);}));var n=0;ut(this.series.iterator(),(function(i){if(i instanceof iv){i.depth=e.depth/t,i.angle=e.angle,i.columnsContainer==e.columnsContainer&&(i.dx=e.depth/t*ee(e.angle)*i.depthIndex,i.dy=-e.depth/t*Z(e.angle)*i.depthIndex);var r=!1;(i.baseAxis==i.xAxis&&i.xAxis.renderer.inversed||i.baseAxis==i.yAxis&&i.yAxis.renderer.inversed)&&(r=!0);var a=1;i.dataItems.each((function(e){var t=e.column;t&&(t.zIndex=r?1e3*(1e3-a)+n-100*i.depthIndex:1e3*a+n-100*i.depthIndex),a++;})),r?n--:n++;}})),this.maskColumns();},t.prototype.processConfig=function(t){if(t&&j(t.series)&&H(t.series))for(var i=0,n=t.series.length;i<n;i++)t.series[i].type=t.series[i].type||"ColumnSeries3D";e.prototype.processConfig.call(this,t);},t.prototype.maskColumns=function(){var e=this.plotContainer.pixelWidth,t=this.plotContainer.pixelHeight,i=this.dx3D,n=this.dy3D,r=ra({x:0,y:0})+aa({x:i,y:n})+aa({x:e+i,y:n})+aa({x:e+i,y:t+n})+aa({x:e,y:t})+aa({x:e,y:t})+aa({x:0,y:t})+" Z",a=this.columnsContainer;a&&a.mask&&(a.mask.path=r);},t}(ey);St.registeredClasses.XYChart3D=nv;var rv=function(e){function t(){var t=e.call(this)||this;t.className="HeatLegend",t.markerContainer=t.createChild(Lr),t.markerContainer.shouldClone=!1,t.markerCount=1;var i=new Xr;return i.minHeight=20,i.minWidth=20,i.interactionsEnabled=!1,i.fillOpacity=1,i.cornerRadius(0,0,0,0),t.markerContainer.minHeight=20,t.markerContainer.minWidth=20,t.orientation="horizontal",t.markers=new At(i),t._disposers.push(new wt(t.markers)),t._disposers.push(t.markers.template),t.applyTheme(),t}return x(t,e),t.prototype.getMinFromRules=function(e){var t,i=this.series;if(i)return lt(i.heatRules.iterator(),(function(i){return i.property!=e||(t=i.min,!1)})),t},t.prototype.getMaxFromRules=function(e){var t,i=this.series;if(i)return ut(i.heatRules.iterator(),(function(i){return i.property!=e||(t=i.max,!1)})),t},t.prototype.validate=function(){e.prototype.validate.call(this),this.valueAxis.renderer.inversed=this.reverseOrder;var t=this.series,i=this.minColor,n=this.maxColor;if(j(i)||(i=Kt(this.getMinFromRules("fill"))),j(n)||(n=Kt(this.getMaxFromRules("fill"))),t){var r=t.fill;!j(i)&&r instanceof $t&&(i=r),!j(n)&&r instanceof $t&&(n=r);}j(n)||(n=Kt(this.getMaxFromRules("fill")));var a=M(this.getMinFromRules("fillOpacity"));W(a)||(a=1);var o=M(this.getMaxFromRules("fillOpacity"));W(o)||(o=1);var s=M(this.getMinFromRules("strokeOpacity"));W(s)||(s=1);var l=M(this.getMaxFromRules("strokeOpacity"));W(l)||(l=1);for(var u=Kt(this.getMinFromRules("stroke")),d=Kt(this.getMaxFromRules("stroke")),c=0;c<this.markerCount;c++){var h=this.markers.getIndex(c);if(h||((h=this.markers.create()).parent=this.markerContainer,h.height=A(100),h.width=A(100)),1==this.markerCount){var p=new ur;if(this.reverseOrder?(p.addColor(n,o),p.addColor(i,a)):(p.addColor(i,a),p.addColor(n,o)),"vertical"==this.orientation&&(p.rotation=-90),h.fill=p,j(u)&&j(d)){var m=new ur;this.reverseOrder?(m.addColor(d,l),m.addColor(u,s)):(m.addColor(u,s),m.addColor(d,l)),"vertical"==this.orientation&&(m.rotation=-90),h.stroke=m;}}else {var f=c;this.reverseOrder&&(f=this.markerCount-c-1);var g=new $t(zt(i.rgb,n.rgb,f/this.markerCount));h.fill=g;var y=a+(o-a)*f/this.markerCount;if(h.fillOpacity=y,j(u)&&j(d)){var v=new $t(zt(u.rgb,d.rgb,f/this.markerCount));h.stroke=v;var b=s+(l-s)*f/this.markerCount;h.strokeOpacity=b;}}}var x=this.valueAxis.renderer;this.markerCount>1&&("horizontal"==this.orientation?x.minGridDistance=this.measuredWidth/this.markerCount:x.minGridDistance=this.measuredHeight/this.markerCount),this.valueAxis.invalidate();c=this.markerCount;for(var C=this.markers.length;c<C;c++)this.markers.getIndex(c).parent=void 0;},Object.defineProperty(t.prototype,"minColor",{get:function(){return this.getPropertyValue("minColor")},set:function(e){e instanceof $t||(e=Kt(e)),this.setColorProperty("minColor",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxColor",{get:function(){return this.getPropertyValue("maxColor")},set:function(e){e instanceof $t||(e=Kt(e)),this.setColorProperty("maxColor",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerCount",{get:function(){return this.getPropertyValue("markerCount")},set:function(e){this.setPropertyValue("markerCount",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(e){this.setPropertyValue("minValue",e),this.valueAxis.min=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(e){this.setPropertyValue("maxValue",e),this.valueAxis.max=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);var t=this.markerContainer,i=this.valueAxis;"horizontal"==e?(j(this.width)||(this.width=200),this.height=void 0,i.width=A(100),i.height=void 0,i.tooltip.pointerOrientation="vertical",this.layout="vertical",t.width=A(100),t.height=void 0,i.renderer instanceof qg||(i.renderer=new qg)):(j(this.height)||(this.height=200),this.width=void 0,this.layout="horizontal",t.width=void 0,t.height=A(100),i.height=A(100),i.width=void 0,i.tooltip.pointerOrientation="horizontal",i.renderer instanceof Bg||(i.renderer=new Bg),i.renderer.inside=!0,i.renderer.labels.template.inside=!0,this.markerContainer.reverseOrder=!0);var n=i.renderer;n.grid.template.disabled=!0,n.axisFills.template.disabled=!0,n.baseGrid.disabled=!0,n.labels.template.padding(2,3,2,3),n.minHeight=void 0,n.minWidth=void 0,this.markerContainer.layout=e;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueAxis",{get:function(){return this._valueAxis||(this.valueAxis=this.createChild(zg),this.valueAxis.shouldClone=!1),this._valueAxis},set:function(e){this._valueAxis=e,e.parent=this,e.strictMinMax=!0,this.orientation=this.orientation;},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var t=this;this._series=e;var i="value";try{var n=e.heatRules.getIndex(0).dataField;n&&(i=n);}catch(e){}this.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high),e.dataItem.events.on("calculatedvaluechanged",(function(n){t.updateMinMax(e.dataItem.values[i].low,e.dataItem.values[i].high);}),void 0,!1),e.heatRules.events.on("inserted",this.invalidate,this,!1),e.heatRules.events.on("removed",this.invalidate,this,!1);},enumerable:!0,configurable:!0}),t.prototype.updateMinMax=function(e,t){var i=this.valueAxis;W(this.minValue)||(i.min=e,i.invalidate()),W(this.maxValue)||(i.max=t,i.invalidate());},t.prototype.processConfig=function(t){if(t&&j(t.series)&&N(t.series)&&N(t.series))if(this.map.hasKey(t.series))t.series=this.map.getKey(t.series);else {var i=t.series,n=this.map.events.on("insertKey",(function(e){e.key==i&&(this.series=e.newValue,n.dispose());}),this);this._disposers.push(n),delete t.series;}e.prototype.processConfig.call(this,t);},t}(Lr);St.registeredClasses.HeatLegend=rv;var av=function(e){function t(){var t=e.call(this)||this;return t.className="Candlestick",t.layout="none",t}return x(t,e),t.prototype.createAssets=function(){e.prototype.createAssets.call(this),this.lowLine=this.createChild(ta),this.lowLine.shouldClone=!1,this.highLine=this.createChild(ta),this.highLine.shouldClone=!1;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.lowLine&&this.lowLine.copyFrom(t.lowLine),this.highLine&&this.highLine.copyFrom(t.highLine);},t}(Uy);St.registeredClasses.Candlestick=av;var ov=function(e){function t(){var t=e.call(this)||this;return t.values.lowValueX={},t.values.lowValueY={},t.values.highValueX={},t.values.highValueY={},t.className="CandlestickSeriesDataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"lowValueX",{get:function(){return this.values.lowValueX.value},set:function(e){this.setValue("lowValueX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lowValueY",{get:function(){return this.values.lowValueY.value},set:function(e){this.setValue("lowValueY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueX",{get:function(){return this.values.highValueX.value},set:function(e){this.setValue("highValueX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"highValueY",{get:function(){return this.values.highValueY.value},set:function(e){this.setValue("highValueY",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueX",{get:function(){return this.values.valueX.value},set:function(e){this.setValue("valueX",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeValueY",{get:function(){return this.values.valueY.value},set:function(e){this.setValue("valueY",e);},enumerable:!0,configurable:!0}),t}(qy),sv=function(e){function t(){var t=e.call(this)||this;t.className="CandlestickSeries",t.groupFields.lowValueX="low",t.groupFields.lowValueY="low",t.groupFields.highValueX="high",t.groupFields.highValueY="high",t.strokeOpacity=1;var i=new Fn,n=i.getFor("positive"),r=i.getFor("negative");return t.dropFromOpenState.properties.fill=r,t.dropFromOpenState.properties.stroke=r,t.riseFromOpenState.properties.fill=n,t.riseFromOpenState.properties.stroke=n,t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Candlestick Series"));},t.prototype.createDataItem=function(){return new ov},t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t),this.validateCandlestick(t);},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.lowLine,n=t.highLine;if(this.baseAxis==this.xAxis){var r=t.pixelWidth/2;i.x=r,n.x=r;var a=e.getWorkingValue(this.yOpenField),o=e.getWorkingValue(this.yField),s=this.yAxis.getY(e,this.yOpenField),l=this.yAxis.getY(e,this.yField),u=this.yAxis.getY(e,this.yLowField),d=this.yAxis.getY(e,this.yHighField),c=t.pixelY;i.y1=u-c,n.y1=d-c,a<o?(i.y2=s-c,n.y2=l-c):(i.y2=l-c,n.y2=s-c);}if(this.baseAxis==this.yAxis){var h=t.pixelHeight/2;i.y=h,n.y=h;var p=e.getWorkingValue(this.xOpenField),m=e.getWorkingValue(this.xField),f=this.xAxis.getX(e,this.xOpenField),g=this.xAxis.getX(e,this.xField),y=this.xAxis.getX(e,this.xLowField),v=this.xAxis.getX(e,this.xHighField),b=t.pixelX;i.x1=y-b,n.x1=v-b,p<m?(i.x2=f-b,n.x2=g-b):(i.x2=g-b,n.x2=f-b);}ut(this.axisRanges.iterator(),(function(t){var r=e.rangesColumns.getKey(t.uid);if(r){var a=r.lowLine;a.x=i.x,a.y=i.y,a.x1=i.x1,a.x2=i.x2,a.y1=i.y1,a.y2=i.y2;var o=r.highLine;o.x=n.x,o.y=n.y,o.x1=n.x1,o.x2=n.x2,o.y1=n.y1,o.y2=n.y2;}}));}},Object.defineProperty(t.prototype,"xLowField",{get:function(){return this._xLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yLowField",{get:function(){return this._yLowField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xHighField",{get:function(){return this._xHighField},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yHighField",{get:function(){return this._yHighField},enumerable:!0,configurable:!0}),t.prototype.defineFields=function(){e.prototype.defineFields.call(this);var t=this.xAxis,i=this.yAxis;if(t&&i){if(this.baseAxis==t){var n=ri(i.axisFieldName);this._yLowField="low"+n+"Y",this._yHighField="high"+n+"Y";}if(this.baseAxis==i){var r=ri(t.axisFieldName);this._xLowField="low"+r+"X",this._xHighField="high"+r+"X";}this.addValueField(t,this._xValueFields,this._xLowField),this.addValueField(t,this._xValueFields,this._xHighField),this.addValueField(i,this._yValueFields,this._yLowField),this.addValueField(i,this._yValueFields,this._yHighField);}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var n,r,a=e.createChild(av);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.lowLine,s=a.highLine;this.baseAxis==this.yAxis?(n=t/3,r=i,o.y=i/2,s.y=i/2,o.x2=t/3,s.x2=t/3,s.x=t/3*2,a.column.x=t/3):(n=t,r=i/3,o.x=t/2,s.x=t/2,o.y2=i/3,s.y2=i/3,s.y=i/3*2,a.column.y=i/3),a.width=n,a.height=r,rt(this,e,Fr),rt(this.columns.template,a,Fr),a.stroke=this.riseFromOpenState.properties.stroke,a.fill=a.stroke;var l=e.dataItem;l.color=a.fill,l.colorOrig=a.fill;},t.prototype.createColumnTemplate=function(){return new av},t}($y);St.registeredClasses.CandlestickSeries=sv,St.registeredClasses.CandlestickSeriesDataItem=ov;var lv=function(e){function t(){var t=e.call(this)||this;return t.className="OHLC",t.layout="none",t}return x(t,e),t.prototype.createAssets=function(){this.openLine=this.createChild(ta),this.openLine.shouldClone=!1,this.highLowLine=this.createChild(ta),this.highLowLine.shouldClone=!1,this.closeLine=this.createChild(ta),this.closeLine.shouldClone=!1;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.openLine&&this.openLine.copyFrom(t.openLine),this.highLowLine&&this.highLowLine.copyFrom(t.highLowLine),this.closeLine&&this.closeLine.copyFrom(t.closeLine);},t}(av);St.registeredClasses.OHLC=lv;var uv=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(ov),dv=function(e){function t(){var t=e.call(this)||this;return t.className="OHLCSeries",t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("OHLC Series"));},t.prototype.createDataItem=function(){return new uv},t.prototype.validateCandlestick=function(e){var t=e.column;if(t){var i=t.openLine,n=t.highLowLine,r=t.closeLine;if(this.baseAxis==this.xAxis){var a=t.pixelWidth/2;n.x=a,e.getWorkingValue(this.yOpenField),e.getWorkingValue(this.yField);var o=this.yAxis.getY(e,this.yOpenField),s=this.yAxis.getY(e,this.yField),l=this.yAxis.getY(e,this.yLowField),u=this.yAxis.getY(e,this.yHighField),d=t.pixelY;i.y1=o-d,i.y2=o-d,i.x1=0,i.x2=a,r.y1=s-d,r.y2=s-d,r.x1=a,r.x2=2*a,n.y1=u-d,n.y2=l-d;}if(this.baseAxis==this.yAxis){var c=t.pixelHeight/2;n.y=c,e.getWorkingValue(this.xOpenField),e.getWorkingValue(this.xField);var h=this.xAxis.getX(e,this.xOpenField),p=this.xAxis.getX(e,this.xField),m=this.xAxis.getX(e,this.xLowField),f=this.xAxis.getX(e,this.xHighField),g=t.pixelX;i.x1=h-g,i.x2=h-g,i.y1=c,i.y2=2*c,r.x1=p-g,r.x2=p-g,r.y1=0,r.y2=c,n.x1=f-g,n.x2=m-g;}ut(this.axisRanges.iterator(),(function(t){var a=e.rangesColumns.getKey(t.uid);if(a){var o=a.openLine;o.x=i.x,o.y=i.y,o.x1=i.x1,o.x2=i.x2,o.y1=i.y1,o.y2=i.y2;var s=a.closeLine;s.x=r.x,s.y=r.y,s.x1=r.x1,s.x2=r.x2,s.y1=r.y1,s.y2=r.y2;var l=a.highLowLine;l.x=n.x,l.y=n.y,l.x1=n.x1,l.x2=n.x2,l.y1=n.y1,l.y2=n.y2;}}));}},t.prototype.createLegendMarker=function(e){var t=e.pixelWidth,i=e.pixelHeight;e.removeChildren();var n,r,a=e.createChild(lv);a.shouldClone=!1,a.copyFrom(this.columns.template);var o=a.openLine,s=a.closeLine,l=a.highLowLine;this.baseAxis==this.yAxis?(n=t/3,r=i,l.y=i/2,l.x2=t,o.x=t/3*2,o.y2=i/2,s.x=t/3,s.y2=i,s.y1=i/2):(n=t,r=i/3,l.x=t/2,l.y2=i,o.y=i/3*2,o.x2=t/2,s.y=i/3,s.x2=t,s.x1=t/2),a.width=n,a.height=r,rt(this,e,Fr),rt(this.columns.template,a,Fr),a.stroke=this.riseFromOpenState.properties.stroke;var u=e.dataItem;u.color=a.stroke,u.colorOrig=a.stroke;},t.prototype.createColumnTemplate=function(){return new lv},t}(sv);St.registeredClasses.OHLCSeries=dv,St.registeredClasses.OHLCSeriesDataItem=uv;var cv=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesSegment",t}return x(t,e),t.prototype.drawSegment=function(e,t,i,n,r,a){if(e.length>0&&t.length>0)if(r){var o=ra(e[0]);if(e.length>0)for(var s=1;s<e.length;s++){var l=e[s];s/2==Math.round(s/2)?o+=ra(l):o+=aa(l);}this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o=ra(e[0])+na(e),o+=aa(t[0])+na(t),o+=aa(e[0]),o+=" Z",this.fillSprite.path=o);}else {o=ra(e[0])+na(e);this.strokeSprite.path=o,(this.fillOpacity>0||this.fillSprite.fillOpacity>0)&&(o+=aa(t[0])+na(t),o+=aa(e[0]),o+=" Z",this.fillSprite.path=o);}else this.strokeSprite.path="",this.fillSprite.path="";},t}(ty);St.registeredClasses.StepLineSeriesSegment=cv;var hv=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(ry),pv=function(e){function t(){var t=e.call(this)||this;return t.className="StepLineSeries",t.applyTheme(),t.startLocation=0,t.endLocation=1,t}return x(t,e),t.prototype.createDataItem=function(){return new hv},t.prototype.addPoints=function(e,t,i,n,r){var a,o,s,l;this.baseAxis==this.xAxis&&(a=this.startLocation,o=this.endLocation,s=this.getAdjustedXLocation(t,this.yOpenField),l=this.getAdjustedXLocation(t,this.yField)),this.baseAxis==this.yAxis&&(s=this.startLocation,l=this.endLocation,a=this.getAdjustedXLocation(t,this.xOpenField),o=this.getAdjustedXLocation(t,this.xField));var u=this.xAxis.getX(t,i,a),d=this.yAxis.getY(t,n,s),c=this.xAxis.getX(t,i,o),h=this.yAxis.getY(t,n,l);if(u=J(u,-1e5,1e5),d=J(d,-1e5,1e5),c=J(c,-1e5,1e5),h=J(h,-1e5,1e5),!this.noRisers&&e.length>1){var p=e[e.length-1];this.baseAxis==this.xAxis&&(r?e.push({x:p.x,y:h}):e.push({x:u,y:p.y})),this.baseAxis==this.yAxis&&(r?e.push({x:c,y:p.y}):e.push({x:p.x,y:d}));}var m={x:u,y:d},f={x:c,y:h};r?e.push(f,m):e.push(m,f);},t.prototype.drawSegment=function(e,t,i){var n=!1;this.yAxis==this.baseAxis&&(n=!0),e.drawSegment(t,i,this.tensionX,this.tensionY,this.noRisers,n);},t.prototype.createSegment=function(){return new cv},Object.defineProperty(t.prototype,"noRisers",{get:function(){return this.getPropertyValue("noRisers")},set:function(e){this.setPropertyValue("noRisers",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e,!0);},enumerable:!0,configurable:!0}),t}(ay);St.registeredClasses.StepLineSeries=pv,St.registeredClasses.StepLineSeriesDataItem=hv;var mv=function(e){function t(){var t=e.call(this)||this;return t.className="RadarColumn",t}return x(t,e),t.prototype.createAssets=function(){this.radarColumn=this.createChild(va),this.radarColumn.shouldClone=!1,this.radarColumn.strokeOpacity=void 0,this.column=this.radarColumn;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.radarColumn&&this.radarColumn.copyFrom(t.radarColumn);},t.prototype.getTooltipX=function(){var e=this.getPropertyValue("tooltipX");return W(e)?e:this.radarColumn.getTooltipX()},t.prototype.getTooltipY=function(){var e=this.getPropertyValue("tooltipX");return W(e)?e:this.radarColumn.getTooltipY()},t}(Uy);St.registeredClasses.RadarColumn=mv;var fv=function(e){function t(){var t=e.call(this)||this;return t.className="ColumnSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(qy),gv=function(e){function t(){var t=e.call(this)||this;return t.className="RadarColumnSeries",t.applyTheme(),t}return x(t,e),t.prototype.createColumnTemplate=function(){return new mv},t.prototype.validate=function(){this.chart.invalid&&this.chart.validate(),e.prototype.validate.call(this);},t.prototype.disableUnusedColumns=function(e){e&&(e.column&&(e.column.__disabled=!0),ut(this.axisRanges.iterator(),(function(t){var i=e.rangesColumns.getKey(t.uid);i&&(i.__disabled=!0);})));},t.prototype.validateDataElementReal=function(e){var t,i,n,r,a=this,o=this.chart.startAngle,s=this.chart.endAngle,l=this.yField,u=this.yOpenField,d=this.xField,c=this.xOpenField,h=this.getStartLocation(e),p=this.getEndLocation(e),m=(s-o)/(this.dataItems.length*(this.end-this.start)),f=e.column;f||(f=this.columns.create(),e.column=f,rt(this,f,Fr),rt(this.columns.template,f,Fr),e.addSprite(f),f.paper=this.paper,this.setColumnStates(f));var g=f.width,y=100;g instanceof T&&(y=g.percent);var v=K((p-h)*(1-y/100)/2,5);if(h+=v,p-=v,this.xAxis instanceof Kg&&this.yAxis instanceof Kg)n=ae({x:this.yAxis.getX(e,l,0,"valueY"),y:this.yAxis.getY(e,l,0,"valueY")}),r=ae({x:this.yAxis.getX(e,u,1,"valueY"),y:this.yAxis.getY(e,u,1,"valueY")}),t=this.xAxis.getAngle(e,c,0,"valueX"),i=this.xAxis.getAngle(e,d,1,"valueX"),o+=h*m,s-=(1-p)*m;else if(this.baseAxis==this.xAxis)n=ae({x:this.yAxis.getX(e,l,e.locations[l],"valueY"),y:this.yAxis.getY(e,l,e.locations[l],"valueY")}),r=ae({x:this.yAxis.getX(e,u,e.locations[u],"valueY"),y:this.yAxis.getY(e,u,e.locations[u],"valueY")}),t=this.xAxis.getAngle(e,c,h,"valueX"),i=this.xAxis.getAngle(e,d,p,"valueX"),o+=h*m,s-=(1-p)*m;else {if(n=ae({x:this.yAxis.getX(e,l,h,"valueY"),y:this.yAxis.getY(e,l,h,"valueY")}),r=ae({x:this.yAxis.getX(e,u,p,"valueY"),y:this.yAxis.getY(e,u,p,"valueY")}),W(g)){var b=Math.abs(n-r);if(b>g){var x=(b-g)/2;n+=x,r-=x;}}t=this.xAxis.getAngle(e,d,e.locations[d],"valueX"),i=this.xAxis.getAngle(e,c,e.locations[c],"valueX");}if(i<t){var C=i;i=t,t=C;}t=J(t,o,s),i=J(i,o,s);var S=f.radarColumn;S.startAngle=t;var _=i-t;_>0?(S.arc=_,S.radius=n,S.innerRadius=r,f.__disabled=!1,f.parent=this.columnsContainer,ut(this.axisRanges.iterator(),(function(i){var o=e.rangesColumns.getKey(i.uid);o||(o=a.columns.create(),function(e,t,i){we(i,(function(i){t[i]=e[i];}));}(a.columns.template,o,Fr),rt(i.contents,o,Fr),o.dataItem&&Te(o.dataItem.sprites,o),e.addSprite(o),o.paper=a.paper,a.setColumnStates(o),e.rangesColumns.setKey(i.uid,o));var s=o.radarColumn;s.startAngle=t,s.arc=_,s.radius=n,s.innerRadius=r,s.invalid&&(s.paper=a.paper,s.validate()),o.__disabled=!1,o.parent=i.contents;}))):this.disableUnusedColumns(e);},t.prototype.getPoint=function(e,t,i,n,r,a,o){a||(a="valueX"),o||(o="valueY");var s=ae({x:this.yAxis.getX(e,i,r,o),y:this.yAxis.getY(e,i,r,o)});0==s&&(s=1e-5);var l=this.xAxis.getAngle(e,t,n,a);return {x:s*ee(l),y:s*Z(l)}},t.prototype.getMaskPath=function(){var e=this.yAxis.renderer;return ua(e.startAngle,e.endAngle-e.startAngle,e.pixelRadius,e.pixelInnerRadius)},t.prototype.positionBulletReal=function(e,t,i){var n=this.xAxis,r=this.yAxis;(t<n.start||t>n.end||i<r.start||i>r.end)&&(e.visible=!1),e.moveTo(this.xAxis.renderer.positionToPoint(t,i));},t.prototype.setXAxis=function(t){e.prototype.setXAxis.call(this,t),this.updateRendererRefs();},t.prototype.setYAxis=function(t){e.prototype.setYAxis.call(this,t),this.updateRendererRefs();},t.prototype.updateRendererRefs=function(){var e=this.xAxis.renderer,t=this.yAxis.renderer;e.axisRendererY=t;},t}($y);St.registeredClasses.RadarColumnSeries=gv,St.registeredClasses.RadarColumnSeriesDataItem=fv;var yv=function(e){function t(){var t=e.call(this)||this;return t.slice=t.createChild(Dr),t.slice.shouldClone=!1,t.slice.setElement(t.paper.add("path")),t.slice.isMeasured=!1,t.orientation="vertical",t.bottomWidth=A(100),t.topWidth=A(100),t.isMeasured=!1,t.width=10,t.height=10,t.expandDistance=0,t.className="FunnelSlice",t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.pixelPaddingTop,i=this.pixelPaddingBottom,n=this.pixelPaddingRight,r=this.pixelPaddingLeft,a=this.pixelWidth-n-r,o=this.pixelHeight-t-i,s=this.expandDistance,l="";if("vertical"==this.orientation){var u={x:(a-(y=ii(this.topWidth,a)))/2+r,y:t},d={x:(a+y)/2+r,y:t},c={x:(a+(v=ii(this.bottomWidth,a)))/2+r,y:t+o},h={x:(a-v)/2+r,y:t+o},p={x:d.x+(c.x-d.x)/2+s*o,y:d.y+.5*o},m={x:u.x+(h.x-u.x)/2-s*o,y:u.y+.5*o},f=aa(c),g=aa(u);0!=s&&(f=oa(c,p),g=oa(u,m)),l=ra(u)+aa(d)+f+aa(h)+g,this.tickPoint={x:d.x+(c.x-d.x)/2,y:d.y+(c.y-d.y)/2};}else {var y,v,b={x:r,y:(o-(y=ii(this.topWidth,o)))/2+t},x={x:r,y:(o+y)/2+t},C={x:r+a,y:(o-(v=ii(this.bottomWidth,o)))/2+t},S={x:r+a,y:(o+v)/2+t};p={y:b.y+(C.y-b.y)/2-s*a,x:b.x+.5*a},m={y:x.y+(S.y-x.y)/2+s*a,x:x.x+.5*a},f=aa(C),g=aa(x);0!=s&&(f=oa(C,p),g=oa(x,m)),l=ra(x)+aa(b)+f+aa(S)+g,this.tickPoint={y:x.y+(S.y-x.y)/2,x:x.x+(S.x-x.x)/2};}this.slice.path=l,this.invalidateLayout();},t.prototype.getPoint=function(e,t){var i=this.pixelPaddingTop,n=this.pixelPaddingBottom,r=this.pixelPaddingRight,a=this.pixelPaddingLeft,o=this.pixelWidth-r-a,s=this.pixelHeight-i-n;if("vertical"==this.orientation){var l={x:(o-(h=ii(this.topWidth,o)))/2+a,y:i},u={x:(o+h)/2+a,y:i},d={x:(o+(p=ii(this.bottomWidth,o)))/2+a,y:i+s},c=l.x+({x:(o-p)/2+a,y:i+s}.x-l.x)*t;return {x:c+(u.x+(d.x-u.x)*t-c)*e,y:u.y+(d.y-u.y)*t}}var h,p,m={x:a,y:(s-(h=ii(this.topWidth,s)))/2+i},f={x:a,y:(s+h)/2+i},g={x:a+o,y:(s-(p=ii(this.bottomWidth,s)))/2+i},y=m.y+(g.y-m.y)*e;return {y:y+(f.y+({x:a+o,y:(s+p)/2+i}.y-f.y)*e-y)*t,x:m.x+(g.x-m.x)*e}},Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!0,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandDistance",{get:function(){return this.getPropertyValue("expandDistance")},set:function(e){this.setPropertyValue("expandDistance",e,!0);},enumerable:!0,configurable:!0}),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.slice&&this.slice.copyFrom(t.slice);},t}(Lr);St.registeredClasses.FunnelSlice=yv;var vv=function(e){function t(){var t=e.call(this)||this;return t._label=new Be,t._slice=new Be,t.className="FunnelTick",t.element=t.paper.add("path"),t._disposers.push(t._label),t._disposers.push(t._slice),t.setPropertyValue("locationX",0),t.setPropertyValue("locationY",0),t.applyTheme(),t}return x(t,e),t.prototype.draw=function(){e.prototype.draw.call(this);var t=this.slice,i=t.getPoint(this.locationX,this.locationY);if(i){var n=this.label,r=t.dataItem.component,a=void 0,o=void 0,s=void 0;if("vertical"==r.orientation){var l=n.pixelX,u=n.pixelY;r.labelsOpposite||(l+=n.maxRight),a=Ti(i,t,this.parent),s=Ti({x:l,y:u},n.parent,this.parent),o={x:n.parent.pixelX-this.length,y:s.y},r.labelsOpposite||(o.x=n.parent.measuredWidth+this.length);}else {l=n.pixelX,u=n.pixelY;r.labelsOpposite||(u+=n.maxBottom),a=Ti(i,t,this.parent),o={x:(s=Ti({x:l,y:u},n.parent,this.parent)).x,y:n.parent.pixelY-this.length},r.labelsOpposite||(o.y=n.parent.measuredHeight+this.length);}this.path=ra(a)+aa(o)+aa(s);}},Object.defineProperty(t.prototype,"slice",{get:function(){return this._slice.get()},set:function(e){this._slice.set(e,new Re([e.events.on("transformed",this.invalidate,this,!1),e.events.on("validated",this.invalidate,this,!1)]));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"label",{get:function(){return this._label.get()},set:function(e){this._label.set(e,e.events.on("transformed",this.invalidate,this,!1));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationX",{get:function(){return this.getPropertyValue("locationX")},set:function(e){this.setPropertyValue("locationX",e,!1,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"locationY",{get:function(){return this.getPropertyValue("locationY")},set:function(e){this.setPropertyValue("locationY",e,!1,!0);},enumerable:!0,configurable:!0}),t}(Eg);St.registeredClasses.FunnelTick=vv;var bv=function(e){function t(){var t=e.call(this)||this;return t.className="FunnelSeriesDataItem",t.events.on("visibilitychanged",(function(){t.component&&t.component.invalidateDataItems();}),t,!1),t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"sliceLink",{get:function(){var e=this;if(!this._sliceLink){var t=this.component.sliceLinks.create();this._sliceLink=t,this._disposers.push(t),t.parent=this.component.slicesContainer,this._disposers.push(new Ve((function(){e.component&&e.component.sliceLinks.removeValue(t);}))),this.addSprite(t),t.visible=this.visible;}return this._sliceLink},enumerable:!0,configurable:!0}),t}(yy),xv=function(e){function t(){var t=e.call(this)||this;return t._nextY=0,t.className="FunnelSeries",t.orientation="vertical",t.width=A(100),t.height=A(100),t.slicesContainer.width=A(100),t.slicesContainer.height=A(100),t._disposers.push(t.slicesContainer.events.on("maxsizechanged",t.invalidateDataItems,t,!1)),t.labelsOpposite=!0,t.labelsContainer.layout="absolute",t.bottomRatio=0,t.applyTheme(),t}return x(t,e),t.prototype.createSlice=function(){return new yv},t.prototype.createTick=function(){return new vv},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Funnel Series"));},t.prototype.createDataItem=function(){return new bv},t.prototype.initSlice=function(e){e.isMeasured=!1,e.defaultState.properties.scale=1,e.observe("scale",this.handleSliceScale,this),e.observe(["dx","dy","x","y"],this.handleSliceMove,this),e.tooltipText="{category}: {value.percent.formatNumber('#.#p')} ({value.value})",e.states.create("hover").properties.expandDistance=.2;},t.prototype.initLabel=function(t){e.prototype.initLabel.call(this,t),t.verticalCenter="middle",t.horizontalCenter="middle",t.isMeasured=!0,t.padding(5,5,5,5);},t.prototype.validate=function(){e.prototype.validate.call(this),this._nextY=0;},t.prototype.validateDataElements=function(){var t=this,i=this.slicesContainer,n=this.labelsContainer,r=this.labels.template;this.alignLabels?(r.interactionsEnabled=!0,i.isMeasured=!0,n.isMeasured=!0):(r.interactionsEnabled=!1,i.isMeasured=!1,n.isMeasured=!1);var a=0,o=0;this.dataItems.each((function(e){j(e.value)&&(o++,e.value>0?a+=Math.abs(e.getWorkingValue("value")/e.value):t.ignoreZeroValues||!e.visible||e.__disabled||e.isHiding?o--:a+=1);})),this._total=1/o*a,this._count=o,e.prototype.validateDataElements.call(this),this.arrangeLabels();},t.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");if(t<this.dataItems.length-1){var n=this.dataItems.getIndex(t+1);if(i=n.getWorkingValue("value"),!n.visible||n.isHiding||n.__disabled||0==n.value&&this.ignoreZeroValues)return this.getNextValue(n)}return i},t.prototype.formDataElement=function(){},t.prototype.validateDataElement=function(t){var i=this,n=t.slice;n.orientation=this.orientation;var r=t.sliceLink;r.orientation=this.orientation;var a=t.tick,o=t.label;a.slice=n,a.label=o,j(t.value)?(this.decorateSlice(t),we(t.sprites,(function(e){0==t.value&&i.ignoreZeroValues?e.__disabled=!0:e.__disabled=!1;}))):we(t.sprites,(function(e){e.__disabled=!0;})),t.index==this.dataItems.length-1&&(r.disabled=!0),e.prototype.validateDataElement.call(this,t),r.fill=n.fill;},t.prototype.decorateSlice=function(e){var t=e.slice,i=e.sliceLink,n=e.label,r=e.tick,a=this.slicesContainer.innerWidth,o=this.slicesContainer.innerHeight,s=this.getNextValue(e),l=Math.abs(e.getWorkingValue("value")),u=this.bottomRatio,d=1;if(0!=e.value?d=l/Math.abs(e.value):(e.__disabled||e.isHiding||!e.visible)&&(d=1e-6),this.ignoreZeroValues&&0==e.value)e.__disabled=!0;else if(e.__disabled=!1,this._nextY==1/0&&(this._nextY=0),"vertical"==this.orientation){var c=i.pixelHeight*d;o+=c,t.topWidth=l/this.dataItem.values.value.high*a,t.bottomWidth=(l-(l-s)*u)/this.dataItem.values.value.high*a,i.topWidth=t.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*a,t.y=this._nextY,t.height=Math.min(1e5,te(0,o/this._count*d/this._total-c)),t.x=a/2,this.alignLabels?n.x=void 0:n.x=t.x,n.y=t.pixelY+t.pixelHeight*r.locationY,this._nextY+=t.pixelHeight+c,i.y=this._nextY-c,i.x=t.x;}else {var h=i.pixelWidth*d;a+=h,t.topWidth=l/this.dataItem.values.value.high*o,t.bottomWidth=(l-(l-s)*u)/this.dataItem.values.value.high*o,i.topWidth=t.bottomWidth,i.bottomWidth=(l-(l-s))/this.dataItem.values.value.high*o,t.x=this._nextY,t.width=Math.min(1e5,a/this._count*d*1/this._total-h),t.y=o/2,this.alignLabels?n.y=this.labelsContainer.measuredHeight:n.y=t.y,n.x=t.pixelX+t.pixelWidth*r.locationX,this._nextY+=t.pixelWidth+h,i.x=this._nextY-h,i.y=t.y;}},t.prototype.getLastLabel=function(e){if(e>0){var t=this.labels.getIndex(e);return t.__disabled||!t.visible?this.getLastLabel(e-1):t}},t.prototype.arrangeLabels=function(){if(this.alignLabels){var e=this.labels.length;if(e>1){var t=this.getLastLabel(e-1);if(t){var i=t.pixelY,n=t.pixelX;if(e>1){for(var r=e-2;r>=0;r--){(a=this.labels.getIndex(r)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY+a.measuredHeight>i&&(a.y=Math.min(1e6,i-a.measuredHeight)):a.pixelX+a.measuredWidth>n&&(a.x=Math.min(1e6,n-a.measuredWidth)),i=a.pixelY,n=a.pixelX);}i=0,n=0;for(r=0;r<e;r++){var a;(a=this.labels.getIndex(r)).visible&&!a.__disabled&&(a.invalid&&a.validate(),"vertical"==this.orientation?a.pixelY<i&&(a.y=Math.min(1e6,i)):a.pixelX<n&&(a.x=Math.min(1e6,n)),i+=a.measuredHeight,n+=a.measuredWidth);}}}}}},t.prototype.positionBullet=function(t){e.prototype.positionBullet.call(this,t);var i=t.dataItem.slice,n=t.locationX;W(n)||(n=.5);var r=t.locationY;W(r)||(r=1),t.x=i.pixelX+i.measuredWidth*n,t.y=i.pixelY+i.measuredHeight*r;},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e)&&(this.labelsOpposite=this.labelsOpposite,this.invalidate(),"vertical"==e?(this.ticks.template.locationX=1,this.ticks.template.locationY=.5,this.labels.template.rotation=0,this.layout="horizontal"):(this.ticks.template.locationX=.5,this.ticks.template.locationY=1,this.labels.template.rotation=-90,this.layout="vertical"));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomRatio",{get:function(){return this.getPropertyValue("bottomRatio")},set:function(e){this.setPropertyValue("bottomRatio",e)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sliceLinks",{get:function(){if(!this._sliceLinks){var e=new yv;e.applyOnClones=!0,e.fillOpacity=.5,e.expandDistance=-.3,e.hiddenState.properties.opacity=0,this._disposers.push(e),this._sliceLinks=new At(e),this._disposers.push(new wt(this._sliceLinks));}return this._sliceLinks},enumerable:!0,configurable:!0}),t.prototype.show=function(t){var i=this,n=this.startIndex,r=this.endIndex,a=this.defaultState.transitionDuration;W(t)&&(a=t);var o=0;return ut(ht(this.dataItems.iterator()),(function(e){var t=e[0],s=e[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*t+a*(t-n)/(r-n)),s.show(a,o,["value"]);})),e.prototype.show.call(this,t)},t.prototype.hide=function(t){var i=this,n=["value"],r=this.startIndex,a=this.endIndex,o=0,s=this.hiddenState.transitionDuration;W(t)&&(s=t),ut(ht(this.dataItems.iterator()),(function(e){var t=e[0],l=e[1];i.sequencedInterpolation&&(o=i.sequencedInterpolationDelay*t+s*(t-r)/(a-r)),l.hide(s,o,0,n);}));var l=e.prototype.hide.call(this,t);return l&&!l.isFinished()&&l.delay(o),l},t.prototype.setAlignLabels=function(t){e.prototype.setAlignLabels.call(this,t),this.ticks.template.disabled=!t;var i=this.labelsContainer;i&&(t?(i.height=void 0,i.width=void 0,i.margin(10,10,10,10)):(i.width=A(100),i.height=A(100))),this.labelsOpposite=this.labelsOpposite;},Object.defineProperty(t.prototype,"labelsOpposite",{get:function(){return this.getPropertyValue("labelsOpposite")},set:function(e){this.setPropertyValue("labelsOpposite",e);var t=this.labels.template,i="none",n="none";this.alignLabels?e?(this.labelsContainer.toFront(),"vertical"==this.orientation?(this.ticks.template.locationX=1,t.horizontalCenter="left",i="right"):(this.ticks.template.locationY=1,t.horizontalCenter="right",n="bottom")):(this.labelsContainer.toBack(),"vertical"==this.orientation?(this.ticks.template.locationX=0,i="left"):(n="top",this.ticks.template.locationY=0)):"vertical"==this.orientation?i="center":n="middle",t.align=i,t.valign=n,this.validateLayout(),this.ticks.each((function(e){e.invalidate();})),this.invalidateDataItems();},enumerable:!0,configurable:!0}),t}(vy);St.registeredClasses.FunnelSeries=xv,St.registeredClasses.FunnelSeriesDataItem=bv;var Cv=function(e){function t(){var t=e.call(this)||this;return t.className="PyramidSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(bv),Sv=function(e){function t(){var t=e.call(this)||this;return t.className="PyramidSeries",t.topWidth=A(0),t.bottomWidth=A(100),t.pyramidHeight=A(100),t.valueIs="area",t.sliceLinks.template.width=0,t.sliceLinks.template.height=0,t.applyTheme(),t}return x(t,e),t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"));},t.prototype.createDataItem=function(){return new Cv},t.prototype.validate=function(){e.prototype.validate.call(this),this._nextWidth=void 0;},t.prototype.getNextValue=function(e){var t=e.index,i=e.getWorkingValue("value");t<this.dataItems.length-1&&(i=this.dataItems.getIndex(t+1).getWorkingValue("value"));return 0==i&&(i=1e-6),i},t.prototype.validateDataElements=function(){var t=this,i=this.slicesContainer.innerWidth,n=this.slicesContainer.innerHeight;if(this.dataItems.each((function(e){if(e.value>0){var r=e.getWorkingValue("value")/e.value,a=e.sliceLink;"vertical"==t.orientation?n-=a.pixelHeight*r:i-=a.pixelWidth*r;}})),this._pyramidHeight=ii(this.pyramidHeight,n),this._pyramidWidth=ii(this.pyramidHeight,i),"vertical"==this.orientation){var r=(n-this._pyramidHeight)/2;this.slicesContainer.y=r,this.labelsContainer.y=r,this.ticksContainer.y=r;}else {var a=(i-this._pyramidWidth)/2;this.slicesContainer.x=a,this.labelsContainer.x=a,this.ticksContainer.x=a;}e.prototype.validateDataElements.call(this);},t.prototype.decorateSlice=function(e){var t=this.dataItem.values.value.absoluteSum;if(0!=t){var i=e.slice,n=e.sliceLink,r=e.label,a=e.tick;this.getNextValue(e);var o=Math.abs(e.getWorkingValue("value")),s=this._pyramidWidth,l=this._pyramidHeight,u=this.slicesContainer.innerWidth,d=this.slicesContainer.innerHeight,c=n.pixelWidth,h=n.pixelHeight;if(0!=e.value&&null!=e.value||!this.ignoreZeroValues?e.__disabled=!1:e.__disabled=!0,"vertical"==this.orientation){var p=ii(this.topWidth,u);W(this._nextWidth)||(this._nextWidth=p);var m=ii(this.bottomWidth,u),f=this._nextWidth,g=Math.atan2(l,p-m);0==(C=Math.tan(Math.PI/2-g))&&(C=1e-8);var y=void 0,v=void 0;if("area"==this.valueIs){var b=(p+m)/2*l*o/t,x=Math.abs(f*f-2*b*C);v=(y=(f-Math.sqrt(x))/C)>0?(2*b-y*f)/y:f;}else v=f-(y=l*o/t)*C;i.height=y,i.width=u,i.bottomWidth=v,i.topWidth=f,n.topWidth=i.bottomWidth,n.bottomWidth=i.bottomWidth,i.y=this._nextY,this.alignLabels?r.x=0:r.x=u/2,r.y=i.pixelY+i.pixelHeight*a.locationY+i.dy,this._nextY+=i.pixelHeight+h*o/Math.max(Math.abs(e.value),1e-8),n.y=this._nextY-h,n.x=u/2;}else {p=ii(this.topWidth,d);W(this._nextWidth)||(this._nextWidth=p);var C;m=ii(this.bottomWidth,d),f=this._nextWidth,g=Math.atan2(s,p-m);0==(C=Math.tan(Math.PI/2-g))&&(C=1e-8);var S=void 0;v=void 0;if("area"==this.valueIs)v=(2*(b=(p+m)/2*s*o/t)-(S=(f-Math.sqrt(f*f-2*b*C))/C)*f)/S;else v=f-(S=s*o/t)*C;i.width=S,i.height=d,i.bottomWidth=v,i.topWidth=f,n.topWidth=i.bottomWidth,n.bottomWidth=i.bottomWidth,i.x=this._nextY,this.alignLabels?r.y=this.labelsContainer.measuredHeight:r.y=d/2,r.x=i.pixelX+i.pixelWidth*a.locationX+i.dx,this._nextY+=i.pixelWidth+c*o/Math.max(Math.abs(e.value),1e-8),n.x=this._nextY-c,n.y=d/2;}this._nextWidth=i.bottomWidth;}},Object.defineProperty(t.prototype,"topWidth",{get:function(){return this.getPropertyValue("topWidth")},set:function(e){this.setPercentProperty("topWidth",e,!1,!1,10,!1)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pyramidHeight",{get:function(){return this.getPropertyValue("pyramidHeight")},set:function(e){this.setPercentProperty("pyramidHeight",e,!1,!1,10,!1)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomWidth",{get:function(){return this.getPropertyValue("bottomWidth")},set:function(e){this.setPercentProperty("bottomWidth",e,!1,!1,10,!1)&&this.invalidate();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueIs",{get:function(){return this.getPropertyValue("valueIs")},set:function(e){this.setPropertyValue("valueIs",e)&&this.invalidate();},enumerable:!0,configurable:!0}),t}(xv);St.registeredClasses.PyramidSeries=Sv,St.registeredClasses.PyramidSeriesDataItem=Cv;var _v=function(e){function t(){var t=e.call(this)||this;return t.className="PictorialStackedSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(Cv),Pv=function(e){function t(){var t=e.call(this)||this;return t.className="PictorialStackedSeries",t.topWidth=A(100),t.bottomWidth=A(100),t.valueIs="height",t.applyTheme(),t.startLocation=0,t.endLocation=1,t.align="center",t.valign="middle",t._maskSprite=t.slicesContainer.createChild(Dr),t._maskSprite.visible=!1,t._maskSprite.zIndex=100,t._maskSprite.shouldClone=!1,t}return x(t,e),t.prototype.validateDataElements=function(){var t=this.slicesContainer.maxWidth,i=this.slicesContainer.maxHeight,n=this._maskSprite,r=n.measuredWidth/n.scale,a=n.measuredHeight/n.scale,o=ie(i/a,t/r);o==1/0&&(o=1),o=te(.001,o);var s,l,u=this.startLocation,d=this.endLocation,c=ie(t,r*o),h=ie(i,a*o);n.scale=o,"vertical"==this.orientation?(this.topWidth=c+4,this.bottomWidth=c+4,this.pyramidHeight=h*(d-u),n.x=t/2,n.y=h/2):(this.topWidth=h+4,this.bottomWidth=h+4,this.pyramidHeight=c*(d-u),n.valign="middle",n.x=c/2,n.y=i/2),n.verticalCenter="middle",n.horizontalCenter="middle",e.prototype.validateDataElements.call(this),"vertical"==this.orientation?("bottom"==this.valign&&(s=i-h),"middle"==this.valign&&(s=(i-h)/2),"top"==this.valign&&(s=0),"left"==this.align&&(l=-(t-c)/2),"center"==this.align&&(l=0),"right"==this.align&&(l=(t-c)/2),this.slices.template.dy=u*h,this.alignLabels&&(this.slicesContainer.dx=l)):("bottom"==this.valign&&(s=(i-h)/2),"middle"==this.valign&&(s=0),"top"==this.valign&&(s=-(i-h)/2),"left"==this.align&&(l=0),"center"==this.align&&(l=(t-c)/2),"right"==this.align&&(l=t-c),this.slices.template.dx=u*c,this.alignLabels&&(this.slicesContainer.dy=s)),this.slicesContainer.x=l,this.labelsContainer.x=l,this.ticksContainer.x=l,this.slicesContainer.y=s,this.labelsContainer.y=s,this.ticksContainer.y=s,c>0&&h>0&&(this.slicesContainer.mask=n);},t.prototype.applyInternalDefaults=function(){e.prototype.applyInternalDefaults.call(this),j(this.readerTitle)||(this.readerTitle=this.language.translate("Pyramid Series"));},t.prototype.createDataItem=function(){return new _v},Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},enumerable:!0,configurable:!0}),t.prototype.initSlice=function(t){e.prototype.initSlice.call(this,t);var i=t.states.getKey("hover");i&&(i.properties.expandDistance=0);},Object.defineProperty(t.prototype,"startLocation",{get:function(){return this.getPropertyValue("startLocation")},set:function(e){this.setPropertyValue("startLocation",e)&&this.invalidateDataItems();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endLocation",{get:function(){return this.getPropertyValue("endLocation")},set:function(e){this.setPropertyValue("endLocation",e)&&this.invalidateDataItems();},enumerable:!0,configurable:!0}),t}(Sv);St.registeredClasses.PictorialStackedSeries=Pv,St.registeredClasses.PictorialStackedSeriesDataItem=_v;var wv=function(e){function t(){var t=e.call(this)||this;return t.className="ConeColumn",t}return x(t,e),t.prototype.createAssets=function(){this.coneColumn=this.createChild($a),this.coneColumn.shouldClone=!1,this.column=this.coneColumn;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.coneColumn&&this.coneColumn.copyFrom(t.coneColumn);},t}(Uy);St.registeredClasses.ConeColumn=wv;var Iv=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(qy),Tv=function(e){function t(){var t=e.call(this)||this;return t.className="ConeSeries",t.applyTheme(),t}return x(t,e),t.prototype.createColumnTemplate=function(){return new wv},t.prototype.getMaskPath=function(){var e=0,t=0,i=this.columns.getIndex(0);if(i)return this.baseAxis==this.xAxis?t=i.coneColumn.innerWidth/2+1:e=i.coneColumn.innerHeight/2+1,ha({x:-e,y:0,width:this.xAxis.axisLength+e,height:this.yAxis.axisLength+t})},t.prototype.validateDataElementReal=function(t){if(e.prototype.validateDataElementReal.call(this,t),t.column){var i=t.column.coneColumn;i.fill=t.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical";}},t}($y);St.registeredClasses.ConeSeries=Tv,St.registeredClasses.ConeSeriesDataItem=Iv;var Av=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumn",t}return x(t,e),t.prototype.createAssets=function(){this.curvedColumn=this.createChild(Dr),this.curvedColumn.shouldClone=!1,this.setPropertyValue("tension",.7),this.width=A(120),this.height=A(120),this.column=this.curvedColumn;},t.prototype.draw=function(){e.prototype.draw.call(this);var t,i=this.realWidth,n=this.realHeight,r=this.realX-this.pixelX,a=this.realY-this.pixelY;this.width;var o=1,s=1;"vertical"==this.orientation?(o=this.tension,t=[{x:0,y:n+a},{x:i/2,y:a},{x:i,y:n+a}]):(s=this.tension,t=[{x:r,y:n=Math.abs(n)},{x:r+i,y:n/2},{x:r,y:0}]);var l=ra(t[0])+new Fa(o,s).smooth(t);this.column.path=l;},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.curvedColumn&&this.curvedColumn.copyFrom(t.curvedColumn);},Object.defineProperty(t.prototype,"tension",{get:function(){return this.getPropertyValue("tension")},set:function(e){this.setPropertyValue("tension",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.getPropertyValue("orientation")},set:function(e){this.setPropertyValue("orientation",e,!0);},enumerable:!0,configurable:!0}),t}(Uy);St.registeredClasses.CurvedColumn=Av;var Ov=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumnSeriesDataItem",t.applyTheme(),t}return x(t,e),t}(qy),kv=function(e){function t(){var t=e.call(this)||this;return t.className="CurvedColumnSeries",t.applyTheme(),t}return x(t,e),t.prototype.createColumnTemplate=function(){return new Av},t.prototype.validateDataElementReal=function(t){e.prototype.validateDataElementReal.call(this,t);var i=t.column;(i=t.column)&&(t.column.curvedColumn.fill=t.column.fill,this.baseAxis==this.yAxis?i.orientation="horizontal":i.orientation="vertical");},t}($y);St.registeredClasses.CurvedColumnSeries=kv,St.registeredClasses.CurvedColumnSeriesDataItem=Ov;var Fv=function(e){function t(){var t=e.call(this)||this;t.className="CircleBullet";var i=t.createChild(Zr);return i.shouldClone=!1,i.radius=5,i.isMeasured=!1,t.circle=i,t.applyTheme(),t}return x(t,e),t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.circle.copyFrom(t.circle);},t}(bg);St.registeredClasses.CircleBullet=Fv;var Dv=function(e){function t(){var t=e.call(this)||this;return t.className="ErrorBullet",t.errorLine=t.createChild(Dr),t.errorLine.shouldClone=!1,t.width=20,t.height=20,t.strokeOpacity=1,t.isDynamic=!0,t}return x(t,e),t.prototype.validatePosition=function(){e.prototype.validatePosition.call(this);var t=this.pixelWidth/2,i=this.pixelHeight/2;this.errorLine.path=ra({x:-t,y:-i})+aa({x:t,y:-i})+ra({x:0,y:-i})+aa({x:0,y:i})+ra({x:-t,y:i})+aa({x:t,y:i});},t.prototype.copyFrom=function(t){e.prototype.copyFrom.call(this,t),this.errorLine.copyFrom(t.errorLine);},t}(bg);St.registeredClasses.ErrorBullet=Dv;var Mv=function(e){function t(){var t=e.call(this)||this;return t.className="NavigationBarDataItem",t.applyTheme(),t}return x(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this.properties.name},set:function(e){this.setProperty("name",e);},enumerable:!0,configurable:!0}),t}($r),Lv=function(e){function t(){var t=e.call(this)||this;t.className="NavigationBar";var i=new Fn,n=new wa;n.valign="middle",n.paddingTop=8,n.paddingBottom=8,t.paddingBottom=2,t.links=new At(n),t._disposers.push(new wt(t.links)),t._disposers.push(n),t._linksIterator=new mt(t.links,(function(){return t.links.create()})),t._linksIterator.createNewItems=!0;var r=new ka;r.direction="right",r.width=8,r.height=12,r.fill=i.getFor("alternativeBackground"),r.fillOpacity=.5,r.valign="middle",r.marginLeft=10,r.marginRight=10,t.separators=new At(r),t._disposers.push(new wt(t.separators)),t._disposers.push(r);var a=new wa;return t.activeLink=a,a.copyFrom(n),a.valign="middle",a.fontWeight="bold",t.width=A(100),t.layout="grid",t.dataFields.name="name",t.applyTheme(),t}return x(t,e),t.prototype.validateDataElements=function(){this.removeChildren(),this._linksIterator.reset(),e.prototype.validateDataElements.call(this);},t.prototype.validateDataElement=function(t){var i;if(e.prototype.validateDataElement.call(this,t),t.index<this.dataItems.length-1){(i=this._linksIterator.getLast()).parent=this;var n=this.separators.create();n.parent=this,n.valign="middle";}else (i=this.activeLink).events.copyFrom(this.links.template.events),i.hide(0),i.show(),i.parent=this;i.dataItem=t,i.text=t.name,i.validate();},t}(Yr);St.registeredClasses.NavigationBar=Lv,St.registeredClasses.NavigationBarDataItem=Mv;var Ev=function(e){function t(){var t=e.call(this)||this;t.point={x:0,y:0},t._stick="none",t.className="Cursor",t.width=A(100),t.height=A(100),t.shouldClone=!1,t.hide(0),t.trackable=!0,t.clickable=!0,t.isMeasured=!1;var i=Kn();return t._disposers.push(i.body.events.on("down",t.handleCursorDown,t)),t._disposers.push(i.body.events.on("up",t.handleCursorUp,t)),t._disposers.push(i.body.events.on("track",t.handleCursorMove,t)),t.applyTheme(),t}return x(t,e),t.prototype.handleCursorMove=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)){if(("zoom"==this._generalBehavior||"pan"==this._generalBehavior)&&this.downPoint||Kn().isLocalElement(e.pointer,this.paper.svg,this.uid)){var t=Fi(e.pointer.point,this);return "hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),"soft"==this._stick&&this._stickPoint&&(this.fitsToBounds(t)||(t=this._stickPoint)),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.triggerMove(t),t}this.isHidden&&this.isHiding||this.hide();}},t.prototype.hideReal=function(t){if("hard"!=this._stick&&"soft"!=this._stick||!this._stickPoint)return e.prototype.hideReal.call(this,t)},t.prototype.triggerMove=function(e,t,i){e.x=K(e.x,1),e.y=K(e.y,1),t&&(this._stick=t),"hard"!=t&&"soft"!=t||(this._stickPoint=e),this.triggerMoveReal(e,i);},t.prototype.triggerMoveReal=function(e,t){(this.point.x!=e.x||this.point.y!=e.y||t)&&(this.point=e,this.invalidatePosition(),this.fitsToBounds(e)?this.show(0):this.downPoint||this.hide(0),this.visible&&(this.getPositions(),this.dispatch("cursorpositionchanged")));},t.prototype.triggerDown=function(e){this.triggerDownReal(e);},t.prototype.triggerDownReal=function(e){switch(this._generalBehavior){case"zoom":this.dispatchImmediately("zoomstarted");break;case"select":this.dispatchImmediately("selectstarted");break;case"pan":this.dispatchImmediately("panstarted"),Kn().setGlobalStyle(hr.grabbing);}},t.prototype.triggerUp=function(e){this.triggerUpReal(e);},t.prototype.triggerUpReal=function(e){jr.requestFrame(),this.updatePoint(this.upPoint);var t=Kn();if(ae(this._upPointOrig,this._downPointOrig)>t.getHitOption(this.interactions,"hitTolerance")){switch(this._generalBehavior){case"zoom":this.dispatch("zoomended");break;case"select":this.dispatch("selectended");break;case"pan":this.dispatch("panended"),t.setGlobalStyle(hr.default);}this.downPoint=void 0,this.updateSelection();}},t.prototype.updateSelection=function(){},t.prototype.getPositions=function(){this.xPosition=this.point.x/this.innerWidth,this.yPosition=1-this.point.y/this.innerHeight;},t.prototype.handleCursorDown=function(e){if(!(!this.interactionsEnabled||this.interactions.isTouchProtected&&e.touch)&&Kn().isLocalElement(e.pointer,this.paper.svg,this.uid)){xn();var t=Fi(e.pointer.point,this);"hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._adapterO&&this._adapterO.apply("cursorPoint",t),this.fitsToBounds(t)&&(this._downPointOrig={x:t.x,y:t.y},e.event.cancelable&&this.shouldPreventGestures(e.touch)&&this.fitsToBounds(t)&&e.event.preventDefault(),this.triggerMove(t),this.triggerDown(t));}},t.prototype.shouldPreventGestures=function(e){return !0},t.prototype.updatePoint=function(e){},t.prototype.handleCursorUp=function(e){if(this.interactionsEnabled&&(this.downPoint||Kn().isLocalElement(e.pointer,this.paper.svg,this.uid))){var t=Fi(e.pointer.point,this);this._adapterO&&this._adapterO.apply("cursorPoint",t),this.downPoint&&this.fitsToBounds(this.downPoint)&&("hard"==this._stick&&this._stickPoint&&(t=this._stickPoint),this._upPointOrig={x:t.x,y:t.y},this.triggerMove(t),this.triggerUp(t));}},Object.defineProperty(t.prototype,"chart",{get:function(){return this._chart},set:function(e){this._chart=e,j(this._chart.plotContainer)&&Kn().lockElement(this._chart.plotContainer.interactions);},enumerable:!0,configurable:!0}),t}(Lr);St.registeredClasses.Cursor=Ev;var jv=function(e){function t(){var t=e.call(this)||this;t._lineX=new Be,t._lineY=new Be,t._xAxis=new Be,t._yAxis=new Be,t._snapToDisposers=[],t.className="XYCursor",t.behavior="zoomX",t.maxPanOut=.1;var i=new Fn;t.snapOnPan=!0;var n=t.createChild(Dr);n.shouldClone=!1,n.fillOpacity=.2,n.fill=i.getFor("alternativeBackground"),n.isMeasured=!1,n.visible=!1,n.interactionsEnabled=!1,t.selection=n,t._disposers.push(t.selection);var r=t.createChild(Dr);r.shouldClone=!1,r.stroke=i.getFor("grid"),r.fill=Yt(),r.strokeDasharray="3,3",r.isMeasured=!1,r.strokeOpacity=.4,r.interactionsEnabled=!1,r.y=0,t.lineX=r,t._disposers.push(t.lineX);var a=t.createChild(Dr);return a.shouldClone=!1,a.stroke=i.getFor("grid"),a.fill=Yt(),a.strokeDasharray="3,3",a.isMeasured=!1,a.strokeOpacity=.4,a.interactionsEnabled=!1,a.x=0,t.lineY=a,t._disposers.push(t.lineY),t.events.on("sizechanged",t.updateSize,t,!1),t._disposers.push(t._lineX),t._disposers.push(t._lineY),t._disposers.push(t._xAxis),t._disposers.push(t._yAxis),t.mask=t,t.hideSeriesTooltipsOnSelection=!0,t.applyTheme(),t}return x(t,e),t.prototype.updateSize=function(){this.lineX&&(this.lineX.path=ra({x:0,y:0})+aa({x:0,y:this.innerHeight})),this.lineY&&(this.lineY.path=ra({x:0,y:0})+aa({x:this.innerWidth,y:0}));},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint,t=this.behavior;if(e){var i=this.point;this.lineX&&(i.x=this.lineX.pixelX),this.lineY&&(i.y=this.lineY.pixelY);var n=this.selection,r=Math.min(i.x,e.x),a=Math.min(i.y,e.y),o=K(Math.abs(e.x-i.x),this._positionPrecision),s=K(Math.abs(e.y-i.y),this._positionPrecision);switch(t){case"zoomX":case"selectX":a=0,s=this.pixelHeight;break;case"zoomY":case"selectY":r=0,o=this.pixelWidth;}n.x=r,n.y=a,n.path=ca(o,s),n.validatePosition();}else "select"!=this._generalBehavior&&this.selection.hide();}},t.prototype.fixPoint=function(e){return e.x=Math.max(0,e.x),e.y=Math.max(0,e.y),e.x=Math.min(this.pixelWidth,e.x),e.y=Math.min(this.pixelHeight,e.y),e},t.prototype.triggerMoveReal=function(t,i){e.prototype.triggerMoveReal.call(this,t,i);var n=this.snapToSeries;if(n&&!this.downPoint)if(n instanceof Jg)n.isHidden&&this.updateLinePositions(t);else {var r=!0;we(n,(function(e){e.isHidden||(r=!1);})),r&&this.updateLinePositions(t);}else this.updateLinePositions(t);this.downPoint&&ae(this.downPoint,t)>3&&"pan"==this._generalBehavior&&(this.getPanningRanges(),this.dispatch("panning"));},t.prototype.updateLinePositions=function(e){e=this.fixPoint(this.point),this.lineX&&this.lineX.visible&&!this.xAxis&&(this.lineX.x=e.x),this.lineY&&this.lineY.visible&&!this.yAxis&&(this.lineY.y=e.y),this.updateSelection();},t.prototype.triggerDownReal=function(t){if(this.visible&&!this.isHiding)if("select"==this._generalBehavior&&(this.selection.parent=this.parent),this.fitsToBounds(t)){this.downPoint={x:t.x,y:t.y},this.updatePoint(t),this.point.x=this.downPoint.x,this.point.y=this.downPoint.y;var i=this.selection,n=this.downPoint.x,r=this.downPoint.y;this._usesSelection&&(i.x=n,i.y=r,i.path="",i.show()),e.prototype.triggerDownReal.call(this,t);}else this.downPoint=void 0;else this.downPoint=void 0;},t.prototype.updatePoint=function(e){this.lineX&&(e.x=this.lineX.pixelX),this.lineY&&(e.y=this.lineY.pixelY);},t.prototype.triggerUpReal=function(t){if(this.hasMoved())this.downPoint&&(this.upPoint=t,this.updatePoint(this.upPoint),"pan"!=this._generalBehavior&&this.getRanges(),"select"!=this._generalBehavior&&this.selection.hide(),e.prototype.triggerUpReal.call(this,t));else {if("select"!=this._generalBehavior?this.selection.hide(0):(this.xRange=void 0,this.yRange=void 0,this.dispatchImmediately("selectended")),"pan"==this._generalBehavior)Kn().setGlobalStyle(hr.default);this.dispatchImmediately("behaviorcanceled");}this.downPoint=void 0,this.dispatch("cursorpositionchanged");},t.prototype.hasMoved=function(){var e,t,i;return "zoomX"==this.behavior||"panX"==this.behavior?(t=this._upPointOrig,i=this._downPointOrig,e=t?(i||(i={x:0,y:0}),Math.abs(t.x-i.x)):0):e="zoomY"==this.behavior||"panY"==this.behavior?function(e,t){return e?(t||(t={x:0,y:0}),Math.abs(e.y-t.y)):0}(this._upPointOrig,this._downPointOrig):ae(this._upPointOrig,this._downPointOrig),e>Kn().getHitOption(this.interactions,"hitTolerance")},t.prototype.getPanningRanges=function(){var e=K(this.downPoint.x/this.innerWidth,5),t=1-K(this.downPoint.y/this.innerHeight,5),i=e-K(this.point.x/this.innerWidth,5),n=t-(1-K(this.point.y/this.innerHeight,5));this.xRange={start:i,end:1+i},this.yRange={start:n,end:1+n},"panX"==this.behavior&&(this.yRange.start=0,this.yRange.end=1),"panY"==this.behavior&&(this.xRange.start=0,this.xRange.end=1);},t.prototype.getRanges=function(){this.lineX&&(this.upPoint.x=this.lineX.pixelX),this.lineY&&(this.upPoint.y=this.lineY.pixelY),this.selection;var e=K(this.downPoint.x/this.innerWidth,5),t=K(this.upPoint.x/this.innerWidth,5),i=1-K(this.downPoint.y/this.innerHeight,5),n=1-K(this.upPoint.y/this.innerHeight,5);this.xRange={start:ie(e,t),end:te(e,t)},this.yRange={start:ie(i,n),end:te(i,n)};},Object.defineProperty(t.prototype,"behavior",{get:function(){return this.getPropertyValue("behavior")},set:function(e){this.setPropertyValue("behavior",e,!0),this._usesSelection=!1,-1!=e.indexOf("zoom")&&(this._generalBehavior="zoom",this._usesSelection=!0),-1!=e.indexOf("select")&&(this._generalBehavior="select",this._usesSelection=!0),-1!=e.indexOf("pan")&&(this._generalBehavior="pan",this._usesSelection=!1);},enumerable:!0,configurable:!0}),t.prototype.shouldPreventGestures=function(e){return !(this.interactions.isTouchProtected&&e||"none"==this.behavior)},Object.defineProperty(t.prototype,"fullWidthLineX",{get:function(){return this.getPropertyValue("fullWidthLineX")},set:function(e){this.setPropertyValue("fullWidthLineX",e),e||this.updateSize();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullWidthLineY",{get:function(){return this.getPropertyValue("fullWidthLineY")},set:function(e){this.setPropertyValue("fullWidthLineY",e),e||this.updateSize();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideSeriesTooltipsOnSelection",{get:function(){return this.getPropertyValue("hideSeriesTooltipsOnSelection")},set:function(e){this.setPropertyValue("hideSeriesTooltipsOnSelection",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTooltipDistance",{get:function(){return this.getPropertyValue("maxTooltipDistance")},set:function(e){this.setPropertyValue("maxTooltipDistance",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxPanOut",{get:function(){return this.getPropertyValue("maxPanOut")},set:function(e){this.setPropertyValue("maxPanOut",e);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xAxis",{get:function(){return this._xAxis.get()},set:function(e){var t=this;this._xAxis.get()!=e&&this._xAxis.set(e,new Re([e.tooltip.events.on("positionchanged",this.handleXTooltipPosition,this,!1),e.events.on("rangechangestarted",(function(e){t.hide(0),t.preventShow=!0;}),void 0,!1),e.events.on("rangechangeended",(function(e){t.preventShow=!1,t.hide(0),t.dispatch("cursorpositionchanged");}),void 0,!1)]));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxis",{get:function(){return this._yAxis.get()},set:function(e){var t=this;this._yAxis.get()!=e&&this._yAxis.set(e,new Re([e.tooltip.events.on("positionchanged",this.handleYTooltipPosition,this,!1),e.events.on("rangechangestarted",(function(e){t.hide(0),t.__disabled=!0;}),void 0,!1),e.events.on("rangechangeended",(function(e){t.__disabled=!1,t.hide(0),t.dispatch("cursorpositionchanged");}),void 0,!1)]));},enumerable:!0,configurable:!0}),t.prototype.handleXTooltipPosition=function(e){var t=this.xAxis.tooltip,i=wi({x:t.pixelX,y:t.pixelY},this),n=i.x;if(i.y=1,this.lineX&&(this.lineX.x=n,this.fitsToBounds(i)||this.hide()),this.xAxis&&this.fullWidthLineX){var r=this.xAxis.currentItemStartPoint,a=this.xAxis.currentItemEndPoint;if(r&&a){this.lineX.x=n;var o=a.x-r.x;this.lineX.path=ca(o,this.innerHeight,-o/2);}}},t.prototype.handleYTooltipPosition=function(e){var t=this.yAxis.tooltip,i=wi({x:t.pixelX,y:t.pixelY},this),n=i.y;if(i.x=1,this.lineY&&(this.lineY.y=n,this.fitsToBounds(i)||this.hide()),this.yAxis&&this.fullWidthLineY){var r=this.yAxis.currentItemStartPoint,a=this.yAxis.currentItemEndPoint;if(r&&a){this.lineY.y=n;var o=a.y-r.y;this.lineY.path=ca(this.innerWidth,o,0,-o/2);}}},Object.defineProperty(t.prototype,"lineX",{get:function(){return this._lineX.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineX.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.interactionsEnabled=!1,e.parent=this):this._lineX.reset();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineY",{get:function(){return this._lineY.get()},set:function(e){e?(e.setElement(this.paper.add("path")),this._lineY.set(e,e.events.on("positionchanged",this.updateSelection,this,!1)),e.parent=this,e.interactionsEnabled=!1):this._lineY.reset();},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},set:function(e){this._selection=e,e&&(e.element=this.paper.add("path"),e.parent=this);},enumerable:!0,configurable:!0}),t.prototype.processConfig=function(t){var i=this;if(t&&(j(t.xAxis)&&N(t.xAxis)&&(this.map.hasKey(t.xAxis)?t.xAxis=this.map.getKey(t.xAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.xAxis+'" found for `xAxis`'),delete t.xAxis)),j(t.yAxis)&&N(t.yAxis)&&(this.map.hasKey(t.yAxis)?t.yAxis=this.map.getKey(t.yAxis):(this.processingErrors.push('[XYCursor] No axis with id "'+t.yAxis+'" found for `yAxis`'),delete t.yAxis)),j(t.snapToSeries))){var n=H(t.snapToSeries)?t.snapToSeries:[t.snapToSeries],r=!1;we(n,(function(e,t){N(e)&&(i.map.hasKey(e)?n[t]=i.map.getKey(e):(i.processingErrors.push('[XYCursor] No series with id "'+e+'" found for `series`'),r=!0));})),r?delete t.snapToSeries:t.snapToSeries=n;}e.prototype.processConfig.call(this,t);},Object.defineProperty(t.prototype,"snapToSeries",{get:function(){return this.getPropertyValue("snapToSeries")},set:function(e){var t=this;this.setPropertyValue("snapToSeries",e)&&(e instanceof Jg&&(e=[e]),this._snapToDisposers&&we(this._snapToDisposers,(function(e){e.dispose();})),this._snapToDisposers=[],e&&we(e,(function(e){t._snapToDisposers.push(e.events.on("tooltipshownat",(function(){t.handleSnap(e);}),void 0,!1));})));},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapOnPan",{get:function(){return this.getPropertyValue("snapOnPan")},set:function(e){this.setPropertyValue("snapOnPan",e);},enumerable:!0,configurable:!0}),t.prototype.handleSnap=function(e){if(!this.downPoint){var t=e.getTooltipX()+e.xAxis.pixelX,i=e.getTooltipY()+e.yAxis.pixelY,n=e.xAxis,r=e.yAxis;n&&n.renderer.opposite&&(i-=this.pixelHeight),this.point={x:t,y:i},this.getPositions();var a=t,o=i;t-=this.pixelWidth,r&&r.renderer.opposite&&(t+=this.pixelWidth);var s=e.tooltip,l=s.animationDuration,u=s.animationEasing;n instanceof zg&&!(n instanceof Ug)&&r instanceof zg&&!(r instanceof Ug)?(e.yAxis.showTooltipAtPosition(this.yPosition),e.xAxis.showTooltipAtPosition(this.xPosition)):(e.baseAxis==e.xAxis&&e.yAxis.showTooltipAtPosition(this.yPosition),e.baseAxis==e.yAxis&&e.xAxis.showTooltipAtPosition(this.xPosition)),this.lineY.x=t,this.lineX.y=i,this.xAxis||this.lineX.animate([{property:"x",to:a}],l,u),this.yAxis||this.lineY.animate([{property:"y",to:o}],l,u);}},t.prototype.dispose=function(){this.hide(0),e.prototype.dispose.call(this);},t}(Ev);St.registeredClasses.XYCursor=jv;var Vv=function(e){function t(){var t=e.call(this)||this;return t.className="RadarCursor",t.radius=A(100),t.innerRadius=A(0),t.applyTheme(),t.mask=void 0,t}return x(t,e),t.prototype.fitsToBounds=function(e){var t=ae(e);return t<this.truePixelRadius+1&&t>this.pixelInnerRadius-1},Object.defineProperty(t.prototype,"startAngle",{get:function(){return this.getPropertyValue("startAngle")},set:function(e){this.setPropertyValue("startAngle",e,!0);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this.getPropertyValue("endAngle")},set:function(e){this.setPropertyValue("endAngle",e,!0);},enumerable:!0,configurable:!0}),t.prototype.triggerMoveReal=function(t,i){this.xAxis&&(!this.xAxis||this.xAxis.cursorTooltipEnabled&&!this.xAxis.tooltip.disabled)||this.updateLineX(this.point),this.yAxis&&(!this.yAxis||this.yAxis.cursorTooltipEnabled&&!this.yAxis.tooltip.disabled)||this.updateLineY(this.point),this.updateSelection(),e.prototype.triggerMoveReal.call(this,t,i);},t.prototype.updateLineX=function(e){var t=this.pixelRadius,i=this.startAngle,n=this.endAngle,r=this.pixelInnerRadius;if(t>0&&W(i)&&W(n)&&W(r)){var a=ve(ue(e),i,n),o=void 0;if(this.lineX&&this.lineX.visible){if(this.lineX.moveTo({x:0,y:0}),this.xAxis&&this.fullWidthLineX){var s=this.xAxis.currentItemStartPoint,l=this.xAxis.currentItemEndPoint;if(s&&l){var u=ve(ue(s),i,n),d=ve(ue(l),i,n)-u;i<n?d<0&&(d+=360):d>0&&(d-=360),o=ra({x:r*ee(a-=d/2),y:r*Z(a)})+aa({x:t*ee(a),y:t*Z(a)})+la(a,d,t)+aa({x:r*ee(a+d),y:r*Z(a+d)})+la(a+d,-d,r);}}o||(o=ra({x:r*ee(a),y:r*Z(a)})+aa({x:t*ee(a),y:t*Z(a)})),this.lineX.path=o;}}},t.prototype.updateLineY=function(e){if(this.lineY&&this.lineY.visible){var t=this.startAngle,i=this.endAngle,n=this.truePixelRadius,r=J(ae(e),0,this.truePixelRadius);if(W(r)&&W(t)){this.lineY.moveTo({x:0,y:0});var a=void 0,o=i-t;if(this.yAxis&&this.fullWidthLineY){var s=this.yAxis.currentItemStartPoint,l=this.yAxis.currentItemEndPoint;if(s&&l){var u=J(ae(s),0,n);a=ra({x:(r=J(ae(l),0,n))*ee(t),y:r*Z(t)})+la(t,o,r),a+=ra({x:u*ee(i),y:u*Z(i)})+la(i,-o,u);}}a||(a=ra({x:r*ee(t),y:r*Z(t)})+la(t,i-t,r)),this.lineY.path=a;}}},t.prototype.updateSelection=function(){if(this._usesSelection){var e=this.downPoint;if(e){var t=this.point,i=this.pixelRadius,n=this.truePixelRadius,r=this.pixelInnerRadius,a=Math.min(this.startAngle,this.endAngle),o=Math.max(this.startAngle,this.endAngle),s=ve(ue(e),a,o),l=ve(ue(t),a,o),u=ae(e);if(u<n){var d=J(ae(t),0,n);this._prevAngle=l;var c=ra({x:0,y:0}),h=Z(s),p=ee(s),m=Z(l),f=ee(l),g=this.behavior;"zoomX"==g||"selectX"==g?c+=aa({x:i*p,y:i*h})+la(s,l-s,i)+aa({x:r*f,y:r*m})+la(l,s-l,r):"zoomY"==g||"selectY"==g?c=ra({x:d*ee(a),y:d*Z(a)})+la(a,o-a,d)+aa({x:u*ee(o),y:u*Z(o)})+la(o,a-o,u)+" Z":"zoomXY"==g&&(c=ra({x:d*ee(s),y:d*Z(s)})+la(s,l-s,d)+aa({x:u*ee(l),y:u*Z(l)})+la(l,s-l,u)+" Z"),this.selection.path=c;}this.selection.moveTo({x:0,y:0});}}},t.prototype.getPositions=function(){if(this.chart){var e=this.pixelInnerRadius,t=this.truePixelRadius-e,i=this.startAngle,n=this.endAngle,r=(ve(ue(this.point),i,n)-i)/(n-i);this.xPosition=r,this.yPosition=J((ae(this.point)-e)/t,0,1);}},t.prototype.updatePoint=function(e){},t.prototype.handleXTooltipPosition=function(e){if(this.xAxis.cursorTooltipEnabled){var t=this.xAxis.tooltip;this.updateLineX(wi({x:t.pixelX,y:t.pixelY},this));}},t.prototype.handleYTooltipPosition=function(e){if(this.yAxis.cursorTooltipEnabled){var t=this.yAxis.tooltip;this.updateLineY(wi({x:t.pixelX,y:t.pixelY},this));}},t.prototype.updateLinePositions=function(e){},t.prototype.getRanges=function(){var e=this.downPoint;if(e){var t=this.upPoint;if(this.chart){var i=this.pixelRadius,n=this.startAngle,r=this.endAngle,a=ve(ue(e),this.startAngle,this.endAngle),o=ve(ue(t),this.startAngle,this.endAngle),s=J(ae(e),0,i),l=J(ae(t),0,i),u=0,d=1,c=0,h=1,p=this.behavior;if("zoomX"==p||"selectX"==p||"zoomXY"==p||"selectXY"==p){var m=r-n;u=K((a-n)/m,5),d=K((o-n)/m,5);}"zoomY"!=p&&"selectY"!=p&&"zoomXY"!=p&&"selectXY"!=p||(c=K(s/i,5),h=K(l/i,5)),this.xRange={start:Math.min(u,d),end:Math.max(u,d)},this.yRange={start:Math.min(c,h),end:Math.max(c,h)},"selectX"==this.behavior||"selectY"==this.behavior||"selectXY"==this.behavior||this.selection.hide();}}},t.prototype.updateSize=function(){},Object.defineProperty(t.prototype,"radius",{get:function(){return this.getPropertyValue("radius")},set:function(e){this.setPercentProperty("radius",e,!1,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelRadius",{get:function(){return ni(this.radius,this.truePixelRadius)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"truePixelRadius",{get:function(){return ii(A(100),ie(this.innerWidth/2,this.innerHeight/2))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this.getPropertyValue("innerRadius")},set:function(e){this.setPercentProperty("innerRadius",e,!1,!1,10,!1);},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixelInnerRadius",{get:function(){var e=this.innerRadius;return e instanceof T&&(e=A(100*e.value*this.chart.innerRadiusModifyer)),ni(e,this.truePixelRadius)||0},enumerable:!0,configurable:!0}),t.prototype.fixPoint=function(e){return e},t}(jv);St.registeredClasses.RadarCursor=Vv;var Rv=function(e){_t(e,"SpriteState")&&(e.transitionDuration=400),_t(e,"Component")&&(e.rangeChangeDuration=500,e.interpolationDuration=500,e.sequencedInterpolation=!1,_t(e,"SankeyDiagram")&&(e.sequencedInterpolation=!0),_t(e,"FunnelSeries")&&(e.sequencedInterpolation=!0)),_t(e,"Chart")&&(e.defaultState.transitionDuration=2e3,e.hiddenState.transitionDuration=1e3),_t(e,"Tooltip")&&(e.animationDuration=400,e.defaultState.transitionDuration=400,e.hiddenState.transitionDuration=400),_t(e,"Scrollbar")&&(e.animationDuration=500),_t(e,"Series")&&(e.defaultState.transitionDuration=1e3,e.hiddenState.transitionDuration=700,e.hiddenState.properties.opacity=1,e.showOnInit=!0),_t(e,"MapSeries")&&(e.hiddenState.properties.opacity=0),_t(e,"PercentSeries")&&(e.hiddenState.properties.opacity=0),_t(e,"FunnelSlice")&&(e.defaultState.transitionDuration=800,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),_t(e,"Slice")&&(e.defaultState.transitionDuration=700,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),_t(e,"Preloader")&&(e.hiddenState.transitionDuration=2e3),_t(e,"Column")&&(e.defaultState.transitionDuration=700,e.hiddenState.transitionDuration=1e3,e.hiddenState.properties.opacity=1),_t(e,"Column3D")&&(e.hiddenState.properties.opacity=0);};const Bv="esriFieldTypeDouble",Nv="count",Wv="sum",zv="min",Hv="max",Gv="avg",Uv="stddev",qv="var",$v="percentile_cont",Yv="percentile_disc",Kv="envelope-aggregate",Xv="no_aggregation",Jv="esriSLSDash",Zv="esriSLSDashDot",Qv="esriSLSDashDotDot",eb="esriSLSDot",tb="esriSLSNull",ib="esriSLSSolid",nb="esriSMSCircle",rb="esriSMSCross",ab="esriSMSDiamond",ob="esriSMSSquare",sb="esriSMSX",lb="esriSMSTriangle",ub="esriSFSBackwardDiagonal",db="esriSFSCross",cb="esriSFSDiagonalCross",hb="esriSFSForwardDiagonal",pb="esriSFSHorizontal",mb="esriSFSVertical",fb="left",gb="right",yb="center",vb="justify",bb="baseline",xb="top",Cb="middle",Sb="bottom",_b="esriSLS",Pb="esriSMS",wb="esriSFS",Ib="esriTS",Tb="unique-value",Ab="simple",Ob="pie-chart",kb="chartText",Fb="chartOverlay",Db="category",Mb="number",Lb="date",Eb="chartGuide",jb="scatterSeries",Vb="pieSeries",Rb="gaugeSeries",Bb="lineSeries",Nb="barSeries",Wb="histogramSeries",zb="comboLineAndBarSeries",Hb="none",Gb="logarithmic",Ub="squareRoot",qb="colorMatch",$b="left",Yb="right",Kb="top",Xb="bottom",Jb="sideBySide",Zb="stacked",Qb="stacked100",ex={Ascending:"ASC",Descending:"DESC"},tx="inline",ix="layer",nx={statisticType:Nv,sortingOrder:ex.Ascending},rx="bezier",ax="monotoneX",ox="monotoneY",sx="esriTimeUnitsSeconds",lx="esriTimeUnitsMinutes",ux="esriTimeUnitsHours",dx="esriTimeUnitsDays",cx="esriTimeUnitsWeeks",hx="esriTimeUnitsMonths",px="esriTimeUnitsYears",mx="null",fx="zero",gx="interpolate",yx="equalIntervalsFromEndTime",vx="none",bx="rotate",xx="stagger",Cx="wrap",Sx="value",_x="date",Px="category",wx="linear",Ix="logarithmic",Tx="originalValue",Ax="arcgis_charts_pie_from_fields_name",Ox="arcgis_charts_pie_from_fields_value";var kx="object"==typeof global&&global&&global.Object===Object&&global,Fx="object"==typeof self&&self&&self.Object===Object&&self,Dx=kx||Fx||Function("return this")(),Mx=Dx.Symbol,Lx=Object.prototype,Ex=Lx.hasOwnProperty,jx=Lx.toString,Vx=Mx?Mx.toStringTag:void 0;var Rx=Object.prototype.toString;var Bx=Mx?Mx.toStringTag:void 0;function Nx(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Bx&&Bx in Object(e)?function(e){var t=Ex.call(e,Vx),i=e[Vx];try{e[Vx]=void 0;var n=!0;}catch(e){}var r=jx.call(e);return n&&(t?e[Vx]=i:delete e[Vx]),r}(e):function(e){return Rx.call(e)}(e)}function Wx(e){return null!=e&&"object"==typeof e}function zx(e){return "symbol"==typeof e||Wx(e)&&"[object Symbol]"==Nx(e)}function Hx(e,t){for(var i=-1,n=null==e?0:e.length,r=Array(n);++i<n;)r[i]=t(e[i],i,e);return r}var Gx=Array.isArray,Ux=Mx?Mx.prototype:void 0,qx=Ux?Ux.toString:void 0;function $x(e){if("string"==typeof e)return e;if(Gx(e))return Hx(e,$x)+"";if(zx(e))return qx?qx.call(e):"";var t=e+"";return "0"==t&&1/e==-Infinity?"-0":t}var Yx=/\s/;var Kx=/^\s+/;function Xx(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Yx.test(e.charAt(t)););return t}(e)+1).replace(Kx,""):e}function Jx(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var Zx=/^[-+]0x[0-9a-f]+$/i,Qx=/^0b[01]+$/i,eC=/^0o[0-7]+$/i,tC=parseInt;function iC(e){if("number"==typeof e)return e;if(zx(e))return NaN;if(Jx(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Jx(t)?t+"":t;}if("string"!=typeof e)return 0===e?e:+e;e=Xx(e);var i=Qx.test(e);return i||eC.test(e)?tC(e.slice(2),i?2:8):Zx.test(e)?NaN:+e}function nC(e){return e}function rC(e){if(!Jx(e))return !1;var t=Nx(e);return "[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var aC,oC=Dx["__core-js_shared__"],sC=(aC=/[^.]+$/.exec(oC&&oC.keys&&oC.keys.IE_PROTO||""))?"Symbol(src)_1."+aC:"";var lC=Function.prototype.toString;function uC(e){if(null!=e){try{return lC.call(e)}catch(e){}try{return e+""}catch(e){}}return ""}var dC=/^\[object .+?Constructor\]$/,cC=Function.prototype,hC=Object.prototype,pC=cC.toString,mC=hC.hasOwnProperty,fC=RegExp("^"+pC.call(mC).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gC(e){return !(!Jx(e)||(t=e,sC&&sC in t))&&(rC(e)?fC:dC).test(uC(e));var t;}function yC(e,t){var i=function(e,t){return null==e?void 0:e[t]}(e,t);return gC(i)?i:void 0}var vC=yC(Dx,"WeakMap"),bC=Object.create,xC=function(){function e(){}return function(t){if(!Jx(t))return {};if(bC)return bC(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}();function CC(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}var SC=Date.now;var _C,PC,wC,IC=function(){try{var e=yC(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),TC=IC,AC=TC?function(e,t){return TC(e,"toString",{configurable:!0,enumerable:!1,value:(i=t,function(){return i}),writable:!0});var i;}:nC,OC=(_C=AC,PC=0,wC=0,function(){var e=SC(),t=16-(e-wC);if(wC=e,t>0){if(++PC>=800)return arguments[0]}else PC=0;return _C.apply(void 0,arguments)});var kC=/^(?:0|[1-9]\d*)$/;function FC(e,t){var i=typeof e;return !!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&kC.test(e))&&e>-1&&e%1==0&&e<t}function DC(e,t,i){"__proto__"==t&&TC?TC(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i;}function MC(e,t){return e===t||e!=e&&t!=t}var LC=Object.prototype.hasOwnProperty;function EC(e,t,i){var n=e[t];LC.call(e,t)&&MC(n,i)&&(void 0!==i||t in e)||DC(e,t,i);}function jC(e,t,i,n){var r=!i;i||(i={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(i[s],e[s],s,i,e):void 0;void 0===l&&(l=e[s]),r?DC(i,s,l):EC(i,s,l);}return i}var VC=Math.max;function RC(e){return "number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function BC(e){return null!=e&&RC(e.length)&&!rC(e)}function NC(e,t,i){if(!Jx(i))return !1;var n=typeof t;return !!("number"==n?BC(i)&&FC(t,i.length):"string"==n&&t in i)&&MC(i[t],e)}var WC=Object.prototype;function zC(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||WC)}function HC(e){return Wx(e)&&"[object Arguments]"==Nx(e)}var GC=Object.prototype,UC=GC.hasOwnProperty,qC=GC.propertyIsEnumerable,$C=HC(function(){return arguments}())?HC:function(e){return Wx(e)&&UC.call(e,"callee")&&!qC.call(e,"callee")};var YC="object"==typeof exports&&exports&&!exports.nodeType&&exports,KC=YC&&"object"==typeof module&&module&&!module.nodeType&&module,XC=KC&&KC.exports===YC?Dx.Buffer:void 0,JC=(XC?XC.isBuffer:void 0)||function(){return !1},ZC={};function QC(e){return function(t){return e(t)}}ZC["[object Float32Array]"]=ZC["[object Float64Array]"]=ZC["[object Int8Array]"]=ZC["[object Int16Array]"]=ZC["[object Int32Array]"]=ZC["[object Uint8Array]"]=ZC["[object Uint8ClampedArray]"]=ZC["[object Uint16Array]"]=ZC["[object Uint32Array]"]=!0,ZC["[object Arguments]"]=ZC["[object Array]"]=ZC["[object ArrayBuffer]"]=ZC["[object Boolean]"]=ZC["[object DataView]"]=ZC["[object Date]"]=ZC["[object Error]"]=ZC["[object Function]"]=ZC["[object Map]"]=ZC["[object Number]"]=ZC["[object Object]"]=ZC["[object RegExp]"]=ZC["[object Set]"]=ZC["[object String]"]=ZC["[object WeakMap]"]=!1;var eS="object"==typeof exports&&exports&&!exports.nodeType&&exports,tS=eS&&"object"==typeof module&&module&&!module.nodeType&&module,iS=tS&&tS.exports===eS&&kx.process,nS=function(){try{var e=tS&&tS.require&&tS.require("util").types;return e||iS&&iS.binding&&iS.binding("util")}catch(e){}}(),rS=nS&&nS.isTypedArray,aS=rS?QC(rS):function(e){return Wx(e)&&RC(e.length)&&!!ZC[Nx(e)]},oS=Object.prototype.hasOwnProperty;function sS(e,t){var i=Gx(e),n=!i&&$C(e),r=!i&&!n&&JC(e),a=!i&&!n&&!r&&aS(e),o=i||n||r||a,s=o?function(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}(e.length,String):[],l=s.length;for(var u in e)!t&&!oS.call(e,u)||o&&("length"==u||r&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||FC(u,l))||s.push(u);return s}function lS(e,t){return function(i){return e(t(i))}}var uS=lS(Object.keys,Object),dS=Object.prototype.hasOwnProperty;function cS(e){if(!zC(e))return uS(e);var t=[];for(var i in Object(e))dS.call(e,i)&&"constructor"!=i&&t.push(i);return t}function hS(e){return BC(e)?sS(e):cS(e)}var pS=Object.prototype.hasOwnProperty;function mS(e){if(!Jx(e))return function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}(e);var t=zC(e),i=[];for(var n in e)("constructor"!=n||!t&&pS.call(e,n))&&i.push(n);return i}function fS(e){return BC(e)?sS(e,!0):mS(e)}var gS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yS=/^\w*$/;function vS(e,t){if(Gx(e))return !1;var i=typeof e;return !("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!zx(e))||(yS.test(e)||!gS.test(e)||null!=t&&e in Object(t))}var bS=yC(Object,"create");var xS=Object.prototype.hasOwnProperty;var CS=Object.prototype.hasOwnProperty;function SS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}function _S(e,t){for(var i=e.length;i--;)if(MC(e[i][0],t))return i;return -1}SS.prototype.clear=function(){this.__data__=bS?bS(null):{},this.size=0;},SS.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},SS.prototype.get=function(e){var t=this.__data__;if(bS){var i=t[e];return "__lodash_hash_undefined__"===i?void 0:i}return xS.call(t,e)?t[e]:void 0},SS.prototype.has=function(e){var t=this.__data__;return bS?void 0!==t[e]:CS.call(t,e)},SS.prototype.set=function(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=bS&&void 0===t?"__lodash_hash_undefined__":t,this};var PS=Array.prototype.splice;function wS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}wS.prototype.clear=function(){this.__data__=[],this.size=0;},wS.prototype.delete=function(e){var t=this.__data__,i=_S(t,e);return !(i<0)&&(i==t.length-1?t.pop():PS.call(t,i,1),--this.size,!0)},wS.prototype.get=function(e){var t=this.__data__,i=_S(t,e);return i<0?void 0:t[i][1]},wS.prototype.has=function(e){return _S(this.__data__,e)>-1},wS.prototype.set=function(e,t){var i=this.__data__,n=_S(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this};var IS=yC(Dx,"Map");function TS(e,t){var i,n,r=e.__data__;return ("string"==(n=typeof(i=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?r["string"==typeof t?"string":"hash"]:r.map}function AS(e){var t=-1,i=null==e?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1]);}}AS.prototype.clear=function(){this.size=0,this.__data__={hash:new SS,map:new(IS||wS),string:new SS};},AS.prototype.delete=function(e){var t=TS(this,e).delete(e);return this.size-=t?1:0,t},AS.prototype.get=function(e){return TS(this,e).get(e)},AS.prototype.has=function(e){return TS(this,e).has(e)},AS.prototype.set=function(e,t){var i=TS(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this};function OS(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,r=t?t.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=e.apply(this,n);return i.cache=a.set(r,o)||a,o};return i.cache=new(OS.Cache||AS),i}OS.Cache=AS;var kS=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FS=/\\(\\)?/g,DS=function(e){var t=OS(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(kS,(function(e,i,n,r){t.push(n?r.replace(FS,"$1"):i||e);})),t})),MS=DS;function LS(e,t){return Gx(e)?e:vS(e,t)?[e]:MS(function(e){return null==e?"":$x(e)}(e))}function ES(e){if("string"==typeof e||zx(e))return e;var t=e+"";return "0"==t&&1/e==-Infinity?"-0":t}function jS(e,t){for(var i=0,n=(t=LS(t,e)).length;null!=e&&i<n;)e=e[ES(t[i++])];return i&&i==n?e:void 0}function VS(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}var RS=Mx?Mx.isConcatSpreadable:void 0;function BS(e){return Gx(e)||$C(e)||!!(RS&&e&&e[RS])}function NS(e,t,i,n,r){var a=-1,o=e.length;for(i||(i=BS),r||(r=[]);++a<o;){var s=e[a];t>0&&i(s)?t>1?NS(s,t-1,i,n,r):VS(r,s):n||(r[r.length]=s);}return r}var WS=lS(Object.getPrototypeOf,Object);function zS(e){var t=this.__data__=new wS(e);this.size=t.size;}zS.prototype.clear=function(){this.__data__=new wS,this.size=0;},zS.prototype.delete=function(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i},zS.prototype.get=function(e){return this.__data__.get(e)},zS.prototype.has=function(e){return this.__data__.has(e)},zS.prototype.set=function(e,t){var i=this.__data__;if(i instanceof wS){var n=i.__data__;if(!IS||n.length<199)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new AS(n);}return i.set(e,t),this.size=i.size,this};var HS="object"==typeof exports&&exports&&!exports.nodeType&&exports,GS=HS&&"object"==typeof module&&module&&!module.nodeType&&module,US=GS&&GS.exports===HS?Dx.Buffer:void 0,qS=US?US.allocUnsafe:void 0;function $S(){return []}var YS=Object.prototype.propertyIsEnumerable,KS=Object.getOwnPropertySymbols,XS=KS?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var i=-1,n=null==e?0:e.length,r=0,a=[];++i<n;){var o=e[i];t(o,i,e)&&(a[r++]=o);}return a}(KS(e),(function(t){return YS.call(e,t)})))}:$S,JS=XS;var ZS=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)VS(t,JS(e)),e=WS(e);return t}:$S;function QS(e,t,i){var n=t(e);return Gx(e)?n:VS(n,i(e))}function e_(e){return QS(e,hS,JS)}function t_(e){return QS(e,fS,ZS)}var i_=yC(Dx,"DataView"),n_=yC(Dx,"Promise"),r_=yC(Dx,"Set"),a_=uC(i_),o_=uC(IS),s_=uC(n_),l_=uC(r_),u_=uC(vC),d_=Nx;(i_&&"[object DataView]"!=d_(new i_(new ArrayBuffer(1)))||IS&&"[object Map]"!=d_(new IS)||n_&&"[object Promise]"!=d_(n_.resolve())||r_&&"[object Set]"!=d_(new r_)||vC&&"[object WeakMap]"!=d_(new vC))&&(d_=function(e){var t=Nx(e),i="[object Object]"==t?e.constructor:void 0,n=i?uC(i):"";if(n)switch(n){case a_:return "[object DataView]";case o_:return "[object Map]";case s_:return "[object Promise]";case l_:return "[object Set]";case u_:return "[object WeakMap]"}return t});var c_=d_,h_=Object.prototype.hasOwnProperty;var p_=Dx.Uint8Array;function m_(e){var t=new e.constructor(e.byteLength);return new p_(t).set(new p_(e)),t}var f_=/\w*$/;var g_=Mx?Mx.prototype:void 0,y_=g_?g_.valueOf:void 0;function v_(e,t,i){var n,r,a,o=e.constructor;switch(t){case"[object ArrayBuffer]":return m_(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var i=t?m_(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var i=t?m_(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}(e,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return (a=new(r=e).constructor(r.source,f_.exec(r))).lastIndex=r.lastIndex,a;case"[object Symbol]":return n=e,y_?Object(y_.call(n)):{}}}var b_=nS&&nS.isMap,x_=b_?QC(b_):function(e){return Wx(e)&&"[object Map]"==c_(e)};var C_=nS&&nS.isSet,S_=C_?QC(C_):function(e){return Wx(e)&&"[object Set]"==c_(e)},__={};function P_(e,t,i,n,r,a){var o,s=1&t,l=2&t,u=4&t;if(i&&(o=r?i(e,n,r,a):i(e)),void 0!==o)return o;if(!Jx(e))return e;var d=Gx(e);if(d){if(o=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&h_.call(e,"index")&&(i.index=e.index,i.input=e.input),i}(e),!s)return function(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}(e,o)}else {var c=c_(e),h="[object Function]"==c||"[object GeneratorFunction]"==c;if(JC(e))return function(e,t){if(t)return e.slice();var i=e.length,n=qS?qS(i):new e.constructor(i);return e.copy(n),n}(e,s);if("[object Object]"==c||"[object Arguments]"==c||h&&!r){if(o=l||h?{}:function(e){return "function"!=typeof e.constructor||zC(e)?{}:xC(WS(e))}(e),!s)return l?function(e,t){return jC(e,ZS(e),t)}(e,function(e,t){return e&&jC(t,fS(t),e)}(o,e)):function(e,t){return jC(e,JS(e),t)}(e,function(e,t){return e&&jC(t,hS(t),e)}(o,e))}else {if(!__[c])return r?e:{};o=v_(e,c,s);}}a||(a=new zS);var p=a.get(e);if(p)return p;a.set(e,o),S_(e)?e.forEach((function(n){o.add(P_(n,t,i,n,e,a));})):x_(e)&&e.forEach((function(n,r){o.set(r,P_(n,t,i,r,e,a));}));var m=d?void 0:(u?l?t_:e_:l?fS:hS)(e);return function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););}(m||e,(function(n,r){m&&(n=e[r=n]),EC(o,r,P_(n,t,i,r,e,a));})),o}__["[object Arguments]"]=__["[object Array]"]=__["[object ArrayBuffer]"]=__["[object DataView]"]=__["[object Boolean]"]=__["[object Date]"]=__["[object Float32Array]"]=__["[object Float64Array]"]=__["[object Int8Array]"]=__["[object Int16Array]"]=__["[object Int32Array]"]=__["[object Map]"]=__["[object Number]"]=__["[object Object]"]=__["[object RegExp]"]=__["[object Set]"]=__["[object String]"]=__["[object Symbol]"]=__["[object Uint8Array]"]=__["[object Uint8ClampedArray]"]=__["[object Uint16Array]"]=__["[object Uint32Array]"]=!0,__["[object Error]"]=__["[object Function]"]=__["[object WeakMap]"]=!1;function w_(e){return P_(e,5)}function I_(e){var t=-1,i=null==e?0:e.length;for(this.__data__=new AS;++t<i;)this.add(e[t]);}function T_(e,t){for(var i=-1,n=null==e?0:e.length;++i<n;)if(t(e[i],i,e))return !0;return !1}function A_(e,t){return e.has(t)}I_.prototype.add=I_.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},I_.prototype.has=function(e){return this.__data__.has(e)};function O_(e,t,i,n,r,a){var o=1&i,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return !1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var c=-1,h=!0,p=2&i?new I_:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var m=e[c],f=t[c];if(n)var g=o?n(f,m,c,t,e,a):n(m,f,c,e,t,a);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!T_(t,(function(e,t){if(!A_(p,t)&&(m===e||r(m,e,i,n,a)))return p.push(t)}))){h=!1;break}}else if(m!==f&&!r(m,f,i,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function k_(e){var t=-1,i=Array(e.size);return e.forEach((function(e,n){i[++t]=[n,e];})),i}function F_(e){var t=-1,i=Array(e.size);return e.forEach((function(e){i[++t]=e;})),i}var D_=Mx?Mx.prototype:void 0,M_=D_?D_.valueOf:void 0;var L_=Object.prototype.hasOwnProperty;var E_="[object Object]",j_=Object.prototype.hasOwnProperty;function V_(e,t,i,n,r,a){var o=Gx(e),s=Gx(t),l=o?"[object Array]":c_(e),u=s?"[object Array]":c_(t),d=(l="[object Arguments]"==l?E_:l)==E_,c=(u="[object Arguments]"==u?E_:u)==E_,h=l==u;if(h&&JC(e)){if(!JC(t))return !1;o=!0,d=!1;}if(h&&!d)return a||(a=new zS),o||aS(e)?O_(e,t,i,n,r,a):function(e,t,i,n,r,a,o){switch(i){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return !1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return !(e.byteLength!=t.byteLength||!a(new p_(e),new p_(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return MC(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=k_;case"[object Set]":var l=1&n;if(s||(s=F_),e.size!=t.size&&!l)return !1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var d=O_(s(e),s(t),n,r,a,o);return o.delete(e),d;case"[object Symbol]":if(M_)return M_.call(e)==M_.call(t)}return !1}(e,t,l,i,n,r,a);if(!(1&i)){var p=d&&j_.call(e,"__wrapped__"),m=c&&j_.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,g=m?t.value():t;return a||(a=new zS),r(f,g,i,n,a)}}return !!h&&(a||(a=new zS),function(e,t,i,n,r,a){var o=1&i,s=e_(e),l=s.length;if(l!=e_(t).length&&!o)return !1;for(var u=l;u--;){var d=s[u];if(!(o?d in t:L_.call(t,d)))return !1}var c=a.get(e),h=a.get(t);if(c&&h)return c==t&&h==e;var p=!0;a.set(e,t),a.set(t,e);for(var m=o;++u<l;){var f=e[d=s[u]],g=t[d];if(n)var y=o?n(g,f,d,t,e,a):n(f,g,d,e,t,a);if(!(void 0===y?f===g||r(f,g,i,n,a):y)){p=!1;break}m||(m="constructor"==d);}if(p&&!m){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(p=!1);}return a.delete(e),a.delete(t),p}(e,t,i,n,r,a))}function R_(e,t,i,n,r){return e===t||(null==e||null==t||!Wx(e)&&!Wx(t)?e!=e&&t!=t:V_(e,t,i,n,R_,r))}function B_(e){return e==e&&!Jx(e)}function N_(e,t){return function(i){return null!=i&&(i[e]===t&&(void 0!==t||e in Object(i)))}}function W_(e){var t=function(e){for(var t=hS(e),i=t.length;i--;){var n=t[i],r=e[n];t[i]=[n,r,B_(r)];}return t}(e);return 1==t.length&&t[0][2]?N_(t[0][0],t[0][1]):function(i){return i===e||function(e,t,i,n){var r=i.length,a=r,o=!n;if(null==e)return !a;for(e=Object(e);r--;){var s=i[r];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return !1}for(;++r<a;){var l=(s=i[r])[0],u=e[l],d=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return !1}else {var c=new zS;if(n)var h=n(u,d,l,e,t,c);if(!(void 0===h?R_(d,u,3,n,c):h))return !1}}return !0}(i,e,t)}}function z_(e,t){return null!=e&&t in Object(e)}function H_(e,t){return null!=e&&function(e,t,i){for(var n=-1,r=(t=LS(t,e)).length,a=!1;++n<r;){var o=ES(t[n]);if(!(a=null!=e&&i(e,o)))break;e=e[o];}return a||++n!=r?a:!!(r=null==e?0:e.length)&&RC(r)&&FC(o,r)&&(Gx(e)||$C(e))}(e,t,z_)}function G_(e,t){return vS(e)&&B_(t)?N_(ES(e),t):function(i){var n=function(e,t,i){var n=null==e?void 0:jS(e,t);return void 0===n?i:n}(i,e);return void 0===n&&n===t?H_(i,e):R_(t,n,3)}}function U_(e){return vS(e)?(t=ES(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return jS(t,e)}}(e);var t;}function q_(e){return "function"==typeof e?e:null==e?nC:"object"==typeof e?Gx(e)?G_(e[0],e[1]):W_(e):U_(e)}var $_,Y_=function(e,t,i){for(var n=-1,r=Object(e),a=i(e),o=a.length;o--;){var s=a[$_?o:++n];if(!1===t(r[s],s,r))break}return e},K_=Y_;var X_=function(e,t){return function(i,n){if(null==i)return i;if(!BC(i))return e(i,n);for(var r=i.length,a=t?r:-1,o=Object(i);(t?a--:++a<r)&&!1!==n(o[a],a,o););return i}}((function(e,t){return e&&K_(e,t,hS)})),J_=X_,Z_=function(){return Dx.Date.now()},Q_=Math.max,eP=Math.min;function tP(e,t,i){var n,r,a,o,s,l,u=0,d=!1,c=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=n,a=r;return n=r=void 0,u=t,o=e.apply(a,i)}function m(e){return u=e,s=setTimeout(g,t),d?p(e):o}function f(e){var i=e-l;return void 0===l||i>=t||i<0||c&&e-u>=a}function g(){var e=Z_();if(f(e))return y(e);s=setTimeout(g,function(e){var i=t-(e-l);return c?eP(i,a-(e-u)):i}(e));}function y(e){return s=void 0,h&&n?p(e):(n=r=void 0,o)}function v(){var e=Z_(),i=f(e);if(n=arguments,r=this,l=e,i){if(void 0===s)return m(l);if(c)return clearTimeout(s),s=setTimeout(g,t),p(l)}return void 0===s&&(s=setTimeout(g,t)),o}return t=iC(t)||0,Jx(i)&&(d=!!i.leading,a=(c="maxWait"in i)?Q_(iC(i.maxWait)||0,t):a,h="trailing"in i?!!i.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=l=r=s=void 0;},v.flush=function(){return void 0===s?o:y(Z_())},v}var iP=Object.prototype.hasOwnProperty;function nP(e){if(null==e)return !0;if(BC(e)&&(Gx(e)||"string"==typeof e||"function"==typeof e.splice||JC(e)||aS(e)||$C(e)))return !e.length;var t=c_(e);if("[object Map]"==t||"[object Set]"==t)return !e.size;if(zC(e))return !cS(e).length;for(var i in e)if(iP.call(e,i))return !1;return !0}function rP(e,t){return R_(e,t)}function aP(e,t){if(e!==t){var i=void 0!==e,n=null===e,r=e==e,a=zx(e),o=void 0!==t,s=null===t,l=t==t,u=zx(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||n&&o&&l||!i&&l||!r)return 1;if(!n&&!a&&!u&&e<t||u&&i&&r&&!n&&!a||s&&i&&r||!o&&r||!l)return -1}return 0}function oP(e,t,i){t=t.length?Hx(t,(function(e){return Gx(e)?function(t){return jS(t,1===e.length?e[0]:e)}:e})):[nC];var n=-1;t=Hx(t,QC(q_));var r=function(e,t){var i=-1,n=BC(e)?Array(e.length):[];return J_(e,(function(e,r,a){n[++i]=t(e,r,a);})),n}(e,(function(e,i,r){return {criteria:Hx(t,(function(t){return t(e)})),index:++n,value:e}}));return function(e,t){var i=e.length;for(e.sort(t);i--;)e[i]=e[i].value;return e}(r,(function(e,t){return function(e,t,i){for(var n=-1,r=e.criteria,a=t.criteria,o=r.length,s=i.length;++n<o;){var l=aP(r[n],a[n]);if(l)return n>=s?l:l*("desc"==i[n]?-1:1)}return e.index-t.index}(e,t,i)}))}var sP=function(e,t){return OC(function(e,t,i){return t=VC(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,a=VC(n.length-t,0),o=Array(a);++r<a;)o[r]=n[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=n[r];return s[t]=i(o),CC(e,this,s)}}(e,t,nC),e+"")}((function(e,t){if(null==e)return [];var i=t.length;return i>1&&NC(e,t[0],t[1])?t=[]:i>2&&NC(t[0],t[1],t[2])&&(t=[t[0]]),oP(e,NS(t,1),[])})),lP=sP;const uP={title:{marginBottom:8,wrap:!0},subtitle:{marginBottom:10,wrap:!0},rotated:!1,legendProperties:{legendLabels:{marginLeft:5,marginRight:5,truncate:!1,applyOnClones:!0,wrap:!0,maxWidth:200},valueLabels:{wrap:!0,maxWidth:200},legendTitle:{wrap:!0,maxWidth:220,marginLeft:10,marginRight:10,marginTop:15},legendMarkersSize:14,legendLabelReducedOpacity:.5,rectangleMarkerRadius:3,roundedMarkerRadius:12,legendPaddingRightWithScrollbarVisible:10,maxHeight:100,marginTop:2,marginBottom:2,marginLeft:0,marginRight:0,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},footer:{wrap:!0,horizontalCenter:yb,verticalCenter:Cb,align:yb},axisLabel:{rotation:0,align:yb,horizontalCenter:yb,verticalCenter:xb,dy:10},axisTickLength:5,rotatedAxisLabel:{rotation:-45,horizontalCenter:fb,verticalCenter:Sb,dy:6},rotatedHistogramAxisLabel:{rotation:-45,horizontalCenter:fb,verticalCenter:Sb,dy:-6,dx:-6},nonRotatedHistogramAxisLabel:{rotation:0,horizontalCenter:yb,verticalCenter:Cb,dy:0,dx:0},xAxisTitleLabel:{align:yb,valign:Cb,rotation:0,fontSize:10,wrap:!0},yAxisTitleLabel:{align:yb,valign:Cb,rotation:270,wrap:!0},titleLabel:{align:yb,wrap:!0},horizontalSurfaceGuideLabels:{horizontalCenter:gb,align:gb,verticalCenter:Cb,wrap:!0},horizontalLineGuideLabels:{horizontalCenter:gb,align:gb,verticalCenter:xb,wrap:!0},verticalSurfaceGuideLabels:{horizontalCenter:yb,verticalCenter:xb,valign:xb},verticalLineGuideLabels:{horizontalCenter:gb,verticalCenter:Sb,valign:xb,wrap:!0,rotation:90},guideAbove:!1,cursorCrosshair:{style:{type:_b,style:Jv,color:[0,0,0,102],width:1},horizontalLineVisible:!1,verticalLineVisible:!1},gauge:{innerRadius:80,radius:95,startAngle:-180,endAngle:180,innerLabelToInnerChartRatio:.5,axisLabelToInnerChartRatio:.13,innerLabelAutoMinFontSize:14,innerLabelAutoMaxFontSize:100,axisLabelAutoMinFontSize:14,axisLabelAutoMaxFontSize:40,gaugeMinGridDistance:1,axisMinimum:0,axisMaximum:100,numberOfLabelIntervals:5,numberOfTicksBetweenTwoLabels:4,maximumNumberOfLabelIntervals:24,paddingTop:10,paddingBottom:10,paddingRight:0,paddingLeft:0},gaugeTicksLength:7,gaugeInnerLabel:{horizontalCenter:yb,verticalCenter:Cb},gaugeNeedle:{startWidth:10,endWidth:1,innerRadius:25,displayPin:!1},gaugeFirstLabelId:"arcgis_charts_gauge_first_label",gaugeLastLabelId:"arcgis_charts_gauge_last_label",headerContainer:{layout:"vertical",width:"100%",paddingBottom:5},footerContainer:{layout:"vertical",width:"100%",paddingTop:5,paddingBottom:15},paddingMinSize:0,marginMinSize:0,chartPaddingMinSize:7,chartPaddingRightWhenLegendNotOnRight:15,chartAndLegendContainer:{paddingTop:0},chartContainer:{paddingBottom:0,paddingTop:15},chartContainerPaddingTopWhenRotated:5,dataLabelInitialize:{strokeWidth:0,applyOnClones:!0},dataLabel:{align:yb,horizontalCenter:yb,valign:Sb,verticalCenter:xb,dy:-3},dataLabelRotated:{align:gb,horizontalCenter:gb,valign:Cb,verticalCenter:Cb,dx:2},dataLabelStackedRotated:{align:yb,horizontalCenter:yb,valign:Cb,verticalCenter:Cb},dataLabelStackedNonRotated:{align:yb,horizontalCenter:yb,valign:Cb,verticalCenter:Cb},dataLabelNegative:{paddingTop:5,paddingRight:5},scatterPlotSeries:{strokeOpacity:0,regressionPrecision:7,r2:NaN,trendLinePoints:[{},{}]},histogramSeries:{normalDistribNumberOfPoints:100},lineSeries:{strokeWidth:2,lineSmoothed:!1,lineSmoothedKind:rx,showArea:!1,areaOpacity:.25,markerVisible:!0,rotated:!1,stackedType:Jb,stackNegativeValuesToBaseline:!0,marker:{markerSize:4,markerStrokeWidth:2}},buffer:!1,elementLimitForSmoothRendering:1e3,defaultStatParameterValue:.5,pieChart:{dataLabels:{maxWidth:100,wrap:!1},dataLabelsOffset:10,innerRadius:0,min:-90,max:270,displayNumericValueOnLegend:!1,displayNumericValueOnDataLabel:!0,displayNumericValueOnTooltip:!0,displayPercentageOnLegend:!1,displayPercentageOnDataLabel:!1,displayPercentageOnTooltip:!0,sliceGrouping:{sliceId:bd,percentageThreshold:0,fillSymbol:{type:wb,color:[210,210,210,178.5]}},paddingWithLabels:80,defaultPadding:0,alignDataLabels:!1,ticksOpacity:1,technicalFieldSliceId:"arcgis_charts_slice_id",technicalFieldSlicePercent:"arcgis_charts_slice_percent",technicalFieldGroupedSlices:"arcgis_charts_grouped_slices"},pieSliceCustomLabelName:"customLabel",yAxisLabelMaxWidth:100,axisLabelPadding:1.5,categoryAxisLabelPadding:3,histogramAxisLabelPadding:3,seriesSort:ex.Ascending,technicalSortingFieldBySum:"arcgis_charts_category_sum",technicalSortingFieldByPercent:"arcgis_charts_category_first_series_percent",color:[0,0,0,255],chartEllipsis:"...",backgroundColor:[255,255,255,255],yAxisMinGridDistance:40,lineWidth:1,loaderRotationSpeed:400,loaderIntervalTimeout:400,loaderBackground:[255,255,255,230],loaderLabelFontSize:20,selectionTheme:{selectedElementsTheme:{elementOutlineColor:[0,255,255,255],elementOutlineWidth:5}},columnTooltipPosition:"pointer",markerTooltipPosition:"fixed",patternLineProperties:{width:5,height:5,strokeWidth:1},patternRectProperties:{rectWidth:9,rectHeight:9,width:10,height:10,strokeWidth:0,backgroundOpacity:5,fillOpacity:3},originalCategoryValue:"arcgis_charts_original_category_value",originalDateValue:"arcgis_charts_original_date_value",typeOrDomainFieldName:"arcgis_charts_type_domain_field_name",typeOrDomainIdValue:"arcgis_charts_type_domain_id_value",dateBinningRange:"arcgis_charts_bin_range",dateBinModel:"arcgis_charts_bin_model",queryCalculatedExpr:["EXPR_1","Expr1","expr1","EXPR1"],queryMaxFloatPrecision:10,dateFormatUTC:{timeZone:"UTC",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0},rendererOtherValue:"arcgisChartsrendererOtherValue",scatterPlotAggregationFields:{dataContextXMinField:"arcgis_charts_xmin",dataContextXMaxField:"arcgis_charts_xmax",dataContextYMinField:"arcgis_charts_ymin",dataContextYMaxField:"arcgis_charts_ymax",dataContextCountDistinctX:"distinctX",dataContextCountDistinctY:"distinctY",queryNumberOfFeatures:"numberOfFeatures",queryNumberOfAggregatedFeatures:"numberOfAggregatedFeatures"},dataTooltipVisible:!0,dataTooltipStyle:{outline:{type:_b,color:[255,255,255,255],width:1}},dataTooltipStyleReversed:{color:[255,255,255,255],outline:{type:_b,width:3}},tooltipWidth:300,axisLabelOveredOpacity:.5,generalFontSize:10,actionMode:pg,debounceTime:100,chartDefaultPaddingRight:0,htmlEmptyContent:"<p></p>"},dP="ready",cP="hidden",hP="shown",pP="hit",mP="doublehit",fP="up",gP="selectended",yP="over",vP="out",bP="sizechanged",xP="visibilitychanged",CP="positionchanged",SP="validated",_P="dataitemsvalidated",PP="inited",wP="opened",IP="closed",TP="childadded",AP="datarangechanged",OP="layoutvalidated";var kP="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function FP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DP(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var MP={exports:{}};!function(e,t){!function(){var i=9007199254740992,n="0123456789",r="abcdefghijklmnopqrstuvwxyz",a=r.toUpperCase(),o=n+"abcdef";function s(e){this.name="UnsupportedError",this.message=e||"This feature is not supported on this platform";}s.prototype=new Error,s.prototype.constructor=s;var l=Array.prototype.slice;function u(e){if(!(this instanceof u))return e||(e=null),null===e?new u:new u(e);if("function"==typeof e)return this.random=e,this;arguments.length&&(this.seed=0);for(var t=0;t<arguments.length;t++){var i=0;if("[object String]"===Object.prototype.toString.call(arguments[t]))for(var n=0;n<arguments[t].length;n++){for(var r=0,a=0;a<arguments[t].length;a++)r=arguments[t].charCodeAt(a)+(r<<6)+(r<<16)-r;i+=r;}else i=arguments[t];this.seed+=(arguments.length-t)*i;}return this.mt=this.mersenne_twister(this.seed),this.bimd5=this.blueimp_md5(),this.random=function(){return this.mt.random(this.seed)},this}function d(e,t){if(e=e||{},t)for(var i in t)void 0===e[i]&&(e[i]=t[i]);return e}function c(e,t){if(e)throw new RangeError(t)}u.prototype.VERSION="1.1.7";var h=function(){throw new Error("No Base64 encoder available.")};function p(e){this.c=e;}function m(e){this.c=e;}function f(e){this.c=e;}function g(e){return function(){return this.natural(e)}}"function"==typeof btoa?h=btoa:"function"==typeof Buffer&&(h=function(e){return new Buffer(e).toString("base64")}),u.prototype.bool=function(e){return c((e=d(e,{likelihood:50})).likelihood<0||e.likelihood>100,"Chance: Likelihood accepts values from 0 to 100."),100*this.random()<e.likelihood},u.prototype.falsy=function(e){var t=(e=d(e,{pool:[!1,null,0,NaN,""]})).pool;return t[this.integer({min:0,max:t.length})]},u.prototype.animal=function(e){if(void 0!==(e=d(e)).type)return c(!this.get("animals")[e.type.toLowerCase()],"Please pick from desert, ocean, grassland, forest, zoo, pets, farm."),this.pick(this.get("animals")[e.type.toLowerCase()]);return this.pick(this.get("animals")[this.pick(["desert","forest","ocean","zoo","farm","pet","grassland"])])},u.prototype.character=function(e){var t,i,o="!@#$%^&*()[]";return t="lower"===(e=d(e)).casing?r:"upper"===e.casing?a:r+a,e.pool?i=e.pool:(i="",e.alpha&&(i+=t),e.numeric&&(i+=n),e.symbols&&(i+=o),i||(i=t+n+o)),i.charAt(this.natural({max:i.length-1}))},u.prototype.floating=function(e){c((e=d(e,{fixed:4})).fixed&&e.precision,"Chance: Cannot specify both fixed and precision.");var t=Math.pow(10,e.fixed),n=i/t,r=-n;c(e.min&&e.fixed&&e.min<r,"Chance: Min specified is out of range with fixed. Min should be, at least, "+r),c(e.max&&e.fixed&&e.max>n,"Chance: Max specified is out of range with fixed. Max should be, at most, "+n),e=d(e,{min:r,max:n});var a=(this.integer({min:e.min*t,max:e.max*t})/t).toFixed(e.fixed);return parseFloat(a)},u.prototype.integer=function(e){return c((e=d(e,{min:-9007199254740992,max:i})).min>e.max,"Chance: Min cannot be greater than Max."),Math.floor(this.random()*(e.max-e.min+1)+e.min)},u.prototype.natural=function(e){if("number"==typeof(e=d(e,{min:0,max:i})).numerals&&(c(e.numerals<1,"Chance: Numerals cannot be less than one."),e.min=Math.pow(10,e.numerals-1),e.max=Math.pow(10,e.numerals)-1),c(e.min<0,"Chance: Min cannot be less than zero."),e.exclude){for(var t in c(!Array.isArray(e.exclude),"Chance: exclude must be an array."),e.exclude)c(!Number.isInteger(e.exclude[t]),"Chance: exclude must be numbers.");var n=e.min+this.natural({max:e.max-e.min-e.exclude.length}),r=e.exclude.sort();for(var t in r){if(n<r[t])break;n++;}return n}return this.integer(e)},u.prototype.prime=function(e){c((e=d(e,{min:0,max:1e4})).min<0,"Chance: Min cannot be less than zero."),c(e.min>e.max,"Chance: Min cannot be greater than Max.");var t=y.primes[y.primes.length-1];if(e.max>t)for(var i=t+2;i<=e.max;++i)this.is_prime(i)&&y.primes.push(i);var n=y.primes.filter((function(t){return t>=e.min&&t<=e.max}));return this.pick(n)},u.prototype.is_prime=function(e){if(e%1||e<2)return !1;if(e%2==0)return 2===e;if(e%3==0)return 3===e;for(var t=Math.sqrt(e),i=5;i<=t;i+=6)if(e%i==0||e%(i+2)==0)return !1;return !0},u.prototype.hex=function(e){c((e=d(e,{min:0,max:i,casing:"lower"})).min<0,"Chance: Min cannot be less than zero.");var t=this.natural({min:e.min,max:e.max});return "upper"===e.casing?t.toString(16).toUpperCase():t.toString(16)},u.prototype.letter=function(e){e=d(e,{casing:"lower"});var t=this.character({pool:"abcdefghijklmnopqrstuvwxyz"});return "upper"===e.casing&&(t=t.toUpperCase()),t},u.prototype.string=function(e){(e=d(e,{min:5,max:20})).length||(e.length=this.natural({min:e.min,max:e.max})),c(e.length<0,"Chance: Length cannot be less than zero.");var t=e.length;return this.n(this.character,t,e).join("")},p.prototype={substitute:function(){return this.c}},m.prototype={substitute:function(){if(!/[{}\\]/.test(this.c))throw new Error('Invalid escape sequence: "\\'+this.c+'".');return this.c}},f.prototype={replacers:{"#":function(e){return e.character({pool:n})},A:function(e){return e.character({pool:a})},a:function(e){return e.character({pool:r})}},substitute:function(e){var t=this.replacers[this.c];if(!t)throw new Error('Invalid replacement character: "'+this.c+'".');return t(e)}},u.prototype.template=function(e){if(!e)throw new Error("Template string is required");var t=this;return function(e){for(var t=[],i="identity",n=0;n<e.length;n++){var r=e[n];switch(i){case"escape":t.push(new m(r)),i="identity";break;case"identity":"{"===r?i="replace":"\\"===r?i="escape":t.push(new p(r));break;case"replace":"}"===r?i="identity":t.push(new f(r));}}return t}(e).map((function(e){return e.substitute(t)})).join("")},u.prototype.buffer=function(e){if("undefined"==typeof Buffer)throw new s("Sorry, the buffer() function is not supported on your platform");c((e=d(e,{length:this.natural({min:5,max:20})})).length<0,"Chance: Length cannot be less than zero.");var t=e.length,i=this.n(this.character,t,e);return Buffer.from(i)},u.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},u.prototype.mixin=function(e){for(var t in e)u.prototype[t]=e[t];return this},u.prototype.unique=function(e,t,i){c("function"!=typeof e,"Chance: The first argument must be a function.");var n=function(e,t){return -1!==e.indexOf(t)};i&&(n=i.comparator||n);for(var r,a=[],o=0,s=50*t,u=l.call(arguments,2);a.length<t;){var d=JSON.parse(JSON.stringify(u));if(n(a,r=e.apply(this,d))||(a.push(r),o=0),++o>s)throw new RangeError("Chance: num is likely too large for sample set")}return a},u.prototype.n=function(e,t){c("function"!=typeof e,"Chance: The first argument must be a function."),void 0===t&&(t=1);var i=t,n=[],r=l.call(arguments,2);for(i=Math.max(0,i);i--;null)n.push(e.apply(this,r));return n},u.prototype.pad=function(e,t,i){return i=i||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e},u.prototype.pick=function(e,t){if(0===e.length)throw new RangeError("Chance: Cannot pick() from an empty array");return t&&1!==t?this.shuffle(e).slice(0,t):e[this.natural({max:e.length-1})]},u.prototype.pickone=function(e){if(0===e.length)throw new RangeError("Chance: Cannot pickone() from an empty array");return e[this.natural({max:e.length-1})]},u.prototype.pickset=function(e,t){if(0===t)return [];if(0===e.length)throw new RangeError("Chance: Cannot pickset() from an empty array");if(t<0)throw new RangeError("Chance: Count must be a positive number");if(t&&1!==t){var i=e.slice(0),n=i.length;return this.n((function(){var e=this.natural({max:--n}),t=i[e];return i[e]=i[n],t}),Math.min(n,t))}return [this.pickone(e)]},u.prototype.shuffle=function(e){for(var t,i,n=[],r=0,a=Number(e.length),o=(i=a,Array.apply(null,Array(i)).map((function(e,t){return t}))),s=a-1,l=0;l<a;l++)r=o[t=this.natural({max:s})],n[l]=e[r],o[t]=o[s],s-=1;return n},u.prototype.weighted=function(e,t,i){if(e.length!==t.length)throw new RangeError("Chance: Length of array and weights must match");for(var n,r=0,a=0;a<t.length;++a){if(n=t[a],isNaN(n))throw new RangeError("Chance: All weights must be numbers");n>0&&(r+=n);}if(0===r)throw new RangeError("Chance: No valid entries in array weights");var o,s=this.random()*r,l=0,u=-1;for(a=0;a<t.length;++a){if(l+=n=t[a],n>0){if(s<=l){o=a;break}u=a;}a===t.length-1&&(o=u);}var d=e[o];return (i=void 0!==i&&i)&&(e.splice(o,1),t.splice(o,1)),d},u.prototype.paragraph=function(e){var t=(e=d(e)).sentences||this.natural({min:3,max:7}),i=this.n(this.sentence,t),n=!0===e.linebreak?"\n":" ";return i.join(n)},u.prototype.sentence=function(e){var t,i=(e=d(e)).words||this.natural({min:12,max:18}),n=e.punctuation;return t=this.n(this.word,i).join(" "),t=this.capitalize(t),!1===n||/^[.?;!:]$/.test(n)||(n="."),n&&(t+=n),t},u.prototype.syllable=function(e){for(var t,i=(e=d(e)).length||this.natural({min:2,max:3}),n="bcdfghjklmnprstvwz",r="aeiou",a="",o=0;o<i;o++)a+=t=0===o?this.character({pool:"bcdfghjklmnprstvwzaeiou"}):-1===n.indexOf(t)?this.character({pool:n}):this.character({pool:r});return e.capitalize&&(a=this.capitalize(a)),a},u.prototype.word=function(e){c((e=d(e)).syllables&&e.length,"Chance: Cannot specify both syllables AND length.");var t=e.syllables||this.natural({min:1,max:3}),i="";if(e.length){do{i+=this.syllable();}while(i.length<e.length);i=i.substring(0,e.length);}else for(var n=0;n<t;n++)i+=this.syllable();return e.capitalize&&(i=this.capitalize(i)),i},u.prototype.age=function(e){var t;switch((e=d(e)).type){case"child":t={min:0,max:12};break;case"teen":t={min:13,max:19};break;case"adult":default:t={min:18,max:65};break;case"senior":t={min:65,max:100};break;case"all":t={min:0,max:100};}return this.natural(t)},u.prototype.birthday=function(e){var t=this.age(e),i=(new Date).getFullYear();if(e&&e.type){var n=new Date,r=new Date;n.setFullYear(i-t-1),r.setFullYear(i-t),e=d(e,{min:n,max:r});}else e=d(e,{year:i-t});return this.date(e)},u.prototype.cpf=function(e){e=d(e,{formatted:!0});var t=this.n(this.natural,9,{max:9}),i=2*t[8]+3*t[7]+4*t[6]+5*t[5]+6*t[4]+7*t[3]+8*t[2]+9*t[1]+10*t[0];(i=11-i%11)>=10&&(i=0);var n=2*i+3*t[8]+4*t[7]+5*t[6]+6*t[5]+7*t[4]+8*t[3]+9*t[2]+10*t[1]+11*t[0];(n=11-n%11)>=10&&(n=0);var r=""+t[0]+t[1]+t[2]+"."+t[3]+t[4]+t[5]+"."+t[6]+t[7]+t[8]+"-"+i+n;return e.formatted?r:r.replace(/\D/g,"")},u.prototype.cnpj=function(e){e=d(e,{formatted:!0});var t=this.n(this.natural,12,{max:12}),i=2*t[11]+3*t[10]+4*t[9]+5*t[8]+6*t[7]+7*t[6]+8*t[5]+9*t[4]+2*t[3]+3*t[2]+4*t[1]+5*t[0];(i=11-i%11)<2&&(i=0);var n=2*i+3*t[11]+4*t[10]+5*t[9]+6*t[8]+7*t[7]+8*t[6]+9*t[5]+2*t[4]+3*t[3]+4*t[2]+5*t[1]+6*t[0];(n=11-n%11)<2&&(n=0);var r=""+t[0]+t[1]+"."+t[2]+t[3]+t[4]+"."+t[5]+t[6]+t[7]+"/"+t[8]+t[9]+t[10]+t[11]+"-"+i+n;return e.formatted?r:r.replace(/\D/g,"")},u.prototype.first=function(e){return e=d(e,{gender:this.gender(),nationality:"en"}),this.pick(this.get("firstNames")[e.gender.toLowerCase()][e.nationality.toLowerCase()])},u.prototype.profession=function(e){return (e=d(e)).rank?this.pick(["Apprentice ","Junior ","Senior ","Lead "])+this.pick(this.get("profession")):this.pick(this.get("profession"))},u.prototype.company=function(){return this.pick(this.get("company"))},u.prototype.gender=function(e){return e=d(e,{extraGenders:[]}),this.pick(["Male","Female"].concat(e.extraGenders))},u.prototype.last=function(e){if("*"===(e=d(e,{nationality:"*"})).nationality){var t=[],i=this.get("lastNames");return Object.keys(i).forEach((function(e){t=t.concat(i[e]);})),this.pick(t)}return this.pick(this.get("lastNames")[e.nationality.toLowerCase()])},u.prototype.israelId=function(){for(var e=this.string({pool:"0123456789",length:8}),t=0,i=0;i<e.length;i++){var n=e[i]*(i/2===parseInt(i/2)?1:2);n=this.pad(n,2).toString(),t+=n=parseInt(n[0])+parseInt(n[1]);}return e+=(10-parseInt(t.toString().slice(-1))).toString().slice(-1)},u.prototype.mrz=function(e){var t,i,n,r,a=function(e){var t="<ABCDEFGHIJKLMNOPQRSTUVWXYXZ".split(""),i=[7,3,1],n=0;return "string"!=typeof e&&(e=e.toString()),e.split("").forEach((function(e,r){var a=t.indexOf(e);e=-1!==a?0===a?0:a+9:parseInt(e,10),n+=e*=i[r%i.length];})),n%10},o=this;return e=d(e,{first:this.first(),last:this.last(),passportNumber:this.integer({min:1e8,max:999999999}),dob:(t=o.birthday({type:"adult"}),[t.getFullYear().toString().substr(2),o.pad(t.getMonth()+1,2),o.pad(t.getDate(),2)].join("")),expiry:function(){var e=new Date;return [(e.getFullYear()+5).toString().substr(2),o.pad(e.getMonth()+1,2),o.pad(e.getDate(),2)].join("")}(),gender:"Female"===this.gender()?"F":"M",issuer:"GBR",nationality:"GBR"}),n=function(e){return new Array(e+1).join("<")},(r=["P<",(i=e).issuer,i.last.toUpperCase(),"<<",i.first.toUpperCase(),n(39-(i.last.length+i.first.length+2)),i.passportNumber,a(i.passportNumber),i.nationality,i.dob,a(i.dob),i.gender,i.expiry,a(i.expiry),n(14),a(n(14))].join(""))+a(r.substr(44,10)+r.substr(57,7)+r.substr(65,7))},u.prototype.name=function(e){e=d(e);var t,i=this.first(e),n=this.last(e);return t=e.middle?i+" "+this.first(e)+" "+n:e.middle_initial?i+" "+this.character({alpha:!0,casing:"upper"})+". "+n:i+" "+n,e.prefix&&(t=this.prefix(e)+" "+t),e.suffix&&(t=t+" "+this.suffix(e)),t},u.prototype.name_prefixes=function(e){var t=[{name:"Doctor",abbreviation:"Dr."}];return "male"!==(e=(e=e||"all").toLowerCase())&&"all"!==e||t.push({name:"Mister",abbreviation:"Mr."}),"female"!==e&&"all"!==e||(t.push({name:"Miss",abbreviation:"Miss"}),t.push({name:"Misses",abbreviation:"Mrs."})),t},u.prototype.prefix=function(e){return this.name_prefix(e)},u.prototype.name_prefix=function(e){return (e=d(e,{gender:"all"})).full?this.pick(this.name_prefixes(e.gender)).name:this.pick(this.name_prefixes(e.gender)).abbreviation},u.prototype.HIDN=function(){var e="";return e+=this.string({pool:"0123456789",length:6}),e+=this.string({pool:"ABCDEFGHIJKLMNOPQRSTUVWXYXZ",length:2})},u.prototype.ssn=function(e){var t="1234567890",i=(e=d(e,{ssnFour:!1,dashes:!0})).dashes?"-":"";return e.ssnFour?this.string({pool:t,length:4}):this.string({pool:t,length:3})+i+this.string({pool:t,length:2})+i+this.string({pool:t,length:4})},u.prototype.aadhar=function(e){var t="1234567890",i=(e=d(e,{onlyLastFour:!1,separatedByWhiteSpace:!0})).separatedByWhiteSpace?" ":"";return e.onlyLastFour?this.string({pool:t,length:4}):this.string({pool:t,length:4})+i+this.string({pool:t,length:4})+i+this.string({pool:t,length:4})},u.prototype.name_suffixes=function(){return [{name:"Doctor of Osteopathic Medicine",abbreviation:"D.O."},{name:"Doctor of Philosophy",abbreviation:"Ph.D."},{name:"Esquire",abbreviation:"Esq."},{name:"Junior",abbreviation:"Jr."},{name:"Juris Doctor",abbreviation:"J.D."},{name:"Master of Arts",abbreviation:"M.A."},{name:"Master of Business Administration",abbreviation:"M.B.A."},{name:"Master of Science",abbreviation:"M.S."},{name:"Medical Doctor",abbreviation:"M.D."},{name:"Senior",abbreviation:"Sr."},{name:"The Third",abbreviation:"III"},{name:"The Fourth",abbreviation:"IV"},{name:"Bachelor of Engineering",abbreviation:"B.E"},{name:"Bachelor of Technology",abbreviation:"B.TECH"}]},u.prototype.suffix=function(e){return this.name_suffix(e)},u.prototype.name_suffix=function(e){return (e=d(e)).full?this.pick(this.name_suffixes()).name:this.pick(this.name_suffixes()).abbreviation},u.prototype.nationalities=function(){return this.get("nationalities")},u.prototype.nationality=function(){return this.pick(this.nationalities()).name},u.prototype.android_id=function(){return "APA91"+this.string({pool:"0123456789abcefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_",length:178})},u.prototype.apple_token=function(){return this.string({pool:"abcdef1234567890",length:64})},u.prototype.wp8_anid2=function(){return h(this.hash({length:32}))},u.prototype.wp7_anid=function(){return "A="+this.guid().replace(/-/g,"").toUpperCase()+"&E="+this.hash({length:3})+"&W="+this.integer({min:0,max:9})},u.prototype.bb_pin=function(){return this.hash({length:8})},u.prototype.avatar=function(e){var t={protocol:null,email:null,fileExtension:null,size:null,fallback:null,rating:null};if(e)if("string"==typeof e)t.email=e,e={};else {if("object"!=typeof e)return null;if("Array"===e.constructor)return null}else t.email=this.email(),e={};return (t=d(e,t)).email||(t.email=this.email()),t.protocol={http:"http",https:"https"}[t.protocol]?t.protocol+":":"",t.size=parseInt(t.size,0)?t.size:"",t.rating={g:"g",pg:"pg",r:"r",x:"x"}[t.rating]?t.rating:"",t.fallback={404:"404",mm:"mm",identicon:"identicon",monsterid:"monsterid",wavatar:"wavatar",retro:"retro",blank:"blank"}[t.fallback]?t.fallback:"",t.fileExtension={bmp:"bmp",gif:"gif",jpg:"jpg",png:"png"}[t.fileExtension]?t.fileExtension:"",t.protocol+"//www.gravatar.com/avatar/"+this.bimd5.md5(t.email)+(t.fileExtension?"."+t.fileExtension:"")+(t.size||t.rating||t.fallback?"?":"")+(t.size?"&s="+t.size.toString():"")+(t.rating?"&r="+t.rating:"")+(t.fallback?"&d="+t.fallback:"")},u.prototype.color=function(e){function t(e,t){return [e,e,e].join(t||"")}function i(e){var i=e?"rgba":"rgb",n=e?","+this.floating({min:f,max:g}):"";return i+"("+(a?t(this.natural({min:o,max:s}),","):this.natural({min:c,max:h})+","+this.natural({min:p,max:m})+","+this.natural({max:255}))+n+")"}function n(i,n,r){var d=r?"#":"",f="";return a?(f=t(this.pad(this.hex({min:o,max:s}),2)),"shorthex"===e.format&&(f=t(this.hex({min:0,max:15})))):f="shorthex"===e.format?this.pad(this.hex({min:Math.floor(l/16),max:Math.floor(u/16)}),1)+this.pad(this.hex({min:Math.floor(c/16),max:Math.floor(h/16)}),1)+this.pad(this.hex({min:Math.floor(p/16),max:Math.floor(m/16)}),1):void 0!==l||void 0!==u||void 0!==c||void 0!==h||void 0!==p||void 0!==m?this.pad(this.hex({min:l,max:u}),2)+this.pad(this.hex({min:c,max:h}),2)+this.pad(this.hex({min:p,max:m}),2):this.pad(this.hex({min:o,max:s}),2)+this.pad(this.hex({min:o,max:s}),2)+this.pad(this.hex({min:o,max:s}),2),d+f}var r,a=(e=d(e,{format:this.pick(["hex","shorthex","rgb","rgba","0x","name"]),grayscale:!1,casing:"lower",min:0,max:255,min_red:void 0,max_red:void 0,min_green:void 0,max_green:void 0,min_blue:void 0,max_blue:void 0,min_alpha:0,max_alpha:1})).grayscale,o=e.min,s=e.max,l=e.min_red,u=e.max_red,c=e.min_green,h=e.max_green,p=e.min_blue,m=e.max_blue,f=e.min_alpha,g=e.max_alpha;if(void 0===e.min_red&&(l=o),void 0===e.max_red&&(u=s),void 0===e.min_green&&(c=o),void 0===e.max_green&&(h=s),void 0===e.min_blue&&(p=o),void 0===e.max_blue&&(m=s),void 0===e.min_alpha&&(f=0),void 0===e.max_alpha&&(g=1),a&&0===o&&255===s&&void 0!==l&&void 0!==u&&(o=(l+c+p)/3,s=(u+h+m)/3),"hex"===e.format)r=n.call(this,2,6,!0);else if("shorthex"===e.format)r=n.call(this,1,3,!0);else if("rgb"===e.format)r=i.call(this,!1);else if("rgba"===e.format)r=i.call(this,!0);else {if("0x"!==e.format){if("name"===e.format)return this.pick(this.get("colorNames"));throw new RangeError('Invalid format provided. Please provide one of "hex", "shorthex", "rgb", "rgba", "0x" or "name".')}r="0x"+n.call(this,2,6);}return "upper"===e.casing&&(r=r.toUpperCase()),r},u.prototype.domain=function(e){return e=d(e),this.word()+"."+(e.tld||this.tld())},u.prototype.email=function(e){return e=d(e),this.word({length:e.length})+"@"+(e.domain||this.domain())},u.prototype.fbid=function(){return "10000"+this.string({pool:"1234567890",length:11})},u.prototype.google_analytics=function(){return "UA-"+this.pad(this.natural({max:999999}),6)+"-"+this.pad(this.natural({max:99}),2)},u.prototype.hashtag=function(){return "#"+this.word()},u.prototype.ip=function(){return this.natural({min:1,max:254})+"."+this.natural({max:255})+"."+this.natural({max:255})+"."+this.natural({min:1,max:254})},u.prototype.ipv6=function(){return this.n(this.hash,8,{length:4}).join(":")},u.prototype.klout=function(){return this.natural({min:1,max:99})},u.prototype.semver=function(e){e=d(e,{include_prerelease:!0});var t=this.pickone(["^","~","<",">","<=",">=","="]);e.range&&(t=e.range);var i="";return e.include_prerelease&&(i=this.weighted(["","-dev","-beta","-alpha"],[50,10,5,1])),t+this.rpg("3d10").join(".")+i},u.prototype.tlds=function(){return ["com","org","edu","gov","co.uk","net","io","ac","ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","su","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","ye","yt","za","zm","zw"]},u.prototype.tld=function(){return this.pick(this.tlds())},u.prototype.twitter=function(){return "@"+this.word()},u.prototype.url=function(e){var t=(e=d(e,{protocol:"http",domain:this.domain(e),domain_prefix:"",path:this.word(),extensions:[]})).extensions.length>0?"."+this.pick(e.extensions):"",i=e.domain_prefix?e.domain_prefix+"."+e.domain:e.domain;return e.protocol+"://"+i+"/"+e.path+t},u.prototype.port=function(){return this.integer({min:0,max:65535})},u.prototype.locale=function(e){return (e=d(e)).region?this.pick(this.get("locale_regions")):this.pick(this.get("locale_languages"))},u.prototype.locales=function(e){return (e=d(e)).region?this.get("locale_regions"):this.get("locale_languages")},u.prototype.loremPicsum=function(e){var t=(e=d(e,{width:500,height:500,greyscale:!1,blurred:!1})).greyscale?"g/":"",i=e.blurred?"/?blur":"/?random";return "https://picsum.photos/"+t+e.width+"/"+e.height+i},u.prototype.address=function(e){return e=d(e),this.natural({min:5,max:2e3})+" "+this.street(e)},u.prototype.altitude=function(e){return e=d(e,{fixed:5,min:0,max:8848}),this.floating({min:e.min,max:e.max,fixed:e.fixed})},u.prototype.areacode=function(e){e=d(e,{parens:!0});var t=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:8}).toString()+this.natural({min:0,max:9}).toString();return e.parens?"("+t+")":t},u.prototype.city=function(){return this.capitalize(this.word({syllables:3}))},u.prototype.coordinates=function(e){return this.latitude(e)+", "+this.longitude(e)},u.prototype.countries=function(){return this.get("countries")},u.prototype.country=function(e){e=d(e);var t=this.pick(this.countries());return e.raw?t:e.full?t.name:t.abbreviation},u.prototype.depth=function(e){return e=d(e,{fixed:5,min:-10994,max:0}),this.floating({min:e.min,max:e.max,fixed:e.fixed})},u.prototype.geohash=function(e){return e=d(e,{length:7}),this.string({length:e.length,pool:"0123456789bcdefghjkmnpqrstuvwxyz"})},u.prototype.geojson=function(e){return this.latitude(e)+", "+this.longitude(e)+", "+this.altitude(e)},u.prototype.latitude=function(e){const[t,i,n]=["ddm","dms","dd"],r=(e=d(e,e&&e.format&&[t,i].includes(e.format.toLowerCase())?{min:0,max:89,fixed:4}:{fixed:5,min:-90,max:90,format:n})).format.toLowerCase();switch(r!==t&&r!==i||(c(e.min<0||e.min>89,"Chance: Min specified is out of range. Should be between 0 - 89"),c(e.max<0||e.max>89,"Chance: Max specified is out of range. Should be between 0 - 89"),c(e.fixed>4,"Chance: Fixed specified should be below or equal to 4")),r){case t:return this.integer({min:e.min,max:e.max})+"°"+this.floating({min:0,max:59,fixed:e.fixed});case i:return this.integer({min:e.min,max:e.max})+"°"+this.integer({min:0,max:59})+"’"+this.floating({min:0,max:59,fixed:e.fixed})+"”";default:return this.floating({min:e.min,max:e.max,fixed:e.fixed})}},u.prototype.longitude=function(e){const[t,i,n]=["ddm","dms","dd"],r=(e=d(e,e&&e.format&&[t,i].includes(e.format.toLowerCase())?{min:0,max:179,fixed:4}:{fixed:5,min:-180,max:180,format:n})).format.toLowerCase();switch(r!==t&&r!==i||(c(e.min<0||e.min>179,"Chance: Min specified is out of range. Should be between 0 - 179"),c(e.max<0||e.max>179,"Chance: Max specified is out of range. Should be between 0 - 179"),c(e.fixed>4,"Chance: Fixed specified should be below or equal to 4")),r){case t:return this.integer({min:e.min,max:e.max})+"°"+this.floating({min:0,max:59.9999,fixed:e.fixed});case i:return this.integer({min:e.min,max:e.max})+"°"+this.integer({min:0,max:59})+"’"+this.floating({min:0,max:59.9999,fixed:e.fixed})+"”";default:return this.floating({min:e.min,max:e.max,fixed:e.fixed})}},u.prototype.phone=function(e){var t,i,n=this,r=function(e){var t=[];return e.sections.forEach((function(e){t.push(n.string({pool:"0123456789",length:e}));})),e.area+t.join(" ")};switch((e=d(e,{formatted:!0,country:"us",mobile:!1})).formatted||(e.parens=!1),e.country){case"fr":e.mobile?(t=this.pick(["06","07"])+n.string({pool:"0123456789",length:8}),i=e.formatted?t.match(/../g).join(" "):t):(t=this.pick(["01"+this.pick(["30","34","39","40","41","42","43","44","45","46","47","48","49","53","55","56","58","60","64","69","70","72","73","74","75","76","77","78","79","80","81","82","83"])+n.string({pool:"0123456789",length:6}),"02"+this.pick(["14","18","22","23","28","29","30","31","32","33","34","35","36","37","38","40","41","43","44","45","46","47","48","49","50","51","52","53","54","56","57","61","62","69","72","76","77","78","85","90","96","97","98","99"])+n.string({pool:"0123456789",length:6}),"03"+this.pick(["10","20","21","22","23","24","25","26","27","28","29","39","44","45","51","52","54","55","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","80","81","82","83","84","85","86","87","88","89","90"])+n.string({pool:"0123456789",length:6}),"04"+this.pick(["11","13","15","20","22","26","27","30","32","34","37","42","43","44","50","56","57","63","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","88","89","90","91","92","93","94","95","97","98"])+n.string({pool:"0123456789",length:6}),"05"+this.pick(["08","16","17","19","24","31","32","33","34","35","40","45","46","47","49","53","55","56","57","58","59","61","62","63","64","65","67","79","81","82","86","87","90","94"])+n.string({pool:"0123456789",length:6}),"09"+n.string({pool:"0123456789",length:8})]),i=e.formatted?t.match(/../g).join(" "):t);break;case"uk":e.mobile?(t=this.pick([{area:"07"+this.pick(["4","5","7","8","9"]),sections:[2,6]},{area:"07624 ",sections:[6]}]),i=e.formatted?r(t):r(t).replace(" ","")):(t=this.pick([{area:"01"+this.character({pool:"234569"})+"1 ",sections:[3,4]},{area:"020 "+this.character({pool:"378"}),sections:[3,4]},{area:"023 "+this.character({pool:"89"}),sections:[3,4]},{area:"024 7",sections:[3,4]},{area:"028 "+this.pick(["25","28","37","71","82","90","92","95"]),sections:[2,4]},{area:"012"+this.pick(["04","08","54","76","97","98"])+" ",sections:[6]},{area:"013"+this.pick(["63","64","84","86"])+" ",sections:[6]},{area:"014"+this.pick(["04","20","60","61","80","88"])+" ",sections:[6]},{area:"015"+this.pick(["24","27","62","66"])+" ",sections:[6]},{area:"016"+this.pick(["06","29","35","47","59","95"])+" ",sections:[6]},{area:"017"+this.pick(["26","44","50","68"])+" ",sections:[6]},{area:"018"+this.pick(["27","37","84","97"])+" ",sections:[6]},{area:"019"+this.pick(["00","05","35","46","49","63","95"])+" ",sections:[6]}]),i=e.formatted?r(t):r(t).replace(" ","","g"));break;case"za":e.mobile?(t=this.pick(["060"+this.pick(["3","4","5","6","7","8","9"])+n.string({pool:"0123456789",length:6}),"061"+this.pick(["0","1","2","3","4","5","8"])+n.string({pool:"0123456789",length:6}),"06"+n.string({pool:"0123456789",length:7}),"071"+this.pick(["0","1","2","3","4","5","6","7","8","9"])+n.string({pool:"0123456789",length:6}),"07"+this.pick(["2","3","4","6","7","8","9"])+n.string({pool:"0123456789",length:7}),"08"+this.pick(["0","1","2","3","4","5"])+n.string({pool:"0123456789",length:7})]),i=e.formatted||t):(t=this.pick(["01"+this.pick(["0","1","2","3","4","5","6","7","8"])+n.string({pool:"0123456789",length:7}),"02"+this.pick(["1","2","3","4","7","8"])+n.string({pool:"0123456789",length:7}),"03"+this.pick(["1","2","3","5","6","9"])+n.string({pool:"0123456789",length:7}),"04"+this.pick(["1","2","3","4","5","6","7","8","9"])+n.string({pool:"0123456789",length:7}),"05"+this.pick(["1","3","4","6","7","8"])+n.string({pool:"0123456789",length:7})]),i=e.formatted||t);break;case"us":var a=this.areacode(e).toString(),o=this.natural({min:2,max:9}).toString()+this.natural({min:0,max:9}).toString()+this.natural({min:0,max:9}).toString(),s=this.natural({min:1e3,max:9999}).toString();i=e.formatted?a+" "+o+"-"+s:a+o+s;break;case"br":var l,u=this.pick(["11","12","13","14","15","16","17","18","19","21","22","24","27","28","31","32","33","34","35","37","38","41","42","43","44","45","46","47","48","49","51","53","54","55","61","62","63","64","65","66","67","68","69","71","73","74","75","77","79","81","82","83","84","85","86","87","88","89","91","92","93","94","95","96","97","98","99"]);l=e.mobile?"9"+n.string({pool:"0123456789",length:4}):this.natural({min:2e3,max:5999}).toString();var c=n.string({pool:"0123456789",length:4});i=e.formatted?"("+u+") "+l+"-"+c:u+l+c;}return i},u.prototype.postal=function(){return this.character({pool:"XVTSRPNKLMHJGECBA"})+this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+" "+(this.natural({max:9})+this.character({alpha:!0,casing:"upper"})+this.natural({max:9}))},u.prototype.postcode=function(){return this.pick(this.get("postcodeAreas")).code+this.natural({max:9})+(this.bool()?this.character({alpha:!0,casing:"upper"}):"")+" "+(this.natural({max:9})+(this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})))},u.prototype.counties=function(e){return e=d(e,{country:"uk"}),this.get("counties")[e.country.toLowerCase()]},u.prototype.county=function(e){return this.pick(this.counties(e)).name},u.prototype.provinces=function(e){return e=d(e,{country:"ca"}),this.get("provinces")[e.country.toLowerCase()]},u.prototype.province=function(e){return e&&e.full?this.pick(this.provinces(e)).name:this.pick(this.provinces(e)).abbreviation},u.prototype.state=function(e){return e&&e.full?this.pick(this.states(e)).name:this.pick(this.states(e)).abbreviation},u.prototype.states=function(e){var t;switch((e=d(e,{country:"us",us_states_and_dc:!0})).country.toLowerCase()){case"us":var i=this.get("us_states_and_dc"),n=this.get("territories"),r=this.get("armed_forces");t=[],e.us_states_and_dc&&(t=t.concat(i)),e.territories&&(t=t.concat(n)),e.armed_forces&&(t=t.concat(r));break;case"it":case"mx":t=this.get("country_regions")[e.country.toLowerCase()];break;case"uk":t=this.get("counties")[e.country.toLowerCase()];}return t},u.prototype.street=function(e){var t;switch((e=d(e,{country:"us",syllables:2})).country.toLowerCase()){case"us":t=this.word({syllables:e.syllables}),t=this.capitalize(t),t+=" ",t+=e.short_suffix?this.street_suffix(e).abbreviation:this.street_suffix(e).name;break;case"it":t=this.word({syllables:e.syllables}),t=this.capitalize(t),t=(e.short_suffix?this.street_suffix(e).abbreviation:this.street_suffix(e).name)+" "+t;}return t},u.prototype.street_suffix=function(e){return e=d(e,{country:"us"}),this.pick(this.street_suffixes(e))},u.prototype.street_suffixes=function(e){return e=d(e,{country:"us"}),this.get("street_suffixes")[e.country.toLowerCase()]},u.prototype.zip=function(e){var t=this.n(this.natural,5,{max:9});return e&&!0===e.plusfour&&(t.push("-"),t=t.concat(this.n(this.natural,4,{max:9}))),t.join("")},u.prototype.ampm=function(){return this.bool()?"am":"pm"},u.prototype.date=function(e){var t,i;if(e&&(e.min||e.max)){var n=void 0!==(e=d(e,{american:!0,string:!1})).min?e.min.getTime():1,r=void 0!==e.max?e.max.getTime():864e13;i=new Date(this.integer({min:n,max:r}));}else {var a=this.month({raw:!0}),o=a.days;e&&e.month&&(o=this.get("months")[(e.month%12+12)%12].days),e=d(e,{year:parseInt(this.year(),10),month:a.numeric-1,day:this.natural({min:1,max:o}),hour:this.hour({twentyfour:!0}),minute:this.minute(),second:this.second(),millisecond:this.millisecond(),american:!0,string:!1}),i=new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond);}return t=e.american?i.getMonth()+1+"/"+i.getDate()+"/"+i.getFullYear():i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear(),e.string?t:i},u.prototype.hammertime=function(e){return this.date(e).getTime()},u.prototype.hour=function(e){return c((e=d(e,{min:e&&e.twentyfour?0:1,max:e&&e.twentyfour?23:12})).min<0,"Chance: Min cannot be less than 0."),c(e.twentyfour&&e.max>23,"Chance: Max cannot be greater than 23 for twentyfour option."),c(!e.twentyfour&&e.max>12,"Chance: Max cannot be greater than 12."),c(e.min>e.max,"Chance: Min cannot be greater than Max."),this.natural({min:e.min,max:e.max})},u.prototype.millisecond=function(){return this.natural({max:999})},u.prototype.minute=u.prototype.second=function(e){return c((e=d(e,{min:0,max:59})).min<0,"Chance: Min cannot be less than 0."),c(e.max>59,"Chance: Max cannot be greater than 59."),c(e.min>e.max,"Chance: Min cannot be greater than Max."),this.natural({min:e.min,max:e.max})},u.prototype.month=function(e){c((e=d(e,{min:1,max:12})).min<1,"Chance: Min cannot be less than 1."),c(e.max>12,"Chance: Max cannot be greater than 12."),c(e.min>e.max,"Chance: Min cannot be greater than Max.");var t=this.pick(this.months().slice(e.min-1,e.max));return e.raw?t:t.name},u.prototype.months=function(){return this.get("months")},u.prototype.second=function(){return this.natural({max:59})},u.prototype.timestamp=function(){return this.natural({min:1,max:parseInt((new Date).getTime()/1e3,10)})},u.prototype.weekday=function(e){var t=["Monday","Tuesday","Wednesday","Thursday","Friday"];return (e=d(e,{weekday_only:!1})).weekday_only||(t.push("Saturday"),t.push("Sunday")),this.pickone(t)},u.prototype.year=function(e){return (e=d(e,{min:(new Date).getFullYear()})).max=void 0!==e.max?e.max:e.min+100,this.natural(e).toString()},u.prototype.cc=function(e){var t,i,n;return i=(t=(e=d(e)).type?this.cc_type({name:e.type,raw:!0}):this.cc_type({raw:!0})).prefix.split(""),n=t.length-t.prefix.length-1,(i=i.concat(this.n(this.integer,n,{min:0,max:9}))).push(this.luhn_calculate(i.join(""))),i.join("")},u.prototype.cc_types=function(){return this.get("cc_types")},u.prototype.cc_type=function(e){e=d(e);var t=this.cc_types(),i=null;if(e.name){for(var n=0;n<t.length;n++)if(t[n].name===e.name||t[n].short_name===e.name){i=t[n];break}if(null===i)throw new RangeError("Chance: Credit card type '"+e.name+"' is not supported")}else i=this.pick(t);return e.raw?i:i.name},u.prototype.currency_types=function(){return this.get("currency_types")},u.prototype.currency=function(){return this.pick(this.currency_types())},u.prototype.timezones=function(){return this.get("timezones")},u.prototype.timezone=function(){return this.pick(this.timezones())},u.prototype.currency_pair=function(e){var t=this.unique(this.currency,2,{comparator:function(e,t){return e.reduce((function(e,i){return e||i.code===t.code}),!1)}});return e?t[0].code+"/"+t[1].code:t},u.prototype.dollar=function(e){e=d(e,{max:1e4,min:0});var t=this.floating({min:e.min,max:e.max,fixed:2}).toString(),i=t.split(".")[1];return void 0===i?t+=".00":i.length<2&&(t+="0"),t<0?"-$"+t.replace("-",""):"$"+t},u.prototype.euro=function(e){return Number(this.dollar(e).replace("$","")).toLocaleString()+"€"},u.prototype.exp=function(e){e=d(e);var t={};return t.year=this.exp_year(),t.year===(new Date).getFullYear().toString()?t.month=this.exp_month({future:!0}):t.month=this.exp_month(),e.raw?t:t.month+"/"+t.year},u.prototype.exp_month=function(e){e=d(e);var t,i,n=(new Date).getMonth()+1;if(e.future&&12!==n)do{t=this.month({raw:!0}).numeric,i=parseInt(t,10);}while(i<=n);else t=this.month({raw:!0}).numeric;return t},u.prototype.exp_year=function(){var e=(new Date).getMonth()+1,t=(new Date).getFullYear();return this.year({min:12===e?t+1:t,max:t+10})},u.prototype.vat=function(e){if("it"===(e=d(e,{country:"it"})).country.toLowerCase())return this.it_vat()},u.prototype.iban=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";return this.string({length:2,pool:e})+this.pad(this.integer({min:0,max:99}),2)+this.string({length:4,pool:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789"})+this.pad(this.natural(),this.natural({min:6,max:26}))},u.prototype.it_vat=function(){var e=this.natural({min:1,max:18e5});return (e=this.pad(e,7)+this.pad(this.pick(this.provinces({country:"it"})).code,3))+this.luhn_calculate(e)},u.prototype.cf=function(e){var t=(e=e||{}).gender?e.gender:this.gender(),i=e.first?e.first:this.first({gender:t,nationality:"it"}),n=e.last?e.last:this.last({nationality:"it"}),r=e.birthday?e.birthday:this.birthday(),a=e.city?e.city:this.pickone(["A","B","C","D","E","F","G","H","I","L","M","Z"])+this.pad(this.natural({max:999}),3),o=[],s=function(e,t){var i,n=[];return e.length<3?n=e.split("").concat("XXX".split("")).splice(0,3):(i=e.toUpperCase().split("").map((function(e){return -1!=="BCDFGHJKLMNPRSTVWZ".indexOf(e)?e:void 0})).join(""),i.length>3&&(i=t?i.substr(0,3):i[0]+i.substr(2,2)),i.length<3&&(n=i,i=e.toUpperCase().split("").map((function(e){return -1!=="AEIOU".indexOf(e)?e:void 0})).join("").substr(0,3-n.length)),n+=i),n};return o=o.concat(s(n,!0),s(i),function(e,t,i){return e.getFullYear().toString().substr(2)+["A","B","C","D","E","H","L","M","P","R","S","T"][e.getMonth()]+i.pad(e.getDate()+("female"===t.toLowerCase()?40:0),2)}(r,t,this),a.toUpperCase().split("")).join(""),o+=function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i="ABCDEFGHIJABCDEFGHIJKLMNOPQRSTUVWXYZ",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0,a=0;a<15;a++)r+=a%2!=0?n.indexOf(i[t.indexOf(e[a])]):"BAKPLCQDREVOSFTGUHMINJWZYX".indexOf(i[t.indexOf(e[a])]);return n[r%26]}(o.toUpperCase()),o.toUpperCase()},u.prototype.pl_pesel=function(){for(var e=this.natural({min:1,max:9999999999}),t=this.pad(e,10).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var n=(1*t[0]+3*t[1]+7*t[2]+9*t[3]+1*t[4]+3*t[5]+7*t[6]+9*t[7]+1*t[8]+3*t[9])%10;return 0!==n&&(n=10-n),t.join("")+n},u.prototype.pl_nip=function(){for(var e=this.natural({min:1,max:999999999}),t=this.pad(e,9).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var n=(6*t[0]+5*t[1]+7*t[2]+2*t[3]+3*t[4]+4*t[5]+5*t[6]+6*t[7]+7*t[8])%11;return 10===n?this.pl_nip():t.join("")+n},u.prototype.pl_regon=function(){for(var e=this.natural({min:1,max:99999999}),t=this.pad(e,8).split(""),i=0;i<t.length;i++)t[i]=parseInt(t[i]);var n=(8*t[0]+9*t[1]+2*t[2]+3*t[3]+4*t[4]+5*t[5]+6*t[6]+7*t[7])%11;return 10===n&&(n=0),t.join("")+n},u.prototype.note=function(e){e=d(e,{notes:"flatKey"});var t={naturals:["C","D","E","F","G","A","B"],flats:["D♭","E♭","G♭","A♭","B♭"],sharps:["C♯","D♯","F♯","G♯","A♯"]};return t.all=t.naturals.concat(t.flats.concat(t.sharps)),t.flatKey=t.naturals.concat(t.flats),t.sharpKey=t.naturals.concat(t.sharps),this.pickone(t[e.notes])},u.prototype.midi_note=function(e){return e=d(e,{min:0,max:127}),this.integer({min:e.min,max:e.max})},u.prototype.chord_quality=function(e){var t=["maj","min","aug","dim"];return (e=d(e,{jazz:!0})).jazz&&(t=["maj7","min7","7","sus","dim","ø"]),this.pickone(t)},u.prototype.chord=function(e){return e=d(e),this.note(e)+this.chord_quality(e)},u.prototype.tempo=function(e){return e=d(e,{min:40,max:320}),this.integer({min:e.min,max:e.max})},u.prototype.coin=function(){return this.bool()?"heads":"tails"},u.prototype.d4=g({min:1,max:4}),u.prototype.d6=g({min:1,max:6}),u.prototype.d8=g({min:1,max:8}),u.prototype.d10=g({min:1,max:10}),u.prototype.d12=g({min:1,max:12}),u.prototype.d20=g({min:1,max:20}),u.prototype.d30=g({min:1,max:30}),u.prototype.d100=g({min:1,max:100}),u.prototype.rpg=function(e,t){if(t=d(t),e){var i=e.toLowerCase().split("d"),n=[];if(2!==i.length||!parseInt(i[0],10)||!parseInt(i[1],10))throw new Error("Chance: Invalid format provided. Please provide #d# where the first # is the number of dice to roll, the second # is the max of each die");for(var r=i[0];r>0;r--)n[r-1]=this.natural({min:1,max:i[1]});return void 0!==t.sum&&t.sum?n.reduce((function(e,t){return e+t})):n}throw new RangeError("Chance: A type of die roll must be included")},u.prototype.guid=function(e){e=d(e,{version:5});var t="abcdef1234567890";return this.string({pool:t,length:8})+"-"+this.string({pool:t,length:4})+"-"+e.version+this.string({pool:t,length:3})+"-"+this.string({pool:"ab89",length:1})+this.string({pool:t,length:3})+"-"+this.string({pool:t,length:12})},u.prototype.hash=function(e){var t="upper"===(e=d(e,{length:40,casing:"lower"})).casing?o.toUpperCase():o;return this.string({pool:t,length:e.length})},u.prototype.luhn_check=function(e){var t=e.toString();return +t.substring(t.length-1)===this.luhn_calculate(+t.substring(0,t.length-1))},u.prototype.luhn_calculate=function(e){for(var t,i=e.toString().split("").reverse(),n=0,r=0,a=i.length;a>r;++r)t=+i[r],r%2==0&&(t*=2)>9&&(t-=9),n+=t;return 9*n%10},u.prototype.md5=function(e){var t={str:"",key:null,raw:!1};if(e)if("string"==typeof e)t.str=e,e={};else {if("object"!=typeof e)return null;if("Array"===e.constructor)return null}else t.str=this.string(),e={};if(!(t=d(e,t)).str)throw new Error("A parameter is required to return an md5 hash.");return this.bimd5.md5(t.str,t.key,t.raw)},u.prototype.file=function(e){var t,i=e||{},n="fileExtension",r=Object.keys(this.get("fileExtension"));if(t=this.word({length:i.length}),i.extension)return t+"."+i.extension;if(i.extensions){if(Array.isArray(i.extensions))return t+"."+this.pickone(i.extensions);if(i.extensions.constructor===Object){var a=i.extensions,o=Object.keys(a);return t+"."+this.pickone(a[this.pickone(o)])}throw new Error("Chance: Extensions must be an Array or Object")}if(i.fileType){var s=i.fileType;if(-1!==r.indexOf(s))return t+"."+this.pickone(this.get(n)[s]);throw new RangeError("Chance: Expect file type value to be 'raster', 'vector', '3d' or 'document'")}return t+"."+this.pickone(this.get(n)[this.pickone(r)])};var y={firstNames:{male:{en:["James","John","Robert","Michael","William","David","Richard","Joseph","Charles","Thomas","Christopher","Daniel","Matthew","George","Donald","Anthony","Paul","Mark","Edward","Steven","Kenneth","Andrew","Brian","Joshua","Kevin","Ronald","Timothy","Jason","Jeffrey","Frank","Gary","Ryan","Nicholas","Eric","Stephen","Jacob","Larry","Jonathan","Scott","Raymond","Justin","Brandon","Gregory","Samuel","Benjamin","Patrick","Jack","Henry","Walter","Dennis","Jerry","Alexander","Peter","Tyler","Douglas","Harold","Aaron","Jose","Adam","Arthur","Zachary","Carl","Nathan","Albert","Kyle","Lawrence","Joe","Willie","Gerald","Roger","Keith","Jeremy","Terry","Harry","Ralph","Sean","Jesse","Roy","Louis","Billy","Austin","Bruce","Eugene","Christian","Bryan","Wayne","Russell","Howard","Fred","Ethan","Jordan","Philip","Alan","Juan","Randy","Vincent","Bobby","Dylan","Johnny","Phillip","Victor","Clarence","Ernest","Martin","Craig","Stanley","Shawn","Travis","Bradley","Leonard","Earl","Gabriel","Jimmy","Francis","Todd","Noah","Danny","Dale","Cody","Carlos","Allen","Frederick","Logan","Curtis","Alex","Joel","Luis","Norman","Marvin","Glenn","Tony","Nathaniel","Rodney","Melvin","Alfred","Steve","Cameron","Chad","Edwin","Caleb","Evan","Antonio","Lee","Herbert","Jeffery","Isaac","Derek","Ricky","Marcus","Theodore","Elijah","Luke","Jesus","Eddie","Troy","Mike","Dustin","Ray","Adrian","Bernard","Leroy","Angel","Randall","Wesley","Ian","Jared","Mason","Hunter","Calvin","Oscar","Clifford","Jay","Shane","Ronnie","Barry","Lucas","Corey","Manuel","Leo","Tommy","Warren","Jackson","Isaiah","Connor","Don","Dean","Jon","Julian","Miguel","Bill","Lloyd","Charlie","Mitchell","Leon","Jerome","Darrell","Jeremiah","Alvin","Brett","Seth","Floyd","Jim","Blake","Micheal","Gordon","Trevor","Lewis","Erik","Edgar","Vernon","Devin","Gavin","Jayden","Chris","Clyde","Tom","Derrick","Mario","Brent","Marc","Herman","Chase","Dominic","Ricardo","Franklin","Maurice","Max","Aiden","Owen","Lester","Gilbert","Elmer","Gene","Francisco","Glen","Cory","Garrett","Clayton","Sam","Jorge","Chester","Alejandro","Jeff","Harvey","Milton","Cole","Ivan","Andre","Duane","Landon"],it:["Adolfo","Alberto","Aldo","Alessandro","Alessio","Alfredo","Alvaro","Andrea","Angelo","Angiolo","Antonino","Antonio","Attilio","Benito","Bernardo","Bruno","Carlo","Cesare","Christian","Claudio","Corrado","Cosimo","Cristian","Cristiano","Daniele","Dario","David","Davide","Diego","Dino","Domenico","Duccio","Edoardo","Elia","Elio","Emanuele","Emiliano","Emilio","Enrico","Enzo","Ettore","Fabio","Fabrizio","Federico","Ferdinando","Fernando","Filippo","Francesco","Franco","Gabriele","Giacomo","Giampaolo","Giampiero","Giancarlo","Gianfranco","Gianluca","Gianmarco","Gianni","Gino","Giorgio","Giovanni","Giuliano","Giulio","Giuseppe","Graziano","Gregorio","Guido","Iacopo","Jacopo","Lapo","Leonardo","Lorenzo","Luca","Luciano","Luigi","Manuel","Marcello","Marco","Marino","Mario","Massimiliano","Massimo","Matteo","Mattia","Maurizio","Mauro","Michele","Mirko","Mohamed","Nello","Neri","Niccolò","Nicola","Osvaldo","Otello","Paolo","Pier Luigi","Piero","Pietro","Raffaele","Remo","Renato","Renzo","Riccardo","Roberto","Rolando","Romano","Salvatore","Samuele","Sandro","Sergio","Silvano","Simone","Stefano","Thomas","Tommaso","Ubaldo","Ugo","Umberto","Valerio","Valter","Vasco","Vincenzo","Vittorio"],nl:["Aaron","Abel","Adam","Adriaan","Albert","Alexander","Ali","Arjen","Arno","Bart","Bas","Bastiaan","Benjamin","Bob","Boris","Bram","Brent","Cas","Casper","Chris","Christiaan","Cornelis","Daan","Daley","Damian","Dani","Daniel","Daniël","David","Dean","Dirk","Dylan","Egbert","Elijah","Erik","Erwin","Evert","Ezra","Fabian","Fedde","Finn","Florian","Floris","Frank","Frans","Frederik","Freek","Geert","Gerard","Gerben","Gerrit","Gijs","Guus","Hans","Hendrik","Henk","Herman","Hidde","Hugo","Jaap","Jan Jaap","Jan-Willem","Jack","Jacob","Jan","Jason","Jasper","Jayden","Jelle","Jelte","Jens","Jeroen","Jesse","Jim","Job","Joep","Johannes","John","Jonathan","Joris","Joshua","Joël","Julian","Kees","Kevin","Koen","Lars","Laurens","Leendert","Lennard","Lodewijk","Luc","Luca","Lucas","Lukas","Luuk","Maarten","Marcus","Martijn","Martin","Matthijs","Maurits","Max","Mees","Melle","Mick","Mika","Milan","Mohamed","Mohammed","Morris","Muhammed","Nathan","Nick","Nico","Niek","Niels","Noah","Noud","Olivier","Oscar","Owen","Paul","Pepijn","Peter","Pieter","Pim","Quinten","Reinier","Rens","Robin","Ruben","Sam","Samuel","Sander","Sebastiaan","Sem","Sep","Sepp","Siem","Simon","Stan","Stef","Steven","Stijn","Sven","Teun","Thijmen","Thijs","Thomas","Tijn","Tim","Timo","Tobias","Tom","Victor","Vince","Willem","Wim","Wouter","Yusuf"],fr:["Aaron","Abdon","Abel","Abélard","Abelin","Abondance","Abraham","Absalon","Acace","Achaire","Achille","Adalard","Adalbald","Adalbéron","Adalbert","Adalric","Adam","Adegrin","Adel","Adelin","Andelin","Adelphe","Adam","Adéodat","Adhémar","Adjutor","Adolphe","Adonis","Adon","Adrien","Agapet","Agathange","Agathon","Agilbert","Agénor","Agnan","Aignan","Agrippin","Aimable","Aimé","Alain","Alban","Albin","Aubin","Albéric","Albert","Albertet","Alcibiade","Alcide","Alcée","Alcime","Aldonce","Aldric","Aldéric","Aleaume","Alexandre","Alexis","Alix","Alliaume","Aleaume","Almine","Almire","Aloïs","Alphée","Alphonse","Alpinien","Alverède","Amalric","Amaury","Amandin","Amant","Ambroise","Amédée","Amélien","Amiel","Amour","Anaël","Anastase","Anatole","Ancelin","Andéol","Andoche","André","Andoche","Ange","Angelin","Angilbe","Anglebert","Angoustan","Anicet","Anne","Annibal","Ansbert","Anselme","Anthelme","Antheaume","Anthime","Antide","Antoine","Antonius","Antonin","Apollinaire","Apollon","Aquilin","Arcade","Archambaud","Archambeau","Archange","Archibald","Arian","Ariel","Ariste","Aristide","Armand","Armel","Armin","Arnould","Arnaud","Arolde","Arsène","Arsinoé","Arthaud","Arthème","Arthur","Ascelin","Athanase","Aubry","Audebert","Audouin","Audran","Audric","Auguste","Augustin","Aurèle","Aurélien","Aurian","Auxence","Axel","Aymard","Aymeric","Aymon","Aymond","Balthazar","Baptiste","Barnabé","Barthélemy","Bartimée","Basile","Bastien","Baudouin","Bénigne","Benjamin","Benoît","Bérenger","Bérard","Bernard","Bertrand","Blaise","Bon","Boniface","Bouchard","Brice","Brieuc","Bruno","Brunon","Calixte","Calliste","Camélien","Camille","Camillien","Candide","Caribert","Carloman","Cassandre","Cassien","Cédric","Céleste","Célestin","Célien","Césaire","César","Charles","Charlemagne","Childebert","Chilpéric","Chrétien","Christian","Christodule","Christophe","Chrysostome","Clarence","Claude","Claudien","Cléandre","Clément","Clotaire","Côme","Constance","Constant","Constantin","Corentin","Cyprien","Cyriaque","Cyrille","Cyril","Damien","Daniel","David","Delphin","Denis","Désiré","Didier","Dieudonné","Dimitri","Dominique","Dorian","Dorothée","Edgard","Edmond","Édouard","Éleuthère","Élie","Élisée","Émeric","Émile","Émilien","Emmanuel","Enguerrand","Épiphane","Éric","Esprit","Ernest","Étienne","Eubert","Eudes","Eudoxe","Eugène","Eusèbe","Eustache","Évariste","Évrard","Fabien","Fabrice","Falba","Félicité","Félix","Ferdinand","Fiacre","Fidèle","Firmin","Flavien","Flodoard","Florent","Florentin","Florestan","Florian","Fortuné","Foulques","Francisque","François","Français","Franciscus","Francs","Frédéric","Fulbert","Fulcran","Fulgence","Gabin","Gabriel","Gaël","Garnier","Gaston","Gaspard","Gatien","Gaud","Gautier","Gédéon","Geoffroy","Georges","Géraud","Gérard","Gerbert","Germain","Gervais","Ghislain","Gilbert","Gilles","Girart","Gislebert","Gondebaud","Gonthier","Gontran","Gonzague","Grégoire","Guérin","Gui","Guillaume","Gustave","Guy","Guyot","Hardouin","Hector","Hédelin","Hélier","Henri","Herbert","Herluin","Hervé","Hilaire","Hildebert","Hincmar","Hippolyte","Honoré","Hubert","Hugues","Innocent","Isabeau","Isidore","Jacques","Japhet","Jason","Jean","Jeannel","Jeannot","Jérémie","Jérôme","Joachim","Joanny","Job","Jocelyn","Joël","Johan","Jonas","Jonathan","Joseph","Josse","Josselin","Jourdain","Jude","Judicaël","Jules","Julien","Juste","Justin","Lambert","Landry","Laurent","Lazare","Léandre","Léon","Léonard","Léopold","Leu","Loup","Leufroy","Libère","Liétald","Lionel","Loïc","Longin","Lorrain","Lorraine","Lothaire","Louis","Loup","Luc","Lucas","Lucien","Ludolphe","Ludovic","Macaire","Malo","Mamert","Manassé","Marc","Marceau","Marcel","Marcelin","Marius","Marseille","Martial","Martin","Mathurin","Matthias","Mathias","Matthieu","Maugis","Maurice","Mauricet","Maxence","Maxime","Maximilien","Mayeul","Médéric","Melchior","Mence","Merlin","Mérovée","Michaël","Michel","Moïse","Morgan","Nathan","Nathanaël","Narcisse","Néhémie","Nestor","Nestor","Nicéphore","Nicolas","Noé","Noël","Norbert","Normand","Normands","Octave","Odilon","Odon","Oger","Olivier","Oury","Pacôme","Palémon","Parfait","Pascal","Paterne","Patrice","Paul","Pépin","Perceval","Philémon","Philibert","Philippe","Philothée","Pie","Pierre","Pierrick","Prosper","Quentin","Raoul","Raphaël","Raymond","Régis","Réjean","Rémi","Renaud","René","Reybaud","Richard","Robert","Roch","Rodolphe","Rodrigue","Roger","Roland","Romain","Romuald","Roméo","Rome","Ronan","Roselin","Salomon","Samuel","Savin","Savinien","Scholastique","Sébastien","Séraphin","Serge","Séverin","Sidoine","Sigebert","Sigismond","Silvère","Simon","Siméon","Sixte","Stanislas","Stéphane","Stephan","Sylvain","Sylvestre","Tancrède","Tanguy","Taurin","Théodore","Théodose","Théophile","Théophraste","Thibault","Thibert","Thierry","Thomas","Timoléon","Timothée","Titien","Tonnin","Toussaint","Trajan","Tristan","Turold","Tim","Ulysse","Urbain","Valentin","Valère","Valéry","Venance","Venant","Venceslas","Vianney","Victor","Victorien","Victorin","Vigile","Vincent","Vital","Vitalien","Vivien","Waleran","Wandrille","Xavier","Xénophon","Yves","Zacharie","Zaché","Zéphirin"]},female:{en:["Mary","Emma","Elizabeth","Minnie","Margaret","Ida","Alice","Bertha","Sarah","Annie","Clara","Ella","Florence","Cora","Martha","Laura","Nellie","Grace","Carrie","Maude","Mabel","Bessie","Jennie","Gertrude","Julia","Hattie","Edith","Mattie","Rose","Catherine","Lillian","Ada","Lillie","Helen","Jessie","Louise","Ethel","Lula","Myrtle","Eva","Frances","Lena","Lucy","Edna","Maggie","Pearl","Daisy","Fannie","Josephine","Dora","Rosa","Katherine","Agnes","Marie","Nora","May","Mamie","Blanche","Stella","Ellen","Nancy","Effie","Sallie","Nettie","Della","Lizzie","Flora","Susie","Maud","Mae","Etta","Harriet","Sadie","Caroline","Katie","Lydia","Elsie","Kate","Susan","Mollie","Alma","Addie","Georgia","Eliza","Lulu","Nannie","Lottie","Amanda","Belle","Charlotte","Rebecca","Ruth","Viola","Olive","Amelia","Hannah","Jane","Virginia","Emily","Matilda","Irene","Kathryn","Esther","Willie","Henrietta","Ollie","Amy","Rachel","Sara","Estella","Theresa","Augusta","Ora","Pauline","Josie","Lola","Sophia","Leona","Anne","Mildred","Ann","Beulah","Callie","Lou","Delia","Eleanor","Barbara","Iva","Louisa","Maria","Mayme","Evelyn","Estelle","Nina","Betty","Marion","Bettie","Dorothy","Luella","Inez","Lela","Rosie","Allie","Millie","Janie","Cornelia","Victoria","Ruby","Winifred","Alta","Celia","Christine","Beatrice","Birdie","Harriett","Mable","Myra","Sophie","Tillie","Isabel","Sylvia","Carolyn","Isabelle","Leila","Sally","Ina","Essie","Bertie","Nell","Alberta","Katharine","Lora","Rena","Mina","Rhoda","Mathilda","Abbie","Eula","Dollie","Hettie","Eunice","Fanny","Ola","Lenora","Adelaide","Christina","Lelia","Nelle","Sue","Johanna","Lilly","Lucinda","Minerva","Lettie","Roxie","Cynthia","Helena","Hilda","Hulda","Bernice","Genevieve","Jean","Cordelia","Marian","Francis","Jeanette","Adeline","Gussie","Leah","Lois","Lura","Mittie","Hallie","Isabella","Olga","Phoebe","Teresa","Hester","Lida","Lina","Winnie","Claudia","Marguerite","Vera","Cecelia","Bess","Emilie","Rosetta","Verna","Myrtie","Cecilia","Elva","Olivia","Ophelia","Georgie","Elnora","Violet","Adele","Lily","Linnie","Loretta","Madge","Polly","Virgie","Eugenia","Lucile","Lucille","Mabelle","Rosalie"],it:["Ada","Adriana","Alessandra","Alessia","Alice","Angela","Anna","Anna Maria","Annalisa","Annita","Annunziata","Antonella","Arianna","Asia","Assunta","Aurora","Barbara","Beatrice","Benedetta","Bianca","Bruna","Camilla","Carla","Carlotta","Carmela","Carolina","Caterina","Catia","Cecilia","Chiara","Cinzia","Clara","Claudia","Costanza","Cristina","Daniela","Debora","Diletta","Dina","Donatella","Elena","Eleonora","Elisa","Elisabetta","Emanuela","Emma","Eva","Federica","Fernanda","Fiorella","Fiorenza","Flora","Franca","Francesca","Gabriella","Gaia","Gemma","Giada","Gianna","Gina","Ginevra","Giorgia","Giovanna","Giulia","Giuliana","Giuseppa","Giuseppina","Grazia","Graziella","Greta","Ida","Ilaria","Ines","Iolanda","Irene","Irma","Isabella","Jessica","Laura","Lea","Letizia","Licia","Lidia","Liliana","Lina","Linda","Lisa","Livia","Loretta","Luana","Lucia","Luciana","Lucrezia","Luisa","Manuela","Mara","Marcella","Margherita","Maria","Maria Cristina","Maria Grazia","Maria Luisa","Maria Pia","Maria Teresa","Marina","Marisa","Marta","Martina","Marzia","Matilde","Melissa","Michela","Milena","Mirella","Monica","Natalina","Nella","Nicoletta","Noemi","Olga","Paola","Patrizia","Piera","Pierina","Raffaella","Rebecca","Renata","Rina","Rita","Roberta","Rosa","Rosanna","Rossana","Rossella","Sabrina","Sandra","Sara","Serena","Silvana","Silvia","Simona","Simonetta","Sofia","Sonia","Stefania","Susanna","Teresa","Tina","Tiziana","Tosca","Valentina","Valeria","Vanda","Vanessa","Vanna","Vera","Veronica","Vilma","Viola","Virginia","Vittoria"],nl:["Ada","Arianne","Afke","Amanda","Amber","Amy","Aniek","Anita","Anja","Anna","Anne","Annelies","Annemarie","Annette","Anouk","Astrid","Aukje","Barbara","Bianca","Carla","Carlijn","Carolien","Chantal","Charlotte","Claudia","Daniëlle","Debora","Diane","Dora","Eline","Elise","Ella","Ellen","Emma","Esmee","Evelien","Esther","Erica","Eva","Femke","Fleur","Floor","Froukje","Gea","Gerda","Hanna","Hanneke","Heleen","Hilde","Ilona","Ina","Inge","Ingrid","Iris","Isabel","Isabelle","Janneke","Jasmijn","Jeanine","Jennifer","Jessica","Johanna","Joke","Julia","Julie","Karen","Karin","Katja","Kim","Lara","Laura","Lena","Lianne","Lieke","Lilian","Linda","Lisa","Lisanne","Lotte","Louise","Maaike","Manon","Marga","Maria","Marissa","Marit","Marjolein","Martine","Marleen","Melissa","Merel","Miranda","Michelle","Mirjam","Mirthe","Naomi","Natalie","Nienke","Nina","Noortje","Olivia","Patricia","Paula","Paulien","Ramona","Ria","Rianne","Roos","Rosanne","Ruth","Sabrina","Sandra","Sanne","Sara","Saskia","Silvia","Sofia","Sophie","Sonja","Suzanne","Tamara","Tess","Tessa","Tineke","Valerie","Vanessa","Veerle","Vera","Victoria","Wendy","Willeke","Yvonne","Zoë"],fr:["Abdon","Abel","Abigaëlle","Abigaïl","Acacius","Acanthe","Adalbert","Adalsinde","Adegrine","Adélaïde","Adèle","Adélie","Adeline","Adeltrude","Adolphe","Adonis","Adrastée","Adrehilde","Adrienne","Agathe","Agilbert","Aglaé","Aignan","Agneflète","Agnès","Agrippine","Aimé","Alaine","Alaïs","Albane","Albérade","Alberte","Alcide","Alcine","Alcyone","Aldegonde","Aleth","Alexandrine","Alexine","Alice","Aliénor","Aliette","Aline","Alix","Alizé","Aloïse","Aloyse","Alphonsine","Althée","Amaliane","Amalthée","Amande","Amandine","Amant","Amarande","Amaranthe","Amaryllis","Ambre","Ambroisie","Amélie","Améthyste","Aminte","Anaël","Anaïs","Anastasie","Anatole","Ancelin","Andrée","Anémone","Angadrême","Angèle","Angeline","Angélique","Angilbert","Anicet","Annabelle","Anne","Annette","Annick","Annie","Annonciade","Ansbert","Anstrudie","Anthelme","Antigone","Antoinette","Antonine","Aphélie","Apolline","Apollonie","Aquiline","Arabelle","Arcadie","Archange","Argine","Ariane","Aricie","Ariel","Arielle","Arlette","Armance","Armande","Armandine","Armelle","Armide","Armelle","Armin","Arnaud","Arsène","Arsinoé","Artémis","Arthur","Ascelin","Ascension","Assomption","Astarté","Astérie","Astrée","Astrid","Athalie","Athanasie","Athina","Aube","Albert","Aude","Audrey","Augustine","Aure","Aurélie","Aurélien","Aurèle","Aurore","Auxence","Aveline","Abigaëlle","Avoye","Axelle","Aymard","Azalée","Adèle","Adeline","Barbe","Basilisse","Bathilde","Béatrice","Béatrix","Bénédicte","Bérengère","Bernadette","Berthe","Bertille","Beuve","Blanche","Blanc","Blandine","Brigitte","Brune","Brunehilde","Callista","Camille","Capucine","Carine","Caroline","Cassandre","Catherine","Cécile","Céleste","Célestine","Céline","Chantal","Charlène","Charline","Charlotte","Chloé","Christelle","Christiane","Christine","Claire","Clara","Claude","Claudine","Clarisse","Clémence","Clémentine","Cléo","Clio","Clotilde","Coline","Conception","Constance","Coralie","Coraline","Corentine","Corinne","Cyrielle","Daniel","Daniel","Daphné","Débora","Delphine","Denise","Diane","Dieudonné","Dominique","Doriane","Dorothée","Douce","Édith","Edmée","Éléonore","Éliane","Élia","Éliette","Élisabeth","Élise","Ella","Élodie","Éloïse","Elsa","Émeline","Émérance","Émérentienne","Émérencie","Émilie","Emma","Emmanuelle","Emmelie","Ernestine","Esther","Estelle","Eudoxie","Eugénie","Eulalie","Euphrasie","Eusébie","Évangéline","Eva","Ève","Évelyne","Fanny","Fantine","Faustine","Félicie","Fernande","Flavie","Fleur","Flore","Florence","Florie","Fortuné","France","Francia","Françoise","Francine","Gabrielle","Gaëlle","Garance","Geneviève","Georgette","Gerberge","Germaine","Gertrude","Gisèle","Guenièvre","Guilhemine","Guillemette","Gustave","Gwenael","Hélène","Héloïse","Henriette","Hermine","Hermione","Hippolyte","Honorine","Hortense","Huguette","Ines","Irène","Irina","Iris","Isabeau","Isabelle","Iseult","Isolde","Ismérie","Jacinthe","Jacqueline","Jade","Janine","Jeanne","Jocelyne","Joëlle","Joséphine","Judith","Julia","Julie","Jules","Juliette","Justine","Katy","Kathy","Katie","Laura","Laure","Laureline","Laurence","Laurene","Lauriane","Laurianne","Laurine","Léa","Léna","Léonie","Léon","Léontine","Lorraine","Lucie","Lucienne","Lucille","Ludivine","Lydie","Lydie","Megane","Madeleine","Magali","Maguelone","Mallaury","Manon","Marceline","Margot","Marguerite","Marianne","Marie","Myriam","Marie","Marine","Marion","Marlène","Marthe","Martine","Mathilde","Maud","Maureen","Mauricette","Maxime","Mélanie","Melissa","Mélissandre","Mélisande","Mélodie","Michel","Micheline","Mireille","Miriam","Moïse","Monique","Morgane","Muriel","Mylène","Nadège","Nadine","Nathalie","Nicole","Nicolette","Nine","Noël","Noémie","Océane","Odette","Odile","Olive","Olivia","Olympe","Ombline","Ombeline","Ophélie","Oriande","Oriane","Ozanne","Pascale","Pascaline","Paule","Paulette","Pauline","Priscille","Prisca","Prisque","Pécine","Pélagie","Pénélope","Perrine","Pétronille","Philippine","Philomène","Philothée","Primerose","Prudence","Pulchérie","Quentine","Quiéta","Quintia","Quintilla","Rachel","Raphaëlle","Raymonde","Rebecca","Régine","Réjeanne","René","Rita","Rita","Rolande","Romane","Rosalie","Rose","Roseline","Sabine","Salomé","Sandra","Sandrine","Sarah","Ségolène","Séverine","Sibylle","Simone","Sixt","Solange","Soline","Solène","Sophie","Stéphanie","Suzanne","Sylvain","Sylvie","Tatiana","Thaïs","Théodora","Thérèse","Tiphaine","Ursule","Valentine","Valérie","Véronique","Victoire","Victorine","Vinciane","Violette","Virginie","Viviane","Xavière","Yolande","Ysaline","Yvette","Yvonne","Zélie","Zita","Zoé"]}},lastNames:{en:["Smith","Johnson","Williams","Jones","Brown","Davis","Miller","Wilson","Moore","Taylor","Anderson","Thomas","Jackson","White","Harris","Martin","Thompson","Garcia","Martinez","Robinson","Clark","Rodriguez","Lewis","Lee","Walker","Hall","Allen","Young","Hernandez","King","Wright","Lopez","Hill","Scott","Green","Adams","Baker","Gonzalez","Nelson","Carter","Mitchell","Perez","Roberts","Turner","Phillips","Campbell","Parker","Evans","Edwards","Collins","Stewart","Sanchez","Morris","Rogers","Reed","Cook","Morgan","Bell","Murphy","Bailey","Rivera","Cooper","Richardson","Cox","Howard","Ward","Torres","Peterson","Gray","Ramirez","James","Watson","Brooks","Kelly","Sanders","Price","Bennett","Wood","Barnes","Ross","Henderson","Coleman","Jenkins","Perry","Powell","Long","Patterson","Hughes","Flores","Washington","Butler","Simmons","Foster","Gonzales","Bryant","Alexander","Russell","Griffin","Diaz","Hayes","Myers","Ford","Hamilton","Graham","Sullivan","Wallace","Woods","Cole","West","Jordan","Owens","Reynolds","Fisher","Ellis","Harrison","Gibson","McDonald","Cruz","Marshall","Ortiz","Gomez","Murray","Freeman","Wells","Webb","Simpson","Stevens","Tucker","Porter","Hunter","Hicks","Crawford","Henry","Boyd","Mason","Morales","Kennedy","Warren","Dixon","Ramos","Reyes","Burns","Gordon","Shaw","Holmes","Rice","Robertson","Hunt","Black","Daniels","Palmer","Mills","Nichols","Grant","Knight","Ferguson","Rose","Stone","Hawkins","Dunn","Perkins","Hudson","Spencer","Gardner","Stephens","Payne","Pierce","Berry","Matthews","Arnold","Wagner","Willis","Ray","Watkins","Olson","Carroll","Duncan","Snyder","Hart","Cunningham","Bradley","Lane","Andrews","Ruiz","Harper","Fox","Riley","Armstrong","Carpenter","Weaver","Greene","Lawrence","Elliott","Chavez","Sims","Austin","Peters","Kelley","Franklin","Lawson","Fields","Gutierrez","Ryan","Schmidt","Carr","Vasquez","Castillo","Wheeler","Chapman","Oliver","Montgomery","Richards","Williamson","Johnston","Banks","Meyer","Bishop","McCoy","Howell","Alvarez","Morrison","Hansen","Fernandez","Garza","Harvey","Little","Burton","Stanley","Nguyen","George","Jacobs","Reid","Kim","Fuller","Lynch","Dean","Gilbert","Garrett","Romero","Welch","Larson","Frazier","Burke","Hanson","Day","Mendoza","Moreno","Bowman","Medina","Fowler","Brewer","Hoffman","Carlson","Silva","Pearson","Holland","Douglas","Fleming","Jensen","Vargas","Byrd","Davidson","Hopkins","May","Terry","Herrera","Wade","Soto","Walters","Curtis","Neal","Caldwell","Lowe","Jennings","Barnett","Graves","Jimenez","Horton","Shelton","Barrett","Obrien","Castro","Sutton","Gregory","McKinney","Lucas","Miles","Craig","Rodriquez","Chambers","Holt","Lambert","Fletcher","Watts","Bates","Hale","Rhodes","Pena","Beck","Newman","Haynes","McDaniel","Mendez","Bush","Vaughn","Parks","Dawson","Santiago","Norris","Hardy","Love","Steele","Curry","Powers","Schultz","Barker","Guzman","Page","Munoz","Ball","Keller","Chandler","Weber","Leonard","Walsh","Lyons","Ramsey","Wolfe","Schneider","Mullins","Benson","Sharp","Bowen","Daniel","Barber","Cummings","Hines","Baldwin","Griffith","Valdez","Hubbard","Salazar","Reeves","Warner","Stevenson","Burgess","Santos","Tate","Cross","Garner","Mann","Mack","Moss","Thornton","Dennis","McGee","Farmer","Delgado","Aguilar","Vega","Glover","Manning","Cohen","Harmon","Rodgers","Robbins","Newton","Todd","Blair","Higgins","Ingram","Reese","Cannon","Strickland","Townsend","Potter","Goodwin","Walton","Rowe","Hampton","Ortega","Patton","Swanson","Joseph","Francis","Goodman","Maldonado","Yates","Becker","Erickson","Hodges","Rios","Conner","Adkins","Webster","Norman","Malone","Hammond","Flowers","Cobb","Moody","Quinn","Blake","Maxwell","Pope","Floyd","Osborne","Paul","McCarthy","Guerrero","Lindsey","Estrada","Sandoval","Gibbs","Tyler","Gross","Fitzgerald","Stokes","Doyle","Sherman","Saunders","Wise","Colon","Gill","Alvarado","Greer","Padilla","Simon","Waters","Nunez","Ballard","Schwartz","McBride","Houston","Christensen","Klein","Pratt","Briggs","Parsons","McLaughlin","Zimmerman","French","Buchanan","Moran","Copeland","Roy","Pittman","Brady","McCormick","Holloway","Brock","Poole","Frank","Logan","Owen","Bass","Marsh","Drake","Wong","Jefferson","Park","Morton","Abbott","Sparks","Patrick","Norton","Huff","Clayton","Massey","Lloyd","Figueroa","Carson","Bowers","Roberson","Barton","Tran","Lamb","Harrington","Casey","Boone","Cortez","Clarke","Mathis","Singleton","Wilkins","Cain","Bryan","Underwood","Hogan","McKenzie","Collier","Luna","Phelps","McGuire","Allison","Bridges","Wilkerson","Nash","Summers","Atkins"],it:["Acciai","Aglietti","Agostini","Agresti","Ahmed","Aiazzi","Albanese","Alberti","Alessi","Alfani","Alinari","Alterini","Amato","Ammannati","Ancillotti","Andrei","Andreini","Andreoni","Angeli","Anichini","Antonelli","Antonini","Arena","Ariani","Arnetoli","Arrighi","Baccani","Baccetti","Bacci","Bacherini","Badii","Baggiani","Baglioni","Bagni","Bagnoli","Baldassini","Baldi","Baldini","Ballerini","Balli","Ballini","Balloni","Bambi","Banchi","Bandinelli","Bandini","Bani","Barbetti","Barbieri","Barchielli","Bardazzi","Bardelli","Bardi","Barducci","Bargellini","Bargiacchi","Barni","Baroncelli","Baroncini","Barone","Baroni","Baronti","Bartalesi","Bartoletti","Bartoli","Bartolini","Bartoloni","Bartolozzi","Basagni","Basile","Bassi","Batacchi","Battaglia","Battaglini","Bausi","Becagli","Becattini","Becchi","Becucci","Bellandi","Bellesi","Belli","Bellini","Bellucci","Bencini","Benedetti","Benelli","Beni","Benini","Bensi","Benucci","Benvenuti","Berlincioni","Bernacchioni","Bernardi","Bernardini","Berni","Bernini","Bertelli","Berti","Bertini","Bessi","Betti","Bettini","Biagi","Biagini","Biagioni","Biagiotti","Biancalani","Bianchi","Bianchini","Bianco","Biffoli","Bigazzi","Bigi","Biliotti","Billi","Binazzi","Bindi","Bini","Biondi","Bizzarri","Bocci","Bogani","Bolognesi","Bonaiuti","Bonanni","Bonciani","Boncinelli","Bondi","Bonechi","Bongini","Boni","Bonini","Borchi","Boretti","Borghi","Borghini","Borgioli","Borri","Borselli","Boschi","Bottai","Bracci","Braccini","Brandi","Braschi","Bravi","Brazzini","Breschi","Brilli","Brizzi","Brogelli","Brogi","Brogioni","Brunelli","Brunetti","Bruni","Bruno","Brunori","Bruschi","Bucci","Bucciarelli","Buccioni","Bucelli","Bulli","Burberi","Burchi","Burgassi","Burroni","Bussotti","Buti","Caciolli","Caiani","Calabrese","Calamai","Calamandrei","Caldini","Calo'","Calonaci","Calosi","Calvelli","Cambi","Camiciottoli","Cammelli","Cammilli","Campolmi","Cantini","Capanni","Capecchi","Caponi","Cappelletti","Cappelli","Cappellini","Cappugi","Capretti","Caputo","Carbone","Carboni","Cardini","Carlesi","Carletti","Carli","Caroti","Carotti","Carrai","Carraresi","Carta","Caruso","Casalini","Casati","Caselli","Casini","Castagnoli","Castellani","Castelli","Castellucci","Catalano","Catarzi","Catelani","Cavaciocchi","Cavallaro","Cavallini","Cavicchi","Cavini","Ceccarelli","Ceccatelli","Ceccherelli","Ceccherini","Cecchi","Cecchini","Cecconi","Cei","Cellai","Celli","Cellini","Cencetti","Ceni","Cenni","Cerbai","Cesari","Ceseri","Checcacci","Checchi","Checcucci","Cheli","Chellini","Chen","Cheng","Cherici","Cherubini","Chiaramonti","Chiarantini","Chiarelli","Chiari","Chiarini","Chiarugi","Chiavacci","Chiesi","Chimenti","Chini","Chirici","Chiti","Ciabatti","Ciampi","Cianchi","Cianfanelli","Cianferoni","Ciani","Ciapetti","Ciappi","Ciardi","Ciatti","Cicali","Ciccone","Cinelli","Cini","Ciobanu","Ciolli","Cioni","Cipriani","Cirillo","Cirri","Ciucchi","Ciuffi","Ciulli","Ciullini","Clemente","Cocchi","Cognome","Coli","Collini","Colombo","Colzi","Comparini","Conforti","Consigli","Conte","Conti","Contini","Coppini","Coppola","Corsi","Corsini","Corti","Cortini","Cosi","Costa","Costantini","Costantino","Cozzi","Cresci","Crescioli","Cresti","Crini","Curradi","D'Agostino","D'Alessandro","D'Amico","D'Angelo","Daddi","Dainelli","Dallai","Danti","Davitti","De Angelis","De Luca","De Marco","De Rosa","De Santis","De Simone","De Vita","Degl'Innocenti","Degli Innocenti","Dei","Del Lungo","Del Re","Di Marco","Di Stefano","Dini","Diop","Dobre","Dolfi","Donati","Dondoli","Dong","Donnini","Ducci","Dumitru","Ermini","Esposito","Evangelisti","Fabbri","Fabbrini","Fabbrizzi","Fabbroni","Fabbrucci","Fabiani","Facchini","Faggi","Fagioli","Failli","Faini","Falciani","Falcini","Falcone","Fallani","Falorni","Falsini","Falugiani","Fancelli","Fanelli","Fanetti","Fanfani","Fani","Fantappie'","Fantechi","Fanti","Fantini","Fantoni","Farina","Fattori","Favilli","Fedi","Fei","Ferrante","Ferrara","Ferrari","Ferraro","Ferretti","Ferri","Ferrini","Ferroni","Fiaschi","Fibbi","Fiesoli","Filippi","Filippini","Fini","Fioravanti","Fiore","Fiorentini","Fiorini","Fissi","Focardi","Foggi","Fontana","Fontanelli","Fontani","Forconi","Formigli","Forte","Forti","Fortini","Fossati","Fossi","Francalanci","Franceschi","Franceschini","Franchi","Franchini","Franci","Francini","Francioni","Franco","Frassineti","Frati","Fratini","Frilli","Frizzi","Frosali","Frosini","Frullini","Fusco","Fusi","Gabbrielli","Gabellini","Gagliardi","Galanti","Galardi","Galeotti","Galletti","Galli","Gallo","Gallori","Gambacciani","Gargani","Garofalo","Garuglieri","Gashi","Gasperini","Gatti","Gelli","Gensini","Gentile","Gentili","Geri","Gerini","Gheri","Ghini","Giachetti","Giachi","Giacomelli","Gianassi","Giani","Giannelli","Giannetti","Gianni","Giannini","Giannoni","Giannotti","Giannozzi","Gigli","Giordano","Giorgetti","Giorgi","Giovacchini","Giovannelli","Giovannetti","Giovannini","Giovannoni","Giuliani","Giunti","Giuntini","Giusti","Gonnelli","Goretti","Gori","Gradi","Gramigni","Grassi","Grasso","Graziani","Grazzini","Greco","Grifoni","Grillo","Grimaldi","Grossi","Gualtieri","Guarducci","Guarino","Guarnieri","Guasti","Guerra","Guerri","Guerrini","Guidi","Guidotti","He","Hoxha","Hu","Huang","Iandelli","Ignesti","Innocenti","Jin","La Rosa","Lai","Landi","Landini","Lanini","Lapi","Lapini","Lari","Lascialfari","Lastrucci","Latini","Lazzeri","Lazzerini","Lelli","Lenzi","Leonardi","Leoncini","Leone","Leoni","Lepri","Li","Liao","Lin","Linari","Lippi","Lisi","Livi","Lombardi","Lombardini","Lombardo","Longo","Lopez","Lorenzi","Lorenzini","Lorini","Lotti","Lu","Lucchesi","Lucherini","Lunghi","Lupi","Madiai","Maestrini","Maffei","Maggi","Maggini","Magherini","Magini","Magnani","Magnelli","Magni","Magnolfi","Magrini","Malavolti","Malevolti","Manca","Mancini","Manetti","Manfredi","Mangani","Mannelli","Manni","Mannini","Mannucci","Manuelli","Manzini","Marcelli","Marchese","Marchetti","Marchi","Marchiani","Marchionni","Marconi","Marcucci","Margheri","Mari","Mariani","Marilli","Marinai","Marinari","Marinelli","Marini","Marino","Mariotti","Marsili","Martelli","Martinelli","Martini","Martino","Marzi","Masi","Masini","Masoni","Massai","Materassi","Mattei","Matteini","Matteucci","Matteuzzi","Mattioli","Mattolini","Matucci","Mauro","Mazzanti","Mazzei","Mazzetti","Mazzi","Mazzini","Mazzocchi","Mazzoli","Mazzoni","Mazzuoli","Meacci","Mecocci","Meini","Melani","Mele","Meli","Mengoni","Menichetti","Meoni","Merlini","Messeri","Messina","Meucci","Miccinesi","Miceli","Micheli","Michelini","Michelozzi","Migliori","Migliorini","Milani","Miniati","Misuri","Monaco","Montagnani","Montagni","Montanari","Montelatici","Monti","Montigiani","Montini","Morandi","Morandini","Morelli","Moretti","Morganti","Mori","Morini","Moroni","Morozzi","Mugnai","Mugnaini","Mustafa","Naldi","Naldini","Nannelli","Nanni","Nannini","Nannucci","Nardi","Nardini","Nardoni","Natali","Ndiaye","Nencetti","Nencini","Nencioni","Neri","Nesi","Nesti","Niccolai","Niccoli","Niccolini","Nigi","Nistri","Nocentini","Noferini","Novelli","Nucci","Nuti","Nutini","Oliva","Olivieri","Olmi","Orlandi","Orlandini","Orlando","Orsini","Ortolani","Ottanelli","Pacciani","Pace","Paci","Pacini","Pagani","Pagano","Paggetti","Pagliai","Pagni","Pagnini","Paladini","Palagi","Palchetti","Palloni","Palmieri","Palumbo","Pampaloni","Pancani","Pandolfi","Pandolfini","Panerai","Panichi","Paoletti","Paoli","Paolini","Papi","Papini","Papucci","Parenti","Parigi","Parisi","Parri","Parrini","Pasquini","Passeri","Pecchioli","Pecorini","Pellegrini","Pepi","Perini","Perrone","Peruzzi","Pesci","Pestelli","Petri","Petrini","Petrucci","Pettini","Pezzati","Pezzatini","Piani","Piazza","Piazzesi","Piazzini","Piccardi","Picchi","Piccini","Piccioli","Pieraccini","Pieraccioni","Pieralli","Pierattini","Pieri","Pierini","Pieroni","Pietrini","Pini","Pinna","Pinto","Pinzani","Pinzauti","Piras","Pisani","Pistolesi","Poggesi","Poggi","Poggiali","Poggiolini","Poli","Pollastri","Porciani","Pozzi","Pratellesi","Pratesi","Prosperi","Pruneti","Pucci","Puccini","Puccioni","Pugi","Pugliese","Puliti","Querci","Quercioli","Raddi","Radu","Raffaelli","Ragazzini","Ranfagni","Ranieri","Rastrelli","Raugei","Raveggi","Renai","Renzi","Rettori","Ricci","Ricciardi","Ridi","Ridolfi","Rigacci","Righi","Righini","Rinaldi","Risaliti","Ristori","Rizzo","Rocchi","Rocchini","Rogai","Romagnoli","Romanelli","Romani","Romano","Romei","Romeo","Romiti","Romoli","Romolini","Rontini","Rosati","Roselli","Rosi","Rossetti","Rossi","Rossini","Rovai","Ruggeri","Ruggiero","Russo","Sabatini","Saccardi","Sacchetti","Sacchi","Sacco","Salerno","Salimbeni","Salucci","Salvadori","Salvestrini","Salvi","Salvini","Sanesi","Sani","Sanna","Santi","Santini","Santoni","Santoro","Santucci","Sardi","Sarri","Sarti","Sassi","Sbolci","Scali","Scarpelli","Scarselli","Scopetani","Secci","Selvi","Senatori","Senesi","Serafini","Sereni","Serra","Sestini","Sguanci","Sieni","Signorini","Silvestri","Simoncini","Simonetti","Simoni","Singh","Sodi","Soldi","Somigli","Sorbi","Sorelli","Sorrentino","Sottili","Spina","Spinelli","Staccioli","Staderini","Stefanelli","Stefani","Stefanini","Stella","Susini","Tacchi","Tacconi","Taddei","Tagliaferri","Tamburini","Tanganelli","Tani","Tanini","Tapinassi","Tarchi","Tarchiani","Targioni","Tassi","Tassini","Tempesti","Terzani","Tesi","Testa","Testi","Tilli","Tinti","Tirinnanzi","Toccafondi","Tofanari","Tofani","Tognaccini","Tonelli","Tonini","Torelli","Torrini","Tosi","Toti","Tozzi","Trambusti","Trapani","Tucci","Turchi","Ugolini","Ulivi","Valente","Valenti","Valentini","Vangelisti","Vanni","Vannini","Vannoni","Vannozzi","Vannucchi","Vannucci","Ventura","Venturi","Venturini","Vestri","Vettori","Vichi","Viciani","Vieri","Vigiani","Vignoli","Vignolini","Vignozzi","Villani","Vinci","Visani","Vitale","Vitali","Viti","Viviani","Vivoli","Volpe","Volpi","Wang","Wu","Xu","Yang","Ye","Zagli","Zani","Zanieri","Zanobini","Zecchi","Zetti","Zhang","Zheng","Zhou","Zhu","Zingoni","Zini","Zoppi"],nl:["Albers","Alblas","Appelman","Baars","Baas","Bakker","Blank","Bleeker","Blok","Blom","Boer","Boers","Boldewijn","Boon","Boot","Bos","Bosch","Bosma","Bosman","Bouma","Bouman","Bouwman","Brands","Brouwer","Burger","Buijs","Buitenhuis","Ceder","Cohen","Dekker","Dekkers","Dijkman","Dijkstra","Driessen","Drost","Engel","Evers","Faber","Franke","Gerritsen","Goedhart","Goossens","Groen","Groenenberg","Groot","Haan","Hart","Heemskerk","Hendriks","Hermans","Hoekstra","Hofman","Hopman","Huisman","Jacobs","Jansen","Janssen","Jonker","Jaspers","Keijzer","Klaassen","Klein","Koek","Koenders","Kok","Kool","Koopman","Koopmans","Koning","Koster","Kramer","Kroon","Kuijpers","Kuiper","Kuipers","Kurt","Koster","Kwakman","Los","Lubbers","Maas","Markus","Martens","Meijer","Mol","Molenaar","Mulder","Nieuwenhuis","Peeters","Peters","Pengel","Pieters","Pool","Post","Postma","Prins","Pronk","Reijnders","Rietveld","Roest","Roos","Sanders","Schaap","Scheffer","Schenk","Schilder","Schipper","Schmidt","Scholten","Schouten","Schut","Schutte","Schuurman","Simons","Smeets","Smit","Smits","Snel","Swinkels","Tas","Terpstra","Timmermans","Tol","Tromp","Troost","Valk","Veenstra","Veldkamp","Verbeek","Verheul","Verhoeven","Vermeer","Vermeulen","Verweij","Vink","Visser","Voorn","Vos","Wagenaar","Wiersema","Willems","Willemsen","Witteveen","Wolff","Wolters","Zijlstra","Zwart","de Beer","de Boer","de Bruijn","de Bruin","de Graaf","de Groot","de Haan","de Haas","de Jager","de Jong","de Jonge","de Koning","de Lange","de Leeuw","de Ridder","de Rooij","de Ruiter","de Vos","de Vries","de Waal","de Wit","de Zwart","van Beek","van Boven","van Dam","van Dijk","van Dongen","van Doorn","van Egmond","van Eijk","van Es","van Gelder","van Gelderen","van Houten","van Hulst","van Kempen","van Kesteren","van Leeuwen","van Loon","van Mill","van Noord","van Ommen","van Ommeren","van Oosten","van Oostveen","van Rijn","van Schaik","van Veen","van Vliet","van Wijk","van Wijngaarden","van den Poel","van de Pol","van den Ploeg","van de Ven","van den Berg","van den Bosch","van den Brink","van den Broek","van den Heuvel","van der Heijden","van der Horst","van der Hulst","van der Kroon","van der Laan","van der Linden","van der Meer","van der Meij","van der Meulen","van der Molen","van der Sluis","van der Spek","van der Veen","van der Velde","van der Velden","van der Vliet","van der Wal"],uk:["Smith","Jones","Williams","Taylor","Brown","Davies","Evans","Wilson","Thomas","Johnson","Roberts","Robinson","Thompson","Wright","Walker","White","Edwards","Hughes","Green","Hall","Lewis","Harris","Clarke","Patel","Jackson","Wood","Turner","Martin","Cooper","Hill","Ward","Morris","Moore","Clark","Lee","King","Baker","Harrison","Morgan","Allen","James","Scott","Phillips","Watson","Davis","Parker","Price","Bennett","Young","Griffiths","Mitchell","Kelly","Cook","Carter","Richardson","Bailey","Collins","Bell","Shaw","Murphy","Miller","Cox","Richards","Khan","Marshall","Anderson","Simpson","Ellis","Adams","Singh","Begum","Wilkinson","Foster","Chapman","Powell","Webb","Rogers","Gray","Mason","Ali","Hunt","Hussain","Campbell","Matthews","Owen","Palmer","Holmes","Mills","Barnes","Knight","Lloyd","Butler","Russell","Barker","Fisher","Stevens","Jenkins","Murray","Dixon","Harvey","Graham","Pearson","Ahmed","Fletcher","Walsh","Kaur","Gibson","Howard","Andrews","Stewart","Elliott","Reynolds","Saunders","Payne","Fox","Ford","Pearce","Day","Brooks","West","Lawrence","Cole","Atkinson","Bradley","Spencer","Gill","Dawson","Ball","Burton","O'brien","Watts","Rose","Booth","Perry","Ryan","Grant","Wells","Armstrong","Francis","Rees","Hayes","Hart","Hudson","Newman","Barrett","Webster","Hunter","Gregory","Carr","Lowe","Page","Marsh","Riley","Dunn","Woods","Parsons","Berry","Stone","Reid","Holland","Hawkins","Harding","Porter","Robertson","Newton","Oliver","Reed","Kennedy","Williamson","Bird","Gardner","Shah","Dean","Lane","Cooke","Bates","Henderson","Parry","Burgess","Bishop","Walton","Burns","Nicholson","Shepherd","Ross","Cross","Long","Freeman","Warren","Nicholls","Hamilton","Byrne","Sutton","Mcdonald","Yates","Hodgson","Robson","Curtis","Hopkins","O'connor","Harper","Coleman","Watkins","Moss","Mccarthy","Chambers","O'neill","Griffin","Sharp","Hardy","Wheeler","Potter","Osborne","Johnston","Gordon","Doyle","Wallace","George","Jordan","Hutchinson","Rowe","Burke","May","Pritchard","Gilbert","Willis","Higgins","Read","Miles","Stevenson","Stephenson","Hammond","Arnold","Buckley","Walters","Hewitt","Barber","Nelson","Slater","Austin","Sullivan","Whitehead","Mann","Frost","Lambert","Stephens","Blake","Akhtar","Lynch","Goodwin","Barton","Woodward","Thomson","Cunningham","Quinn","Barnett","Baxter","Bibi","Clayton","Nash","Greenwood","Jennings","Holt","Kemp","Poole","Gallagher","Bond","Stokes","Tucker","Davidson","Fowler","Heath","Norman","Middleton","Lawson","Banks","French","Stanley","Jarvis","Gibbs","Ferguson","Hayward","Carroll","Douglas","Dickinson","Todd","Barlow","Peters","Lucas","Knowles","Hartley","Miah","Simmons","Morton","Alexander","Field","Morrison","Norris","Townsend","Preston","Hancock","Thornton","Baldwin","Burrows","Briggs","Parkinson","Reeves","Macdonald","Lamb","Black","Abbott","Sanders","Thorpe","Holden","Tomlinson","Perkins","Ashton","Rhodes","Fuller","Howe","Bryant","Vaughan","Dale","Davey","Weston","Bartlett","Whittaker","Davison","Kent","Skinner","Birch","Morley","Daniels","Glover","Howell","Cartwright","Pugh","Humphreys","Goddard","Brennan","Wall","Kirby","Bowen","Savage","Bull","Wong","Dobson","Smart","Wilkins","Kirk","Fraser","Duffy","Hicks","Patterson","Bradshaw","Little","Archer","Warner","Waters","O'sullivan","Farrell","Brookes","Atkins","Kay","Dodd","Bentley","Flynn","John","Schofield","Short","Haynes","Wade","Butcher","Henry","Sanderson","Crawford","Sheppard","Bolton","Coates","Giles","Gould","Houghton","Gibbons","Pratt","Manning","Law","Hooper","Noble","Dyer","Rahman","Clements","Moran","Sykes","Chan","Doherty","Connolly","Joyce","Franklin","Hobbs","Coles","Herbert","Steele","Kerr","Leach","Winter","Owens","Duncan","Naylor","Fleming","Horton","Finch","Fitzgerald","Randall","Carpenter","Marsden","Browne","Garner","Pickering","Hale","Dennis","Vincent","Chadwick","Chandler","Sharpe","Nolan","Lyons","Hurst","Collier","Peacock","Howarth","Faulkner","Rice","Pollard","Welch","Norton","Gough","Sinclair","Blackburn","Bryan","Conway","Power","Cameron","Daly","Allan","Hanson","Gardiner","Boyle","Myers","Turnbull","Wallis","Mahmood","Sims","Swift","Iqbal","Pope","Brady","Chamberlain","Rowley","Tyler","Farmer","Metcalfe","Hilton","Godfrey","Holloway","Parkin","Bray","Talbot","Donnelly","Nixon","Charlton","Benson","Whitehouse","Barry","Hope","Lord","North","Storey","Connor","Potts","Bevan","Hargreaves","Mclean","Mistry","Bruce","Howells","Hyde","Parkes","Wyatt","Fry","Lees","O'donnell","Craig","Forster","Mckenzie","Humphries","Mellor","Carey","Ingram","Summers","Leonard"],de:["Müller","Schmidt","Schneider","Fischer","Weber","Meyer","Wagner","Becker","Schulz","Hoffmann","Schäfer","Koch","Bauer","Richter","Klein","Wolf","Schröder","Neumann","Schwarz","Zimmermann","Braun","Krüger","Hofmann","Hartmann","Lange","Schmitt","Werner","Schmitz","Krause","Meier","Lehmann","Schmid","Schulze","Maier","Köhler","Herrmann","König","Walter","Mayer","Huber","Kaiser","Fuchs","Peters","Lang","Scholz","Möller","Weiß","Jung","Hahn","Schubert","Vogel","Friedrich","Keller","Günther","Frank","Berger","Winkler","Roth","Beck","Lorenz","Baumann","Franke","Albrecht","Schuster","Simon","Ludwig","Böhm","Winter","Kraus","Martin","Schumacher","Krämer","Vogt","Stein","Jäger","Otto","Sommer","Groß","Seidel","Heinrich","Brandt","Haas","Schreiber","Graf","Schulte","Dietrich","Ziegler","Kuhn","Kühn","Pohl","Engel","Horn","Busch","Bergmann","Thomas","Voigt","Sauer","Arnold","Wolff","Pfeiffer"],jp:["Sato","Suzuki","Takahashi","Tanaka","Watanabe","Ito","Yamamoto","Nakamura","Kobayashi","Kato","Yoshida","Yamada","Sasaki","Yamaguchi","Saito","Matsumoto","Inoue","Kimura","Hayashi","Shimizu","Yamazaki","Mori","Abe","Ikeda","Hashimoto","Yamashita","Ishikawa","Nakajima","Maeda","Fujita","Ogawa","Goto","Okada","Hasegawa","Murakami","Kondo","Ishii","Saito","Sakamoto","Endo","Aoki","Fujii","Nishimura","Fukuda","Ota","Miura","Fujiwara","Okamoto","Matsuda","Nakagawa","Nakano","Harada","Ono","Tamura","Takeuchi","Kaneko","Wada","Nakayama","Ishida","Ueda","Morita","Hara","Shibata","Sakai","Kudo","Yokoyama","Miyazaki","Miyamoto","Uchida","Takagi","Ando","Taniguchi","Ohno","Maruyama","Imai","Takada","Fujimoto","Takeda","Murata","Ueno","Sugiyama","Masuda","Sugawara","Hirano","Kojima","Otsuka","Chiba","Kubo","Matsui","Iwasaki","Sakurai","Kinoshita","Noguchi","Matsuo","Nomura","Kikuchi","Sano","Onishi","Sugimoto","Arai"],es:["Garcia","Fernandez","Lopez","Martinez","Gonzalez","Rodriguez","Sanchez","Perez","Martin","Gomez","Ruiz","Diaz","Hernandez","Alvarez","Jimenez","Moreno","Munoz","Alonso","Romero","Navarro","Gutierrez","Torres","Dominguez","Gil","Vazquez","Blanco","Serrano","Ramos","Castro","Suarez","Sanz","Rubio","Ortega","Molina","Delgado","Ortiz","Morales","Ramirez","Marin","Iglesias","Santos","Castillo","Garrido","Calvo","Pena","Cruz","Cano","Nunez","Prieto","Diez","Lozano","Vidal","Pascual","Ferrer","Medina","Vega","Leon","Herrero","Vicente","Mendez","Guerrero","Fuentes","Campos","Nieto","Cortes","Caballero","Ibanez","Lorenzo","Pastor","Gimenez","Saez","Soler","Marquez","Carrasco","Herrera","Montero","Arias","Crespo","Flores","Andres","Aguilar","Hidalgo","Cabrera","Mora","Duran","Velasco","Rey","Pardo","Roman","Vila","Bravo","Merino","Moya","Soto","Izquierdo","Reyes","Redondo","Marcos","Carmona","Menendez"],fr:["Martin","Bernard","Thomas","Petit","Robert","Richard","Durand","Dubois","Moreau","Laurent","Simon","Michel","Lefèvre","Leroy","Roux","David","Bertrand","Morel","Fournier","Girard","Bonnet","Dupont","Lambert","Fontaine","Rousseau","Vincent","Müller","Lefèvre","Faure","André","Mercier","Blanc","Guérin","Boyer","Garnier","Chevalier","François","Legrand","Gauthier","Garcia","Perrin","Robin","Clément","Morin","Nicolas","Henry","Roussel","Matthieu","Gautier","Masson","Marchand","Duval","Denis","Dumont","Marie","Lemaire","Noël","Meyer","Dufour","Meunier","Brun","Blanchard","Giraud","Joly","Rivière","Lucas","Brunet","Gaillard","Barbier","Arnaud","Martínez","Gérard","Roche","Renard","Schmitt","Roy","Leroux","Colin","Vidal","Caron","Picard","Roger","Fabre","Aubert","Lemoine","Renaud","Dumas","Lacroix","Olivier","Philippe","Bourgeois","Pierre","Benoît","Rey","Leclerc","Payet","Rolland","Leclercq","Guillaume","Lecomte","López","Jean","Dupuy","Guillot","Hubert","Berger","Carpentier","Sánchez","Dupuis","Moulin","Louis","Deschamps","Huet","Vasseur","Perez","Boucher","Fleury","Royer","Klein","Jacquet","Adam","Paris","Poirier","Marty","Aubry","Guyot","Carré","Charles","Renault","Charpentier","Ménard","Maillard","Baron","Bertin","Bailly","Hervé","Schneider","Fernández","Le GallGall","Collet","Léger","Bouvier","Julien","Prévost","Millet","Perrot","Daniel","Le RouxRoux","Cousin","Germain","Breton","Besson","Langlois","Rémi","Le GoffGoff","Pelletier","Lévêque","Perrier","Leblanc","Barré","Lebrun","Marchal","Weber","Mallet","Hamon","Boulanger","Jacob","Monnier","Michaud","Rodríguez","Guichard","Gillet","Étienne","Grondin","Poulain","Tessier","Chevallier","Collin","Chauvin","Da SilvaSilva","Bouchet","Gay","Lemaître","Bénard","Maréchal","Humbert","Reynaud","Antoine","Hoarau","Perret","Barthélemy","Cordier","Pichon","Lejeune","Gilbert","Lamy","Delaunay","Pasquier","Carlier","LaporteLaporte"]},postcodeAreas:[{code:"AB"},{code:"AL"},{code:"B"},{code:"BA"},{code:"BB"},{code:"BD"},{code:"BH"},{code:"BL"},{code:"BN"},{code:"BR"},{code:"BS"},{code:"BT"},{code:"CA"},{code:"CB"},{code:"CF"},{code:"CH"},{code:"CM"},{code:"CO"},{code:"CR"},{code:"CT"},{code:"CV"},{code:"CW"},{code:"DA"},{code:"DD"},{code:"DE"},{code:"DG"},{code:"DH"},{code:"DL"},{code:"DN"},{code:"DT"},{code:"DY"},{code:"E"},{code:"EC"},{code:"EH"},{code:"EN"},{code:"EX"},{code:"FK"},{code:"FY"},{code:"G"},{code:"GL"},{code:"GU"},{code:"GY"},{code:"HA"},{code:"HD"},{code:"HG"},{code:"HP"},{code:"HR"},{code:"HS"},{code:"HU"},{code:"HX"},{code:"IG"},{code:"IM"},{code:"IP"},{code:"IV"},{code:"JE"},{code:"KA"},{code:"KT"},{code:"KW"},{code:"KY"},{code:"L"},{code:"LA"},{code:"LD"},{code:"LE"},{code:"LL"},{code:"LN"},{code:"LS"},{code:"LU"},{code:"M"},{code:"ME"},{code:"MK"},{code:"ML"},{code:"N"},{code:"NE"},{code:"NG"},{code:"NN"},{code:"NP"},{code:"NR"},{code:"NW"},{code:"OL"},{code:"OX"},{code:"PA"},{code:"PE"},{code:"PH"},{code:"PL"},{code:"PO"},{code:"PR"},{code:"RG"},{code:"RH"},{code:"RM"},{code:"S"},{code:"SA"},{code:"SE"},{code:"SG"},{code:"SK"},{code:"SL"},{code:"SM"},{code:"SN"},{code:"SO"},{code:"SP"},{code:"SR"},{code:"SS"},{code:"ST"},{code:"SW"},{code:"SY"},{code:"TA"},{code:"TD"},{code:"TF"},{code:"TN"},{code:"TQ"},{code:"TR"},{code:"TS"},{code:"TW"},{code:"UB"},{code:"W"},{code:"WA"},{code:"WC"},{code:"WD"},{code:"WF"},{code:"WN"},{code:"WR"},{code:"WS"},{code:"WV"},{code:"YO"},{code:"ZE"}],countries:[{name:"Afghanistan",abbreviation:"AF"},{name:"Åland Islands",abbreviation:"AX"},{name:"Albania",abbreviation:"AL"},{name:"Algeria",abbreviation:"DZ"},{name:"American Samoa",abbreviation:"AS"},{name:"Andorra",abbreviation:"AD"},{name:"Angola",abbreviation:"AO"},{name:"Anguilla",abbreviation:"AI"},{name:"Antarctica",abbreviation:"AQ"},{name:"Antigua & Barbuda",abbreviation:"AG"},{name:"Argentina",abbreviation:"AR"},{name:"Armenia",abbreviation:"AM"},{name:"Aruba",abbreviation:"AW"},{name:"Ascension Island",abbreviation:"AC"},{name:"Australia",abbreviation:"AU"},{name:"Austria",abbreviation:"AT"},{name:"Azerbaijan",abbreviation:"AZ"},{name:"Bahamas",abbreviation:"BS"},{name:"Bahrain",abbreviation:"BH"},{name:"Bangladesh",abbreviation:"BD"},{name:"Barbados",abbreviation:"BB"},{name:"Belarus",abbreviation:"BY"},{name:"Belgium",abbreviation:"BE"},{name:"Belize",abbreviation:"BZ"},{name:"Benin",abbreviation:"BJ"},{name:"Bermuda",abbreviation:"BM"},{name:"Bhutan",abbreviation:"BT"},{name:"Bolivia",abbreviation:"BO"},{name:"Bosnia & Herzegovina",abbreviation:"BA"},{name:"Botswana",abbreviation:"BW"},{name:"Brazil",abbreviation:"BR"},{name:"British Indian Ocean Territory",abbreviation:"IO"},{name:"British Virgin Islands",abbreviation:"VG"},{name:"Brunei",abbreviation:"BN"},{name:"Bulgaria",abbreviation:"BG"},{name:"Burkina Faso",abbreviation:"BF"},{name:"Burundi",abbreviation:"BI"},{name:"Cambodia",abbreviation:"KH"},{name:"Cameroon",abbreviation:"CM"},{name:"Canada",abbreviation:"CA"},{name:"Canary Islands",abbreviation:"IC"},{name:"Cape Verde",abbreviation:"CV"},{name:"Caribbean Netherlands",abbreviation:"BQ"},{name:"Cayman Islands",abbreviation:"KY"},{name:"Central African Republic",abbreviation:"CF"},{name:"Ceuta & Melilla",abbreviation:"EA"},{name:"Chad",abbreviation:"TD"},{name:"Chile",abbreviation:"CL"},{name:"China",abbreviation:"CN"},{name:"Christmas Island",abbreviation:"CX"},{name:"Cocos (Keeling) Islands",abbreviation:"CC"},{name:"Colombia",abbreviation:"CO"},{name:"Comoros",abbreviation:"KM"},{name:"Congo - Brazzaville",abbreviation:"CG"},{name:"Congo - Kinshasa",abbreviation:"CD"},{name:"Cook Islands",abbreviation:"CK"},{name:"Costa Rica",abbreviation:"CR"},{name:"Côte d'Ivoire",abbreviation:"CI"},{name:"Croatia",abbreviation:"HR"},{name:"Cuba",abbreviation:"CU"},{name:"Curaçao",abbreviation:"CW"},{name:"Cyprus",abbreviation:"CY"},{name:"Czech Republic",abbreviation:"CZ"},{name:"Denmark",abbreviation:"DK"},{name:"Diego Garcia",abbreviation:"DG"},{name:"Djibouti",abbreviation:"DJ"},{name:"Dominica",abbreviation:"DM"},{name:"Dominican Republic",abbreviation:"DO"},{name:"Ecuador",abbreviation:"EC"},{name:"Egypt",abbreviation:"EG"},{name:"El Salvador",abbreviation:"SV"},{name:"Equatorial Guinea",abbreviation:"GQ"},{name:"Eritrea",abbreviation:"ER"},{name:"Estonia",abbreviation:"EE"},{name:"Ethiopia",abbreviation:"ET"},{name:"Falkland Islands",abbreviation:"FK"},{name:"Faroe Islands",abbreviation:"FO"},{name:"Fiji",abbreviation:"FJ"},{name:"Finland",abbreviation:"FI"},{name:"France",abbreviation:"FR"},{name:"French Guiana",abbreviation:"GF"},{name:"French Polynesia",abbreviation:"PF"},{name:"French Southern Territories",abbreviation:"TF"},{name:"Gabon",abbreviation:"GA"},{name:"Gambia",abbreviation:"GM"},{name:"Georgia",abbreviation:"GE"},{name:"Germany",abbreviation:"DE"},{name:"Ghana",abbreviation:"GH"},{name:"Gibraltar",abbreviation:"GI"},{name:"Greece",abbreviation:"GR"},{name:"Greenland",abbreviation:"GL"},{name:"Grenada",abbreviation:"GD"},{name:"Guadeloupe",abbreviation:"GP"},{name:"Guam",abbreviation:"GU"},{name:"Guatemala",abbreviation:"GT"},{name:"Guernsey",abbreviation:"GG"},{name:"Guinea",abbreviation:"GN"},{name:"Guinea-Bissau",abbreviation:"GW"},{name:"Guyana",abbreviation:"GY"},{name:"Haiti",abbreviation:"HT"},{name:"Honduras",abbreviation:"HN"},{name:"Hong Kong SAR China",abbreviation:"HK"},{name:"Hungary",abbreviation:"HU"},{name:"Iceland",abbreviation:"IS"},{name:"India",abbreviation:"IN"},{name:"Indonesia",abbreviation:"ID"},{name:"Iran",abbreviation:"IR"},{name:"Iraq",abbreviation:"IQ"},{name:"Ireland",abbreviation:"IE"},{name:"Isle of Man",abbreviation:"IM"},{name:"Israel",abbreviation:"IL"},{name:"Italy",abbreviation:"IT"},{name:"Jamaica",abbreviation:"JM"},{name:"Japan",abbreviation:"JP"},{name:"Jersey",abbreviation:"JE"},{name:"Jordan",abbreviation:"JO"},{name:"Kazakhstan",abbreviation:"KZ"},{name:"Kenya",abbreviation:"KE"},{name:"Kiribati",abbreviation:"KI"},{name:"Kosovo",abbreviation:"XK"},{name:"Kuwait",abbreviation:"KW"},{name:"Kyrgyzstan",abbreviation:"KG"},{name:"Laos",abbreviation:"LA"},{name:"Latvia",abbreviation:"LV"},{name:"Lebanon",abbreviation:"LB"},{name:"Lesotho",abbreviation:"LS"},{name:"Liberia",abbreviation:"LR"},{name:"Libya",abbreviation:"LY"},{name:"Liechtenstein",abbreviation:"LI"},{name:"Lithuania",abbreviation:"LT"},{name:"Luxembourg",abbreviation:"LU"},{name:"Macau SAR China",abbreviation:"MO"},{name:"Macedonia",abbreviation:"MK"},{name:"Madagascar",abbreviation:"MG"},{name:"Malawi",abbreviation:"MW"},{name:"Malaysia",abbreviation:"MY"},{name:"Maldives",abbreviation:"MV"},{name:"Mali",abbreviation:"ML"},{name:"Malta",abbreviation:"MT"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Martinique",abbreviation:"MQ"},{name:"Mauritania",abbreviation:"MR"},{name:"Mauritius",abbreviation:"MU"},{name:"Mayotte",abbreviation:"YT"},{name:"Mexico",abbreviation:"MX"},{name:"Micronesia",abbreviation:"FM"},{name:"Moldova",abbreviation:"MD"},{name:"Monaco",abbreviation:"MC"},{name:"Mongolia",abbreviation:"MN"},{name:"Montenegro",abbreviation:"ME"},{name:"Montserrat",abbreviation:"MS"},{name:"Morocco",abbreviation:"MA"},{name:"Mozambique",abbreviation:"MZ"},{name:"Myanmar (Burma)",abbreviation:"MM"},{name:"Namibia",abbreviation:"NA"},{name:"Nauru",abbreviation:"NR"},{name:"Nepal",abbreviation:"NP"},{name:"Netherlands",abbreviation:"NL"},{name:"New Caledonia",abbreviation:"NC"},{name:"New Zealand",abbreviation:"NZ"},{name:"Nicaragua",abbreviation:"NI"},{name:"Niger",abbreviation:"NE"},{name:"Nigeria",abbreviation:"NG"},{name:"Niue",abbreviation:"NU"},{name:"Norfolk Island",abbreviation:"NF"},{name:"North Korea",abbreviation:"KP"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Norway",abbreviation:"NO"},{name:"Oman",abbreviation:"OM"},{name:"Pakistan",abbreviation:"PK"},{name:"Palau",abbreviation:"PW"},{name:"Palestinian Territories",abbreviation:"PS"},{name:"Panama",abbreviation:"PA"},{name:"Papua New Guinea",abbreviation:"PG"},{name:"Paraguay",abbreviation:"PY"},{name:"Peru",abbreviation:"PE"},{name:"Philippines",abbreviation:"PH"},{name:"Pitcairn Islands",abbreviation:"PN"},{name:"Poland",abbreviation:"PL"},{name:"Portugal",abbreviation:"PT"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Qatar",abbreviation:"QA"},{name:"Réunion",abbreviation:"RE"},{name:"Romania",abbreviation:"RO"},{name:"Russia",abbreviation:"RU"},{name:"Rwanda",abbreviation:"RW"},{name:"Samoa",abbreviation:"WS"},{name:"San Marino",abbreviation:"SM"},{name:"São Tomé and Príncipe",abbreviation:"ST"},{name:"Saudi Arabia",abbreviation:"SA"},{name:"Senegal",abbreviation:"SN"},{name:"Serbia",abbreviation:"RS"},{name:"Seychelles",abbreviation:"SC"},{name:"Sierra Leone",abbreviation:"SL"},{name:"Singapore",abbreviation:"SG"},{name:"Sint Maarten",abbreviation:"SX"},{name:"Slovakia",abbreviation:"SK"},{name:"Slovenia",abbreviation:"SI"},{name:"Solomon Islands",abbreviation:"SB"},{name:"Somalia",abbreviation:"SO"},{name:"South Africa",abbreviation:"ZA"},{name:"South Georgia & South Sandwich Islands",abbreviation:"GS"},{name:"South Korea",abbreviation:"KR"},{name:"South Sudan",abbreviation:"SS"},{name:"Spain",abbreviation:"ES"},{name:"Sri Lanka",abbreviation:"LK"},{name:"St. Barthélemy",abbreviation:"BL"},{name:"St. Helena",abbreviation:"SH"},{name:"St. Kitts & Nevis",abbreviation:"KN"},{name:"St. Lucia",abbreviation:"LC"},{name:"St. Martin",abbreviation:"MF"},{name:"St. Pierre & Miquelon",abbreviation:"PM"},{name:"St. Vincent & Grenadines",abbreviation:"VC"},{name:"Sudan",abbreviation:"SD"},{name:"Suriname",abbreviation:"SR"},{name:"Svalbard & Jan Mayen",abbreviation:"SJ"},{name:"Swaziland",abbreviation:"SZ"},{name:"Sweden",abbreviation:"SE"},{name:"Switzerland",abbreviation:"CH"},{name:"Syria",abbreviation:"SY"},{name:"Taiwan",abbreviation:"TW"},{name:"Tajikistan",abbreviation:"TJ"},{name:"Tanzania",abbreviation:"TZ"},{name:"Thailand",abbreviation:"TH"},{name:"Timor-Leste",abbreviation:"TL"},{name:"Togo",abbreviation:"TG"},{name:"Tokelau",abbreviation:"TK"},{name:"Tonga",abbreviation:"TO"},{name:"Trinidad & Tobago",abbreviation:"TT"},{name:"Tristan da Cunha",abbreviation:"TA"},{name:"Tunisia",abbreviation:"TN"},{name:"Turkey",abbreviation:"TR"},{name:"Turkmenistan",abbreviation:"TM"},{name:"Turks & Caicos Islands",abbreviation:"TC"},{name:"Tuvalu",abbreviation:"TV"},{name:"U.S. Outlying Islands",abbreviation:"UM"},{name:"U.S. Virgin Islands",abbreviation:"VI"},{name:"Uganda",abbreviation:"UG"},{name:"Ukraine",abbreviation:"UA"},{name:"United Arab Emirates",abbreviation:"AE"},{name:"United Kingdom",abbreviation:"GB"},{name:"United States",abbreviation:"US"},{name:"Uruguay",abbreviation:"UY"},{name:"Uzbekistan",abbreviation:"UZ"},{name:"Vanuatu",abbreviation:"VU"},{name:"Vatican City",abbreviation:"VA"},{name:"Venezuela",abbreviation:"VE"},{name:"Vietnam",abbreviation:"VN"},{name:"Wallis & Futuna",abbreviation:"WF"},{name:"Western Sahara",abbreviation:"EH"},{name:"Yemen",abbreviation:"YE"},{name:"Zambia",abbreviation:"ZM"},{name:"Zimbabwe",abbreviation:"ZW"}],counties:{uk:[{name:"Bath and North East Somerset"},{name:"Aberdeenshire"},{name:"Anglesey"},{name:"Angus"},{name:"Bedford"},{name:"Blackburn with Darwen"},{name:"Blackpool"},{name:"Bournemouth"},{name:"Bracknell Forest"},{name:"Brighton & Hove"},{name:"Bristol"},{name:"Buckinghamshire"},{name:"Cambridgeshire"},{name:"Carmarthenshire"},{name:"Central Bedfordshire"},{name:"Ceredigion"},{name:"Cheshire East"},{name:"Cheshire West and Chester"},{name:"Clackmannanshire"},{name:"Conwy"},{name:"Cornwall"},{name:"County Antrim"},{name:"County Armagh"},{name:"County Down"},{name:"County Durham"},{name:"County Fermanagh"},{name:"County Londonderry"},{name:"County Tyrone"},{name:"Cumbria"},{name:"Darlington"},{name:"Denbighshire"},{name:"Derby"},{name:"Derbyshire"},{name:"Devon"},{name:"Dorset"},{name:"Dumfries and Galloway"},{name:"Dundee"},{name:"East Lothian"},{name:"East Riding of Yorkshire"},{name:"East Sussex"},{name:"Edinburgh?"},{name:"Essex"},{name:"Falkirk"},{name:"Fife"},{name:"Flintshire"},{name:"Gloucestershire"},{name:"Greater London"},{name:"Greater Manchester"},{name:"Gwent"},{name:"Gwynedd"},{name:"Halton"},{name:"Hampshire"},{name:"Hartlepool"},{name:"Herefordshire"},{name:"Hertfordshire"},{name:"Highlands"},{name:"Hull"},{name:"Isle of Wight"},{name:"Isles of Scilly"},{name:"Kent"},{name:"Lancashire"},{name:"Leicester"},{name:"Leicestershire"},{name:"Lincolnshire"},{name:"Lothian"},{name:"Luton"},{name:"Medway"},{name:"Merseyside"},{name:"Mid Glamorgan"},{name:"Middlesbrough"},{name:"Milton Keynes"},{name:"Monmouthshire"},{name:"Moray"},{name:"Norfolk"},{name:"North East Lincolnshire"},{name:"North Lincolnshire"},{name:"North Somerset"},{name:"North Yorkshire"},{name:"Northamptonshire"},{name:"Northumberland"},{name:"Nottingham"},{name:"Nottinghamshire"},{name:"Oxfordshire"},{name:"Pembrokeshire"},{name:"Perth and Kinross"},{name:"Peterborough"},{name:"Plymouth"},{name:"Poole"},{name:"Portsmouth"},{name:"Powys"},{name:"Reading"},{name:"Redcar and Cleveland"},{name:"Rutland"},{name:"Scottish Borders"},{name:"Shropshire"},{name:"Slough"},{name:"Somerset"},{name:"South Glamorgan"},{name:"South Gloucestershire"},{name:"South Yorkshire"},{name:"Southampton"},{name:"Southend-on-Sea"},{name:"Staffordshire"},{name:"Stirlingshire"},{name:"Stockton-on-Tees"},{name:"Stoke-on-Trent"},{name:"Strathclyde"},{name:"Suffolk"},{name:"Surrey"},{name:"Swindon"},{name:"Telford and Wrekin"},{name:"Thurrock"},{name:"Torbay"},{name:"Tyne and Wear"},{name:"Warrington"},{name:"Warwickshire"},{name:"West Berkshire"},{name:"West Glamorgan"},{name:"West Lothian"},{name:"West Midlands"},{name:"West Sussex"},{name:"West Yorkshire"},{name:"Western Isles"},{name:"Wiltshire"},{name:"Windsor and Maidenhead"},{name:"Wokingham"},{name:"Worcestershire"},{name:"Wrexham"},{name:"York"}]},provinces:{ca:[{name:"Alberta",abbreviation:"AB"},{name:"British Columbia",abbreviation:"BC"},{name:"Manitoba",abbreviation:"MB"},{name:"New Brunswick",abbreviation:"NB"},{name:"Newfoundland and Labrador",abbreviation:"NL"},{name:"Nova Scotia",abbreviation:"NS"},{name:"Ontario",abbreviation:"ON"},{name:"Prince Edward Island",abbreviation:"PE"},{name:"Quebec",abbreviation:"QC"},{name:"Saskatchewan",abbreviation:"SK"},{name:"Northwest Territories",abbreviation:"NT"},{name:"Nunavut",abbreviation:"NU"},{name:"Yukon",abbreviation:"YT"}],it:[{name:"Agrigento",abbreviation:"AG",code:84},{name:"Alessandria",abbreviation:"AL",code:6},{name:"Ancona",abbreviation:"AN",code:42},{name:"Aosta",abbreviation:"AO",code:7},{name:"L'Aquila",abbreviation:"AQ",code:66},{name:"Arezzo",abbreviation:"AR",code:51},{name:"Ascoli-Piceno",abbreviation:"AP",code:44},{name:"Asti",abbreviation:"AT",code:5},{name:"Avellino",abbreviation:"AV",code:64},{name:"Bari",abbreviation:"BA",code:72},{name:"Barletta-Andria-Trani",abbreviation:"BT",code:72},{name:"Belluno",abbreviation:"BL",code:25},{name:"Benevento",abbreviation:"BN",code:62},{name:"Bergamo",abbreviation:"BG",code:16},{name:"Biella",abbreviation:"BI",code:96},{name:"Bologna",abbreviation:"BO",code:37},{name:"Bolzano",abbreviation:"BZ",code:21},{name:"Brescia",abbreviation:"BS",code:17},{name:"Brindisi",abbreviation:"BR",code:74},{name:"Cagliari",abbreviation:"CA",code:92},{name:"Caltanissetta",abbreviation:"CL",code:85},{name:"Campobasso",abbreviation:"CB",code:70},{name:"Carbonia Iglesias",abbreviation:"CI",code:70},{name:"Caserta",abbreviation:"CE",code:61},{name:"Catania",abbreviation:"CT",code:87},{name:"Catanzaro",abbreviation:"CZ",code:79},{name:"Chieti",abbreviation:"CH",code:69},{name:"Como",abbreviation:"CO",code:13},{name:"Cosenza",abbreviation:"CS",code:78},{name:"Cremona",abbreviation:"CR",code:19},{name:"Crotone",abbreviation:"KR",code:101},{name:"Cuneo",abbreviation:"CN",code:4},{name:"Enna",abbreviation:"EN",code:86},{name:"Fermo",abbreviation:"FM",code:86},{name:"Ferrara",abbreviation:"FE",code:38},{name:"Firenze",abbreviation:"FI",code:48},{name:"Foggia",abbreviation:"FG",code:71},{name:"Forli-Cesena",abbreviation:"FC",code:71},{name:"Frosinone",abbreviation:"FR",code:60},{name:"Genova",abbreviation:"GE",code:10},{name:"Gorizia",abbreviation:"GO",code:31},{name:"Grosseto",abbreviation:"GR",code:53},{name:"Imperia",abbreviation:"IM",code:8},{name:"Isernia",abbreviation:"IS",code:94},{name:"La-Spezia",abbreviation:"SP",code:66},{name:"Latina",abbreviation:"LT",code:59},{name:"Lecce",abbreviation:"LE",code:75},{name:"Lecco",abbreviation:"LC",code:97},{name:"Livorno",abbreviation:"LI",code:49},{name:"Lodi",abbreviation:"LO",code:98},{name:"Lucca",abbreviation:"LU",code:46},{name:"Macerata",abbreviation:"MC",code:43},{name:"Mantova",abbreviation:"MN",code:20},{name:"Massa-Carrara",abbreviation:"MS",code:45},{name:"Matera",abbreviation:"MT",code:77},{name:"Medio Campidano",abbreviation:"VS",code:77},{name:"Messina",abbreviation:"ME",code:83},{name:"Milano",abbreviation:"MI",code:15},{name:"Modena",abbreviation:"MO",code:36},{name:"Monza-Brianza",abbreviation:"MB",code:36},{name:"Napoli",abbreviation:"NA",code:63},{name:"Novara",abbreviation:"NO",code:3},{name:"Nuoro",abbreviation:"NU",code:91},{name:"Ogliastra",abbreviation:"OG",code:91},{name:"Olbia Tempio",abbreviation:"OT",code:91},{name:"Oristano",abbreviation:"OR",code:95},{name:"Padova",abbreviation:"PD",code:28},{name:"Palermo",abbreviation:"PA",code:82},{name:"Parma",abbreviation:"PR",code:34},{name:"Pavia",abbreviation:"PV",code:18},{name:"Perugia",abbreviation:"PG",code:54},{name:"Pesaro-Urbino",abbreviation:"PU",code:41},{name:"Pescara",abbreviation:"PE",code:68},{name:"Piacenza",abbreviation:"PC",code:33},{name:"Pisa",abbreviation:"PI",code:50},{name:"Pistoia",abbreviation:"PT",code:47},{name:"Pordenone",abbreviation:"PN",code:93},{name:"Potenza",abbreviation:"PZ",code:76},{name:"Prato",abbreviation:"PO",code:100},{name:"Ragusa",abbreviation:"RG",code:88},{name:"Ravenna",abbreviation:"RA",code:39},{name:"Reggio-Calabria",abbreviation:"RC",code:35},{name:"Reggio-Emilia",abbreviation:"RE",code:35},{name:"Rieti",abbreviation:"RI",code:57},{name:"Rimini",abbreviation:"RN",code:99},{name:"Roma",abbreviation:"Roma",code:58},{name:"Rovigo",abbreviation:"RO",code:29},{name:"Salerno",abbreviation:"SA",code:65},{name:"Sassari",abbreviation:"SS",code:90},{name:"Savona",abbreviation:"SV",code:9},{name:"Siena",abbreviation:"SI",code:52},{name:"Siracusa",abbreviation:"SR",code:89},{name:"Sondrio",abbreviation:"SO",code:14},{name:"Taranto",abbreviation:"TA",code:73},{name:"Teramo",abbreviation:"TE",code:67},{name:"Terni",abbreviation:"TR",code:55},{name:"Torino",abbreviation:"TO",code:1},{name:"Trapani",abbreviation:"TP",code:81},{name:"Trento",abbreviation:"TN",code:22},{name:"Treviso",abbreviation:"TV",code:26},{name:"Trieste",abbreviation:"TS",code:32},{name:"Udine",abbreviation:"UD",code:30},{name:"Varese",abbreviation:"VA",code:12},{name:"Venezia",abbreviation:"VE",code:27},{name:"Verbania",abbreviation:"VB",code:27},{name:"Vercelli",abbreviation:"VC",code:2},{name:"Verona",abbreviation:"VR",code:23},{name:"Vibo-Valentia",abbreviation:"VV",code:102},{name:"Vicenza",abbreviation:"VI",code:24},{name:"Viterbo",abbreviation:"VT",code:56}]},nationalities:[{name:"Afghan"},{name:"Albanian"},{name:"Algerian"},{name:"American"},{name:"Andorran"},{name:"Angolan"},{name:"Antiguans"},{name:"Argentinean"},{name:"Armenian"},{name:"Australian"},{name:"Austrian"},{name:"Azerbaijani"},{name:"Bahami"},{name:"Bahraini"},{name:"Bangladeshi"},{name:"Barbadian"},{name:"Barbudans"},{name:"Batswana"},{name:"Belarusian"},{name:"Belgian"},{name:"Belizean"},{name:"Beninese"},{name:"Bhutanese"},{name:"Bolivian"},{name:"Bosnian"},{name:"Brazilian"},{name:"British"},{name:"Bruneian"},{name:"Bulgarian"},{name:"Burkinabe"},{name:"Burmese"},{name:"Burundian"},{name:"Cambodian"},{name:"Cameroonian"},{name:"Canadian"},{name:"Cape Verdean"},{name:"Central African"},{name:"Chadian"},{name:"Chilean"},{name:"Chinese"},{name:"Colombian"},{name:"Comoran"},{name:"Congolese"},{name:"Costa Rican"},{name:"Croatian"},{name:"Cuban"},{name:"Cypriot"},{name:"Czech"},{name:"Danish"},{name:"Djibouti"},{name:"Dominican"},{name:"Dutch"},{name:"East Timorese"},{name:"Ecuadorean"},{name:"Egyptian"},{name:"Emirian"},{name:"Equatorial Guinean"},{name:"Eritrean"},{name:"Estonian"},{name:"Ethiopian"},{name:"Fijian"},{name:"Filipino"},{name:"Finnish"},{name:"French"},{name:"Gabonese"},{name:"Gambian"},{name:"Georgian"},{name:"German"},{name:"Ghanaian"},{name:"Greek"},{name:"Grenadian"},{name:"Guatemalan"},{name:"Guinea-Bissauan"},{name:"Guinean"},{name:"Guyanese"},{name:"Haitian"},{name:"Herzegovinian"},{name:"Honduran"},{name:"Hungarian"},{name:"I-Kiribati"},{name:"Icelander"},{name:"Indian"},{name:"Indonesian"},{name:"Iranian"},{name:"Iraqi"},{name:"Irish"},{name:"Israeli"},{name:"Italian"},{name:"Ivorian"},{name:"Jamaican"},{name:"Japanese"},{name:"Jordanian"},{name:"Kazakhstani"},{name:"Kenyan"},{name:"Kittian and Nevisian"},{name:"Kuwaiti"},{name:"Kyrgyz"},{name:"Laotian"},{name:"Latvian"},{name:"Lebanese"},{name:"Liberian"},{name:"Libyan"},{name:"Liechtensteiner"},{name:"Lithuanian"},{name:"Luxembourger"},{name:"Macedonian"},{name:"Malagasy"},{name:"Malawian"},{name:"Malaysian"},{name:"Maldivan"},{name:"Malian"},{name:"Maltese"},{name:"Marshallese"},{name:"Mauritanian"},{name:"Mauritian"},{name:"Mexican"},{name:"Micronesian"},{name:"Moldovan"},{name:"Monacan"},{name:"Mongolian"},{name:"Moroccan"},{name:"Mosotho"},{name:"Motswana"},{name:"Mozambican"},{name:"Namibian"},{name:"Nauruan"},{name:"Nepalese"},{name:"New Zealander"},{name:"Nicaraguan"},{name:"Nigerian"},{name:"Nigerien"},{name:"North Korean"},{name:"Northern Irish"},{name:"Norwegian"},{name:"Omani"},{name:"Pakistani"},{name:"Palauan"},{name:"Panamanian"},{name:"Papua New Guinean"},{name:"Paraguayan"},{name:"Peruvian"},{name:"Polish"},{name:"Portuguese"},{name:"Qatari"},{name:"Romani"},{name:"Russian"},{name:"Rwandan"},{name:"Saint Lucian"},{name:"Salvadoran"},{name:"Samoan"},{name:"San Marinese"},{name:"Sao Tomean"},{name:"Saudi"},{name:"Scottish"},{name:"Senegalese"},{name:"Serbian"},{name:"Seychellois"},{name:"Sierra Leonean"},{name:"Singaporean"},{name:"Slovakian"},{name:"Slovenian"},{name:"Solomon Islander"},{name:"Somali"},{name:"South African"},{name:"South Korean"},{name:"Spanish"},{name:"Sri Lankan"},{name:"Sudanese"},{name:"Surinamer"},{name:"Swazi"},{name:"Swedish"},{name:"Swiss"},{name:"Syrian"},{name:"Taiwanese"},{name:"Tajik"},{name:"Tanzanian"},{name:"Thai"},{name:"Togolese"},{name:"Tongan"},{name:"Trinidadian or Tobagonian"},{name:"Tunisian"},{name:"Turkish"},{name:"Tuvaluan"},{name:"Ugandan"},{name:"Ukrainian"},{name:"Uruguaya"},{name:"Uzbekistani"},{name:"Venezuela"},{name:"Vietnamese"},{name:"Wels"},{name:"Yemenit"},{name:"Zambia"},{name:"Zimbabwe"}],locale_languages:["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"],locale_regions:["agq-CM","asa-TZ","ast-ES","bas-CM","bem-ZM","bez-TZ","brx-IN","cgg-UG","chr-US","dav-KE","dje-NE","dsb-DE","dua-CM","dyo-SN","ebu-KE","ewo-CM","fil-PH","fur-IT","gsw-CH","gsw-FR","gsw-LI","guz-KE","haw-US","hsb-DE","jgo-CM","jmc-TZ","kab-DZ","kam-KE","kde-TZ","kea-CV","khq-ML","kkj-CM","kln-KE","kok-IN","ksb-TZ","ksf-CM","ksh-DE","lag-TZ","lkt-US","luo-KE","luy-KE","mas-KE","mas-TZ","mer-KE","mfe-MU","mgh-MZ","mgo-CM","mua-CM","naq-NA","nmg-CM","nnh-CM","nus-SD","nyn-UG","rof-TZ","rwk-TZ","sah-RU","saq-KE","sbp-TZ","seh-MZ","ses-ML","shi-Latn","shi-Latn-MA","shi-Tfng","shi-Tfng-MA","smn-FI","teo-KE","teo-UG","twq-NE","tzm-Latn","tzm-Latn-MA","vai-Latn","vai-Latn-LR","vai-Vaii","vai-Vaii-LR","vun-TZ","wae-CH","xog-UG","yav-CM","zgh-MA","af-NA","af-ZA","ak-GH","am-ET","ar-001","ar-AE","ar-BH","ar-DJ","ar-DZ","ar-EG","ar-EH","ar-ER","ar-IL","ar-IQ","ar-JO","ar-KM","ar-KW","ar-LB","ar-LY","ar-MA","ar-MR","ar-OM","ar-PS","ar-QA","ar-SA","ar-SD","ar-SO","ar-SS","ar-SY","ar-TD","ar-TN","ar-YE","as-IN","az-Cyrl","az-Cyrl-AZ","az-Latn","az-Latn-AZ","be-BY","bg-BG","bm-Latn","bm-Latn-ML","bn-BD","bn-IN","bo-CN","bo-IN","br-FR","bs-Cyrl","bs-Cyrl-BA","bs-Latn","bs-Latn-BA","ca-AD","ca-ES","ca-ES-VALENCIA","ca-FR","ca-IT","cs-CZ","cy-GB","da-DK","da-GL","de-AT","de-BE","de-CH","de-DE","de-LI","de-LU","dz-BT","ee-GH","ee-TG","el-CY","el-GR","en-001","en-150","en-AG","en-AI","en-AS","en-AU","en-BB","en-BE","en-BM","en-BS","en-BW","en-BZ","en-CA","en-CC","en-CK","en-CM","en-CX","en-DG","en-DM","en-ER","en-FJ","en-FK","en-FM","en-GB","en-GD","en-GG","en-GH","en-GI","en-GM","en-GU","en-GY","en-HK","en-IE","en-IM","en-IN","en-IO","en-JE","en-JM","en-KE","en-KI","en-KN","en-KY","en-LC","en-LR","en-LS","en-MG","en-MH","en-MO","en-MP","en-MS","en-MT","en-MU","en-MW","en-MY","en-NA","en-NF","en-NG","en-NR","en-NU","en-NZ","en-PG","en-PH","en-PK","en-PN","en-PR","en-PW","en-RW","en-SB","en-SC","en-SD","en-SG","en-SH","en-SL","en-SS","en-SX","en-SZ","en-TC","en-TK","en-TO","en-TT","en-TV","en-TZ","en-UG","en-UM","en-US","en-US-POSIX","en-VC","en-VG","en-VI","en-VU","en-WS","en-ZA","en-ZM","en-ZW","eo-001","es-419","es-AR","es-BO","es-CL","es-CO","es-CR","es-CU","es-DO","es-EA","es-EC","es-ES","es-GQ","es-GT","es-HN","es-IC","es-MX","es-NI","es-PA","es-PE","es-PH","es-PR","es-PY","es-SV","es-US","es-UY","es-VE","et-EE","eu-ES","fa-AF","fa-IR","ff-CM","ff-GN","ff-MR","ff-SN","fi-FI","fo-FO","fr-BE","fr-BF","fr-BI","fr-BJ","fr-BL","fr-CA","fr-CD","fr-CF","fr-CG","fr-CH","fr-CI","fr-CM","fr-DJ","fr-DZ","fr-FR","fr-GA","fr-GF","fr-GN","fr-GP","fr-GQ","fr-HT","fr-KM","fr-LU","fr-MA","fr-MC","fr-MF","fr-MG","fr-ML","fr-MQ","fr-MR","fr-MU","fr-NC","fr-NE","fr-PF","fr-PM","fr-RE","fr-RW","fr-SC","fr-SN","fr-SY","fr-TD","fr-TG","fr-TN","fr-VU","fr-WF","fr-YT","fy-NL","ga-IE","gd-GB","gl-ES","gu-IN","gv-IM","ha-Latn","ha-Latn-GH","ha-Latn-NE","ha-Latn-NG","he-IL","hi-IN","hr-BA","hr-HR","hu-HU","hy-AM","id-ID","ig-NG","ii-CN","is-IS","it-CH","it-IT","it-SM","ja-JP","ka-GE","ki-KE","kk-Cyrl","kk-Cyrl-KZ","kl-GL","km-KH","kn-IN","ko-KP","ko-KR","ks-Arab","ks-Arab-IN","kw-GB","ky-Cyrl","ky-Cyrl-KG","lb-LU","lg-UG","ln-AO","ln-CD","ln-CF","ln-CG","lo-LA","lt-LT","lu-CD","lv-LV","mg-MG","mk-MK","ml-IN","mn-Cyrl","mn-Cyrl-MN","mr-IN","ms-Latn","ms-Latn-BN","ms-Latn-MY","ms-Latn-SG","mt-MT","my-MM","nb-NO","nb-SJ","nd-ZW","ne-IN","ne-NP","nl-AW","nl-BE","nl-BQ","nl-CW","nl-NL","nl-SR","nl-SX","nn-NO","om-ET","om-KE","or-IN","os-GE","os-RU","pa-Arab","pa-Arab-PK","pa-Guru","pa-Guru-IN","pl-PL","ps-AF","pt-AO","pt-BR","pt-CV","pt-GW","pt-MO","pt-MZ","pt-PT","pt-ST","pt-TL","qu-BO","qu-EC","qu-PE","rm-CH","rn-BI","ro-MD","ro-RO","ru-BY","ru-KG","ru-KZ","ru-MD","ru-RU","ru-UA","rw-RW","se-FI","se-NO","se-SE","sg-CF","si-LK","sk-SK","sl-SI","sn-ZW","so-DJ","so-ET","so-KE","so-SO","sq-AL","sq-MK","sq-XK","sr-Cyrl","sr-Cyrl-BA","sr-Cyrl-ME","sr-Cyrl-RS","sr-Cyrl-XK","sr-Latn","sr-Latn-BA","sr-Latn-ME","sr-Latn-RS","sr-Latn-XK","sv-AX","sv-FI","sv-SE","sw-CD","sw-KE","sw-TZ","sw-UG","ta-IN","ta-LK","ta-MY","ta-SG","te-IN","th-TH","ti-ER","ti-ET","to-TO","tr-CY","tr-TR","ug-Arab","ug-Arab-CN","uk-UA","ur-IN","ur-PK","uz-Arab","uz-Arab-AF","uz-Cyrl","uz-Cyrl-UZ","uz-Latn","uz-Latn-UZ","vi-VN","yi-001","yo-BJ","yo-NG","zh-Hans","zh-Hans-CN","zh-Hans-HK","zh-Hans-MO","zh-Hans-SG","zh-Hant","zh-Hant-HK","zh-Hant-MO","zh-Hant-TW","zu-ZA"],us_states_and_dc:[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District of Columbia",abbreviation:"DC"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],territories:[{name:"American Samoa",abbreviation:"AS"},{name:"Federated States of Micronesia",abbreviation:"FM"},{name:"Guam",abbreviation:"GU"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Virgin Islands, U.S.",abbreviation:"VI"}],armed_forces:[{name:"Armed Forces Europe",abbreviation:"AE"},{name:"Armed Forces Pacific",abbreviation:"AP"},{name:"Armed Forces the Americas",abbreviation:"AA"}],country_regions:{it:[{name:"Valle d'Aosta",abbreviation:"VDA"},{name:"Piemonte",abbreviation:"PIE"},{name:"Lombardia",abbreviation:"LOM"},{name:"Veneto",abbreviation:"VEN"},{name:"Trentino Alto Adige",abbreviation:"TAA"},{name:"Friuli Venezia Giulia",abbreviation:"FVG"},{name:"Liguria",abbreviation:"LIG"},{name:"Emilia Romagna",abbreviation:"EMR"},{name:"Toscana",abbreviation:"TOS"},{name:"Umbria",abbreviation:"UMB"},{name:"Marche",abbreviation:"MAR"},{name:"Abruzzo",abbreviation:"ABR"},{name:"Lazio",abbreviation:"LAZ"},{name:"Campania",abbreviation:"CAM"},{name:"Puglia",abbreviation:"PUG"},{name:"Basilicata",abbreviation:"BAS"},{name:"Molise",abbreviation:"MOL"},{name:"Calabria",abbreviation:"CAL"},{name:"Sicilia",abbreviation:"SIC"},{name:"Sardegna",abbreviation:"SAR"}],mx:[{name:"Aguascalientes",abbreviation:"AGU"},{name:"Baja California",abbreviation:"BCN"},{name:"Baja California Sur",abbreviation:"BCS"},{name:"Campeche",abbreviation:"CAM"},{name:"Chiapas",abbreviation:"CHP"},{name:"Chihuahua",abbreviation:"CHH"},{name:"Ciudad de México",abbreviation:"DIF"},{name:"Coahuila",abbreviation:"COA"},{name:"Colima",abbreviation:"COL"},{name:"Durango",abbreviation:"DUR"},{name:"Guanajuato",abbreviation:"GUA"},{name:"Guerrero",abbreviation:"GRO"},{name:"Hidalgo",abbreviation:"HID"},{name:"Jalisco",abbreviation:"JAL"},{name:"México",abbreviation:"MEX"},{name:"Michoacán",abbreviation:"MIC"},{name:"Morelos",abbreviation:"MOR"},{name:"Nayarit",abbreviation:"NAY"},{name:"Nuevo León",abbreviation:"NLE"},{name:"Oaxaca",abbreviation:"OAX"},{name:"Puebla",abbreviation:"PUE"},{name:"Querétaro",abbreviation:"QUE"},{name:"Quintana Roo",abbreviation:"ROO"},{name:"San Luis Potosí",abbreviation:"SLP"},{name:"Sinaloa",abbreviation:"SIN"},{name:"Sonora",abbreviation:"SON"},{name:"Tabasco",abbreviation:"TAB"},{name:"Tamaulipas",abbreviation:"TAM"},{name:"Tlaxcala",abbreviation:"TLA"},{name:"Veracruz",abbreviation:"VER"},{name:"Yucatán",abbreviation:"YUC"},{name:"Zacatecas",abbreviation:"ZAC"}]},street_suffixes:{us:[{name:"Avenue",abbreviation:"Ave"},{name:"Boulevard",abbreviation:"Blvd"},{name:"Center",abbreviation:"Ctr"},{name:"Circle",abbreviation:"Cir"},{name:"Court",abbreviation:"Ct"},{name:"Drive",abbreviation:"Dr"},{name:"Extension",abbreviation:"Ext"},{name:"Glen",abbreviation:"Gln"},{name:"Grove",abbreviation:"Grv"},{name:"Heights",abbreviation:"Hts"},{name:"Highway",abbreviation:"Hwy"},{name:"Junction",abbreviation:"Jct"},{name:"Key",abbreviation:"Key"},{name:"Lane",abbreviation:"Ln"},{name:"Loop",abbreviation:"Loop"},{name:"Manor",abbreviation:"Mnr"},{name:"Mill",abbreviation:"Mill"},{name:"Park",abbreviation:"Park"},{name:"Parkway",abbreviation:"Pkwy"},{name:"Pass",abbreviation:"Pass"},{name:"Path",abbreviation:"Path"},{name:"Pike",abbreviation:"Pike"},{name:"Place",abbreviation:"Pl"},{name:"Plaza",abbreviation:"Plz"},{name:"Point",abbreviation:"Pt"},{name:"Ridge",abbreviation:"Rdg"},{name:"River",abbreviation:"Riv"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Trail",abbreviation:"Trl"},{name:"Turnpike",abbreviation:"Tpke"},{name:"View",abbreviation:"Vw"},{name:"Way",abbreviation:"Way"}],it:[{name:"Accesso",abbreviation:"Acc."},{name:"Alzaia",abbreviation:"Alz."},{name:"Arco",abbreviation:"Arco"},{name:"Archivolto",abbreviation:"Acv."},{name:"Arena",abbreviation:"Arena"},{name:"Argine",abbreviation:"Argine"},{name:"Bacino",abbreviation:"Bacino"},{name:"Banchi",abbreviation:"Banchi"},{name:"Banchina",abbreviation:"Ban."},{name:"Bastioni",abbreviation:"Bas."},{name:"Belvedere",abbreviation:"Belv."},{name:"Borgata",abbreviation:"B.ta"},{name:"Borgo",abbreviation:"B.go"},{name:"Calata",abbreviation:"Cal."},{name:"Calle",abbreviation:"Calle"},{name:"Campiello",abbreviation:"Cam."},{name:"Campo",abbreviation:"Cam."},{name:"Canale",abbreviation:"Can."},{name:"Carraia",abbreviation:"Carr."},{name:"Cascina",abbreviation:"Cascina"},{name:"Case sparse",abbreviation:"c.s."},{name:"Cavalcavia",abbreviation:"Cv."},{name:"Circonvallazione",abbreviation:"Cv."},{name:"Complanare",abbreviation:"C.re"},{name:"Contrada",abbreviation:"C.da"},{name:"Corso",abbreviation:"C.so"},{name:"Corte",abbreviation:"C.te"},{name:"Cortile",abbreviation:"C.le"},{name:"Diramazione",abbreviation:"Dir."},{name:"Fondaco",abbreviation:"F.co"},{name:"Fondamenta",abbreviation:"F.ta"},{name:"Fondo",abbreviation:"F.do"},{name:"Frazione",abbreviation:"Fr."},{name:"Isola",abbreviation:"Is."},{name:"Largo",abbreviation:"L.go"},{name:"Litoranea",abbreviation:"Lit."},{name:"Lungolago",abbreviation:"L.go lago"},{name:"Lungo Po",abbreviation:"l.go Po"},{name:"Molo",abbreviation:"Molo"},{name:"Mura",abbreviation:"Mura"},{name:"Passaggio privato",abbreviation:"pass. priv."},{name:"Passeggiata",abbreviation:"Pass."},{name:"Piazza",abbreviation:"P.zza"},{name:"Piazzale",abbreviation:"P.le"},{name:"Ponte",abbreviation:"P.te"},{name:"Portico",abbreviation:"P.co"},{name:"Rampa",abbreviation:"Rampa"},{name:"Regione",abbreviation:"Reg."},{name:"Rione",abbreviation:"R.ne"},{name:"Rio",abbreviation:"Rio"},{name:"Ripa",abbreviation:"Ripa"},{name:"Riva",abbreviation:"Riva"},{name:"Rondò",abbreviation:"Rondò"},{name:"Rotonda",abbreviation:"Rot."},{name:"Sagrato",abbreviation:"Sagr."},{name:"Salita",abbreviation:"Sal."},{name:"Scalinata",abbreviation:"Scal."},{name:"Scalone",abbreviation:"Scal."},{name:"Slargo",abbreviation:"Sl."},{name:"Sottoportico",abbreviation:"Sott."},{name:"Strada",abbreviation:"Str."},{name:"Stradale",abbreviation:"Str.le"},{name:"Strettoia",abbreviation:"Strett."},{name:"Traversa",abbreviation:"Trav."},{name:"Via",abbreviation:"V."},{name:"Viale",abbreviation:"V.le"},{name:"Vicinale",abbreviation:"Vic.le"},{name:"Vicolo",abbreviation:"Vic."}],uk:[{name:"Avenue",abbreviation:"Ave"},{name:"Close",abbreviation:"Cl"},{name:"Court",abbreviation:"Ct"},{name:"Crescent",abbreviation:"Cr"},{name:"Drive",abbreviation:"Dr"},{name:"Garden",abbreviation:"Gdn"},{name:"Gardens",abbreviation:"Gdns"},{name:"Green",abbreviation:"Gn"},{name:"Grove",abbreviation:"Gr"},{name:"Lane",abbreviation:"Ln"},{name:"Mount",abbreviation:"Mt"},{name:"Place",abbreviation:"Pl"},{name:"Park",abbreviation:"Pk"},{name:"Ridge",abbreviation:"Rdg"},{name:"Road",abbreviation:"Rd"},{name:"Square",abbreviation:"Sq"},{name:"Street",abbreviation:"St"},{name:"Terrace",abbreviation:"Ter"},{name:"Valley",abbreviation:"Val"}]},months:[{name:"January",short_name:"Jan",numeric:"01",days:31},{name:"February",short_name:"Feb",numeric:"02",days:28},{name:"March",short_name:"Mar",numeric:"03",days:31},{name:"April",short_name:"Apr",numeric:"04",days:30},{name:"May",short_name:"May",numeric:"05",days:31},{name:"June",short_name:"Jun",numeric:"06",days:30},{name:"July",short_name:"Jul",numeric:"07",days:31},{name:"August",short_name:"Aug",numeric:"08",days:31},{name:"September",short_name:"Sep",numeric:"09",days:30},{name:"October",short_name:"Oct",numeric:"10",days:31},{name:"November",short_name:"Nov",numeric:"11",days:30},{name:"December",short_name:"Dec",numeric:"12",days:31}],cc_types:[{name:"American Express",short_name:"amex",prefix:"34",length:15},{name:"Bankcard",short_name:"bankcard",prefix:"5610",length:16},{name:"China UnionPay",short_name:"chinaunion",prefix:"62",length:16},{name:"Diners Club Carte Blanche",short_name:"dccarte",prefix:"300",length:14},{name:"Diners Club enRoute",short_name:"dcenroute",prefix:"2014",length:15},{name:"Diners Club International",short_name:"dcintl",prefix:"36",length:14},{name:"Diners Club United States & Canada",short_name:"dcusc",prefix:"54",length:16},{name:"Discover Card",short_name:"discover",prefix:"6011",length:16},{name:"InstaPayment",short_name:"instapay",prefix:"637",length:16},{name:"JCB",short_name:"jcb",prefix:"3528",length:16},{name:"Laser",short_name:"laser",prefix:"6304",length:16},{name:"Maestro",short_name:"maestro",prefix:"5018",length:16},{name:"Mastercard",short_name:"mc",prefix:"51",length:16},{name:"Solo",short_name:"solo",prefix:"6334",length:16},{name:"Switch",short_name:"switch",prefix:"4903",length:16},{name:"Visa",short_name:"visa",prefix:"4",length:16},{name:"Visa Electron",short_name:"electron",prefix:"4026",length:16}],currency_types:[{code:"AED",name:"United Arab Emirates Dirham"},{code:"AFN",name:"Afghanistan Afghani"},{code:"ALL",name:"Albania Lek"},{code:"AMD",name:"Armenia Dram"},{code:"ANG",name:"Netherlands Antilles Guilder"},{code:"AOA",name:"Angola Kwanza"},{code:"ARS",name:"Argentina Peso"},{code:"AUD",name:"Australia Dollar"},{code:"AWG",name:"Aruba Guilder"},{code:"AZN",name:"Azerbaijan New Manat"},{code:"BAM",name:"Bosnia and Herzegovina Convertible Marka"},{code:"BBD",name:"Barbados Dollar"},{code:"BDT",name:"Bangladesh Taka"},{code:"BGN",name:"Bulgaria Lev"},{code:"BHD",name:"Bahrain Dinar"},{code:"BIF",name:"Burundi Franc"},{code:"BMD",name:"Bermuda Dollar"},{code:"BND",name:"Brunei Darussalam Dollar"},{code:"BOB",name:"Bolivia Boliviano"},{code:"BRL",name:"Brazil Real"},{code:"BSD",name:"Bahamas Dollar"},{code:"BTN",name:"Bhutan Ngultrum"},{code:"BWP",name:"Botswana Pula"},{code:"BYR",name:"Belarus Ruble"},{code:"BZD",name:"Belize Dollar"},{code:"CAD",name:"Canada Dollar"},{code:"CDF",name:"Congo/Kinshasa Franc"},{code:"CHF",name:"Switzerland Franc"},{code:"CLP",name:"Chile Peso"},{code:"CNY",name:"China Yuan Renminbi"},{code:"COP",name:"Colombia Peso"},{code:"CRC",name:"Costa Rica Colon"},{code:"CUC",name:"Cuba Convertible Peso"},{code:"CUP",name:"Cuba Peso"},{code:"CVE",name:"Cape Verde Escudo"},{code:"CZK",name:"Czech Republic Koruna"},{code:"DJF",name:"Djibouti Franc"},{code:"DKK",name:"Denmark Krone"},{code:"DOP",name:"Dominican Republic Peso"},{code:"DZD",name:"Algeria Dinar"},{code:"EGP",name:"Egypt Pound"},{code:"ERN",name:"Eritrea Nakfa"},{code:"ETB",name:"Ethiopia Birr"},{code:"EUR",name:"Euro Member Countries"},{code:"FJD",name:"Fiji Dollar"},{code:"FKP",name:"Falkland Islands (Malvinas) Pound"},{code:"GBP",name:"United Kingdom Pound"},{code:"GEL",name:"Georgia Lari"},{code:"GGP",name:"Guernsey Pound"},{code:"GHS",name:"Ghana Cedi"},{code:"GIP",name:"Gibraltar Pound"},{code:"GMD",name:"Gambia Dalasi"},{code:"GNF",name:"Guinea Franc"},{code:"GTQ",name:"Guatemala Quetzal"},{code:"GYD",name:"Guyana Dollar"},{code:"HKD",name:"Hong Kong Dollar"},{code:"HNL",name:"Honduras Lempira"},{code:"HRK",name:"Croatia Kuna"},{code:"HTG",name:"Haiti Gourde"},{code:"HUF",name:"Hungary Forint"},{code:"IDR",name:"Indonesia Rupiah"},{code:"ILS",name:"Israel Shekel"},{code:"IMP",name:"Isle of Man Pound"},{code:"INR",name:"India Rupee"},{code:"IQD",name:"Iraq Dinar"},{code:"IRR",name:"Iran Rial"},{code:"ISK",name:"Iceland Krona"},{code:"JEP",name:"Jersey Pound"},{code:"JMD",name:"Jamaica Dollar"},{code:"JOD",name:"Jordan Dinar"},{code:"JPY",name:"Japan Yen"},{code:"KES",name:"Kenya Shilling"},{code:"KGS",name:"Kyrgyzstan Som"},{code:"KHR",name:"Cambodia Riel"},{code:"KMF",name:"Comoros Franc"},{code:"KPW",name:"Korea (North) Won"},{code:"KRW",name:"Korea (South) Won"},{code:"KWD",name:"Kuwait Dinar"},{code:"KYD",name:"Cayman Islands Dollar"},{code:"KZT",name:"Kazakhstan Tenge"},{code:"LAK",name:"Laos Kip"},{code:"LBP",name:"Lebanon Pound"},{code:"LKR",name:"Sri Lanka Rupee"},{code:"LRD",name:"Liberia Dollar"},{code:"LSL",name:"Lesotho Loti"},{code:"LTL",name:"Lithuania Litas"},{code:"LYD",name:"Libya Dinar"},{code:"MAD",name:"Morocco Dirham"},{code:"MDL",name:"Moldova Leu"},{code:"MGA",name:"Madagascar Ariary"},{code:"MKD",name:"Macedonia Denar"},{code:"MMK",name:"Myanmar (Burma) Kyat"},{code:"MNT",name:"Mongolia Tughrik"},{code:"MOP",name:"Macau Pataca"},{code:"MRO",name:"Mauritania Ouguiya"},{code:"MUR",name:"Mauritius Rupee"},{code:"MVR",name:"Maldives (Maldive Islands) Rufiyaa"},{code:"MWK",name:"Malawi Kwacha"},{code:"MXN",name:"Mexico Peso"},{code:"MYR",name:"Malaysia Ringgit"},{code:"MZN",name:"Mozambique Metical"},{code:"NAD",name:"Namibia Dollar"},{code:"NGN",name:"Nigeria Naira"},{code:"NIO",name:"Nicaragua Cordoba"},{code:"NOK",name:"Norway Krone"},{code:"NPR",name:"Nepal Rupee"},{code:"NZD",name:"New Zealand Dollar"},{code:"OMR",name:"Oman Rial"},{code:"PAB",name:"Panama Balboa"},{code:"PEN",name:"Peru Nuevo Sol"},{code:"PGK",name:"Papua New Guinea Kina"},{code:"PHP",name:"Philippines Peso"},{code:"PKR",name:"Pakistan Rupee"},{code:"PLN",name:"Poland Zloty"},{code:"PYG",name:"Paraguay Guarani"},{code:"QAR",name:"Qatar Riyal"},{code:"RON",name:"Romania New Leu"},{code:"RSD",name:"Serbia Dinar"},{code:"RUB",name:"Russia Ruble"},{code:"RWF",name:"Rwanda Franc"},{code:"SAR",name:"Saudi Arabia Riyal"},{code:"SBD",name:"Solomon Islands Dollar"},{code:"SCR",name:"Seychelles Rupee"},{code:"SDG",name:"Sudan Pound"},{code:"SEK",name:"Sweden Krona"},{code:"SGD",name:"Singapore Dollar"},{code:"SHP",name:"Saint Helena Pound"},{code:"SLL",name:"Sierra Leone Leone"},{code:"SOS",name:"Somalia Shilling"},{code:"SPL",name:"Seborga Luigino"},{code:"SRD",name:"Suriname Dollar"},{code:"STD",name:"São Tomé and Príncipe Dobra"},{code:"SVC",name:"El Salvador Colon"},{code:"SYP",name:"Syria Pound"},{code:"SZL",name:"Swaziland Lilangeni"},{code:"THB",name:"Thailand Baht"},{code:"TJS",name:"Tajikistan Somoni"},{code:"TMT",name:"Turkmenistan Manat"},{code:"TND",name:"Tunisia Dinar"},{code:"TOP",name:"Tonga Pa'anga"},{code:"TRY",name:"Turkey Lira"},{code:"TTD",name:"Trinidad and Tobago Dollar"},{code:"TVD",name:"Tuvalu Dollar"},{code:"TWD",name:"Taiwan New Dollar"},{code:"TZS",name:"Tanzania Shilling"},{code:"UAH",name:"Ukraine Hryvnia"},{code:"UGX",name:"Uganda Shilling"},{code:"USD",name:"United States Dollar"},{code:"UYU",name:"Uruguay Peso"},{code:"UZS",name:"Uzbekistan Som"},{code:"VEF",name:"Venezuela Bolivar"},{code:"VND",name:"Viet Nam Dong"},{code:"VUV",name:"Vanuatu Vatu"},{code:"WST",name:"Samoa Tala"},{code:"XAF",name:"Communauté Financière Africaine (BEAC) CFA Franc BEAC"},{code:"XCD",name:"East Caribbean Dollar"},{code:"XDR",name:"International Monetary Fund (IMF) Special Drawing Rights"},{code:"XOF",name:"Communauté Financière Africaine (BCEAO) Franc"},{code:"XPF",name:"Comptoirs Français du Pacifique (CFP) Franc"},{code:"YER",name:"Yemen Rial"},{code:"ZAR",name:"South Africa Rand"},{code:"ZMW",name:"Zambia Kwacha"},{code:"ZWD",name:"Zimbabwe Dollar"}],colorNames:["AliceBlue","Black","Navy","DarkBlue","MediumBlue","Blue","DarkGreen","Green","Teal","DarkCyan","DeepSkyBlue","DarkTurquoise","MediumSpringGreen","Lime","SpringGreen","Aqua","Cyan","MidnightBlue","DodgerBlue","LightSeaGreen","ForestGreen","SeaGreen","DarkSlateGray","LimeGreen","MediumSeaGreen","Turquoise","RoyalBlue","SteelBlue","DarkSlateBlue","MediumTurquoise","Indigo","DarkOliveGreen","CadetBlue","CornflowerBlue","RebeccaPurple","MediumAquaMarine","DimGray","SlateBlue","OliveDrab","SlateGray","LightSlateGray","MediumSlateBlue","LawnGreen","Chartreuse","Aquamarine","Maroon","Purple","Olive","Gray","SkyBlue","LightSkyBlue","BlueViolet","DarkRed","DarkMagenta","SaddleBrown","Ivory","White","DarkSeaGreen","LightGreen","MediumPurple","DarkViolet","PaleGreen","DarkOrchid","YellowGreen","Sienna","Brown","DarkGray","LightBlue","GreenYellow","PaleTurquoise","LightSteelBlue","PowderBlue","FireBrick","DarkGoldenRod","MediumOrchid","RosyBrown","DarkKhaki","Silver","MediumVioletRed","IndianRed","Peru","Chocolate","Tan","LightGray","Thistle","Orchid","GoldenRod","PaleVioletRed","Crimson","Gainsboro","Plum","BurlyWood","LightCyan","Lavender","DarkSalmon","Violet","PaleGoldenRod","LightCoral","Khaki","AliceBlue","HoneyDew","Azure","SandyBrown","Wheat","Beige","WhiteSmoke","MintCream","GhostWhite","Salmon","AntiqueWhite","Linen","LightGoldenRodYellow","OldLace","Red","Fuchsia","Magenta","DeepPink","OrangeRed","Tomato","HotPink","Coral","DarkOrange","LightSalmon","Orange","LightPink","Pink","Gold","PeachPuff","NavajoWhite","Moccasin","Bisque","MistyRose","BlanchedAlmond","PapayaWhip","LavenderBlush","SeaShell","Cornsilk","LemonChiffon","FloralWhite","Snow","Yellow","LightYellow"],company:["3Com Corp","3M Company","A.G. Edwards Inc.","Abbott Laboratories","Abercrombie & Fitch Co.","ABM Industries Incorporated","Ace Hardware Corporation","ACT Manufacturing Inc.","Acterna Corp.","Adams Resources & Energy, Inc.","ADC Telecommunications, Inc.","Adelphia Communications Corporation","Administaff, Inc.","Adobe Systems Incorporated","Adolph Coors Company","Advance Auto Parts, Inc.","Advanced Micro Devices, Inc.","AdvancePCS, Inc.","Advantica Restaurant Group, Inc.","The AES Corporation","Aetna Inc.","Affiliated Computer Services, Inc.","AFLAC Incorporated","AGCO Corporation","Agilent Technologies, Inc.","Agway Inc.","Apartment Investment and Management Company","Air Products and Chemicals, Inc.","Airborne, Inc.","Airgas, Inc.","AK Steel Holding Corporation","Alaska Air Group, Inc.","Alberto-Culver Company","Albertson's, Inc.","Alcoa Inc.","Alleghany Corporation","Allegheny Energy, Inc.","Allegheny Technologies Incorporated","Allergan, Inc.","ALLETE, Inc.","Alliant Energy Corporation","Allied Waste Industries, Inc.","Allmerica Financial Corporation","The Allstate Corporation","ALLTEL Corporation","The Alpine Group, Inc.","Amazon.com, Inc.","AMC Entertainment Inc.","American Power Conversion Corporation","Amerada Hess Corporation","AMERCO","Ameren Corporation","America West Holdings Corporation","American Axle & Manufacturing Holdings, Inc.","American Eagle Outfitters, Inc.","American Electric Power Company, Inc.","American Express Company","American Financial Group, Inc.","American Greetings Corporation","American International Group, Inc.","American Standard Companies Inc.","American Water Works Company, Inc.","AmerisourceBergen Corporation","Ames Department Stores, Inc.","Amgen Inc.","Amkor Technology, Inc.","AMR Corporation","AmSouth Bancorp.","Amtran, Inc.","Anadarko Petroleum Corporation","Analog Devices, Inc.","Anheuser-Busch Companies, Inc.","Anixter International Inc.","AnnTaylor Inc.","Anthem, Inc.","AOL Time Warner Inc.","Aon Corporation","Apache Corporation","Apple Computer, Inc.","Applera Corporation","Applied Industrial Technologies, Inc.","Applied Materials, Inc.","Aquila, Inc.","ARAMARK Corporation","Arch Coal, Inc.","Archer Daniels Midland Company","Arkansas Best Corporation","Armstrong Holdings, Inc.","Arrow Electronics, Inc.","ArvinMeritor, Inc.","Ashland Inc.","Astoria Financial Corporation","AT&T Corp.","Atmel Corporation","Atmos Energy Corporation","Audiovox Corporation","Autoliv, Inc.","Automatic Data Processing, Inc.","AutoNation, Inc.","AutoZone, Inc.","Avaya Inc.","Avery Dennison Corporation","Avista Corporation","Avnet, Inc.","Avon Products, Inc.","Baker Hughes Incorporated","Ball Corporation","Bank of America Corporation","The Bank of New York Company, Inc.","Bank One Corporation","Banknorth Group, Inc.","Banta Corporation","Barnes & Noble, Inc.","Bausch & Lomb Incorporated","Baxter International Inc.","BB&T Corporation","The Bear Stearns Companies Inc.","Beazer Homes USA, Inc.","Beckman Coulter, Inc.","Becton, Dickinson and Company","Bed Bath & Beyond Inc.","Belk, Inc.","Bell Microproducts Inc.","BellSouth Corporation","Belo Corp.","Bemis Company, Inc.","Benchmark Electronics, Inc.","Berkshire Hathaway Inc.","Best Buy Co., Inc.","Bethlehem Steel Corporation","Beverly Enterprises, Inc.","Big Lots, Inc.","BJ Services Company","BJ's Wholesale Club, Inc.","The Black & Decker Corporation","Black Hills Corporation","BMC Software, Inc.","The Boeing Company","Boise Cascade Corporation","Borders Group, Inc.","BorgWarner Inc.","Boston Scientific Corporation","Bowater Incorporated","Briggs & Stratton Corporation","Brightpoint, Inc.","Brinker International, Inc.","Bristol-Myers Squibb Company","Broadwing, Inc.","Brown Shoe Company, Inc.","Brown-Forman Corporation","Brunswick Corporation","Budget Group, Inc.","Burlington Coat Factory Warehouse Corporation","Burlington Industries, Inc.","Burlington Northern Santa Fe Corporation","Burlington Resources Inc.","C. H. Robinson Worldwide Inc.","Cablevision Systems Corp","Cabot Corp","Cadence Design Systems, Inc.","Calpine Corp.","Campbell Soup Co.","Capital One Financial Corp.","Cardinal Health Inc.","Caremark Rx Inc.","Carlisle Cos. Inc.","Carpenter Technology Corp.","Casey's General Stores Inc.","Caterpillar Inc.","CBRL Group Inc.","CDI Corp.","CDW Computer Centers Inc.","CellStar Corp.","Cendant Corp","Cenex Harvest States Cooperatives","Centex Corp.","CenturyTel Inc.","Ceridian Corp.","CH2M Hill Cos. Ltd.","Champion Enterprises Inc.","Charles Schwab Corp.","Charming Shoppes Inc.","Charter Communications Inc.","Charter One Financial Inc.","ChevronTexaco Corp.","Chiquita Brands International Inc.","Chubb Corp","Ciena Corp.","Cigna Corp","Cincinnati Financial Corp.","Cinergy Corp.","Cintas Corp.","Circuit City Stores Inc.","Cisco Systems Inc.","Citigroup, Inc","Citizens Communications Co.","CKE Restaurants Inc.","Clear Channel Communications Inc.","The Clorox Co.","CMGI Inc.","CMS Energy Corp.","CNF Inc.","Coca-Cola Co.","Coca-Cola Enterprises Inc.","Colgate-Palmolive Co.","Collins & Aikman Corp.","Comcast Corp.","Comdisco Inc.","Comerica Inc.","Comfort Systems USA Inc.","Commercial Metals Co.","Community Health Systems Inc.","Compass Bancshares Inc","Computer Associates International Inc.","Computer Sciences Corp.","Compuware Corp.","Comverse Technology Inc.","ConAgra Foods Inc.","Concord EFS Inc.","Conectiv, Inc","Conoco Inc","Conseco Inc.","Consolidated Freightways Corp.","Consolidated Edison Inc.","Constellation Brands Inc.","Constellation Emergy Group Inc.","Continental Airlines Inc.","Convergys Corp.","Cooper Cameron Corp.","Cooper Industries Ltd.","Cooper Tire & Rubber Co.","Corn Products International Inc.","Corning Inc.","Costco Wholesale Corp.","Countrywide Credit Industries Inc.","Coventry Health Care Inc.","Cox Communications Inc.","Crane Co.","Crompton Corp.","Crown Cork & Seal Co. Inc.","CSK Auto Corp.","CSX Corp.","Cummins Inc.","CVS Corp.","Cytec Industries Inc.","D&K Healthcare Resources, Inc.","D.R. Horton Inc.","Dana Corporation","Danaher Corporation","Darden Restaurants Inc.","DaVita Inc.","Dean Foods Company","Deere & Company","Del Monte Foods Co","Dell Computer Corporation","Delphi Corp.","Delta Air Lines Inc.","Deluxe Corporation","Devon Energy Corporation","Di Giorgio Corporation","Dial Corporation","Diebold Incorporated","Dillard's Inc.","DIMON Incorporated","Dole Food Company, Inc.","Dollar General Corporation","Dollar Tree Stores, Inc.","Dominion Resources, Inc.","Domino's Pizza LLC","Dover Corporation, Inc.","Dow Chemical Company","Dow Jones & Company, Inc.","DPL Inc.","DQE Inc.","Dreyer's Grand Ice Cream, Inc.","DST Systems, Inc.","DTE Energy Co.","E.I. Du Pont de Nemours and Company","Duke Energy Corp","Dun & Bradstreet Inc.","DURA Automotive Systems Inc.","DynCorp","Dynegy Inc.","E*Trade Group, Inc.","E.W. Scripps Company","Earthlink, Inc.","Eastman Chemical Company","Eastman Kodak Company","Eaton Corporation","Echostar Communications Corporation","Ecolab Inc.","Edison International","EGL Inc.","El Paso Corporation","Electronic Arts Inc.","Electronic Data Systems Corp.","Eli Lilly and Company","EMC Corporation","Emcor Group Inc.","Emerson Electric Co.","Encompass Services Corporation","Energizer Holdings Inc.","Energy East Corporation","Engelhard Corporation","Enron Corp.","Entergy Corporation","Enterprise Products Partners L.P.","EOG Resources, Inc.","Equifax Inc.","Equitable Resources Inc.","Equity Office Properties Trust","Equity Residential Properties Trust","Estee Lauder Companies Inc.","Exelon Corporation","Exide Technologies","Expeditors International of Washington Inc.","Express Scripts Inc.","ExxonMobil Corporation","Fairchild Semiconductor International Inc.","Family Dollar Stores Inc.","Farmland Industries Inc.","Federal Mogul Corp.","Federated Department Stores Inc.","Federal Express Corp.","Felcor Lodging Trust Inc.","Ferro Corp.","Fidelity National Financial Inc.","Fifth Third Bancorp","First American Financial Corp.","First Data Corp.","First National of Nebraska Inc.","First Tennessee National Corp.","FirstEnergy Corp.","Fiserv Inc.","Fisher Scientific International Inc.","FleetBoston Financial Co.","Fleetwood Enterprises Inc.","Fleming Companies Inc.","Flowers Foods Inc.","Flowserv Corp","Fluor Corp","FMC Corp","Foamex International Inc","Foot Locker Inc","Footstar Inc.","Ford Motor Co","Forest Laboratories Inc.","Fortune Brands Inc.","Foster Wheeler Ltd.","FPL Group Inc.","Franklin Resources Inc.","Freeport McMoran Copper & Gold Inc.","Frontier Oil Corp","Furniture Brands International Inc.","Gannett Co., Inc.","Gap Inc.","Gateway Inc.","GATX Corporation","Gemstar-TV Guide International Inc.","GenCorp Inc.","General Cable Corporation","General Dynamics Corporation","General Electric Company","General Mills Inc","General Motors Corporation","Genesis Health Ventures Inc.","Gentek Inc.","Gentiva Health Services Inc.","Genuine Parts Company","Genuity Inc.","Genzyme Corporation","Georgia Gulf Corporation","Georgia-Pacific Corporation","Gillette Company","Gold Kist Inc.","Golden State Bancorp Inc.","Golden West Financial Corporation","Goldman Sachs Group Inc.","Goodrich Corporation","The Goodyear Tire & Rubber Company","Granite Construction Incorporated","Graybar Electric Company Inc.","Great Lakes Chemical Corporation","Great Plains Energy Inc.","GreenPoint Financial Corp.","Greif Bros. Corporation","Grey Global Group Inc.","Group 1 Automotive Inc.","Guidant Corporation","H&R Block Inc.","H.B. Fuller Company","H.J. Heinz Company","Halliburton Co.","Harley-Davidson Inc.","Harman International Industries Inc.","Harrah's Entertainment Inc.","Harris Corp.","Harsco Corp.","Hartford Financial Services Group Inc.","Hasbro Inc.","Hawaiian Electric Industries Inc.","HCA Inc.","Health Management Associates Inc.","Health Net Inc.","Healthsouth Corp","Henry Schein Inc.","Hercules Inc.","Herman Miller Inc.","Hershey Foods Corp.","Hewlett-Packard Company","Hibernia Corp.","Hillenbrand Industries Inc.","Hilton Hotels Corp.","Hollywood Entertainment Corp.","Home Depot Inc.","Hon Industries Inc.","Honeywell International Inc.","Hormel Foods Corp.","Host Marriott Corp.","Household International Corp.","Hovnanian Enterprises Inc.","Hub Group Inc.","Hubbell Inc.","Hughes Supply Inc.","Humana Inc.","Huntington Bancshares Inc.","Idacorp Inc.","IDT Corporation","IKON Office Solutions Inc.","Illinois Tool Works Inc.","IMC Global Inc.","Imperial Sugar Company","IMS Health Inc.","Ingles Market Inc","Ingram Micro Inc.","Insight Enterprises Inc.","Integrated Electrical Services Inc.","Intel Corporation","International Paper Co.","Interpublic Group of Companies Inc.","Interstate Bakeries Corporation","International Business Machines Corp.","International Flavors & Fragrances Inc.","International Multifoods Corporation","Intuit Inc.","IT Group Inc.","ITT Industries Inc.","Ivax Corp.","J.B. Hunt Transport Services Inc.","J.C. Penny Co.","J.P. Morgan Chase & Co.","Jabil Circuit Inc.","Jack In The Box Inc.","Jacobs Engineering Group Inc.","JDS Uniphase Corp.","Jefferson-Pilot Co.","John Hancock Financial Services Inc.","Johnson & Johnson","Johnson Controls Inc.","Jones Apparel Group Inc.","KB Home","Kellogg Company","Kellwood Company","Kelly Services Inc.","Kemet Corp.","Kennametal Inc.","Kerr-McGee Corporation","KeyCorp","KeySpan Corp.","Kimball International Inc.","Kimberly-Clark Corporation","Kindred Healthcare Inc.","KLA-Tencor Corporation","K-Mart Corp.","Knight-Ridder Inc.","Kohl's Corp.","KPMG Consulting Inc.","Kroger Co.","L-3 Communications Holdings Inc.","Laboratory Corporation of America Holdings","Lam Research Corporation","LandAmerica Financial Group Inc.","Lands' End Inc.","Landstar System Inc.","La-Z-Boy Inc.","Lear Corporation","Legg Mason Inc.","Leggett & Platt Inc.","Lehman Brothers Holdings Inc.","Lennar Corporation","Lennox International Inc.","Level 3 Communications Inc.","Levi Strauss & Co.","Lexmark International Inc.","Limited Inc.","Lincoln National Corporation","Linens 'n Things Inc.","Lithia Motors Inc.","Liz Claiborne Inc.","Lockheed Martin Corporation","Loews Corporation","Longs Drug Stores Corporation","Louisiana-Pacific Corporation","Lowe's Companies Inc.","LSI Logic Corporation","The LTV Corporation","The Lubrizol Corporation","Lucent Technologies Inc.","Lyondell Chemical Company","M & T Bank Corporation","Magellan Health Services Inc.","Mail-Well Inc.","Mandalay Resort Group","Manor Care Inc.","Manpower Inc.","Marathon Oil Corporation","Mariner Health Care Inc.","Markel Corporation","Marriott International Inc.","Marsh & McLennan Companies Inc.","Marsh Supermarkets Inc.","Marshall & Ilsley Corporation","Martin Marietta Materials Inc.","Masco Corporation","Massey Energy Company","MasTec Inc.","Mattel Inc.","Maxim Integrated Products Inc.","Maxtor Corporation","Maxxam Inc.","The May Department Stores Company","Maytag Corporation","MBNA Corporation","McCormick & Company Incorporated","McDonald's Corporation","The McGraw-Hill Companies Inc.","McKesson Corporation","McLeodUSA Incorporated","M.D.C. Holdings Inc.","MDU Resources Group Inc.","MeadWestvaco Corporation","Medtronic Inc.","Mellon Financial Corporation","The Men's Wearhouse Inc.","Merck & Co., Inc.","Mercury General Corporation","Merrill Lynch & Co. Inc.","Metaldyne Corporation","Metals USA Inc.","MetLife Inc.","Metris Companies Inc","MGIC Investment Corporation","MGM Mirage","Michaels Stores Inc.","Micron Technology Inc.","Microsoft Corporation","Milacron Inc.","Millennium Chemicals Inc.","Mirant Corporation","Mohawk Industries Inc.","Molex Incorporated","The MONY Group Inc.","Morgan Stanley Dean Witter & Co.","Motorola Inc.","MPS Group Inc.","Murphy Oil Corporation","Nabors Industries Inc","Nacco Industries Inc","Nash Finch Company","National City Corp.","National Commerce Financial Corporation","National Fuel Gas Company","National Oilwell Inc","National Rural Utilities Cooperative Finance Corporation","National Semiconductor Corporation","National Service Industries Inc","Navistar International Corporation","NCR Corporation","The Neiman Marcus Group Inc.","New Jersey Resources Corporation","New York Times Company","Newell Rubbermaid Inc","Newmont Mining Corporation","Nextel Communications Inc","Nicor Inc","Nike Inc","NiSource Inc","Noble Energy Inc","Nordstrom Inc","Norfolk Southern Corporation","Nortek Inc","North Fork Bancorporation Inc","Northeast Utilities System","Northern Trust Corporation","Northrop Grumman Corporation","NorthWestern Corporation","Novellus Systems Inc","NSTAR","NTL Incorporated","Nucor Corp","Nvidia Corp","NVR Inc","Northwest Airlines Corp","Occidental Petroleum Corp","Ocean Energy Inc","Office Depot Inc.","OfficeMax Inc","OGE Energy Corp","Oglethorpe Power Corp.","Ohio Casualty Corp.","Old Republic International Corp.","Olin Corp.","OM Group Inc","Omnicare Inc","Omnicom Group","On Semiconductor Corp","ONEOK Inc","Oracle Corp","Oshkosh Truck Corp","Outback Steakhouse Inc.","Owens & Minor Inc.","Owens Corning","Owens-Illinois Inc","Oxford Health Plans Inc","Paccar Inc","PacifiCare Health Systems Inc","Packaging Corp. of America","Pactiv Corp","Pall Corp","Pantry Inc","Park Place Entertainment Corp","Parker Hannifin Corp.","Pathmark Stores Inc.","Paychex Inc","Payless Shoesource Inc","Penn Traffic Co.","Pennzoil-Quaker State Company","Pentair Inc","Peoples Energy Corp.","PeopleSoft Inc","Pep Boys Manny, Moe & Jack","Potomac Electric Power Co.","Pepsi Bottling Group Inc.","PepsiAmericas Inc.","PepsiCo Inc.","Performance Food Group Co.","Perini Corp","PerkinElmer Inc","Perot Systems Corp","Petco Animal Supplies Inc.","Peter Kiewit Sons', Inc.","PETsMART Inc","Pfizer Inc","Pacific Gas & Electric Corp.","Pharmacia Corp","Phar Mor Inc.","Phelps Dodge Corp.","Philip Morris Companies Inc.","Phillips Petroleum Co","Phillips Van Heusen Corp.","Phoenix Companies Inc","Pier 1 Imports Inc.","Pilgrim's Pride Corporation","Pinnacle West Capital Corp","Pioneer-Standard Electronics Inc.","Pitney Bowes Inc.","Pittston Brinks Group","Plains All American Pipeline LP","PNC Financial Services Group Inc.","PNM Resources Inc","Polaris Industries Inc.","Polo Ralph Lauren Corp","PolyOne Corp","Popular Inc","Potlatch Corp","PPG Industries Inc","PPL Corp","Praxair Inc","Precision Castparts Corp","Premcor Inc.","Pride International Inc","Primedia Inc","Principal Financial Group Inc.","Procter & Gamble Co.","Pro-Fac Cooperative Inc.","Progress Energy Inc","Progressive Corporation","Protective Life Corp","Provident Financial Group","Providian Financial Corp.","Prudential Financial Inc.","PSS World Medical Inc","Public Service Enterprise Group Inc.","Publix Super Markets Inc.","Puget Energy Inc.","Pulte Homes Inc","Qualcomm Inc","Quanta Services Inc.","Quantum Corp","Quest Diagnostics Inc.","Questar Corp","Quintiles Transnational","Qwest Communications Intl Inc","R.J. Reynolds Tobacco Company","R.R. Donnelley & Sons Company","Radio Shack Corporation","Raymond James Financial Inc.","Raytheon Company","Reader's Digest Association Inc.","Reebok International Ltd.","Regions Financial Corp.","Regis Corporation","Reliance Steel & Aluminum Co.","Reliant Energy Inc.","Rent A Center Inc","Republic Services Inc","Revlon Inc","RGS Energy Group Inc","Rite Aid Corp","Riverwood Holding Inc.","RoadwayCorp","Robert Half International Inc.","Rock-Tenn Co","Rockwell Automation Inc","Rockwell Collins Inc","Rohm & Haas Co.","Ross Stores Inc","RPM Inc.","Ruddick Corp","Ryder System Inc","Ryerson Tull Inc","Ryland Group Inc.","Sabre Holdings Corp","Safeco Corp","Safeguard Scientifics Inc.","Safeway Inc","Saks Inc","Sanmina-SCI Inc","Sara Lee Corp","SBC Communications Inc","Scana Corp.","Schering-Plough Corp","Scholastic Corp","SCI Systems Onc.","Science Applications Intl. Inc.","Scientific-Atlanta Inc","Scotts Company","Seaboard Corp","Sealed Air Corp","Sears Roebuck & Co","Sempra Energy","Sequa Corp","Service Corp. International","ServiceMaster Co","Shaw Group Inc","Sherwin-Williams Company","Shopko Stores Inc","Siebel Systems Inc","Sierra Health Services Inc","Sierra Pacific Resources","Silgan Holdings Inc.","Silicon Graphics Inc","Simon Property Group Inc","SLM Corporation","Smith International Inc","Smithfield Foods Inc","Smurfit-Stone Container Corp","Snap-On Inc","Solectron Corp","Solutia Inc","Sonic Automotive Inc.","Sonoco Products Co.","Southern Company","Southern Union Company","SouthTrust Corp.","Southwest Airlines Co","Southwest Gas Corp","Sovereign Bancorp Inc.","Spartan Stores Inc","Spherion Corp","Sports Authority Inc","Sprint Corp.","SPX Corp","St. Jude Medical Inc","St. Paul Cos.","Staff Leasing Inc.","StanCorp Financial Group Inc","Standard Pacific Corp.","Stanley Works","Staples Inc","Starbucks Corp","Starwood Hotels & Resorts Worldwide Inc","State Street Corp.","Stater Bros. Holdings Inc.","Steelcase Inc","Stein Mart Inc","Stewart & Stevenson Services Inc","Stewart Information Services Corp","Stilwell Financial Inc","Storage Technology Corporation","Stryker Corp","Sun Healthcare Group Inc.","Sun Microsystems Inc.","SunGard Data Systems Inc.","Sunoco Inc.","SunTrust Banks Inc","Supervalu Inc","Swift Transportation, Co., Inc","Symbol Technologies Inc","Synovus Financial Corp.","Sysco Corp","Systemax Inc.","Target Corp.","Tech Data Corporation","TECO Energy Inc","Tecumseh Products Company","Tektronix Inc","Teleflex Incorporated","Telephone & Data Systems Inc","Tellabs Inc.","Temple-Inland Inc","Tenet Healthcare Corporation","Tenneco Automotive Inc.","Teradyne Inc","Terex Corp","Tesoro Petroleum Corp.","Texas Industries Inc.","Texas Instruments Incorporated","Textron Inc","Thermo Electron Corporation","Thomas & Betts Corporation","Tiffany & Co","Timken Company","TJX Companies Inc","TMP Worldwide Inc","Toll Brothers Inc","Torchmark Corporation","Toro Company","Tower Automotive Inc.","Toys 'R' Us Inc","Trans World Entertainment Corp.","TransMontaigne Inc","Transocean Inc","TravelCenters of America Inc.","Triad Hospitals Inc","Tribune Company","Trigon Healthcare Inc.","Trinity Industries Inc","Trump Hotels & Casino Resorts Inc.","TruServ Corporation","TRW Inc","TXU Corp","Tyson Foods Inc","U.S. Bancorp","U.S. Industries Inc.","UAL Corporation","UGI Corporation","Unified Western Grocers Inc","Union Pacific Corporation","Union Planters Corp","Unisource Energy Corp","Unisys Corporation","United Auto Group Inc","United Defense Industries Inc.","United Parcel Service Inc","United Rentals Inc","United Stationers Inc","United Technologies Corporation","UnitedHealth Group Incorporated","Unitrin Inc","Universal Corporation","Universal Forest Products Inc","Universal Health Services Inc","Unocal Corporation","Unova Inc","UnumProvident Corporation","URS Corporation","US Airways Group Inc","US Oncology Inc","USA Interactive","USFreighways Corporation","USG Corporation","UST Inc","Valero Energy Corporation","Valspar Corporation","Value City Department Stores Inc","Varco International Inc","Vectren Corporation","Veritas Software Corporation","Verizon Communications Inc","VF Corporation","Viacom Inc","Viad Corp","Viasystems Group Inc","Vishay Intertechnology Inc","Visteon Corporation","Volt Information Sciences Inc","Vulcan Materials Company","W.R. Berkley Corporation","W.R. Grace & Co","W.W. Grainger Inc","Wachovia Corporation","Wakenhut Corporation","Walgreen Co","Wallace Computer Services Inc","Wal-Mart Stores Inc","Walt Disney Co","Walter Industries Inc","Washington Mutual Inc","Washington Post Co.","Waste Management Inc","Watsco Inc","Weatherford International Inc","Weis Markets Inc.","Wellpoint Health Networks Inc","Wells Fargo & Company","Wendy's International Inc","Werner Enterprises Inc","WESCO International Inc","Western Digital Inc","Western Gas Resources Inc","WestPoint Stevens Inc","Weyerhauser Company","WGL Holdings Inc","Whirlpool Corporation","Whole Foods Market Inc","Willamette Industries Inc.","Williams Companies Inc","Williams Sonoma Inc","Winn Dixie Stores Inc","Wisconsin Energy Corporation","Wm Wrigley Jr Company","World Fuel Services Corporation","WorldCom Inc","Worthington Industries Inc","WPS Resources Corporation","Wyeth","Wyndham International Inc","Xcel Energy Inc","Xerox Corp","Xilinx Inc","XO Communications Inc","Yellow Corporation","York International Corp","Yum Brands Inc.","Zale Corporation","Zions Bancorporation"],fileExtension:{raster:["bmp","gif","gpl","ico","jpeg","psd","png","psp","raw","tiff"],vector:["3dv","amf","awg","ai","cgm","cdr","cmx","dxf","e2d","egt","eps","fs","odg","svg","xar"],"3d":["3dmf","3dm","3mf","3ds","an8","aoi","blend","cal3d","cob","ctm","iob","jas","max","mb","mdx","obj","x","x3d"],document:["doc","docx","dot","html","xml","odt","odm","ott","csv","rtf","tex","xhtml","xps"]},timezones:[{name:"Dateline Standard Time",abbr:"DST",offset:-12,isdst:!1,text:"(UTC-12:00) International Date Line West",utc:["Etc/GMT+12"]},{name:"UTC-11",abbr:"U",offset:-11,isdst:!1,text:"(UTC-11:00) Coordinated Universal Time-11",utc:["Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago"]},{name:"Hawaiian Standard Time",abbr:"HST",offset:-10,isdst:!1,text:"(UTC-10:00) Hawaii",utc:["Etc/GMT+10","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti"]},{name:"Alaskan Standard Time",abbr:"AKDT",offset:-8,isdst:!0,text:"(UTC-09:00) Alaska",utc:["America/Anchorage","America/Juneau","America/Nome","America/Sitka","America/Yakutat"]},{name:"Pacific Standard Time (Mexico)",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Baja California",utc:["America/Santa_Isabel"]},{name:"Pacific Standard Time",abbr:"PDT",offset:-7,isdst:!0,text:"(UTC-08:00) Pacific Time (US & Canada)",utc:["America/Dawson","America/Los_Angeles","America/Tijuana","America/Vancouver","America/Whitehorse","PST8PDT"]},{name:"US Mountain Standard Time",abbr:"UMST",offset:-7,isdst:!1,text:"(UTC-07:00) Arizona",utc:["America/Creston","America/Dawson_Creek","America/Hermosillo","America/Phoenix","Etc/GMT+7"]},{name:"Mountain Standard Time (Mexico)",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",utc:["America/Chihuahua","America/Mazatlan"]},{name:"Mountain Standard Time",abbr:"MDT",offset:-6,isdst:!0,text:"(UTC-07:00) Mountain Time (US & Canada)",utc:["America/Boise","America/Cambridge_Bay","America/Denver","America/Edmonton","America/Inuvik","America/Ojinaga","America/Yellowknife","MST7MDT"]},{name:"Central America Standard Time",abbr:"CAST",offset:-6,isdst:!1,text:"(UTC-06:00) Central America",utc:["America/Belize","America/Costa_Rica","America/El_Salvador","America/Guatemala","America/Managua","America/Tegucigalpa","Etc/GMT+6","Pacific/Galapagos"]},{name:"Central Standard Time",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Central Time (US & Canada)",utc:["America/Chicago","America/Indiana/Knox","America/Indiana/Tell_City","America/Matamoros","America/Menominee","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Winnipeg","CST6CDT"]},{name:"Central Standard Time (Mexico)",abbr:"CDT",offset:-5,isdst:!0,text:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",utc:["America/Bahia_Banderas","America/Cancun","America/Merida","America/Mexico_City","America/Monterrey"]},{name:"Canada Central Standard Time",abbr:"CCST",offset:-6,isdst:!1,text:"(UTC-06:00) Saskatchewan",utc:["America/Regina","America/Swift_Current"]},{name:"SA Pacific Standard Time",abbr:"SPST",offset:-5,isdst:!1,text:"(UTC-05:00) Bogota, Lima, Quito",utc:["America/Bogota","America/Cayman","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Jamaica","America/Lima","America/Panama","America/Rio_Branco","Etc/GMT+5"]},{name:"Eastern Standard Time",abbr:"EDT",offset:-4,isdst:!0,text:"(UTC-05:00) Eastern Time (US & Canada)",utc:["America/Detroit","America/Havana","America/Indiana/Petersburg","America/Indiana/Vincennes","America/Indiana/Winamac","America/Iqaluit","America/Kentucky/Monticello","America/Louisville","America/Montreal","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port-au-Prince","America/Thunder_Bay","America/Toronto","EST5EDT"]},{name:"US Eastern Standard Time",abbr:"UEDT",offset:-4,isdst:!0,text:"(UTC-05:00) Indiana (East)",utc:["America/Indiana/Marengo","America/Indiana/Vevay","America/Indianapolis"]},{name:"Venezuela Standard Time",abbr:"VST",offset:-4.5,isdst:!1,text:"(UTC-04:30) Caracas",utc:["America/Caracas"]},{name:"Paraguay Standard Time",abbr:"PST",offset:-4,isdst:!1,text:"(UTC-04:00) Asuncion",utc:["America/Asuncion"]},{name:"Atlantic Standard Time",abbr:"ADT",offset:-3,isdst:!0,text:"(UTC-04:00) Atlantic Time (Canada)",utc:["America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Moncton","America/Thule","Atlantic/Bermuda"]},{name:"Central Brazilian Standard Time",abbr:"CBST",offset:-4,isdst:!1,text:"(UTC-04:00) Cuiaba",utc:["America/Campo_Grande","America/Cuiaba"]},{name:"SA Western Standard Time",abbr:"SWST",offset:-4,isdst:!1,text:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",utc:["America/Anguilla","America/Antigua","America/Aruba","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Curacao","America/Dominica","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Kralendijk","America/La_Paz","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montserrat","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Tortola","Etc/GMT+4"]},{name:"Pacific SA Standard Time",abbr:"PSST",offset:-4,isdst:!1,text:"(UTC-04:00) Santiago",utc:["America/Santiago","Antarctica/Palmer"]},{name:"Newfoundland Standard Time",abbr:"NDT",offset:-2.5,isdst:!0,text:"(UTC-03:30) Newfoundland",utc:["America/St_Johns"]},{name:"E. South America Standard Time",abbr:"ESAST",offset:-3,isdst:!1,text:"(UTC-03:00) Brasilia",utc:["America/Sao_Paulo"]},{name:"Argentina Standard Time",abbr:"AST",offset:-3,isdst:!1,text:"(UTC-03:00) Buenos Aires",utc:["America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Buenos_Aires","America/Catamarca","America/Cordoba","America/Jujuy","America/Mendoza"]},{name:"SA Eastern Standard Time",abbr:"SEST",offset:-3,isdst:!1,text:"(UTC-03:00) Cayenne, Fortaleza",utc:["America/Araguaina","America/Belem","America/Cayenne","America/Fortaleza","America/Maceio","America/Paramaribo","America/Recife","America/Santarem","Antarctica/Rothera","Atlantic/Stanley","Etc/GMT+3"]},{name:"Greenland Standard Time",abbr:"GDT",offset:-2,isdst:!0,text:"(UTC-03:00) Greenland",utc:["America/Godthab"]},{name:"Montevideo Standard Time",abbr:"MST",offset:-3,isdst:!1,text:"(UTC-03:00) Montevideo",utc:["America/Montevideo"]},{name:"Bahia Standard Time",abbr:"BST",offset:-3,isdst:!1,text:"(UTC-03:00) Salvador",utc:["America/Bahia"]},{name:"UTC-02",abbr:"U",offset:-2,isdst:!1,text:"(UTC-02:00) Coordinated Universal Time-02",utc:["America/Noronha","Atlantic/South_Georgia","Etc/GMT+2"]},{name:"Mid-Atlantic Standard Time",abbr:"MDT",offset:-1,isdst:!0,text:"(UTC-02:00) Mid-Atlantic - Old"},{name:"Azores Standard Time",abbr:"ADT",offset:0,isdst:!0,text:"(UTC-01:00) Azores",utc:["America/Scoresbysund","Atlantic/Azores"]},{name:"Cape Verde Standard Time",abbr:"CVST",offset:-1,isdst:!1,text:"(UTC-01:00) Cape Verde Is.",utc:["Atlantic/Cape_Verde","Etc/GMT+1"]},{name:"Morocco Standard Time",abbr:"MDT",offset:1,isdst:!0,text:"(UTC) Casablanca",utc:["Africa/Casablanca","Africa/El_Aaiun"]},{name:"UTC",abbr:"CUT",offset:0,isdst:!1,text:"(UTC) Coordinated Universal Time",utc:["America/Danmarkshavn","Etc/GMT"]},{name:"GMT Standard Time",abbr:"GDT",offset:1,isdst:!0,text:"(UTC) Dublin, Edinburgh, Lisbon, London",utc:["Atlantic/Canary","Atlantic/Faeroe","Atlantic/Madeira","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London"]},{name:"Greenwich Standard Time",abbr:"GST",offset:0,isdst:!1,text:"(UTC) Monrovia, Reykjavik",utc:["Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Atlantic/Reykjavik","Atlantic/St_Helena"]},{name:"W. Europe Standard Time",abbr:"WEDT",offset:2,isdst:!0,text:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",utc:["Arctic/Longyearbyen","Europe/Amsterdam","Europe/Andorra","Europe/Berlin","Europe/Busingen","Europe/Gibraltar","Europe/Luxembourg","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Rome","Europe/San_Marino","Europe/Stockholm","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Zurich"]},{name:"Central Europe Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",utc:["Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Podgorica","Europe/Prague","Europe/Tirane"]},{name:"Romance Standard Time",abbr:"RDT",offset:2,isdst:!0,text:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",utc:["Africa/Ceuta","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris"]},{name:"Central European Standard Time",abbr:"CEDT",offset:2,isdst:!0,text:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",utc:["Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb"]},{name:"W. Central Africa Standard Time",abbr:"WCAST",offset:1,isdst:!1,text:"(UTC+01:00) West Central Africa",utc:["Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Douala","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Etc/GMT-1"]},{name:"Namibia Standard Time",abbr:"NST",offset:1,isdst:!1,text:"(UTC+01:00) Windhoek",utc:["Africa/Windhoek"]},{name:"GTB Standard Time",abbr:"GDT",offset:3,isdst:!0,text:"(UTC+02:00) Athens, Bucharest",utc:["Asia/Nicosia","Europe/Athens","Europe/Bucharest","Europe/Chisinau"]},{name:"Middle East Standard Time",abbr:"MEDT",offset:3,isdst:!0,text:"(UTC+02:00) Beirut",utc:["Asia/Beirut"]},{name:"Egypt Standard Time",abbr:"EST",offset:2,isdst:!1,text:"(UTC+02:00) Cairo",utc:["Africa/Cairo"]},{name:"Syria Standard Time",abbr:"SDT",offset:3,isdst:!0,text:"(UTC+02:00) Damascus",utc:["Asia/Damascus"]},{name:"E. Europe Standard Time",abbr:"EEDT",offset:3,isdst:!0,text:"(UTC+02:00) E. Europe"},{name:"South Africa Standard Time",abbr:"SAST",offset:2,isdst:!1,text:"(UTC+02:00) Harare, Pretoria",utc:["Africa/Blantyre","Africa/Bujumbura","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Etc/GMT-2"]},{name:"FLE Standard Time",abbr:"FDT",offset:3,isdst:!0,text:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",utc:["Europe/Helsinki","Europe/Kiev","Europe/Mariehamn","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye"]},{name:"Turkey Standard Time",abbr:"TDT",offset:3,isdst:!0,text:"(UTC+02:00) Istanbul",utc:["Europe/Istanbul"]},{name:"Israel Standard Time",abbr:"JDT",offset:3,isdst:!0,text:"(UTC+02:00) Jerusalem",utc:["Asia/Jerusalem"]},{name:"Libya Standard Time",abbr:"LST",offset:2,isdst:!1,text:"(UTC+02:00) Tripoli",utc:["Africa/Tripoli"]},{name:"Jordan Standard Time",abbr:"JST",offset:3,isdst:!1,text:"(UTC+03:00) Amman",utc:["Asia/Amman"]},{name:"Arabic Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Baghdad",utc:["Asia/Baghdad"]},{name:"Kaliningrad Standard Time",abbr:"KST",offset:3,isdst:!1,text:"(UTC+03:00) Kaliningrad, Minsk",utc:["Europe/Kaliningrad","Europe/Minsk"]},{name:"Arab Standard Time",abbr:"AST",offset:3,isdst:!1,text:"(UTC+03:00) Kuwait, Riyadh",utc:["Asia/Aden","Asia/Bahrain","Asia/Kuwait","Asia/Qatar","Asia/Riyadh"]},{name:"E. Africa Standard Time",abbr:"EAST",offset:3,isdst:!1,text:"(UTC+03:00) Nairobi",utc:["Africa/Addis_Ababa","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Etc/GMT-3","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte"]},{name:"Iran Standard Time",abbr:"IDT",offset:4.5,isdst:!0,text:"(UTC+03:30) Tehran",utc:["Asia/Tehran"]},{name:"Arabian Standard Time",abbr:"AST",offset:4,isdst:!1,text:"(UTC+04:00) Abu Dhabi, Muscat",utc:["Asia/Dubai","Asia/Muscat","Etc/GMT-4"]},{name:"Azerbaijan Standard Time",abbr:"ADT",offset:5,isdst:!0,text:"(UTC+04:00) Baku",utc:["Asia/Baku"]},{name:"Russian Standard Time",abbr:"RST",offset:4,isdst:!1,text:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",utc:["Europe/Moscow","Europe/Samara","Europe/Simferopol","Europe/Volgograd"]},{name:"Mauritius Standard Time",abbr:"MST",offset:4,isdst:!1,text:"(UTC+04:00) Port Louis",utc:["Indian/Mahe","Indian/Mauritius","Indian/Reunion"]},{name:"Georgian Standard Time",abbr:"GST",offset:4,isdst:!1,text:"(UTC+04:00) Tbilisi",utc:["Asia/Tbilisi"]},{name:"Caucasus Standard Time",abbr:"CST",offset:4,isdst:!1,text:"(UTC+04:00) Yerevan",utc:["Asia/Yerevan"]},{name:"Afghanistan Standard Time",abbr:"AST",offset:4.5,isdst:!1,text:"(UTC+04:30) Kabul",utc:["Asia/Kabul"]},{name:"West Asia Standard Time",abbr:"WAST",offset:5,isdst:!1,text:"(UTC+05:00) Ashgabat, Tashkent",utc:["Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Dushanbe","Asia/Oral","Asia/Samarkand","Asia/Tashkent","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives"]},{name:"Pakistan Standard Time",abbr:"PST",offset:5,isdst:!1,text:"(UTC+05:00) Islamabad, Karachi",utc:["Asia/Karachi"]},{name:"India Standard Time",abbr:"IST",offset:5.5,isdst:!1,text:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",utc:["Asia/Calcutta"]},{name:"Sri Lanka Standard Time",abbr:"SLST",offset:5.5,isdst:!1,text:"(UTC+05:30) Sri Jayawardenepura",utc:["Asia/Colombo"]},{name:"Nepal Standard Time",abbr:"NST",offset:5.75,isdst:!1,text:"(UTC+05:45) Kathmandu",utc:["Asia/Katmandu"]},{name:"Central Asia Standard Time",abbr:"CAST",offset:6,isdst:!1,text:"(UTC+06:00) Astana",utc:["Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Qyzylorda","Asia/Urumqi","Etc/GMT-6","Indian/Chagos"]},{name:"Bangladesh Standard Time",abbr:"BST",offset:6,isdst:!1,text:"(UTC+06:00) Dhaka",utc:["Asia/Dhaka","Asia/Thimphu"]},{name:"Ekaterinburg Standard Time",abbr:"EST",offset:6,isdst:!1,text:"(UTC+06:00) Ekaterinburg",utc:["Asia/Yekaterinburg"]},{name:"Myanmar Standard Time",abbr:"MST",offset:6.5,isdst:!1,text:"(UTC+06:30) Yangon (Rangoon)",utc:["Asia/Rangoon","Indian/Cocos"]},{name:"SE Asia Standard Time",abbr:"SAST",offset:7,isdst:!1,text:"(UTC+07:00) Bangkok, Hanoi, Jakarta",utc:["Antarctica/Davis","Asia/Bangkok","Asia/Hovd","Asia/Jakarta","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Vientiane","Etc/GMT-7","Indian/Christmas"]},{name:"N. Central Asia Standard Time",abbr:"NCAST",offset:7,isdst:!1,text:"(UTC+07:00) Novosibirsk",utc:["Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk"]},{name:"China Standard Time",abbr:"CST",offset:8,isdst:!1,text:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",utc:["Asia/Hong_Kong","Asia/Macau","Asia/Shanghai"]},{name:"North Asia Standard Time",abbr:"NAST",offset:8,isdst:!1,text:"(UTC+08:00) Krasnoyarsk",utc:["Asia/Krasnoyarsk"]},{name:"Singapore Standard Time",abbr:"MPST",offset:8,isdst:!1,text:"(UTC+08:00) Kuala Lumpur, Singapore",utc:["Asia/Brunei","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Makassar","Asia/Manila","Asia/Singapore","Etc/GMT-8"]},{name:"W. Australia Standard Time",abbr:"WAST",offset:8,isdst:!1,text:"(UTC+08:00) Perth",utc:["Antarctica/Casey","Australia/Perth"]},{name:"Taipei Standard Time",abbr:"TST",offset:8,isdst:!1,text:"(UTC+08:00) Taipei",utc:["Asia/Taipei"]},{name:"Ulaanbaatar Standard Time",abbr:"UST",offset:8,isdst:!1,text:"(UTC+08:00) Ulaanbaatar",utc:["Asia/Choibalsan","Asia/Ulaanbaatar"]},{name:"North Asia East Standard Time",abbr:"NAEST",offset:9,isdst:!1,text:"(UTC+09:00) Irkutsk",utc:["Asia/Irkutsk"]},{name:"Tokyo Standard Time",abbr:"TST",offset:9,isdst:!1,text:"(UTC+09:00) Osaka, Sapporo, Tokyo",utc:["Asia/Dili","Asia/Jayapura","Asia/Tokyo","Etc/GMT-9","Pacific/Palau"]},{name:"Korea Standard Time",abbr:"KST",offset:9,isdst:!1,text:"(UTC+09:00) Seoul",utc:["Asia/Pyongyang","Asia/Seoul"]},{name:"Cen. Australia Standard Time",abbr:"CAST",offset:9.5,isdst:!1,text:"(UTC+09:30) Adelaide",utc:["Australia/Adelaide","Australia/Broken_Hill"]},{name:"AUS Central Standard Time",abbr:"ACST",offset:9.5,isdst:!1,text:"(UTC+09:30) Darwin",utc:["Australia/Darwin"]},{name:"E. Australia Standard Time",abbr:"EAST",offset:10,isdst:!1,text:"(UTC+10:00) Brisbane",utc:["Australia/Brisbane","Australia/Lindeman"]},{name:"AUS Eastern Standard Time",abbr:"AEST",offset:10,isdst:!1,text:"(UTC+10:00) Canberra, Melbourne, Sydney",utc:["Australia/Melbourne","Australia/Sydney"]},{name:"West Pacific Standard Time",abbr:"WPST",offset:10,isdst:!1,text:"(UTC+10:00) Guam, Port Moresby",utc:["Antarctica/DumontDUrville","Etc/GMT-10","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk"]},{name:"Tasmania Standard Time",abbr:"TST",offset:10,isdst:!1,text:"(UTC+10:00) Hobart",utc:["Australia/Currie","Australia/Hobart"]},{name:"Yakutsk Standard Time",abbr:"YST",offset:10,isdst:!1,text:"(UTC+10:00) Yakutsk",utc:["Asia/Chita","Asia/Khandyga","Asia/Yakutsk"]},{name:"Central Pacific Standard Time",abbr:"CPST",offset:11,isdst:!1,text:"(UTC+11:00) Solomon Is., New Caledonia",utc:["Antarctica/Macquarie","Etc/GMT-11","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Noumea","Pacific/Ponape"]},{name:"Vladivostok Standard Time",abbr:"VST",offset:11,isdst:!1,text:"(UTC+11:00) Vladivostok",utc:["Asia/Sakhalin","Asia/Ust-Nera","Asia/Vladivostok"]},{name:"New Zealand Standard Time",abbr:"NZST",offset:12,isdst:!1,text:"(UTC+12:00) Auckland, Wellington",utc:["Antarctica/McMurdo","Pacific/Auckland"]},{name:"UTC+12",abbr:"U",offset:12,isdst:!1,text:"(UTC+12:00) Coordinated Universal Time+12",utc:["Etc/GMT-12","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis"]},{name:"Fiji Standard Time",abbr:"FST",offset:12,isdst:!1,text:"(UTC+12:00) Fiji",utc:["Pacific/Fiji"]},{name:"Magadan Standard Time",abbr:"MST",offset:12,isdst:!1,text:"(UTC+12:00) Magadan",utc:["Asia/Anadyr","Asia/Kamchatka","Asia/Magadan","Asia/Srednekolymsk"]},{name:"Kamchatka Standard Time",abbr:"KDT",offset:13,isdst:!0,text:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old"},{name:"Tonga Standard Time",abbr:"TST",offset:13,isdst:!1,text:"(UTC+13:00) Nuku'alofa",utc:["Etc/GMT-13","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu"]},{name:"Samoa Standard Time",abbr:"SST",offset:13,isdst:!1,text:"(UTC+13:00) Samoa",utc:["Pacific/Apia"]}],profession:["Airline Pilot","Academic Team","Accountant","Account Executive","Actor","Actuary","Acquisition Analyst","Administrative Asst.","Administrative Analyst","Administrator","Advertising Director","Aerospace Engineer","Agent","Agricultural Inspector","Agricultural Scientist","Air Traffic Controller","Animal Trainer","Anthropologist","Appraiser","Architect","Art Director","Artist","Astronomer","Athletic Coach","Auditor","Author","Baker","Banker","Bankruptcy Attorney","Benefits Manager","Biologist","Bio-feedback Specialist","Biomedical Engineer","Biotechnical Researcher","Broadcaster","Broker","Building Manager","Building Contractor","Building Inspector","Business Analyst","Business Planner","Business Manager","Buyer","Call Center Manager","Career Counselor","Cash Manager","Ceramic Engineer","Chief Executive Officer","Chief Operation Officer","Chef","Chemical Engineer","Chemist","Child Care Manager","Chief Medical Officer","Chiropractor","Cinematographer","City Housing Manager","City Manager","Civil Engineer","Claims Manager","Clinical Research Assistant","Collections Manager","Compliance Manager","Comptroller","Computer Manager","Commercial Artist","Communications Affairs Director","Communications Director","Communications Engineer","Compensation Analyst","Computer Programmer","Computer Ops. Manager","Computer Engineer","Computer Operator","Computer Graphics Specialist","Construction Engineer","Construction Manager","Consultant","Consumer Relations Manager","Contract Administrator","Copyright Attorney","Copywriter","Corporate Planner","Corrections Officer","Cosmetologist","Credit Analyst","Cruise Director","Chief Information Officer","Chief Technology Officer","Customer Service Manager","Cryptologist","Dancer","Data Security Manager","Database Manager","Day Care Instructor","Dentist","Designer","Design Engineer","Desktop Publisher","Developer","Development Officer","Diamond Merchant","Dietitian","Direct Marketer","Director","Distribution Manager","Diversity Manager","Economist","EEO Compliance Manager","Editor","Education Adminator","Electrical Engineer","Electro Optical Engineer","Electronics Engineer","Embassy Management","Employment Agent","Engineer Technician","Entrepreneur","Environmental Analyst","Environmental Attorney","Environmental Engineer","Environmental Specialist","Escrow Officer","Estimator","Executive Assistant","Executive Director","Executive Recruiter","Facilities Manager","Family Counselor","Fashion Events Manager","Fashion Merchandiser","Fast Food Manager","Film Producer","Film Production Assistant","Financial Analyst","Financial Planner","Financier","Fine Artist","Wildlife Specialist","Fitness Consultant","Flight Attendant","Flight Engineer","Floral Designer","Food & Beverage Director","Food Service Manager","Forestry Technician","Franchise Management","Franchise Sales","Fraud Investigator","Freelance Writer","Fund Raiser","General Manager","Geologist","General Counsel","Geriatric Specialist","Gerontologist","Glamour Photographer","Golf Club Manager","Gourmet Chef","Graphic Designer","Grounds Keeper","Hazardous Waste Manager","Health Care Manager","Health Therapist","Health Service Administrator","Hearing Officer","Home Economist","Horticulturist","Hospital Administrator","Hotel Manager","Human Resources Manager","Importer","Industrial Designer","Industrial Engineer","Information Director","Inside Sales","Insurance Adjuster","Interior Decorator","Internal Controls Director","International Acct.","International Courier","International Lawyer","Interpreter","Investigator","Investment Banker","Investment Manager","IT Architect","IT Project Manager","IT Systems Analyst","Jeweler","Joint Venture Manager","Journalist","Labor Negotiator","Labor Organizer","Labor Relations Manager","Lab Services Director","Lab Technician","Land Developer","Landscape Architect","Law Enforcement Officer","Lawyer","Lead Software Engineer","Lead Software Test Engineer","Leasing Manager","Legal Secretary","Library Manager","Litigation Attorney","Loan Officer","Lobbyist","Logistics Manager","Maintenance Manager","Management Consultant","Managed Care Director","Managing Partner","Manufacturing Director","Manpower Planner","Marine Biologist","Market Res. Analyst","Marketing Director","Materials Manager","Mathematician","Membership Chairman","Mechanic","Mechanical Engineer","Media Buyer","Medical Investor","Medical Secretary","Medical Technician","Mental Health Counselor","Merchandiser","Metallurgical Engineering","Meteorologist","Microbiologist","MIS Manager","Motion Picture Director","Multimedia Director","Musician","Network Administrator","Network Specialist","Network Operator","New Product Manager","Novelist","Nuclear Engineer","Nuclear Specialist","Nutritionist","Nursing Administrator","Occupational Therapist","Oceanographer","Office Manager","Operations Manager","Operations Research Director","Optical Technician","Optometrist","Organizational Development Manager","Outplacement Specialist","Paralegal","Park Ranger","Patent Attorney","Payroll Specialist","Personnel Specialist","Petroleum Engineer","Pharmacist","Photographer","Physical Therapist","Physician","Physician Assistant","Physicist","Planning Director","Podiatrist","Political Analyst","Political Scientist","Politician","Portfolio Manager","Preschool Management","Preschool Teacher","Principal","Private Banker","Private Investigator","Probation Officer","Process Engineer","Producer","Product Manager","Product Engineer","Production Engineer","Production Planner","Professional Athlete","Professional Coach","Professor","Project Engineer","Project Manager","Program Manager","Property Manager","Public Administrator","Public Safety Director","PR Specialist","Publisher","Purchasing Agent","Publishing Director","Quality Assurance Specialist","Quality Control Engineer","Quality Control Inspector","Radiology Manager","Railroad Engineer","Real Estate Broker","Recreational Director","Recruiter","Redevelopment Specialist","Regulatory Affairs Manager","Registered Nurse","Rehabilitation Counselor","Relocation Manager","Reporter","Research Specialist","Restaurant Manager","Retail Store Manager","Risk Analyst","Safety Engineer","Sales Engineer","Sales Trainer","Sales Promotion Manager","Sales Representative","Sales Manager","Service Manager","Sanitation Engineer","Scientific Programmer","Scientific Writer","Securities Analyst","Security Consultant","Security Director","Seminar Presenter","Ship's Officer","Singer","Social Director","Social Program Planner","Social Research","Social Scientist","Social Worker","Sociologist","Software Developer","Software Engineer","Software Test Engineer","Soil Scientist","Special Events Manager","Special Education Teacher","Special Projects Director","Speech Pathologist","Speech Writer","Sports Event Manager","Statistician","Store Manager","Strategic Alliance Director","Strategic Planning Director","Stress Reduction Specialist","Stockbroker","Surveyor","Structural Engineer","Superintendent","Supply Chain Director","System Engineer","Systems Analyst","Systems Programmer","System Administrator","Tax Specialist","Teacher","Technical Support Specialist","Technical Illustrator","Technical Writer","Technology Director","Telecom Analyst","Telemarketer","Theatrical Director","Title Examiner","Tour Escort","Tour Guide Director","Traffic Manager","Trainer Translator","Transportation Manager","Travel Agent","Treasurer","TV Programmer","Underwriter","Union Representative","University Administrator","University Dean","Urban Planner","Veterinarian","Vendor Relations Director","Viticulturist","Warehouse Manager"],animals:{ocean:["Acantharea","Anemone","Angelfish King","Ahi Tuna","Albacore","American Oyster","Anchovy","Armored Snail","Arctic Char","Atlantic Bluefin Tuna","Atlantic Cod","Atlantic Goliath Grouper","Atlantic Trumpetfish","Atlantic Wolffish","Baleen Whale","Banded Butterflyfish","Banded Coral Shrimp","Banded Sea Krait","Barnacle","Barndoor Skate","Barracuda","Basking Shark","Bass","Beluga Whale","Bluebanded Goby","Bluehead Wrasse","Bluefish","Bluestreak Cleaner-Wrasse","Blue Marlin","Blue Shark","Blue Spiny Lobster","Blue Tang","Blue Whale","Broadclub Cuttlefish","Bull Shark","Chambered Nautilus","Chilean Basket Star","Chilean Jack Mackerel","Chinook Salmon","Christmas Tree Worm","Clam","Clown Anemonefish","Clown Triggerfish","Cod","Coelacanth","Cockscomb Cup Coral","Common Fangtooth","Conch","Cookiecutter Shark","Copepod","Coral","Corydoras","Cownose Ray","Crab","Crown-of-Thorns Starfish","Cushion Star","Cuttlefish","California Sea Otters","Dolphin","Dolphinfish","Dory","Devil Fish","Dugong","Dumbo Octopus","Dungeness Crab","Eccentric Sand Dollar","Edible Sea Cucumber","Eel","Elephant Seal","Elkhorn Coral","Emperor Shrimp","Estuarine Crocodile","Fathead Sculpin","Fiddler Crab","Fin Whale","Flameback","Flamingo Tongue Snail","Flashlight Fish","Flatback Turtle","Flatfish","Flying Fish","Flounder","Fluke","French Angelfish","Frilled Shark","Fugu (also called Pufferfish)","Gar","Geoduck","Giant Barrel Sponge","Giant Caribbean Sea Anemone","Giant Clam","Giant Isopod","Giant Kingfish","Giant Oarfish","Giant Pacific Octopus","Giant Pyrosome","Giant Sea Star","Giant Squid","Glowing Sucker Octopus","Giant Tube Worm","Goblin Shark","Goosefish","Great White Shark","Greenland Shark","Grey Atlantic Seal","Grouper","Grunion","Guineafowl Puffer","Haddock","Hake","Halibut","Hammerhead Shark","Hapuka","Harbor Porpoise","Harbor Seal","Hatchetfish","Hawaiian Monk Seal","Hawksbill Turtle","Hector's Dolphin","Hermit Crab","Herring","Hoki","Horn Shark","Horseshoe Crab","Humpback Anglerfish","Humpback Whale","Icefish","Imperator Angelfish","Irukandji Jellyfish","Isopod","Ivory Bush Coral","Japanese Spider Crab","Jellyfish","John Dory","Juan Fernandez Fur Seal","Killer Whale","Kiwa Hirsuta","Krill","Lagoon Triggerfish","Lamprey","Leafy Seadragon","Leopard Seal","Limpet","Ling","Lionfish","Lions Mane Jellyfish","Lobe Coral","Lobster","Loggerhead Turtle","Longnose Sawshark","Longsnout Seahorse","Lophelia Coral","Marrus Orthocanna","Manatee","Manta Ray","Marlin","Megamouth Shark","Mexican Lookdown","Mimic Octopus","Moon Jelly","Mollusk","Monkfish","Moray Eel","Mullet","Mussel","Megaladon","Napoleon Wrasse","Nassau Grouper","Narwhal","Nautilus","Needlefish","Northern Seahorse","North Atlantic Right Whale","Northern Red Snapper","Norway Lobster","Nudibranch","Nurse Shark","Oarfish","Ocean Sunfish","Oceanic Whitetip Shark","Octopus","Olive Sea Snake","Orange Roughy","Ostracod","Otter","Oyster","Pacific Angelshark","Pacific Blackdragon","Pacific Halibut","Pacific Sardine","Pacific Sea Nettle Jellyfish","Pacific White Sided Dolphin","Pantropical Spotted Dolphin","Patagonian Toothfish","Peacock Mantis Shrimp","Pelagic Thresher Shark","Penguin","Peruvian Anchoveta","Pilchard","Pink Salmon","Pinniped","Plankton","Porpoise","Polar Bear","Portuguese Man o' War","Pycnogonid Sea Spider","Quahog","Queen Angelfish","Queen Conch","Queen Parrotfish","Queensland Grouper","Ragfish","Ratfish","Rattail Fish","Ray","Red Drum","Red King Crab","Ringed Seal","Risso's Dolphin","Ross Seals","Sablefish","Salmon","Sand Dollar","Sandbar Shark","Sawfish","Sarcastic Fringehead","Scalloped Hammerhead Shark","Seahorse","Sea Cucumber","Sea Lion","Sea Urchin","Seal","Shark","Shortfin Mako Shark","Shovelnose Guitarfish","Shrimp","Silverside Fish","Skipjack Tuna","Slender Snipe Eel","Smalltooth Sawfish","Smelts","Sockeye Salmon","Southern Stingray","Sponge","Spotted Porcupinefish","Spotted Dolphin","Spotted Eagle Ray","Spotted Moray","Squid","Squidworm","Starfish","Stickleback","Stonefish","Stoplight Loosejaw","Sturgeon","Swordfish","Tan Bristlemouth","Tasseled Wobbegong","Terrible Claw Lobster","Threespot Damselfish","Tiger Prawn","Tiger Shark","Tilefish","Toadfish","Tropical Two-Wing Flyfish","Tuna","Umbrella Squid","Velvet Crab","Venus Flytrap Sea Anemone","Vigtorniella Worm","Viperfish","Vampire Squid","Vaquita","Wahoo","Walrus","West Indian Manatee","Whale","Whale Shark","Whiptail Gulper","White-Beaked Dolphin","White-Ring Garden Eel","White Shrimp","Wobbegong","Wrasse","Wreckfish","Xiphosura","Yellowtail Damselfish","Yelloweye Rockfish","Yellow Cup Black Coral","Yellow Tube Sponge","Yellowfin Tuna","Zebrashark","Zooplankton"],desert:["Aardwolf","Addax","African Wild Ass","Ant","Antelope","Armadillo","Baboon","Badger","Bat","Bearded Dragon","Beetle","Bird","Black-footed Cat","Boa","Brown Bear","Bustard","Butterfly","Camel","Caracal","Caracara","Caterpillar","Centipede","Cheetah","Chipmunk","Chuckwalla","Climbing Mouse","Coati","Cobra","Cotton Rat","Cougar","Courser","Crane Fly","Crow","Dassie Rat","Dove","Dunnart","Eagle","Echidna","Elephant","Emu","Falcon","Fly","Fox","Frogmouth","Gecko","Geoffroy's Cat","Gerbil","Grasshopper","Guanaco","Gundi","Hamster","Hawk","Hedgehog","Hyena","Hyrax","Jackal","Kangaroo","Kangaroo Rat","Kestrel","Kowari","Kultarr","Leopard","Lion","Macaw","Meerkat","Mouse","Oryx","Ostrich","Owl","Pronghorn","Python","Rabbit","Raccoon","Rattlesnake","Rhinoceros","Sand Cat","Spectacled Bear","Spiny Mouse","Starling","Stick Bug","Tarantula","Tit","Toad","Tortoise","Tyrant Flycatcher","Viper","Vulture","Waxwing","Xerus","Zebra"],grassland:["Aardvark","Aardwolf","Accentor","African Buffalo","African Wild Dog","Alpaca","Anaconda","Ant","Anteater","Antelope","Armadillo","Baboon","Badger","Bandicoot","Barbet","Bat","Bee","Bee-eater","Beetle","Bird","Bison","Black-footed Cat","Black-footed Ferret","Bluebird","Boa","Bowerbird","Brown Bear","Bush Dog","Bushshrike","Bustard","Butterfly","Buzzard","Caracal","Caracara","Cardinal","Caterpillar","Cheetah","Chipmunk","Civet","Climbing Mouse","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Common Genet","Cotton Rat","Cougar","Courser","Coyote","Crane","Crane Fly","Cricket","Crow","Culpeo","Death Adder","Deer","Deer Mouse","Dingo","Dinosaur","Dove","Drongo","Duck","Duiker","Dunnart","Eagle","Echidna","Elephant","Elk","Emu","Falcon","Finch","Flea","Fly","Flying Frog","Fox","Frog","Frogmouth","Garter Snake","Gazelle","Gecko","Geoffroy's Cat","Gerbil","Giant Tortoise","Giraffe","Grasshopper","Grison","Groundhog","Grouse","Guanaco","Guinea Pig","Hamster","Harrier","Hartebeest","Hawk","Hedgehog","Helmetshrike","Hippopotamus","Hornbill","Hyena","Hyrax","Impala","Jackal","Jaguar","Jaguarundi","Kangaroo","Kangaroo Rat","Kestrel","Kultarr","Ladybug","Leopard","Lion","Macaw","Meerkat","Mouse","Newt","Oryx","Ostrich","Owl","Pangolin","Pheasant","Prairie Dog","Pronghorn","Przewalski's Horse","Python","Quoll","Rabbit","Raven","Rhinoceros","Shelduck","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Tamandua","Tasmanian Devil","Thornbill","Thrush","Toad","Tortoise"],forest:["Agouti","Anaconda","Anoa","Ant","Anteater","Antelope","Armadillo","Asian Black Bear","Aye-aye","Babirusa","Baboon","Badger","Bandicoot","Banteng","Barbet","Basilisk","Bat","Bearded Dragon","Bee","Bee-eater","Beetle","Bettong","Binturong","Bird-of-paradise","Bongo","Bowerbird","Bulbul","Bush Dog","Bushbaby","Bushshrike","Butterfly","Buzzard","Caecilian","Cardinal","Cassowary","Caterpillar","Centipede","Chameleon","Chimpanzee","Cicada","Civet","Clouded Leopard","Coati","Cobra","Cockatoo","Cockroach","Colugo","Cotinga","Cotton Rat","Cougar","Crane Fly","Cricket","Crocodile","Crow","Cuckoo","Cuscus","Death Adder","Deer","Dhole","Dingo","Dinosaur","Drongo","Duck","Duiker","Eagle","Echidna","Elephant","Finch","Flat-headed Cat","Flea","Flowerpecker","Fly","Flying Frog","Fossa","Frog","Frogmouth","Gaur","Gecko","Gorilla","Grison","Hawaiian Honeycreeper","Hawk","Hedgehog","Helmetshrike","Hornbill","Hyrax","Iguana","Jackal","Jaguar","Jaguarundi","Kestrel","Ladybug","Lemur","Leopard","Lion","Macaw","Mandrill","Margay","Monkey","Mouse","Mouse Deer","Newt","Okapi","Old World Flycatcher","Orangutan","Owl","Pangolin","Peafowl","Pheasant","Possum","Python","Quokka","Rabbit","Raccoon","Red Panda","Red River Hog","Rhinoceros","Sloth Bear","Spectacled Bear","Squirrel","Starling","Stick Bug","Sun Bear","Tamandua","Tamarin","Tapir","Tarantula","Thrush","Tiger","Tit","Toad","Tortoise","Toucan","Trogon","Trumpeter","Turaco","Turtle","Tyrant Flycatcher","Viper","Vulture","Wallaby","Warbler","Wasp","Waxwing","Weaver","Weaver-finch","Whistler","White-eye","Whydah","Woodswallow","Worm","Wren","Xenops","Yellowjacket","Accentor","African Buffalo","American Black Bear","Anole","Bird","Bison","Boa","Brown Bear","Chipmunk","Common Genet","Copperhead","Coyote","Deer Mouse","Dormouse","Elk","Emu","Fisher","Fox","Garter Snake","Giant Panda","Giant Tortoise","Groundhog","Grouse","Guanaco","Himalayan Tahr","Kangaroo","Koala","Numbat","Quoll","Raccoon dog","Tasmanian Devil","Thornbill","Turkey","Vole","Weasel","Wildcat","Wolf","Wombat","Woodchuck","Woodpecker"],farm:["Alpaca","Buffalo","Banteng","Cow","Cat","Chicken","Carp","Camel","Donkey","Dog","Duck","Emu","Goat","Gayal","Guinea","Goose","Horse","Honey","Llama","Pig","Pigeon","Rhea","Rabbit","Sheep","Silkworm","Turkey","Yak","Zebu"],pet:["Bearded Dragon","Birds","Burro","Cats","Chameleons","Chickens","Chinchillas","Chinese Water Dragon","Cows","Dogs","Donkey","Ducks","Ferrets","Fish","Geckos","Geese","Gerbils","Goats","Guinea Fowl","Guinea Pigs","Hamsters","Hedgehogs","Horses","Iguanas","Llamas","Lizards","Mice","Mule","Peafowl","Pigs and Hogs","Pigeons","Ponies","Pot Bellied Pig","Rabbits","Rats","Sheep","Skinks","Snakes","Stick Insects","Sugar Gliders","Tarantula","Turkeys","Turtles"],zoo:["Aardvark","African Wild Dog","Aldabra Tortoise","American Alligator","American Bison","Amur Tiger","Anaconda","Andean Condor","Asian Elephant","Baby Doll Sheep","Bald Eagle","Barred Owl","Blue Iguana","Boer Goat","California Sea Lion","Caribbean Flamingo","Chinchilla","Collared Lemur","Coquerel's Sifaka","Cuban Amazon Parrot","Ebony Langur","Fennec Fox","Fossa","Gelada","Giant Anteater","Giraffe","Gorilla","Grizzly Bear","Henkel's Leaf-tailed Gecko","Indian Gharial","Indian Rhinoceros","King Cobra","King Vulture","Komodo Dragon","Linne's Two-toed Sloth","Lion","Little Penguin","Madagascar Tree Boa","Magellanic Penguin","Malayan Tapir","Malayan Tiger","Matschies Tree Kangaroo","Mini Donkey","Monarch Butterfly","Nile crocodile","North American Porcupine","Nubian Ibex","Okapi","Poison Dart Frog","Polar Bear","Pygmy Marmoset","Radiated Tortoise","Red Panda","Red Ruffed Lemur","Ring-tailed Lemur","Ring-tailed Mongoose","Rock Hyrax","Small Clawed Asian Otter","Snow Leopard","Snowy Owl","Southern White-faced Owl","Southern White Rhinocerous","Squirrel Monkey","Tufted Puffin","White Cheeked Gibbon","White-throated Bee Eater","Zebra"]},primes:[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973,10007],emotions:["love","joy","surprise","anger","sadness","fear"]},v=Object.prototype.hasOwnProperty,b=Object.keys||function(e){var t=[];for(var i in e)v.call(e,i)&&t.push(i);return t};function x(e,t){var i=Array.isArray(e),n=t||(i?new Array(e.length):{});return i?function(e,t){for(var i=0,n=e.length;i<n;i++)t[i]=e[i];}(e,n):function(e,t){for(var i,n=b(e),r=0,a=n.length;r<a;r++)t[i=n[r]]=e[i]||t[i];}(e,n),n}u.prototype.get=function(e){return x(y[e])},u.prototype.mac_address=function(e){(e=d(e)).separator||(e.separator=e.networkVersion?".":":");var t="ABCDEF1234567890";return e.networkVersion?this.n(this.string,3,{pool:t,length:4}).join(e.separator):this.n(this.string,6,{pool:t,length:2}).join(e.separator)},u.prototype.normal=function(e){if(c((e=d(e,{mean:0,dev:1,pool:[]})).pool.constructor!==Array,"Chance: The pool option must be a valid array."),c("number"!=typeof e.mean,"Chance: Mean (mean) must be a number"),c("number"!=typeof e.dev,"Chance: Standard deviation (dev) must be a number"),e.pool.length>0)return this.normal_pool(e);var t,i,n,r=e.mean,a=e.dev;do{t=(i=2*this.random()-1)*i+(n=2*this.random()-1)*n;}while(t>=1);return a*(i*Math.sqrt(-2*Math.log(t)/t))+r},u.prototype.normal_pool=function(e){var t=0;do{var i=Math.round(this.normal({mean:e.mean,dev:e.dev}));if(i<e.pool.length&&i>=0)return e.pool[i];t++;}while(t<100);throw new RangeError("Chance: Your pool is too small for the given mean and standard deviation. Please adjust.")},u.prototype.radio=function(e){var t="";switch((e=d(e,{side:"?"})).side.toLowerCase()){case"east":case"e":t="W";break;case"west":case"w":t="K";break;default:t=this.character({pool:"KW"});}return t+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})+this.character({alpha:!0,casing:"upper"})},u.prototype.set=function(e,t){"string"==typeof e?y[e]=t:y=x(e,y);},u.prototype.tv=function(e){return this.radio(e)},u.prototype.cnpj=function(){var e=this.n(this.natural,8,{max:9}),t=2+6*e[7]+7*e[6]+8*e[5]+9*e[4]+2*e[3]+3*e[2]+4*e[1]+5*e[0];(t=11-t%11)>=10&&(t=0);var i=2*t+3+7*e[7]+8*e[6]+9*e[5]+2*e[4]+3*e[3]+4*e[2]+5*e[1]+6*e[0];return (i=11-i%11)>=10&&(i=0),""+e[0]+e[1]+"."+e[2]+e[3]+e[4]+"."+e[5]+e[6]+e[7]+"/0001-"+t+i},u.prototype.emotion=function(){return this.pick(this.get("emotions"))},u.prototype.mersenne_twister=function(e){return new C(e)},u.prototype.blueimp_md5=function(){return new S};var C=function(e){void 0===e&&(e=Math.floor(Math.random()*Math.pow(10,13))),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.init_genrand(e);};C.prototype.init_genrand=function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<this.N;this.mti++)e=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30,this.mt[this.mti]=(1812433253*((4294901760&e)>>>16)<<16)+1812433253*(65535&e)+this.mti,this.mt[this.mti]>>>=0;},C.prototype.init_by_array=function(e,t){var i,n,r=1,a=0;for(this.init_genrand(19650218),i=this.N>t?this.N:t;i;i--)n=this.mt[r-1]^this.mt[r-1]>>>30,this.mt[r]=(this.mt[r]^(1664525*((4294901760&n)>>>16)<<16)+1664525*(65535&n))+e[a]+a,this.mt[r]>>>=0,a++,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1),a>=t&&(a=0);for(i=this.N-1;i;i--)n=this.mt[r-1]^this.mt[r-1]>>>30,this.mt[r]=(this.mt[r]^(1566083941*((4294901760&n)>>>16)<<16)+1566083941*(65535&n))-r,this.mt[r]>>>=0,++r>=this.N&&(this.mt[0]=this.mt[this.N-1],r=1);this.mt[0]=2147483648;},C.prototype.genrand_int32=function(){var e,t=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var i;for(this.mti===this.N+1&&this.init_genrand(5489),i=0;i<this.N-this.M;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+this.M]^e>>>1^t[1&e];for(;i<this.N-1;i++)e=this.mt[i]&this.UPPER_MASK|this.mt[i+1]&this.LOWER_MASK,this.mt[i]=this.mt[i+(this.M-this.N)]^e>>>1^t[1&e];e=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^e>>>1^t[1&e],this.mti=0;}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0},C.prototype.genrand_int31=function(){return this.genrand_int32()>>>1},C.prototype.genrand_real1=function(){return this.genrand_int32()*(1/4294967295)},C.prototype.random=function(){return this.genrand_int32()*(1/4294967296)},C.prototype.genrand_real3=function(){return (this.genrand_int32()+.5)*(1/4294967296)},C.prototype.genrand_res53=function(){return (67108864*(this.genrand_int32()>>>5)+(this.genrand_int32()>>>6))*(1/9007199254740992)};var S=function(){};S.prototype.VERSION="1.0.1",S.prototype.safe_add=function(e,t){var i=(65535&e)+(65535&t);return (e>>16)+(t>>16)+(i>>16)<<16|65535&i},S.prototype.bit_roll=function(e,t){return e<<t|e>>>32-t},S.prototype.md5_cmn=function(e,t,i,n,r,a){return this.safe_add(this.bit_roll(this.safe_add(this.safe_add(t,e),this.safe_add(n,a)),r),i)},S.prototype.md5_ff=function(e,t,i,n,r,a,o){return this.md5_cmn(t&i|~t&n,e,t,r,a,o)},S.prototype.md5_gg=function(e,t,i,n,r,a,o){return this.md5_cmn(t&n|i&~n,e,t,r,a,o)},S.prototype.md5_hh=function(e,t,i,n,r,a,o){return this.md5_cmn(t^i^n,e,t,r,a,o)},S.prototype.md5_ii=function(e,t,i,n,r,a,o){return this.md5_cmn(i^(t|~n),e,t,r,a,o)},S.prototype.binl_md5=function(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var i,n,r,a,o,s=1732584193,l=-271733879,u=-1732584194,d=271733878;for(i=0;i<e.length;i+=16)n=s,r=l,a=u,o=d,s=this.md5_ff(s,l,u,d,e[i],7,-680876936),d=this.md5_ff(d,s,l,u,e[i+1],12,-389564586),u=this.md5_ff(u,d,s,l,e[i+2],17,606105819),l=this.md5_ff(l,u,d,s,e[i+3],22,-1044525330),s=this.md5_ff(s,l,u,d,e[i+4],7,-176418897),d=this.md5_ff(d,s,l,u,e[i+5],12,1200080426),u=this.md5_ff(u,d,s,l,e[i+6],17,-1473231341),l=this.md5_ff(l,u,d,s,e[i+7],22,-45705983),s=this.md5_ff(s,l,u,d,e[i+8],7,1770035416),d=this.md5_ff(d,s,l,u,e[i+9],12,-1958414417),u=this.md5_ff(u,d,s,l,e[i+10],17,-42063),l=this.md5_ff(l,u,d,s,e[i+11],22,-1990404162),s=this.md5_ff(s,l,u,d,e[i+12],7,1804603682),d=this.md5_ff(d,s,l,u,e[i+13],12,-40341101),u=this.md5_ff(u,d,s,l,e[i+14],17,-1502002290),l=this.md5_ff(l,u,d,s,e[i+15],22,1236535329),s=this.md5_gg(s,l,u,d,e[i+1],5,-165796510),d=this.md5_gg(d,s,l,u,e[i+6],9,-1069501632),u=this.md5_gg(u,d,s,l,e[i+11],14,643717713),l=this.md5_gg(l,u,d,s,e[i],20,-373897302),s=this.md5_gg(s,l,u,d,e[i+5],5,-701558691),d=this.md5_gg(d,s,l,u,e[i+10],9,38016083),u=this.md5_gg(u,d,s,l,e[i+15],14,-660478335),l=this.md5_gg(l,u,d,s,e[i+4],20,-405537848),s=this.md5_gg(s,l,u,d,e[i+9],5,568446438),d=this.md5_gg(d,s,l,u,e[i+14],9,-1019803690),u=this.md5_gg(u,d,s,l,e[i+3],14,-187363961),l=this.md5_gg(l,u,d,s,e[i+8],20,1163531501),s=this.md5_gg(s,l,u,d,e[i+13],5,-1444681467),d=this.md5_gg(d,s,l,u,e[i+2],9,-51403784),u=this.md5_gg(u,d,s,l,e[i+7],14,1735328473),l=this.md5_gg(l,u,d,s,e[i+12],20,-1926607734),s=this.md5_hh(s,l,u,d,e[i+5],4,-378558),d=this.md5_hh(d,s,l,u,e[i+8],11,-2022574463),u=this.md5_hh(u,d,s,l,e[i+11],16,1839030562),l=this.md5_hh(l,u,d,s,e[i+14],23,-35309556),s=this.md5_hh(s,l,u,d,e[i+1],4,-1530992060),d=this.md5_hh(d,s,l,u,e[i+4],11,1272893353),u=this.md5_hh(u,d,s,l,e[i+7],16,-155497632),l=this.md5_hh(l,u,d,s,e[i+10],23,-1094730640),s=this.md5_hh(s,l,u,d,e[i+13],4,681279174),d=this.md5_hh(d,s,l,u,e[i],11,-358537222),u=this.md5_hh(u,d,s,l,e[i+3],16,-722521979),l=this.md5_hh(l,u,d,s,e[i+6],23,76029189),s=this.md5_hh(s,l,u,d,e[i+9],4,-640364487),d=this.md5_hh(d,s,l,u,e[i+12],11,-421815835),u=this.md5_hh(u,d,s,l,e[i+15],16,530742520),l=this.md5_hh(l,u,d,s,e[i+2],23,-995338651),s=this.md5_ii(s,l,u,d,e[i],6,-198630844),d=this.md5_ii(d,s,l,u,e[i+7],10,1126891415),u=this.md5_ii(u,d,s,l,e[i+14],15,-1416354905),l=this.md5_ii(l,u,d,s,e[i+5],21,-57434055),s=this.md5_ii(s,l,u,d,e[i+12],6,1700485571),d=this.md5_ii(d,s,l,u,e[i+3],10,-1894986606),u=this.md5_ii(u,d,s,l,e[i+10],15,-1051523),l=this.md5_ii(l,u,d,s,e[i+1],21,-2054922799),s=this.md5_ii(s,l,u,d,e[i+8],6,1873313359),d=this.md5_ii(d,s,l,u,e[i+15],10,-30611744),u=this.md5_ii(u,d,s,l,e[i+6],15,-1560198380),l=this.md5_ii(l,u,d,s,e[i+13],21,1309151649),s=this.md5_ii(s,l,u,d,e[i+4],6,-145523070),d=this.md5_ii(d,s,l,u,e[i+11],10,-1120210379),u=this.md5_ii(u,d,s,l,e[i+2],15,718787259),l=this.md5_ii(l,u,d,s,e[i+9],21,-343485551),s=this.safe_add(s,n),l=this.safe_add(l,r),u=this.safe_add(u,a),d=this.safe_add(d,o);return [s,l,u,d]},S.prototype.binl2rstr=function(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(e[t>>5]>>>t%32&255);return i},S.prototype.rstr2binl=function(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i},S.prototype.rstr_md5=function(e){return this.binl2rstr(this.binl_md5(this.rstr2binl(e),8*e.length))},S.prototype.rstr_hmac_md5=function(e,t){var i,n,r=this.rstr2binl(e),a=[],o=[];for(a[15]=o[15]=void 0,r.length>16&&(r=this.binl_md5(r,8*e.length)),i=0;i<16;i+=1)a[i]=909522486^r[i],o[i]=1549556828^r[i];return n=this.binl_md5(a.concat(this.rstr2binl(t)),512+8*t.length),this.binl2rstr(this.binl_md5(o.concat(n),640))},S.prototype.rstr2hex=function(e){var t,i,n="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r},S.prototype.str2rstr_utf8=function(e){return unescape(encodeURIComponent(e))},S.prototype.raw_md5=function(e){return this.rstr_md5(this.str2rstr_utf8(e))},S.prototype.hex_md5=function(e){return this.rstr2hex(this.raw_md5(e))},S.prototype.raw_hmac_md5=function(e,t){return this.rstr_hmac_md5(this.str2rstr_utf8(e),this.str2rstr_utf8(t))},S.prototype.hex_hmac_md5=function(e,t){return this.rstr2hex(this.raw_hmac_md5(e,t))},S.prototype.md5=function(e,t,i){return t?i?this.raw_hmac_md5(t,e):this.hex_hmac_md5(t,e):i?this.raw_md5(e):this.hex_md5(e)},e.exports&&(t=e.exports=u),t.Chance=u,"undefined"!=typeof importScripts&&(chance=new u,self.Chance=u),"object"==typeof window&&"object"==typeof window.document&&(window.Chance=u,window.chance=new u);}();}(MP,MP.exports);class LP extends Error{}class EP extends LP{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`);}}class jP extends LP{constructor(e){super(`Invalid Interval: ${e.toMessage()}`);}}class VP extends LP{constructor(e){super(`Invalid Duration: ${e.toMessage()}`);}}class RP extends LP{}class BP extends LP{constructor(e){super(`Invalid unit ${e}`);}}class NP extends LP{}class WP extends LP{constructor(){super("Zone is an abstract class");}}const zP="numeric",HP="short",GP="long",UP={year:zP,month:zP,day:zP},qP={year:zP,month:HP,day:zP},$P={year:zP,month:HP,day:zP,weekday:HP},YP={year:zP,month:GP,day:zP},KP={year:zP,month:GP,day:zP,weekday:GP},XP={hour:zP,minute:zP},JP={hour:zP,minute:zP,second:zP},ZP={hour:zP,minute:zP,second:zP,timeZoneName:HP},QP={hour:zP,minute:zP,second:zP,timeZoneName:GP},ew={hour:zP,minute:zP,hourCycle:"h23"},tw={hour:zP,minute:zP,second:zP,hourCycle:"h23"},iw={hour:zP,minute:zP,second:zP,hourCycle:"h23",timeZoneName:HP},nw={hour:zP,minute:zP,second:zP,hourCycle:"h23",timeZoneName:GP},rw={year:zP,month:zP,day:zP,hour:zP,minute:zP},aw={year:zP,month:zP,day:zP,hour:zP,minute:zP,second:zP},ow={year:zP,month:HP,day:zP,hour:zP,minute:zP},sw={year:zP,month:HP,day:zP,hour:zP,minute:zP,second:zP},lw={year:zP,month:HP,day:zP,weekday:HP,hour:zP,minute:zP},uw={year:zP,month:GP,day:zP,hour:zP,minute:zP,timeZoneName:HP},dw={year:zP,month:GP,day:zP,hour:zP,minute:zP,second:zP,timeZoneName:HP},cw={year:zP,month:GP,day:zP,weekday:GP,hour:zP,minute:zP,timeZoneName:GP},hw={year:zP,month:GP,day:zP,weekday:GP,hour:zP,minute:zP,second:zP,timeZoneName:GP};class pw{get type(){throw new WP}get name(){throw new WP}get ianaName(){return this.name}get isUniversal(){throw new WP}offsetName(e,t){throw new WP}formatOffset(e,t){throw new WP}offset(e){throw new WP}equals(e){throw new WP}get isValid(){throw new WP}}let mw=null;class fw extends pw{static get instance(){return null===mw&&(mw=new fw),mw}get type(){return "system"}get name(){return (new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return !1}offsetName(e,{format:t,locale:i}){return sI(e,t,i)}formatOffset(e,t){return cI(this.offset(e),t)}offset(e){return -new Date(e).getTimezoneOffset()}equals(e){return "system"===e.type}get isValid(){return !0}}let gw={};const yw={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let vw={};class bw extends pw{static create(e){return vw[e]||(vw[e]=new bw(e)),vw[e]}static resetCache(){vw={},gw={};}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return !1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return !1}}constructor(e){super(),this.zoneName=e,this.valid=bw.isValidZone(e);}get type(){return "iana"}get name(){return this.zoneName}get isUniversal(){return !1}offsetName(e,{format:t,locale:i}){return sI(e,t,i,this.name)}formatOffset(e,t){return cI(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=(n=this.name,gw[n]||(gw[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),gw[n]);var n;let[r,a,o,s,l,u,d]=i.formatToParts?function(e,t){const i=e.formatToParts(t),n=[];for(let e=0;e<i.length;e++){const{type:t,value:r}=i[e],a=yw[t];"era"===t?n[a]=r:Hw(a)||(n[a]=parseInt(r,10));}return n}(i,t):function(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,r,a,o,s,l,u,d]=n;return [o,r,a,s,l,u,d]}(i,t);"BC"===s&&(r=1-Math.abs(r));let c=+t;const h=c%1e3;return c-=h>=0?h:1e3+h,(rI({year:r,month:a,day:o,hour:24===l?0:l,minute:u,second:d,millisecond:0})-c)/6e4}equals(e){return "iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let xw={};let Cw={};function Sw(e,t={}){const i=JSON.stringify([e,t]);let n=Cw[i];return n||(n=new Intl.DateTimeFormat(e,t),Cw[i]=n),n}let _w={};let Pw={};let ww=null;function Iw(e,t,i,n,r){const a=e.listingMode(i);return "error"===a?null:"en"===a?n(t):r(t)}class Tw{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:r,...a}=i;if(!t||Object.keys(a).length>0){const t={useGrouping:!1,...i};i.padTo>0&&(t.minimumIntegerDigits=i.padTo),this.inf=function(e,t={}){const i=JSON.stringify([e,t]);let n=_w[i];return n||(n=new Intl.NumberFormat(e,t),_w[i]=n),n}(e,t);}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Xw(this.floor?Math.floor(e):eI(e,3),this.padTo)}}class Aw{constructor(e,t,i){let n;if(this.opts=i,e.zone.isUniversal){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&bw.create(r).valid?(n=r,this.dt=e):(n="UTC",i.timeZoneName?this.dt=e:this.dt=0===e.offset?e:TA.fromMillis(e.ts+60*e.offset*1e3));}else "system"===e.zone.type?this.dt=e:(this.dt=e,n=e.zone.name);const r={...this.opts};r.timeZone=r.timeZone||n,this.dtf=Sw(t,r);}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ow{constructor(e,t,i){this.opts={style:"long",...i},!t&&qw()&&(this.rtf=function(e,t={}){const{base:i,...n}=t,r=JSON.stringify([e,n]);let a=Pw[r];return a||(a=new Intl.RelativeTimeFormat(e,t),Pw[r]=a),a}(e,i));}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&a){const i="days"===e;switch(t){case 1:return i?"tomorrow":`next ${r[e][0]}`;case-1:return i?"yesterday":`last ${r[e][0]}`;case 0:return i?"today":`this ${r[e][0]}`}}const o=Object.is(t,-0)||t<0,s=Math.abs(t),l=1===s,u=r[e],d=n?l?u[1]:u[2]||u[1]:l?r[e][0]:e;return o?`${s} ${d} ago`:`in ${s} ${d}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class kw{static fromOpts(e){return kw.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,n=!1){const r=e||zw.defaultLocale,a=r||(n?"en-US":ww||(ww=(new Intl.DateTimeFormat).resolvedOptions().locale,ww)),o=t||zw.defaultNumberingSystem,s=i||zw.defaultOutputCalendar;return new kw(a,o,s,r)}static resetCache(){ww=null,Cw={},_w={},Pw={};}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return kw.create(e,t,i)}constructor(e,t,i,n){const[r,a,o]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(-1===i)return [e];{let t,n;try{t=Sw(e).resolvedOptions(),n=e;}catch(r){const a=e.substring(0,i);t=Sw(a).resolvedOptions(),n=a;}const{numberingSystem:r,calendar:a}=t;return [n,r,a]}}(e);this.locale=r,this.numberingSystem=t||a||null,this.outputCalendar=i||o||null,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null;}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?kw.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,i=!0){return Iw(this,e,i,gI,(()=>{const i=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let i=1;i<=12;i++){const n=TA.utc(2016,i,1);t.push(e(n));}return t}((e=>this.extract(e,i,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1,i=!0){return Iw(this,e,i,xI,(()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let i=1;i<=7;i++){const n=TA.utc(2016,11,13+i);t.push(e(n));}return t}((e=>this.extract(e,i,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(e=!0){return Iw(this,void 0,e,(()=>CI),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[TA.utc(2016,11,13,9),TA.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")));}return this.meridiemCache}))}eras(e,t=!0){return Iw(this,e,t,wI,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[TA.utc(-40,1,1),TA.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,i){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===i));return n?n.value:null}numberFormatter(e={}){return new Tw(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Aw(e,this.intl,t)}relFormatter(e={}){return new Ow(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const i=JSON.stringify([e,t]);let n=xw[i];return n||(n=new Intl.ListFormat(e,t),xw[i]=n),n}(this.intl,e)}isEnglish(){return "en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Fw=null;class Dw extends pw{static get utcInstance(){return null===Fw&&(Fw=new Dw(0)),Fw}static instance(e){return 0===e?Dw.utcInstance:new Dw(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Dw(lI(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e;}get type(){return "fixed"}get name(){return 0===this.fixed?"UTC":`UTC${cI(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${cI(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return cI(this.fixed,t)}get isUniversal(){return !0}offset(){return this.fixed}equals(e){return "fixed"===e.type&&e.fixed===this.fixed}get isValid(){return !0}}class Mw extends pw{constructor(e){super(),this.zoneName=e;}get type(){return "invalid"}get name(){return this.zoneName}get isUniversal(){return !1}offsetName(){return null}formatOffset(){return ""}offset(){return NaN}equals(){return !1}get isValid(){return !1}}function Lw(e,t){if(Hw(e)||null===e)return t;if(e instanceof pw)return e;if(function(e){return "string"==typeof e}(e)){const i=e.toLowerCase();return "default"===i?t:"local"===i||"system"===i?fw.instance:"utc"===i||"gmt"===i?Dw.utcInstance:Dw.parseSpecifier(i)||bw.create(e)}return Gw(e)?Dw.instance(e):"object"==typeof e&&e.offset&&"number"==typeof e.offset?e:new Mw(e)}let Ew,jw=()=>Date.now(),Vw="system",Rw=null,Bw=null,Nw=null,Ww=60;class zw{static get now(){return jw}static set now(e){jw=e;}static set defaultZone(e){Vw=e;}static get defaultZone(){return Lw(Vw,fw.instance)}static get defaultLocale(){return Rw}static set defaultLocale(e){Rw=e;}static get defaultNumberingSystem(){return Bw}static set defaultNumberingSystem(e){Bw=e;}static get defaultOutputCalendar(){return Nw}static set defaultOutputCalendar(e){Nw=e;}static get twoDigitCutoffYear(){return Ww}static set twoDigitCutoffYear(e){Ww=e%100;}static get throwOnInvalid(){return Ew}static set throwOnInvalid(e){Ew=e;}static resetCaches(){kw.resetCache(),bw.resetCache();}}function Hw(e){return void 0===e}function Gw(e){return "number"==typeof e}function Uw(e){return "number"==typeof e&&e%1==0}function qw(){try{return "undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return !1}}function $w(e,t,i){if(0!==e.length)return e.reduce(((e,n)=>{const r=[t(n),n];return e&&i(e[0],r[0])===e[0]?e:r}),null)[1]}function Yw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kw(e,t,i){return Uw(e)&&e>=t&&e<=i}function Xw(e,t=2){let i;return i=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),i}function Jw(e){return Hw(e)||null===e||""===e?void 0:parseInt(e,10)}function Zw(e){return Hw(e)||null===e||""===e?void 0:parseFloat(e)}function Qw(e){if(!Hw(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function eI(e,t,i=!1){const n=10**t;return (i?Math.trunc:Math.round)(e*n)/n}function tI(e){return e%4==0&&(e%100!=0||e%400==0)}function iI(e){return tI(e)?366:365}function nI(e,t){const i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?tI(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function rI(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function aI(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return 4===t||3===n?53:52}function oI(e){return e>99?e:e>zw.twoDigitCutoffYear?1900+e:2e3+e}function sI(e,t,i,n=null){const r=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const o={timeZoneName:t,...a},s=new Intl.DateTimeFormat(i,o).formatToParts(r).find((e=>"timezonename"===e.type.toLowerCase()));return s?s.value:null}function lI(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function uI(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new NP(`Invalid unit value ${e}`);return t}function dI(e,t){const i={};for(const n in e)if(Yw(e,n)){const r=e[n];if(null==r)continue;i[t(n)]=uI(r);}return i}function cI(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return `${r}${Xw(i,2)}:${Xw(n,2)}`;case"narrow":return `${r}${i}${n>0?`:${n}`:""}`;case"techie":return `${r}${Xw(i,2)}${Xw(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function hI(e){return function(e,t){return t.reduce(((t,i)=>(t[i]=e[i],t)),{})}(e,["hour","minute","second","millisecond"])}const pI=["January","February","March","April","May","June","July","August","September","October","November","December"],mI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fI=["J","F","M","A","M","J","J","A","S","O","N","D"];function gI(e){switch(e){case"narrow":return [...fI];case"short":return [...mI];case"long":return [...pI];case"numeric":return ["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return ["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const yI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],vI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],bI=["M","T","W","T","F","S","S"];function xI(e){switch(e){case"narrow":return [...bI];case"short":return [...vI];case"long":return [...yI];case"numeric":return ["1","2","3","4","5","6","7"];default:return null}}const CI=["AM","PM"],SI=["Before Christ","Anno Domini"],_I=["BC","AD"],PI=["B","A"];function wI(e){switch(e){case"narrow":return [...PI];case"short":return [..._I];case"long":return [...SI];default:return null}}function II(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const TI={D:UP,DD:qP,DDD:YP,DDDD:KP,t:XP,tt:JP,ttt:ZP,tttt:QP,T:ew,TT:tw,TTT:iw,TTTT:nw,f:rw,ff:ow,fff:uw,ffff:cw,F:aw,FF:sw,FFF:dw,FFFF:hw};class AI{static create(e,t={}){return new AI(e,t)}static parseFormat(e){let t=null,i="",n=!1;const r=[];for(let a=0;a<e.length;a++){const o=e.charAt(a);"'"===o?(i.length>0&&r.push({literal:n,val:i}),t=null,i="",n=!n):n||o===t?i+=o:(i.length>0&&r.push({literal:!1,val:i}),i=o,t=o);}return i.length>0&&r.push({literal:n,val:i}),r}static macroTokenToFormatOpts(e){return TI[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null;}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}formatInterval(e,t={}){return this.loc.dtFormatter(e.start,{...this.opts,...t}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Xw(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(t,i)=>this.loc.extract(e,t,i),a=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",o=()=>i?function(e){return CI[e.hour<12?0:1]}(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),s=(t,n)=>i?function(e,t){return gI(t)[e.month-1]}(e,t):r(n?{month:t}:{month:t,day:"numeric"},"month"),l=(t,n)=>i?function(e,t){return xI(t)[e.weekday-1]}(e,t):r(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),u=t=>{const i=AI.macroTokenToFormatOpts(t);return i?this.formatWithSystemDefault(e,i):t},d=t=>i?function(e,t){return wI(t)[e.year<0?0:1]}(e,t):r({era:t},"era");return II(AI.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return o();case"d":return n?r({day:"numeric"},"day"):this.num(e.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return s("short",!0);case"LLLL":return s("long",!0);case"LLLLL":return s("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(e.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return s("short",!1);case"MMMM":return s("long",!1);case"MMMMM":return s("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(e.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(t)}}))}formatDurationFromString(e,t){const i=e=>{switch(e[0]){case"S":return "millisecond";case"s":return "second";case"m":return "minute";case"h":return "hour";case"d":return "day";case"w":return "week";case"M":return "month";case"y":return "year";default:return null}},n=AI.parseFormat(t),r=n.reduce(((e,{literal:t,val:i})=>t?e:e.concat(i)),[]),a=e.shiftTo(...r.map(i).filter((e=>e)));return II(n,(e=>t=>{const n=i(t);return n?this.num(e.get(n),t.length):t})(a))}}class OI{constructor(e,t){this.reason=e,this.explanation=t;}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const kI=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function FI(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function DI(...e){return t=>e.reduce((([e,i,n],r)=>{const[a,o,s]=r(t,n);return [{...e,...a},o||i,s]}),[{},null,1]).slice(0,2)}function MI(e,...t){if(null==e)return [null,null];for(const[i,n]of t){const t=i.exec(e);if(t)return n(t)}return [null,null]}function LI(...e){return (t,i)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=Jw(t[i+r]);return [n,null,i+r]}}const EI=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,jI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,VI=RegExp(`${jI.source}${`(?:${EI.source}?(?:\\[(${kI.source})\\])?)?`}`),RI=RegExp(`(?:T${VI.source})?`),BI=LI("weekYear","weekNumber","weekDay"),NI=LI("year","ordinal"),WI=RegExp(`${jI.source} ?(?:${EI.source}|(${kI.source}))?`),zI=RegExp(`(?: ${WI.source})?`);function HI(e,t,i){const n=e[t];return Hw(n)?i:Jw(n)}function GI(e,t){return [{hours:HI(e,t,0),minutes:HI(e,t+1,0),seconds:HI(e,t+2,0),milliseconds:Qw(e[t+3])},null,t+4]}function UI(e,t){const i=!e[t]&&!e[t+1],n=lI(e[t+1],e[t+2]);return [{},i?null:Dw.instance(n),t+3]}function qI(e,t){return [{},e[t]?bw.create(e[t]):null,t+1]}const $I=RegExp(`^T?${jI.source}$`),YI=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function KI(e){const[t,i,n,r,a,o,s,l,u]=e,d="-"===t[0],c=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&d)?-e:e;return [{years:h(Zw(i)),months:h(Zw(n)),weeks:h(Zw(r)),days:h(Zw(a)),hours:h(Zw(o)),minutes:h(Zw(s)),seconds:h(Zw(l),"-0"===l),milliseconds:h(Qw(u),c)}]}const XI={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function JI(e,t,i,n,r,a,o){const s={year:2===t.length?oI(Jw(t)):Jw(t),month:mI.indexOf(i)+1,day:Jw(n),hour:Jw(r),minute:Jw(a)};return o&&(s.second=Jw(o)),e&&(s.weekday=e.length>3?yI.indexOf(e)+1:vI.indexOf(e)+1),s}const ZI=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function QI(e){const[,t,i,n,r,a,o,s,l,u,d,c]=e,h=JI(t,r,n,i,a,o,s);let p;return p=l?XI[l]:u?0:lI(d,c),[h,new Dw(p)]}const eT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,tT=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,iT=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function nT(e){const[,t,i,n,r,a,o,s]=e;return [JI(t,r,n,i,a,o,s),Dw.utcInstance]}function rT(e){const[,t,i,n,r,a,o,s]=e;return [JI(t,s,i,n,r,a,o),Dw.utcInstance]}const aT=FI(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,RI),oT=FI(/(\d{4})-?W(\d\d)(?:-?(\d))?/,RI),sT=FI(/(\d{4})-?(\d{3})/,RI),lT=FI(VI),uT=DI((function(e,t){return [{year:HI(e,t),month:HI(e,t+1,1),day:HI(e,t+2,1)},null,t+3]}),GI,UI,qI),dT=DI(BI,GI,UI,qI),cT=DI(NI,GI,UI,qI),hT=DI(GI,UI,qI);const pT=DI(GI);const mT=FI(/(\d{4})-(\d\d)-(\d\d)/,zI),fT=FI(WI),gT=DI(GI,UI,qI);const yT={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},vT={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...yT},bT={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...yT},xT=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],CT=xT.slice(0).reverse();function ST(e,t,i=!1){const n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new PT(n)}function _T(e,t,i,n,r){const a=e[r][i],o=t[i]/a,s=!(Math.sign(o)===Math.sign(n[r]))&&0!==n[r]&&Math.abs(o)<=1?function(e){return e<0?Math.floor(e):Math.ceil(e)}(o):Math.trunc(o);n[r]+=s,t[i]-=s*a;}class PT{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?bT:vT;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||kw.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0;}static fromMillis(e,t){return PT.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new NP("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new PT({values:dI(e,PT.normalizeUnit),loc:kw.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Gw(e))return PT.fromMillis(e);if(PT.isDuration(e))return e;if("object"==typeof e)return PT.fromObject(e);throw new NP(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=function(e){return MI(e,[YI,KI])}(e);return i?PT.fromObject(i,t):PT.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=function(e){return MI(e,[$I,pT])}(e);return i?PT.fromObject(i,t):PT.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new NP("need to specify a reason the Duration is invalid");const i=e instanceof OI?e:new OI(e,t);if(zw.throwOnInvalid)throw new VP(i);return new PT({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new BP(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?AI.create(this.loc,i).formatDurationFromString(this,e):"Invalid Duration"}toHuman(e={}){const t=xT.map((t=>{const i=this.values[t];return Hw(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(i)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=eI(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let n="basic"===e.format?"hhmm":"hh:mm";e.suppressSeconds&&0===i.seconds&&0===i.milliseconds||(n+="basic"===e.format?"ss":":ss",e.suppressMilliseconds&&0===i.milliseconds||(n+=".SSS"));let r=i.toFormat(n);return e.includePrefix&&(r="T"+r),r}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=PT.fromDurationLike(e),i={};for(const e of xT)(Yw(t.values,e)||Yw(this.values,e))&&(i[e]=t.get(e)+this.get(e));return ST(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=PT.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=uI(e(this.values[i],i));return ST(this,{values:t},!0)}get(e){return this[PT.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return ST(this,{values:{...this.values,...dI(e,PT.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:n}={}){return ST(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return function(e,t){CT.reduce(((i,n)=>Hw(t[n])?i:(i&&_T(e,t,i,t,n),n)),null);}(this.matrix,e),ST(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return ST(this,{values:function(e){const t={};for(const[i,n]of Object.entries(e))0!==n&&(t[i]=n);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>PT.normalizeUnit(e)));const t={},i={},n=this.toObject();let r;for(const a of xT)if(e.indexOf(a)>=0){r=a;let e=0;for(const t in i)e+=this.matrix[t][a]*i[t],i[t]=0;Gw(n[a])&&(e+=n[a]);const o=Math.trunc(e);t[a]=o,i[a]=(1e3*e-1e3*o)/1e3;for(const e in n)xT.indexOf(e)>xT.indexOf(a)&&_T(this.matrix,n,e,t,a);}else Gw(n[a])&&(i[a]=n[a]);for(const e in i)0!==i[e]&&(t[r]+=e===r?i[e]:i[e]/this.matrix[r][e]);return ST(this,{values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return ST(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return !1;if(!this.loc.equals(e.loc))return !1;for(const n of xT)if(t=this.values[n],i=e.values[n],!(void 0===t||0===t?void 0===i||0===i:t===i))return !1;var t,i;return !0}}const wT="Invalid Interval";class IT{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0;}static invalid(e,t=null){if(!e)throw new NP("need to specify a reason the Interval is invalid");const i=e instanceof OI?e:new OI(e,t);if(zw.throwOnInvalid)throw new jP(i);return new IT({invalid:i})}static fromDateTimes(e,t){const i=AA(e),n=AA(t),r=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?IT.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:IT.invalid("missing or invalid end"):IT.invalid("missing or invalid start")}(i,n);return null==r?new IT({start:i,end:n}):r}static after(e,t){const i=PT.fromDurationLike(t),n=AA(e);return IT.fromDateTimes(n,n.plus(i))}static before(e,t){const i=PT.fromDurationLike(t),n=AA(e);return IT.fromDateTimes(n.minus(i),n)}static fromISO(e,t){const[i,n]=(e||"").split("/",2);if(i&&n){let e,r,a,o;try{e=TA.fromISO(i,t),r=e.isValid;}catch(n){r=!1;}try{a=TA.fromISO(n,t),o=a.isValid;}catch(n){o=!1;}if(r&&o)return IT.fromDateTimes(e,a);if(r){const i=PT.fromISO(n,t);if(i.isValid)return IT.after(e,i)}else if(o){const e=PT.fromISO(i,t);if(e.isValid)return IT.before(a,e)}}return IT.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+1}hasSame(e){return !!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return !!this.isValid&&this.s>e}isBefore(e){return !!this.isValid&&this.e<=e}contains(e){return !!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?IT.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return [];const t=e.map(AA).filter((e=>this.contains(e))).sort(),i=[];let{s:n}=this,r=0;for(;n<this.e;){const e=t[r]||this.e,a=+e>+this.e?this.e:e;i.push(IT.fromDateTimes(n,a)),n=a,r+=1;}return i}splitBy(e){const t=PT.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return [];let i,{s:n}=this,r=1;const a=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*r)));i=+e>+this.e?this.e:e,a.push(IT.fromDateTimes(n,i)),n=i,r+=1;}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return !!this.isValid&&+this.e==+e.s}abutsEnd(e){return !!this.isValid&&+e.e==+this.s}engulfs(e){return !!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return !(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:IT.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return IT.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],i)=>t?t.overlaps(i)||t.abutsStart(i)?[e,t.union(i)]:[e.concat([t]),i]:[e,i]),[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const n=[],r=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),a=Array.prototype.concat(...r).sort(((e,t)=>e.time-t.time));for(const e of a)i+="s"===e.type?1:-1,1===i?t=e.time:(t&&+t!=+e.time&&n.push(IT.fromDateTimes(t,e.time)),t=null);return IT.merge(n)}difference(...e){return IT.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:wT}toLocaleString(e=UP,t={}){return this.isValid?AI.create(this.s.loc.clone(t),e).formatInterval(this):wT}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:wT}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:wT}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:wT}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:wT}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):PT.invalid(this.invalidReason)}mapEndpoints(e){return IT.fromDateTimes(e(this.s),e(this.e))}}class TT{static hasDST(e=zw.defaultZone){const t=TA.now().setZone(e).set({month:12});return !e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return bw.isValidZone(e)}static normalizeZone(e){return Lw(e,zw.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return (n||kw.create(t,i,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return (n||kw.create(t,i,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return (n||kw.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return (n||kw.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return kw.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return kw.create(t,null,"gregory").eras(e)}static features(){return {relative:qw()}}}function AT(e,t){const i=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(PT.fromMillis(n).as("days"))}function OT(e,t,i,n){let[r,a,o,s]=function(e,t,i){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const i=AT(e,t);return (i-i%7)/7}],["days",AT]],r={},a=e;let o,s;for(const[l,u]of n)i.indexOf(l)>=0&&(o=l,r[l]=u(e,t),s=a.plus(r),s>t?(r[l]--,e=a.plus(r)):e=s);return [e,r,s,o]}(e,t,i);const l=t-r,u=i.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===u.length&&(o<t&&(o=r.plus({[s]:1})),o!==r&&(a[s]=(a[s]||0)+l/(o-r)));const d=PT.fromObject(a,n);return u.length>0?PT.fromMillis(l,n).shiftTo(...u).plus(d):d}const kT={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},FT={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},DT=kT.hanidec.replace(/[\[|\]]/g,"").split("");function MT({numberingSystem:e},t=""){return new RegExp(`${kT[e||"latn"]}${t}`)}function LT(e,t=(e=>e)){return {regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(-1!==e[i].search(kT.hanidec))t+=DT.indexOf(e[i]);else for(const e in FT){const[i,r]=FT[e];n>=i&&n<=r&&(t+=n-i);}}return parseInt(t,10)}return t}(e))}}const ET=`[ ${String.fromCharCode(160)}]`,jT=new RegExp(ET,"g");function VT(e){return e.replace(/\./g,"\\.?").replace(jT,ET)}function RT(e){return e.replace(/\./g,"").replace(jT," ").toLowerCase()}function BT(e,t){return null===e?null:{regex:RegExp(e.map(VT).join("|")),deser:([i])=>e.findIndex((e=>RT(i)===RT(e)))+t}}function NT(e,t){return {regex:e,deser:([,e,t])=>lI(e,t),groups:t}}function WT(e){return {regex:e,deser:([e])=>e}}const zT={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let HT=null;function GT(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const i=qT(AI.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t))))}function UT(e,t,i){const n=GT(AI.parseFormat(i),e),r=n.map((t=>function(e,t){const i=MT(t),n=MT(t,"{2}"),r=MT(t,"{3}"),a=MT(t,"{4}"),o=MT(t,"{6}"),s=MT(t,"{1,2}"),l=MT(t,"{1,3}"),u=MT(t,"{1,6}"),d=MT(t,"{1,9}"),c=MT(t,"{2,4}"),h=MT(t,"{4,6}"),p=e=>{return {regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t;},m=(m=>{if(e.literal)return p(m);switch(m.val){case"G":return BT(t.eras("short",!1),0);case"GG":return BT(t.eras("long",!1),0);case"y":return LT(u);case"yy":case"kk":return LT(c,oI);case"yyyy":case"kkkk":return LT(a);case"yyyyy":return LT(h);case"yyyyyy":return LT(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return LT(s);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return LT(n);case"MMM":return BT(t.months("short",!0,!1),1);case"MMMM":return BT(t.months("long",!0,!1),1);case"LLL":return BT(t.months("short",!1,!1),1);case"LLLL":return BT(t.months("long",!1,!1),1);case"o":case"S":return LT(l);case"ooo":case"SSS":return LT(r);case"u":return WT(d);case"uu":return WT(s);case"uuu":case"E":case"c":return LT(i);case"a":return BT(t.meridiems(),0);case"EEE":return BT(t.weekdays("short",!1,!1),1);case"EEEE":return BT(t.weekdays("long",!1,!1),1);case"ccc":return BT(t.weekdays("short",!0,!1),1);case"cccc":return BT(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return NT(new RegExp(`([+-]${s.source})(?::(${n.source}))?`),2);case"ZZZ":return NT(new RegExp(`([+-]${s.source})(${n.source})?`),2);case"z":return WT(/[a-z_+-/]{1,256}?/i);default:return p(m)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return m.token=e,m}(t,e))),a=r.find((e=>e.invalidReason));if(a)return {input:t,tokens:n,invalidReason:a.invalidReason};{const[e,i]=function(e){const t=e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"");return [`^${t}$`,e]}(r),a=RegExp(e,"i"),[o,s]=function(e,t,i){const n=e.match(t);if(n){const e={};let t=1;for(const r in i)if(Yw(i,r)){const a=i[r],o=a.groups?a.groups+1:1;!a.literal&&a.token&&(e[a.token.val[0]]=a.deser(n.slice(t,t+o))),t+=o;}return [n,e]}return [n,{}]}(t,a,i),[l,u,d]=s?function(e){let t,i=null;Hw(e.z)||(i=bw.create(e.z)),Hw(e.Z)||(i||(i=new Dw(e.Z)),t=e.Z),Hw(e.q)||(e.M=3*(e.q-1)+1),Hw(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Hw(e.u)||(e.S=Qw(e.u));const n=Object.keys(e).reduce(((t,i)=>{const n=(e=>{switch(e){case"S":return "millisecond";case"s":return "second";case"m":return "minute";case"h":case"H":return "hour";case"d":return "day";case"o":return "ordinal";case"L":case"M":return "month";case"y":return "year";case"E":case"c":return "weekday";case"W":return "weekNumber";case"k":return "weekYear";case"q":return "quarter";default:return null}})(i);return n&&(t[n]=e[i]),t}),{});return [n,i,t]}(s):[null,null,void 0];if(Yw(s,"a")&&Yw(s,"H"))throw new RP("Can't include meridiem when specifying 24-hour format");return {input:t,tokens:n,regex:a,rawMatches:o,matches:s,result:l,zone:u,specificOffset:d}}}function qT(e,t){if(!e)return null;return AI.create(t,e).formatDateTimeParts((HT||(HT=TA.fromMillis(1555555555555)),HT)).map((t=>function(e,t){const{type:i,value:n}=e;if("literal"===i)return {literal:!0,val:n};const r=t[i];let a=zT[i];return "object"==typeof a&&(a=a[r]),a?{literal:!1,val:a}:void 0}(t,e)))}const $T=[0,31,59,90,120,151,181,212,243,273,304,334],YT=[0,31,60,91,121,152,182,213,244,274,305,335];function KT(e,t){return new OI("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function XT(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function JT(e,t,i){return i+(tI(e)?YT:$T)[t-1]}function ZT(e,t){const i=tI(e)?YT:$T,n=i.findIndex((e=>e<t));return {month:n+1,day:t-i[n]}}function QT(e){const{year:t,month:i,day:n}=e,r=JT(t,i,n),a=XT(t,i,n);let o,s=Math.floor((r-a+10)/7);return s<1?(o=t-1,s=aI(o)):s>aI(t)?(o=t+1,s=1):o=t,{weekYear:o,weekNumber:s,weekday:a,...hI(e)}}function eA(e){const{weekYear:t,weekNumber:i,weekday:n}=e,r=XT(t,1,4),a=iI(t);let o,s=7*i+n-r-3;s<1?(o=t-1,s+=iI(o)):s>a?(o=t+1,s-=iI(t)):o=t;const{month:l,day:u}=ZT(o,s);return {year:o,month:l,day:u,...hI(e)}}function tA(e){const{year:t,month:i,day:n}=e;return {year:t,ordinal:JT(t,i,n),...hI(e)}}function iA(e){const{year:t,ordinal:i}=e,{month:n,day:r}=ZT(t,i);return {year:t,month:n,day:r,...hI(e)}}function nA(e){const t=Uw(e.year),i=Kw(e.month,1,12),n=Kw(e.day,1,nI(e.year,e.month));return t?i?!n&&KT("day",e.day):KT("month",e.month):KT("year",e.year)}function rA(e){const{hour:t,minute:i,second:n,millisecond:r}=e,a=Kw(t,0,23)||24===t&&0===i&&0===n&&0===r,o=Kw(i,0,59),s=Kw(n,0,59),l=Kw(r,0,999);return a?o?s?!l&&KT("millisecond",r):KT("second",n):KT("minute",i):KT("hour",t)}const aA="Invalid DateTime";function oA(e){return new OI("unsupported zone",`the zone "${e.name}" is not supported`)}function sA(e){return null===e.weekData&&(e.weekData=QT(e.c)),e.weekData}function lA(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new TA({...i,...t,old:i})}function uA(e,t,i){let n=e-60*t*1e3;const r=i.offset(n);if(t===r)return [n,t];n-=60*(r-t)*1e3;const a=i.offset(n);return r===a?[n,r]:[e-60*Math.min(r,a)*1e3,Math.max(r,a)]}function dA(e,t){const i=new Date(e+=60*t*1e3);return {year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function cA(e,t,i){return uA(rI(e),t,i)}function hA(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a={...e.c,year:n,month:r,day:Math.min(e.c.day,nI(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},o=PT.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),s=rI(a);let[l,u]=uA(s,i,e.zone);return 0!==o&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function pA(e,t,i,n,r,a){const{setZone:o,zone:s}=i;if(e&&0!==Object.keys(e).length){const n=t||s,r=TA.fromObject(e,{...i,zone:n,specificOffset:a});return o?r:r.setZone(s)}return TA.invalid(new OI("unparsable",`the input "${r}" can't be parsed as ${n}`))}function mA(e,t,i=!0){return e.isValid?AI.create(kw.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function fA(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=Xw(e.c.year,i?6:4),t?(n+="-",n+=Xw(e.c.month),n+="-",n+=Xw(e.c.day)):(n+=Xw(e.c.month),n+=Xw(e.c.day)),n}function gA(e,t,i,n,r,a){let o=Xw(e.c.hour);return t?(o+=":",o+=Xw(e.c.minute),0===e.c.second&&i||(o+=":")):o+=Xw(e.c.minute),0===e.c.second&&i||(o+=Xw(e.c.second),0===e.c.millisecond&&n||(o+=".",o+=Xw(e.c.millisecond,3))),r&&(e.isOffsetFixed&&0===e.offset&&!a?o+="Z":e.o<0?(o+="-",o+=Xw(Math.trunc(-e.o/60)),o+=":",o+=Xw(Math.trunc(-e.o%60))):(o+="+",o+=Xw(Math.trunc(e.o/60)),o+=":",o+=Xw(Math.trunc(e.o%60)))),a&&(o+="["+e.zone.ianaName+"]"),o}const yA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},vA={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},bA={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xA=["year","month","day","hour","minute","second","millisecond"],CA=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],SA=["year","ordinal","hour","minute","second","millisecond"];function _A(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new BP(e);return t}function PA(e,t){const i=Lw(t.zone,zw.defaultZone),n=kw.fromObject(t),r=zw.now();let a,o;if(Hw(e.year))a=r;else {for(const t of xA)Hw(e[t])&&(e[t]=yA[t]);const t=nA(e)||rA(e);if(t)return TA.invalid(t);const n=i.offset(r);[a,o]=cA(e,n,i);}return new TA({ts:a,zone:i,loc:n,o:o})}function wA(e,t,i){const n=!!Hw(i.round)||i.round,r=(e,r)=>{e=eI(e,n||i.calendary?0:2,!0);return t.loc.clone(i).relFormatter(i).format(e,r)},a=n=>i.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(i.unit)return r(a(i.unit),i.unit);for(const e of i.units){const t=a(e);if(Math.abs(t)>=1)return r(t,e)}return r(e>t?-0:0,i.units[i.units.length-1])}function IA(e){let t,i={};return e.length>0&&"object"==typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}class TA{constructor(e){const t=e.zone||zw.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new OI("invalid input"):null)||(t.isValid?null:oA(t));this.ts=Hw(e.ts)?zw.now():e.ts;let n=null,r=null;if(!i){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,r]=[e.old.c,e.old.o];else {const e=t.offset(this.ts);n=dA(this.ts,e),i=Number.isNaN(n.year)?new OI("invalid input"):null,n=i?null:n,r=i?null:e;}}this._zone=t,this.loc=e.loc||kw.create(),this.invalid=i,this.weekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0;}static now(){return new TA({})}static local(){const[e,t]=IA(arguments),[i,n,r,a,o,s,l]=t;return PA({year:i,month:n,day:r,hour:a,minute:o,second:s,millisecond:l},e)}static utc(){const[e,t]=IA(arguments),[i,n,r,a,o,s,l]=t;return e.zone=Dw.utcInstance,PA({year:i,month:n,day:r,hour:a,minute:o,second:s,millisecond:l},e)}static fromJSDate(e,t={}){const i=function(e){return "[object Date]"===Object.prototype.toString.call(e)}(e)?e.valueOf():NaN;if(Number.isNaN(i))return TA.invalid("invalid input");const n=Lw(t.zone,zw.defaultZone);return n.isValid?new TA({ts:i,zone:n,loc:kw.fromObject(t)}):TA.invalid(oA(n))}static fromMillis(e,t={}){if(Gw(e))return e<-864e13||e>864e13?TA.invalid("Timestamp out of range"):new TA({ts:e,zone:Lw(t.zone,zw.defaultZone),loc:kw.fromObject(t)});throw new NP(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Gw(e))return new TA({ts:1e3*e,zone:Lw(t.zone,zw.defaultZone),loc:kw.fromObject(t)});throw new NP("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=Lw(t.zone,zw.defaultZone);if(!i.isValid)return TA.invalid(oA(i));const n=zw.now(),r=Hw(t.specificOffset)?i.offset(n):t.specificOffset,a=dI(e,_A),o=!Hw(a.ordinal),s=!Hw(a.year),l=!Hw(a.month)||!Hw(a.day),u=s||l,d=a.weekYear||a.weekNumber,c=kw.fromObject(t);if((u||o)&&d)throw new RP("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new RP("Can't mix ordinal dates with month/day");const h=d||a.weekday&&!u;let p,m,f=dA(n,r);h?(p=CA,m=vA,f=QT(f)):o?(p=SA,m=bA,f=tA(f)):(p=xA,m=yA);let g=!1;for(const e of p){Hw(a[e])?a[e]=g?m[e]:f[e]:g=!0;}const y=h?function(e){const t=Uw(e.weekYear),i=Kw(e.weekNumber,1,aI(e.weekYear)),n=Kw(e.weekday,1,7);return t?i?!n&&KT("weekday",e.weekday):KT("week",e.week):KT("weekYear",e.weekYear)}(a):o?function(e){const t=Uw(e.year),i=Kw(e.ordinal,1,iI(e.year));return t?!i&&KT("ordinal",e.ordinal):KT("year",e.year)}(a):nA(a),v=y||rA(a);if(v)return TA.invalid(v);const b=h?eA(a):o?iA(a):a,[x,C]=cA(b,r,i),S=new TA({ts:x,zone:i,o:C,loc:c});return a.weekday&&u&&e.weekday!==S.weekday?TA.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${S.toISO()}`):S}static fromISO(e,t={}){const[i,n]=function(e){return MI(e,[aT,uT],[oT,dT],[sT,cT],[lT,hT])}(e);return pA(i,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,n]=function(e){return MI(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[ZI,QI])}(e);return pA(i,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,n]=function(e){return MI(e,[eT,nT],[tT,nT],[iT,rT])}(e);return pA(i,n,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Hw(e)||Hw(t))throw new NP("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=i,a=kw.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[o,s,l,u]=function(e,t,i){const{result:n,zone:r,specificOffset:a,invalidReason:o}=UT(e,t,i);return [n,r,a,o]}(a,e,t);return u?TA.invalid(u):pA(o,s,i,`format ${t}`,e,l)}static fromString(e,t,i={}){return TA.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,n]=function(e){return MI(e,[mT,uT],[fT,gT])}(e);return pA(i,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new NP("need to specify a reason the DateTime is invalid");const i=e instanceof OI?e:new OI(e,t);if(zw.throwOnInvalid)throw new EP(i);return new TA({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=qT(e,kw.fromObject(t));return i?i.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return GT(AI.parseFormat(e),kw.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?sA(this).weekYear:NaN}get weekNumber(){return this.isValid?sA(this).weekNumber:NaN}get weekday(){return this.isValid?sA(this).weekday:NaN}get ordinal(){return this.isValid?tA(this.c).ordinal:NaN}get monthShort(){return this.isValid?TT.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?TT.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?TT.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?TT.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return !this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return tI(this.year)}get daysInMonth(){return nI(this.year,this.month)}get daysInYear(){return this.isValid?iI(this.year):NaN}get weeksInWeekYear(){return this.isValid?aI(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:n}=AI.create(this.loc.clone(e),e).resolvedOptions(this);return {locale:t,numberingSystem:i,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(Dw.instance(e),t)}toLocal(){return this.setZone(zw.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if((e=Lw(e,zw.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||i){const t=e.offset(this.ts),i=this.toObject();[n]=cA(i,t,e);}return lA(this,{ts:n,zone:e})}return TA.invalid(oA(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){return lA(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=dI(e,_A),i=!Hw(t.weekYear)||!Hw(t.weekNumber)||!Hw(t.weekday),n=!Hw(t.ordinal),r=!Hw(t.year),a=!Hw(t.month)||!Hw(t.day),o=r||a,s=t.weekYear||t.weekNumber;if((o||n)&&s)throw new RP("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&n)throw new RP("Can't mix ordinal dates with month/day");let l;i?l=eA({...QT(this.c),...t}):Hw(t.ordinal)?(l={...this.toObject(),...t},Hw(t.day)&&(l.day=Math.min(nI(l.year,l.month),l.day))):l=iA({...tA(this.c),...t});const[u,d]=cA(l,this.o,this.zone);return lA(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;return lA(this,hA(this,PT.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return lA(this,hA(this,PT.fromDurationLike(e).negate()))}startOf(e){if(!this.isValid)return this;const t={},i=PT.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;}if("weeks"===i&&(t.weekday=1),"quarters"===i){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1;}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?AI.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):aA}toLocaleString(e=UP,t={}){return this.isValid?AI.create(this.loc.clone(t),e).formatDateTime(this):aA}toLocaleParts(e={}){return this.isValid?AI.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const a="extended"===e;let o=fA(this,a);return o+="T",o+=gA(this,a,t,i,n,r),o}toISODate({format:e="extended"}={}){return this.isValid?fA(this,"extended"===e):null}toISOWeekDate(){return mA(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:r=!1,format:a="extended"}={}){if(!this.isValid)return null;return (n?"T":"")+gA(this,"extended"===a,t,e,i,r)}toRFC2822(){return mA(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mA(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?fA(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return (t||e)&&(i&&(n+=" "),t?n+="z":e&&(n+="ZZ")),mA(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():aA}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return {};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return PT.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=(s=t,Array.isArray(s)?s:[s]).map(PT.normalizeUnit),a=e.valueOf()>this.valueOf(),o=OT(a?this:e,a?e:this,r,n);var s;return a?o.negate():o}diffNow(e="milliseconds",t={}){return this.diff(TA.now(),e,t)}until(e){return this.isValid?IT.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return !1;const i=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=i&&i<=n.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||TA.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(n=e.unit,r=void 0),wA(t,this.plus(i),{...e,numeric:"always",units:n,unit:r})}toRelativeCalendar(e={}){return this.isValid?wA(e.base||TA.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(TA.isDateTime))throw new NP("min requires all arguments be DateTimes");return $w(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(TA.isDateTime))throw new NP("max requires all arguments be DateTimes");return $w(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:n=null,numberingSystem:r=null}=i;return UT(kw.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,i={}){return TA.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return UP}static get DATE_MED(){return qP}static get DATE_MED_WITH_WEEKDAY(){return $P}static get DATE_FULL(){return YP}static get DATE_HUGE(){return KP}static get TIME_SIMPLE(){return XP}static get TIME_WITH_SECONDS(){return JP}static get TIME_WITH_SHORT_OFFSET(){return ZP}static get TIME_WITH_LONG_OFFSET(){return QP}static get TIME_24_SIMPLE(){return ew}static get TIME_24_WITH_SECONDS(){return tw}static get TIME_24_WITH_SHORT_OFFSET(){return iw}static get TIME_24_WITH_LONG_OFFSET(){return nw}static get DATETIME_SHORT(){return rw}static get DATETIME_SHORT_WITH_SECONDS(){return aw}static get DATETIME_MED(){return ow}static get DATETIME_MED_WITH_SECONDS(){return sw}static get DATETIME_MED_WITH_WEEKDAY(){return lw}static get DATETIME_FULL(){return uw}static get DATETIME_FULL_WITH_SECONDS(){return dw}static get DATETIME_HUGE(){return cw}static get DATETIME_HUGE_WITH_SECONDS(){return hw}}function AA(e){if(TA.isDateTime(e))return e;if(e&&e.valueOf&&Gw(e.valueOf()))return TA.fromJSDate(e);if(e&&"object"==typeof e)return TA.fromObject(e);throw new NP(`Unknown datetime argument: ${e}, of type ${typeof e}`)}function OA(e,t){const i=function(){const e=TA.now().offset/60;return `${e>0?"+":"-"}INTERVAL '${Math.abs(e)-1}:59:59' HOUR TO SECOND`}(),n=`EXTRACT(YEAR FROM ${e} ${i})`,r=`EXTRACT(MONTH FROM ${e} ${i})`,a=`EXTRACT(DAY FROM ${e} ${i})`,o=`EXTRACT(HOUR FROM ${e} ${i})`,s=`EXTRACT(MINUTE FROM ${e} ${i})`,l=`EXTRACT(SECOND FROM ${e} ${i})`;let u=[];switch(t){case sx:u=[n,r,a,o,s,l];break;case lx:u=[n,r,a,o,s];break;case ux:u=[n,r,a,o];break;case dx:case cx:case hx:case px:u=[n,r,a];}return u}function kA(e,t,i=fd().formatLocale){let n;switch(e){case Mb:n=new yr,n.language.locale=t,n.intlLocales=i;break;case Lb:n=new vr,void 0!==n.language&&(n.language.locale=t),n.intlLocales=i;}return n}function FA(e=fd().locale){return v(this,void 0,void 0,(function*(){let t=yield import('./errors.t9n.en-9352370d-b904a2d8.js');switch(e){case dd.Arabic:t=yield import('./errors.t9n.ar-83c6aad6-50d9f03e.js');break;case dd.Bosnian:t=yield import('./errors.t9n.bs-384cc29e-b366000c.js');break;case dd.Bulgarian:t=yield import('./errors.t9n.bg-702b604c-ca5fea35.js');break;case dd.Catalan:t=yield import('./errors.t9n.ca-412c2b28-cc929075.js');break;case dd.Czech:t=yield import('./errors.t9n.cs-9cbc4edc-2d66a022.js');break;case dd.Danish:t=yield import('./errors.t9n.da-871b6daa-e2cc8b70.js');break;case dd.German:t=yield import('./errors.t9n.de-46bbd7d1-dcc5103a.js');break;case dd.Greek:t=yield import('./errors.t9n.el-dfdb5ffd-428d1dda.js');break;case dd.EnglishUSA:t=yield import('./errors.t9n.en-US-81557c48-2a13ba6f.js');break;case dd.Spanish:t=yield import('./errors.t9n.es-ba074555-62798037.js');break;case dd.Estonian:t=yield import('./errors.t9n.et-b76ada08-1787bca5.js');break;case dd.Finnish:t=yield import('./errors.t9n.fi-33a8030d-7f8d7b2c.js');break;case dd.French:t=yield import('./errors.t9n.fr-2c7c3926-103c1d03.js');break;case dd.Hebrew:t=yield import('./errors.t9n.he-3f591f1b-f2dcc5f4.js');break;case dd.Croatian:t=yield import('./errors.t9n.hr-37b67f40-6b4f4ab6.js');break;case dd.Hungarian:t=yield import('./errors.t9n.hu-7ba41d3c-b4c5a466.js');break;case dd.Indonesian:t=yield import('./errors.t9n.id-fbce7ed9-f618fcb7.js');break;case dd.Italian:t=yield import('./errors.t9n.it-792e5725-ce9d56fb.js');break;case dd.Japanese:t=yield import('./errors.t9n.ja-bd15c353-351fb229.js');break;case dd.Korean:t=yield import('./errors.t9n.ko-86b452f4-a97f7ded.js');break;case dd.Lithuanian:t=yield import('./errors.t9n.lt-542b46d7-74895c43.js');break;case dd.Latvian:t=yield import('./errors.t9n.lv-76e30e72-7cac9bb4.js');break;case dd.NorwegianBokml:t=yield import('./errors.t9n.nb-2ba38c11-c369a57a.js');break;case dd.Dutch:t=yield import('./errors.t9n.nl-2efb4757-a83ec77c.js');break;case dd.Polish:t=yield import('./errors.t9n.pl-26af0784-f3ccfc6c.js');break;case dd.PortugueseBrazil:t=yield import('./errors.t9n.pt-BR-31a66980-b865e212.js');break;case dd.PortuguesePortugal:t=yield import('./errors.t9n.pt-PT-86e659cf-4d3dbe41.js');break;case dd.Romanian:t=yield import('./errors.t9n.ro-660eff8e-98c8aa39.js');break;case dd.Russian:t=yield import('./errors.t9n.ru-2dc547f9-1cb3a4b5.js');break;case dd.Serbian:t=yield import('./errors.t9n.sr-db8468b8-8e6490b6.js');break;case dd.Slovak:t=yield import('./errors.t9n.sk-c6d22469-56d510f4.js');break;case dd.Slovenian:t=yield import('./errors.t9n.sl-545ad334-0476712d.js');break;case dd.Swedish:t=yield import('./errors.t9n.sv-4dd754cd-28d17f55.js');break;case dd.Thai:t=yield import('./errors.t9n.th-7134be7e-5cea7db3.js');break;case dd.Turkish:t=yield import('./errors.t9n.tr-50331c74-b167f475.js');break;case dd.Ukrainian:t=yield import('./errors.t9n.uk-a5790d6e-49873bff.js');break;case dd.Vietnamese:t=yield import('./errors.t9n.vi-27376304-89129111.js');break;case dd.ChineseChina:t=yield import('./errors.t9n.zh-CN-629394ea-7765ccef.js');break;case dd.ChineseHongKong:t=yield import('./errors.t9n.zh-HK-db68ee6b-fe3c625e.js');break;case dd.ChineseTaiwan:t=yield import('./errors.t9n.zh-TW-a0550d48-b15c66a7.js');}return t}))}function DA(e){return v(this,void 0,void 0,(function*(){const t=yield FA(),i=t.errors[e];throw new Xh(t.modalHeaders.error,null!=i?i:t.errors.simpleError)}))}const MA="XAxisTitle",LA="YAxisTitle",EA="ChartTitle",jA="ChartSubTitle",VA="ChartFooter",RA="GuideLabel";function BA(e=":"){return !0===(!0!==fd().rtl)?`‎${e}`:`‏${e}`}function NA(e){let t=e=>e;if(null!=e&&e>0){const i=uP.chartEllipsis;t=t=>{let n="number"==typeof t?`${t}`:t;if(!1===sh(n)&&n!==uP.htmlEmptyContent){const t=li(n,e,"",!1);n=t.length<n.length?`${t}${i}`:t;}return n};}return t}function WA(e){return e=(e=(e=(e=(e=e.replace(/[\[]/g,"[[")).replace(/[\]]/g,"]]")).replace(/[\{]/g,"{{")).replace(/[\}]/g,"}}")).replace(/[\']/g,"''")}function zA(e){var t,i;const{chart:n,label:r,labelType:a}=e;let o=NaN;switch(a){case RA:n instanceof gy==!1&&(o=90===r.rotation||270===r.rotation?n.seriesContainer.measuredHeight:n.seriesContainer.measuredWidth);break;case MA:o=n.seriesContainer.measuredWidth;break;case LA:o=n.seriesContainer.measuredHeight;break;case EA:case jA:case VA:o=n.measuredWidth-20;}o>0&&(r.maxWidth=o,n.invalidateLabels(),n instanceof ey&&(null===(t=n.xAxes.getIndex(0))||void 0===t||t.invalidateLabels(),null===(i=n.yAxes.getIndex(0))||void 0===i||i.invalidateLabels()));}function HA(e){const{chart:t,labelType:i}=e;zA(e);const n=i===LA?1:0;t.events.on(SP,tP((()=>zA(e)),uP.debounceTime),n);}const GA=new Map;function UA(e){void 0!==e&&GA.delete(e);}function qA(e,t){var i;const n=null!==(i=GA.get(e))&&void 0!==i?i:{};GA.set(e,Object.assign(Object.assign({},n),t));}function $A(e,t){var i;return null===(i=GA.get(e))||void 0===i?void 0:i[t]}function YA(e,t){return $A(e,t)}function KA(e,t){qA(e,t);}function XA(e,t){return $A(e,t)}function JA(e,t){qA(e,t);}function ZA(e,t){return $A(e,t)}function QA(e,t){qA(e,t);}function eO(e,t){return $A(e,t)}function tO(e,t){qA(e,t);}function iO(e){var t,i,n;return null===(n=null===(i=null===(t=e.axes)||void 0===t?void 0:t[0])||void 0===i?void 0:i.valueFormat)||void 0===n?void 0:n.type}function nO(e){return e.intlOptions}function rO(e){return (null==e?void 0:e.type)===Mb}function aO(e){var t;return !0===rO(e)&&"percent"===(null===(t=e.intlOptions)||void 0===t?void 0:t.style)}function oO(e){return (null==e?void 0:e.type)===Db}function sO(e){return (null==e?void 0:e.type)===Lb}function lO(e,t){var i;const n=null!==(i=YA(e.chart.uid,"isNonAggregatedChart"))&&void 0!==i&&i,r=!1===n&&sO(t)&&e instanceof Ug,a=rO(t)&&e instanceof zg&&e instanceof Ug==!1,o=(oO(t)||!0===n)&&e instanceof Kg;return !1===r&&!1===a&&!1===o}function uO(e,t){let i="number"==typeof t?`${t}`:t;const n=ZA(e.uid,"numberFormatter");return void 0!==n&&(i=n(t)),!0===sh(i)&&(i=uP.htmlEmptyContent),dh(i)}function dO(e){const{axis:t,defaultOutput:i,dataItem:n}=e;let r=i;const a=ZA(t.uid,"categoryFormatter");if(void 0!==a&&n instanceof Yg){const e=JO(YA(t.chart.uid,"config"));r=a(OO({value:n.category,dataContext:n.dataContext,specificField:e}));}return !0===sh(r)&&(r=uP.htmlEmptyContent),dh(r)}function cO(e){e.renderer.labels.template.adapter.add("htmlOutput",((t,i)=>function(e){var t;const{axis:i,defaultOutput:n,dataItem:r}=e;let a=n;const o=ZA(i.uid,"dateFormatter");return void 0!==o&&r instanceof Gg&&(a=o(null!==(t=r.value)&&void 0!==t?t:n)),!0===sh(a)&&(a=uP.htmlEmptyContent),dh(a)}({axis:e,dataItem:null==i?void 0:i.dataItem,defaultOutput:t})),0),e.renderer.labels.template.adapter.disableKey("htmlOutput");}function hO(e){e instanceof zg&&e instanceof Ug==!1?function(e){e.renderer.labels.template.html=uP.htmlEmptyContent,e.renderer.labels.template.adapter.add("htmlOutput",((t,i)=>{var n,r;return uO(e,null!==(r=null===(n=null==i?void 0:i.dataItem)||void 0===n?void 0:n.value)&&void 0!==r?r:t)}),0);}(e):e instanceof Kg?function(e){e.renderer.labels.template.html=uP.htmlEmptyContent,e.renderer.labels.template.adapter.add("htmlOutput",((t,i)=>dO({axis:e,defaultOutput:t,dataItem:null==i?void 0:i.dataItem})),0);}(e):e instanceof Ug&&cO(e),function(e){e.renderer.labels.template.adapter.add("htmlOutput",(t=>{let i=t;const n=ZA(e.uid,"fontStyleCallback");return void 0!==n&&(i=n(i)),dh(i)}),1);}(e);}function pO(e,t,i){const n=kA(Mb,t);return n.numberFormat=e,t=>{let r="number"==typeof t?t:function(e,t){const[,i,,,,n]=1111.1.toLocaleString(t),r=e.replace(i,"").replace(n,".");return parseFloat(r)}(t,n.intlLocales);return !0===i&&"percent"===e.style&&(r/=100),n.format(r)}}function mO(e){const{axis:t,formatOptions:i,isNonAggregatedChart:n,categoryAxisFormatter:r}=e;let a;a=void 0!==r?r:!0===n&&sO(i)?function(e,t){return i=>{let n=i;return n=kA(Lb,t).format(n,e.intlOptions),n}}(i,t.chart.language.locale):NA(i.characterLimit),QA(t.uid,{categoryFormatter:a});}function fO(e){return v(this,void 0,void 0,(function*(){const{isNonAggregatedChart:t,axis:i,formatOptions:n,labelsTextSymbol:r,overridePercentMultiplication:a,axisValueFormatter:o}=e;i instanceof zg&&i instanceof Ug==!1&&!0===rO(n)?function(e){const{axis:t,formatOptions:i,overridePercentMultiplication:n,valueAxisFormatter:r}=e,a=nO(i);QA(t.uid,{numberFormatter:null!=r?r:pO(a,t.chart.language.locale,n)});}({axis:i,formatOptions:n,overridePercentMultiplication:a,valueAxisFormatter:o}):i instanceof Ug&&!0===sO(n)&&!0!==t?function(e){const{axis:t,formatOptions:i,dateAxisFormatter:n}=e;if(QA(t.uid,{dateFormatter:n}),void 0===n){t.renderer.labels.template.adapter.isEnabled("htmlOutput")&&(t.renderer.labels.template.adapter.disableKey("htmlOutput"),t.renderer.labels.each((e=>{e.element instanceof kn&&e.element.removeChildren();})));const e=nO(i);if(0!==Object.keys(e).length){const i=["year","month","week","day","hour","minute","second","millisecond"];for(let n=0;n<i.length;n+=1)t.dateFormats.setKey(i[n],e),t.periodChangeDateFormats.setKey(i[n],e);}}else t.renderer.labels.template.html=uP.htmlEmptyContent,t.renderer.labels.template.adapter.enableKey("htmlOutput");}({axis:i,formatOptions:n,dateAxisFormatter:o}):i instanceof Kg&&(!0===oO(n)||!0===t)?mO({axis:i,formatOptions:n,isNonAggregatedChart:t,categoryAxisFormatter:o}):yield DA("mismatchAxisAndValueFormat"),function(e){const{axis:t,labelsTextSymbol:i,axisValueFormatter:n}=e;if(void 0!==n)QA(t.uid,{fontStyleCallback:void 0});else if(void 0===ZA(t.uid,"fontStyleCallback")){const e=e=>uk({textSymbol:i,placeholderString:e,format:"html"});QA(t.uid,{fontStyleCallback:e});}}({axis:i,labelsTextSymbol:r,axisValueFormatter:o}),i.invalidateLabels();}))}function gO(e){var t,i,n;const{queryObject:r,chartConfig:a,options:o}=e,{runtimeDataFilters:s}=null!=o?o:{},{series:l,dataFilters:u}=a,{where:d,gdbVersion:c,timeExtent:h,geometry:p,distance:m,units:f}=null!=u?u:{},{where:g,gdbVersion:y,timeExtent:v,geometry:b,distance:x,units:C}=null!=s?s:{},S=l[0],{query:_}=S,{where:P}=null!=_?_:{},w=Th(l),I=Object.assign({},_);return I.where=Wh([d,g]),w!==Gd&&(I.where=Wh([I.where,P])),I.gdbVersion=null!=y?y:c,I.timeExtent=null!=v?v:h,I.geometry=function(e,t){let i=t;if(!0==(!1===yh(e))&&void 0!==e){const t=e.view.extent,{xmin:n,xmax:r,ymin:a,ymax:o,zmin:s,zmax:l,spatialReference:u}=t;i={xmin:n,ymin:a,zmin:s,xmax:r,ymax:o,zmax:l,spatialReference:u};}return i}(r,null!=b?b:p),I.distance=null!=x?x:m,I.units=null!=C?C:f,(null===(i=null===(t=null==_?void 0:_.outStatistics)||void 0===t?void 0:t[0])||void 0===i?void 0:i.statisticType)===Nv&&(I.returnDistinctValues=null!==(n=null==_?void 0:_.returnDistinctValues)&&void 0!==n&&n),I}function yO(e){var t;const{whereValue:i,outStatistics:n,y:r}=e;let a=null!==(t=yd.outStatistics.outStatisticFieldName)&&void 0!==t?t:"";return void 0!==(null==n?void 0:n.outStatisticFieldName)?a=n.outStatisticFieldName:void 0!==(null==n?void 0:n.onStatisticField)&&void 0!==n.statisticType?a=`${n.statisticType}_${n.onStatisticField}_${i}`:void 0!==r&&(a=r),a}function vO(e){return e.statisticType===$v||e.statisticType===Yv}function bO(e){var t,i,n;return v(this,void 0,void 0,(function*(){const{uniqueQuery:r,y:a,queryObject:o,isPieFromFields:s,isTimeBinningSeries:l,returnFeaturesExtent:u}=e,d=yd.outStatistics;if(void 0!==(null===(t=r.outStatistics)||void 0===t?void 0:t[0])){!0!==s&&(r.outStatistics[0].outStatisticFieldName=null!=a?a:d.outStatisticFieldName);const{outStatistics:e}=r;for(let t=0;t<e.length;t+=1){const n=r.outStatistics[t];void 0!==n&&!0===vO(n)&&(!0===l?(e[t].statisticType=Nv,delete e[t].statisticParameters):e[t]=Object.assign(Object.assign({},e[t]),{statisticParameters:null!==(i=e[t].statisticParameters)&&void 0!==i?i:{value:uP.defaultStatParameterValue}}));}}else if(void 0!==o){const e=Ch(yield bh(o));r.outStatistics=[{statisticType:d.statisticType,onStatisticField:e,outStatisticFieldName:null!=a?a:d.outStatisticFieldName}];}!0===u&&(null===(n=r.outStatistics)||void 0===n||n.push({statisticType:Kv,onStatisticField:"1"}));}))}function xO(e){var t,i;const{chartConfig:n,options:r,uniqueQuery:a}=e;if((null===(t=null==r?void 0:r.chartLimits)||void 0===t?void 0:t.behaviorAfterLimit)===ud){const e=WO(n,null==r?void 0:r.chartLimits);if(void 0!==e)if(!0===Lh(n.series)){if(void 0!==(null===(i=a.outStatistics)||void 0===i?void 0:i[0])){const t=(e,t)=>e.statisticType===Kv===t,i=a.outStatistics.filter((e=>t(e,!0))),n=a.outStatistics.filter((e=>t(e,!1)));n.splice(e),a.outStatistics=[...n,...i];}}else a.num=e;}}function CO(e){var t;return v(this,void 0,void 0,(function*(){const{chartConfig:i,queryConfig:n,options:r,queryObject:a,timeIntervalInfo:o}=e,{setTimeBinningInfoWhenNotProvided:s,returnFeaturesExtent:l}=null!=r?r:{},u=i.series,d=Th(u),c=!0===Fh({xAxisValueFormatType:iO(i),setTimeBinningInfoWhenNotProvided:s,seriesConfig:u[0]});let h={},p=new Map;const{query:m,x:f,y:g}=u[0];if(void 0!==m){h=w_(m);let e=!0===n.fetchNullValues?"":`${f} IS NOT NULL`;switch(d){case Gd:{const t=_h(m.where);""!==t&&(p=function(e){var t,i,n;const r=new Map;for(let a=0;a<e.length;a+=1){const o=w_(e[a]),s=null===(t=o.query)||void 0===t?void 0:t.where;if(void 0!==s){const t=Ph({where:s});if(""!==t){const s=yO({whereValue:t,outStatistics:null===(n=null===(i=o.query)||void 0===i?void 0:i.outStatistics)||void 0===n?void 0:n[0],y:o.y});e[a].y=s,r.set(t,s);}}}return r}(u),!0!==n.fetchNullValues&&(e=Wh([e,`${t} IS NOT NULL`])),function(e){const{uniqueQuery:t,splitByField:i,x:n}=e;void 0!==t.groupByFieldsForStatistics?!1===t.groupByFieldsForStatistics.includes(i)&&t.groupByFieldsForStatistics.push(i):t.groupByFieldsForStatistics=n===i?[n]:[n,i];}({uniqueQuery:h,splitByField:t,x:f}),yield bO({uniqueQuery:h,queryObject:a,isTimeBinningSeries:c,returnFeaturesExtent:l}));break}case Ud:!function(e,t){var i,n;for(let r=1;r<t.length;r+=1){const a=Object.assign({},null===(n=null===(i=t[r].query)||void 0===i?void 0:i.outStatistics)||void 0===n?void 0:n[0]);void 0!==a&&void 0!==e.outStatistics&&e.outStatistics.push(a);}}(h,u),yield bO({uniqueQuery:h,y:g,isTimeBinningSeries:c,returnFeaturesExtent:l});break;case qd:e="",function(e){void 0!==e.orderByFields&&(e.orderByFields=void 0);}(h),yield bO({uniqueQuery:h,y:g,isTimeBinningSeries:c,returnFeaturesExtent:l,isPieFromFields:!0});break;case zd:yield bO({uniqueQuery:h,y:g,isTimeBinningSeries:c,returnFeaturesExtent:l});}if(!0===c){const e=vh(a),{objectIdField:i}=e;!function(e){const{uniqueQuery:t,x:i,splitByField:n,timeIntervalUnits:r,queryType:a,objectIdField:o}=e;if(void 0!==r){const e=OA(i,r);t.orderByFields=e,t.groupByFieldsForStatistics=e,a===Gd&&!1===sh(n)?t.groupByFieldsForStatistics.push(n):a===Hd&&(t.groupByFieldsForStatistics.push(o),t.outStatistics=[{onStatisticField:o,outStatisticFieldName:`COUNT_${o}`,statisticType:Nv}]);}}({uniqueQuery:h,x:f,splitByField:_h(m.where),timeIntervalUnits:null!==(t=null==o?void 0:o.timeIntervalUnits)&&void 0!==t?t:u[0].timeIntervalUnits,queryType:d,objectIdField:i});}h.where=e;}xO({chartConfig:i,options:r,uniqueQuery:h});const{gdbVersion:y,geometry:v,distance:b,units:x,timeExtent:C,where:S}=n;return void 0!==y&&(h.gdbVersion=y),void 0!==v&&(h.geometry=v),void 0!==b&&(h.distance=b),void 0!==x&&(h.units=x),void 0!==C&&(h.timeExtent=C),void 0!==S&&(h.where=Wh([h.where,S])),{uniqueQuery:h,mapToStatField:p}}))}function SO(e){const{queryCalculatedExpr:t}=uP;return lh(e,t)}function _O(e){var t,i,n,r,a,o,s,l;let u="";return e instanceof Jg?u=null!==(o=null!==(r=null!==(i=null===(t=e.dataFields)||void 0===t?void 0:t.categoryX)&&void 0!==i?i:null===(n=e.dataFields)||void 0===n?void 0:n.dateX)&&void 0!==r?r:null===(a=e.dataFields)||void 0===a?void 0:a.valueX)&&void 0!==o?o:"":e instanceof _y&&(u=null!==(l=null===(s=e.dataFields)||void 0===s?void 0:s.category)&&void 0!==l?l:""),u}function PO(e){var t,i,n,r,a,o,s,l;let u="";return e instanceof Jg?u=null!==(o=null!==(r=null!==(i=null===(t=e.dataFields)||void 0===t?void 0:t.categoryY)&&void 0!==i?i:null===(n=e.dataFields)||void 0===n?void 0:n.dateY)&&void 0!==r?r:null===(a=e.dataFields)||void 0===a?void 0:a.valueY)&&void 0!==o?o:"":e instanceof _y&&(u=null!==(l=null===(s=e.dataFields)||void 0===s?void 0:s.value)&&void 0!==l?l:""),u}function wO(e){return !0===YA(e.chart.uid,"isRotated")?PO(e):_O(e)}function IO(e){return !0===YA(e.chart.uid,"isRotated")?_O(e):PO(e)}function TO(e,t=0){const i=YA(e.chart.uid,"config");return ih(null==i?void 0:i.series,t)}function AO(e){let t;return void 0!==(null==e?void 0:e[0])&&(t=e.reduce(((e,t)=>Object.assign(Object.assign({},e),{xmin:Math.min(e.xmin,t.xmin),xmax:Math.max(e.xmax,t.xmax),ymin:Math.min(e.ymin,t.ymin),ymax:Math.max(e.ymax,t.ymax)})),e[0])),t}function OO(e){const{value:t,dataContext:i,specificField:n}=e;let r=t;const{originalCategoryValue:a,originalDateValue:o}=uP;return void 0!==i&&(void 0!==n&&n in i?r=i[n]:o in i?r=i[o]:a in i?r=`${i[a]}`:Ax in i&&(r=`${i[Ax]}`)),r}function kO(e){const{arrayToSort:t,orderByFields:i,forceAscendingOrder:n,isNonAggregated:r,sortByXAxisField:a,seriesType:o}=e;void 0!==t&&t.sort(((e,t)=>{let s=0;for(let l=0;l<i.length;l+=1){const[u,d=uP.seriesSort]=i[l].split(" "),c=d.toLowerCase()===ex.Descending.toLowerCase()&&!0!==n;let h=!0===a&&o!==Vb?OO({value:`${e[u]}`,dataContext:e}):e[u],p=!0===a&&o!==Vb?OO({value:`${t[u]}`,dataContext:t}):t[u];if(!0===r&&!0===c&&!0===a&&(h=!1===Number.isNaN(parseFloat(`${h}`))?parseFloat(h):h,p=!1===Number.isNaN(parseFloat(`${p}`))?parseFloat(p):p),!0===a&&(null===e[uP.originalCategoryValue]||null===h)||!0===e[bd])s=1;else if(!0===a&&(null===t[uP.originalCategoryValue]||null===p)||!0===t[bd])s=-1;else if("string"==typeof h&&"string"==typeof p)s=h.localeCompare(p,void 0,{numeric:!0}),!0===c&&(s*=-1);else if(void 0===h)s=!1===c?1:-1;else if(void 0===p)s=!1===c?-1:1;else if(null!==h&&null!==p){if(h>p){s=!1===c?1:-1;break}if(h<p){s=!1===c?-1:1;break}}}return s}));}function FO(e,t){var i;const n=ih(t,0);let r=e;const a=null==t?void 0:t[0];if((n===Vb||n===Bb||n===Nb||n===zb)&&void 0!==a){const o=!0===Gx(e);let s=!0===o?e:e.dataItems;if(void 0!==e){const l=Th(t);if(n===Vb||l===Hd){const{originalCategoryValue:e,originalDateValue:t}=uP,{x:i}=a;s=s.map((n=>{var r,a;const o=Object.assign(Object.assign({},n),{[i]:null!==(a=null!==(r=n[t])&&void 0!==r?r:n[e])&&void 0!==a?a:n[i]});return delete o[t],delete o[e],o}));}if(!0===o)r=s;else {r={dataItems:s};const{timeIntervalInfo:t}=null!==(i=e)&&void 0!==i?i:{};!1===nP(t)&&(r.timeIntervalInfo=t);}}}return r}function DO(e){var t;const i=Object.assign({},e);delete i[uP.technicalSortingFieldBySum],delete i[uP.technicalSortingFieldByPercent],delete i[uP.pieChart.technicalFieldSlicePercent],delete i[uP.pieChart.technicalFieldGroupedSlices],delete i[yd.uniqueIdsName];const n=SO(i);return !0===n.isInItem&&delete i[null!==(t=n.expr)&&void 0!==t?t:""],i}function MO(e){var t;const{statsMap:i,dataContext:n,chartLimits:r}=e;let a=!1;if(void 0!==i){const{maxScatterPointsBeforeAggregation:e}=Dd(r),{queryNumberOfFeatures:n}=uP.scatterPlotAggregationFields;a=(null!==(t=i.get(n))&&void 0!==t?t:NaN)>=e;}else void 0!==n&&(a=!0===SO(n).isInItem);return a}function LO(e){const{dataContext:t,chartConfig:i,chartLimits:n}=e;let r=!0;if(void 0!==i){switch(ih(i.series,0)){case Nb:case Bb:r=function(e){let t=!0;const i=ih(e.series,0);i!==Nb&&i!==Bb||(t=Th(e.series)!==Hd);return t}(i);break;case jb:r=MO({dataContext:t,chartLimits:n});break;case Vb:r=function(e){return Th(e.series)!==Hd}(i);}}return r}function EO(e){let t=new Date(e).valueOf();return !1===Number.isNaN(t)&&(t=new Intl.DateTimeFormat("en-US",uP.dateFormatUTC).format(e).replace(",","")),t}function jO(e){const t=[],i=e[gd];for(const n in e)if(""!==n&&n!==gd&&n in e){const r={[Ax]:n,[Ox]:e[n]};void 0!==i&&(r[gd]=i),t.push(r);}return t}function VO(e,t){var i,n,r,a,o,s,l,u;const d=(null!==(n=null===(i=null==e?void 0:e[0])||void 0===i?void 0:i.slices)&&void 0!==n?n:[]).map((e=>{const{sliceId:t,label:i}=e;return {sliceId:t,label:i}})),c=(null!==(a=null===(r=null==t?void 0:t[0])||void 0===r?void 0:r.slices)&&void 0!==a?a:[]).map((e=>{const{sliceId:t,label:i}=e;return {sliceId:t,label:i}})),h=null===(s=null===(o=null==e?void 0:e[0])||void 0===o?void 0:o.sliceGrouping)||void 0===s?void 0:s.label,p=null===(u=null===(l=null==t?void 0:t[0])||void 0===l?void 0:l.sliceGrouping)||void 0===u?void 0:u.label;return JSON.stringify(d)!==JSON.stringify(c)||h!==p}function RO(e){var t;const{forceDataUpdate:i,oldConfig:n,newConfig:r,options:a,filterBySelection:o,timeIntervalInfo:s,currentSelectionDataItems:l,currentSelectionOIDs:u,currentSelectionIndexes:d}=e,{series:c}=r,{series:h}=n,p=ih(c);let m=!1,f=!1,g=!1;const y={common:{queryChanged:!1,xOrYChanged:!1,numberOfSeriesChanged:!1,configFiltersChanged:!1,filterBySelectionChanged:!1,dataForFilterBySelectionChanged:!1},lineChart:{timeBinningChanged:!1,timeIntervalUnitChanged:!1,newTimeBinningWillBeCalculated:!1},histogram:{dataPropsChanged:!1},gauge:{valueConversionChanged:!1}};y.common.queryChanged=function(e){const{oldSeries:t,newSeries:i,behaviorAfterLimit:n}=e;let r=!1;return r=!1===rP(lP(t.map((e=>n===ud?e.query:Object.assign(Object.assign({},e.query),{orderByFields:void 0}))),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"]),lP(i.map((e=>n===ud?e.query:Object.assign(Object.assign({},e.query),{orderByFields:void 0}))),["where","outStatistics[0].outStatisticFieldName","outStatistics[0].onStatisticField"])),r}({oldSeries:h,newSeries:c,behaviorAfterLimit:null===(t=null==a?void 0:a.chartLimits)||void 0===t?void 0:t.behaviorAfterLimit}),y.common.configFiltersChanged=function(e,t){return JSON.stringify(e.dataFilters)!==JSON.stringify(t.dataFilters)}(n,r),y.common.xOrYChanged=function(e,t){let i=!1;if(t[0].x!==e[0].x)i=!0;else {const n=ih(e,0);if(n!==Wb&&n!==Rb){const n=Math.min(e.length,t.length);for(let r=0;r<n;r+=1)if(e[r].y!==t[r].y){i=!0;break}}}return i}(h,c),y.common.filterBySelectionChanged=function(e,t){return e!==(null==t?void 0:t.filterBySelection)}(o,a),y.common.dataForFilterBySelectionChanged=function(e){var t,i,n,r;const{currentSelectionDataItems:a,currentSelectionOIDs:o,currentSelectionIndexes:s,options:l,chartConfig:u}=e;let d=!1;return !0===(null==l?void 0:l.filterBySelection)&&(d=(null===(t=u.dataSource)||void 0===t?void 0:t.type)===tx?!1===rP(a,null===(i=null==l?void 0:l.selectionData)||void 0===i?void 0:i.selectionItems)||!1===rP(s,null===(n=null==l?void 0:l.selectionData)||void 0===n?void 0:n.selectionIndexes):!1===rP(o,null===(r=null==l?void 0:l.selectionData)||void 0===r?void 0:r.selectionOIDs)),d}({currentSelectionDataItems:l,currentSelectionOIDs:u,currentSelectionIndexes:d,options:a,chartConfig:r});const{queryChanged:v,configFiltersChanged:b,xOrYChanged:x,filterBySelectionChanged:C,dataForFilterBySelectionChanged:S}=y.common;switch(f=!0===v||!0===b||!0===x||!0===C||!0===S,p){case Wb:y.histogram.dataPropsChanged=function(e,t){return e[0].binCount!==t[0].binCount}(h,c)||function(e,t){return e[0].dataTransformationType!==t[0].dataTransformationType}(h,c);break;case Bb:y.lineChart=function(e){var t;const{oldSeries:i,newConfig:n,oldTimeIntervalInfo:r,setTimeBinningInfoWhenNotProvided:a}=e,o=null===(t=n.series)||void 0===t?void 0:t[0];let s=!1,l=!1,u=!1;if(!0===Fh({seriesConfig:o,xAxisValueFormatType:iO(n),setTimeBinningInfoWhenNotProvided:a})){const e=i[0];s=(null==r?void 0:r.timeIntervalSize)!==o.timeIntervalSize||(null==e?void 0:e.timeAggregationType)!==o.timeAggregationType||(null==e?void 0:e.trimIncompleteTimeInterval)!==o.trimIncompleteTimeInterval||(null==e?void 0:e.nullPolicy)!==o.nullPolicy,l=(null==r?void 0:r.timeIntervalUnits)!==o.timeIntervalUnits,u=!0===a&&0===o.timeIntervalSize;}return {timeBinningChanged:s,timeIntervalUnitChanged:l,newTimeBinningWillBeCalculated:u}}({oldSeries:h,newConfig:r,oldTimeIntervalInfo:s,setTimeBinningInfoWhenNotProvided:null==a?void 0:a.setTimeBinningInfoWhenNotProvided});case Nb:case zb:y.common.numberOfSeriesChanged=function(e,t){return t.length!==e.length}(h,c);break;case Rb:y.gauge.valueConversionChanged=function(e,t){var i,n;return JSON.stringify(null===(i=e.series[0])||void 0===i?void 0:i.valueConversion)!==JSON.stringify(null===(n=t.series[0])||void 0===n?void 0:n.valueConversion)}(n,r);}return !0!==y.gauge.valueConversionChanged&&!0!==y.histogram.dataPropsChanged&&!0!==y.lineChart.timeBinningChanged&&!0!==y.lineChart.timeIntervalUnitChanged&&!0!==y.lineChart.newTimeBinningWillBeCalculated&&!0!==y.common.numberOfSeriesChanged||(g=!0),m=!0===i||!0===f||!0===g,{dataUpdateNeeded:m,updateNeededDetails:y}}function BO(e,t){let i=!0;if(void 0!==e&&e.length>1&&!1===sh(t)){let n=0,r=0,a=0;e.forEach((e=>{const i=e[t];!1===function(e){return null!=e&&!1===Number.isNaN(e)&&!0===Number.isFinite(e)}(i)||0===i?a+=1:i>0?n+=1:r+=1;})),i=a===e.length||n>=0&&0===r||0===n&&r>=0;}return i}function NO(e){const{countTotal:t,countPerSeries:i,numberOfSeries:n}=e;let r;const a=[];return !0===Number.isFinite(t)&&a.push(t),!0===Number.isFinite(i)&&a.push(i*n),a.length>0&&(r=Math.min(...a)),r}function WO(e,t){let i;const{maxBarUniqueSeriesCountTotal:n,maxBarTwoSeriesCountPerSeries:r,maxBarTwoSeriesCountTotal:a,maxBarThreePlusSeriesCountPerSeries:o,maxBarThreePlusSeriesCountTotal:s,maxLineChartMarkersCountTotal:l,maxLineChartSeriesCount:u,maxPieChartSliceCountTotal:d,maxGaugeByFeaturesLimit:c}=Dd(t),h=ih(e.series),p=0===e.series.length?1:e.series.length,m=Th(e.series);switch(h){case zb:case Nb:1===p?i=n:2===p?i=NO({countTotal:a,countPerSeries:r,numberOfSeries:p}):p>2&&(i=NO({countTotal:s,countPerSeries:o,numberOfSeries:p}));break;case Bb:i=NO({countTotal:l,countPerSeries:u,numberOfSeries:p});break;case Vb:i=d;break;case Rb:i=c;}return m!==Hd&&m!==Ud||void 0===i||(i=Math.ceil(i/p)),i}function zO(e,t,i){let n=null==e?void 0:e.toString();const r=kA(t.type,i);return ("number"==typeof e&&t.type===Mb||("number"==typeof e||e instanceof Date)&&t.type===Lb)&&(n=r.format(e,nO(t))),n}function HO(e){const{chart:t,config:i}=e;let n=i;return void 0===i&&void 0!==t&&(n=YA(t.uid,"config")),function(e){var t,i;let n=!1;if(void 0!==e){const r=ih(e.series);r!==To&&r!==Io&&r!==Oo||(n=!0===(null!==(i=null!==(t=e.rotated)&&void 0!==t?t:e.series[0].rotated)&&void 0!==i&&i));}return n}(n)}function GO(e){return "number"==typeof e?e:e.value}function UO(e,t){!1===t&&!1===e.isHiding?(e.visible=!1,e.hide()):!1===e.isShowing&&(e.visible=!0,e.show());}function qO(e){return e.x}function $O(e,t){var i,n,r,a,o,s,l;const u=ih(t)!==Vb&&(null===(i=e[0])||void 0===i?void 0:i.stackedType)!==(null===(n=t[0])||void 0===n?void 0:n.stackedType),d=function(e,t){var i,n,r;let a=ih(t)===Vb&&void 0!==(null===(i=null==t?void 0:t[0].query)||void 0===i?void 0:i.orderByFields);if(!0===a){const i=null===(n=e[0])||void 0===n?void 0:n.sortLabelsBy,o=null===(r=t[0])||void 0===r?void 0:r.sortLabelsBy;a=i===Tx&&i!==o||o===Tx&&o!==i;}return a}(e,t),[c]=null!==(l=null===(s=null===(o=null===(a=null===(r=t[0])||void 0===r?void 0:r.query)||void 0===a?void 0:a.orderByFields)||void 0===o?void 0:o[0])||void 0===s?void 0:s.split(" "))&&void 0!==l?l:[],h=void 0!==c&&c!==t[0].x&&!0===u||!0===d||!0===function(e,t){var i,n,r,a;const o=null===(n=null===(i=e[0])||void 0===i?void 0:i.query)||void 0===n?void 0:n.orderByFields,s=null===(a=null===(r=t[0])||void 0===r?void 0:r.query)||void 0===a?void 0:a.orderByFields;return JSON.stringify(o)!==JSON.stringify(s)}(e,t);return h}function YO(e){const t=null!=e?e:[0,0,0,255];return new $t({a:t[3]/255,b:t[2],g:t[1],r:t[0]})}function KO(e){return e.bullets.values.find((e=>$A(e.uid,"isBulletMarker")))}function XO(e){return new MP.exports.Chance(e.uid).guid()}function JO(e){var t,i;return (null===(t=null==e?void 0:e.dataSource)||void 0===t?void 0:t.type)===tx?null===(i=null==e?void 0:e.dataSource.configFields)||void 0===i?void 0:i.displayLabel:void 0}function ZO(e){return null!=e&&!0!==e.isDisposed()}function QO(e){return (!0===e.isShowing||!0===e.visible)&&!1===e.isHidden&&!1===e.isHiding&&!1===e.disabled&&!1===e.__disabled}function ek(e,t){var i,n;return e.pixelX<0||e.pixelX>(null===(i=null==t?void 0:t.plotContainer)||void 0===i?void 0:i.measuredWidth)||e.pixelY<0||e.pixelY>(null===(n=null==t?void 0:t.plotContainer)||void 0===n?void 0:n.measuredHeight)}function tk(e,t){let i=e;if(!0===Number.isFinite(e)){const{factor:e,offset:n}=null!=t?t:{};!0===Number.isFinite(e)&&(i*=e),!0===Number.isFinite(n)&&(i+=n);}return i}function ik(e){let t=NaN;if("number"==typeof e)t=e;else if(e.includes("%")){const i=Number.parseFloat(e.trim().replace("%","").trim());Number.isFinite(i)&&(t=A(i));}return t}function nk(e,t){let i,n,r=!0;switch(t){case pb:n=0;break;case mb:n=90;break;case hb:n=45;break;case ub:n=135;break;case cb:case db:n=0,r=!1;}return void 0!==n&&(i=function(e){var t,i,n,r,a,o,s,l,u,d;const{fill:c,rotation:h,isLinePattern:p}=e;let m;return !1!==p?(m=new Za,m.width=null!==(t=uP.patternLineProperties.width)&&void 0!==t?t:NaN,m.height=null!==(i=uP.patternLineProperties.height)&&void 0!==i?i:NaN,m.strokeWidth=null!==(n=uP.patternLineProperties.strokeWidth)&&void 0!==n?n:NaN,m.stroke=c,m.rotation=null!=h?h:NaN):(m=new eo,m.rectWidth=null!==(r=uP.patternRectProperties.rectWidth)&&void 0!==r?r:NaN,m.rectHeight=null!==(a=uP.patternRectProperties.rectHeight)&&void 0!==a?a:NaN,m.width=null!==(o=uP.patternRectProperties.width)&&void 0!==o?o:NaN,m.height=null!==(s=uP.patternRectProperties.height)&&void 0!==s?s:NaN,m.backgroundOpacity=null!==(l=uP.patternRectProperties.backgroundOpacity)&&void 0!==l?l:NaN,m.fillOpacity=null!==(u=uP.patternRectProperties.fillOpacity)&&void 0!==u?u:NaN,m.strokeWidth=null!==(d=uP.patternRectProperties.strokeWidth)&&void 0!==d?d:NaN,m.fill=YO(uP.color),m.backgroundFill=c,m.rotation=null!=h?h:NaN),m}({fill:e,rotation:n,isLinePattern:r})),i}function rk(e){let t=new $t({r:0,g:0,b:0,a:0});if(null!=e){const[i,n,r,a]=e;t=new $t({r:i,g:n,b:r,a:a/255});}return t}function ak(e,t=0){return (null!=e?e:t)%360}function ok(e,t){let i="none";switch(null!=e?e:t){case vb:case yb:i="center";break;case fb:i="left";break;case gb:i="right";}return i}function sk(e,t){let i="middle";switch(null!=e?e:t){case gb:i="left";break;case fb:i="right";}return i}function lk(e,t){let i=Cb;switch(null!=e?e:t){case xb:i="bottom";break;case Sb:i="top";break;default:i="middle";}return i}function uk(e){var t;const{textSymbol:i,placeholderString:n,format:r,defaults:a}=e,o=function(e){let t="";return void 0!==(null==e?void 0:e.style)&&(t=`font-style:${e.style};`),t}(null==i?void 0:i.font),s=!0===(null==i?void 0:i.kerning)?"letter-spacing:1px;":"";let l=null!==(t=null!=n?n:null==i?void 0:i.text)&&void 0!==t?t:"";if("html"===r){const{wrap:e,maxWidth:t}=null!=a?a:{};l=`<p style="margin:0;${o}${s}${!0===e&&!0===Number.isFinite(t)?`max-width: ${t}; word-break: break-word;`:""}">${l}</p>`;}else l=WA(l),""===o&&""===s||(l=`[${o}${s}]${l}[/]`);return l}function dk(e,t){const i=new Lr;return function(e,t){void 0!==t&&(void 0!==t.layout&&(e.layout=t.layout),void 0!==t.width&&(e.width=ik(t.width)),void 0!==t.height&&(e.height=ik(t.height)),void 0!==t.paddingTop&&(e.paddingTop=t.paddingTop),void 0!==t.paddingBottom&&(e.paddingBottom=t.paddingBottom));}(i,e),i.parent=t,i}function ck(e,t){e.disabled=!0===t;}function hk(e,t){t.events.on(CP,(()=>{((e,t)=>{var i,n,r,a,o,s,l,u,d;const{chartContainer:c,chartAndLegendContainer:h}=uP,p=YA(e.uid,"config");if(void 0!==p){const m=function(e){var t,i,n,r,a;let o=!1;const s=null===(t=e.legend)||void 0===t?void 0:t.visible,l=null===(n=null===(i=e.legend)||void 0===i?void 0:i.title)||void 0===n?void 0:n.content.text,u=null===(a=null===(r=e.legend)||void 0===r?void 0:r.title)||void 0===a?void 0:a.visible;return o=!1!==s&&!1!==u&&void 0!==l&&l.length>0,o}(p),f=null===(i=p.legend)||void 0===i?void 0:i.position;if(!0===m)switch(f){case Kb:e.chartAndLegendContainer.paddingTop=null!==(n=t.bbox.height)&&void 0!==n?n:0,e.chartContainer.paddingBottom=null!==(r=c.paddingBottom)&&void 0!==r?r:0;break;case Xb:e.chartContainer.paddingBottom=null!==(a=t.bbox.height)&&void 0!==a?a:0,e.chartAndLegendContainer.paddingTop=null!==(o=h.paddingTop)&&void 0!==o?o:0;break;default:e.chartAndLegendContainer.paddingTop=null!==(s=h.paddingTop)&&void 0!==s?s:0,e.chartContainer.paddingBottom=null!==(l=c.paddingBottom)&&void 0!==l?l:0;}else e.chartAndLegendContainer.paddingTop=null!==(u=h.paddingTop)&&void 0!==u?u:0,e.chartContainer.paddingBottom=null!==(d=c.paddingBottom)&&void 0!==d?d:0;}})(e,t);}));}function pk(e,t){const i={stroke:rk(),strokeWidth:uP.lineWidth,strokeDasharray:"",strokeLinecap:!0!==t?"round":"square",strokeOpacity:1};return null!=e&&(i.stroke=rk(e.color),i.strokeOpacity=1,void 0!==e.width&&(i.strokeWidth=e.width),void 0!==e.style&&e.style!==tb&&(i.strokeDasharray=function(e,t){var i,n;const r=null!==(i=e)&&void 0!==i?i:ib,a=null!=t?t:uP.lineWidth,o={[ib]:"none",[eb]:[1,a],[Qv]:[4*a,a,1,a,1,a],[Jv]:[4*a,3*a],[Zv]:[4*a,3*a,1,3*a],[tb]:"none"};return (null!==(n=o[r])&&void 0!==n?n:o[tb]).toString()}(e.style,i.strokeWidth),i.strokeLinecap=function(e,t){return !0!==t||!0===(null==e?void 0:e.includes("Dot"))?"round":"square"}(e.style,t))),i}function mk(e,t){var i,n;let r=e;const[a,o,s,l]=null!==(n=null!==(i=null==e?void 0:e.color)&&void 0!==i?i:t)&&void 0!==n?n:uP.color,u=[a,o,s,l];return null==r?r={type:_b,color:u}:void 0===r.color&&(r.color=u),pk(r,!1)}function fk(e){const{color:t,outline:i,xoffset:n,yoffset:r,style:a,size:o,angle:s}=e,l=void 0!==a?function(e,t){let i="";const n=(null!=t?t:0)/2,r=0-n,a=0+n,o=0-n,s=0+n;switch(e){case nb:i=`M ${r},0 a ${n},${n} 0 1,0 ${2*n},0 a ${n},${n} 0 1,0 ${2*-n},0`;break;case rb:i=`M ${r},0 L ${a},0 M 0,${o} L 0,${s} E`;break;case ab:i=`M ${r},0 L 0,${o} L ${a},0 L 0,${s} L ${r},0 Z`;break;case ob:i=`M ${r},${s} L ${r},${o} L ${a},${o} L ${a},${s} L ${r},${s} Z`;break;case lb:i=`M ${r},${s} L 0,${o} L ${a},${s} L ${r},${s} Z`;break;case sb:i=`M ${r},${s} L ${a},${o} M ${r},${o} L ${a},${s} E`;}return i}(a,o):"",u=ak(s);return {path:l,fill:rk(t),outline:mk(i,t),xOffset:null!=n?n:0,yOffset:null!=r?r:0,angle:u}}function gk(e){var t,i;const{symbol:n,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:o=!1}=e;let s;if(!0===r){const e=o?.7:1;if(n.color=null!==(t=n.color)&&void 0!==t?t:Id({colorIndex:a,opacity:e}),ch(n)||hh(n)){const{outline:e}=n;void 0!==e&&(e.color=null!==(i=null==e?void 0:e.color)&&void 0!==i?i:Id({colorIndex:a}),n.outline=Object.assign({},e));}}return !function(e){return e.type===vo}(n)?hh(n)?s=fk(n):ch(n)&&(s=function(e){const{color:t,outline:i,style:n}=e,r=rk(t);return {pattern:nk(r,n),fill:r,outline:mk(i,t)}}(n)):s=pk(n,!0),s}function yk(e,t){var i,n,r,a,o,s,l,u,d,c,h,p,m,f,g,y,v;const b=sk(e.horizontalAlignment,null==t?void 0:t.horizontalCenter),x=ok(e.horizontalAlignment,null==t?void 0:t.align),C=lk(e.verticalAlignment,null==t?void 0:t.verticalCenter),S=function(e,t){let i="none";switch(null!=e?e:t){case bb:case Cb:i="middle";break;case xb:i="top";break;case Sb:i="bottom";}return i}(e.verticalAlignment,null==t?void 0:t.valign);return {fill:rk(e.color),fontFamily:null!==(n=null===(i=e.font)||void 0===i?void 0:i.family)&&void 0!==n?n:"Arial, Helvetica, sans-serif",fontSize:null!==(a=null===(r=e.font)||void 0===r?void 0:r.size)&&void 0!==a?a:uP.generalFontSize,fontWeight:null!==(s=null===(o=e.font)||void 0===o?void 0:o.weight)&&void 0!==s?s:"400",textDecoration:null!==(u=null===(l=e.font)||void 0===l?void 0:l.decoration)&&void 0!==u?u:"none",align:x,valign:S,verticalCenter:C,horizontalCenter:b,text:uk({textSymbol:e}),angle:ak(e.angle,null==t?void 0:t.rotation),xOffset:null!==(c=null!==(d=e.xoffset)&&void 0!==d?d:null==t?void 0:t.dx)&&void 0!==c?c:0,yOffset:null!==(p=null!==(h=e.yoffset)&&void 0!==h?h:null==t?void 0:t.dy)&&void 0!==p?p:0,backgroundFill:rk(e.backgroundColor),borderFill:rk(e.borderLineColor),borderWidth:null!==(m=e.borderLineSize)&&void 0!==m?m:1,haloSize:null!==(f=e.haloSize)&&void 0!==f?f:-1,haloColor:rk(e.haloColor),rtl:null!==(g=e.rightToLeft)&&void 0!==g?g:fd().rtl,wrap:null!==(y=null==t?void 0:t.wrap)&&void 0!==y&&y,maxWidth:null!==(v=null==t?void 0:t.maxWidth)&&void 0!==v?v:NaN}}function vk(e,t){void 0!==t&&(void 0!==t.marginBottom&&(e.marginBottom=t.marginBottom),void 0!==t.marginTop&&(e.marginTop=t.marginTop),void 0!==t.marginRight&&(e.marginRight=t.marginRight),void 0!==t.marginLeft&&(e.marginLeft=t.marginLeft),void 0!==t.verticalCenter&&(e.verticalCenter=lk(t.verticalCenter)),void 0!==t.horizontalCenter&&(e.horizontalCenter=sk(t.horizontalCenter)),void 0!==t.strokeWidth&&(e.strokeWidth=t.strokeWidth),void 0!==t.wrap&&(e.wrap=t.wrap),void 0!==t.truncate&&(e.truncate=t.truncate),void 0!==t.maxWidth&&(e.maxWidth=t.maxWidth),void 0!==t.applyOnClones&&(e.applyOnClones=t.applyOnClones,e.background.applyOnClones=t.applyOnClones));}function bk(e,t){var i;const n=null!==(i=null==t?void 0:t.createChild(Kr))&&void 0!==i?i:new Kr;return vk(n,e),n}function xk(e,t,i){if(i.alpha>0&&t>=0){0===e.length&&function(e){const t=e.push(new Ta);t.dx=1,t.dy=1,t.opacity=1;}(e);const n=e.getIndex(0);n.blur=t,n.color=i;}else e.clear();}function Ck(e,t,i){if(void 0!==t){const n=yk(t.content,i);e.fill=n.fill,e.fontFamily=n.fontFamily,e.fontWeight=n.fontWeight,e.fontSize=n.fontSize,e.textDecoration=n.textDecoration,e.align=n.align,e.valign=n.valign,e.verticalCenter=n.verticalCenter,e.horizontalCenter=n.horizontalCenter,e.text=n.text,e.background.fill=n.backgroundFill,e.background.stroke=n.borderFill,e.background.strokeWidth=n.borderWidth,e.rotation=n.angle,e.dx=n.xOffset,e.dy=n.yOffset,e.rtl=n.rtl,e.wrap=n.wrap,e.maxWidth=n.maxWidth,xk(e.filters,n.haloSize,n.haloColor);const r=function(e,t){const i=eO(e.uid,"isGuide");let n=!1===t.visible;return !1!==n||!0!==i&&e instanceof Lg==1||""===t.content.text&&(n=!0),n}(e,t);e.disabled=r,UO(e,!1!==t.visible&&!1===r);}else e.disabled=!0;}function Sk(e,t){const{title:i,subTitle:n,headerContainer:r}=e;Ck(i,null==t?void 0:t.title,uP.titleLabel),Ck(n,null==t?void 0:t.subTitle,uP.titleLabel),ck(r,i.disabled&&n.disabled),zA({chart:i.parent,label:i,labelType:EA}),zA({chart:n.parent,label:n,labelType:jA});}function _k(e,t){const{footer:i,footerContainer:n}=e;Ck(i,t,uP.footer),ck(n,i.disabled||""===(null==t?void 0:t.content.text)),zA({chart:i.parent,label:i,labelType:VA});}function Pk(e,t){void 0!==t&&(e!==Nb&&e!==Bb&&e!==Wb||t.adapter.add("dy",((e,t)=>{const i=t.dataItem,{chart:n}=null==i?void 0:i.component;return t.visible=!1===ek(t,n),e})));}function wk(e,t){void 0!==t&&(e===Nb&&t.adapter.add("dx",((e,t)=>{var i;let n=e;const r=t.dataItem,{chart:a}=null==r?void 0:r.component;if(!0===(void 0!==a&&YA(a.uid,"isRotated"))){(null!==(i=r.valueX)&&void 0!==i?i:r.valueY)<0&&(n-=t.measuredWidth+uP.dataLabelNegative.paddingRight);}return n})),e!==Nb&&e!==Bb||t.adapter.add("dy",((e,t)=>{var i;let n=e;const r=t.dataItem,{chart:a}=null==r?void 0:r.component;if(!0!==(void 0!==a&&YA(a.uid,"isRotated"))){(null!==(i=r.valueX)&&void 0!==i?i:r.valueY)<0&&(n+=t.measuredHeight+uP.dataLabelNegative.paddingTop);}return n})));}function Ik(e){var t;e.bulletsContainer.invalidateLabels(),e instanceof $y&&(null===(t=e.columns)||void 0===t||t.template.invalidateLabels());}function Tk(e){const{dataValue:t,series:i,seriesType:n,stackedType:r,axisMin:a}=e;let o=void 0===t;return void 0!==t&&(void 0!==a&&t<a?o=!0:i instanceof $y&&(n===Nb||n===zb)&&(o=0===t&&void 0!==r&&r!==Jb)),o}function Ak(e,t){let i;const n=e=>{var t;return null!==(t=eO(e.uid,"isDataLabel"))&&void 0!==t&&t};return "bullets"===t?i=e.bullets.values.find(n):e instanceof $y&&(i=e.columns.template.children.values.find(n)),i}function Ok(e,t){e.adapter.add("htmlOutput",((e,i)=>{var n,r,a,o,s,l;let u=e;const{dataItem:d}=i;if(!0===QO(i)&&(t instanceof $y&&d instanceof qy||t instanceof ay&&d instanceof ry)){const e=XA(t.uid,t instanceof $y?"barSeriesDataLabelFormatter":"lineSeriesDataLabelFormatter");if(void 0!==e){const i=YA(t.chart.uid,"isRotated"),c=XA(t.uid,"stackedType"),h=!0===i?d.valueX:d.valueY,p=!0===i?null===(r=null===(n=d.values)||void 0===n?void 0:n.valueX)||void 0===r?void 0:r.totalPercent:null===(o=null===(a=d.values)||void 0===a?void 0:a.valueY)||void 0===o?void 0:o.totalPercent,m=!0===i?(null===(s=d.component)||void 0===s?void 0:s.xAxis).min:(null===(l=d.component)||void 0===l?void 0:l.yAxis).min;u=!0===Tk({dataValue:h,series:t,seriesType:t instanceof $y?Nb:Bb,stackedType:c,axisMin:m})?"":e(h,p);}}return dh(u)}),0);}function kk(e){const{numberFormatter:t,dataLabelsConfigContent:i,stackedType:n}=e;return (e,r)=>{let a=n===Qb&&void 0!==r?r:e;return "percent"===t.numberFormat.style&&(a/=100),uk({textSymbol:Object.assign(Object.assign({},i),{text:t.format(a)}),format:"html"})}}function Fk(e){var t;const{series:i,seriesType:n,dataLabel:r,labelDefaults:a,dataLabelsConfig:o,yAxisValueFormat:s,stackedType:l,isRotated:u,defaultDataLabelFormatter:d,customDataLabelFormatter:c}=e;if(void 0!==r){let e=c;const h=null!==(t=null==o?void 0:o.content)&&void 0!==t?t:{type:Ib};if(void 0===c&&void 0!==d&&(null==s?void 0:s.type)===Mb){const t=kA(s.type,i.chart.language.locale);t.numberFormat=s.intlOptions,e=d({numberFormatter:t,dataLabelsConfigContent:h,stackedType:l});}let p;switch(n){case Nb:p="barSeriesDataLabelFormatter";break;case Bb:p="lineSeriesDataLabelFormatter";break;case Wb:p="histogramDataLabelFormatter";break;case jb:p="scatterPlotDataLabelFormatter";}void 0!==p&&JA(i.uid,{[p]:e}),void 0!==o&&(o.content.text=!0===u?"{valueX}":"{valueY}",o.visible=!1!==o.visible),Ck(r,o,null!=a?a:uP.dataLabel),Ik(i);}}function Dk(e){return (null!=e?e:"sideBySide")===Jb}function Mk(e,t){let i,n;const r=Ak(e,"bullets"),a=Ak(e,"columns"),o=Dk(t);return !0===o&&void 0!==r?(i=r,n=a):!1===o&&(i=a,n=r),{labelToRender:i,labelToHide:n}}function Lk(e){const{series:t,stackedType:i,isRotated:n}=e;let{labelToRender:r,labelToHide:a}=Mk(t,i);if(void 0===r){const{newLabelToRender:e,newLabelToHide:n}=function(e,t){let i,n;const r=bk(uP.dataLabelInitialize);tO(r.uid,{isDataLabel:!0}),e.bullets.push(r);const a=bk(uP.dataLabelInitialize,e.columns.template);return tO(a.uid,{isDataLabel:!0}),Ok(a,e),Ok(r,e),e.events.on(SP,tP((()=>{!0===QO(a)&&a.clones.each((e=>{!0===QO(e)&&e.validate();}));}),uP.debounceTime)),a.html="{valueX}",r.html="{valueX}",!0===Dk(t)?(i=r,n=a):(i=a,n=r),Pk(Nb,r),wk(Nb,i),{newLabelToRender:i,newLabelToHide:n}}(t,i);r=e,a=n;}let o=uP.dataLabel;o=!1===Dk(i)?!0===n?uP.dataLabelStackedRotated:uP.dataLabelStackedNonRotated:!0===n?uP.dataLabelRotated:uP.dataLabel,void 0!==a&&(a.visible=!1,a.disabled=!0),r.html="{valueX}",Fk(Object.assign(Object.assign({},e),{dataLabel:r,labelDefaults:o,defaultDataLabelFormatter:kk,seriesType:Nb}));}const Ek={DataProcessComplete:"arcgisChartsJSDataProcessComplete",LegendItemVisibilityChange:"arcgisChartsJSLegendItemVisibilityChange",UpdateComplete:"arcgisChartsJSUpdateComplete",RenderingComplete:"arcgisChartsJSRenderingComplete",SelectionChange:"arcgisChartsJSSelectionChange",SeriesColorsChange:"arcgisChartsJSSeriesColorChange",AxesMinMaxChange:"arcgisChartsJSAxesMinMaxChange",SelectionComplete:"arcgisChartsJSSelectionComplete",TooManySelectedElements:"arcgisChartsJSTooManySelectedElements",BadDataWarningRaise:"arcgisChartsJSBadDataWarningRaise"};function jk(e){return {detail:e,composed:!0,cancelable:!0,bubbles:!0}}function Vk(e){const{data:t,seriesConfig:i,htmlContainer:n}=e;if(void 0!==n&&void 0!==t){let e=w_(t);e=FO(e,i),e=function(e,t){var i;let n=e;const r=ih(t);let a=jh({fetchedData:n,seriesType:r});if(void 0!==a)switch(r){case zb:case Nb:case Bb:case Vb:{a=a.map(DO),n={dataItems:a};const{timeIntervalInfo:t}=null!==(i=e)&&void 0!==i?i:{};!1===nP(t)&&(n.timeIntervalInfo=t);}break;case jb:n=Object.assign(Object.assign({},n),{dataItems:a.map(DO)});}return n}(e,i),n.dispatchEvent(new window.CustomEvent(Ek.DataProcessComplete,jk(e)));}}function Rk(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ek.UpdateComplete,jk(e)));}function Bk(e){void 0!==e&&e.dispatchEvent(new window.CustomEvent(Ek.RenderingComplete,jk()));}function Nk(e){const{data:t,seriesConfig:i,htmlContainer:n}=e;if(void 0!==n){const e=t;let r=w_(t.selectionItems);void 0!==r&&(r=FO(r,i),r=r.map(DO),e.selectionItems=r),n.dispatchEvent(new window.CustomEvent(Ek.SelectionComplete,jk(e)));}}function Wk(e,t){void 0!==t&&t.dispatchEvent(new window.CustomEvent(Ek.SeriesColorsChange,jk(e)));}function zk(e){const t=function(e){const t=new Lr;return t.width=A(100),t.height=A(100),t.background.fill=rk(uP.loaderBackground),t.parent=e,t}(e);!function(e){const t=new Kr;t.valign=Cb,t.align=yb,t.fontSize=uP.loaderLabelFontSize,t.dy=40,t.text="",t.parent=e;}(t);return {loaderPolygon:function(e){const t=new ga;return t.parent=e,t.align=yb,t.valign=Cb,t.path="M2.2 16A13.81 13.81 0 0 1 14 2.362v1.01a12.8 12.8 0 1 0 4 0v-1.01A13.792 13.792 0 1 1 2.2 16z",t.stroke=Yt("#007ac2"),t.strokeWidth=2,t}(t),loaderContainer:t,closeLoaderButton:function(e){const t=new Jr;return t.parent=e,t.align="right",t.marginRight=4,t.icon=new Dr,t.icon.path="M18.01 6.697L12.707 12l5.303 5.303-.707.707L12 12.707 6.697 18.01l-.707-.707L11.293 12 5.99 6.697l.707-.707L12 11.293l5.303-5.303z",t}(t)}}function Hk(e){let t,i,n,r;if(void 0!==e.preloader&&(e.preloader.disabled=!0),void 0!==e.tooltipContainer){const r=zk(e.tooltipContainer);t=r.loaderContainer,i=r.loaderPolygon,n=r.closeLoaderButton;}function a(){void 0!==r&&(window.clearInterval(r),r=void 0),void 0!==t&&(UO(t,!1),e instanceof ey&&(e.zoomOutButton.disabled=!1));}return a(),void 0!==n&&n.events.on(pP,(()=>{a();})),{hideLoader:a,showLoader:function(n){var a;!0===n&&(void 0===r&&void 0!==i&&(a=i,r=window.setInterval((()=>{a.animate({from:0,to:360,property:"rotation"},uP.loaderRotationSpeed);}),uP.loaderIntervalTimeout)),void 0!==t&&(UO(t),e instanceof ey&&(e.zoomOutButton.disabled=!0)));}}}function Gk(e){return e.values.every((e=>e.isReady()))}function Uk(e,t){e.events.on(dP,(()=>{void 0!==e.chart&&!0===Gk(e.chart.series)&&(t(),Bk(e.chart.htmlContainer));}));}const qk="custom-active",$k="custom-inactive",Yk="default",Kk="active",Xk="_esriFillColor",Jk="_esriFillOpacity",Zk="_esriFillStyle",Qk="_esriLineColor",eF="_esriLineOpacity",tF="_esriLineWidth",iF="_esriLineStyle",nF="_esriOutline",rF="_esriOutlineWidth",aF="_esriOutlineOpacity",oF="_esriOutlineStyle",sF="_esriMarkerSize";function lF(e){var t,i,n,r,a,o,s,l,u,d,c,h;const{y:p,keys:m}=e;let f="";return void 0!==p&&(f=`_${p}`),{fillColor:`${null!==(t=null==m?void 0:m.fillColor)&&void 0!==t?t:Xk}${f}`,fillOpacity:`${null!==(i=null==m?void 0:m.fillOpacity)&&void 0!==i?i:Jk}${f}`,fillStyle:`${null!==(n=null==m?void 0:m.fillStyle)&&void 0!==n?n:Zk}${f}`,lineColor:`${null!==(r=null==m?void 0:m.lineColor)&&void 0!==r?r:Qk}${f}`,lineOpacity:`${null!==(a=null==m?void 0:m.lineOpacity)&&void 0!==a?a:eF}${f}`,lineWidth:`${null!==(o=null==m?void 0:m.lineWidth)&&void 0!==o?o:tF}${f}`,lineStyle:`${null!==(s=null==m?void 0:m.lineStyle)&&void 0!==s?s:iF}${f}`,outlineColor:`${null!==(l=null==m?void 0:m.outlineColor)&&void 0!==l?l:nF}${f}`,outlineWidth:`${null!==(u=null==m?void 0:m.outlineWidth)&&void 0!==u?u:rF}${f}`,outlineOpacity:`${null!==(d=null==m?void 0:m.outlineOpacity)&&void 0!==d?d:aF}${f}`,outlineStyle:`${null!==(c=null==m?void 0:m.outlineStyle)&&void 0!==c?c:oF}${f}`,markerSize:`${null!==(h=null==m?void 0:m.markerSize)&&void 0!==h?h:sF}${f}`}}function uF(e,t=!1,i){let n;if(!0===t?n=i:void 0!==e.defaultSymbol.color&&(n=e.defaultSymbol.color.toRgba()),void 0!==n){const[e,t,i]=n;n=[e,t,i,178.5];}return n}function dF(e){const{series:t,layer:i,queryType:n,mapRendererColorToSeries:r}=e;if(void 0!==(null==i?void 0:i.renderer)){const e=i.renderer.type,a=ih([t]);switch(e){case Tb:!function(e){var t,i,n,r;const{flRenderer:a,series:o,queryType:s,seriesType:l,mapRendererColorToSeries:u}=e;if(void 0!==s&&(l===Nb||l===Bb||l===Vb)){const{rendererField:e}=mh(a);if(s===zd){if(o.x===e){if(void 0!==a.defaultSymbol&&null!==a.defaultSymbol){const e=uF(a);void 0!==e&&u.set(uP.rendererOtherValue,e);}a.uniqueValueInfos.forEach((e=>{var t,i;const n=uF(a,!0,null===(i=null===(t=e.symbol)||void 0===t?void 0:t.color)||void 0===i?void 0:i.toRgba());void 0!==n&&u.set(rh({value:`${e.value}`}),n);}));}}else if(s===Gd){const s=_h(null===(t=o.query)||void 0===t?void 0:t.where),l=Ph({where:null===(i=o.query)||void 0===i?void 0:i.where});if(s===e){const e=a.uniqueValueInfos.find((e=>rh({value:`${e.value}`})===l)),t=null!==(n=null==e?void 0:e.symbol)&&void 0!==n?n:a.defaultSymbol;if(void 0!==t){const e=uF(a,!0,null===(r=t.color)||void 0===r?void 0:r.toRgba());void 0!==e&&u.set(o.id,e);}}}}}({flRenderer:i.renderer,series:t,queryType:n,seriesType:a,mapRendererColorToSeries:r});break;case Ab:a===Vb||void 0!==n&&n!==zd||function(e){var t,i;const{flRenderer:n,series:r,mapRendererColorToSeries:a}=e;let o;const s=null===(i=null===(t=n.symbol)||void 0===t?void 0:t.color)||void 0===i?void 0:i.toRgba();if(null!=s){const[e,t,i]=s;o=[e,t,i,178.5];}void 0!==o&&a.set(r.id,o);}({flRenderer:i.renderer,series:t,mapRendererColorToSeries:r});break;case Ob:!0!==Lh([t])&&(a!==Nb&&a!==Bb&&a!==zb||n!==Ud&&n!==zd)||function(e){const{flRenderer:t,mapRendererColorToSeries:i}=e;t.attributes.forEach((e=>{const{field:t,color:n}=e;i.set(rh({value:`${t}`}),null==n?void 0:n.toRgba());}));}({flRenderer:i.renderer,mapRendererColorToSeries:r});}}}function cF(e){return v(this,void 0,void 0,(function*(){let t;try{const i=yield k$5(e);t=null==i?void 0:i.toJSON(),void 0!==t&&(t[3]=178.5);}catch(e){}return t}))}function hF(e){const{element:t,seriesConfig:i,mapRendererColorToSeries:n,rendererInfo:r,rendererElementColor:a}=e,{rendererType:o,rendererField:s}=null!=r?r:{},l=ih([i]),u=Th([i]);let d;return void 0!==a?d=a:void 0===n||o!==Tb&&o!==Ab&&o!==Ob||l!==Nb&&l!==Wb&&l!==Bb&&l!==Vb||(d=o===Ob?function(e){var t,i,n,r,a,o,s,l,u;const{element:d,mapRendererColorToSeries:c}=e;let h="";if(d instanceof va)h=OO({value:"",dataContext:null===(t=d.dataItem)||void 0===t?void 0:t.dataContext,specificField:uP.originalCategoryValue});else {const e=null===(i=d.dataItem)||void 0===i?void 0:i.component;if(e instanceof $y||e instanceof ay){const t=YA(e.chart.uid,"config");h=null!==(l=null===(s=null===(o=null===(a=null===(r=null===(n=null==t?void 0:t.series)||void 0===n?void 0:n.find((t=>t.id===e.id)))||void 0===r?void 0:r.query)||void 0===a?void 0:a.outStatistics)||void 0===o?void 0:o[0])||void 0===s?void 0:s.onStatisticField)&&void 0!==l?l:"";}}return null!==(u=c.get(rh({value:`${h}`})))&&void 0!==u?u:c.get(uP.rendererOtherValue)}({element:t,mapRendererColorToSeries:n}):void 0!==u&&u!==zd||!1!==sh(s)?function(e){const{seriesId:t,mapRendererColorToSeries:i}=e;return i.get(t)}({seriesId:i.id,mapRendererColorToSeries:n}):function(e){var t,i,n;const{element:r,mapRendererColorToSeries:a,rendererField:o}=e;let s;const l=null===(t=r.dataItem)||void 0===t?void 0:t.dataContext;if(void 0!==l){const e=OO({value:null!==(i=l[uP.originalCategoryValue])&&void 0!==i?i:l[o],dataContext:l,specificField:r.baseSprite instanceof wy?uP.typeOrDomainIdValue:l[uP.typeOrDomainFieldName]});"number"!=typeof e&&"string"!=typeof e||(s=null!==(n=a.get(rh({value:`${e}`})))&&void 0!==n?n:a.get(uP.rendererOtherValue));}return s}({element:t,mapRendererColorToSeries:n,rendererField:s})),d}function pF(e,t){var i,n,r,a;if(null!=t)if(Array.isArray(t)){if(t.length>=3&&"number"==typeof t[0]&&Number.isFinite(t[0])){const[r,a,o]=t,s=4===t.length?t[3]:null!==(n=null===(i=null==e?void 0:e.color)||void 0===i?void 0:i[3])&&void 0!==n?n:255;e.color=[r,a,o,s];}}else if("string"==typeof t){const i=Yt(t).rgb;if(void 0!==i){const{r:t,g:n,b:o}=i,s=void 0!==i.a?255*i.a:null!==(a=null===(r=null==e?void 0:e.color)||void 0===r?void 0:r[3])&&void 0!==a?a:255;e.color=[t,n,o,s];}}}function mF(e){var t;const{currentSymbol:i,dataKeys:n,dataItem:r,seriesIndex:a}=e;let o=w_(i);if(void 0===o.color&&(o.color=Id({colorIndex:a})),o=function(e){const{dataKeys:t,dataItem:i,currentSymbol:n}=e,r=Object.assign({},n);void 0!==t.fillColor&&pF(r,i[t.fillColor]);const a=t.fillOpacity;if(void 0!==a){const e=i[a];"number"==typeof e&&Number.isFinite(e)&&void 0!==(null==r?void 0:r.color)&&(r.color[3]=e);}return r}({dataKeys:n,dataItem:r,currentSymbol:o}),o.type!==_b&&(o.outline=function(e){const{dataKeys:t,dataItem:i,outline:n}=e,r=Object.assign({},n);if(void 0!==t.outlineColor&&pF(r,i[t.outlineColor]),void 0!==t.outlineWidth){const e=i[t.outlineWidth];"number"==typeof e&&Number.isFinite(e)&&(r.width=e);}if(void 0!==t.outlineOpacity){const e=i[t.outlineOpacity];"number"==typeof e&&Number.isFinite(e)&&void 0!==r.color&&(r.color[3]=e);}return r}({dataKeys:n,dataItem:r,outline:null!==(t=o.outline)&&void 0!==t?t:{type:_b}})),void 0!==n.markerSize&&i.type===Pb){const e=r[n.markerSize];"number"==typeof e&&Number.isFinite(e)&&(o.size=e);}return o}function fF(e){var t,i,n;const{element:r,y:a,seriesSymbol:o,seriesConfig:s,dataSource:l,seriesIndex:u}=e,{configFields:d}=l;let c;switch(ih([s])){case jb:case Nb:case Bb:case Vb:c=null===(t=r.dataItem)||void 0===t?void 0:t.dataContext;break;case Wb:c=null===(n=null===(i=r.dataItem)||void 0===i?void 0:i.dataContext)||void 0===n?void 0:n.symbol;}const h=function(e){const{configFields:t,dataItem:i,currentSymbol:n,y:r,seriesIndex:a}=e;let o=Object.assign({},n);void 0!==t&&void 0!==i&&(o=mF({currentSymbol:n,dataKeys:lF({y:r,keys:t}),dataItem:i,seriesIndex:a}));return o}({y:a,configFields:d,dataItem:c,seriesIndex:u,currentSymbol:o});if(void 0===h.color){const e=Id({colorIndex:u,opacity:1});h.color=e;}return h}function gF(e,t,i){void 0!==i&&void 0!==e.tooltip&&(e.tooltip.getFillFromObject=!1,e.tooltip.background.fill=t),e.fill=null!=i?i:t,e.fillOpacity=1;}function yF(e,t){e.stroke=t.stroke,e.strokeOpacity=1,e.strokeDasharray=t.strokeDasharray,e.strokeLinecap=t.strokeLinecap,e.strokeWidth=t.strokeWidth;}function vF(e){var t;const{element:i,markerSymbol:n,visible:r,defaultToColorFromRamp:a,colorRampIndex:o}=e;let s;return void 0!==n?(s=gk({symbol:Object.assign(Object.assign({},n),{size:null!==(t=i.minWidth)&&void 0!==t?t:n.size}),defaultToColorFromRamp:a,colorRampIndex:o}),void 0!==s&&(i.path=s.path,i.rotation=s.angle,i.dx=s.xOffset,i.dy=s.yOffset,gF(i,s.fill),yF(i,s.outline)),UO(i,r),i.disabled=!1===r):i.disabled=!0,s}function bF(e){const{element:t,lineSymbol:i,visible:n,defaultToColorFromRamp:r,colorRampIndex:a}=e;let o;return void 0!==i?(o=gk({symbol:i,defaultToColorFromRamp:r,colorRampIndex:a}),void 0!==o&&yF(t,o),UO(t,n)):UO(t,!1),o}function xF(e){const{element:t,fillSymbol:i,visible:n,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:o}=e;let s;return void 0!==i?(s=gk({symbol:i,defaultToColorFromRamp:r,colorRampIndex:a,isChartFillSymbol:o}),void 0!==s&&(gF(t,s.fill,s.pattern),yF(t,s.outline)),t.disabled=!1===n):t.disabled=!0,s}function CF(e){const{element:t,seriesConfig:i,dataSource:n,seriesIndex:r,seriesSymbol:a,isChartFillSymbol:o}=e;let s,l;if(i.colorType===qb)if(n.type===ix){const t=hF(e);void 0!==t&&(s=function(e){var t;const{symbol:i,color:n,colorIndex:r}=e,a=i,o=i.type!==_b;let[s,l,u,d]=Id({colorIndex:r});d*=.7;let[c,h,p,m]=[void 0,void 0,void 0,void 0];if(!0===o){const e=null===(t=a.outline)||void 0===t?void 0:t.color;void 0!==e&&([c,h,p,m]=e);}null!=n?([s,l,u,d]=n,[c,h,p]=n,d=178.5):void 0!==a.color&&([s,l,u,d]=a.color);let f=Object.assign(Object.assign({},a),{color:[s,l,u,d]});return !0===o&&(f=Object.assign(Object.assign({},f),{outline:Object.assign(Object.assign({},f.outline),{type:_b,color:[null!=c?c:s,null!=h?h:l,null!=p?p:u,null!=m?m:255]})})),f}({color:t,symbol:a,colorIndex:r}));}else s=fF(e);const u={element:t,defaultToColorFromRamp:!0,colorRampIndex:r},d=null!=s?s:Object.assign({},a);switch(a.type){case _b:l=bF(Object.assign(Object.assign({},u),{lineSymbol:d}));break;case wb:l=xF(Object.assign(Object.assign({},u),{fillSymbol:d,isChartFillSymbol:o}));break;case Pb:l=vF(Object.assign(Object.assign({},u),{markerSymbol:d}));}return {symbolWithColorInfo:d,stylingInfo:l}}function SF(e,t){var i;if(void 0!==t){const n=e.properties,{elementColor:r,elementOutlineColor:a,elementOutlineWidth:o,rotation:s,transformation:l}=t,{opacity:u,scale:d}=null!=l?l:{};void 0!==r&&(n.fill=YO(r),n.fillOpacity=1),void 0!==a&&(n.stroke=YO(a)),void 0!==o&&(n.strokeWidth=o),void 0!==s&&(n.rotation=s),void 0!==d&&(n.scale=d),void 0!==u&&(n.fillOpacity=(null!==(i=n.fillOpacity)&&void 0!==i?i:1)*u,void 0!==n.strokeOpacity&&(n.strokeOpacity*=u));}}function _F(e){var t,i,n;const{element:r,customSelectionTheme:a,useNativeState:o}=e,s=!0===o?Kk:qk,l=null!==(t=r.states.getKey(s))&&void 0!==t?t:r.states.create(s),u=null!==(i=r.states.getKey($k))&&void 0!==i?i:r.states.create($k),{selectedElementsTheme:d,nonSelectedElementsTheme:c}=null!==(n=null!=a?a:uP.selectionTheme)&&void 0!==n?n:{};SF(l,d),SF(u,c);}function PF(e){var t;const{element:i,selected:n,multiSelect:r,isDateOrCategoryAxis:a,useNativeState:o,backToDefaultState:s}=e;if(void 0!==i){let e=i.isActive;e=!0!==r?!0===a?!0!==i.isActive&&i.isActive!==n:n:i.isActive!==n,e!==i.isActive&&(i.isActive=e);const t=!0===o?Kk:qk,l=!0===s?Yk:$k;i.setState(!0===i.isActive?t:l,0);}return null!==(t=null==i?void 0:i.isActive)&&void 0!==t&&t}function wF(e){var t,i,n,r,a;let o=!1;const s=(null==e?void 0:e.target)instanceof Lg?null===(n=null===(i=null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.dataItem)||void 0===i?void 0:i.component)||void 0===n?void 0:n.chart:null==e?void 0:e.target;if(s instanceof ey||s instanceof wy){const t=YA(s.uid,"actionMode");void 0!==t&&(o=t===hg||t===pg&&(!0===(null===(r=null==e?void 0:e.event)||void 0===r?void 0:r.ctrlKey)||!0===(null===(a=null==e?void 0:e.event)||void 0===a?void 0:a.metaKey)));}return o}function IF(e){const t=e instanceof ey&&!0===e.zoomOutButton.isHover,i=!0===e.legend.isHover;let n=!1,r=!1,a=!1;return e instanceof ey&&(n=e.xAxes.values.some((e=>e.renderer.labels.template.events.has(pP)&&e.renderer.isHover)),r=e.yAxes.values.some((e=>e.renderer.labels.template.events.has(pP)&&e.renderer.isHover)),a=!0===n||!0===r),!1===t&&!1===i&&!1===a}function TF(e){let t=e;const i=e.toString().split(".");if(void 0!==i[1]){const n=i[1].length;t=e-Math.pow(10,-n);}return t}function AF(e){let t="field";switch(e){case Gb:t="natural-log";break;case Ub:t="square-root";}return t}function OF(e){return v(this,void 0,void 0,(function*(){const{queryConfig:t,chartConfig:i,queryObject:n,abortKey:r}=e,a=i.series[0],{x:o,dataTransformationType:s}=a;const{countIncludingNulls:l,countExcludingNulls:u,min:d,max:c}=yield function(e){var t,i,n,r;return v(this,void 0,void 0,(function*(){const{queryObject:a,fieldName:o,queryConfig:s,abortKey:l}=e,u=Ch(yield bh(a)),d=`${Nv}_${u}`,c=`${Nv}_${o}`,h=`${zv}_${o}`,p=`${Hv}_${o}`,m=Object.assign(Object.assign({},s),{outStatistics:[{statisticType:Nv,onStatisticField:u,outStatisticFieldName:d},{statisticType:Nv,onStatisticField:o,outStatisticFieldName:c},{statisticType:zv,onStatisticField:o,outStatisticFieldName:h},{statisticType:Hv,onStatisticField:o,outStatisticFieldName:p}]}),f=yield Zh({queryObject:a,queryConfig:m,abortKey:l}),g=null!==(t=f.get(d))&&void 0!==t?t:NaN;return {countExcludingNulls:null!==(i=f.get(c))&&void 0!==i?i:NaN,countIncludingNulls:g,min:null!==(n=f.get(h))&&void 0!==n?n:NaN,max:null!==(r=f.get(p))&&void 0!==r?r:NaN}}))}({queryObject:n,queryConfig:t,fieldName:o,abortKey:r}),h=Pp(s,d),p=u<2||d===c,m=Object.assign({},t);return m.where=Wh([m.where,`${o} is not null`]),{rawData:[],dataCompatibleWithTransformation:h,dataCountIncompatible:p,countExcludingNulls:u,countIncludingNulls:l}}))}function kF(e){var t,i,n;return v(this,void 0,void 0,(function*(){const{chartConfig:r,queryConfig:a,rawData:o,queryObject:s,countExcludingNulls:l,countIncludingNulls:u,options:d}=e,c=r.series[0],{dataTransformationType:y$1}=c;let v={valid:!0};if(void 0!==s){const e=vh(s),r=null===(i=null===(t=Hh(null==a?void 0:a.geometry))||void 0===t?void 0:t.extent)||void 0===i?void 0:i.toJSON(),b=void 0!==r,x=null!==(n=null==d?void 0:d.view)&&void 0!==n?n:function(e){const t=new j$2({layers:[]});return new le$1({map:t,extent:e})}(r),C=function(e){const{seriesConfig:t,rawData:i,layer:n,useFeaturesInView:r,view:a,queryConfig:o}=e,{x:s,dataTransformationType:l}=t;let u={layer:n,view:a,field:s,sqlWhere:o.where,useFeaturesInView:r};return l!==Hb&&(u=Object.assign(Object.assign({},u),{normalizationType:AF(l)})),u}({seriesConfig:c,rawData:o,layer:e,view:x,useFeaturesInView:b,queryConfig:a}),S=new d$x({geometry:x.extent});if(void 0!==x.extent&&!0===Mh(e)){const{distance:e,units:t}=a;void 0!==e&&(S.distance=e),void 0!==t&&(S.units=t);}let _;C.filter=S;try{_=yield y(C);}catch(e){const t=yield FA();throw new Xh(Yh,t.errors.queryError,e)}_=function(e){var t,i,n,r,a,o,s,l;const u=Object.assign({},e);return u.avg=null!==(t=u.avg)&&void 0!==t?t:NaN,u.count=null!==(i=u.count)&&void 0!==i?i:NaN,u.max=null!==(n=u.max)&&void 0!==n?n:NaN,u.min=null!==(r=u.min)&&void 0!==r?r:NaN,u.stddev=null!==(a=u.stddev)&&void 0!==a?a:NaN,u.sum=null!==(o=u.sum)&&void 0!==o?o:NaN,u.variance=null!==(s=u.variance)&&void 0!==s?s:NaN,u.median=null!==(l=u.median)&&void 0!==l?l:NaN,u}(_);const{avg:P,count:w,stddev:I,min:T,max:A,sum:O,median:k}=_;if(0===w)v=Object.assign({},wp(y$1));else {const t=function(e){const{seriesConfig:t,rawData:i,layer:n,useFeaturesInView:r,view:a,minValue:o,maxValue:s,valueExpression:l,queryConfig:u}=e,{x:d,binCount:c,dataTransformationType:h}=t;let p={layer:n,view:a,field:d,minValue:o,maxValue:s,numBins:null!=c?c:32,classificationMethod:"equal-interval",sqlWhere:u.where,useFeaturesInView:r};return h!==Hb&&(p=Object.assign(Object.assign({},p),{normalizationType:AF(h)})),p}({seriesConfig:c,layer:e,view:x,useFeaturesInView:b,rawData:o,minValue:TF(T),maxValue:A,valueExpression:C.valueExpression,queryConfig:a});let i;t.filter=S;try{i=yield w$8(t);}catch(e){const t=yield FA();throw new Xh(Yh,t.errors.queryError,e)}const n=function(e,t){let i=NaN;return void 0!==e&&void 0!==t&&(i=e-t),i}(u,l);v.data={mean:P,stddev:I,min:T,max:A,median:k,bins:null==i?void 0:i.bins,count:l,nulls:n,sum:O};}}return v}))}function FF(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryConfig:i,queryObject:n,options:r,abortKey:a}=e,{dataSource:o,series:s}=t,l=s[0],{rawData:u,dataCompatibleWithTransformation:d,dataCountIncompatible:c,countIncludingNulls:h,countExcludingNulls:p}=o.type===tx?function(e,t){const{x:i,dataTransformationType:n}=t,r=e.length,{transformedData:a,nonNullCount:o,min:s}=function(e){const{field:t,data:i,transformation:n}=e;let r=0,a=Number.MAX_SAFE_INTEGER;const o=[...i];for(let e=0;e<o.length;e+=1){let i=o[e][t];"number"==typeof i&&(a=Math.min(a,i),i=Tp(i,n),o[e][t]=i,r+=1);}return {transformedData:o,nonNullCount:r,min:a}}({field:i,data:e,transformation:n}),l=o<2;return {rawData:a,dataCompatibleWithTransformation:Pp(n,s),dataCountIncompatible:l,countExcludingNulls:o,countIncludingNulls:r}}(o.data.dataItems,l):yield OF({queryObject:n,chartConfig:t,queryConfig:i,abortKey:a});let m={valid:!0};return m=!1===d||!0===c?wp(l.dataTransformationType,c):o.type===tx?function(e,t){var i,n,r,a;const{x:o,binCount:s}=e,l={valid:!0};if(void 0!==t){const e=t.map((e=>e[o]));let u=[];u=Ip(null!=s?s:32)(e).map((e=>{var t,i;return {count:e.length,minValue:null!==(t=e.x0)&&void 0!==t?t:NaN,maxValue:null!==(i=e.x1)&&void 0!==i?i:NaN}}));const d=null!==(i=function(e,t){let i=0,n=0;for(let t of e)null!=t&&(t=+t)>=t&&(++i,n+=t);if(i)return n/i}(e))&&void 0!==i?i:NaN,c=null!==(n=function(e,t){const i=function(e,t){let i,n=0,r=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(i=t-r,r+=i/++n,a+=i*(t-r));else {let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(i=s-r,r+=i/++n,a+=i*(s-r));}if(n>1)return a/(n-1)}(e,void 0);return i?Math.sqrt(i):i}(e))&&void 0!==n?n:NaN,h=null!==(r=ts(e))&&void 0!==r?r:NaN,p=u[0].minValue,m=u[u.length-1].maxValue,f=null!==(a=is(e))&&void 0!==a?a:NaN,g=is(u,(e=>e.count));l.data={mean:d,median:h,stddev:c,min:p,max:m,bins:u,count:t.length,nulls:t.length-g,sum:f};}return l}(l,u):yield kF({chartConfig:t,rawData:u,queryObject:n,queryConfig:i,countIncludingNulls:h,countExcludingNulls:p,options:r,abortKey:a}),m}))}function DF(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,queryConfig:i,chartConfig:n,x:r}=e,{series:a}=n,{dataTransformationType:o}=a[0],s=Object.assign(Object.assign({},i),{orderByFields:[r]});return {valid:!0,data:{dataItems:(yield tp({queryObject:t,queryConfig:s,outFields:[r]})).map((e=>({[r]:Tp(e.attributes[r],o)})))}}}))}const MF={groupByCaseBegin:"CASE",groupByOutKeyword:"OUT",groupByCaseEnd:"ELSE 'OUT' END"};function LF(e){const{groupByFieldsForStatistics:t,x:i,y:n,xValue:r,yValue:a,xStep:o,yStep:s,endOfRow:l,endOfColumn:u}=e;let d=""===t?MF.groupByCaseBegin:t;return d=pd("${ groupByFieldsForStatistics } WHEN (${ y } ${ yMinOperand } ${ yValue } AND ${ y } ${ yMaxOperand } ${ yValuePlusStep } AND ${ x } ${ xMinOperand } ${ xValue } AND ${ x } ${ xMaxOperand } ${ xValuePlusStep }) THEN '${ xValue }|${ xValuePlusStep}|${ yValue }|${ yValuePlusStep }'",{groupByFieldsForStatistics:d,x:i,y:n,xValue:`${r}`,yValue:`${a}`,xValuePlusStep:`${r+(!0===u?0:o)}`,yValuePlusStep:`${a+(!0===l?0:s)}`,xMinOperand:!0===u?"=":">=",yMinOperand:!0===l?"=":">=",xMaxOperand:!0===u?"=":"<",yMaxOperand:!0===l?"=":"<"}),d}function EF(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryConfig:i,queryObject:n,xMin:r,xMax:a,yMin:o,yMax:s,abortKey:l}=e,u=t.series[0],{x:d,y:c}=u,h=Object.assign({},i);return h.where=Wh([h.where,`${d}>=${r}`,`${d}<=${a}`]),d!==c&&(h.where=Wh([h.where,`${c}>=${o}`,`${c}<=${s}`])),tp({queryObject:n,queryConfig:h,noBatch:!0,featureCount:1,abortKey:l})}))}function jF(t){var i,n,r,a,s,l,u;return v(this,void 0,void 0,(function*(){const{statsMap:d,chartConfig:c,queryObject:h,queryConfig:p,options:m,abortKey:f}=t,g=c.series[0],{x:y,y:b}=g,{dataContextXMinField:x,dataContextXMaxField:C,dataContextYMinField:S,dataContextYMaxField:_,dataContextCountDistinctX:P,dataContextCountDistinctY:w,queryNumberOfFeatures:I,queryNumberOfAggregatedFeatures:T}=uP.scatterPlotAggregationFields;let A=[];const O=null!==(i=null==d?void 0:d.get(x))&&void 0!==i?i:NaN,k=null!==(n=null==d?void 0:d.get(C))&&void 0!==n?n:NaN,F=null!==(r=null==d?void 0:d.get(I))&&void 0!==r?r:NaN,D=null!==(a=null==d?void 0:d.get(S))&&void 0!==a?a:O,M=null!==(s=null==d?void 0:d.get(_))&&void 0!==s?s:k;if(!1===Number.isNaN(O+k+D+M)){const t=vh(h),{maxScatterPointsAfterAggregation:i}=Dd(null==m?void 0:m.chartLimits),{maxScatterCellsPerQuery:n,maxScatterCellsPerQueryForStandard:r}={maxScatterCellsPerQuery:500,maxScatterCellsPerQueryForStandard:175,maxElementsPerSelectionQuery:25,maxOIDsPerSelectionQuery:2e3},a=yield function(t){return ns(this,void 0,void 0,(function*(){let i=!0;if(1==(!0===t.url.includes(".arcgis.com/"))&&void 0!==t.sourceJSON.serviceItemId){const n=function(e){let t=e.toLowerCase();const i=t.indexOf("/rest/services");return t=i>-1?e.substring(0,i):e,`${t}/rest/info`}(t.url);try{const t=(yield j$7(n,{query:{f:"json"}})).data;if(void 0!==t.owningTenant&&void 0!==t.owningSystemUrl){const n=`${t.owningSystemUrl}/sharing/rest/portals/${t.owningTenant}`,r=(yield j$7(n,{authMode:"immediate",query:{f:"json"}})).data,a=new j$h({sourceJSON:r});yield a.load(),i=void 0===a.sourceJSON.subscriptionInfo.dataStoreLevel;}}catch(e){}}return i}))}(t),s=!0===a?r:n,d=i,g=Math.floor(Math.sqrt(d)),x=yield function(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryObject:i,queryConfig:n,abortKey:r}=e,a=t.series[0],{x:o,y:s}=a,{dataContextCountDistinctX:l,dataContextCountDistinctY:u}=uP.scatterPlotAggregationFields,d=Object.assign(Object.assign({},n),{outStatistics:[{statisticType:Nv,outStatisticFieldName:l,onStatisticField:o},{statisticType:Nv,outStatisticFieldName:u,onStatisticField:s}],returnDistinctValues:!0});return yield Zh({queryObject:i,queryConfig:d,abortKey:r})}))}({queryObject:h,chartConfig:c,queryConfig:p,abortKey:f}),C=Math.min(null!==(l=x.get(w))&&void 0!==l?l:NaN,g),S=Math.min(null!==(u=x.get(P))&&void 0!==u?u:NaN,g),_=S*C,I=k===O?0:(k-O)/(S-1),L=M===D?0:(M-D)/(C-1);let E=0;const{objectIdField:j}=t,V=new Map,R=yield bh(h);null==R||R.forEach((e=>{!0===Sh(e)&&V.set(e.name,{onStatisticField:e.name,outStatisticFieldName:e.name,statisticType:Hv});}));const B=yield function(e){return ns(this,void 0,void 0,(function*(){const t=new Set;return !1===e.isTable&&(yield e.renderer.collectRequiredFields(t,e.fieldsIndex)),[...t]}))}(t);B.forEach((e=>{V.set(e,{onStatisticField:e,outStatisticFieldName:e,statisticType:Hv});})),V.set(j,{onStatisticField:j,outStatisticFieldName:T,statisticType:Nv}).set(y,{onStatisticField:y,outStatisticFieldName:y,statisticType:Hv}).set(b,{onStatisticField:b,outStatisticFieldName:b,statisticType:Hv});const N=[];let W=!0,z=O,H=D,G="",U=1,q=1,$=Number.MAX_SAFE_INTEGER,Y=Number.MIN_SAFE_INTEGER,K=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER;for(;q<=S&&!0===W;){for(H=D,U=1;U<=C&&!0===W;){if(G=LF({groupByFieldsForStatistics:G,x:y,y:b,xValue:z,yValue:H,xStep:I,yStep:L,endOfRow:U===C,endOfColumn:q===S}),z<$&&($=z),z+I>Y&&(Y=z+I),H<K&&(K=H),H+I>X&&(X=H+L),E+=1,E%s==0||E===_||E===F){G=`${G} ${MF.groupByCaseEnd}`;const e=Object.assign(Object.assign({},p),{groupByFieldsForStatistics:[G],outStatistics:[...V.values()]});N.push(EF({chartConfig:c,queryConfig:e,queryObject:h,xMin:$,xMax:Y,yMin:K,yMax:X,abortKey:f})),$=Number.MAX_SAFE_INTEGER,Y=Number.MIN_SAFE_INTEGER,K=Number.MAX_SAFE_INTEGER,X=Number.MIN_SAFE_INTEGER,G="",E===_&&(W=!1);}H+=L,U+=1;}z+=I,q+=1;}A=(yield Promise.all(N)).flat();}return A}))}var VF={exports:{}};!function(e){function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);}return e};function n(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var r={order:2,precision:2,period:null};function a(e,t){var i=[],n=[];e.forEach((function(e,r){null!==e[1]&&(n.push(e),i.push(t[r]));}));var r=n.reduce((function(e,t){return e+t[1]}),0),a=r/n.length,o=n.reduce((function(e,t){var i=t[1]-a;return e+i*i}),0);return 1-n.reduce((function(e,t,n){var r=i[n],a=t[1]-r[1];return e+a*a}),0)/o}function o(e,t){for(var i=e,n=e.length-1,r=[t],a=0;a<n;a++){for(var o=a,s=a+1;s<n;s++)Math.abs(i[a][s])>Math.abs(i[a][o])&&(o=s);for(var l=a;l<n+1;l++){var u=i[l][a];i[l][a]=i[l][o],i[l][o]=u;}for(var d=a+1;d<n;d++)for(var c=n;c>=a;c--)i[c][d]-=i[c][a]*i[a][d]/i[a][a];}for(var h=n-1;h>=0;h--){for(var p=0,m=h+1;m<n;m++)p+=i[m][h]*r[m];r[h]=(i[n][h]-p)/i[h][h];}return r}function s(e,t){var i=Math.pow(10,t);return Math.round(e*i)/i}var l={linear:function(e,t){for(var i=[0,0,0,0,0],n=0,r=0;r<e.length;r++)null!==e[r][1]&&(n++,i[0]+=e[r][0],i[1]+=e[r][1],i[2]+=e[r][0]*e[r][0],i[3]+=e[r][0]*e[r][1],i[4]+=e[r][1]*e[r][1]);var o=n*i[2]-i[0]*i[0],l=n*i[3]-i[0]*i[1],u=0===o?0:s(l/o,t.precision),d=s(i[1]/n-u*i[0]/n,t.precision),c=function(e){return [s(e,t.precision),s(u*e+d,t.precision)]},h=e.map((function(e){return c(e[0])}));return {points:h,predict:c,equation:[u,d],r2:s(a(e,h),t.precision),string:0===d?"y = "+u+"x":"y = "+u+"x + "+d}},exponential:function(e,t){for(var i=[0,0,0,0,0,0],n=0;n<e.length;n++)null!==e[n][1]&&(i[0]+=e[n][0],i[1]+=e[n][1],i[2]+=e[n][0]*e[n][0]*e[n][1],i[3]+=e[n][1]*Math.log(e[n][1]),i[4]+=e[n][0]*e[n][1]*Math.log(e[n][1]),i[5]+=e[n][0]*e[n][1]);var r=i[1]*i[2]-i[5]*i[5],o=Math.exp((i[2]*i[3]-i[5]*i[4])/r),l=(i[1]*i[4]-i[5]*i[3])/r,u=s(o,t.precision),d=s(l,t.precision),c=function(e){return [s(e,t.precision),s(u*Math.exp(d*e),t.precision)]},h=e.map((function(e){return c(e[0])}));return {points:h,predict:c,equation:[u,d],string:"y = "+u+"e^("+d+"x)",r2:s(a(e,h),t.precision)}},logarithmic:function(e,t){for(var i=[0,0,0,0],n=e.length,r=0;r<n;r++)null!==e[r][1]&&(i[0]+=Math.log(e[r][0]),i[1]+=e[r][1]*Math.log(e[r][0]),i[2]+=e[r][1],i[3]+=Math.pow(Math.log(e[r][0]),2));var o=s((n*i[1]-i[2]*i[0])/(n*i[3]-i[0]*i[0]),t.precision),l=s((i[2]-o*i[0])/n,t.precision),u=function(e){return [s(e,t.precision),s(s(l+o*Math.log(e),t.precision),t.precision)]},d=e.map((function(e){return u(e[0])}));return {points:d,predict:u,equation:[l,o],string:"y = "+l+" + "+o+" ln(x)",r2:s(a(e,d),t.precision)}},power:function(e,t){for(var i=[0,0,0,0,0],n=e.length,r=0;r<n;r++)null!==e[r][1]&&(i[0]+=Math.log(e[r][0]),i[1]+=Math.log(e[r][1])*Math.log(e[r][0]),i[2]+=Math.log(e[r][1]),i[3]+=Math.pow(Math.log(e[r][0]),2));var o=(n*i[1]-i[0]*i[2])/(n*i[3]-Math.pow(i[0],2)),l=(i[2]-o*i[0])/n,u=s(Math.exp(l),t.precision),d=s(o,t.precision),c=function(e){return [s(e,t.precision),s(s(u*Math.pow(e,d),t.precision),t.precision)]},h=e.map((function(e){return c(e[0])}));return {points:h,predict:c,equation:[u,d],string:"y = "+u+"x^"+d,r2:s(a(e,h),t.precision)}},polynomial:function(e,t){for(var i=[],r=[],l=0,u=0,d=e.length,c=t.order+1,h=0;h<c;h++){for(var p=0;p<d;p++)null!==e[p][1]&&(l+=Math.pow(e[p][0],h)*e[p][1]);i.push(l),l=0;for(var m=[],f=0;f<c;f++){for(var g=0;g<d;g++)null!==e[g][1]&&(u+=Math.pow(e[g][0],h+f));m.push(u),u=0;}r.push(m);}r.push(i);for(var y=o(r,c).map((function(e){return s(e,t.precision)})),v=function(e){return [s(e,t.precision),s(y.reduce((function(t,i,n){return t+i*Math.pow(e,n)}),0),t.precision)]},b=e.map((function(e){return v(e[0])})),x="y = ",C=y.length-1;C>=0;C--)x+=C>1?y[C]+"x^"+C+" + ":1===C?y[C]+"x + ":y[C];return {string:x,points:b,predict:v,equation:[].concat(n(y)).reverse(),r2:s(a(e,b),t.precision)}}};function u(){var e=function(e,n){return i({_round:s},e,t({},n,(function(e,t){return l[n](e,i({},r,t))})))};return Object.keys(l).reduce(e,{})}e.exports=u();}(VF);const RF={dataFormat:"json",outputFormat:"json",typeKey:"analyticType",typeValue:"LinRegR2",fieldValue:"onAnalyticField",slopePropertyList:["Slope","slope"],interceptPropertyList:["Intercept","intercept"],r2PropertyList:["R2","r2"]};function BF(t){var i,n,r,a;return v(this,void 0,void 0,(function*(){const{statsMap:o,queryObject:s,chartConfig:l,queryConfig:u}=t,d=l.series[0],{x:c,y:h}=d;let p=NaN,m=[{[c]:NaN,[h]:NaN},{[c]:NaN,[h]:NaN}];const{dataFormat:f,outputFormat:g,typeKey:y,typeValue:v,fieldValue:b,slopePropertyList:x,interceptPropertyList:C,r2PropertyList:S}=RF,_=`[{"${y}": "${v}", "${b}":"${c},${h}"}]`,P=yield function(t){var i,n,r,a,o,s;return ns(this,void 0,void 0,(function*(){const{queryObject:l,queryConfig:u,outputFormat:d,dataFormat:c,outAnalytics:h}=t,{where:p,geometry:m,distance:f,units:g}=u;let y;const v=vh(l),b={query:{where:Wh([p,v.definitionExpression])}},x=null===(n=null===(i=yield Hh(m))||void 0===i?void 0:i.extent)||void 0===n?void 0:n.toJSON();if(void 0!==x){const e=function(e){let t;switch(e){case"feet":t="esriSRUnit_Foot";break;case"miles":t="esriSRUnit_StatuteMile";break;case"nautical-miles":t="esriSRUnit_NauticalMile";break;case"us-nautical-miles":t="esriSRUnit_USNauticalMile";break;case"meters":t="esriSRUnit_Meter";break;case"kilometers":t="esriSRUnit_Kilometer";}return t}(g),{xmin:t,ymin:i,xmax:n,ymax:a}=x;b.query=Object.assign(Object.assign({},b.query),{geometryType:"esriGeometryEnvelope",geometry:`${t},${i},${n},${a}`,distance:f,units:e,inSR:null===(r=null==m?void 0:m.spatialReference)||void 0===r?void 0:r.wkid});}const C=`${v.url}/${v.layerId}/queryAnalytic?f=${d}&dataFormat=${c}&outAnalytics=${h}`;try{const t=yield j$7(C,b);y=null===(s=null===(o=null===(a=t.data)||void 0===a?void 0:a.features)||void 0===o?void 0:o[0])||void 0===s?void 0:s.attributes;}catch(e){const t=yield Jh();throw new Xh(Yh,t.queryError,e)}return y}))}({queryObject:s,queryConfig:u,outputFormat:g,dataFormat:f,outAnalytics:_});if(void 0!==P){let e=NaN,t=NaN;const{expr:s}=lh(P,x),{expr:l}=lh(P,C),{expr:u}=lh(P,S);void 0!==s&&Number.isFinite(P[s])&&(e=P[s]),void 0!==l&&Number.isFinite(P[l])&&(t=P[l]),void 0!==u&&Number.isFinite(P[u])&&(p=P[u]);const{dataContextXMinField:d,dataContextXMaxField:f,dataContextYMinField:g,dataContextYMaxField:y}=uP.scatterPlotAggregationFields,v=null!==(i=o.get(d))&&void 0!==i?i:NaN,b=null!==(n=o.get(f))&&void 0!==n?n:NaN,_=null!==(r=o.get(g))&&void 0!==r?r:NaN,w=null!==(a=o.get(y))&&void 0!==a?a:NaN,I=(b-v)/100;let T=v-I,A=NaN;for(;!1==(A>=_&&A<=w)&&T<=b;)T+=I,A=e*T+t;let O=b+I,k=NaN;for(;!1==(k>=_&&k<=w)&&O>=v;)O-=I,k=e*O+t;m=[{[c]:T,[h]:A},{[c]:O,[h]:k}];}return {r2:p,trendLinePoints:m}}))}function NF(e,t=!0){const{data:i,chartConfig:n,statsMap:r}=e,a=n.series[0],{x:o,y:s}=a;let{r2:l,trendLinePoints:u}=uP.scatterPlotSeries;const d=function(e){const{data:t,x:i,y:n}=e;let r=[];return void 0!==t&&(r=t.filter((e=>!0===Number.isFinite(e[i])&&!0===Number.isFinite(e[n]))).map((e=>[e[i],e[n]]))),r}({data:i,x:o,y:s});if(void 0!==d){const e=VF.exports.linear(d,{precision:uP.scatterPlotSeries.regressionPrecision});l=e.r2;const{points:i}=e;u=function(e){var t,i,n,r,a,o,s,l,u,d,c,h;const{x:p,y:m,statsMap:f,fullTrendlinePoints:g,securePoints:y}=e,{dataContextXMinField:v,dataContextXMaxField:b,dataContextYMinField:x,dataContextYMaxField:C}=uP.scatterPlotAggregationFields,S=null!==(t=f.get(v))&&void 0!==t?t:NaN,_=null!==(i=f.get(b))&&void 0!==i?i:NaN,P=null!==(n=f.get(x))&&void 0!==n?n:NaN,w=null!==(r=f.get(C))&&void 0!==r?r:NaN,I=!0===y?g.filter((e=>e[0]>=S&&e[1]>=P&&e[0]<=_&&e[1]<=w)):g;return [{[p]:null!==(o=null===(a=null==I?void 0:I[0])||void 0===a?void 0:a[0])&&void 0!==o?o:NaN,[m]:null!==(l=null===(s=null==I?void 0:I[0])||void 0===s?void 0:s[1])&&void 0!==l?l:NaN},{[p]:null!==(d=null===(u=null==I?void 0:I[I.length-1])||void 0===u?void 0:u[0])&&void 0!==d?d:NaN,[m]:null!==(h=null===(c=null==I?void 0:I[I.length-1])||void 0===c?void 0:c[1])&&void 0!==h?h:NaN}]}({x:o,y:s,fullTrendlinePoints:i,statsMap:r,securePoints:t});}return {r2:l,trendLinePoints:u}}function WF(t){return v(this,void 0,void 0,(function*(){const i=yield function(t){var i;return v(this,void 0,void 0,(function*(){const{chartConfig:n,queryObject:r}=t,{dataSource:a}=n;let o=!1;const s=yh(r),l=vh(r);if(!0===s&&a.type===ix&&l.source instanceof V$9==0){const t=vh(r),n=`${t.url}/${t.layerId}?f=json`;try{const r=(yield j$7(n)).data,a=!0===(null===(i=null==r?void 0:r.advancedQueryCapabilities)||void 0===i?void 0:i.supportsQueryAnalytic),s=void 0===(null==r?void 0:r.sqlParserVersion)||t.version>=10.91;o=!0===a&&!0===s;}catch(e){}}return o}))}(t),{chartConfig:n,statsMap:r,options:a}=t,o=n.series[0],{x:s,y:l}=o,{r2:u}=uP.scatterPlotSeries;let d={r2:u,trendLinePoints:[{[s]:NaN,[l]:NaN},{[s]:NaN,[l]:NaN}]},c=!1;if(!0===i)try{d=yield BF(t);}catch(e){c=!0;}return !1!==i&&!0!==c||!1!==MO({statsMap:r,chartLimits:null==a?void 0:a.chartLimits})||(d=NF(t)),d}))}function zF(e){var t,i;return v(this,void 0,void 0,(function*(){const{chartConfig:n,queryConfig:r,queryObject:a,abortKey:o}=e,{dataSource:s}=n,l=n.series[0],{x:u,y:d}=l;let c=new Map;const{dataContextXMinField:h,dataContextXMaxField:p,dataContextYMinField:m,dataContextYMaxField:f,queryNumberOfFeatures:g}=uP.scatterPlotAggregationFields;if(s.type===ix){const{objectIdField:e}=vh(a),n=[{statisticType:Nv,onStatisticField:e,outStatisticFieldName:g},{statisticType:zv,outStatisticFieldName:h,onStatisticField:u},{statisticType:Hv,outStatisticFieldName:p,onStatisticField:u}];u!==d&&n.push({statisticType:zv,outStatisticFieldName:m,onStatisticField:d},{statisticType:Hv,outStatisticFieldName:f,onStatisticField:d});const s=Object.assign({},r);s.outStatistics=n,c=yield Zh({queryObject:a,queryConfig:s,abortKey:o}),u===d&&(c.set(m,null!==(t=c.get(h))&&void 0!==t?t:NaN),c.set(f,null!==(i=c.get(p))&&void 0!==i?i:NaN));}else if(!1===s.processed){const{dataItems:e}=s.data,{minX:t,maxX:i,minY:n,maxY:r}=function(e){const{data:t,x:i,y:n}=e;let r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;return t.forEach((e=>{Number.isFinite(e[i])&&(r=Math.min(e[i],r)),Number.isFinite(e[i])&&(a=Math.max(e[i],a)),Number.isFinite(e[n])&&(o=Math.min(e[n],o)),Number.isFinite(e[n])&&(s=Math.max(e[n],s));})),{minX:r,maxX:a,minY:o,maxY:s}}({data:e,x:u,y:d});c.set(g,e.length),c.set(h,t),c.set(p,i),c.set(m,n),c.set(f,r);}return c}))}function HF(e){var t;return v(this,void 0,void 0,(function*(){let i=!1,n=[];const{chartConfig:r,queryConfig:a,queryObject:o,statsMap:s,options:l,abortKey:u}=e,{dataSource:d}=r,c=r.series[0],{x:h,y:p}=c;if(d.type===ix){const{queryNumberOfFeatures:e}=uP.scatterPlotAggregationFields,d=null!==(t=null==s?void 0:s.get(e))&&void 0!==t?t:NaN;if(!1===Number.isNaN(d)&&d>0){const e=Object.assign({},a);e.where=Wh([e.where,`${h} IS NOT NULL AND ${p} IS NOT NULL`]);const{maxScatterPointsBeforeAggregation:t}=Dd(null==l?void 0:l.chartLimits);d<t?n=yield function(e){var t,i;return v(this,void 0,void 0,(function*(){const{queryObject:n,queryConfig:r,chartConfig:a,featureCount:o,abortKey:s}=e,l=a.series[0],{x:u,y:d}=l,c=vh(n);let h=[];const p=yield bh(n),m=null!==(i=(null!==(t=null==p?void 0:p.filter((e=>!0===Sh(e)&&e.name!==u&&e.name!==d)))&&void 0!==t?t:[]).map((e=>e.name)))&&void 0!==i?i:[],f=[u,d,c.objectIdField,...m];if(!1===c.isTable){const{rendererField:e,rendererNormalizationField:t}=mh(c.renderer);!1===sh(e)&&f.push(e),!1===sh(t)&&f.push(t);}const g=Object.assign(Object.assign({},r),{orderByFields:[`${u} ${ex.Ascending}`]});return h=yield tp({queryObject:n,queryConfig:g,outFields:f,featureCount:o,abortKey:s}),h}))}({queryObject:o,chartConfig:r,queryConfig:e,featureCount:d,abortKey:u}):(i=!0,n=yield jF({chartConfig:r,queryObject:o,queryConfig:e,options:l,statsMap:s,abortKey:u}));}}else n=d.data.dataItems;return {rawData:n,hasBeenAggregated:i}}))}function GF(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryConfig:i,queryObject:n,sortData:r,calculateTrendline:a,options:o,abortKey:s}=e,l=yield zF(e),{rawData:u,hasBeenAggregated:d}=yield HF({queryObject:n,chartConfig:t,queryConfig:i,options:o,statsMap:l,abortKey:s}),c=yield function(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,chartConfig:i,rawData:n,hasBeenAggregated:r}=e,{dataSource:a}=i,o=i.series[0],{x:s,y:l}=o;let u=[];if(a.type===ix){const e=vh(t),{rendererType:i}=mh(e.renderer),a=e.objectIdField,{groupByOutKeyword:o}=MF,d=new MP.exports.Chance("arcgis-charts-scatter-seed"),{dataContextXMinField:c,dataContextXMaxField:h,dataContextYMinField:p,dataContextYMaxField:m}=uP.scatterPlotAggregationFields;u=yield Promise.all(n.map((e=>v(this,void 0,void 0,(function*(){let t=Object.assign({},e.attributes);if(!0===r){const{expr:e,isInItem:i}=SO(t);if(!0===i&&t[e]!==o){let[i,n,r,a]=t[e].split("|");i=Math.min(i,n),n=Math.max(i,n),r=Math.min(r,a),a=Math.max(r,a),t=Object.assign(Object.assign({},t),{[c]:i,[h]:n,[p]:r,[m]:a}),t[s]!==i&&t[s]!==n&&(t[s]=d.floating({min:0,max:1})*(n-i)+i),t[l]!==r&&t[l]!==a&&(t[l]=d.floating({min:0,max:1})*(a-r)+r);}}else t[yd.uniqueIdsName]=t[a];if(i!==Ob){const i=yield cF(e);void 0!==i&&(t[Xk]=i);}return t}))))),u=u.filter((e=>{const{expr:t}=SO(e);return void 0===t||e[t]!==o}));}else u=n;return u}))}({queryObject:n,chartConfig:t,rawData:u,hasBeenAggregated:d});!1!==r&&kO({arrayToSort:c,orderByFields:[`${t.series[0].x} ASC`]});const{r2:h,trendLinePoints:p}=!1!==a?yield WF({data:c,statsMap:l,queryConfig:i,options:o,queryObject:n,chartConfig:t}):uP.scatterPlotSeries;return {dataItems:c,r2:h,trendLinePoints:p}}))}function UF(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function qF(e,t){let i,n=0,r=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(i=t-r,r+=i/++n,a+=i*(t-r));else {let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(i=s-r,r+=i/++n,a+=i*(s-r));}if(n>1)return a/(n-1)}class $F extends Map{constructor(e,t=KF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,i]of e)this.set(t,i);}get(e){return super.get(YF(this,e))}has(e){return super.has(YF(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},i){const n=t(i);e.has(n)&&(i=e.get(i),e.delete(n));return i}(this,e))}}function YF({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function KF(e){return null!==e&&"object"==typeof e?e.valueOf():e}function XF(e){return e}function JF(e,t,i,n){return function e(r,a){if(a>=n.length)return i(r);const o=new $F,s=n[a++];let l=-1;for(const e of r){const t=s(e,++l,r),i=o.get(t);i?i.push(e):o.set(t,[e]);}for(const[t,i]of o)o.set(t,e(i,a));return t(o)}(e,0)}function ZF(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i<t||void 0===i&&t>=t)&&(i=t);else {let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(i<r||void 0===i&&r>=r)&&(i=r);}return i}function QF(e,t){let i;if(void 0===t)for(const t of e)null!=t&&(i>t||void 0===i&&t>=t)&&(i=t);else {let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(i>r||void 0===i&&r>=r)&&(i=r);}return i}function eD(e,t,i=0,n=e.length-1,r=UF){for(;n>i;){if(n-i>600){const a=n-i+1,o=t-i+1,s=Math.log(a),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);eD(e,t,Math.max(i,Math.floor(t-o*l/a+u)),Math.min(n,Math.floor(t+(a-o)*l/a+u)),r);}const a=e[t];let o=i,s=n;for(tD(e,i,t),r(e[n],a)>0&&tD(e,i,n);o<s;){for(tD(e,o,s),++o,--s;r(e[o],a)<0;)++o;for(;r(e[s],a)>0;)--s;}0===r(e[i],a)?tD(e,i,s):(++s,tD(e,s,n)),s<=t&&(i=s+1),t<=s&&(n=s-1);}return e}function tD(e,t,i){const n=e[t];e[t]=e[i],e[i]=n;}function iD(e,t,i){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else {let i=-1;for(let n of e)null!=(n=t(n,++i,e))&&(n=+n)>=n&&(yield n);}}(e,i)),n=e.length){if((t=+t)<=0||n<2)return QF(e);if(t>=1)return ZF(e);var n,r=(n-1)*t,a=Math.floor(r),o=ZF(eD(e,a).subarray(0,a+1));return o+(QF(e.subarray(a+1))-o)*(r-a)}}function nD(e,t){let i=0,n=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++i,n+=t);else {let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&(++i,n+=a);}if(i)return n/i}function rD(e,t,i){e=+e,t=+t,i=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+i;for(var n=-1,r=0|Math.max(0,Math.ceil((t-e)/i)),a=new Array(r);++n<r;)a[n]=e+n*i;return a}function aD(e,t){let i=0;if(void 0===t)for(let t of e)(t=+t)&&(i+=t);else {let n=-1;for(let r of e)(r=+t(r,++n,e))&&(i+=r);}return i}function oD(e){return v(this,void 0,void 0,(function*(){const{seriesData:t,chartConfig:i,queryConfig:n,queryObject:r,categoryOrDateCount:a,behaviorAfterLimit:o,abortKey:s}=e,{dataSource:l}=i,{series:u}=i;let d=t;const c=Th(u),h=iO(i);if(o!==ud&&l.type===ix&&void 0!==r&&void 0!==a&&a>t.length&&c!==Hd&&h===Db){const{x:e}=u[0],i=Object.assign(Object.assign({},n),{returnDistinctValues:!0});delete i.outStatistics,delete i.orderByFields,delete i.groupByFieldsForStatistics;const o=(yield tp({queryObject:r,queryConfig:i,outFields:[e],featureCount:a,abortKey:s})).map((t=>t.attributes[e])).filter((e=>null!=e));o.length>t.length&&(d=function(e,t,i){const n=new Map;for(let t=0;t<e.length;t+=1)n.set(e[t],{[i]:e[t]});for(let e=0;e<t.length;e+=1){const r=t[e][i];"string"!=typeof r&&"number"!=typeof r||n.set(r,t[e]);}return [...n.values()]}(o,t,e));}return d}))}function sD(e,t){let i=e;return t===cx?i/=7:t===hx?i/=30:t===px&&(i/=365),i=Math.ceil(i),i}function lD(e){const{date:t,timeIntervalUnits:i,nextOrPrevious:n,timeIntervalSize:r}=e;if(void 0!==r&&!0===Number.isFinite(r)){const e="next"===n?r:-r;switch(i){case sx:return TA.fromMillis(t).plus({seconds:e}).valueOf();case lx:return TA.fromMillis(t).plus({minutes:e}).valueOf();case ux:return TA.fromMillis(t).plus({hours:e}).valueOf();case cx:case dx:return TA.fromMillis(t).plus({days:e}).valueOf();case hx:return TA.fromMillis(t).plus({months:e}).valueOf();case px:return TA.fromMillis(t).plus({years:e}).valueOf()}}return t}function uD(e){var t;const{binFirstOrLastIndex:i,data:n,x:r,timeIntervalInfo:a}=e,{timeIntervalUnits:o,timeIntervalSize:s}=a,l=o===cx?7*(null!=s?s:1):s,u=n[i][r];let d=i;const c=lD({date:u,timeIntervalUnits:o,timeIntervalSize:l,nextOrPrevious:"next"});let h=n[d][r];for(;d+1<n.length&&h<c;)d+=1,h=null===(t=n[d])||void 0===t?void 0:t[r];const p=d+1>=n.length;let m=d;!0===p&&void 0!==n[m]&&(m+=1);return {binStartDate:u,binEndDate:!0===p?lD({date:u,timeIntervalUnits:o,timeIntervalSize:l,nextOrPrevious:"next"}):n[d][r]-1,last:p,nextBinFirstOrLastIndex:d,sliceStartIndex:i,sliceEndIndex:m}}function dD(e){var t;const{binFirstOrLastIndex:i,data:n,x:r,timeIntervalInfo:a}=e,{timeIntervalUnits:o,timeIntervalSize:s}=a,l=o===cx?7*(null!=s?s:1):s,u=n[i][r];let d=i;const c=lD({date:u,timeIntervalUnits:o,timeIntervalSize:l,nextOrPrevious:"previous"});let h=n[d][r];for(;d-1>=0&&h>c;)d-=1,h=null===(t=n[d])||void 0===t?void 0:t[r];const p=d-1<=0;let m=i;!0===p&&void 0!==n[m]&&(m-=1),!0===p&&(d=0);let f=!0===p?lD({date:u,timeIntervalUnits:o,timeIntervalSize:l,nextOrPrevious:"previous"}):n[d][r];return f+=1e3,{binStartDate:f,binEndDate:u,nextBinFirstOrLastIndex:d,sliceStartIndex:d,sliceEndIndex:m,last:p}}function cD(e){const{binsToRegroup:t,statisticType:i,y:n,nullPolicy:r}=e;let a;r!==gx&&(a=r===fx?0:null);const o=t.filter((e=>Number.isFinite(e[n])));if(o.length>0)switch(i){case Nv:case Wv:a=aD(o,(e=>e[n]));break;case zv:a=QF(o,(e=>e[n]));break;case Hv:a=ZF(o,(e=>e[n]));break;case Gv:a=nD(o,(e=>e[n]));}return a}function hD(e){const{dateMinTimestamp:t,dateMaxTimestamp:i,timeIntervalInfo:n}=e,{timeIntervalSize:r,timeIntervalUnits:a}=n;let o=0,s=0;if(void 0!==r&&!0===Number.isFinite(r)&&!0===Number.isFinite(t)&&!0===Number.isFinite(i)){let e=-1;const n=TA.fromMillis(t),l=TA.fromMillis(i);switch(a){case sx:e=l.diff(n,"seconds").get("seconds");break;case lx:e=l.diff(n,"minutes").get("minutes");break;case ux:e=l.diff(n,"hours").get("hours");break;case dx:case hx:case px:e=l.diff(n,"days").get("days");break;case cx:e=l.diff(n,"weeks").get("weeks");}!0===Number.isFinite(e)&&(s=Math.ceil(e)+1,o=1===r?s:Math.ceil(s/r));}return {numberOfFinalBinsWithinDataRange:o,numberOfSingleBinsWithinDataRange:s}}function pD(e){const{nullPolicy:t}=e[0],i=e.reduce(((e,i)=>{var n,r,a;e[uP.dateBinModel]=void 0;const o=null!==(a=null===(r=null===(n=i.query)||void 0===n?void 0:n.outStatistics)||void 0===r?void 0:r[0].outStatisticFieldName)&&void 0!==a?a:i.y;return t!==gx&&(e[o]=t===fx?0:null),e}),{});return i}function mD(e){const{newDateMin:t,newDateMax:i,seriesConfig:n,data:r,numberOfSingleBinsWithinDataRange:a,initialNumberOfBins:o,timeIntervalInfo:s}=e,{timeIntervalUnits:l}=s,u=r,d=!1===function(e){const{numberOfSingleBinsWithinDataRange:t,dataLength:i,timeIntervalUnits:n}=e;return sD(i,n)>=t}({numberOfSingleBinsWithinDataRange:a,dataLength:o,timeIntervalUnits:l});if(!0===d){const{x:e,timeAggregationType:a}=n[0],o=pD(n);let s=a===yx?i:t,d=a===yx?r.length-1:0;for(;a===yx&&s>t||a!==yx&&s<i;)s!==r[d][e]?u.push(Object.assign(Object.assign({},o),{[e]:s})):d=a===yx?d-1:d+1,s=lD({date:s,timeIntervalUnits:l===hx||l===px?dx:l,timeIntervalSize:1,nextOrPrevious:a===yx?"previous":"next"});}return u}function fD(e){const{groupByFieldsForStatistics:t,dateField:i,queryStartDate:n,queryEndDate:r,y:a,binIndex:o,lastBin:s}=e;let l=""===t?MF.groupByCaseBegin:t;return l=pd("${ groupByFieldsForStatistics } WHEN ${ dateField }>='${ startDate }' AND ${ dateField }${ endDateOperand }'${ endDate }' THEN '${ y }|${ binIndex}'",{groupByFieldsForStatistics:l,dateField:i,startDate:`${n}`,endDate:`${r}`,y:a,binIndex:`${o}`,endDateOperand:!0===s?"<=":"<"}),l}function gD(e){var t,i,n;return v(this,void 0,void 0,(function*(){const{queryObject:r,data:a,seriesConfig:o,queryConfig:s}=e,l=a,{statisticType:u}=null!==(n=null===(i=null===(t=o[0].query)||void 0===t?void 0:t.outStatistics)||void 0===i?void 0:i[0])&&void 0!==n?n:nx;if(u===$v&&l.length>0){const e=function*(e){var t,i,n;const{queryObject:r,seriesConfig:a,queryConfig:o,completeData:s}=e;for(let e=0;e<a.length;e+=1){const l=a[e],{query:u,x:d,y:c}=l,h=[{onStatisticField:null!==(n=null===(i=null===(t=null==u?void 0:u.outStatistics)||void 0===t?void 0:t[0])||void 0===i?void 0:i.onStatisticField)&&void 0!==n?n:"",outStatisticFieldName:$v,statisticType:$v,statisticParameters:{value:.5}}];let p=`${MF.groupByCaseBegin}`;for(let e=0;e<s.length;e+=1){const t=s[e],[i,n]=t[uP.dateBinningRange];p=fD({groupByFieldsForStatistics:p,queryStartDate:EO(i),queryEndDate:EO(n),dateField:d,y:c,binIndex:e,lastBin:e===s.length-1});}p=`${p} ${MF.groupByCaseEnd}`;const m=Object.assign(Object.assign({},o),{groupByFieldsForStatistics:[p],outStatistics:h,orderByFields:void 0});yield tp({queryObject:r,queryConfig:m,noBatch:!0});}}({queryObject:r,completeData:l,seriesConfig:o,queryConfig:s}),t=(yield Promise.all(e)).flat();if(t.length>0){const{isInItem:e,expr:i}=SO(t[0].attributes);!0===e&&t.forEach((e=>{const t=e.attributes[`${i}`];if(void 0!==t){const[i,n]=t.split("|");if(void 0!==n){const t=e.attributes[$v];l[n][`${i}`]=t;}}}));}}return l}))}function yD(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,data:i,x:n,queryConfig:r,seriesConfig:a,dateRange:o,timeIntervalInfo:s}=e,{dateMinTimestamp:l,dateMaxTimestamp:u}=o;let d=i;const c=i.length;if(kO({arrayToSort:d,orderByFields:[n]}),c>1){const{numberOfFinalBinsWithinDataRange:e,numberOfSingleBinsWithinDataRange:i}=hD({dateMinTimestamp:l,dateMaxTimestamp:u,timeIntervalInfo:s}),{newDateMin:o,newDateMax:h}=function(e){const{dateMaxTimestamp:t,numberOfFinalBinsWithinDataRange:i,numberOfSingleBinsWithinDataRange:n,data:r,seriesConfig:a,timeIntervalInfo:o}=e,{timeIntervalSize:s,timeIntervalUnits:l}=o,{timeAggregationType:u,x:d}=a[0];let c=r[0][d],h=t;if(void 0!==s&&!0===Number.isFinite(s)&&!0==(n/i!==s)){let e=Math.ceil(n/i)*i-n;l===cx&&(e*=7);const t=pD(a);if(u===yx){let i=r[0][d];for(let n=0;n<e;n+=1)i=lD({date:i,timeIntervalUnits:l,timeIntervalSize:1,nextOrPrevious:"previous"}),r.push(Object.assign(Object.assign({},t),{[d]:i}));e>0&&(c=r[r.length-1][d]);}else {let i=r[r.length-1][d];for(let n=0;n<e;n+=1)i=lD({date:i,timeIntervalUnits:l,timeIntervalSize:1,nextOrPrevious:"next"}),r.push(Object.assign(Object.assign({},t),{[d]:i}));h=r[r.length-1][d];}}return {newDateMin:c,newDateMax:h}}({dateMaxTimestamp:u,data:d,numberOfFinalBinsWithinDataRange:e,numberOfSingleBinsWithinDataRange:i,seriesConfig:a,timeIntervalInfo:s});d=mD({newDateMin:o,newDateMax:h,seriesConfig:a,data:d,initialNumberOfBins:c,numberOfSingleBinsWithinDataRange:i,timeIntervalInfo:s}),kO({arrayToSort:d,orderByFields:[n]}),d=function(e){var t,i,n;const{data:r,seriesConfig:a,timeIntervalInfo:o,newDateMin:s,newDateMax:l,dateMinTimestamp:u,dateMaxTimestamp:d}=e;let c=[];const{timeIntervalUnits:h}=o,p=null!==(t=o.timeIntervalSize)&&void 0!==t?t:1,{x:m,timeAggregationType:f,nullPolicy:g}=a[0];if(p>1||h===cx||h===hx||h===px){const{query:e}=a[0],t=Rh(a),{statisticType:h}=null!==(n=null===(i=null==e?void 0:e.outStatistics)||void 0===i?void 0:i[0])&&void 0!==n?n:nx;let p=!1,y=f===yx?r.length-1:0;const v={binFirstOrLastIndex:y,data:r,x:m,timeIntervalInfo:o,newDateMin:s,newDateMax:l};for(;!1===p;){let e={};const{binStartDate:i,binEndDate:n,last:a,nextBinFirstOrLastIndex:o,sliceStartIndex:s,sliceEndIndex:l}=f===yx?dD(v):uD(v);if(p=a,e=e=f===yx?r[l-1]:r[y],n>d&&i<d||i<u&&n>u||i>=u&&n<=d){const a=r.slice(s,l).filter((e=>uP.dateBinModel in e==0));t.forEach((t=>{e[t]=cD({binsToRegroup:a,statisticType:h,y:t,nullPolicy:g});}));const o=AO(a.map((e=>e[gd])).filter((e=>void 0!==e)));void 0!==o&&(e[gd]=o),e[m]=i,e[uP.dateBinningRange]=[i,n],delete e[uP.dateBinModel],c.push(e);}else !0===a&&f!==yx&&(c[c.length-1][uP.dateBinningRange][1]=c[c.length-1][uP.dateBinningRange][1]+1);y=o,v.binFirstOrLastIndex=o;}f===yx&&(c=c.reverse());}else c=1===p?r.map(((e,t)=>{var i;const n=e[m];let a=null===(i=r[t+1])||void 0===i?void 0:i[m];return a="number"==typeof a?a-1:lD({date:n,timeIntervalUnits:h,timeIntervalSize:p,nextOrPrevious:"next"}),Object.assign(Object.assign({},e),{[uP.dateBinningRange]:[n,a]})})):r;return c}({data:d,seriesConfig:a,dateMinTimestamp:l,dateMaxTimestamp:u,newDateMin:o,newDateMax:h,timeIntervalInfo:s}),d=function(e){var t,i;const{data:n,seriesConfig:r,dateMinTimestamp:a,dateMaxTimestamp:o}=e,{timeAggregationType:s}=r[0],l=n;if(!1!==r[0].trimIncompleteTimeInterval){const e=n[0][uP.dateBinningRange][0],r=n[n.length-1][uP.dateBinningRange][1];if(!0==(s===yx?e<a:r>o))if(s===yx){let i=e;for(;i<a&&n.length>0;)n.shift(),n.length>0&&(i=null===(t=n[0][uP.dateBinningRange])||void 0===t?void 0:t[0]);}else {let e=r;for(;e>o&&n.length>0;)n.pop(),n.length>0&&(e=null===(i=n[n.length-1][uP.dateBinningRange])||void 0===i?void 0:i[1]);}}return l}({data:d,seriesConfig:a,dateMinTimestamp:l,dateMaxTimestamp:u}),d=yield gD({queryObject:t,data:d,seriesConfig:a,queryConfig:r});}return d}))}function vD(e){const{dateRange:t,numberOfFeatures:i}=e,{dateMinTimestamp:n,dateMaxTimestamp:r}=t,a=function(e){return Math.floor(Math.min(Math.max(8,Math.sqrt(null!=e?e:8)),128)+.5)}(i),o=(r-n)/a,s=Ap.findIndex((e=>e.threshold>o)),l=Ap[s],{unitMs:u,preferredIntervalSize:d,unit:c}=l,h=o/u,p=d.findIndex((e=>e>=h)),m=d[p],f=0===p?d[0]:d[p-1];return {timeIntervalSize:m-h<h-f?m:f,timeIntervalUnits:c}}function bD(e,t){switch(e.valid=!1,t){case Nb:e.invalidType=yp;break;case Bb:e.invalidType=vp;break;case Vb:e.invalidType=bp;break;case Rb:e.invalidType=xp;}}function xD(e,t){e.valid=!1,e.invalidType=t;}function CD(e){const{data:t,statType:i,onStatisticField:n,seriesX:r,seriesY:a,propertyFields:o}=e,s=e=>{var t;return null!==(t=e[n])&&void 0!==t?t:e[null!=a?a:""]};return t.map((function(e){let t;switch(i){case Nv:t=e[1].length;break;case Wv:t=aD(e[1],s);break;case $v:t=iD(e[1],.5,s);break;case zv:t=QF(e[1],s);break;case Hv:t=ZF(e[1],s);break;case Uv:t=function(e,t){const i=qF(e,t);return i?Math.sqrt(i):i}(e[1],s);break;case Gv:t=nD(e[1],s);break;case qv:t=qF(e[1],s);}let n;if(void 0!==a){if(n={[r]:e[0],[a]:t},void 0!==o){const t=lF({y:a,keys:o});!function(e,t,i){Object.keys(t).forEach((n=>{var r;void 0!==i[n]&&void 0!==t[n]&&(e[i[n]]=null!==(r=e[t[n]])&&void 0!==r?r:t[n]);}));}(e[1][0],o,t),n=Object.assign(Object.assign({},n),e[1][0]);}}else n={[r]:null!=t?t:0};return n}))}function SD(e){var t,i,n,r;const{query:a,data:o,statType:s,series:l,propertyFields:u}=e;let d=null===(i=null===(t=a.outStatistics)||void 0===t?void 0:t[0])||void 0===i?void 0:i.onStatisticField;void 0===d&&(d=l.type===Rb?l.x:l.y);const c=null!==(r=null===(n=a.groupByFieldsForStatistics)||void 0===n?void 0:n[0])&&void 0!==r?r:l.x,h=function(e,...t){return JF(e,XF,XF,t)}(o,(e=>e[c]));return CD({data:Array.from(h),statType:s,onStatisticField:d,propertyFields:u,seriesX:l.x,seriesY:l.type===Rb?void 0:l.y})}function _D(e,t){let i=e;if(void 0!==e&&e.length>0){const n=function(e,t,...i){return JF(e,XF,t,i)}(e,(e=>e.reduce(((e,t)=>Object.assign(e,t)),{})),(e=>e[t]));i=[...n.values()];}return i}function PD(e,t){return function(i){var n;return (null===(n=i[e])||void 0===n?void 0:n.toString())===t}}function wD(e,t){const i=e;if(ih(t)!==Vb){const i=Rh(t),n=t[0].y;e.forEach((e=>{let t=0;if(i.forEach((i=>{const n=e[i];!0===Number.isFinite(n)&&(t+=n);})),e[uP.technicalSortingFieldBySum]=t,!0===Number.isFinite(t)&&t>0){const i=e[n];if(!0===Number.isFinite(i)){const n=i/t;e[uP.technicalSortingFieldByPercent]=n;}}}));}return i}function ID(e){var t,i,n;const r=e.dataSource,a=e.series,o=ih(a),s=r.data.dataItems;let l="";const u=[];for(let e=0;e<a.length;e+=1){const d=a[e],{query:c}=d;if(void 0!==c){let e=s;const a=c.where;if(!1===Ih(a)){l=_h(a);const t=Ph({where:a});e=e.filter(PD(l,t));}const h=e;void 0!==c.orderByFields&&kO({arrayToSort:h,orderByFields:c.orderByFields,forceAscendingOrder:!0,seriesType:o});const p=null!==(n=null===(i=null===(t=c.outStatistics)||void 0===t?void 0:t[0])||void 0===i?void 0:i.statisticType)&&void 0!==n?n:nx.statisticType;u.push(SD({query:c,data:h,statType:p,series:d,propertyFields:r.configFields}));}}let d=u.flat();return ""!==l&&(d=_D(d,a[0].x)),d=wD(d,a),d}function TD(e){return v(this,void 0,void 0,(function*(){const{queryResponse:t,chartConfig:i,mapToStatField:n,splitByField:r,fieldOID:a,isDateField:o,isTimeBinningSeries:s,rendererType:l,subtypeInfo:u,fieldList:d}=e,{series:c}=i,h=c.length,p=Th(c),m=ih(c),{x:f}=c[0],g=iO(i),y=c[0].y,{originalCategoryValue:b,originalDateValue:x,typeOrDomainFieldName:C,typeOrDomainIdValue:S}=uP;return Promise.all(t.map(((e,t)=>v(this,void 0,void 0,(function*(){var i,v,_,P,w,I,T;const A=Object.assign({},e.attributes),O=function(e){var t,i;const{extent:n}=null!==(i=null!==(t=e.aggregateGeometries)&&void 0!==t?t:e.geometry)&&void 0!==i?i:{};return null==n?void 0:n.toJSON()}(e);void 0!==O&&(A[gd]=O),void 0!==y&&p!==qd&&(A[y]=null!==(v=null!==(i=A[y])&&void 0!==i?i:A[y.toUpperCase()])&&void 0!==v?v:A[y.toLowerCase()],y!==y.toUpperCase()?delete A[y.toUpperCase()]:y!==y.toLowerCase()&&delete A[y.toLowerCase()]);let k=A[f];null===k&&!0===(null===(P=null===(_=c[0])||void 0===_?void 0:_.query)||void 0===P?void 0:P.fetchNullValues)&&(A[b]=null,k="null"),!0===s&&(k=function(e){var t,i,n,r,a,o,s,l,u;const d=[];for(let r=1;r<=6;r+=1){const a=null!==(n=null!==(i=null!==(t=e[`EXPR_${r}`])&&void 0!==t?t:e[`Expr${r}`])&&void 0!==i?i:e[`expr${r}`])&&void 0!==n?n:e[`EXPR${r}`];null!==a&&d.push(a);}return TA.local(Number(null!==(r=d[0])&&void 0!==r?r:1969),Number(null!==(a=d[1])&&void 0!==a?a:1),Number(null!==(o=d[2])&&void 0!==o?o:1),Number(null!==(s=d[3])&&void 0!==s?s:0),Number(null!==(l=d[4])&&void 0!==l?l:0),Number(null!==(u=d[5])&&void 0!==u?u:0)).valueOf()}(A));const{outStatisticFieldName:F}=null!==(w=yd.outStatistics)&&void 0!==w?w:{};if(p===Gd&&void 0!==F){const e=rh({value:null!==(T=null===(I=A[r])||void 0===I?void 0:I.toString())&&void 0!==T?T:""}),t=n.get(e);void 0!==t&&(A[t]=A[F],delete A[F]);}else if(p===Hd){if(1===h&&!1===s&&l!==Ob){const t=yield cF(e);void 0!==t&&(A[Xk]=t);}!0===o?A[x]=k:"null"!==k&&(A[b]=k),g!==Db&&g!==Lb||(k=`${k}-${t}`),A[yd.uniqueIdsName]=A[a];}const D=kh({subtypeInfo:u,fieldList:d,fieldName:f,fieldValueToMatch:p===Hd?A[b]:k});return void 0!==D&&D!==k&&p!==qd&&(A[b]=D,A[C]=f,m===Vb&&(A[S]=k)),void 0!==k&&(A[f]=k),A})))))}))}function AD(e){var t;return v(this,void 0,void 0,(function*(){const{queryObject:i,uniqueQuery:n,chartConfig:r,mapToStatField:a,abortKey:o,elementCount:s,isTimeBinningSeries:l}=e,{series:u}=r;let d=[];const c=Th(u)===Gd?_h(null===(t=null==u?void 0:u[0].query)||void 0===t?void 0:t.where):"",h=yield tp({queryObject:i,queryConfig:n,featureCount:s,abortKey:o}),p=yield bh(i),m=Ch(p),f=function(e){return e.filter((e=>"esriFieldTypeDate"===e.type)).map((e=>e.name))}(p),{x:g}=u[0],y=f.includes(g),v=vh(i),{rendererType:b}=mh(v.renderer),x=Oh(i);return d=yield TD({queryResponse:h,chartConfig:r,mapToStatField:a,splitByField:c,fieldOID:m,isDateField:y,isTimeBinningSeries:l,rendererType:b,subtypeInfo:x,fieldList:p}),""!==c&&(d=_D(d,g)),d=wD(d,u),d}))}function OD(e){var t,i,n;return v(this,void 0,void 0,(function*(){const{chartConfig:r,queryObject:a,queryConfig:o,numberMaxOfFeaturesToFetch:s,behaviorAfterLimit:l,isGaugeByFeature:u}=e,{series:d}=r,c=Th(d),{x:h}=d[0],p=d.length;let m,f;return !0===Lh(d)?(f=null!==(n=null===(i=null===(t=d[0].query)||void 0===t?void 0:t.outStatistics)||void 0===i?void 0:i.filter((e=>e.statisticType!==Kv)).length)&&void 0!==n?n:0,m=f):m=yield function(e){return ns(this,void 0,void 0,(function*(){const{queryConfig:t,x:i,queryObject:n,queryType:r,isGaugeByFeature:a}=e;let o;if(void 0!==n){const e=vh(n),s=Ch(yield bh(n)),{where:l,gdbVersion:u,timeExtent:d,geometry:c,distance:h,units:p}=t,m=zh(d),f=Hh(c),g=Wh([l,e.definitionExpression]),y={returnDistinctValues:!0,outFields:!0===a||r===Hd?[s]:[i],where:g,gdbVersion:null!=u?u:e.gdbVersion,timeExtent:null!=m?m:e.timeExtent,geometry:f};void 0!==y.geometry&&!0===Mh(e)&&(void 0!==h&&(y.distance=h),void 0!==p&&(y.units=p));try{o=yield n.queryFeatureCount(y);}catch(e){const t=yield Jh();throw new Xh(Yh,t.queryError,e)}}return o}))}({queryObject:a,x:h,queryType:c,queryConfig:o,isGaugeByFeature:u}),void 0!==m&&(f=m*p),l===ud&&void 0!==f&&void 0!==s&&s<f&&(f=s,m=Math.ceil(f/p)),{categoryOrDateCount:m,elementCount:f}}))}function kD(e){const{arrayToSort:t,chartConfig:i,orderByFieldsConfig:n}=e,{series:r,dataSource:a}=i;if(!1==((null==a?void 0:a.type)===tx&&!0===a.processed)){const e=Th(r),a=ih(r),o=iO(i),{x:s}=r[0],{sortOrder:l,sortingField:u}=function(e,t){const i=e[0],{x:n,y:r}=i,a=ih([i]),o=nh(i);let s,l,u=null==t?void 0:t[0];if(a===Vb)void 0!==u&&!1===sh(u)&&([s,l]=u.split(" "),l=null!=l?l:ex.Ascending,s!==n&&s!==Ax||i.sortLabelsBy!==Tx||(s=uP.originalCategoryValue));else if(u=null!=u?u:`${n}`,void 0!==(null==u?void 0:u[0])&&([s,l]=u.split(" "),l=null!=l?l:ex.Ascending,e.length>1&&s!==n))switch(o){case Zb:s=uP.technicalSortingFieldBySum;break;case Qb:s=uP.technicalSortingFieldByPercent;break;case Jb:void 0!==r&&(s=r);}return {sortOrder:l,sortingField:s}}(r,n);kO({arrayToSort:t,orderByFields:void 0!==u?[`${u} ${l}`]:[],isNonAggregated:e===Hd,sortByXAxisField:u===s,forceAscendingOrder:o===Lb&&u===s,seriesType:a});}}function FD(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryConfig:i,options:n,queryObject:r,abortKey:a}=e,{chartLimits:o}=null!=n?n:{},{behaviorAfterLimit:s}=null!=o?o:{},l={valid:!0};let u;const d=t.series,c=d[0];if(void 0!==c&&void 0!==r){const e=ih(d,0),{uniqueQuery:h,mapToStatField:p}=yield CO({chartConfig:t,queryObject:r,queryConfig:i,options:n});let{categoryOrDateCount:m,elementCount:f}=yield OD({chartConfig:t,queryObject:r,queryConfig:i,behaviorAfterLimit:s,numberMaxOfFeaturesToFetch:h.num});const g=!1===Number.isFinite(f);let y=!0===g||ah({count:null!=f?f:0,seriesCount:d.length,seriesType:e,chartLimits:o});if(!0===y&&(u=yield AD({queryObject:r,uniqueQuery:h,chartConfig:t,mapToStatField:p,elementCount:f,isTimeBinningSeries:!1,abortKey:a}),!0===g&&(m=u.length,f=m*d.length,y=ah({count:f,seriesCount:d.length,seriesType:e,chartLimits:o})),!0===y))if(e===Vb){const e=Lh(d);!0===e&&(u=jO(u[0]));!0===BO(u,!0===e?Ox:c.y)?l.data={dataItems:u}:xD(l,Cp);}else e!==Nb&&e!==Bb||(u=yield oD({queryObject:r,seriesData:u,chartConfig:t,queryConfig:i,categoryOrDateCount:m,behaviorAfterLimit:s,abortKey:a}),f=u.length*d.length,y=ah({count:f,seriesCount:d.length,seriesType:e,chartLimits:o}),!0===y&&(u=function(e,t){var i,n;const r=e;if((null===(n=null===(i=t[0].query)||void 0===i?void 0:i.outStatistics)||void 0===n?void 0:n[0].statisticType)===Nv){const i=t.reduce(((e,t)=>{var i,n,r;return e[null!==(r=null===(n=null===(i=t.query)||void 0===i?void 0:i.outStatistics)||void 0===n?void 0:n[0].outStatisticFieldName)&&void 0!==r?r:t.y]=0,e}),{});for(let t=0;t<e.length;t+=1)e[t]=Object.assign(Object.assign({},i),e[t]);}return r}(u,d),kD({arrayToSort:u,orderByFieldsConfig:h.orderByFields,chartConfig:t}),l.data={dataItems:u,timeIntervalInfo:{}}));!1===y&&bD(l,e),l.count=f;}return l}))}function DD(e){var t,i;return v(this,void 0,void 0,(function*(){const{chartConfig:n,queryConfig:r,queryObject:a,abortKey:o,binnedServerData:s,options:l}=e,{chartLimits:u}=null!=l?l:{},{behaviorAfterLimit:d}=null!=u?u:{},c=n.series,h=c[0],p={valid:!0};let m;if(void 0!==a){const{x:e,timeIntervalUnits:f,timeIntervalSize:g}=h,y=function(e){const{series:t,isTimeBinningSeries:i,setTimeBinningInfoWhenNotProvided:n}=e;let r=!1;if(ih([t])===Bb&&!0===i){const{timeIntervalUnits:e,timeIntervalSize:i}=t,a=function(e,t){return void 0!==e&&void 0!==t&&t>0}(e,i);r=!1===a&&!0===n;}return r}({series:h,isTimeBinningSeries:!0,setTimeBinningInfoWhenNotProvided:null==l?void 0:l.setTimeBinningInfoWhenNotProvided}),b=null!==(t=null==s?void 0:s.timeBinningStats)&&void 0!==t?t:yield function(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,queryConfig:i,x:n}=e,r=`MIN_${n}`,a=`MAX_${n}`,o=`COUNT_${n}`,s=Object.assign(Object.assign({},i),{outStatistics:[{statisticType:zv,onStatisticField:n,outStatisticFieldName:r},{statisticType:Hv,onStatisticField:n,outStatisticFieldName:a},{statisticType:Nv,onStatisticField:n,outStatisticFieldName:o}]});delete s.groupByFieldsForStatistics,delete s.orderByFields;const l=yield Zh({queryObject:t,queryConfig:s});return {dateRange:{dateMinTimestamp:l.get(r),dateMaxTimestamp:l.get(a)},numberOfFeatures:l.get(o)}}))}({queryObject:a,queryConfig:r,x:e}),x=!0===y?vD(b):{timeIntervalUnits:f,timeIntervalSize:g},{uniqueQuery:C,mapToStatField:S}=yield CO({chartConfig:n,queryConfig:r,queryObject:a,timeIntervalInfo:x,options:l}),{numberOfFinalBinsWithinDataRange:_}=hD({dateMinTimestamp:b.dateRange.dateMinTimestamp,dateMaxTimestamp:b.dateRange.dateMaxTimestamp,timeIntervalInfo:x});let P=_*c.length;P=sD(P,x.timeIntervalUnits);const{elementCount:w}=yield OD({chartConfig:n,queryObject:a,queryConfig:r,behaviorAfterLimit:d,numberMaxOfFeaturesToFetch:C.num});if(!0===ah({count:null!=P?P:0,seriesCount:c.length,seriesType:Bb,chartLimits:u})){if(m=null!==(i=null==s?void 0:s.data)&&void 0!==i?i:yield AD({queryObject:a,uniqueQuery:C,chartConfig:n,mapToStatField:S,elementCount:w,abortKey:o,isTimeBinningSeries:!0}),p.binnedServerData={data:w_(m),timeBinningStats:b},m=yield yD({queryObject:a,queryConfig:r,data:m,x:e,seriesConfig:c,dateRange:b.dateRange,timeIntervalInfo:x}),d===ud){const e=WO(n,null==l?void 0:l.chartLimits);void 0!==e&&m.splice(e);}}else p.valid=!1,p.invalidType=vp;p.data={dataItems:m,timeIntervalInfo:x},p.count=P;}return p}))}function MD(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryConfig:i,queryObject:n,abortKey:r,options:a}=e,{setTimeBinningInfoWhenNotProvided:o}=null!=a?a:{},s={valid:!0};if(void 0!==n){const e=Fh({seriesConfig:t.series[0],xAxisValueFormatType:iO(t),setTimeBinningInfoWhenNotProvided:o}),{uniqueQuery:l,mapToStatField:u}=yield CO({chartConfig:t,queryObject:n,queryConfig:i,setTimeBinningInfoWhenNotProvided:o,options:a}),d=yield AD({queryObject:n,uniqueQuery:l,elementCount:1,chartConfig:t,mapToStatField:u,isTimeBinningSeries:e,abortKey:r});s.data={dataItems:d};}return s}))}function LD(e,t){let i;return void 0!==t&&t.length>0&&(i=`${e} IN (${t.join(",")})`),i}function ED(e){return v(this,void 0,void 0,(function*(){const{chartData:t,queryConfig:i,chartConfig:n,options:r,queryObject:a,selectionData:o}=e,{dataSource:s,series:l}=n;let u;if(s.type===ix&&void 0!==o){const{selectionOIDs:e}=o;if(void 0!==t&&!1===LO({dataContext:t[0],chartConfig:n,chartLimits:null==r?void 0:r.chartLimits}))u=t.filter((t=>{const i=t[yd.uniqueIdsName];return null==e?void 0:e.includes(i)}));else if(void 0!==e&&e.length>0&&void 0!==i){const{maxOIDsPerSelectionQuery:t}={maxScatterCellsPerQuery:500,maxScatterCellsPerQueryForStandard:175,maxElementsPerSelectionQuery:25,maxOIDsPerSelectionQuery:2e3},o=Math.ceil(e.length/t),s=yield function(e){return v(this,void 0,void 0,(function*(){const{numberOfQueries:t,selectionOIDs:i,chartConfig:n,queryConfig:r,options:a,queryObject:o}=e,{series:s}=n,l=ih(s),u=[],d=vh(o),{objectIdField:c}=d,{maxOIDsPerSelectionQuery:h}={maxScatterCellsPerQuery:500,maxScatterCellsPerQueryForStandard:175,maxElementsPerSelectionQuery:25,maxOIDsPerSelectionQuery:2e3};for(let e=0;e<t;e+=1){const t=e*h,d=(e+1)*h-1,p=LD(c,i.slice(0===t?0:t-1,d)),m=Object.assign({},r);switch(m.where=Wh([m.where,p]),l){case Vb:case Nb:case Bb:case zb:u.push(MD({queryObject:o,chartConfig:n,options:a,queryConfig:m}));break;case jb:u.push(GF({queryObject:o,chartConfig:n,queryConfig:m,options:a,sortData:!1,calculateTrendline:!1}));break;case Wb:u.push(DF({queryObject:o,queryConfig:m,chartConfig:n,x:s[0].x}));}}return yield Promise.all(u)}))}({numberOfQueries:o,selectionOIDs:e,queryConfig:i,queryObject:a,options:r,chartConfig:n});u=function(e){const{dataFetchingResults:t,numberOfQueries:i,series:n}=e,r=ih(n);let a=[];for(let e=0;e<i;e+=1){const i=t[e],{dataItems:o}=r===jb?i:i.data;switch(r){case Nb:case Bb:case zb:case Wb:case Vb:!0===i.valid&&void 0!==o&&(!0===Lh(n)?a=jO(o[0]):a.push(...o));break;case jb:{const{x:e,y:t}=n[0];a.push(...o.map((i=>({[e]:i[e],[t]:i[t]}))));}}}return a}({dataFetchingResults:s,numberOfQueries:o,series:l});}}return u}))}function jD(e){return v(this,void 0,void 0,(function*(){const{whereList:t,queryObject:i,queryFilter:n,queryConfig:r}=e;let a=[];if(t.length>0){const e=25,o=[],s=Math.ceil(t.length/e);for(let i=0;i<s;i+=1){const r=i*e,a=(i+1)*e;let s=Wh(t.slice(0===r?0:r-1,a),"OR");s=Wh([n,s]),o.push(s);}const l=function*(e){const{filterList:t,queryObject:i,queryConfig:n}=e;for(let e=0;e<t.length;e+=1){const r=Object.assign({},n);r.where=Wh([r.where,t[e]]),yield ip({queryObject:i,queryConfig:r,uniqueFeature:!0});}}({filterList:o,queryObject:i,queryConfig:r});a=(yield Promise.all(l)).flat(),a=Array.from(new Set(a));}return a}))}function VD(e,t){let i;return i=e instanceof Ug?!0===t?"dateY":"dateX":e instanceof Kg?!0===t?"categoryY":"categoryX":!0===t?"valueY":"valueX",i}function RD(e,t){e.name=t;}function BD(e){const{axes:t,currentSeries:i,tooltipValueFormat:n}=e,r=t[1].valueFormat,a=t[0].valueFormat;if((null==r?void 0:r.type)===Mb){const e=kA(r.type,i.chart.language.locale);e.numberFormat=r.intlOptions,JA(i.uid,{tooltipValueYNumberFormatCallback:t=>e.format(t,null==n?void 0:n.intlOptions)});}if((null==a?void 0:a.type)===Mb){const e=kA(a.type,i.chart.language.locale);e.numberFormat=a.intlOptions,JA(i.uid,{tooltipValueXNumberFormatCallback:t=>e.format(t,null==n?void 0:n.intlOptions)});}}function ND(e){const{chart:t,lineSeries:i,applyPropertiesToClones:n}=e,r=i.bullets.push(new Dr);return qA(r.uid,{isBulletMarker:!0}),!1!==n&&(r.applyOnClones=!0),i.bulletsContainer.parent=t.seriesContainer,r}function WD(e){var t;const{series:i,seriesConfig:n,rotationChanged:r,isRotated:a}=e;switch(n.stackedType){case Zb:i.stacked=!0,i instanceof ay&&(i.stackToNegative=null!==(t=n.stackNegativeValuesToBaseline)&&void 0!==t?t:uP.lineSeries.stackNegativeValuesToBaseline),r===a?i.dataFields.valueYShow=void 0:i.dataFields.valueXShow=void 0,i.updateStacking();break;case Qb:i.stacked=!0,!0===a?i.dataFields.valueXShow="totalPercent":i.dataFields.valueYShow="totalPercent",i.updateStacking();break;default:i.stacked=!1,r===a?i.dataFields.valueYShow=void 0:i.dataFields.valueXShow=void 0;}}function zD(e){var t,i,n,r;const{chart:a,series:o,seriesType:s,marker:l,numberOfChartSeries:u,ignoreSmoothRenderingLimit:d}=e;let c=function(e){return ()=>{const{chart:t,marker:i}=e;i.clones.each((e=>{UO(e,!1===ek(e,t));}));}}({marker:l,chart:a});const h=null!=u?u:1,p=a.data.length*h+h;!0!==d&&p>uP.elementLimitForSmoothRendering&&(c=tP(c,uP.debounceTime)),null===(t=a.xAxes.getIndex(0))||void 0===t||t.events.on(SP,c),null===(i=a.yAxes.getIndex(0))||void 0===i||i.events.on(SP,c),s===Bb&&(null===(n=a.xAxes.getIndex(0))||void 0===n||n.events.on(SP,(()=>{Ik(o);})),null===(r=a.yAxes.getIndex(0))||void 0===r||r.events.on(SP,(()=>{Ik(o);})));}function HD(e,t){let i;return void 0!==(null==e?void 0:e.slices)&&void 0!==t&&(i=e.slices.find((e=>e.sliceId===t))),i}function GD(e){e.series.each((e=>{const t=XA(e.uid,"updateStyleAndSelectionCallbackDisposer");void 0!==t&&!1===t.isDisposed()&&t.dispose();}));}function UD(e){const{chart:t,selectionSource:i,clearOnlyVisibleSeries:n,disposeStyleAndSelection:r}=e;!1!==r&&GD(t),KA(t.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0,pendingSelectionQueries:!1}),ZO(t)&&(t instanceof ey?function(e,t=!0){let i;e.series.each(((e,n)=>{var r,a,o;if((!1===t||!0===e.visible)&&(void 0===i||i!==Wb&&i!==jb)){let t;i=TO(e,n),i===Wb||i===Nb?t=null===(r=e.columns)||void 0===r?void 0:r.values:i!==jb&&i!==Bb||(t=null===(o=null===(a=KO(e))||void 0===a?void 0:a.clones)||void 0===o?void 0:o.values),void 0!==t&&t.forEach((e=>{PF({element:e,selected:!1,backToDefaultState:!0});}));}}));}(t,null==n||n):t instanceof wy&&function(e){const t=e.series.getIndex(0);void 0!==t&&t.slices.each((e=>{PF({element:e,selected:!1,backToDefaultState:!0});}));}(t)),Nk({data:{selectionSource:null!=i?i:dg},htmlContainer:t.htmlContainer});}function qD(e){var t;np(),void 0!==(t=e.htmlContainer)&&t.dispatchEvent(new window.CustomEvent(Ek.TooManySelectedElements,jk())),UD({chart:e});}function $D(e,t){let i="";if(""!==e.trim()&&void 0!==t){const n="number"!=typeof t?"'":"";i=`${e}=${n}${t}${n}`;}return i}function YD(e,t){let i="";const n=t[uP.dateBinningRange];if(Gx(n)&&2===n.length){const[t,r]=n;if(Number.isFinite(t)&&Number.isFinite(r)){i=`${e}>='${EO(t)}' AND ${e}<='${EO(r)}'`;}}return i}function KD(e){const{xAxisField:t,splitBy:i,dataContext:n,isDateAxis:r,isXAxisFieldDouble:a}=e;let o="";if(uP.dateBinningRange in n)o=YD(t,n);else {let e=OO({value:n[t],dataContext:n});!0===a?o=function(e,t){let i="";if(!0===Number.isFinite(e)){const n=1/Math.pow(10,uP.queryMaxFloatPrecision);i=`${t}>=${e-n} AND ${t}<=${e+n}`;}return i}(e,t):(!0===r&&(e=EO(e)),o=wh($D(t,e),!1));}return o=Wh([o,wh(null!=i?i:"",!1)]),o}function XD(e){const{xAxisField:t,dataContext:i,dataTransformationType:n}=e;let r="";const{minValue:a,maxValue:o}=i;if(Number.isFinite(a)&&Number.isFinite(o)){const e=function(e,t){let i=e;switch(t){case Gb:i=`log(${e})`;break;case Ub:i=`power(CAST(${e} AS FLOAT),0.5)`;}return i}(t,n);r=Wh([`${e}>=${a}`,`${e}<=${o}`]);}return r}function JD(e){const{chartType:t}=e;let i="";switch(t){case jb:i=function(e){const{dataContext:t,xAxisField:i,yAxisField:n,options:r}=e;let a="";const{dataContextXMinField:o,dataContextXMaxField:s,dataContextYMinField:l,dataContextYMaxField:u}=uP.scatterPlotAggregationFields;if(!0===MO({dataContext:t,chartLimits:null==r?void 0:r.chartLimits})){const{[o]:e,[s]:r}=t,d=i!==n?t[l]:e,c=i!==n?t[u]:r;if(!1===Number.isNaN(e)&&!1===Number.isNaN(r)&&!1===Number.isNaN(d)&&!1===Number.isNaN(c)){const t=[];e===r?t.push(`${i}=${e}`):(t.push(`${i}>=${e}`),t.push(`${i}<${r}`)),d===c?t.push(`${n}=${d}`):(t.push(`${n}>=${d}`),t.push(`${n}<${c}`)),a=Wh(t);}}else a=Wh([wh($D(i,t[i])),void 0!==n?wh($D(n,t[n])):""]);return a}(e);break;case Nb:case Bb:i=KD(e);break;case Wb:i=XD(e);break;case Vb:i=function(e){var t;const{xAxisField:i,dataContext:n,queryType:r}=e,a=null!==(t=n[uP.originalCategoryValue])&&void 0!==t?t:n[i];return r===qd?"":wh($D(i,a),!1)}(e);}return i}function ZD(e){var t;const{groupOfSlicesDataContext:i,chart:n}=e,r=null!=i?i:null===(t=null==n?void 0:n.data)||void 0===t?void 0:t.find((e=>!0===e[bd]));return null==r?void 0:r[uP.pieChart.technicalFieldGroupedSlices]}function QD(e){return !0===(null==e?void 0:e[bd])}function eM(e){var t,i,n,r,a,o;const{chart:s,seriesConfig:l,commonStrings:u}=e,d=l[0],c=s.data.reduce(((e,t)=>{var i;let n=null!==(i=t[Ox])&&void 0!==i?i:t[d.y];return !1===Number.isFinite(n)&&(n=0),n+e}),0),h=null!==(i=null===(t=null==d?void 0:d.sliceGrouping)||void 0===t?void 0:t.percentageThreshold)&&void 0!==i?i:0,p=[];let m,f=0;const g=null!==(r=null===(n=s.data.find((e=>!0===e[bd])))||void 0===n?void 0:n[uP.pieChart.technicalFieldGroupedSlices])&&void 0!==r?r:[],y=[...s.data,...g].filter((e=>{var t;let i=!0;const n=null!==(t=e[Ox])&&void 0!==t?t:e[d.y];if(!0===Number.isFinite(n)){const t=n/c*100;e[uP.pieChart.technicalFieldSlicePercent]=t,t<=h&&!0!==e[bd]&&(f+=n,p.push(e),i=!1);}return !0===e[bd]&&(m=e,i=!1),i}));if(h>0&&p.length>0){const e=f/c*100,t=Lh(l),i=Object.assign(Object.assign({},m),{[bd]:!0,[!0===t?Ax:d.x]:null!==(o=null===(a=d.sliceGrouping)||void 0===a?void 0:a.label)&&void 0!==o?o:null==u?void 0:u.pieChart.defaultSliceGroupingLabel,[!0===t?Ox:d.y]:f,[uP.pieChart.technicalFieldSlicePercent]:e,[uP.pieChart.technicalFieldGroupedSlices]:p});y.push(i);}s.data=y;}function tM(e){const{options:t,elementDataContext:i,selectionDataItems:n,layerOidField:r,xAxisField:a,yAxisField:o,seriesType:s}=e,{originalCategoryValue:l}=uP;let u,d=!1,c=i;if(void 0!==i&&void 0!==n)switch(s){case Nb:case Bb:if(void 0!==a&&void 0!==o){const e=i;u=t=>{var i,n;let s;if(void 0!==r&&r in t&&r in e)s=t[r]===e[r];else if(uP.dateBinningRange in e&&"number"==typeof t[a]){const i=t[a],[n,r]=e[uP.dateBinningRange];s=i>=n&&i<=r&&o in t;}else {const r=null!==(i=e[l])&&void 0!==i?i:e[a];s=(null!==(n=t[l])&&void 0!==n?n:t[a])===r&&o in t;}return s};}break;case jb:if(void 0!==a&&void 0!==o){const e=i;if(!1===MO({dataContext:e,chartLimits:null==t?void 0:t.chartLimits}))u=t=>{let i;return i=void 0!==r&&r in e&&r in t?t[r]===e[r]:t[a]===e[a]&&t[o]===e[o],i};else {const{dataContextXMinField:t,dataContextXMaxField:i,dataContextYMinField:n,dataContextYMaxField:r}=uP.scatterPlotAggregationFields,{[t]:s,[i]:l}=e,d=a!==o?e[n]:s,c=a!==o?e[r]:l,h=e=>{var t;const i=null!==(t=e[a])&&void 0!==t?t:NaN,n=null!=s?s:NaN;return s===l?i===n:(null!=i?i:NaN)>=n&&(null!=i?i:NaN)<(null!=l?l:NaN)},p=e=>{var t;const i=null!==(t=e[o])&&void 0!==t?t:NaN,n=null!=d?d:NaN;return d===c?i===n:i>=n&&i<(null!=c?c:NaN)};u=e=>h(e)&&p(e);}}break;case Wb:u=e=>{let t=!1;const{minValue:n,maxValue:r}=i;if(void 0!==a&&a in e){const i=e[a];t="number"==typeof i&&i>=n&&i<=r;}else if("minValue"in e&&"maxValue"in e){const{minValue:i,maxValue:a}=e;t=!1==(n>=a||r<=i);}return t};break;case Vb:void 0!==a&&(u=e=>{var t;const n=i,o=(null!==(t=!0===QD(n)?ZD({groupOfSlicesDataContext:n}):[n])&&void 0!==t?t:[]).some((t=>{var i,o;let s;if(void 0!==r&&r in t&&r in n)s=e[r]===t[r];else {s=(null!==(i=t[l])&&void 0!==i?i:t[a])===(null!==(o=e[l])&&void 0!==o?o:e[a]);}return !0===s&&(c=t),s}));return o});}return void 0!==u&&(d=!0===n.some(u)),{isPartOfIt:d,selectedDataContext:c}}function iM(e,t){const i=YA(e.uid,"actionMode");if(!0===((i===cg||i===fg)&&t.length>1))UD({chart:e});else {const i=e instanceof wy;t.forEach((e=>{PF({element:e,useNativeState:i,selected:!0});}));}}function nM(e){const{dataContext:t,yAxisField:i,yList:n,xAxisField:r,splitBy:a,chartType:o}=e;let s=Object.assign({},t);if(void 0!==t&&(o===Nb||o===Bb||o===Vb)){o!==Vb&&n.forEach((e=>{e!==i&&delete s[e];}));const e=OO({value:t[r],dataContext:t});s[r]=e,!1===sh(a)&&(s[_h(a)]=Ph({where:a,escape:!1})),s=DO(s);}return s}function rM(e){var t,i,n,r,a;return v(this,void 0,void 0,(function*(){const{series:o,seriesIndex:s,queryObject:l,elementsToApplySelectionTo:u,options:d,dataWasUpdated:c,sortChanged:h,groupOfSlicesWasUpdated:p,xAxisField:m,yAxisField:f,rotationChanged:g}=e,{filterBySelection:y,selectionData:b,returnSelectionIndexes:x,returnSelectionOIDs:C}=null!=d?d:{},{selectionIndexes:S}=null!=b?b:{},{chart:_}=o,P=YA(_.uid,"config"),w=YA(_.uid,"queryConfig");if(!0!==y&&void 0!==(null==u?void 0:u[0])&&void 0!==P){const e=ih(null==P?void 0:P.series);let y;if(void 0!==l){const e=vh(l);y=e.objectIdField;}const I=YA(_.uid,"currentSelectionDataItems"),T=YA(_.uid,"currentSelectionOIDs");let A,O=!1,k=!1,F=!1;if(!0!==(null==d?void 0:d.viewExtentUpdated)){A=yield function(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,dataWasUpdated:i,currentSelectionOIDs:n,currentSelectionDataItems:r,selectionData:a,xAxisField:o,returnSelectionOIDs:s}=e,{selectionItems:l,selectionOIDs:u}=null!=a?a:{};let d;const c=ih(t.series)!==Wb&&void 0!==l&&l.length>0&&o in l[0]==0;return !0==(!1!==s&&void 0!==u&&u.length>0&&(!0===i||!0===c||!1===rP(u,n)))?d=yield ED(e):void 0!==l?d=l:void 0!==r&&(d=r),d}))}({currentSelectionDataItems:I,currentSelectionOIDs:T,chartData:_.data,chartConfig:P,queryConfig:w,options:d,queryObject:l,dataWasUpdated:c,selectionData:b,xAxisField:m,returnSelectionOIDs:C});const e=YA(_.uid,"currentSelectionIndexes");F=!1===rP(A,I);const i=!1===rP(S,e);O=!0===h||!0===c||!0===p||!0===g||void 0!==A&&!0===F;let n=!0;if(void 0!==S&&S.size>0){const{indexesToSelect:e}=null!==(t=S.get(null!=s?s:0))&&void 0!==t?t:{};n=void 0!==e&&void 0===e[0];}k=!0===c||!0===p||!0===g||!1===n&&!0===i;}if(!0===O&&void 0!==A&&A.length>0){const{selectedIndexes:e,newSelectionDataItems:t}=function(e){var t,i;const{chart:n,chartConfig:r,series:a,options:o,elementsToApplySelectionTo:s,selectionDataItems:l,layerOidField:u,xAxisField:d,yAxisField:c}=e,h=ih(r.series),p=[],m=[],f=[],g=Rh(r.series),y=a instanceof Jg&&null!==(i=null===(t=a.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==i?i:"";return s.forEach((e=>{var t,i,r;if(e instanceof xg==0){let a=!1,s=null===(t=e.dataItem)||void 0===t?void 0:t.dataContext;const{isPartOfIt:v,selectedDataContext:b}=tM({elementDataContext:null===(i=e.dataItem)||void 0===i?void 0:i.dataContext,options:o,selectionDataItems:l,layerOidField:u,xAxisField:d,yAxisField:c,seriesType:h});a=v,s=b,!0===a?(p.push(e),void 0!==e.dataItem&&m.push(null===(r=e.dataItem)||void 0===r?void 0:r.index),f.push(nM({dataContext:s,yAxisField:c,yList:g,xAxisField:d,splitBy:y,chartType:h}))):PF({element:e,useNativeState:n instanceof wy,selected:!1});}})),iM(n,p),{selectedIndexes:m,newSelectionDataItems:f}}({chart:_,chartConfig:P,options:d,series:o,elementsToApplySelectionTo:u,selectionDataItems:A,layerOidField:y,xAxisField:m,yAxisField:f}),n=null!==(i=YA(_.uid,"computedSelectionDataItems"))&&void 0!==i?i:[];if(n.push(...t),KA(_.uid,{computedSelectionDataItems:n}),!0===x){const t=Array.from(new Set(e));let i=YA(_.uid,"computedSelectionIndexes");void 0===i&&(i=new Map),t.length===u.length?i.set(null!=s?s:0,{}):i.set(null!=s?s:0,{indexesToSelect:t}),KA(_.uid,{computedSelectionIndexes:i});}}else if(void 0!==S&&!0===k)A=function(e,t){var i;const n=[],r=[],a=YA(e.uid,"config"),o=Rh(null!==(i=null==a?void 0:a.series)&&void 0!==i?i:[]);return e.series.each(((i,a)=>{var s,l,u;if(!0===i.visible&&!0!==XA(i.uid,"isOverlay")){const d=wO(i),c=IO(i),h=i instanceof Jg&&null!==(l=null===(s=i.dataFields)||void 0===s?void 0:s.customValue)&&void 0!==l?l:"",p=TO(i,a),m=t.get(a);if(void 0!==m){let t;if(t=i instanceof $y?i.columns:i instanceof _y?i.slices:null===(u=KO(i))||void 0===u?void 0:u.clones,void 0!==t){const{indexesToSelect:i}=m;t.each(((t,a)=>{var s;void 0===i||i.includes(a)?(n.push(nM({dataContext:null===(s=t.dataItem)||void 0===s?void 0:s.dataContext,yList:o,yAxisField:c,xAxisField:d,splitBy:h,chartType:p})),r.push(t)):PF({element:t,useNativeState:e instanceof wy,selected:!1});}));}}}})),iM(e,r),n}(_,S);else {const t=void 0===A||0===A.length,i=t=>{var i,n;const{isPartOfIt:r}=tM({elementDataContext:null===(i=t.dataItem)||void 0===i?void 0:i.dataContext,options:d,selectionDataItems:null!==(n=null!=A?A:I)&&void 0!==n?n:[],layerOidField:y,xAxisField:m,yAxisField:f,seriesType:e});return r};u.forEach((e=>{PF({element:e,selected:!0===e.isActive||!0===i(e),useNativeState:_ instanceof wy,backToDefaultState:t});}));}if(JA(o.uid,{isSelectionApplied:!0}),!0===function(e){var t;return (null===(t=e.series)||void 0===t?void 0:t.values).filter((e=>!0!==XA(e.uid,"isOverlay"))).every((e=>!0===XA(e.uid,"isSelectionApplied")))}(_)&&(function(e){e.series.each((e=>JA(e.uid,{isSelectionApplied:void 0})));}(_),!0===F||!0===k)){const e=null!==(n=YA(_.uid,"computedSelectionDataItems"))&&void 0!==n?n:A;let t;if(void 0!==A&&KA(_.uid,{currentSelectionDataItems:e}),void 0!==(null==b?void 0:b.selectionOIDs)&&KA(_.uid,{currentSelectionOIDs:b.selectionOIDs}),!0===x&&(t=null!==(r=YA(_.uid,"computedSelectionIndexes"))&&void 0!==r?r:S,void 0!==t&&KA(_.uid,{currentSelectionIndexes:t})),void 0===A||0===A.length)UD({chart:_,selectionSource:ug});else {const i={selectionItems:e,selectionSource:ug};!0===x&&(i.selectionIndexes=t),!1!==C&&(i.selectionOIDs=null!==(a=null==b?void 0:b.selectionOIDs)&&void 0!==a?a:YA(_.uid,"currentSelectionOIDs")),Nk({data:i,seriesConfig:P.series,htmlContainer:_.htmlContainer});}KA(_.uid,{computedSelectionIndexes:void 0,computedSelectionDataItems:void 0});}}}))}function aM(e){var t,i,n,r,a;return v(this,void 0,void 0,(function*(){const{chart:o,listSelectedElements:s,selectionSource:l}=e,u=YA(o.uid,"options"),d=YA(o.uid,"config");if(0===s.length)KA(o.uid,{currentSelectionDataItems:void 0,currentSelectionOIDs:void 0,currentSelectionIndexes:void 0,computedSelectionDataItems:void 0,computedSelectionIndexes:void 0}),Nk({data:{selectionSource:l},seriesConfig:null==d?void 0:d.series,htmlContainer:o.htmlContainer});else try{GD(o);const e=[],r=[];let a=[];const l=new Map,{queryObject:c,xAxisField:h}=null!==(t=s[0])&&void 0!==t?t:{},p=Th(null==d?void 0:d.series),m=Rh(null!==(i=null==d?void 0:d.series)&&void 0!==i?i:[]),f=function(e){let t=!1;e instanceof ey&&(t=!0===YA(e.uid,"isRotated")?e.yAxes.getIndex(0)instanceof Ug:e.xAxes.getIndex(0)instanceof Ug);return t}(o);let g=!1;if(void 0!==c){const e=yield bh(c);g=(null===(n=e.find((e=>e.name===h)))||void 0===n?void 0:n.type)===Bv;}if(s.forEach((t=>{var i,n,o;const{element:s,elementDataContext:d,yAxisField:c,chartType:y,splitBy:v,dataTransformationType:b}=t,x=null!=d?d:null===(i=null==s?void 0:s.dataItem)||void 0===i?void 0:i.dataContext;r.push(nM({dataContext:x,yAxisField:c,yList:m,xAxisField:h,splitBy:v,chartType:y}));const{seriesIndex:C,elementIndex:S}=t;if(void 0!==S){const e=null!==(o=null===(n=l.get(C))||void 0===n?void 0:n.indexesToSelect)&&void 0!==o?o:[];e.push(S),l.set(C,{indexesToSelect:Array.from(new Set(e))});}if(void 0!==x){const t=x[yd.uniqueIdsName];if("number"==typeof t)a.push(t);else {const t=JD({chartType:y,dataContext:x,options:u,xAxisField:h,yAxisField:null!=c?c:"",splitBy:v,dataTransformationType:b,isDateAxis:f,isXAxisFieldDouble:g,queryType:p});e.push(t);}}})),!1!==(null==u?void 0:u.returnSelectionOIDs)&&void 0!==c&&e.length>0){const t=YA(o.uid,"queryConfig"),i=Object.assign({},t);delete i.groupByFieldsForStatistics,delete i.orderByFields,delete i.outStatistics;const n=yield jD({whereList:e,queryObject:c,queryConfig:i});if(e.length===s.length)a=n;else for(let e=0;e<n.length;e+=1)a.push(n[e]);}KA(o.uid,{currentSelectionDataItems:r,currentSelectionOIDs:a,currentSelectionIndexes:l});const y={selectionItems:r,selectionSource:lg};!0===(null==u?void 0:u.returnSelectionIndexes)&&(y.selectionIndexes=l),!1!==(null==u?void 0:u.returnSelectionOIDs)&&(y.selectionOIDs=a),Nk({data:y,seriesConfig:null==d?void 0:d.series,htmlContainer:o.htmlContainer});}catch(e){KA(o.uid,{pendingSelectionQueries:!1});const{httpStatus:t}=e instanceof Xh?null===(r=e.details)||void 0===r?void 0:r.details:null!==(a=e.details)&&void 0!==a?a:{};if(429!==t)throw e;qD(o);}KA(o.uid,{pendingSelectionQueries:!1});}))}function oM(e,t){var i;if(void 0!==e&&void 0!==t){const n=e.defaultState.properties;if(n.fill=null!==(i=t.pattern)&&void 0!==i?i:t.fill,n.fillOpacity=1,void 0!==t.outline){const{outline:e}=t;n.stroke=e.stroke,n.strokeOpacity=1,n.strokeDasharray=e.strokeDasharray,n.strokeLinecap=e.strokeLinecap,n.strokeWidth=e.strokeWidth;}}}function sM(e,t){return !0===ti(t)?t:e}function lM(e){const{series:t,callbackName:i,value:n}=e,r=XA(t.uid,i);return void 0!==r?r(n):n.toString()}function uM(e){e instanceof gy==!1&&e.series.each((e=>{!0!==XA(e.uid,"isOverlay")&&function(e){const t=new Aa;e.tooltip=t,e instanceof _y==0&&(t.label.maxWidth=uP.tooltipWidth,t.label.wrap=!0);const{dataTooltipStyle:i,dataTooltipStyleReversed:n}=uP;t.events.on(hP,(r=>{var a,o,s,l,u;const d=YA(e.chart.uid,"config");if(void 0!==d){const c=d.series.find((t=>t.id===e.id)),{dataTooltipReverseColor:h}=null!=c?c:{};if(!0===h){const e=r.target,i=e.background.fill;if(void 0!==i){e.background.stroke=i,e.background.strokeWidth=null!==(o=null===(a=null==n?void 0:n.outline)||void 0===a?void 0:a.width)&&void 0!==o?o:NaN,e.background.fill=rk(null==n?void 0:n.color);const r=e.background.fill.rgb;if(void 0!==r){const i=t.label.fill;e.label.fill=!0===qt(r)?null==i?void 0:i.darkColor:null==i?void 0:i.lightColor;}}}else t.getStrokeFromObject=!0,t.getFillFromObject=!0,t.background.strokeWidth=null!==(l=null===(s=null==i?void 0:i.outline)||void 0===s?void 0:s.width)&&void 0!==l?l:NaN,t.background.stroke=rk(null===(u=null==i?void 0:i.outline)||void 0===u?void 0:u.color);}}));}(e);}));}function dM(e,t){e.tooltipHTML=uP.htmlEmptyContent,e.adapter.add("tooltipHTML",((e,i)=>{var n,r;let a=e;const{chart:o}=t;if(void 0!==o){const e=YA(o.uid,"config"),{dataTooltipVisible:s}=null!==(n=null==e?void 0:e.series[0])&&void 0!==n?n:{};if(!1===s)a="";else {const n=XA(t.uid,"barAndLineTooltipFormatter");if(void 0!==n&&t.isReady()){const{dataItem:o}=i;if(o instanceof qy||o instanceof ry){const i=JO(e),s=null==e?void 0:e.series.find((e=>e.id===t.id));if(void 0!==s){const l=HO({config:e}),u=!0===l?o.valueX:o.valueY,d=(!0===l?o.values.valueX.totalPercent:o.values.valueY.totalPercent)/100,c=null!==(r=null==o?void 0:o.dataContext)&&void 0!==r?r:{};if(void 0!==c){const e=OO({value:c[s.x],dataContext:c,specificField:i}),r=c[uP.dateBinningRange];a=n({seriesName:t.name,xValue:e,dateBinningRange:r,statValue:u,percentValue:d});}}}}}}return dh(a)})),e.tooltipPosition=t instanceof ay?uP.markerTooltipPosition:uP.columnTooltipPosition,t.cursorTooltipEnabled=!1;}function cM(e){const{isStacked100:t,series:i,statValue:n,percentValue:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:o}=e,s=void 0!==n?zO(n,null!=a?a:{type:So,intlOptions:{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:3}},i.chart.language.locale):"";let l="";if(!0===t&&void 0!==r){let e=o;void 0===e&&(e={type:So,intlOptions:{style:"percent",minimumFractionDigits:0,maximumFractionDigits:0}},e.intlOptions.minimumFractionDigits=2,e.intlOptions.maximumFractionDigits=2),l=zO(r,e,i.chart.language.locale);}return {formattedStatValue:s,formattedPercentValue:l}}function hM(e){const{seriesConfig:t,xAxisValueFormat:i,setTimeBinningInfoWhenNotProvided:n,dataTooltipValueFormat:r,dataTooltipDateFormat:a,series:o,xValue:s,dateBinningRange:l}=e;let u;return u=!0===Fh({seriesConfig:t,xAxisValueFormatType:null==i?void 0:i.type,setTimeBinningInfoWhenNotProvided:n})&&void 0!==l?function(e,t){let i;const n=YA(e.chart.uid,"timeIntervalInfo");if(void 0!==t&&t.length>0){let r={};switch(null==n?void 0:n.timeIntervalUnits){case sx:r={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};break;case lx:case ux:r={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"};break;case dx:case cx:case hx:case px:r={month:"numeric",day:"numeric",year:"numeric"};}const a=new Date(t[0]),o=new Date(t[1]);if(!1===Number.isNaN(null==a?void 0:a.valueOf())){const t=kA(Lb,e.chart.language.locale),n=t.format(a,r);if(i=n,!1===Number.isNaN(null==o?void 0:o.valueOf())){const e=t.format(o,r);e!==n&&(i=`${i} - ${e}`);}}}return `${null!=i?i:""}`}(o,l):!0===sO(i)&&void 0!==s?zO(s,null!=a?a:i,o.chart.language.locale):"number"==typeof s&&!0===rO(i)?zO(s,null!=r?r:i,o.chart.language.locale):s,`${null!=u?u:""}`}function pM(e){var t,i,n,r,a,o,s,l,u;const{config:d,fieldList:c,seriesIndex:h,isStacked100:p,commonStrings:m}=e;let f="";const g=d.series[h].name;if((null===(t=d.dataSource)||void 0===t?void 0:t.type)===tx)f=g;else {const e=d.series[h],t=d.axes,y=Th(d.series),v=void 0!==c?Ch(c):yd.outStatistics.onStatisticField,b=null!==(r=null===(n=null===(i=e.query)||void 0===i?void 0:i.outStatistics)||void 0===n?void 0:n[0].onStatisticField)&&void 0!==r?r:v,x=oh(c,b),C=null!==(s=null===(o=null===(a=e.query)||void 0===a?void 0:a.outStatistics)||void 0===o?void 0:o[0].statisticType)&&void 0!==s?s:nx.statisticType,S=function(e,t){let i;switch(e){case Gv:i=t.statistics.mean;break;case $v:i=t.statistics.median;break;case Wv:i=t.statistics.sum;break;case zv:i=t.statistics.minimum;break;case Hv:i=t.statistics.maximum;break;case qv:i=t.statistics.variance;break;case Yv:i=t.statistics.discretePercentitle;break;case Xv:i=t.statistics.noAggregation;break;default:i=t.statistics.count;}return i}(C,m);y===Hd?f=null!=g?g:oh(c,e.y):(f=C===Nv&&b===v?m.statistics.count:pd(m.statistics.aggregation,{statistics:S,fieldName:null!=g?g:x}),y===zd&&!1===p&&(f=sM(f,null===(u=null===(l=t[1].title)||void 0===l?void 0:l.content)||void 0===u?void 0:u.text)));}return f}function mM(e){var t,i,n;const{series:r,fieldList:a,setTimeBinningInfoWhenNotProvided:o,seriesIndex:s,seriesConfig:l,commonStrings:u}=e,{dataTooltipValueFormat:d,dataTooltipPercentFormat:c,dataTooltipDateFormat:h}=l;let p=()=>"";const{chart:m}=r;if(void 0!==m){const e=YA(m.uid,"config");if(void 0!==e){const l=e.series[s],{dataTooltipVisible:m}=l,f=r instanceof ay?l.markerVisible:void 0;if(!1===m||!1===f)p=()=>"";else {const m=e.axes,f=m[0].valueFormat,g=Th(e.series),y=nh(l)===Qb,v=oh(a,l.x),b=null!==(t=JO(e))&&void 0!==t?t:sM(v,null===(n=null===(i=m[0].title)||void 0===i?void 0:i.content)||void 0===n?void 0:n.text),x=pM({config:e,fieldList:a,seriesIndex:s,commonStrings:u,isStacked100:y}),C=BA();p=e=>{var t;const{statValue:i,percentValue:n,xValue:s,dateBinningRange:p}=e,m=hM({seriesConfig:l,xAxisValueFormat:f,dataTooltipValueFormat:d,dataTooltipDateFormat:h,setTimeBinningInfoWhenNotProvided:o,series:r,xValue:s,dateBinningRange:p}),{formattedStatValue:v,formattedPercentValue:S}=cM({isStacked100:y,dataTooltipValueFormat:d,dataTooltipPercentFormat:c,series:r,statValue:i,percentValue:n}),_=[`<b>${b}${C} </b>${m}`];switch(g){case zd:case Hd:case Ud:_.push(`<b>${x}${C} </b>${v}`);break;case Gd:{const e=_h(null===(t=l.query)||void 0===t?void 0:t.where,!1),i=rh({value:oh(a,e)});_.push(`<b>${i}${C} </b>${r.name}<br /><b>${x}${C} </b>${v}`);break}}return !0===y&&_.push(`<b>${u.statistics.percent}${C} </b>${S}`),_.join("<br />")};}}}return p}function fM(e){const{series:t,tooltipFormatter:i}=e;JA(t.uid,{barAndLineTooltipFormatter:null!=i?i:mM(e)});}function gM(e){const{locale:t,valueIntlOptions:i,percentageIntlOptions:n,displayNumericValue:r,displayPercentage:a,valuePrefix:o,valueSuffix:s,percentagePrefix:l,percentageSuffix:u}=e,d=kA(Mb,t),c=kA(Mb,t);d.numberFormat=Object.assign({},i),c.numberFormat=Object.assign(Object.assign({},n),{style:"percent"});const h=BA(" ");return (e,t,i)=>{let n="";if(void 0!==t&&void 0!==i){const e=`${null!=o?o:""}${d.format(t)}${null!=s?s:""}`,p=`${null!=l?l:""}${c.format(Math.abs(i/100))}${null!=u?u:""}`;!0===Number.isFinite(t)?!0===r&&!0===a?n=`${p}${h}(${e})`:!0===r?n=e:!0===a&&(n=p):n="";}return n}}function yM(e){var t,i;let n=!1;if(e.position===Yb||e.position===$b)n=!0;else {const r=null===(i=null===(t=e.labels.getIndex(0))||void 0===t?void 0:t.parent)||void 0===i?void 0:i.x;void 0!==r&&(n=!1===e.labels.values.some((e=>{var t;return (null===(t=e.parent)||void 0===t?void 0:t.x)!==r})));}return n}function vM(e){tO(e.valueLabels.template.uid,{isLegendValueLabel:!0}),e.valueLabels.template.adapter.add("htmlOutput",((t,i)=>{var n,r,a,o,s,l,u,d,c;let h=t;const p=$A(e.uid,"pieChartLegendValueLabelsFormatter");if(void 0!==p&&(h=p(null!==(o=null===(a=null===(r=null===(n=i.dataItem)||void 0===n?void 0:n.values)||void 0===r?void 0:r.value)||void 0===a?void 0:a.value)&&void 0!==o?o:0,null!==(d=null===(u=null===(l=null===(s=i.dataItem)||void 0===s?void 0:s.values)||void 0===l?void 0:l.value)||void 0===u?void 0:u.percent)&&void 0!==d?d:0)),!0===sh(h)&&(h=uP.htmlEmptyContent),e.baseSprite instanceof Ig){const t=YA(e.baseSprite.uid,"config");void 0!==(null===(c=null==t?void 0:t.legend)||void 0===c?void 0:c.body)&&(h=uk({textSymbol:Object.assign(Object.assign({},t.legend.body),{text:h}),format:"html"}));}return dh(h)})),e.valueLabels.template.html=uP.htmlEmptyContent,function(e){e.events.on(OP,(()=>{const t=yM(e),i=function(e){var t,i;let n=!1;const r=null===(i=null===(t=e.labels.getIndex(0))||void 0===t?void 0:t.parent)||void 0===i?void 0:i.y;return void 0!==r&&(n=!1===e.labels.values.some((e=>{var t;return (null===(t=e.parent)||void 0===t?void 0:t.y)!==r}))),n}(e),n=!0===t||!1===i?gb:yb;e.valueLabels.template.horizontalCenter=sk(n),e.valueLabels.template.align=ok(n);}));}(e);}function bM(e){var t;const{legendElements:{legend:i},seriesConfig:n,webChartLegend:r,seriesType:a,pieChartLegendValueLabelFormatter:o}=e,{visible:s,body:l,displayNumericValue:u,displayPercentage:d}=null!==(t=r)&&void 0!==t?t:{};if((null!=a?a:ih(n))===Vb){const{numericValueFormat:e,percentValueFormat:t,valuePrefix:r,valueSuffix:a,percentagePrefix:c,percentageSuffix:h}=n[0],p=null!=u?u:uP.pieChart.displayNumericValueOnLegend,m=null!=d?d:uP.pieChart.displayPercentageOnLegend;let f=o;if(void 0===o){const n=gM({locale:i.language.locale,valueIntlOptions:null==e?void 0:e.intlOptions,percentageIntlOptions:null==t?void 0:t.intlOptions,displayNumericValue:p,displayPercentage:m,valuePrefix:r,valueSuffix:a,percentagePrefix:c,percentageSuffix:h});f=(e,t)=>n("",e,t);}qA(i.uid,{pieChartLegendValueLabelsFormatter:f});const g=yM(i),y={type:kb,visible:s,content:Object.assign(Object.assign({},l),{type:Ib,text:".",verticalAlignment:Cb,horizontalAlignment:!0===g?gb:yb})};Ck(i.valueLabels.template,y,uP.legendProperties.valueLabels),i.valueLabels.template.disabled=!1===p&&!1===m;}}function xM(e,t){const{legendLabelReducedOpacity:i}=uP.legendProperties;void 0!==e&&(e.fillOpacity=!1===t?i:1);}function CM(e){const{labels:t,seriesId:i,sliceCategory:n}=e;t.each((e=>{var t,r,a,o,s,l;void 0!==n?n===e.dataItem.category&&xM(e,null===(t=e.dataItem.slice.visible)||void 0===t||t):i===(null===(a=null===(r=e.dataItem)||void 0===r?void 0:r.component)||void 0===a?void 0:a.id)&&xM(e,null===(l=null===(s=null===(o=e.dataItem)||void 0===o?void 0:o.component)||void 0===s?void 0:s.visible)||void 0===l||l);}));}function SM(e){e instanceof _y?(e.slices.template.events.on(hP,(t=>{var i,n,r,a;const o=t.target.dataItem.category;CM({labels:null===(n=null===(i=e.chart)||void 0===i?void 0:i.legend)||void 0===n?void 0:n.labels,sliceCategory:o}),CM({labels:null===(a=null===(r=e.chart)||void 0===r?void 0:r.legend)||void 0===a?void 0:a.valueLabels,sliceCategory:o});})),e.slices.template.events.on(cP,(t=>{var i,n,r,a;const o=t.target.dataItem.category;CM({labels:null===(n=null===(i=e.chart)||void 0===i?void 0:i.legend)||void 0===n?void 0:n.labels,sliceCategory:o}),CM({labels:null===(a=null===(r=e.chart)||void 0===r?void 0:r.legend)||void 0===a?void 0:a.valueLabels,sliceCategory:o});}))):e.events.on(xP,(t=>{var i,n;const r=t.target.id;CM({labels:null===(n=null===(i=e.chart)||void 0===i?void 0:i.legend)||void 0===n?void 0:n.labels,seriesId:r});}));}function _M(e){var t,i;const{legendElements:{legend:n,legendTitle:r},firstSeries:a}=e,o=n.baseSprite,s=HO({chart:o}),l=nh(a),u=l===Zb||l===Qb;let d=!1;if(o instanceof ey){const e=!0===s?o.yAxes.getIndex(0):o.xAxes.getIndex(0);d=null!==(i=null===(t=null==e?void 0:e.renderer)||void 0===t?void 0:t.inversed)&&void 0!==i&&i,d=!0===s?!0!==d:d;}n.reverseOrder=!0===u&&!1===s,!0===d&&!1===u&&(n.reverseOrder=!0!==n.reverseOrder),!0===(null==o?void 0:o.rtl)&&o instanceof wy==!1&&(n.reverseOrder=!1===n.reverseOrder);const c=!0===n.reverseOrder?n.children.length-1:0;n.children.moveValue(r,c);}function PM(e,t){const i=e.target.dataItem;if(void 0!==(null==i?void 0:i.dataContext)){const{dataContext:a}=i,o={visible:e.target.isActive};if(!0===XA(a.uid,"isOverlay"))o.overlayType=XA(a.uid,"type");else if(a instanceof Sy){const e=YA(t.uid,"isNonAggregatedChart"),i=function(e){let t=!1;const i=YA(e.uid,"config"),{dataSource:n}=null!=i?i:{};return (null==n?void 0:n.type)===tx&&void 0!==(null==n?void 0:n.data)&&(t=!0),t}(t);!0===e||!0===i?o.sliceData=a.dataContext:o.sliceId=a.category;}else o.seriesId=a.id;const s=a instanceof Sy?a.component:a;void 0!==s&&!0!==XA(s.uid,"isOverlay")&&s.events.once(SP,(()=>{var e,i;const n=s instanceof _y,r=YA(t.uid,"currentSelectionDataItems"),a=void 0!==r&&r.length>0,o=null!==(e=YA(t.uid,"actionMode"))&&void 0!==e?e:uP.actionMode;let l;s instanceof $y?l=s.columns:!0===n?l=s.slices:s instanceof ay&&(!function(e){if(!0===e.visible){const t=YA(e.chart.uid,"config"),i=null==t?void 0:t.series.find((t=>t.id===e.id));if(void 0!==i&&ih([i])===Bb){const{markerVisible:t}=i;!1!==t&&e.bulletsContainer.show();}}}(s),l=null===(i=KO(s))||void 0===i?void 0:i.clones),null==l||l.each((e=>{e.dataItem instanceof xg==!1&&(PF({element:e,selected:!0===e.isActive,useNativeState:!0===n,backToDefaultState:!1===a}),!0===n&&o===fg&&(e.clickable=!1));}));})),n=o,void 0!==(r=t.htmlContainer)&&r.dispatchEvent(new window.CustomEvent(Ek.LegendItemVisibilityChange,jk(n)));}var n,r;}function wM(e,t){e.itemContainers.template.events.on(pP,(e=>PM(e,t))),t instanceof wy&&e.itemContainers.template.events.on(yP,(e=>function(e){var t;const{dataContext:i}=null!==(t=e.target.dataItem)&&void 0!==t?t:{};if(i instanceof Sy){const{component:e}=i;e instanceof _y&&e.showTooltip();}}(e)));}function IM(e,t){!1===e.adapter.keys().includes(t)&&e.adapter.add(t,(t=>{var i,n,r;let a=t;const o=null===(i=e.dataItem)||void 0===i?void 0:i.dataContext;if(void 0!==o){const e=o instanceof Sy?null===(n=o.component)||void 0===n?void 0:n.chart:o.chart;if(void 0!==e){const t=YA(e.uid,"config"),{rectangleMarkerRadius:i,roundedMarkerRadius:n}=uP.legendProperties;a=!0===(null===(r=null==t?void 0:t.legend)||void 0===r?void 0:r.roundMarkers)?n:i;}}return a}));}function TM(e){e.markers.each((e=>{const t=e.children.getIndex(0);t instanceof Xr&&(IM(t,"cornerRadiusBottomLeft"),IM(t,"cornerRadiusBottomRight"),IM(t,"cornerRadiusTopLeft"),IM(t,"cornerRadiusTopRight"),t.validate());}));}function AM(e,t){let i=hr.pointer;!0===t?(e.itemContainers.template.clickable=!1,e.itemContainers.template.focusable=!1,i=hr.notAllowed):(e.itemContainers.template.clickable=!0,e.itemContainers.template.focusable=!0),e.itemContainers.values.forEach((e=>{e.cursorOverStyle=i;}));}function OM(e){const t=new Sg;e.legend=t,function(e){e.scrollable=!0;}(t);const i=function(e){const t=bk(void 0,e);return t.adapter.add("paddingTop",(e=>{let i=e;const n=t.bbox.height;return n>0&&(i=-n),i})),t.adapter.add("x",(i=>{var n,r,a,o,s;let l=i;const{marginLeft:u,marginRight:d}=uP.legendProperties.legendTitle,c=YA(e.baseSprite.uid,"config");switch(null===(a=null===(r=null===(n=null==c?void 0:c.legend)||void 0===n?void 0:n.title)||void 0===r?void 0:r.content)||void 0===a?void 0:a.horizontalAlignment){case fb:l=t.measuredWidth+(null!==(o=u)&&void 0!==o?o:0);break;case gb:l=e.measuredWidth-t.measuredWidth-(null!==(s=d)&&void 0!==s?s:0);break;default:l=e.measuredWidth/2;}return l})),t}(t);return function(e){const t=uP.legendProperties;e.labels.template=bk(t.legendLabels),e.valueLabels.template=bk(t.legendLabels),e.markers.template.width=t.legendMarkersSize,e.markers.template.height=t.legendMarkersSize,e.labels.template.adapter.add("wrap",(()=>!0)),e.labels.template.adapter.add("maxWidth",(t=>{var i;let n,r=t;if(e.baseSprite instanceof wy){const t=YA(e.baseSprite.uid,"config");n=null===(i=null==t?void 0:t.legend)||void 0===i?void 0:i.labelMaxWidth;}if(e.position===Yb||e.position===$b)r=null!=n?n:uP.legendProperties.legendLabels.maxWidth;else if(void 0!==n)r=n;else {let t=0;!1===e.valueLabels.template.disabled&&e.valueLabels.each((e=>{t=Math.max(t,e.measuredWidth);})),r=e.measuredWidth-t-45;}return r})),e.labels.template.adapter.add("textOutput",((t,i)=>{var n,r,a,o,s;const l=null===(r=null===(n=i.dataItem)||void 0===n?void 0:n.label)||void 0===r?void 0:r.currentText;let u;const d=YA(e.baseSprite.uid,"config");if(void 0!==d){const{series:e}=d;if(ih(e)===Vb){const t=!0===Lh(e)?Ax:e[0].x;u=null===(o=null===(a=i.dataItem)||void 0===a?void 0:a.dataContext)||void 0===o?void 0:o[t];}else u=(null===(s=i.dataItem)||void 0===s?void 0:s.component).name;}return null!=u?u:l})),e.valueLabels.template.adapter.add("maxWidth",(t=>{var i;let n,r=t;if(e.baseSprite instanceof wy){const t=YA(e.baseSprite.uid,"config");n=null===(i=null==t?void 0:t.legend)||void 0===i?void 0:i.valueLabelMaxWidth;}return r=e.position===Yb||e.position===$b?null!=n?n:uP.legendProperties.valueLabels.maxWidth:null!=n?n:NaN,r}));}(t),vM(t),wM(t,e),function(e){e.itemContainers.template.reverseOrder=fd().rtl;}(t),function(e){const{legendProperties:t,legendProperties:i}=uP;e.adapter.add("paddingRight",(()=>!0===e.scrollbar.visible?i.legendPaddingRightWithScrollbarVisible:t.paddingRight)),e.adapter.add("paddingLeft",(()=>t.paddingLeft)),e.adapter.add("paddingTop",(()=>t.paddingTop)),e.adapter.add("paddingBottom",(()=>t.paddingBottom));}(t),function(e,t){t.chartContainer.events.on(bP,tP((()=>{var i,n,r;const a=YA(t.uid,"config");let o=null!==(n=null===(i=null==a?void 0:a.legend)||void 0===i?void 0:i.maxHeight)&&void 0!==n?n:NaN;!1===Number.isFinite(o)&&(o=e.position===Kb||e.position===Xb?null!==(r=uP.legendProperties.maxHeight)&&void 0!==r?r:NaN:t instanceof wy?t.chartContainer.measuredHeight:t.seriesContainer.measuredHeight-5),e.maxHeight=o,e.invalidateLayout();})),uP.debounceTime);}(t,e),hk(e,i),function(e){const t=()=>{var t;const i=e.children.values.find((e=>"Container"===e.className));if(3===(null==i?void 0:i.children.length)){const n=i.children.values.findIndex((e=>"Container"===e.className));if(-1!==n){const r=!0==(0!==n)?0:2,a=null===(t=i.children.getIndex(r))||void 0===t?void 0:t.clonedFrom;void 0!==a&&!0!==eO(a.uid,"isLegendValueLabel")&&e.children.each((e=>{"Container"===e.className&&e.children.swap(1,r);}));}}};e.events.on(SP,t),t();}(t),e.legend.events.on(TP,(()=>{const i=YA(e.uid,"options");AM(t,null==i?void 0:i.disableTogglingLegendItems);})),{legend:t,legendTitle:i}}function kM(e){const{legendElements:t,seriesConfig:i,webChartLegend:n}=e,{legend:r,legendTitle:a}=t,o=r.baseSprite,s=void 0===o||function(e){let t=!1;switch(ih(e)){case Po:t=!0;break;case To:case Io:case Oo:t=e.length>1;break;case Ao:case _o:{const i=e[0];t=Object.values(i.overlays).some((e=>!0===e.created));break}}return t}(i),l=!0===s&&!1!==(null==n?void 0:n.visible);if(void 0!==o&&void 0!==n&&!0===l){const{position:s}=n;UO(r,!0),function(e,t){var i,n;const{title:r,visible:a,position:o}=e,{legendTitle:s}=uP.legendProperties;void 0!==r&&(Ck(t,Object.assign(Object.assign({},r),{visible:!1!==a&&!1!==(null==r?void 0:r.visible)}),s),t.marginLeft=null!==(i=s.marginLeft)&&void 0!==i?i:0);o===Kb||o===Xb?(t.maxWidth=NaN,t.isMeasured=!1):(t.maxWidth=null!==(n=s.maxWidth)&&void 0!==n?n:NaN,t.marginTop=0,t.isMeasured=!0);}(n,a),function(e){e.markers.template.events.on(PP,(()=>{TM(e);})),e.events.once(SP,(()=>{TM(e);}));}(r),function(e){const{legendElements:{legend:t},seriesConfig:i,webChartLegend:n,seriesType:r}=e,{visible:a,body:o}=null!=n?n:{},s=null!=r?r:ih(i),l={type:kb,visible:a,content:Object.assign(Object.assign({},o),{type:Ib,text:" "})};Ck(t.labels.template,l,uP.legendProperties.legendLabels),t.labels.template.valign=Cb,t.valueLabels.template.valign=Cb,s===Vb&&bM(e),t.valueLabels.template.width=NaN;}(e),function(e,t){const{position:i}=t;e.contentAlign=i===Kb||i===Xb?yb:"none";}(r,n),function(e,t){const{legend:i}=e;!0===i.markers.template.events.has(PP)&&_M({legendElements:e,firstSeries:t}),i.markers.template.events.on(PP,(n=>{0===i.markers.indexOf(n.target)&&_M({legendElements:e,firstSeries:t});}));}(t,i[0]),r.position=s,function(e,t){t===Yb||t===$b?e.width=NaN:e.maxWidth=Number.MAX_SAFE_INTEGER;}(r,s),function(e){var t,i;const{legendProperties:n}=uP;e.position===Xb?(e.marginTop=null!==(t=n.marginTop)&&void 0!==t?t:0,e.marginBottom=0):e.position===Kb?(e.marginBottom=null!==(i=n.marginBottom)&&void 0!==i?i:0,e.marginTop=0):(e.marginTop=0,e.marginBottom=0);}(r);const l=YA(o.uid,"options");AM(r,null==l?void 0:l.disableTogglingLegendItems),r.events.once(SP,(()=>{r.baseSprite instanceof wy&&r.invalidateDataItems();}));}else r.position=Yb,r.width=0,UO(r,!1);}function FM(e){var t,i;const{series:n,symbolProps:r,iSeries:a,numberOfSeries:o}=e,{dataSource:s,seriesConfig:l}=r,u=new Set;let d,c,h=!1;const p=null!==(t=l.fillSymbol)&&void 0!==t?t:function(e,t=!1){return {type:xo,style:"esriSFSSolid",color:!0===t?Td(.7):Id({colorIndex:null!=e?e:0,opacity:.7}),outline:{type:vo,color:!0===t?Td(.7):Id({colorIndex:null!=e?e:0,opacity:.7})}}}(a);if(0===n.columns.length){const e=CF(Object.assign(Object.assign({},r),{dataSource:s,seriesConfig:l,seriesIndex:a,seriesSymbol:p,element:new Dr,dataIndex:0,isChartFillSymbol:!0}));d=e.symbolWithColorInfo,c=e.stylingInfo;}else n.columns.each(((e,t)=>{var i,n;let o;l.colorType===qb&&(o=null===(n=null===(i=e.dataItem)||void 0===i?void 0:i.dataContext)||void 0===n?void 0:n[Xk]);const h=CF(Object.assign(Object.assign({},r),{dataSource:s,seriesConfig:l,seriesIndex:a,seriesSymbol:p,element:e,dataIndex:t,rendererElementColor:o,isChartFillSymbol:!0}));d=h.symbolWithColorInfo,c=h.stylingInfo,oM(e,c),u.add(JSON.stringify(d));}));if(h=u.size>1,o>1)if(!1===h){const e=null===(i=n.legendDataItem)||void 0===i?void 0:i.marker.children.getIndex(0);void 0!==e?oM(e,c):n.chart.legend.events.once(SP,(()=>{var e;oM(null===(e=n.legendDataItem)||void 0===e?void 0:e.marker.children.getIndex(0),c),n.chart.legend.invalidate();}));}else CF(Object.assign(Object.assign({},r),{dataSource:s,seriesConfig:l,seriesIndex:a,seriesSymbol:p,element:n.columns.template,dataIndex:0,isChartFillSymbol:!0}));return !0===h||l.colorType===qb&&n.columns.length<=1?void 0:d}function DM(e){var t;return v(this,void 0,void 0,(function*(){const{updateBarSeriesProps:i,mapRendererColorToSeries:n,rendererInfo:r,queryType:a}=e,{seriesConfig:o,series:s,numberOfSeries:l,seriesIndex:u,dataSource:d,queryObject:c,rotationChanged:h,options:p,seriesSymbolMapForEvent:m,dataWasUpdated:f,sortChanged:g}=i;!function(e){const{series:t,seriesSymbolMapForEvent:i,numberOfSeries:n,iSeries:r}=e,a=FM(e);i.set(r,a),i.size===n&&Wk(i,t.chart.htmlContainer);}({series:s,iSeries:u,symbolProps:{seriesConfig:o,seriesSymbol:o.fillSymbol,y:o.y,dataSource:d,mapRendererColorToSeries:n,rendererInfo:r,queryType:a,seriesIndex:u},numberOfSeries:l,seriesSymbolMapForEvent:m}),yield rM({series:s,seriesIndex:u,queryObject:c,elementsToApplySelectionTo:s.columns.values,options:null!==(t=YA(s.chart.uid,"options"))&&void 0!==t?t:p,dataWasUpdated:f,sortChanged:g,rotationChanged:h,xAxisField:wO(s),yAxisField:IO(s)});}))}function MM(e){var t,i;return v(this,void 0,void 0,(function*(){const{seriesConfig:n,series:r,rendererInfo:a,mapRendererColorToSeries:o,rotationChanged:s,subtypeInfo:l,fieldList:u}=e,{name:d}=n,c=YA(r.chart.uid,"config"),h=HO({config:c}),p=Th(null==c?void 0:c.series);UO(r,n.visible);let m=d;const f=null!==(i=null===(t=r.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==i?i:"";p===Gd&&(m=kh({subtypeInfo:l,fieldList:u,fieldName:_h(f),fieldValueToMatch:m})),RD(r,m),WD({series:r,seriesConfig:n,rotationChanged:s,isRotated:h}),yield DM({updateBarSeriesProps:e,mapRendererColorToSeries:o,rendererInfo:a,queryType:p}),JA(r.uid,{barSeriesLastUpdate:{numberOfColumnsUpdated:r.columns.length,updateProps:e}});}))}function LM(e){var t;const{seriesConfig:i,axisPair:n,hideLoaderHandle:r,selectionTheme:a}=e,{x:o,y:s}=i,l=new $y;Uk(l,r),l.id=i.id,[l.xAxis,l.yAxis]=n;const u=HO({chart:n[0].chart});!0===u?l.dataFields.valueX=s:l.dataFields.valueY=s;const d=!0===u?n[1]:n[0];if(void 0!==d){const e=VD(d,u);l.dataFields[e]=o,l.baseAxis=d;}var c;return l.dataFields.customValue=null===(t=null==i?void 0:i.query)||void 0===t?void 0:t.where,dM(l.columns.template,l),l.columns.template.width=A(100),_F({element:l.columns.template,customSelectionTheme:a}),SM(l),(c=l).events.on(SP,(()=>{const e=XA(c.uid,"barSeriesLastUpdate");if(void 0!==e){const{numberOfColumnsUpdated:t,updateProps:i}=e;1==c.columns.length>t&&MM(i);}})),l}function EM(e){var t,i;return v(this,void 0,void 0,(function*(){const{seriesConfig:n,series:r,seriesIndex:a,axes:o,commonStrings:s,inlineDisplayLabelField:l,fieldList:u,options:d}=e,c=HO({chart:r.chart});Lk({series:r,seriesType:Nb,isRotated:c,stackedType:n.stackedType,dataLabelsConfig:n.dataLabels,yAxisValueFormat:o[1].valueFormat,customDataLabelFormatter:null==d?void 0:d.dataLabelFormatter});let h=XA(r.uid,"updateStyleAndSelectionCallbackDisposer");void 0!==h&&h.dispose();let p=0;null===(i=null===(t=r.chart)||void 0===t?void 0:t.data)||void 0===i||i.forEach((e=>{Number.isFinite(e[n.y])&&(p+=1);})),h=r.events.on(SP,(()=>v(this,void 0,void 0,(function*(){r.columns.length===p&&(void 0!==h&&h.dispose(),yield MM(e));})))),r.validate(),JA(r.uid,{updateStyleAndSelectionCallbackDisposer:h}),fM({series:r,seriesConfig:n,fieldList:u,inlineDisplayLabelField:l,commonStrings:s,seriesIndex:a,tooltipFormatter:null==d?void 0:d.tooltipFormatter});}))}const jM="count",VM="minValue",RM="maxValue",BM="Mean",NM="Median",WM="Standard Deviation",zM="Normal Distribution",HM="Trendline";function GM({x:e,mean:t,stddev:i,scalingFactor:n}){const r=-1/(2*Math.pow(i,2));return (null!=n?n:1)*Math.exp(r*Math.pow(e-t,2))}function UM(e){const t=bk(uP.dataLabelInitialize);return tO(t.uid,{isDataLabel:!0}),e.bullets.push(t),Pk(Wb,t),function(e,t){e.adapter.add("htmlOutput",((e,i)=>{let n=e;const r=XA(t.uid,"histogramDataLabelFormatter"),{dataItem:a}=i;if(void 0!==r&&a instanceof qy){const{valueY:e,openValueX:t,valueX:i}=a;n=r(e,t,i);}return dh(n)}),0);}(t,e),t.html="{valueX}",t}function qM(e){const{numberFormatter:t,dataLabelsConfigContent:i}=e;return (e,n,r)=>uk({textSymbol:Object.assign(Object.assign({},i),{text:t.format(e)}),format:"html"})}function $M(e){const{series:t}=e,i=Ak(t,"bullets");Fk(Object.assign(Object.assign({},e),{dataLabel:i,defaultDataLabelFormatter:qM,seriesType:Wb}));}const YM={mean:"Mean",median:"Median",sum:"Sum",discretePercentitle:"Discrete percentile",minimum:"Minimum",maximum:"Maximum",variance:"Variance",count:"Count",aggregation:"${ statistics } of ${ fieldName }",percent:"Percent",noAggregation:"No aggregation"},KM={mean:"Mean",median:"Median",stdDev:"Standard Deviation",normal:"Normal Distribution",trendline:"Trendline"},XM={defaultSliceGroupingLabel:"Other"};var JM={statistics:YM,overlays:KM,guideTooltipLabel:"From ${ guideStart } to ${ guideEnd }",pieChart:XM,notAvailable:"Not Available"},ZM=Object.freeze({__proto__:null,statistics:YM,overlays:KM,guideTooltipLabel:"From ${ guideStart } to ${ guideEnd }",pieChart:XM,notAvailable:"Not Available",default:JM});function QM(e){const{axes:t,seriesConfig:i,series:n,fieldList:r}=e,{dataTooltipVisible:a}=i;let o;const s=BA();return o=!1===a?(e,t,i)=>"":(e,a,o)=>{var l,u,d,c;const h=sM(oh(r,i.x),null===(u=null===(l=null==t?void 0:t[0].title)||void 0===l?void 0:l.content)||void 0===u?void 0:u.text),p=sM(JM.statistics.count,null===(c=null===(d=null==t?void 0:t[1].title)||void 0===d?void 0:d.content)||void 0===c?void 0:c.text),m=lM({series:n,callbackName:"tooltipValueYNumberFormatCallback",value:e}),f=lM({series:n,callbackName:"tooltipValueXNumberFormatCallback",value:a}),g=lM({series:n,callbackName:"tooltipValueXNumberFormatCallback",value:o});return `<b>${h}${s} </b>${f} - ${g}<br /><b>${p}${s} </b>${m}`},o}function eL(e){const{series:t,tooltipFormatter:i}=e;JA(t.uid,{histogramTooltipFormatter:null!=i?i:QM(e)});}function tL(e){return v(this,void 0,void 0,(function*(){const{xAxis:t,yAxis:i,type:n,hideLoaderHandle:r}=e;t instanceof zg!=!1&&i instanceof zg!=!1||(yield DA("invalidAxesForHistogram"));const a=new ay;return a.id=n,Uk(a,r),JA(a.uid,{isOverlay:!0,type:n}),a.dataFields.valueX="x",a.dataFields.valueY="y",void 0!==t&&(a.xAxis=t),void 0!==i&&(a.yAxis=i),a.hidden=!0,a}))}function iL(e){var t;const{lineSeries:i,valueFormat:n,overlay:r,chartData:a,commonStrings:o}=e,{symbol:s,created:l,visible:u}=r,d=!0===l&&!1!==u,c=XA(i.uid,"type"),h=XA(i.uid,"upper");if(bF({element:i,lineSymbol:s,visible:d}),i.hiddenInLegend=!0!==l||!0===h,void 0!==a){const e=a.bins.map((e=>e.count)),t=Math.max(...e),{mean:n,stddev:r,median:o}=a,s=n-r,l=n+r;let u={x:NaN,y:NaN},d={x:NaN,y:NaN};switch(c){case BM:u={x:n,y:0},d={x:n,y:t};break;case NM:u={x:o,y:0},d={x:o,y:t};break;case WM:!0===h?(u={x:l,y:0},d={x:l,y:t}):(u={x:s,y:0},d={x:s,y:t});}const p={data:[u,d]};i.data=p.data;}let p=i.data[0].x;if(c===WM&&(p=null!==(t=null==a?void 0:a.stddev)&&void 0!==t?t:XA(i.uid,"stddev"),JA(i.uid,{stddev:p})),void 0!==p){let e=c;switch(c){case BM:e=o.overlays.mean;break;case NM:e=o.overlays.median;break;case WM:e=o.overlays.stdDev;break;case HM:e=o.overlays.trendline;}RD(i,`${e}: ${zO(p,n,i.chart.language.locale)}`);}}function nL(e){const{lineSeries:t,overlay:i,seriesData:n,numberOfPoints:r}=e,{symbol:a,created:o,visible:s}=i;if(bF({element:t,lineSymbol:a,visible:!0===o&&!1!==s}),t.hiddenInLegend=!0!==o,void 0!==n){const{mean:e,stddev:i,min:a,max:o}=n,s=function(e){let t=0;if(e.length>0)for(let i=0;i<e.length;i+=1)e[i].count>t&&(t=e[i].count);return t}(n.bins),l=function(e,t,i){const n=t-e;let r=[];0!==n&&(1===i?r=[e]:i>1&&(r=[...rD(e,t,n/(i-1)),t]));return r}(a,o,null!=r?r:uP.histogramSeries.normalDistribNumberOfPoints).map((t=>({x:t,y:GM({x:t,mean:e,stddev:i,scalingFactor:s})})));t.data=l;}}function rL(e){return v(this,void 0,void 0,(function*(){const{seriesConfig:t,axisPair:i,hideLoaderHandle:n,commonStrings:r,selectionTheme:a}=e;!1==(i[0]instanceof zg&&i[1]instanceof zg)&&(yield DA("invalidAxesForHistogram"));const o=[],s=new $y;Uk(s,n),s.id=t.id,s.hiddenInLegend=!0;const l=i[0],u=i[1];s.xAxis=l,s.yAxis=u,function(e){const t=e.columns.template;t.tooltipPosition=uP.columnTooltipPosition,t.tooltipHTML=uP.htmlEmptyContent,t.adapter.add("tooltipHTML",((t,i)=>{var n;let r=t;const{chart:a}=e;if(void 0!==a){const t=YA(a.uid,"config"),{dataTooltipVisible:o}=null!==(n=null==t?void 0:t.series[0])&&void 0!==n?n:{};if(!1===o)r="";else {const t=XA(e.uid,"histogramTooltipFormatter");if(void 0!==t){const{dataItem:e}=i;if(e instanceof qy){const{valueY:i,openValueX:n,valueX:a}=e;r=t(i,n,a);}}}}return dh(r)}));}(s),UM(s),s.dataItems.template.locations.valueX=1,s.dataItems.template.locations.openValueX=0,s.dataFields.openValueX=VM,s.dataFields.valueX=RM,s.dataFields.valueY=jM,s.dataFields.customValue=t.x,_F({element:s.columns.template,customSelectionTheme:a}),o.push(s),o.push(yield tL({xAxis:l,yAxis:u,type:BM,hideLoaderHandle:n})),o.push(yield tL({xAxis:l,yAxis:u,type:NM,hideLoaderHandle:n}));const d=yield tL({xAxis:l,yAxis:u,type:WM,hideLoaderHandle:n});JA(d.uid,{upper:!1});const c=yield tL({xAxis:l,yAxis:u,type:WM,hideLoaderHandle:n});return JA(c.uid,{upper:!0}),d.events.on(cP,(()=>{UO(c,!1);})),d.events.on(hP,(()=>{UO(c);})),o.push(d),o.push(c),o.push(yield function(e,t,i){return v(this,void 0,void 0,(function*(){e instanceof zg!=0&&t instanceof zg!=0||(yield DA("invalidAxesForHistogram"));const n=new ay;return JA(n.uid,{isOverlay:!0,type:zM}),n.xAxis=e,n.yAxis=t,n.dataFields.valueX="x",n.dataFields.valueY="y",RD(n,i.overlays.normal),n.hidden=!0,n.id=zM,n}))}(l,u,r)),o.forEach((e=>{const t=XA(e.uid,"isOverlay"),i=XA(e.uid,"upper");!0===t&&!0!==i&&SM(e);})),o}))}function aL(e){var t;return v(this,void 0,void 0,(function*(){const{updateHistogramSeriesProps:i,currentSeries:n,layer:r}=e,{seriesConfig:a,dataSource:o,options:s,queryObject:l,dataWasUpdated:u}=i;!function(e){const{currentColumnSeries:t,dataSource:i,seriesConfig:n,layer:r}=e;let a;const o=new Map;let s={};if(i.type===ix&&n.colorType===qb&&void 0!==r&&!1===r.isTable&&(s=mh(r.renderer),dF({series:n,layer:r,mapRendererColorToSeries:o})),t.columns.each(((e,t)=>{const r=CF({element:e,seriesConfig:n,seriesSymbol:n.fillSymbol,dataIndex:t,dataSource:i,rendererInfo:s,mapRendererColorToSeries:o,isChartFillSymbol:!0});a=r.symbolWithColorInfo,oM(e,r.stylingInfo);})),void 0!==a){const e=new Map;e.set(0,a),Wk(e,t.chart.htmlContainer);}}({currentColumnSeries:n,seriesConfig:a,dataSource:o,layer:r}),yield rM({series:n,queryObject:l,elementsToApplySelectionTo:n.columns.values,options:null!==(t=YA(n.chart.uid,"options"))&&void 0!==t?t:s,dataWasUpdated:u,xAxisField:a.x});}))}function oL(e){return v(this,void 0,void 0,(function*(){const{seriesConfig:t,chartSeries:i,axes:n,chartData:r,queryObject:a,options:o,commonStrings:s,tooltipFormatter:l,dataLabelFormatter:u}=e,d=t.overlays;let c,h=[];void 0!==a&&(h=yield bh(a,null==o?void 0:o.usePopupTemplateFieldsInfo),c=vh(a));for(let a=0;a<6;a+=1){const o=i[a];if(!0===XA(o.uid,"isOverlay")){const e=XA(o.uid,"type");let t={type:Fb,created:!1,symbol:{type:_b}};if(e===zM){if(void 0===d.comparisonDistribution.symbol.color){const t=uh(e);d.comparisonDistribution.symbol.color=Id({colorIndex:t,histogramOverlays:!0});}nL({lineSeries:o,overlay:d.comparisonDistribution,seriesData:r});}else {switch(e){case BM:t=d.mean;break;case NM:t=d.median;break;case WM:t=d.standardDeviation;}if(void 0===t.symbol.color){const i=uh(e);t.symbol.color=Id({colorIndex:i,histogramOverlays:!0});}iL({lineSeries:o,valueFormat:Od(),overlay:t,chartData:r,commonStrings:s});}o.events.once(SP,(()=>{var e,t;!0!==XA(o.uid,"upper")&&CM({labels:null===(t=null===(e=o.chart)||void 0===e?void 0:e.legend)||void 0===t?void 0:t.labels,seriesId:o.id});}));}else {UO(o,t.visible),RD(o,t.name);const i={updateHistogramSeriesProps:e,currentSeries:o,layer:c};o.columns.length>0?yield aL(i):o.events.once(SP,(()=>v(this,void 0,void 0,(function*(){yield aL(i);})))),$M({series:o,seriesType:Wb,dataLabelsConfig:t.dataLabels,yAxisValueFormat:n[1].valueFormat,customDataLabelFormatter:u}),eL({axes:n,series:o,seriesConfig:t,fieldList:h,tooltipFormatter:l}),BD({axes:n,currentSeries:o,tooltipValueFormat:t.dataTooltipValueFormat});}}}))}function sL(e){const t=bk(uP.dataLabelInitialize);return tO(t.uid,{isDataLabel:!0}),e.bullets.push(t),function(e,t){e.adapter.add("htmlOutput",((e,i)=>{var n,r;let a=e;const o=XA(t.uid,"scatterPlotDataLabelFormatter"),{dataItem:s}=i;if(s instanceof ry&&void 0!==o){const{valueX:e,valueY:i,customValue:l}=s,u=(null===(n=s.component)||void 0===n?void 0:n.xAxis).min,d=(null===(r=s.component)||void 0===r?void 0:r.yAxis).min;a=!0==(!0===Tk({dataValue:e,series:t,seriesType:jb,axisMin:u})||!0===Tk({dataValue:i,series:t,seriesType:jb,axisMin:d}))?"":o(e,i,l);}return dh(a)}),0);}(t,e),t.html="{valueX} - {valueY}",t}function lL(e){const{numberFormatter:t,dataLabelsConfigContent:i}=e;return (e,n)=>uk({textSymbol:Object.assign(Object.assign({},i),{text:`${t.format(e)} - ${t.format(n)}`}),format:"html"})}function uL(e){const{series:t}=e,i=Ak(t,"bullets");Fk(Object.assign(Object.assign({},e),{dataLabel:i,defaultDataLabelFormatter:lL,seriesType:jb}));}function dL(e){const{axes:t,seriesConfig:i,series:n,fieldList:r}=e,{dataTooltipVisible:a}=i;let o;const s=BA();return o=!1===a?(e,t,i)=>"":(e,a,o)=>{var l,u,d,c,h,p;const m=sM(oh(r,i.x),null===(u=null===(l=null==t?void 0:t[0].title)||void 0===l?void 0:l.content)||void 0===u?void 0:u.text),f=sM(oh(r,i.y),null===(c=null===(d=null==t?void 0:t[1].title)||void 0===d?void 0:d.content)||void 0===c?void 0:c.text),g=lM({series:n,callbackName:"tooltipValueXNumberFormatCallback",value:e}),y=lM({series:n,callbackName:"tooltipValueYNumberFormatCallback",value:a});let v=`<b>${m}${s} </b>${g}<br /><b>${f}${s} </b>${y}`;if(void 0!==o&&void 0!==(null===(h=i.sizePolicy)||void 0===h?void 0:h.field)){const e=oh(r,null===(p=i.sizePolicy)||void 0===p?void 0:p.field),t=lM({series:n,callbackName:"tooltipValueYNumberFormatCallback",value:o});v+=`<br /><b>${e}${s} </b>${t}<br /><b>`;}return v},o}function cL(e){const{series:t,tooltipFormatter:i}=e;JA(t.uid,{scatterPlotTooltipFormatter:null!=i?i:dL(e)});}function hL(e){const t=e.renderer.labels.values.filter((e=>!0!==eO(e.uid,"isGuide")&&e.measuredWidth>0)).length;return e.pixelWidth/t}function pL(e){var t;const{target:i}=e,n=YA(i.chart.uid,"config"),r=null!==(t=null==n?void 0:n.horizontalAxisLabelsBehavior)&&void 0!==t?t:bx;if(r===Cx){let e=Number.MAX_SAFE_INTEGER;i.renderer.labels.each((t=>{!0!==eO(t.uid,"isGuide")&&t.measuredWidth>0&&(e=Math.min(e,t.bbox.width));})),i.renderer.minGridDistance=e;}else if(r!==bx){let e=0;if(i.renderer.labels.each((t=>{if(!0!==eO(t.uid,"isGuide")&&t.measuredWidth>0){const i=t.bbox.width;i>e&&(e=i);}})),e>0){r===xx&&(e*=.6),i.renderer.minGridDistance=e;const t=ZA(i.uid,"debouncedSizechangedForMinGridDistanceCallBack");void 0!==t&&(i.events.off(bP,t),QA(i.uid,{debouncedSizechangedForMinGridDistanceCallBack:void 0}));}}}function mL(e){var t,i,n;const{target:r}=e;if(void 0!==r.chart){const e=YA(r.chart.uid,"config"),a=null===(t=null==e?void 0:e.axes)||void 0===t?void 0:t[0].labels;if(void 0!==a&&r.renderer.labels.length>1){let e=0;r.renderer.labels.each((t=>{if(!0!==eO(t.uid,"isGuide")&&t.measuredWidth>0){const i=t.bbox.width;i>e&&(e=i);}}));const t=null!==(n=null===(i=ZA(r.uid,"labelsSymbol"))||void 0===i?void 0:i.angle)&&void 0!==n?n:0,o=hL(r)>=e+5;if(!1===o&&0===t||!0===o&&t===uP.rotatedAxisLabel.rotation){const e=!1===o?yk({type:Ib},uP.rotatedAxisLabel):yk(a.content,uP.axisLabel);QA(r.uid,{labelsSymbol:e}),r.renderer.invalidateLabels();}}}}function fL(e){const{target:t}=e,i=hL(t);!0===Number.isFinite(i)&&(t.renderer.labels.template.maxWidth=i);}function gL(e){var t;const{target:i}=e,n=YA(i.chart.uid,"config"),r=null===(t=null==n?void 0:n.axes)||void 0===t?void 0:t[0].labels;!1!==(null==r?void 0:r.visible)&&(i.dataItems.each((e=>{const{tick:t,label:i,itemIndex:n}=e;if(!0!==eO(i.uid,"isGuide")&&void 0!==i.currentText&&i.measuredWidth>0){const e=i.bbox.height,r=n%2==1;t.length=!0===r?e+5:uP.axisTickLength,t.dataItem.label.dy=uP.axisLabel.dy+(!0===r?e:0);}})),i.validate());}function yL(e){e.renderer.labels.template.maxWidth=NaN,e.renderer.labels.template.wrap=!1,e.renderer.labels.template.textAlign="start";}function vL(e){!function(e){var t;const{chart:i}=e;e.renderer.labels.template.paddingLeft=NaN,e.renderer.labels.template.paddingRight=NaN;const n=ZA(e.uid,"debouncedAxisLabelRotationCallback");if(void 0!==n&&(e.events.off(SP,n),QA(e.uid,{debouncedAxisLabelRotationCallback:void 0})),void 0!==i){const n=YA(i.uid,"config"),r=null===(t=null==n?void 0:n.axes)||void 0===t?void 0:t[0].labels;if(void 0!==r){const t=yk(r.content,uP.axisLabel),i=e.renderer.labels.template;i.rotation=t.angle,i.verticalCenter=t.verticalCenter,i.horizontalCenter=t.horizontalCenter,i.dy=t.yOffset;}QA(e.uid,{labelsSymbol:void 0});}}(e),function(e){yL(e),e.renderer.labels.template.paddingLeft=NaN,e.renderer.labels.template.paddingRight=NaN;const t=ZA(e.uid,"debouncedAxisLabelWrapCallback");void 0!==t&&(e.events.off(AP,t),QA(e.uid,{debouncedAxisLabelWrapCallback:void 0}));}(e),function(e){const t=ZA(e.uid,"debouncedAxisLabelStaggerCallback");void 0!==t&&(e.events.off(AP,t),QA(e.uid,{debouncedAxisLabelStaggerCallback:void 0}));const i=ZA(e.uid,"debouncedSizechangedForMinGridDistanceCallBack");void 0!==i&&(e.events.off(bP,i),QA(e.uid,{debouncedSizechangedForMinGridDistanceCallBack:void 0})),e.renderer.ticks.each((e=>{var t;e.length=uP.axisTickLength,e.dataItem.label.dy=null!==(t=uP.axisLabel.dy)&&void 0!==t?t:0;}));}(e);}function bL(e){!function(e){const t=e.renderer.labels.template;ZO(t)&&(t.adapter.add("rotation",((t,i)=>{var n,r;return !0!==eO(i.uid,"isGuide")&&null!==(r=null===(n=ZA(e.uid,"labelsSymbol"))||void 0===n?void 0:n.angle)&&void 0!==r?r:t})),t.adapter.add("verticalCenter",((t,i)=>{var n,r;return !0!==eO(i.uid,"isGuide")&&null!==(r=null===(n=ZA(e.uid,"labelsSymbol"))||void 0===n?void 0:n.verticalCenter)&&void 0!==r?r:t})),t.adapter.add("horizontalCenter",((t,i)=>{var n,r;return !0!==eO(i.uid,"isGuide")&&null!==(r=null===(n=ZA(e.uid,"labelsSymbol"))||void 0===n?void 0:n.horizontalCenter)&&void 0!==r?r:t})),t.adapter.add("dy",((t,i)=>{var n,r,a,o,s;let l=null!==(n=uP.axisLabel.dy)&&void 0!==n?n:t;return l=(null===(a=null===(r=i.dataItem)||void 0===r?void 0:r.tick)||void 0===a?void 0:a.length)>uP.axisTickLength?t:!0!==eO(i.uid,"isGuide")&&null!==(s=null===(o=ZA(e.uid,"labelsSymbol"))||void 0===o?void 0:o.yOffset)&&void 0!==s?s:l,l})));}(e),e.renderer.labels.template.paddingLeft=0,e.renderer.labels.template.paddingRight=0;const t=tP(mL,uP.debounceTime,{leading:!0});QA(e.uid,{debouncedAxisLabelRotationCallback:t}),e.events.on(SP,t),e.dispatchImmediately(SP);}function xL(e){const{axis:t,horizontalAxisLabelsBehavior:i,verticalAxisLabelsBehavior:n,labelsConfig:r,axisLabelsBehaviorChanged:a}=e;if(t.renderer instanceof qg&&!0===(null==a?void 0:a[0]))switch(vL(t),i){case vx:break;case xx:!function(e){const t=tP(gL,uP.debounceTime);QA(e.uid,{debouncedAxisLabelStaggerCallback:t}),e.events.on(AP,t);}(t);break;case Cx:!function(e){e.renderer.labels.template.wrap=!0,e.renderer.labels.template.paddingLeft=0,e.renderer.labels.template.paddingRight=0;const t=tP(fL,uP.debounceTime);QA(e.uid,{debouncedAxisLabelWrapCallback:t}),e.events.on(AP,t);}(t);break;case bx:bL(t);break;default:null!==r.content.angle&&void 0===r.content.angle&&bL(t);}else t.renderer instanceof Bg&&!0===(null==a?void 0:a[1])&&(n!==vx?function(e){e.renderer.labels.template.maxWidth=uP.yAxisLabelMaxWidth,e.renderer.labels.template.wrap=!0,e.renderer.labels.template.textAlign="end";}(t):function(e){yL(e);}(t));}function CL(e,t){const i=e.renderer instanceof cy?new dy:new Lg;return i.disabled=!0,i.axis=e,vk(i),tO(i.uid,{isGuide:t}),HA({chart:e.chart,label:i,labelType:RA}),!0===t&&function(e,t){e.chart instanceof gy==0&&(t.adapter.add("dx",(e=>{let i=e;return 90!==t.rotation&&270!==t.rotation||(i=t.bbox.height,t.dataItem.value!==t.dataItem.endValue&&(i/=2)),i})),t.padding(0,10,0,10));}(e,i),i}const SL="guides",_L="ticks",PL="firstAndLast",wL="gaugeTicksWithLabels";function IL(e,t){return i=>{var n,r,a,o,s;const{guideName:l,start:u,end:d,guideIndex:c}=i,{chart:h}=e;let p="";if(void 0!==h){const i=YA(h.uid,"config"),m=YA(h.uid,"isRotated"),f=!0===(!1===iE(e.renderer,m))?1:0,g=null===(n=null==i?void 0:i.axes)||void 0===n?void 0:n[f],y=null==g?void 0:g.guides;let v=u,b=d;if(e instanceof Ug){let e,t=new vr;void 0!==h&&(t=kA(Lb,h.language.locale),e=null===(o=null===(a=null===(r=null==i?void 0:i.axes)||void 0===r?void 0:r[0])||void 0===a?void 0:a.valueFormat)||void 0===o?void 0:o.intlOptions),v=t.format(u,e),void 0!==d&&(b=t.format(d,e));}else if(e instanceof zg&&u instanceof Date==!1&&d instanceof Date==!1){const{start:t,end:i}=AL(e,null==y?void 0:y[c]);!0===Number.isFinite(t)&&(v=t),!0===Number.isFinite(i)&&(b=i);const n=null!==(s=ZA(e.uid,"numberFormatter"))&&void 0!==s?s:e=>(new yr).format(e);v=n(v),void 0!==b&&(b=n(b));}else e instanceof Kg&&(v=u,b=d);void 0!==v&&(v=`${v}`),void 0!==b&&(b=`${b}`),p=!1===sh(b)&&v!==b?pd(null==t?void 0:t.guideTooltipLabel,{guideStart:v,guideEnd:b}):`${v}`;p=`${l}${BA()} ${p}`;}return p}}function TL(e){var t;const{inputValue:i,axisType:n,axisMin:r,axisMax:a,isRTL:o}=e;let s=i;if(null!=i)switch(n){case _x:s=i instanceof Date?i:new Date(i);break;case Px:s=i.toString();break;case Sx:if("number"!=typeof i){const e=i.toString().trim();if(!0===function(e,t=!1){let i=!1;void 0!==e&&(i=(!0===t?/^%(0*100{1,1}\.?((?:\.)0*)?$)|(^%0*\d{0,2}\.?((?:\.)\d*)?)$/:/^(0*100{1,1}\.?((?:\.)0*)?%$)|(^0*\d{0,2}\.?((?:\.)\d*)?%)$/).test(e.replace(" ","")));return i}(e,o))if(void 0!==r&&void 0!==a){const i=null===(t=(!0===o?/%(\d{1,3}(.\d+)?)$/:/(\d{1,3}(.\d+)?)%$/).exec(e.replace(" ","")))||void 0===t?void 0:t[1];void 0!==i&&(s=Number(i)/100*(a-r)+r);}else s=null;else s=parseFloat(e);}}return s}function AL(e,t){var i;const{start:n,end:r}=null!=t?t:{};let a;if(void 0!==t&&null!=n){const o=function(e){let t=Sx;return e instanceof Ug?t=_x:e instanceof Kg&&(t=Px),t}(e),s=e instanceof zg?e.min:void 0,l=e instanceof zg?e.max:void 0,u=e instanceof zg&&e.chart.rtl,d=TL({inputValue:n,axisType:o,axisMin:s,axisMax:l,isRTL:u}),c=(null===(i=t.style)||void 0===i?void 0:i.type)===wb&&null!=r?TL({inputValue:r,axisType:o,axisMin:s,axisMax:l,isRTL:u}):d;a={isValidGuide:null!=d&&null!=c,start:d,end:c};}else a={isValidGuide:!1,start:void 0,end:void 0};return a}function OL(e){var t;const{axis:i,tickOrGuide:n,numberOfElementsToBeDeleted:r}=e,a=[];let o=i.axisRanges.length-1,s=r;for(;s>0&&o>=0;){const e=i.axisRanges.getIndex(o);if(void 0!==e){const i=null!==(t=eO(e.label.uid,"isGuide"))&&void 0!==t&&t;(!0!==i&&n===_L||!0===i&&n===SL)&&(a.push(e),s-=1);}o-=1;}for(let e=0;e<a.length;e+=1)i.axisRanges.removeValue(a[e]);}function kL(e,t){var i,n;const r=null===(n=null===(i=e.axisRanges)||void 0===i?void 0:i.values)||void 0===n?void 0:n.filter((e=>{var i,n;const r=null!==(i=eO(e.label.uid,"isGuide"))&&void 0!==i&&i,a=null!==(n=eO(e.label.uid,"isGaugeAxisLabel"))&&void 0!==n&&n;let o=!1;switch(t){case _L:o=!1===r;break;case SL:o=!0===r;break;case wL:o=!0===a&&void 0!==e.value;break;case PL:o=!0===r&&(e.id===uP.gaugeFirstLabelId||e.id===uP.gaugeLastLabelId);}return o}));return null!=r?r:[]}function FL(e,t){let i,n=e.axisRanges.length;if(!0===t){const t=e.axisRanges.values.findIndex((e=>e.id===uP.gaugeFirstLabelId));-1!==t&&(n=t);}return i=e instanceof Kg?new Yg:e instanceof Ug?new Gg:new Wg,e.axisRanges.insertIndex(n,i),i.label=CL(e,t),i.axisFill.fillOpacity=1,i.axisFill.disabled=!0,i.grid.strokeOpacity=1,i}function DL(e,t){const i=FL(e,!0);!function(e,t){e.axisFill.tooltip=new Aa,e.axisFill.interactionsEnabled=!0,e.axisFill.tooltipPosition="pointer",e.axisFill.adapter.add("tooltipHTML",((e,i)=>{var n;let r=e;const{dataItem:a,axis:o}=i;if(o.renderer instanceof cy==0){const e=ZA(o.uid,"guideTooltipFormatter");if(void 0!==e){let i,o="";a instanceof Wg?(o=a.value,i=a.endValue):a instanceof Yg?(o=a.category,i=a.endCategory):a instanceof Gg&&(o=a.date,i=a.endDate),r=e({guideName:null!==(n=a.id)&&void 0!==n?n:"",start:o,end:i,guideIndex:t});}!0===sh(r)&&(r="<p></p>");}return r}));}(i,t),void 0!==i.tick&&(i.tick.disabled=!0),void 0!==i.label&&(i.label.inside=!0),void 0!==i.grid&&(i.grid.disabled=!0);}function ML(e,t){var i;const{start:n,end:r}=t;if(void 0!==n){const{chart:a}=null!==(i=null==e?void 0:e.component)&&void 0!==i?i:{};let o;if(e instanceof Yg&&a instanceof ey&&!0===YA(a.uid,"isNonAggregatedChart")){const{modifiedStart:e,modifiedEnd:i}=function(e,t){var i;const{start:n,end:r}=t,a=YA(e.uid,"config"),o=qO(null==a?void 0:a.series[0]);let s=null!==n?n:void 0;const l=e.data.find((e=>e[uP.originalCategoryValue]===n));s=null!==(i=null==l?void 0:l[o])&&void 0!==i?i:s;let u=null!==r?r:void 0;if(void 0!==u)for(let t=e.data.length-1;t>=0;t-=1){const i=e.data[t];if(i[uP.originalCategoryValue]===r){u=i[o];break}}return {modifiedStart:s,modifiedEnd:u}}(a,t);o={isValidGuide:!0,start:null!=e?e:n,end:null!=i?i:r};}else o=AL(e.axisFill.axis,t);!0===o.isValidGuide&&(e instanceof Yg?(e.category=`${o.start}`,e.endCategory=`${o.end}`):e instanceof Gg?(e.date=o.start,e.endDate=o.end):(e.value=o.start,e.endValue=o.end));}}function LL(e,t){var i,n;const{axisFill:r,label:a}=e;if(void 0!==t){if(e.id=t.name,e.visible=void 0!==t.visible?t.visible:e.visible,ML(e,t),t.style.type===_b?xF({element:r,fillSymbol:{type:wb,color:null===(i=t.style)||void 0===i?void 0:i.color,outline:t.style},visible:t.visible}):t.style.type===wb&&xF({element:r,fillSymbol:t.style,visible:t.visible}),o=e,s=t.above,o.axisFill.above=null!=s?s:uP.guideAbove,o.grid.above=null!=s?s:uP.guideAbove,void 0!==t.label){!function(e){const{label:t,labelConfig:i,guideType:n}=e,r=t.axis.renderer instanceof qg;let a;t instanceof dy==0&&(a=!0===r?n===wb?uP.verticalSurfaceGuideLabels:uP.verticalLineGuideLabels:n===wb?uP.horizontalSurfaceGuideLabels:uP.horizontalLineGuideLabels),Ck(t,i,a),t.axis.invalidateLabels();}({label:a,labelConfig:{type:kb,visible:t.visible,content:t.label},guideType:t.style.type});}zA({chart:null===(n=e.component)||void 0===n?void 0:n.chart,label:a,labelType:RA});}else r.disabled=!0,a.disabled=!0;var o,s;}function EL(e){const{axis:t,guides:i,guideTooltipFormatter:n,commonStrings:r}=e;if(void 0!==i){for(let e=0;e<i.length;e+=1){const n=kL(t,SL)[e];void 0!==n&&LL(n,i[e]);}!function(e){const{axis:t,guideTooltipFormatter:i,commonStrings:n}=e;QA(t.uid,{guideTooltipFormatter:null!=i?i:IL(t,n)});}({axis:t,guideTooltipFormatter:n,commonStrings:r});}}function jL(e){const{axis:t,guides:i}=e;!function(e,t){var i;const n=kL(e,SL).length,r=(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:n)-n;for(let t=0;t<r;t+=1)DL(e,t);}(t,i),EL(e),function(e,t){var i;OL({axis:e,numberOfElementsToBeDeleted:kL(e,SL).length-(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0),tickOrGuide:SL});}(t,i);}function VL(e){const t=FL(e,!1);t.label.inside=!1,t.grid.disabled=!0,t.label.html="<p></p>",t.label.adapter.add("htmlOutput",((t,i)=>{var n,r;return uO(e,null!==(r=null===(n=null==i?void 0:i.dataItem)||void 0===n?void 0:n.value)&&void 0!==r?r:t)}));}function RL(e){const{axisTick:t,value:i,axisConfig:n,numberFormatter:r}=e;t.value=i,n.labels.content.text=r.format(i),bF({element:t.tick,lineSymbol:n.lineSymbol,visible:n.visible});}function BL(e){const{valueAxis:t,axisConfig:i,ticks:n}=e;!function(e,t){var i;const n=kL(e,_L).length,r=(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:n)-n;for(let t=0;t<r;t+=1)VL(e);}(t,n),function(e){const{valueAxis:t,axisConfig:i,ticks:n}=e,r=kA(i.valueFormat.type,t.chart.language.locale);if(r.numberFormat=nO(i.valueFormat),void 0!==n){const e=kL(t,_L);for(let t=0;t<n.length;t+=1){const a=e[t];void 0!==a&&RL({axisTick:a,value:n[t],axisConfig:i,numberFormatter:r});}}}({valueAxis:t,axisConfig:i,ticks:n}),function(e,t){var i;OL({axis:e,numberOfElementsToBeDeleted:kL(e,_L).length-(null!==(i=null==t?void 0:t.length)&&void 0!==i?i:0),tickOrGuide:_L});}(t,n);}const NL="selectXY",WL="selectX",zL="selectY",HL="zoomXY",GL="zoomX",UL="zoomY",qL="none";function $L(e){e instanceof gy==!1&&e instanceof wy==!1&&(e.cursor=new jv);}function YL(e,t){var i;if(e instanceof gy==!1&&e instanceof wy==!1){const n=e,r=null!==(i=n.cursor)&&void 0!==i?i:new jv;void 0!==(null==t?void 0:t.style)&&function(e,t){var i,n,r;const a=uP.cursorCrosshair.style,o={type:_b,style:null!==(i=t.style)&&void 0!==i?i:a.style,color:null!==(n=t.color)&&void 0!==n?n:a.color,width:null!==(r=t.width)&&void 0!==r?r:a.width};bF({element:e.cursor.lineX,lineSymbol:o}),bF({element:e.cursor.lineY,lineSymbol:o});}(n,t.style);const a=uP.cursorCrosshair;r.lineX.disabled=!1===a.verticalLineVisible?!0!==(null==t?void 0:t.verticalLineVisible):!1===(null==t?void 0:t.verticalLineVisible),r.lineY.disabled=!1===a.horizontalLineVisible?!0!==(null==t?void 0:t.horizontalLineVisible):!1===(null==t?void 0:t.horizontalLineVisible),n.cursor=r;}}function KL(e,t){const i=e.renderer.labels.template;!0===i.events.hasListenersByType(pP)&&(i.cursorOverStyle=t),e.renderer.labels.each((e=>{e.cursorOverStyle=t;}));}function XL(e,t){var i,n,r,a,o,s,l;const u=YA(e.uid,"isRotated"),d=YA(e.uid,"config"),c=ih(null==d?void 0:d.series),h=c===jb,p=c===Bb&&rO(null===(n=null===(i=null==d?void 0:d.axes)||void 0===i?void 0:i[0])||void 0===n?void 0:n.valueFormat),m=c===Bb&&oO(null===(a=null===(r=null==d?void 0:d.axes)||void 0===r?void 0:r[0])||void 0===a?void 0:a.valueFormat),f=c===Bb&&sO(null===(s=null===(o=null==d?void 0:d.axes)||void 0===o?void 0:o[0])||void 0===s?void 0:s.valueFormat);let g,y=!1;if(!0===YA(e.uid,"filterBySelection"))g=qL,y=!1;else {switch(null!==(l=null!=t?t:YA(e.uid,"actionMode"))&&void 0!==l?l:uP.actionMode){case mg:g=!0===h||!0===p||!0===f?HL:!0===u?UL:GL,y=!1;break;case hg:case pg:g=!0===m?!0===u?zL:WL:NL,y=!0;break;case cg:g=qL,y=!0;break;case fg:g=qL,y=!1;}}e instanceof ey&&void 0!==e.cursor&&void 0!==g&&(e.cursor.behavior=g),function(e){const{chart:t,seriesType:i,enabled:n}=e,r=!0===n?hr.pointer:hr.default;switch(i){case Wb:case zb:case Nb:case Vb:t.series.each((e=>{(e instanceof $y||e instanceof _y)&&(e.cursorOverStyle=r);}));break;case Bb:case jb:t.series.each((e=>{if(!0!==XA(e.uid,"isOverlay")){const t=KO(e);void 0!==t&&(t.cursorOverStyle=r,t.clones.each((e=>{e.cursorOverStyle=r;})));}}));}}({chart:e,seriesType:c,enabled:y});}function JL(e){var t;return v(this,void 0,void 0,(function*(){const i=e.target,{axis:n,chart:r,queryObject:a}=function(e){const{axis:t}=e,i=t.chart;return {axis:t,chart:i,queryObject:YA(i.uid,"queryObject")}}(i),o=n instanceof Ug,s=[];let l,u;if(!0===o){const{date:e,endDate:n}=null===(t=i.dataItem)||void 0===t?void 0:t.dates;l=e,u=n;}else {const{seriesDataItems:t}=e.target.dataItem;for(const e in t)if(!0===Object.prototype.hasOwnProperty.call(t,e)){const i=t[e];for(const e of i)if(e instanceof qy)s.push(e.column);else {const t=e.sprites.find((e=>e instanceof Kr==!1));void 0!==t&&s.push(t);}}}const d=wF(e),c=n instanceof Ug==!0||n instanceof Kg==!0,h=[];r.series.each(((e,t)=>{var i,r,p;let m;if(m=e instanceof $y?e.columns:null===(i=KO(e))||void 0===i?void 0:i.clones,!0===e.visible){const i=wO(e),f=IO(e),g=null!==(p=null===(r=e.dataFields)||void 0===r?void 0:r.customValue)&&void 0!==p?p:"",y=TO(e,t);null==m||m.each(((e,r)=>{let p=!1;p=!0===o?function(e){var t;const{axis:i,elementDataItem:n,selectedStartDate:r,selectedEndDate:a}=e;let o=!1;if(void 0!==r&&void 0!==a){const e=VD(i,YA(i.chart.uid,"isRotated")),s=null===(t=null==n?void 0:n.dates)||void 0===t?void 0:t[e];o=null!=s&&r<=s&&s<=a;}return o}({axis:n,elementDataItem:e.dataItem,selectedStartDate:l,selectedEndDate:u}):s.includes(e);!0===PF({element:e,selected:p,multiSelect:d,isDateOrCategoryAxis:c})&&h.push({queryObject:a,element:e,yAxisField:f,xAxisField:i,splitBy:g,chartType:y,seriesIndex:t,elementIndex:r});}));}})),yield aM({chart:r,listSelectedElements:h,selectionSource:lg});}))}function ZL(e,t){var i,n;if(ZO(null===(n=null===(i=null==e?void 0:e.renderer)||void 0===i?void 0:i.labels)||void 0===n?void 0:n.template)&&(e instanceof Kg||e instanceof Ug))if(!0===t)e.renderer.labels.template.events.disableType(pP),KL(e,hr.default);else {e.renderer.labels.template.events.enableType(pP);KL(e,!0===YA(e.chart.uid,"filterBySelection")?hr.default:hr.pointer);}}function QL(e){const{axis:t,start:i,end:n}=e;t.zoom({start:null!=i?i:0,end:null!=n?n:1});}function eE(e){void 0!==e&&(e.start=0,e.end=1);}function tE(e){void 0!==e&&(void 0!==e.xAxes&&e.xAxes.each((e=>QL({axis:e}))),void 0!==e.yAxes&&e.yAxes.each((e=>QL({axis:e}))),eE(e.scrollbarX),eE(e.scrollbarY),UO(e.zoomOutButton,!1));}function iE(e,t){return e instanceof qg&&!0!==t||e instanceof Bg&&!0===t}function nE(e){const{axis:t,valueFormat:i,axisRenderer:n}=e;n.grid.template.applyOnClones=!0,n.ticks.template.applyOnClones=!0,n.labels.template.applyOnClones=!0,n.hoverable=!0,n.line.strokeOpacity=1,n.grid.template.strokeOpacity=1,n.ticks.template.strokeOpacity=1,vk(n.labels.template,uP.axisLabel),n.ticks.template.disabled=!1,n.labels.template.disabled=!0,function(e){const t=e.tooltip;void 0!==t&&e instanceof Ug==0&&(t.label.adapter.add("html",((i,n)=>{var r,a;let o=i;return e instanceof zg?o=uO(e,null!==(a=null===(r=n.properties)||void 0===r?void 0:r.text)&&void 0!==a?a:i):e instanceof Kg&&(o=dO({axis:e,defaultOutput:i,dataItem:t.dataItem})),dh(o)})),t.label.html=uP.htmlEmptyContent);}(t),!0!==oO(i)&&!0!==sO(i)||(function(e){ZO(e.labels.template)&&(e.labels.template.events.on(yP,(e=>{var t;const{axisLabelOveredOpacity:i}=uP;e.target.fillOpacity=(null!==(t=e.target.fillOpacity)&&void 0!==t?t:1)*i;})),e.labels.template.events.on(vP,(e=>{var t;const{axisLabelOveredOpacity:i}=uP;e.target.fillOpacity=(null!==(t=e.target.fillOpacity)&&void 0!==t?t:.5)/i;})));}(n),function(e){if(ZO(e.renderer.labels.template)){e.renderer.labels.template.events.on(pP,(t=>v(this,void 0,void 0,(function*(){!0===e.renderer.labels.template.events.isEnabled(pP)&&(yield JL(t));}))));const t=!0===YA(e.chart.uid,"filterBySelection")?hr.default:hr.pointer;KL(e,t);}}(t)),HA({chart:t.chart,label:t.title,labelType:t.renderer instanceof qg?MA:LA});}function rE(e){const t=e.target,i=YA(t.chart.uid,"isRotated");if(t instanceof zg&&t.renderer instanceof(!0!==i?Bg:qg)){const t=e.target,a=t.chart,o=!0!==i?a.xAxes.getIndex(0):a.yAxes.getIndex(0),s=[{isXAxis:!1,minimum:t.min,maximum:t.max},{isXAxis:!0,minimum:o instanceof zg&&o instanceof Ug==!1?o.min:void 0,maximum:o instanceof zg&&o instanceof Ug==!1?o.max:void 0}];!1===Number.isNaN(s[0].minimum)&&!1===Number.isNaN(s[0].maximum)&&!1===Number.isNaN(s[1].minimum)&&!1===Number.isNaN(s[1].maximum)&&(n=s,void 0!==(r=t.chart.htmlContainer)&&r.dispatchEvent(new window.CustomEvent(Ek.AxesMinMaxChange,jk(n))));}var n,r;}function aE(e){var t,i,n,r,a;const{axis:o,axisMinimum:s,axisMaximum:l}=e;let u;if(o instanceof zg&&void 0!==l&&void 0!==s){const e=o.axisRanges.values,d=YA(o.chart.uid,"config"),c=YA(o.chart.uid,"isRotated"),h=!0===(!1===iE(o.renderer,c))?1:0,p=null===(t=null==d?void 0:d.axes)||void 0===t?void 0:t[h],m=null==p?void 0:p.guides;for(let t=0;t<e.length;t+=1){const d=e[t],{value:c,endValue:h,axisFill:p,grid:f,label:g}=d;if(!0===eO(g.uid,"isGuide")){if(u=d.visible,!0===u&&d instanceof Wg){const{start:e,end:p}=AL(o,null==m?void 0:m[t]),f=Math.min(c,h,null!==(i=e)&&void 0!==i?i:c,null!==(n=p)&&void 0!==n?n:h),g=Math.max(c,h,null!==(r=e)&&void 0!==r?r:c,null!==(a=p)&&void 0!==a?a:h);f<s&&g<s||f>l&&g>l?u=!1:(d.value=f<s?s:f,d.endValue=g>l?l:g);}UO(p,u),UO(f,u),UO(g,u);}}}}function oE(e){e instanceof zg?(e.adapter.add("min",(t=>(aE({axis:e,axisMinimum:t,axisMaximum:e.max}),t))),e.adapter.add("max",(t=>(aE({axis:e,axisMinimum:e.min,axisMaximum:t}),t)))):e instanceof Kg&&e.events.on("validated",(()=>{const t=YA(e.chart.uid,"isNonAggregatedChart");!function(e){const{axis:t,isNonAggregatedChart:i}=e;let n,r,a;const o=t.dataItems.values,s=t.axisRanges.values;if(t instanceof Kg)for(let e=0;e<s.length;e+=1){n=!1,r=!1,a=!1;const t=s[e],{category:l,endCategory:u,axisFill:d,grid:c,label:h}=t;if(t instanceof Yg&&!0===t.visible)for(let e=0;e<o.length;e+=1){let t;t=!0===i?OO({value:o[e].category,dataContext:o[e].dataContext}):o[e].category.toString(),l===t&&(r=!0),u===t&&(a=!0);}!0===r&&!0===a&&(n=!0),UO(d,n),UO(c,n),UO(h,n);}}({axis:e,isNonAggregatedChart:t});}));}function sE(e){const{axes:t,valueFormat:i,isNonAggregatedChart:n}=e;let r;!function(e){for(var t;e.length>0;)null===(t=e.pop())||void 0===t||t.dispose();}(t),!0===sO(i)&&!0!==n?r=t.push(new Ug):!0===rO(i)?(r=t.push(new zg),r.numberFormatter=kA(Mb,r.chart.language.locale),r.numberFormatter.numberFormat="#",function(e){e.events.on(SP,tP(rE,uP.debounceTime));}(r)):!0!==oO(i)&&!0!==n||(r=t.push(new Kg)),void 0!==r&&(hO(r),nE({axis:r,valueFormat:i,axisRenderer:r.renderer}),oE(r));}function lE(e){const{chart:t,axesTypes:i,isRotated:n}=e,r=YA(t.uid,"isNonAggregatedChart");KA(t.uid,{isRotated:!0===n}),sE({axes:t.xAxes,valueFormat:!0===n?i[1]:i[0],isNonAggregatedChart:r}),sE({axes:t.yAxes,valueFormat:!0===n?i[0]:i[1],isNonAggregatedChart:r});}function uE(e){const{axis:t}=e;let i=!1;return t instanceof zg&&t instanceof Ug==!1&&(i=function(e){const{axis:t,buffer:i,isLogarithmic:n}=e;return t instanceof zg&&t instanceof Ug==0&&!0!==n&&!0!==i}(e),t.strictMinMax=i),i}function dE(e){const{axis:t,minimumFromConfig:i,maximumFromConfig:n,bufferFromConfig:r,isLogarithmic:a,seriesType:o}=e;if(!0===uE({axis:t,buffer:null!=r?r:uP.buffer,isLogarithmic:a})&&(t instanceof zg||t instanceof Ug)){let e=i,r=n;if(o!==Wb&&!0===t.strictMinMax&&(!1===Number.isFinite(i)||!1===Number.isFinite(n))){const a=function(e){const{axis:t,minimumFromConfig:i,maximumFromConfig:n,seriesType:r}=e;let a=i,o=n;const{chart:s}=t,l=YA(s.uid,"isRotated"),u=YA(s.uid,"config");if(s instanceof ey&&void 0!==u){const e=nh(null==u?void 0:u.series[0]),i=!0===iE(t.renderer,l),n=function(e){let t=[];return void 0!==e&&(t=e.series.values.map((e=>!1!==e.visible?`${e.id}`:"")).filter((e=>""!==e))),t}(s),d=Bh({chartConfig:u,chartData:s.data,visibleSeriesId:n}),{minX:c,maxX:h,minY:p,maxY:m}=d,[f,g]=!0===i?[null!=c?c:NaN,null!=h?h:NaN]:[p,m];r===Nb||r===Wb||r===zb||r===Bb&&e===Zb&&!1===i?(a=Math.min(f,0),o=Math.max(g,0)):(a=f,o=g);}return a=null!=i?i:a,o=null!=n?n:o,{min:a,max:o}}({axis:t,minimumFromConfig:i,maximumFromConfig:n,seriesType:o});e=a.min,r=a.max;}e=null!=e?e:NaN,r=null!=r?r:NaN,!0===Number.isNaN(e)||!0===Number.isNaN(r)||e<r?(t.min=e,t.max=r):(t.min=NaN,t.max=NaN),o===Rb&&t.validate();}}function cE(e){const t=tP((()=>{var t,i;const{chart:n}=e,r=YA(n.uid,"config");if(void 0!==n&&void 0!==r){const a=YA(n.uid,"isRotated"),o=XA(e.uid,"stackedType");!0===(o===Qb)&&!1===e.visible&&UO(e,!1);const s=ih(null==r?void 0:r.series),l=n.xAxes.getIndex(0),u=!0===a?1:0,d=null===(t=r.axes)||void 0===t?void 0:t[u],c=!0===a?0:1,h=null===(i=r.axes)||void 0===i?void 0:i[c];if(void 0!==l){const{minimum:e,maximum:t,buffer:i,isLogarithmic:n}=null!=d?d:{};dE({axis:l,seriesType:s,minimumFromConfig:e,maximumFromConfig:t,bufferFromConfig:i,isLogarithmic:n});}const p=n.yAxes.getIndex(0);if(void 0!==p){const{minimum:t,maximum:i,buffer:n,isLogarithmic:r}=null!=h?h:{};dE({axis:p,seriesType:s,minimumFromConfig:t,maximumFromConfig:i,bufferFromConfig:n,isLogarithmic:r}),p.events.once(SP,(()=>{const{labelToRender:t}=Mk(e,o);t&&(t.html=!0===a?"{valueX}":"{valueY}");}));}}}),uP.debounceTime);e.events.on(SP,t);}function hE(e){return v(this,void 0,void 0,(function*(){const{axis:t,axisConfig:i,isNonAggregatedChart:n,timeIntervalInfo:r,seriesType:a,horizontalAxisLabelsBehavior:o,verticalAxisLabelsBehavior:s,axisLabelsBehaviorChanged:l,guideTooltipFormatter:u,stackedType:d,axisValueFormatter:c,commonStrings:h}=e,{visible:p,isLogarithmic:m,title:f,grid:g,lineSymbol:y,labels:v,guides:b,valueFormat:x,minimum:C,maximum:S,displayZeroLine:_,displayCursorTooltip:P,buffer:w}=i;!function(e,t){if(e instanceof Ug){const{timeIntervalSize:i,timeIntervalUnits:n}=null!=t?t:{};if(void 0!==i&&void 0!==n){let t;const r=i;switch(n){case sx:t="second";break;case lx:t="minute";break;case ux:t="hour";break;case dx:t="day";break;case cx:t="week";break;case hx:t="month";break;case px:t="year";}void 0!==t&&(e.baseInterval={timeUnit:t,count:r});}}}(t,r),bF({element:t.renderer.grid.template,lineSymbol:g,visible:p}),bF({element:t.renderer.line,lineSymbol:y,visible:p}),bF({element:t.renderer.ticks.template,lineSymbol:y,visible:p}),function(e){const{axis:t,axisConfig:i,seriesType:n,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,axisLabelsBehaviorChanged:o}=e;if(t.renderer instanceof Bg||n!==Wb){const e=t.renderer.labels.template;e.axis=t;const{labels:n}=i,s=t.renderer instanceof qg&&e.rotation===uP.rotatedAxisLabel.rotation,l=n;!0===s&&(l.content.angle=void 0,l.content.horizontalAlignment=void 0,l.content.verticalAlignment=void 0,l.content.yoffset=void 0),Ck(e,l,!0===s?uP.rotatedAxisLabel:void 0),t.renderer.labels.template.paddingTop=t.renderer instanceof qg?0:uP.axisLabel.dy,e.align="none",e.valign="none",xL({axis:t,horizontalAxisLabelsBehavior:r,verticalAxisLabelsBehavior:a,labelsConfig:n,axisLabelsBehaviorChanged:o}),e.axis.invalidateLabels();}}({axis:t,axisConfig:i,seriesType:a,horizontalAxisLabelsBehavior:o,verticalAxisLabelsBehavior:s,axisLabelsBehaviorChanged:l}),function(e,t){if(e instanceof zg){const{integerOnlyValues:i,valueFormat:n}=t,{maximumFractionDigits:r}=n.intlOptions;e.maxPrecision=!0===i||0===r?0:NaN;}}(t,i),function(e){var t,i;const{axis:n,labelsConfig:r,horizontalAxisLabelsBehavior:a}=e;let o=n.renderer.minGridDistance;if(n.renderer instanceof qg)if(void 0===a||a===bx)o=(null!==(i=null===(t=r.content.font)||void 0===t?void 0:t.size)&&void 0!==i?i:uP.generalFontSize)*(n instanceof Kg?uP.categoryAxisLabelPadding:uP.axisLabelPadding);else {const e=tP(pL,uP.debounceTime);QA(n.uid,{debouncedSizechangedForMinGridDistanceCallBack:e}),n.events.on(bP,e),n.dispatchImmediately(bP);}else o=n.renderer instanceof cy?uP.gauge.gaugeMinGridDistance:uP.yAxisMinGridDistance;n.renderer.minGridDistance=o;}({axis:t,labelsConfig:v,horizontalAxisLabelsBehavior:o}),yield fO({isNonAggregatedChart:n,axis:t,labelsTextSymbol:i.labels.content,formatOptions:x,overridePercentMultiplication:d===Qb,axisValueFormatter:c}),a!==Wb&&a!==Rb||dE({axis:t,minimumFromConfig:C,maximumFromConfig:S,seriesType:a,bufferFromConfig:w,isLogarithmic:m}),jL({axis:t,guides:b,guideTooltipFormatter:u,commonStrings:h}),function(e,t){(e instanceof Ug||e instanceof zg)&&e.events.on(_P,(()=>{e.logarithmic=!0===t;}));}(t,m),function(e){const{axis:t,title:i,horizontalAxisLabelsBehavior:n}=e,r=t.renderer instanceof qg;t.events.once(SP,(()=>{var e;let a=t.renderer instanceof Bg?uP.yAxisTitleLabel:uP.xAxisTitleLabel;if(!0===r){const t=n===xx?10:null!==(e=a.dy)&&void 0!==e?e:0;a=Object.assign(Object.assign({},a),{dy:t});}Ck(t.title,i,a),zA({chart:t.chart,label:t.title,labelType:t.renderer instanceof qg?MA:LA});}));}({axis:t,title:f,horizontalAxisLabelsBehavior:o}),function(e,t){e instanceof zg&&(e.renderer.baseGrid.disabled=!0!==t);}(t,_),function(e,t){e.cursorTooltipEnabled=!0===t;}(t,P);}))}function pE(e){return v(this,void 0,void 0,(function*(){const{chart:t,axes:i,rotationChanged:n,axisLabelsBehaviorChanged:r,isRotated:a,timeIntervalInfo:o,guideTooltipFormatter:s,xAxisLabelFormatter:l,yAxisLabelFormatter:u,commonStrings:d}=e,c=YA(t.uid,"isNonAggregatedChart"),h=YA(t.uid,"config"),{horizontalAxisLabelsBehavior:p,verticalAxisLabelsBehavior:m}=h,f=ih(h.series),g=nh(h.series[0]);let y=a;!0===n&&(y=!0!==y);let v=0,b=1;(!0===n&&!0===a||!0!==n&&!0===y)&&(v=1,b=0);let x=t.xAxes.getIndex(0),C=t.yAxes.getIndex(0);const S=x.start,_=x.end,P=C.start,w=C.end;!0!==n&&!0!==lO(x,i[v].valueFormat)||sE({axes:t.xAxes,valueFormat:i[v].valueFormat,isNonAggregatedChart:c}),!0!==n&&!0!==lO(C,i[b].valueFormat)||sE({axes:t.yAxes,valueFormat:i[b].valueFormat,isNonAggregatedChart:c}),x=t.xAxes.getIndex(0),C=t.yAxes.getIndex(0),yield hE({axis:x,axisConfig:i[v],isNonAggregatedChart:c,timeIntervalInfo:o,seriesType:f,horizontalAxisLabelsBehavior:p,verticalAxisLabelsBehavior:m,axisLabelsBehaviorChanged:r,guideTooltipFormatter:s,stackedType:g,axisValueFormatter:0===v?l:u,commonStrings:d}),yield hE({axis:C,axisConfig:i[b],isNonAggregatedChart:c,timeIntervalInfo:o,seriesType:f,horizontalAxisLabelsBehavior:p,verticalAxisLabelsBehavior:m,axisLabelsBehaviorChanged:r,guideTooltipFormatter:s,stackedType:g,axisValueFormatter:1===b?u:l,commonStrings:d}),!0===n&&(x.events.once(SP,(()=>{QL({axis:x,start:P,end:w});})),C.events.once(SP,(()=>{QL({axis:C,start:S,end:_});}))),x.ghostLabel.setPropertyValue("disabled",!0),C.ghostLabel.setPropertyValue("disabled",!0);}))}function mE(e){var t,i;void 0!==e&&e.validateData();const n=null===(i=null===(t=null==e?void 0:e.series)||void 0===t?void 0:t.values)||void 0===i?void 0:i.find((e=>!0===XA(e.uid,"isOverlay")));void 0!==n&&n.validateData();}function fE(e,t){const{sizePolicy:i}=e,{chart:n}=t,r=t.heatRules.getIndex(0);if(void 0!==i){const{scaleType:a,field:o,minSize:s,maxSize:l}=i,u=KO(t);if(void 0!==u){let i=!1;const d={type:"sizeScale",field:"",scaleType:"linear",minSize:5,maxSize:30},c=null!=s?s:d.minSize,h=null!=l?l:d.maxSize;void 0!==r?!0===function(e){var t,i,n;const{series:r,seriesConfig:a,newMin:o,newMax:s}=e,l=r.heatRules.getIndex(0);let u=void 0===l&&void 0!==a.sizePolicy||void 0!==l&&void 0===a.sizePolicy;if(!1===u&&void 0!==l){const e=l.min===o&&l.max===s,d=r.dataFields.customValue===(null===(t=a.sizePolicy)||void 0===t?void 0:t.field),c=(null===(i=a.sizePolicy)||void 0===i?void 0:i.scaleType)===wx&&!0!==l.logarithmic||(null===(n=a.sizePolicy)||void 0===n?void 0:n.scaleType)===Ix&&!0===l.logarithmic;u=!1===(e&&d&&c);}return u}({series:t,seriesConfig:e,newMin:c,newMax:h})&&(i=!0,r.min=c,r.max=h,r.logarithmic=a===Ix):(i=!0,t.heatRules.push({target:u,property:"minWidth",min:c,max:h,dataField:"customValue",logarithmic:a===Ix})),t.dataFields.customValue=o,!0===i&&mE(n);}}else void 0!==r&&(t.heatRules.pop(),t.dataFields.customValue=void 0,mE(n));}function gE(e){var t,i;const{trendLine:n,seriesConfig:r,valueFormat:a,chartData:o,defaultR2Value:s}=e,l=uP.scatterPlotSeries;if(void 0!==o){n.data=null!==(t=o.trendLinePoints)&&void 0!==t?t:l.trendLinePoints;const e=!0===Number.isFinite(o.r2)?`${zO(null!==(i=o.r2)&&void 0!==i?i:l.r2,a,n.chart.language.locale)}`:void 0;RD(n,void 0!==e?`R² = ${e}`:s);}n.hiddenInLegend=!0!==r.overlays.trendLine.created;const u=!0===r.overlays.trendLine.created&&!1!==r.overlays.trendLine.visible,d=r.overlays.trendLine.symbol;void 0===d.color&&(d.color=Id({colorIndex:1})),bF({element:n,lineSymbol:r.overlays.trendLine.symbol,visible:u});}function yE(e){return v(this,void 0,void 0,(function*(){const{chart:t,seriesConfig:i,axisPair:n,hideLoaderHandle:r,selectionTheme:a,ignoreSmoothRenderingLimit:o}=e;n[0]instanceof zg!=!1&&n[1]instanceof zg!=!1||(yield DA("invalidAxesForScatterPlot"));const s=uP.scatterPlotSeries,[l,u]=n,{x:d,y:c,overlays:h,name:p,id:m}=i,f=[],g=new ay;JA(g.uid,{type:jb}),g.id=m,Uk(g,r),g.hiddenInLegend=!0,g.dataFields.valueX=d,g.dataFields.valueY=c,[g.xAxis]=n,void 0!==n[1]&&([,g.yAxis]=n);const y=ND({chart:t,lineSeries:g});!function(e,t){e.tooltipHTML=uP.htmlEmptyContent,e.adapter.add("tooltipHTML",((e,i)=>{var n;let r=e;const{chart:a}=t;if(void 0!==a){const e=YA(a.uid,"config"),{dataTooltipVisible:o}=null!==(n=null==e?void 0:e.series[0])&&void 0!==n?n:{};if(!1===o)r="";else {const e=XA(t.uid,"scatterPlotTooltipFormatter");if(!1===i.isHidden&&void 0!==e){const{dataItem:t}=i;if(t instanceof ry){const{valueX:i,valueY:n,customValue:a}=t;r=e(i,n,a);}}}}return dh(r)}));}(y,g),sL(g),g.strokeOpacity=s.strokeOpacity,g.minDistance*=Math.ceil(g.data.length/1e4),g.hidden=!0,_F({element:y,customSelectionTheme:a}),cE(g),zD({chart:t,series:g,seriesType:jb,marker:y,ignoreSmoothRenderingLimit:o}),f.push(g);const b=h.trendLine,x=yield function(e){return v(this,void 0,void 0,(function*(){const{xAxis:t,yAxis:i,x:n,y:r,name:a,hideLoaderHandle:o}=e;0==(t instanceof zg&&i instanceof zg)&&(yield DA("invalidAxesForScatterPlot"));const s=new ay;return RD(s,a),Uk(s,o),s.ignoreMinMax=!0,JA(s.uid,{isOverlay:!0,type:HM}),s.dataFields.valueX=n,s.dataFields.valueY=r,s.xAxis=t,s.yAxis=i,s.hidden=!0,s}))}({xAxis:l,yAxis:u,x:d,y:c,hideLoaderHandle:r,name:p,visible:b.visible});return SM(x),f.push(x),f}))}function vE(e){const{marker:t,seriesConfig:i,dataSource:n,currentSeries:r}=e;let a,o;if(t.clones.each(((e,t)=>{var r,s;let l;i.colorType===qb&&(l=null===(s=null===(r=e.dataItem)||void 0===r?void 0:r.dataContext)||void 0===s?void 0:s[Xk]);const u=CF({element:e,seriesSymbol:i.markerSymbol,dataIndex:t,seriesConfig:i,dataSource:n,rendererElementColor:l});a=u.symbolWithColorInfo,o=u.stylingInfo,oM(e,o);})),void 0!==a){const e=new Map;e.set(0,a),Wk(e,r.chart.htmlContainer);}}function bE(e){return v(this,void 0,void 0,(function*(){const{seriesConfig:t,dataSource:i,chartSeries:n,axes:r,chartData:a,options:o,queryObject:s,dataWasUpdated:l,commonStrings:u,tooltipFormatter:d,dataLabelFormatter:c}=e,h=void 0!==s?yield bh(s,null==o?void 0:o.usePopupTemplateFieldsInfo):[],p=u.notAvailable;for(let e=0;e<2;e+=1){const u=n[e];if(!0===XA(u.uid,"isOverlay")){let e=XA(u.uid,"updateStyleAndSelectionCallbackDisposer");void 0!==e&&e.dispose(),e=u.events.on(SP,(()=>{!0===u.chart.appeared&&u.chart.isReady()&&(gE({trendLine:u,seriesConfig:t,valueFormat:Od(),chartData:a,defaultR2Value:p}),void 0!==e&&e.dispose());})),u.validate(),JA(u.uid,{updateStyleAndSelectionCallbackDisposer:e});}else {UO(u,t.visible);const e=KO(u);if(void 0!==e){let n=XA(u.uid,"updateStyleAndSelectionCallbackDisposer");void 0!==n&&n.dispose(),n=u.events.on(SP,(()=>v(this,void 0,void 0,(function*(){var r;!0===u.chart.appeared&&u.chart.isReady()&&e.clones.length>0&&(void 0!==n&&n.dispose(),UO(u,t.visible),vE({marker:e,seriesConfig:t,currentSeries:u,dataSource:i}),yield rM({series:u,queryObject:s,elementsToApplySelectionTo:e.clones.values,options:null!==(r=YA(u.chart.uid,"options"))&&void 0!==r?r:o,dataWasUpdated:l,xAxisField:t.x,yAxisField:t.y}));})))),u.validate(),JA(u.uid,{updateStyleAndSelectionCallbackDisposer:n}),BD({axes:r,currentSeries:u,tooltipValueFormat:t.dataTooltipValueFormat}),cL({axes:r,seriesConfig:t,series:u,fieldList:h,tooltipFormatter:d}),fE(t,u);}uL({series:u,seriesType:jb,dataLabelsConfig:t.dataLabels,yAxisValueFormat:r[1].valueFormat,customDataLabelFormatter:c});}}}))}function xE(e){let t="";for(let i=0;i<e.length;i+=1){t+=`<li>${e[i].message}</li>`;}return `<ol>${t}</ol>`}function CE(e){void 0!==e.modal&&(e.modal.closable=!0,e.modal.content="",e.closeModal());}function SE(e){return v(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,queryObject:n,createMessage:r}=e;let a;void 0!==(null==i?void 0:i.series)&&(a=ih(i.series,0));const o=yield eg({input:i,seriesType:a,queryObject:n}),s=yield FA(),{schemaErrors:l,customErrors:u,warnings:d}=o;if(void 0!==t.modal)if(t.modal.closable=!1,void 0===i){const e=void 0===r?s.modalHeaders.newChart:void 0,i=null!=r?r:s.errors.newChartRequest;t.modal.events.once("opened",(()=>{var e,i,n,a;if(void 0!==r){const r=null!==(a=null===(n=null===(i=null===(e=t.modal)||void 0===e?void 0:e.elements)||void 0===i?void 0:i.title)||void 0===n?void 0:n.parentElement)&&void 0!==a?a:null;null!==r&&(r.style.visibility="hidden");}})),t.openModal(i,e);}else if(l.length>0){const e=s.errors.simpleError;t.openModal(e,s.modalHeaders.error);}else if(u.length>0){const e=xE(u);t.openModal(e,s.modalHeaders.error);}else if(d.length>0){const e=xE(d),i=`<p>${s.errors.warningRequest}</p>${e}`;t.openModal(i,s.modalHeaders.warning);}return o}))}function _E(e){var t,i,n,r;return v(this,void 0,void 0,(function*(){const{chart:a,options:o,invalidType:s,elementCount:l,seriesCount:u}=e;if(void 0!==a.modal&&ZO(a)){a.modal.closable=!1;const e=yield tg({invalidType:s,elementCount:l,seriesCount:u,chartLimits:null==o?void 0:o.chartLimits}),h=yield FA();let p=h.modalHeaders.invalidChart;switch(e.keyword){case yp:case vp:case bp:case xp:p=h.modalHeaders.tooManyFeatures;break;case Cp:p=h.modalHeaders.cannotCombineNegativeAndPositiveSlices;break;case Sp:case _p:p=h.modalHeaders.invalidData;break;case fp:p=null!==(i=null===(t=null==o?void 0:o.noDataOptions)||void 0===t?void 0:t.noDataTitle)&&void 0!==i?i:p,e.message=null!==(r=null===(n=null==o?void 0:o.noDataOptions)||void 0===n?void 0:n.noDataTitle)&&void 0!==r?r:e.message;}a.openModal(e.message,p),d=e,void 0!==(c=a.htmlContainer)&&c.dispatchEvent(new window.CustomEvent(Ek.BadDataWarningRaise,jk(d)));}var d,c;}))}function PE(e){var t,i,n;return v(this,void 0,void 0,(function*(){const{chart:r,chartConfig:a,options:o}=e;!1===(null===(t=null==o?void 0:o.noDataOptions)||void 0===t?void 0:t.displayMessageWhenNoData)||void 0!==(null===(i=r.modal)||void 0===i?void 0:i.content)&&""!==(null===(n=r.modal)||void 0===n?void 0:n.content)||!0!==function(e,t){let i=!0;if(void 0!==e){const n=ih(e.series);i=void 0===t||0===t.length||!1===t.some((t=>{let i=!1;switch(n){case Ao:{const e=t;i=!0===Number.isFinite(e.minValue)&&!0===Number.isFinite(e.maxValue);}break;case _o:{const n=t,{x:r,y:a}=e.series[0];i=!0===Number.isFinite(n[r])&&Number.isFinite(n[a]);}break;case Oo:case Io:case To:{const n=t,{x:r}=e.series[0];i=Rh(e.series).some((e=>void 0!==n[r]&&null!==n[r]&&("number"!=typeof n[r]||!0===Number.isFinite(n[r]))&&!0===Number.isFinite(n[e])));break}case Po:{const n=t;let{x:r,y:a}=e.series[0];!0===Lh(e.series)&&(r="arcgis_charts_pie_from_fields_name",a="arcgis_charts_pie_from_fields_value"),i=void 0!==n[r]&&null!==n[r]&&Number.isFinite(n[a]);}break;case wo:{const{x:n}=e.series[0],r=t;i=!0===Number.isFinite(r[n]);}}return i}));}return i}(a,r.data)||(yield _E({chart:r,invalidType:fp,options:o}));}))}function wE(e){var t,i;const n=e.labels.template;n.maxWidth=null!==(t=uP.pieChart.dataLabels.maxWidth)&&void 0!==t?t:NaN,n.wrap=null===(i=uP.pieChart.dataLabels.wrap)||void 0===i||i,e.alignLabels=uP.pieChart.alignDataLabels,n.events.on(yP,(e=>{var t;const{dataItem:i}=null!==(t=e.target)&&void 0!==t?t:{};i instanceof Sy&&i.slice.showTooltip();})),n.events.on(pP,(e=>{var t;const{dataItem:i}=null!==(t=e.target)&&void 0!==t?t:{};i instanceof Sy&&(i.slice.isActive=!0!==i.slice.isActive);})),function(e){e.labels.template.adapter.add("html",((t,i)=>{var n,r,a,o;const s=XA(e.uid,"pieChartDataLabelFormatter");let l=t;const{dataItem:u}=i;if(u instanceof Sy){const{slice:e}=u;if(void 0!==e&&!1===QO(e))l="";else if(void 0!==s){const{value:e,percent:i}=null!==(r=null===(n=u.values)||void 0===n?void 0:n.value)&&void 0!==r?r:{};void 0!==e&&0!==e&&(l=s(`${null!==(o=null===(a=u.properties)||void 0===a?void 0:a.category)&&void 0!==o?o:t}`,e,i));}}return !0===sh(l)&&(l=uP.htmlEmptyContent),dh(l)}));}(e);}function IE(e,t){const{numericValueFormat:i,percentValueFormat:n,displayNumericValueOnDataLabel:r,displayPercentageOnDataLabel:a,valuePrefix:o,valueSuffix:s,percentagePrefix:l,percentageSuffix:u,dataLabelsCharacterLimit:d}=t,c=gM({locale:e.chart.language.locale,valueIntlOptions:null==i?void 0:i.intlOptions,percentageIntlOptions:null==n?void 0:n.intlOptions,displayNumericValue:null!=r?r:uP.pieChart.displayNumericValueOnDataLabel,displayPercentage:null!=a?a:uP.pieChart.displayPercentageOnDataLabel,valuePrefix:o,valueSuffix:s,percentagePrefix:l,percentageSuffix:u}),h=NA(d),p=BA(" ");return (e,i,n)=>{var r,a;const o=c(e,i,n),s=h(e);let l=!1===sh(s)?`${s}${p}`:"";return l=`${l}${o}`,void 0!==(null===(r=t.dataLabels)||void 0===r?void 0:r.content)&&(l=uk({textSymbol:Object.assign(Object.assign({},t.dataLabels.content),{text:l}),format:"html",defaults:Object.assign(Object.assign({},uP.pieChart.dataLabels),{wrap:null!==(a=t.optimizeDataLabelsOverlapping)&&void 0!==a?a:uP.pieChart.dataLabels.wrap})})),l}}function TE(e,t){let i=(e,t,i)=>uP.htmlEmptyContent;const{numericValueFormat:n,percentValueFormat:r,dataTooltipValueFormat:a,dataTooltipPercentFormat:o,displayNumericValueOnTooltip:s,displayPercentageOnTooltip:l,valuePrefix:u,valueSuffix:d,percentagePrefix:c,percentageSuffix:h}=t;return i=(t,i,p)=>{var m,f;let g=uP.htmlEmptyContent;const y=gM({locale:e.chart.language.locale,valueIntlOptions:null===(m=null!=a?a:n)||void 0===m?void 0:m.intlOptions,percentageIntlOptions:null===(f=null!=o?o:r)||void 0===f?void 0:f.intlOptions,displayNumericValue:null!=s?s:uP.pieChart.displayNumericValueOnTooltip,displayPercentage:null!=l?l:uP.pieChart.displayPercentageOnTooltip,valuePrefix:u,valueSuffix:d,percentagePrefix:c,percentageSuffix:h})("",i,p);if(!1===sh(t)&&(g=`<b>${t}</b>`),!1===sh(y)){const e=WA(y);g=!1===sh(t)?`${g}<br />${e}`:`${e}`;}return g},i}function AE(e){const t=e.slices.template;t.tooltipHTML=uP.htmlEmptyContent,t.adapter.add("tooltipHTML",((t,i)=>{var n,r,a,o,s,l,u,d;let c=t;const{chart:h}=e;if(void 0!==h&&void 0!==i.tooltip){const t=YA(h.uid,"config"),{dataTooltipVisible:p}=null!==(n=null==t?void 0:t.series[0])&&void 0!==n?n:{};if(!1===p)i.tooltip.disabled=!0;else {const n=XA(e.uid,"pieChartTooltipFormatter");if(void 0!==n){const{dataItem:e}=i;if(e instanceof Sy){const h=null!==(r=e.properties.category)&&void 0!==r?r:"",p=null===(o=null===(a=e.values)||void 0===a?void 0:a.value)||void 0===o?void 0:o.value,m=null===(l=null===(s=e.values)||void 0===s?void 0:s.value)||void 0===l?void 0:l.percent;"number"==typeof p&&0!==p&&!1!==(null===(d=null===(u=null==t?void 0:t.series)||void 0===u?void 0:u[0])||void 0===d?void 0:d.dataTooltipVisible)?(i.tooltip.disabled=!1,function(e){if(void 0!==e.tooltip){let t=e.fill;t instanceof Za?t=t.stroke:t instanceof eo&&(t=t.backgroundFill),e.tooltip.background.fill=t;}}(i),c=n(`${h}`,p,m)):i.tooltip.disabled=!0;}}}}return dh(c)}));}function OE(e){var t,i;const{dataContext:n,isNonAggregatedChart:r,x:a,dataIndex:o,objectIdField:s,isPieFromFields:l}=e;let u="";return !0===l?u=null!==(t=n[uP.originalCategoryValue])&&void 0!==t?t:n[Ax]:!0===r?u=function(e){var t;const{dataContext:i,dataIndex:n,objectIdField:r}=e;return `${xd}-${null!==(t=i[null!=r?r:""])&&void 0!==t?t:n}`}({dataContext:n,dataIndex:o,objectIdField:s}):(u=null!==(i=n[uP.typeOrDomainIdValue])&&void 0!==i?i:n[uP.originalCategoryValue],""===u?u=_d:null===u&&(u=Sd),u=null!=u?u:n[a]),void 0===u&&(u=Cd),`${u}`}function kE(e){var t,i,n;const{seriesConfig:r,hideLoaderHandle:a,selectionTheme:o}=e,{x:s,y:l,id:u,visible:d}=r,c=new _y;c.id=u,Uk(c,a),c.dataFields.value=l,c.dataFields.category=s;const h=uP.pieChart;c.startAngle=h.min,c.endAngle=360+c.startAngle,function(e){e.ticks.template.adapter.add("disabled",((e,t)=>{var i,n,r,a,o,s;return !0==(0===(null===(r=null===(n=null===(i=t.dataItem)||void 0===i?void 0:i.values)||void 0===n?void 0:n.value)||void 0===r?void 0:r.value)||!1===Number.isFinite(null===(s=null===(o=null===(a=t.dataItem)||void 0===a?void 0:a.values)||void 0===o?void 0:o.value)||void 0===s?void 0:s.value))||e}));}(c),AE(c),wE(c);const p=void 0!==o&&void 0===(null===(i=null===(t=o.selectedElementsTheme)||void 0===t?void 0:t.transformation)||void 0===i?void 0:i.opacity)?Object.assign(Object.assign({},o),{selectedElementsTheme:Object.assign(Object.assign({},null==o?void 0:o.selectedElementsTheme),{transformation:Object.assign(Object.assign({},null===(n=null==o?void 0:o.selectedElementsTheme)||void 0===n?void 0:n.transformation),{opacity:1})})}):o;return _F({element:c.slices.template,useNativeState:!0,customSelectionTheme:p}),c.slices.template.states.removeKey("hover"),c.hidden=!1===d,SM(c),c}function FE(e){const{chart:t,slicesConfigChanged:i,newChartConfig:n,pieSlicesSymbols:r}=e;if(!0===i){const e=n.series[0],i=!0===Lh(n.series)?Ax:e.x;t.data.forEach((t=>{const n=t[uP.pieChart.technicalFieldSliceId];if("string"==typeof n){const r=HD(e,n);void 0!==r&&function(e){const{dataContext:t,newLabel:i,x:n}=e;void 0!==i&&t[n]!==i&&(void 0===t[uP.originalCategoryValue]&&(t[uP.originalCategoryValue]=t[n]),t[n]=i);}({dataContext:t,x:i,newLabel:r.label});}})),function(e){var t;const{chart:i,chartConfig:n}=e;let r=null===(t=n.series[0].query)||void 0===t?void 0:t.orderByFields;if(void 0!==r){kD({arrayToSort:i.data,orderByFieldsConfig:r,chartConfig:n});const{slices:e}=n.series[0];void 0!==e&&e.sort(((e,t)=>i.data.findIndex((t=>t[uP.pieChart.technicalFieldSliceId]===e.sliceId))-i.data.findIndex((e=>e[uP.pieChart.technicalFieldSliceId]===t.sliceId))));}i.invalidateData();}({chart:t,chartConfig:n});const a=r;void 0!==e.slices&&(a.slices=e.slices),Wk(a,t.htmlContainer);}}function DE(e,t){const{x:i,isNonAggregatedChart:n,objectIdField:r,isPieFromFields:a,seriesConfig:o,dataSource:s,mapRendererColorToSeries:l,rendererInfo:u,fieldList:d,labelUpdateNeeded:c,queryType:h}=t,p=[];let m,f;return e.forEach(((e,t)=>{var g;const y=OE({dataContext:e,x:i,isNonAggregatedChart:n,dataIndex:t,objectIdField:r,isPieFromFields:a});e[uP.pieChart.technicalFieldSliceId]=y;const v=HD(o,y),b=QD(e),x=function(e){var t;const{dataContext:i,seriesConfig:n,isGroupOfSlices:r,sliceFromConfig:a,dataIndex:o,dataSource:s,mapRendererColorToSeries:l,rendererInfo:u,queryType:d}=e,{y:c}=n,h=new Dr;h.dataItem={dataContext:i};const p=null==a?void 0:a.fillSymbol,m=!1===r?w_(null!=p?p:n.fillSymbol):Object.assign(Object.assign({},uP.pieChart.sliceGrouping.fillSymbol),null===(t=n.sliceGrouping)||void 0===t?void 0:t.fillSymbol),{symbolWithColorInfo:f}=CF({element:h,seriesConfig:n,y:c,seriesSymbol:m,dataIndex:o,seriesIndex:o,dataSource:s,mapRendererColorToSeries:l,rendererInfo:u,queryType:d,isChartFillSymbol:!0});return f}({dataContext:e,seriesConfig:o,isGroupOfSlices:b,sliceFromConfig:v,dataIndex:t,dataSource:s,mapRendererColorToSeries:l,rendererInfo:u,queryType:h}),C=function(e){var t;const{dataContext:i,sliceFromConfig:n,seriesConfig:r,fieldList:a,isPieFromFields:o,labelUpdateNeeded:s}=e,{sliceGrouping:l}=r;let{x:u}=r;const d=i[u];let c=d;if(s&&(void 0!==n||void 0!==a)){!0===o&&(u=Ax);const e=null!==(t=i[uP.originalCategoryValue])&&void 0!==t?t:d,r=i[uP.typeOrDomainIdValue];c=!0===QD(i)?null==l?void 0:l.label:null==n?void 0:n.label,c=void 0!==r&&`${c}`==`${r}`?`${e}`:null!=c?c:oh(a,`${e}`);}return `${null!=c?c:""}`}({dataContext:e,sliceFromConfig:v,seriesConfig:o,fieldList:d,isPieFromFields:a,labelUpdateNeeded:c}),S={sliceId:y,label:C,fillSymbol:x};S.originalLabel=null!==(g=null==e?void 0:e[uP.originalCategoryValue])&&void 0!==g?g:S.label,!1===b?p.push(S):(f=e[uP.pieChart.technicalFieldGroupedSlices],void 0!==o.sliceGrouping&&(m={sliceId:o.sliceGrouping.sliceId,percentageThreshold:o.sliceGrouping.percentageThreshold,label:C,fillSymbol:x}));})),{slices:p,groupOfSlicesSymbols:m,groupOfSlices:f}}function ME(e){return v(this,void 0,void 0,(function*(){const{chart:t}=e,i=yield function(e){return v(this,void 0,void 0,(function*(){const{chartConfig:t,queryObject:i,usePopupTemplateFieldsInfo:n,labelUpdateNeeded:r}=e,{series:a,dataSource:o}=t,s=a[0],{x:l}=s,u=!1===LO({chartConfig:t}),d=Th([s]),c=Lh(a),h=new Map;let p,m,f={};if(o.type===ix){const e=vh(i);p=e.objectIdField,m=yield bh(i,n),s.colorType===qb&&!1===e.isTable&&(f=mh(e.renderer),dF({series:s,layer:e,queryType:d,mapRendererColorToSeries:h}));}return {x:l,isNonAggregatedChart:u,objectIdField:p,isPieFromFields:c,seriesConfig:s,dataSource:o,mapRendererColorToSeries:h,rendererInfo:f,fieldList:m,labelUpdateNeeded:r,queryType:d}}))}(e),{slices:n,groupOfSlicesSymbols:r,groupOfSlices:a}=DE(t.data,i),{slices:o}=DE(null!=a?a:[],i);return {slices:n,groupedSlices:o,groupOfSlices:r}}))}function LE(e){const{pieSeries:t,seriesConfig:i,queryObject:n,dataWasUpdated:r,sortChanged:a,groupOfSlicesWasUpdated:o,options:s}=e,l=()=>v(this,void 0,void 0,(function*(){var e;t.slices.length>0&&(GD(t.chart),function(e){const{pieSeries:t,seriesConfig:i}=e;t.slices.each(((e,t)=>{var n,r,a,o,s;const l=(null===(n=e.dataItem)||void 0===n?void 0:n.dataContext)[uP.pieChart.technicalFieldSliceId],u=null===(r=i.slices)||void 0===r?void 0:r.find((e=>e.sliceId===l));xF({element:e,fillSymbol:!1===QD(null===(a=e.dataItem)||void 0===a?void 0:a.dataContext)?w_(null!==(o=null==u?void 0:u.fillSymbol)&&void 0!==o?o:i.fillSymbol):Object.assign(Object.assign({},uP.pieChart.sliceGrouping.fillSymbol),null===(s=i.sliceGrouping)||void 0===s?void 0:s.fillSymbol),defaultToColorFromRamp:!0,colorRampIndex:t,isChartFillSymbol:!0});}));}({pieSeries:t,seriesConfig:i}),yield rM({series:t,queryObject:n,elementsToApplySelectionTo:t.slices.values,options:null!==(e=YA(t.chart.uid,"options"))&&void 0!==e?e:s,dataWasUpdated:r,sortChanged:a,groupOfSlicesWasUpdated:o,xAxisField:wO(t)}));}));l();const u=t.events.on(SP,l);JA(t.uid,{updateStyleAndSelectionCallbackDisposer:u});}function EE(e){const{chart:t,seriesConfig:i,pieSeries:n,tooltipFormatter:r,dataLabelFormatter:a}=e,{innerRadius:o,startAngle:s,endAngle:l}=i,u=Th([i]),{x:d,y:c}=i,h=uP.pieChart;n.dataFields.value=u!==qd?c:Ox,n.dataFields.category=u!==qd?d:Ax;const p=t.radius instanceof T?t.radius.value:t.radius;t.innerRadius=A((null!=o?o:h.innerRadius)*p),n.startAngle=null!=s?s:h.min,n.endAngle=null!=l?l:360+n.startAngle,function(e){var t,i,n;const{pieSeries:r,seriesConfig:a,dataLabelFormatter:o}=e,{dataLabels:s}=a,l=null!==(t=a.dataLabelsOffset)&&void 0!==t?t:uP.pieChart.dataLabelsOffset;JA(r.uid,{pieChartDataLabelFormatter:null!=o?o:IE(r,a)}),Ck(r.labels.template,s,Object.assign(Object.assign({},uP.pieChart.dataLabels),{wrap:null!==(i=a.optimizeDataLabelsOverlapping)&&void 0!==i?i:uP.pieChart.alignDataLabels})),r.alignLabels=null!==(n=a.alignDataLabels)&&void 0!==n?n:uP.pieChart.alignDataLabels;const u="number"==typeof r.labels.template.radius?r.labels.template.radius:r.labels.template.radius.percent;r.chart.invalidateData(),void 0!==l&&!0===Number.isFinite(l)&&u!==l&&(r.labels.template.radius=l,r.invalidate());}({pieSeries:n,seriesConfig:i,dataLabelFormatter:a}),LE(e),function(e,t){var i,n;const{ticks:r}=t,a=!1===(null==r?void 0:r.visible)||void 0===t.dataLabels||!1===(null===(i=t.dataLabels)||void 0===i?void 0:i.visible)||void 0!==t.dataLabelsOffset&&t.dataLabelsOffset<=0;e.ticks.template.disabled=a,e.ticks.template.strokeOpacity=uP.pieChart.ticksOpacity,bF({element:e.ticks.template,lineSymbol:null!==(n=null==r?void 0:r.lineSymbol)&&void 0!==n?n:Ad({color:vd}),visible:!1===a});}(n,i),function(e){const{series:t,seriesConfig:i,tooltipFormatter:n}=e;JA(t.uid,{pieChartTooltipFormatter:null!=n?n:TE(t,i)});}({series:n,seriesConfig:i,tooltipFormatter:r});}function jE(e){var t;const{chart:i,seriesConfig:n,axisPair:r,hideLoaderHandle:a,selectionTheme:o,numberOfChartSeries:s,ignoreSmoothRenderingLimit:l}=e,{x:u,y:d,name:c,id:h}=n,p=new ay;p.id=h,Uk(p,a),RD(p,c),[p.xAxis,p.yAxis]=r;const m=HO({chart:i});!0===m?p.dataFields.valueX=d:p.dataFields.valueY=d;const f=!0===m?r[1]:r[0];if(void 0!==f){const e=VD(f,m);p.dataFields[e]=u,p.baseAxis=f;}p.dataFields.customValue=null===(t=null==n?void 0:n.query)||void 0===t?void 0:t.where;const g=ND({chart:i,lineSeries:p,applyPropertiesToClones:!1});return dM(g,p),function(e){const t=bk(uP.dataLabelInitialize);tO(t.uid,{isDataLabel:!0}),e.bullets.push(t),Pk(Bb,t),wk(Bb,t),Ok(t,e),t.html="{valueX}";}(p),_F({element:g,customSelectionTheme:o}),zD({chart:i,numberOfChartSeries:s,series:p,seriesType:Bb,marker:g,ignoreSmoothRenderingLimit:l}),SM(p),p}function VE(e){const t=function(e){const{series:t,iSeries:i,symbolProps:n}=e,r=t,a=CF(Object.assign(Object.assign({},n),{element:r,dataIndex:0,seriesIndex:i}));return UO(r,n.seriesConfig.visible),a.symbolWithColorInfo}(e),{series:i,seriesSymbolMapForEvent:n,numberOfSeries:r,iSeries:a}=e,o=e.symbolProps.seriesConfig;let{markerSymbol:s}=o;void 0===(null==s?void 0:s.color)&&(void 0===s&&(s=kd()),s.color=t.color,e.symbolProps.seriesSymbol=s);const l=function(e){var t;const{series:i,symbolProps:n,iSeries:r}=e,{seriesConfig:a,dataSource:o}=n,s=KO(i);let l,u=!1;if(void 0!==s){!1!==a.markerVisible&&!1!==a.visible?i.bulletsContainer.show():i.bulletsContainer.hide();const e=null!==(t=a.markerSymbol)&&void 0!==t?t:kd(),d=new Set;let c;vF({element:s,markerSymbol:e}),s.clones.each(((t,i)=>{var s,u,h,p;if(t.dataItem instanceof xg==0){let h;a.colorType===qb&&(h=null===(u=null===(s=t.dataItem)||void 0===s?void 0:s.dataContext)||void 0===u?void 0:u[Xk]);const p=CF(Object.assign(Object.assign({},n),{dataSource:o,seriesConfig:a,seriesIndex:r,seriesSymbol:e,element:t,dataIndex:i,rendererElementColor:h}));l=p.symbolWithColorInfo,c=p.stylingInfo,oM(t,c),d.add(JSON.stringify(c));}else null===(h=t.states.getKey(qk))||void 0===h||h.reset(),null===(p=t.states.getKey($k))||void 0===p||p.reset();})),u=d.size>1,!1===u&&oM(s,c);}return !1===u?l:void 0}(e);n.set(a,{lineSymbol:t,markerSymbol:l}),function(e,t){var i;!0===e.showArea?(t.fill=void 0!==e.areaColor?rk(e.areaColor):t.stroke,t.fillOpacity=void 0!==(null===(i=e.areaColor)||void 0===i?void 0:i[3])?e.areaColor[3]/255:uP.lineSeries.areaOpacity):t.fillOpacity=0;}(o,i),n.size===r&&Wk(n,i.chart.htmlContainer);}function RE(e,t){const{nullPolicy:i}=t;e.connect=i!==mx;}function BE(e){var t,i;return v(this,void 0,void 0,(function*(){const{seriesConfig:n,series:r,axes:a,rotationChanged:o,inlineDisplayLabelField:s,rendererInfo:l,mapRendererColorToSeries:u,seriesIndex:d,subtypeInfo:c,fieldList:h,options:p,commonStrings:m}=e,{visible:f,name:g,stackedType:y}=n,b=a[1].valueFormat,x=YA(r.chart.uid,"config"),C=HO({config:x}),S=Th(null==x?void 0:x.series);UO(r,f);let _=g;const P=null!==(i=null===(t=r.dataFields)||void 0===t?void 0:t.customValue)&&void 0!==i?i:"";S===Gd&&(_=kh({subtypeInfo:c,fieldList:h,fieldName:_h(P),fieldValueToMatch:_})),RD(r,_),RE(r,n),WD({series:r,seriesConfig:n,rotationChanged:o,isRotated:C}),RE(r,n);const w={updateLineSeriesProps:e,mapRendererColorToSeries:u,rendererInfo:l,queryType:S};r.events.once(SP,(()=>{!function(e){var t;v(this,void 0,void 0,(function*(){const{updateLineSeriesProps:i,mapRendererColorToSeries:n,rendererInfo:r,queryType:a}=e,{seriesConfig:o,series:s,numberOfSeries:l,seriesIndex:u,dataSource:d,queryObject:c,rotationChanged:h,sortChanged:p,options:m,seriesSymbolMapForEvent:f,dataWasUpdated:g}=i;UO(s,o.visible);const y=KO(s);VE({series:s,iSeries:u,numberOfSeries:l,symbolProps:{seriesConfig:o,seriesSymbol:o.lineSymbol,y:o.y,dataSource:d,mapRendererColorToSeries:n,rendererInfo:r,queryType:a,seriesIndex:u},seriesSymbolMapForEvent:f}),void 0!==y&&(yield rM({series:s,seriesIndex:u,queryObject:c,elementsToApplySelectionTo:y.clones.values,options:null!==(t=YA(s.chart.uid,"options"))&&void 0!==t?t:m,dataWasUpdated:g,sortChanged:p,rotationChanged:h,xAxisField:wO(s),yAxisField:IO(s)}));}));}(w);})),function(e,t){!0===e.lineSmoothed?t.smoothing=!0===e.rotated?ox:ax:t.smoothing=uP.lineSeries.lineSmoothedKind;}(n,r),fM({series:r,seriesConfig:n,fieldList:h,inlineDisplayLabelField:s,seriesIndex:d,setTimeBinningInfoWhenNotProvided:null==p?void 0:p.setTimeBinningInfoWhenNotProvided,commonStrings:m,tooltipFormatter:null==p?void 0:p.tooltipFormatter}),function(e){const{series:t}=e,i=Ak(t,"bullets");Fk(Object.assign(Object.assign({},e),{dataLabel:i,defaultDataLabelFormatter:kk,seriesType:Bb}));}({series:r,seriesType:Bb,stackedType:y,dataLabelsConfig:n.dataLabels,yAxisValueFormat:b,customDataLabelFormatter:null==p?void 0:p.dataLabelFormatter});}))}function NE(e){var t,i,n,r;let a=e.axisRanges.length-1;if(!0===e.isReady()){const o=kL(e,_L),s=null!==(i=null===(t=o[0])||void 0===t?void 0:t.point.x)&&void 0!==i?i:0,l=(null!==(r=null===(n=o[1])||void 0===n?void 0:n.point.x)&&void 0!==r?r:0)-s,u=function(e){let t=0;return e.forEach((e=>{const{label:i}=e;t=Math.max(t,null==i?void 0:i.bbox.width,i.measuredWidth);})),t}(o);if(0!==u){const e=uP.histogramAxisLabelPadding;for(let t=0;t<o.length;t+=1)if(t*l-u-e>0){a=t;break}}}return a}function WE(e){var t,i;const n=YA(e.chart.uid,"config"),{horizontalAxisLabelsBehavior:r,axes:a}=n,o=null==a?void 0:a[0];if(void 0!==o){const{visible:n,labels:a,guides:s}=o,{visible:l}=a;let u=NE(e);const d=kL(e,_L),c=function(e,t){let i=!1;if(t.length>0){const n=t[t.length-1].label,r=n.x,a=Math.max(1,n.measuredWidth)/2,o=e.chart.leftAxesContainer.measuredWidth;Number.isFinite(r)&&Number.isFinite(a)&&Number.isFinite(o)&&(i=r+a+o>e.chart.measuredWidth);}return i}(e,d),h=(d.length-1)%u==0&&!0===l,p=r!==vx&&!0===h&&!0===c,m=!0===p?uP.rotatedHistogramAxisLabel:uP.nonRotatedHistogramAxisLabel;!0===p&&1!==u&&(u=Math.ceil(u/2));for(let e=0;e<d.length;e+=1){const t=d[e],i=e%u==0&&!0===n,r=e%u==0&&!0===l,a=Object.assign({},o.labels);a.content.angle=void 0,a.content.yoffset=void 0,a.content.horizontalAlignment=void 0,a.content.verticalAlignment=void 0,Ck(t.label,a,m),UO(t.tick,i),UO(t.label,r);}const f=kL(e,SL);for(let e=0;e<f.length;e+=1){const n=null===(i=null===(t=null==s?void 0:s[e])||void 0===t?void 0:t.visible)||void 0===i||i;UO(f[e].label,n),f[e].label.disabled=!0!==n;}e.invalidateLabels();}}function zE(e,t){return v(this,void 0,void 0,(function*(){switch(e){case Bb:!1===function(e){return (oO(e[0])||rO(e[0])||sO(e[0]))&&rO(e[1])}(t)&&(yield DA("invalidAxesForLineChart"));break;case Nb:!1===function(e){return (oO(e[0])||sO(e[0]))&&rO(e[1])}(t)&&(yield DA("invalidAxesForBarChart"));break;case zb:!1===function(e){return (oO(e[0])||sO(e[0]))&&rO(e[1])}(t)&&(yield DA("invalidAxesForComboBarLineChart"));}}))}const HE=0,GE=1,UE=2;function qE(e,t){let i;switch(t){case HE:i="gaugeAutoResizeInnerLabelDisposer";break;case GE:i="gaugeAutoResizeAxisLabelsDisposer";break;case UE:i="gaugeAutoResizeFirstAndLastLabelsDisposer";}if(void 0!==i){let t=YA(e.uid,i);void 0!==t&&(t.dispose(),t=void 0,KA(e.uid,{[i]:void 0}));}}function $E(e){var t,i,n,r,a,o,s,l;const{chart:u,type:d,labelList:c,currentScale:h,currentFontSize:p}=e;let m=NaN,f=NaN;if(d===HE){const e="number"==typeof u.innerRadius?u.innerRadius:u.innerRadius.value;f=(null!==(i=null===(t=u.xAxes.getIndex(0))||void 0===t?void 0:t.measuredWidth)&&void 0!==i?i:0)*e;}else f=null!==(r=null===(n=u.xAxes.getIndex(0))||void 0===n?void 0:n.measuredHeight)&&void 0!==r?r:0;if(f>1){const e=d===HE?null!==(o=null===(a=c[0])||void 0===a?void 0:a.measuredWidth)&&void 0!==o?o:0:null!==(l=null===(s=c.find((e=>e.measuredWidth>0&&e.measuredHeight>0)))||void 0===s?void 0:s.measuredHeight)&&void 0!==l?l:0;if(e>0){const t=e/f;if(t>0){const{axisLabelToInnerChartRatio:e,innerLabelToInnerChartRatio:i}=uP.gauge;m=h*((d===HE?i:e)/t),m=function(e){const{scaleToAdjust:t,fontSize:i,type:n}=e;let r=NaN,a=NaN;n===HE?(r=uP.gauge.innerLabelAutoMinFontSize,a=uP.gauge.innerLabelAutoMaxFontSize):(r=uP.gauge.axisLabelAutoMinFontSize,a=uP.gauge.axisLabelAutoMaxFontSize);let o=t;const s=i*o;return s<r?o*=r/s:s>a&&(o*=a/s),o}({scaleToAdjust:m,fontSize:p,type:d}),m=Number(m.toFixed(2));}}}return !1===Number.isFinite(m)&&(m=h),m}function YE(e){return e.some((e=>void 0!==e.value))}function KE(e){const{value:t,axisMin:i,axisMax:n}=e;let r=NaN;const a=n-i;return 0!==a&&(r=(t-i)/a),r}function XE(e,t){var i,n,r;const a=e.xAxes.getIndex(0);if(void 0!==a){const o=null!=t?t:YA(e.uid,"config"),{onlyShowFirstAndLastLabels:s}=o.axes[0];if(!1===a.renderer.labels.template.visible||!0===s)e.radius=new T(uP.gauge.radius);else {const t=null===(i=kL(a,wL).reverse().find((e=>{var t;return !0===e.label.visible&&(null===(t=e.label)||void 0===t?void 0:t.measuredWidth)>0})))||void 0===i?void 0:i.label;if(void 0!==t){const i=null!==(n=t.measuredWidth)&&void 0!==n?n:1,a=null!==(r=t.measuredHeight)&&void 0!==r?r:1,o=2*i+e.radarContainer.measuredWidth,s=e.plotContainer.measuredWidth,l=e.radarContainer.measuredHeight+2*a,u=s/o,d=(e.plotContainer.measuredHeight+GO(e.paddingTop)+GO(e.paddingBottom))/l,c=100*("number"==typeof e.radius?e.radius:e.radius.value),h=Number((c*u).toFixed(2)),p=Number((c*d).toFixed(2)),m=h/c,f=p/c,g=e.radarContainer.measuredWidth*m,y=e.radarContainer.measuredWidth*f,[v,b]=g<y?[h,m]:[p,f];!0===Number.isFinite(v)&&v>=10&&(b<.98||b>1.02)&&(e.radius=new T(v));}}}}function JE(e){const t=e.hands.push(new fy),i=uP.gaugeNeedle,{startWidth:n,endWidth:r,innerRadius:a}=i;t.pin.disabled=!0,t.startWidth=null!=n?n:NaN,t.endWidth=null!=r?r:NaN,t.innerRadius=A(null!=a?a:NaN);const o=e.xAxes.getIndex(0);return void 0!==o&&(t.axis=o),t}function ZE(e){var t,i,n,r;const{chart:a,needle:o,gaugeValue:s}=e,l=null!==(t=a.hands.getIndex(0))&&void 0!==t?t:JE(a);if(void 0!==l){xF({element:l,fillSymbol:null==o?void 0:o.symbol});const{startWidth:e,endWidth:t,innerRadius:u}=uP.gaugeNeedle;l.value=function(e,t){var i,n,r,a,o,s;let l=null!=t?t:null;if(null!=t){const u=e.xAxes.getIndex(0),d=YA(e.uid,"config"),c=null!==(r=null!==(i=u.min)&&void 0!==i?i:null===(n=null==d?void 0:d.axes)||void 0===n?void 0:n[0].minimum)&&void 0!==r?r:uP.gauge.axisMinimum,h=null!==(s=null!==(a=u.max)&&void 0!==a?a:null===(o=null==d?void 0:d.axes)||void 0===o?void 0:o[0].maximum)&&void 0!==s?s:uP.gauge.axisMaximum;t<c?l=c:t>h&&(l=h);}return l}(a,s),l.pin.disabled=!0!==(null==o?void 0:o.displayPin),l.visible=!0===(null==o?void 0:o.visible),l.startWidth=null!==(i=null==o?void 0:o.startWidth)&&void 0!==i?i:e,l.endWidth=null!==(n=null==o?void 0:o.endWidth)&&void 0!==n?n:t,l.innerRadius=A(null!==(r=null==o?void 0:o.innerRadius)&&void 0!==r?r:u);}}function QE(e,t){var i,n,r,a,o,s,l;const u=YA(e.uid,"config"),d=null==u?void 0:u.axes[0],c=null!==(r=null===(n=null===(i=null==d?void 0:d.innerLabel)||void 0===i?void 0:i.content)||void 0===n?void 0:n.verticalAlignment)&&void 0!==r?r:Cb,{paddingBottom:h}=uP.gauge;let p=h,m=h;if(!1!==(null===(a=null==d?void 0:d.innerLabel)||void 0===a?void 0:a.visible)&&c===Sb){const i=e.radarContainer.measuredWidth/2+t.measuredHeight,n=e.radarContainer.measuredHeight;p=Math.round(i-n-h);}if(!0===(null==d?void 0:d.onlyShowFirstAndLastLabels)&&!1!==(null==d?void 0:d.labels.visible)){const t=kL(e.xAxes.getIndex(0),PL);m=null!==(l=null===(s=null===(o=t[t.length-1])||void 0===o?void 0:o.label)||void 0===s?void 0:s.measuredHeight)&&void 0!==l?l:0;}const f=Math.max(p,m)+h,g=GO(e.paddingBottom);Math.round(g)!==f&&(e.paddingBottom=f);}function ej(e){const t=bk(void 0,e.radarContainer);t.isMeasured=!1,function(e,t){const i=e.xAxes.getIndex(0);void 0!==i&&(i.events.on(bP,(()=>{QE(e,t);})),i.events.on(SP,tP((()=>{QE(e,t);}),uP.debounceTime)));}(e,t),tO(t.uid,{isGaugeAxisInnerLabel:!0});}function tj(e){const{chart:t,innerLabelConfig:i,valueFormat:n,gaugeValue:r,gaugeInnerLabelFormatter:a}=e,o=t.radarContainer.children.values.find((e=>!0===eO(e.uid,"isGaugeAxisInnerLabel")));void 0!==o&&(Ck(o,i,uP.gaugeInnerLabel),o.html=function(e){const{valueFormat:t,locale:i,innerLabelConfigContent:n,gaugeValue:r,gaugeInnerLabelFormatter:a}=e;let o="";if(!0===Number.isFinite(r))if(void 0!==a)o=a(r);else {const e=nO(t),a=kA(Mb,i);a.numberFormat=e,o=a.format(`${r}`),o=uk({textSymbol:Object.assign(Object.assign({type:Ib},n),{text:o}),format:"html"}),o=dh(o);}return o}({valueFormat:n,locale:t.language.locale,gaugeValue:r,innerLabelConfigContent:null==i?void 0:i.content,gaugeInnerLabelFormatter:a}),function(e){var t;const{chart:i,innerLabel:n,innerLabelConfig:r}=e;if(qE(i,HE),void 0===(null===(t=null==r?void 0:r.content.font)||void 0===t?void 0:t.size)){const e=()=>{const e=$E({chart:i,type:HE,labelList:[n],currentScale:n.scale,currentFontSize:n.fontSize});!0===Number.isFinite(e)&&n.scale!==e&&(n.scale=e,n.validate());};i.events.once(SP,e);const t=i.events.on(bP,e);KA(i.uid,{gaugeAutoResizeInnerLabelDisposer:t}),e();}else n.scale=1;}({chart:t,innerLabel:o,innerLabelConfig:i}),t.radarContainer.invalidateLabels());}function ij(e){return null!=e&&0!==e}function nj(e){const t=e.axisRanges.create();return t.axisFill.fillOpacity=1,t.axisFill.disabled=!0,t.grid.strokeOpacity=1,t.grid.disabled=!1,t.tick.length=uP.gaugeTicksLength,t}function rj(e){const t=new dy;return t.disabled=!0,t.axis=e,vk(t),t.padding(10,10,10,10),tO(t.uid,{isGaugeAxisLabel:!0}),t}function aj(e){const{valueFormat:t,locale:i,gaugeLabelConfigContent:n,itemLabelValue:r,axisValueFormatter:a}=e;let o="";if(!0===Number.isFinite(r))if(void 0!==a)o=a(r);else {const e=nO(t),a=kA(Mb,i);a.numberFormat=e,o=a.format(`${r}`),o=uk({textSymbol:Object.assign(Object.assign({type:Ib},n),{text:o}),format:"html"}),o=dh(o);}return o}function oj(e){const{chart:t,axis:i,onlyShowFirstAndLastLabels:n,valueFormat:r,gaugeLabelConfigContent:a,axisValueFormatter:o}=e;if(!0===n){kL(i,PL).forEach((e=>{void 0!==e&&void 0!==e.label&&(e.label.html=aj({valueFormat:r,locale:t.language.locale,gaugeLabelConfigContent:null==a?void 0:a.content,itemLabelValue:e.value,axisValueFormatter:o}));})),function(e){kL(e,PL).forEach((e=>{!1===e.label.adapter.keys().includes("dx")&&e.label.adapter.add("dx",(t=>{let i=t;return i=e.label.measuredWidth/2,e.id===uP.gaugeLastLabelId&&(i*=-1),i})),!1===e.label.adapter.keys().includes("dy")&&e.label.adapter.add("dy",(t=>{let i=t;return 0!==e.label.measuredHeight&&(i=e.label.measuredHeight/2),i}));}));}(i);}}function sj(e,t){return v(this,void 0,void 0,(function*(){t.type!==Mb&&(yield DA("invalidValueFormatForGauge")),sE({axes:e.xAxes,valueFormat:t});const i=e.xAxes.getIndex(0);i instanceof zg&&(i.renderer.labels.template.disabled=!0,i.renderer.ticks.template.disabled=!0,JE(e),ej(e),function(e){const t=e.xAxes.getIndex(0);void 0!==t&&(t.events.on(bP,(()=>XE(e))),t.events.on(SP,tP((()=>XE(e)),uP.debounceTime)));}(e),i.maxZoomFactor=1);}))}function lj(e){var t;return v(this,void 0,void 0,(function*(){const{chart:i,chartConfig:n,data:r,axisValueFormatter:a,gaugeInnerLabelFormatter:o}=e,{axes:s,series:l}=n,{featureIndex:u,x:d}=l[0],c=null==s?void 0:s[0],h=i.xAxes.getIndex(0),p=Eh(n),m=Object.assign({},c);if(void 0!==h&&void 0!==m){const{valueFormat:e,needle:s,innerLabel:l,onlyShowFirstAndLastLabels:c}=m;let f;!0===lO(h,e)&&sE({axes:i.xAxes,valueFormat:e}),!0===p&&(f=function(e){var t,i,n,r;const a=uP.gauge,{featureIndex:o,chart:s,config:l}=e,{minimum:u,minimumFromField:d,maximum:c,maximumFromField:h}=null!==(i=null===(t=null==l?void 0:l.axes)||void 0===t?void 0:t[0])&&void 0!==i?i:{},{x:p}=null!==(r=null===(n=null==l?void 0:l.series)||void 0===n?void 0:n[0])&&void 0!==r?r:{};let m=-1,f=null!=u?u:a.axisMinimum,g=null!=c?c:a.axisMaximum;if(o>=0&&o<s.data.length){const e=s.data[o];void 0!==d&&!1===sh(d)&&!0===Number.isFinite(e[d])&&(f=e[d]),void 0!==h&&!1===sh(h)&&!0===Number.isFinite(e[h])&&(g=e[h]),void 0!==p&&!1===sh(p)&&!0===Number.isFinite(e[p])&&(m=e[p]);}return {minimum:f,maximum:g,dataValue:m}}({featureIndex:null!==(t=u)&&void 0!==t?t:0,chart:i,config:n}),m.minimum=f.minimum,m.maximum=f.maximum);const{min:g,max:y,labelsIncrement:v,numberOfIntervals:b}=function(e){const{minimum:t,maximum:i,labelsIncrement:n,minimumValueConversion:r,maximumValueConversion:a}=e;let o=null!=t?t:uP.gauge.axisMinimum,s=null!=i?i:uP.gauge.axisMaximum;o=tk(o,r),s=tk(s,a);const l=ij(n);let u=ij(n)?n:Math.abs(s-o)/uP.gauge.numberOfLabelIntervals,d=!0===l?Math.round(Math.abs(s-o)/u):uP.gauge.numberOfLabelIntervals;if(!0===l)if(d>uP.gauge.maximumNumberOfLabelIntervals)u=Math.abs(s-o),d=1;else {const e=o+d*u;e<s?(d+=1,s=o+d*u):e>s&&(s=e);}return {min:o,max:s,labelsIncrement:u,numberOfIntervals:d}}(m),x=function(e){var t,i,n;const{axis:r,min:a,max:o,labelsIncrement:s,numberOfIntervals:l,valueFormat:u,minimumFromField:d}=e,c=!0===aO(u);let h=!0;const p=YA(r.chart.uid,"config");if(void 0!==p){const{minimum:e,minimumFromField:m,labelsIncrement:f,valueFormat:g}=null===(t=p.axes)||void 0===t?void 0:t[0],y=(null===(i=null==g?void 0:g.intlOptions)||void 0===i?void 0:i.style)!==(null===(n=null==u?void 0:u.intlOptions)||void 0===n?void 0:n.style),v=!0===ij(f)?f!==s:l!==uP.gauge.numberOfLabelIntervals;h=!0===y||a!==e||d!==m||!1===c&&o!==r.max||!0===v;}return h}({axis:h,min:g,max:y,labelsIncrement:v,numberOfIntervals:b,valueFormat:e});!0===x&&function(e){var t;const{axis:i,min:n,max:r,labelsIncrement:a,numberOfIntervals:o,valueFormat:s}=e,l=!0===aO(s);let u=1;const d=kL(i,_L);d.length>0&&(u=null===(t=d[0].label)||void 0===t?void 0:t.scale,d.forEach((e=>{const t=i.axisRanges.values.indexOf(e);t>=0&&i.axisRanges.removeIndex(t);})));const c=uP.gauge.numberOfTicksBetweenTwoLabels+1,h=o*c+1;for(let e=0;e<h;e+=1){const t=e===h-1,o=nj(i),s=!0===t?r:n+e/c*a;o.value=!0===l?KE({value:s,axisMin:n,axisMax:r}):s,e%c==0&&(o.label=rj(i),o.label.text=String(s),o.grid.disabled=!0,!0===Number.isFinite(u)&&(o.label.scale=u));}}({axis:h,min:g,max:y,labelsIncrement:v,numberOfIntervals:b,valueFormat:e});const C=Object.assign({},m);!0===aO(e)?(C.minimum=0,C.maximum=1,function(e){var t;const{axisConfig:i,axisMin:n,axisMax:r}=e;null!=n&&null!=r&&0!=r-n&&(null===(t=i.guides)||void 0===t||t.forEach((e=>{const{start:t,end:i}=e;"number"==typeof t&&(e.start=KE({value:t,axisMin:n,axisMax:r})),"number"==typeof i&&(e.end=KE({value:i,axisMin:n,axisMax:r}));})));}({axisConfig:C,axisMin:m.minimum,axisMax:m.maximum})):(C.minimum=g,C.maximum=y),function(e){var t,i;const{labels:n,guides:r,onlyShowFirstAndLastLabels:a}=e,o=null!=r?r:[];if(!0===a){const r={type:Eb,start:NaN,style:{type:"esriSLS"},name:""};o.push(Object.assign(Object.assign({},r),{start:null!==(t=e.minimum)&&void 0!==t?t:NaN,name:uP.gaugeFirstLabelId,label:Object.assign(Object.assign({},n.content),{text:`${e.minimum}`})}),Object.assign(Object.assign({},r),{start:null!==(i=e.maximum)&&void 0!==i?i:NaN,name:uP.gaugeLastLabelId,label:Object.assign(Object.assign({},n.content),{text:`${e.maximum}`})}));}e.guides=o;}(C),yield hE({axis:h,axisConfig:C,seriesType:Rb,axisValueFormatter:a}),!0!==h.renderer.labels.template.disabled&&(h.renderer.labels.template.disabled=!0),!0!==h.renderer.ticks.template.disabled&&(h.renderer.ticks.template.disabled=!0),function(e){var t;const{chart:i,axisConfig:n,axis:r}=e;if(void 0===(null===(t=n.labels.content.font)||void 0===t?void 0:t.size)&&!0!==n.onlyShowFirstAndLastLabels){qE(i,GE),qE(i,UE);const e=()=>{r.events.once(SP,(()=>{const e=kL(r,wL);if(!0===YE(e)){const t=e.map((e=>e.label)),n=t[0].scale,r=t[0].fontSize,a=$E({chart:i,type:GE,labelList:t,currentScale:n,currentFontSize:r}),o=a/n;!0===Number.isFinite(a)&&a>0&&(o<=.98||o>1.02)&&t.forEach((e=>{e.scale=a;}));}})),r.validate();};i.events.once(SP,e);const t=i.events.on(bP,e);KA(i.uid,{gaugeAutoResizeAxisLabelsDisposer:t}),e();}else {qE(i,GE);const e=kL(r,wL);e.length>0&&e.map((e=>e.label)).forEach((e=>{e.scale=1;}));}}({chart:h.chart,axis:h,axisConfig:m}),function(e){var t;const{chart:i,axisConfig:n,axis:r}=e;if(void 0===(null===(t=n.labels.content.font)||void 0===t?void 0:t.size)&&!0===n.onlyShowFirstAndLastLabels){qE(i,GE),qE(i,UE);const e=()=>{const e=kL(r,PL);if(!0===YE(e)){const t=e.map((e=>e.label)),n=t[0].scale,r=t[0].fontSize,a=$E({chart:i,type:UE,labelList:t,currentScale:n,currentFontSize:r}),o=a/n;!0===Number.isFinite(a)&&a>0&&(o<=.98||o>1.02)&&t.forEach((e=>{e.scale=a;}));}};i.events.once(SP,e);const t=i.events.on(bP,e);KA(i.uid,{gaugeAutoResizeFirstAndLastLabelsDisposer:t}),e();}else qE(i,UE),kL(r,PL).map((e=>e.label)).forEach((e=>{e.scale=1;}));}({chart:i,axis:h,axisConfig:m}),function(e,t){var i,n;const r=null===(n=null===(i=null==t?void 0:t.ticks)||void 0===i?void 0:i.visible)||void 0===n||n,a=kL(e,_L);for(let e=0;e<a.length;e+=1)UO(a[e].tick,r);}(h,m),function(e){const{chart:t,axis:i,onlyShowFirstAndLastLabels:n,valueFormat:r,axisLabelConfigContent:a,axisValueFormatter:o}=e;if(!0!==n){const e=kL(i,wL);!0===YE(e)&&e.forEach((e=>{Ck(e.label,a),e.label.html=aj({valueFormat:r,locale:t.language.locale,gaugeLabelConfigContent:null==a?void 0:a.content,itemLabelValue:e.value,axisValueFormatter:o});}));}}({chart:i,axis:h,onlyShowFirstAndLastLabels:null!=c&&c,valueFormat:e,axisLabelConfigContent:m.labels,axisValueFormatter:a}),oj({chart:i,axis:h,onlyShowFirstAndLastLabels:null!=c&&c,valueFormat:e,gaugeLabelConfigContent:m.labels,axisValueFormatter:a});const S=!0===p?null==f?void 0:f.dataValue:function(e){const{x:t,data:i,chart:n,valueFormat:r,minimum:a,maximum:o}=e;let s=NaN;if(void 0!==i&&void 0!==t){const e=i.find((e=>t in e)),r=Number.parseFloat(e[t]);!0===Number.isFinite(r)&&(s=r,KA(n.uid,{gaugeData:s}));}else {const e=YA(n.uid,"gaugeData");!0===Number.isFinite(e)&&(s=e);}!0===aO(r)&&void 0!==a&&void 0!==o&&null!==a&&null!==o&&null!==s&&0!=o-a&&(s=KE({value:s,axisMin:a,axisMax:o}));return s}({x:d,data:r,chart:i,minimum:m.minimum,maximum:m.maximum,valueFormat:e});ZE({chart:i,needle:s,gaugeValue:S}),tj({chart:i,innerLabelConfig:l,valueFormat:e,gaugeValue:S,gaugeInnerLabelFormatter:o}),function(e,t){var i;if(e instanceof zg&&e.chart instanceof gy){const n=kL(e,wL);if(!0===YE(n)){const{onlyShowFirstAndLastLabels:e,labels:r}=t,a=(null===(i=null==r?void 0:r.visible)||void 0===i||i)&&!0!==e;n.forEach((e=>{UO(e.label,a);}));}}}(h,m),XE(i,n),i.validateData();}}))}function uj(e,t){e.background.fill=rk(null!=t?t:uP.backgroundColor);}function dj(e){e instanceof ey&&(e.scrollbarX=new _a,e.scrollbarY=new _a,e.scrollbarX.disabled=!0,e.scrollbarY.disabled=!0);}function cj(e){const{chart:t,scrollbarXVisible:i,scrollbarYVisible:n}=e;if(t instanceof ey){const e=YA(t.uid,"isRotated");void 0!==t.scrollbarX&&void 0!==t.scrollbarY||dj(t),t.scrollbarX.disabled=!0!==e?!0!==i:!0!==n,t.scrollbarY.disabled=!0!==e?!0!==n:!0!==i;}}function hj(e,t){return e.values.filter((e=>{let i=!1;const n=!1===e.isActive;if(e.dataItem instanceof xg==!1){e.isActive=!0!==e.isActive;PF({element:e,selected:!0!==YA(t.uid,"filterBySelection")&&!0===n}),i=n;}return i}))}function pj(e){return v(this,void 0,void 0,(function*(){const{chart:t,cursorSelectionRectangle:i,multiSelect:n,mode:r}=e,a=YA(t.uid,"config"),o=YA(t.uid,"queryObject");let s=[];KA(t.uid,{pendingSelectionQueries:!0});let l=[],u=!0;t.series.each(((e,t)=>{var d,c,h,p,m;if(!0===e.visible&&!0!==XA(e.uid,"isOverlay")){const f=wO(e),g=IO(e),y=null!==(c=null===(d=e.dataFields)||void 0===d?void 0:d.customValue)&&void 0!==c?c:"",v=TO(e,t),b={queryObject:o,element:{},yAxisField:g,xAxisField:f,splitBy:y,chartType:v,seriesIndex:t};let x;e instanceof $y?(x=null===(h=e.columns)||void 0===h?void 0:h.values,v===Wb&&(b.xAxisField=y,b.dataTransformationType=(null==a?void 0:a.series[0]).dataTransformationType)):e instanceof ay&&(x=null===(m=null===(p=KO(e))||void 0===p?void 0:p.clones)||void 0===m?void 0:m.values,b.uniqueFeature=!0),void 0!==x&&(l=[...l,...x],x.forEach(((e,t)=>{if(e.dataItem instanceof xg==!1){const a=!0===e.isActive,o=function(e,t){let i=!1;if(void 0!==t&&!0===QO(e)){const n=Ai(e.bbox,e),r=t.x,a=t.y,o=t.x+t.width,s=t.y+t.height,l=n.x,u=n.y,d=n.x+n.width,c=n.y+n.height;i=0==(l>o||d<r||u>s||c<a);}return i}(e,i);!0===o&&(u=!1);let l=!1;l=!1===a?o:!0===o?"hit"!==r:!0===n,!0===l&&s.push(Object.assign(Object.assign({},b),{element:e,elementIndex:t})),PF({element:e,selected:l});}})));}})),!0!==u&&0!==s.length||(l.forEach((e=>{PF({element:e,selected:!1,backToDefaultState:!0});})),s=[]),yield aM({chart:t,listSelectedElements:s,selectionSource:lg});}))}function mj(e){ZO(e)&&e.events.on(fP,(t=>{const i=t.target.cursor,n=$A(e.uid,"selectEndedCallbackDisposer");void 0!==n&&n.dispose();const r=i.events.once(gP,(()=>v(this,void 0,void 0,(function*(){if(void 0!==i.xRange){i.selection.isMeasured=!0,i.validate(),i.selection.validate();const n=Ai(i.selection.bbox,i.selection);if(i.selection.hide(),n.width>0||n.height>0){const i=wF(t);yield pj({chart:e,cursorSelectionRectangle:n,multiSelect:i,mode:"range"});}}i.selection.hide();}))));!function(e,t){qA(e,t);}(e.uid,{selectEndedCallbackDisposer:r});}));}function fj(e){return v(this,void 0,void 0,(function*(){const{series:t}=e;if(t.length>0){KA(e.uid,{pendingSelectionQueries:!0});const i=YA(e.uid,"config"),n=t.values.map(((e,t)=>{let n=[];if(!0===e.visible&&!0!==XA(e.uid,"isOverlay")){const r=ih(null==i?void 0:i.series,t);r===Nb||r===Wb?n=function(e,t){var i,n;let r=[];const{columns:a}=e;if(void 0!==a&&!0===e.visible){const{chart:o}=e,s=YA(o.uid,"config"),l=wO(e),u=IO(e),d=YA(o.uid,"queryObject"),c=null!==(n=null===(i=null==e?void 0:e.dataFields)||void 0===i?void 0:i.customValue)&&void 0!==n?n:"",h=TO(e,t),p={queryObject:d,element:{},yAxisField:u,xAxisField:l,splitBy:c,chartType:h,seriesIndex:t};h===Wb&&0===t&&(p.xAxisField=c,p.dataTransformationType=(null==s?void 0:s.series[0]).dataTransformationType),r=hj(a,o).map((e=>{var t;return Object.assign(Object.assign({},p),{element:e,elementIndex:null===(t=e.dataItem)||void 0===t?void 0:t.index})}));}return r}(e,t):r===Bb||r===jb&&!0!==XA(e.uid,"isOverlay")?n=function(e,t){var i,n,r;let a=[];if(!0===e.visible){const o=null===(i=KO(e))||void 0===i?void 0:i.clones;if(void 0!==o){const{chart:i}=e,s=YA(i.uid,"config"),l=ih(null==s?void 0:s.series,t),u={queryObject:YA(i.uid,"queryObject"),element:{},xAxisField:wO(e),yAxisField:IO(e),splitBy:l===Bb&&null!==(r=null===(n=null==e?void 0:e.dataFields)||void 0===n?void 0:n.customValue)&&void 0!==r?r:"",chartType:l,uniqueFeature:l===jb,seriesIndex:t};a=hj(o,i).map((e=>{var t;return Object.assign(Object.assign({},u),{element:e,elementIndex:null===(t=e.dataItem)||void 0===t?void 0:t.index})}));}}return a}(e,t):r===Vb&&(n=function(e){let t=[];if(!0===e.visible){const{chart:i}=e,n={queryObject:YA(i.uid,"queryObject"),element:{},xAxisField:wO(e),yAxisField:IO(e),chartType:Vb,seriesIndex:0};let r;t=hj(e.slices,i).map((e=>{var t,i,a,o;const s=null!==(i=null===(t=e.dataItem)||void 0===t?void 0:t.dataContext)&&void 0!==i?i:{};return !0===QD(s)&&(r=ZD({groupOfSlicesDataContext:s})),Object.assign(Object.assign({},n),{element:e,elementIndex:null===(a=e.dataItem)||void 0===a?void 0:a.index,elementDataContext:null===(o=e.dataItem)||void 0===o?void 0:o.dataContext})})),void 0!==r&&r.forEach(((e,i)=>{t.push(Object.assign(Object.assign({},n),{elementIndex:i,elementDataContext:e}));}));}return t}(e));}return n})),r=n.flat();yield aM({chart:e,listSelectedElements:r,selectionSource:ug}),e instanceof wy&&e.feedLegend();}}))}function gj(e){if(ZO(e))if(e.events.disableType(pP),e.events.disableType(mP),e instanceof wy){const t=e.series.getIndex(0);void 0!==t&&(t.slices.template.clickable=!1,t.labels.template.clickable=!1,t.slices.each((e=>{e.clickable=!1;})));}else e instanceof ey&&(e.xAxes.each((e=>ZL(e,!0))),e.yAxes.each((e=>ZL(e,!0))),e.events.disableType(fP));}function yj(e=fd().locale){return v(this,void 0,void 0,(function*(){let t=yield Promise.resolve().then((function(){return ZM}));switch(e){case dd.Arabic:t=yield import('./common.t9n.ar-f437934c-01e9a3ba.js');break;case dd.Bosnian:t=yield import('./common.t9n.bs-e5296bf6-7310c1ca.js');break;case dd.Bulgarian:t=yield import('./common.t9n.bg-aa9d8311-d8704f42.js');break;case dd.Catalan:t=yield import('./common.t9n.ca-2765a1aa-1f0c4935.js');break;case dd.Czech:t=yield import('./common.t9n.cs-b516e846-7ece1d0a.js');break;case dd.Danish:t=yield import('./common.t9n.da-321538de-afd623dc.js');break;case dd.German:t=yield import('./common.t9n.de-bb42091b-b809bf72.js');break;case dd.Greek:t=yield import('./common.t9n.el-1bc1cf65-5f925efa.js');break;case dd.EnglishUSA:t=yield import('./common.t9n.en-US-524cd9fa-3d297171.js');break;case dd.Spanish:t=yield import('./common.t9n.es-378424e5-8f300398.js');break;case dd.Estonian:t=yield import('./common.t9n.et-883cb600-ea465de4.js');break;case dd.Finnish:t=yield import('./common.t9n.fi-d0ccb953-3d092beb.js');break;case dd.French:t=yield import('./common.t9n.fr-d1ae7a91-94492cee.js');break;case dd.Hebrew:t=yield import('./common.t9n.he-1934fdf3-7b8ca886.js');break;case dd.Croatian:t=yield import('./common.t9n.hr-7136530e-f52a8106.js');break;case dd.Hungarian:t=yield import('./common.t9n.hu-62b42e5f-8c4a12d4.js');break;case dd.Indonesian:t=yield import('./common.t9n.id-4eab6df6-2233aedf.js');break;case dd.Italian:t=yield import('./common.t9n.it-0f2c5198-750aacb9.js');break;case dd.Japanese:t=yield import('./common.t9n.ja-fb81cbac-47878c1e.js');break;case dd.Korean:t=yield import('./common.t9n.ko-81cc9269-3b0c1a8e.js');break;case dd.Lithuanian:t=yield import('./common.t9n.lt-7644f7b6-c0a6f0d7.js');break;case dd.Latvian:t=yield import('./common.t9n.lv-7f88a34b-4c0be605.js');break;case dd.NorwegianBokml:t=yield import('./common.t9n.nb-1137a703-29518c1f.js');break;case dd.Dutch:t=yield import('./common.t9n.nl-5353f496-c9ad6dbb.js');break;case dd.Polish:t=yield import('./common.t9n.pl-57b26000-316bb8fd.js');break;case dd.PortugueseBrazil:t=yield import('./common.t9n.pt-BR-bb21cd15-e286b02b.js');break;case dd.PortuguesePortugal:t=yield import('./common.t9n.pt-PT-616e5b2c-91253dc9.js');break;case dd.Romanian:t=yield import('./common.t9n.ro-7870db94-7d3de4e2.js');break;case dd.Russian:t=yield import('./common.t9n.ru-92deca6d-4cec06e3.js');break;case dd.Serbian:t=yield import('./common.t9n.sr-d81cd5d8-5b05caae.js');break;case dd.Slovak:t=yield import('./common.t9n.sk-11b995c8-97f046df.js');break;case dd.Slovenian:t=yield import('./common.t9n.sl-e29f1ee1-2db1659b.js');break;case dd.Swedish:t=yield import('./common.t9n.sv-b375c164-ab089202.js');break;case dd.Thai:t=yield import('./common.t9n.th-e7483593-0ecf2410.js');break;case dd.Turkish:t=yield import('./common.t9n.tr-b2fe79e1-1aac0c16.js');break;case dd.Ukrainian:t=yield import('./common.t9n.uk-177c0484-53ae49ff.js');break;case dd.Vietnamese:t=yield import('./common.t9n.vi-2dbc9912-b10d7015.js');break;case dd.ChineseChina:t=yield import('./common.t9n.zh-CN-4ec04a35-bd28a75f.js');break;case dd.ChineseHongKong:t=yield import('./common.t9n.zh-HK-e9f5dcb7-8ed59ced.js');break;case dd.ChineseTaiwan:t=yield import('./common.t9n.zh-TW-a300e811-de7f74df.js');}return t}))}function vj(e){return void 0!==e&&null!==e.offsetParent}function bj(e,t){var i;if(!0===ZO(e)&&void 0!==t){const{series:n}=t,{dataLabels:r,optimizeDataLabelsOverlapping:a}=n[0],{paddingWithLabels:o,defaultPadding:s}=uP.pieChart,l=null!==(i=n[0].dataLabelsOffset)&&void 0!==i?i:uP.pieChart.dataLabelsOffset,u=!0===(null==r?void 0:r.visible)&&!0===a?o+l:s;e.chartContainer.paddingRight=Math.max(s,u),e.chartContainer.paddingLeft=Math.max(s,u),e.validate();}}function xj(e,t){if(e instanceof wy)bj(e,t);else if(e instanceof gy==!1){const t=()=>{var t,i,n,r,a,o;const s=YA(e.uid,"config"),{chartPaddingMinSize:l,chartPaddingRightWhenLegendNotOnRight:u,chartContainerPaddingTopWhenRotated:d,chartContainer:c}=uP,h=null==s?void 0:s.series,p=ih(h),m=HO({config:s}),f=null===(n=null===(i=null===(t=null==h?void 0:h[0])||void 0===t?void 0:t.dataLabels)||void 0===i?void 0:i.visible)||void 0===n||n;let g=uP.chartDefaultPaddingRight;if(!0===m&&!0===f&&(p===Bb||p===zb||p===Nb&&(null!==(r=(null==h?void 0:h[0]).stackedType)&&void 0!==r?r:"sideBySide")===Jb)){let t=0;const i=e=>{var t;return null!==(t=eO(e.uid,"isDataLabel"))&&void 0!==t&&t};e.series.each((e=>{const n=e.bullets.values.find(i);void 0!==n&&n.clones.each((e=>{let i=e.measuredWidth;switch(e.horizontalCenter){case Cb:i/=2;break;case gb:i*=-1;}const n=e.pixelX+i;n>t&&(t=n,g=i);}));}));}g>=0&&(e.chartContainer.paddingRight=g),e.chartContainer.paddingTop=!0===m?d:c.paddingTop;const y=!1!==(null===(a=null==s?void 0:s.legend)||void 0===a?void 0:a.visible)&&(null===(o=null==s?void 0:s.legend)||void 0===o?void 0:o.position)===Yb;e.paddingRight=!0===y?l:u;};t();let i=0;e.series.each((n=>{n.events.once(SP,(()=>{i+=1,i===e.series.length&&t();}));}));}}function Cj(e){var t,i;return !0===e.isHover||!0===(null===(i=null===(t=e.dataItem)||void 0===t?void 0:t.label)||void 0===i?void 0:i.isHover)}function Sj(e){const t=t=>v(this,void 0,void 0,(function*(){if(!0===IF(e)){const i=wF(t);yield function(e,t){return v(this,void 0,void 0,(function*(){let i=[];const n=e.series.getIndex(0);if(void 0!==n){const r=n.slices.values.some((e=>!0===Cj(e))),a=n.slices.values.every((e=>e.isHover!==e.isActive));if(!0==(!0===r&&!0===a)||!1===r)i=[];else {const r={queryObject:YA(e.uid,"queryObject"),element:{},xAxisField:wO(n),yAxisField:IO(n),chartType:Vb,seriesIndex:0};n.slices.each(((e,n)=>{var a,o,s;!0==(!0===e.isActive&&(!0===Cj(e)||!0===t))?!0===QD(null===(a=e.dataItem)||void 0===a?void 0:a.dataContext)?(null!==(s=ZD({groupOfSlicesDataContext:null===(o=e.dataItem)||void 0===o?void 0:o.dataContext}))&&void 0!==s?s:[]).forEach((e=>{i.push(Object.assign(Object.assign({},r),{element:void 0,elementDataContext:e,elementIndex:n}));})):i.push(Object.assign(Object.assign({},r),{element:e,elementIndex:n})):PF({element:e,selected:!1,useNativeState:!0});})),i.forEach((e=>{PF({element:e.element,selected:!0,useNativeState:!0});}));}!1===r||0===i.length?UD({chart:e,selectionSource:lg}):yield aM({chart:e,listSelectedElements:i,selectionSource:lg});}e instanceof wy&&e.feedLegend();}))}(e,i);}}));e.events.on(pP,t),e.events.on(mP,t);}function _j(e){var t,i,n;const r=e.dataSource,{dataItems:a}=r.data,o=e.series[0];let s=[];const{query:l}=o;if(void 0!==l){s=SD({query:l,data:a,statType:null!==(n=null===(i=null===(t=l.outStatistics)||void 0===t?void 0:t[0])||void 0===i?void 0:i.statisticType)&&void 0!==n?n:nx.statisticType,series:o,propertyFields:r.configFields});}return s}function Pj(e){var t;return v(this,void 0,void 0,(function*(){const{queryObject:i,chartConfig:n,queryConfig:r,options:a,abortKey:o}=e,{chartLimits:s}=null!=a?a:{},l={valid:!0};if((null===(t=n.dataSource)||void 0===t?void 0:t.type)===tx)l.data={dataItems:_j(n)};else if(void 0!==i){const{behaviorAfterLimit:e,maxGaugeByFeaturesLimit:t}=null!=s?s:{},u=Eh(n);let d,c=!0;if(!0===u&&(d=(yield OD({chartConfig:n,queryObject:i,queryConfig:r,behaviorAfterLimit:e,numberMaxOfFeaturesToFetch:t,isGaugeByFeature:u})).elementCount,c=!0===Number.isFinite(d)&&ah({count:null!=d?d:0,seriesCount:n.series.length,seriesType:Rb,chartLimits:s}),xO({chartConfig:n,options:a,uniqueQuery:r})),!0===c){const e=yield function(e){var t,i;return v(this,void 0,void 0,(function*(){const{queryObject:n,queryConfig:r,chartConfig:a,abortKey:o}=e,s=a.series[0],{x:l,valueConversion:u}=s,d=Eh(a),c=yield tp({queryObject:n,queryConfig:r,outFields:["*"],abortKey:o,featureCount:1});let h=[{[l]:null}];if(!0===d)h=c.map((e=>{const t=tk(e.attributes[l],u);return Object.assign(Object.assign({},e.attributes),{[l]:t})}));else if(c.length>0){let e=null!==(i=null!==(t=c[0].attributes[l])&&void 0!==t?t:c[0].attributes[l.toUpperCase()])&&void 0!==i?i:c[0].attributes[l.toLowerCase()];e=tk(e,u),h=[{[l]:e}];}return h}))}({queryObject:i,chartConfig:n,queryConfig:r,abortKey:o});l.data={dataItems:e},l.count=e.length;}else l.count=d,bD(l,Rb);}return l}))}function wj(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,queryConfig:i,chartConfig:n,currentSelectionDataItems:r,options:a,abortKey:o}=e,{series:s}=n,l=ih(s),u=iO(n);let d={valid:!0};const c=yield function(e){var t;return v(this,void 0,void 0,(function*(){const{chartConfig:i,currentSelectionDataItems:n,options:r,queryConfig:a,queryObject:o}=e,{selectionData:s}=null!=r?r:{};let l=[];if(void 0!==i){const e=i.series,{selectionItems:u}=null!=s?s:{};l=null!==(t=null!=u?u:n)&&void 0!==t?t:[],e.length>1&&(l=_D(l,e[0].x));const{uniqueQuery:d}=yield CO({chartConfig:i,queryConfig:a,queryObject:o,setTimeBinningInfoWhenNotProvided:null==r?void 0:r.setTimeBinningInfoWhenNotProvided});kD({arrayToSort:l,orderByFieldsConfig:d.orderByFields,chartConfig:i});}return null!=l?l:[]}))}({chartConfig:n,currentSelectionDataItems:r,options:a,queryObject:t,queryConfig:i});let h=!1;switch(l){case Nb:case zb:d.data={dataItems:c},d.count=c.length*s.length,h=!0;break;case Bb:if(0===c.length||!1===Fh({xAxisValueFormatType:u,setTimeBinningInfoWhenNotProvided:null==a?void 0:a.setTimeBinningInfoWhenNotProvided,seriesConfig:s[0]}))d.data={dataItems:c},d.count=c.length*s.length,h=!0;else {const e=Object.assign({},i);if(void 0!==r&&r.length>0){const t=Wh(r.map((e=>YD(s[0].x,e))),"OR");e.where=Wh([e.where,t]);}const o={queryObject:t,queryConfig:e,chartConfig:n,options:a};d=yield DD(o);}break;case Vb:d.data={dataItems:c},d.count=c.length,h=!0;break;case Wb:if(0===c.length)d.data={mean:NaN,median:NaN,stddev:NaN,max:NaN,min:NaN,bins:[]},d.count=0;else {const{x:e}=s[0],r=Wh(c.map(((t,i)=>{const{minValue:n,maxValue:r}=t,a=i===c.length-1?"<=":"<";return `${e} >= ${n} AND ${e} ${a} ${r}`})),"OR"),l=Object.assign({},i);l.where=Wh([l.where,r]),d=yield FF({queryObject:t,chartConfig:n,queryConfig:l,options:a,abortKey:o});}break;case jb:if(0===c.length){const{r2:e,trendLinePoints:t}=uP.scatterPlotSeries;d.data={dataItems:[],r2:e,trendLinePoints:t,count:0},d.count=0;}else {const e=new Map,{r2:t,trendLinePoints:r}=NF({data:c,queryConfig:i,chartConfig:n,statsMap:e},!1);d.data={dataItems:c,r2:t,trendLinePoints:r},d.count=c.length;}}return !0===h&&void 0!==d.data&&kD({arrayToSort:"dataItems"in d.data?d.data.dataItems:d.data,orderByFieldsConfig:i.orderByFields,chartConfig:n}),d}))}function Ij(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,chartConfig:i,queryConfig:n,binnedServerData:r,options:a,abortKey:o}=e,{dataSource:s,series:l}=i,{filterBySelection:u}=null!=a?a:{},d=ih(l,0);let c={valid:!0};if(!0===u)c=yield wj(e);else switch(d){case Nb:s.type===tx?!1===s.processed&&(c.data={dataItems:ID(i)}):c=yield FD({queryObject:t,queryConfig:n,options:a,chartConfig:i});break;case Bb:if(s.type===tx&&!1===s.processed)c.data={dataItems:ID(i)};else {const e={queryObject:t,queryConfig:n,chartConfig:i,options:a};!0===Fh({xAxisValueFormatType:iO(i),setTimeBinningInfoWhenNotProvided:null==a?void 0:a.setTimeBinningInfoWhenNotProvided,seriesConfig:l[0]})?(void 0!==r&&(e.binnedServerData=r),c=yield DD(e)):c=yield FD(e);}break;case jb:c.data=yield GF({queryObject:t,queryConfig:n,options:a,chartConfig:i,abortKey:o});break;case Wb:c=yield FF({queryObject:t,queryConfig:n,chartConfig:i,options:a,abortKey:o});break;case Vb:s.type===tx?c.data={dataItems:ID(i)}:c=yield FD({queryConfig:n,queryObject:t,chartConfig:i,options:a,abortKey:o});break;case Rb:c=yield Pj({queryObject:t,chartConfig:i,queryConfig:n,options:a,abortKey:o});}return c}))}function Tj(e){return v(this,void 0,void 0,(function*(){const{queryObject:t,chartConfig:i,abortKey:n,currentSelectionDataItems:r,binnedServerData:a,options:o}=e,{dataSource:s,series:l}=i;let u={valid:!0};const d=gO({queryObject:t,chartConfig:i,options:o});return s.type===tx&&!0===s.processed?(!function(e){var t,i;const{dataInfo:n,dataSource:r,seriesConfig:a,chartLimits:o}=e,s=ih(a,0);s===Nb||s===Bb?n.count=r.data.dataItems.length*a.length:s===Vb&&(n.count=null===(t=r.data)||void 0===t?void 0:t.dataItems.length),!1===ah({count:null!==(i=n.count)&&void 0!==i?i:0,seriesCount:a.length,seriesType:s,chartLimits:o})?bD(n,s):s===Vb&&!1===BO(r.data.dataItems,a[0].y)&&xD(n,Cp);!0===n.valid&&(n.data=r.data);}({dataInfo:u,dataSource:s,seriesConfig:l,chartLimits:null==o?void 0:o.chartLimits}),!0===u.valid&&!0===(null==o?void 0:o.filterBySelection)&&ih(l,0)!==Rb&&(u=yield Ij({queryConfig:d,chartConfig:i,currentSelectionDataItems:r,options:o}))):(np(n),u=yield Ij({chartConfig:i,queryObject:t,queryConfig:d,currentSelectionDataItems:r,binnedServerData:a,options:o,abortKey:n})),u.queryConfig=d,u}))}function Aj(e){return v(this,void 0,void 0,(function*(){const{chart:t,data:i,chartConfig:n,queryObject:r,options:a,currentValidationStatus:o}=e,{chartWillRender:s,createMessage:l}=null!=a?a:{};let u=o,d=n;return void 0!==s&&(d=w_(n),d=yield s({chartConfig:d,data:i}),u=yield SE({chart:t,chartConfig:d,queryObject:r,createMessage:l})),{alteredConfig:d,newValidationStatus:u}}))}function Oj(e){return v(this,void 0,void 0,(function*(){const t=fd(),i=yield function(e=fd().locale){return v(this,void 0,void 0,(function*(){let t=yield import('./en_US-2d382b9d-86468da8.js');switch(e){case dd.Arabic:t=yield import('./ar-24b7db2f-1f88f679.js');break;case dd.Bosnian:t=yield import('./bs_BA-ed74b881-0b8f0e22.js');break;case dd.Bulgarian:t=yield import('./bg_BG-bce027bc-939e33a4.js');break;case dd.Catalan:t=yield import('./ca_ES-a8c2bde8-520efb1e.js');break;case dd.Czech:t=yield import('./cs_CZ-1f6d1b93-0b5340d5.js');break;case dd.Danish:t=yield import('./da_DK-f10c06cd-ae7739df.js');break;case dd.German:t=yield import('./de_DE-98f6c3fe-286a6f0e.js');break;case dd.Greek:t=yield import('./el_GR-65254bf3-7d6806bc.js');break;case dd.EnglishUSA:t=yield import('./en_US-2d382b9d-86468da8.js');break;case dd.Spanish:t=yield import('./es_ES-3017eded-7329afc7.js');break;case dd.Estonian:t=yield import('./et_EE-d71ebf31-73e635f8.js');break;case dd.Finnish:t=yield import('./fi_FI-978527d3-3541c474.js');break;case dd.French:t=yield import('./fr_FR-bd2b428f-d2e69c60.js');break;case dd.Hebrew:t=yield import('./he_IL-6d4d49d7-35cafd5f.js');break;case dd.Croatian:t=yield import('./hr_HR-6f77dd71-6df51360.js');break;case dd.Hungarian:t=yield import('./hu_HU-c603ea25-558221f2.js');break;case dd.Indonesian:t=yield import('./id_ID-06524cc5-c0335171.js');break;case dd.Italian:t=yield import('./it_IT-172d600f-0ea5d1f9.js');break;case dd.Japanese:t=yield import('./ja_JP-14e3d521-fa404c1c.js');break;case dd.Korean:t=yield import('./ko_KR-40d2cbcb-424fb0ca.js');break;case dd.Lithuanian:t=yield import('./lt_LT-8a936dfc-3a84a918.js');break;case dd.Latvian:t=yield import('./lv_LV-dafd4677-57d3caf6.js');break;case dd.NorwegianBokml:t=yield import('./nb_NO-0468e1a3-66dab752.js');break;case dd.Dutch:t=yield import('./nl_NL-8c41009a-d70bf249.js');break;case dd.Polish:t=yield import('./pl_PL-0df5639c-e3eb0b00.js');break;case dd.PortugueseBrazil:t=yield import('./pt_BR-4d7b0a27-cbbdc1cd.js');break;case dd.PortuguesePortugal:t=yield import('./pt_PT-e61c511b-797896d9.js');break;case dd.Romanian:t=yield import('./ro_RO-f6caca67-9079cb2e.js');break;case dd.Russian:t=yield import('./ru_RU-383d4df3-21d8ee70.js');break;case dd.Serbian:t=yield import('./sr_RS-35eb4226-82df9f69.js');break;case dd.Slovak:t=yield import('./sk_SK-1fd8857d-4ce8b254.js');break;case dd.Slovenian:t=yield import('./sl_SL-76a4010d-07f7d632.js');break;case dd.Swedish:t=yield import('./sv_SE-f5e3cb36-a796df44.js');break;case dd.Thai:t=yield import('./th_TH-9d2a196e-e7f42cb7.js');break;case dd.Turkish:t=yield import('./tr_TR-4b15523e-6f02b919.js');break;case dd.Ukrainian:t=yield import('./uk_UA-809410fa-8ac48b3d.js');break;case dd.Vietnamese:t=yield import('./vi_VN-de64cdf4-cfb424f6.js');break;case dd.ChineseChina:t=yield import('./zh_Hans-5b761044-3753f340.js');break;case dd.ChineseHongKong:case dd.ChineseTaiwan:t=yield import('./zh_Hant-6bd95d45-be4d0320.js');}return t.default}))}(t.locale);nn.defaultLocale=i,e.language.locale=i,e.rtl=!0===t.rtl;}))}function kj(e,t){var i;if(ZO(e)){const n=null!==(i=null!=t?t:YA(e.uid,"actionMode"))&&void 0!==i?i:uP.actionMode;KA(e.uid,{actionMode:n});const r=YA(e.uid,"filterBySelection");switch(n){case cg:case hg:case pg:!0!==r?function(e){if(ZO(e))if(e.events.enableType(pP),e.events.enableType(mP),e instanceof wy){const t=e.series.getIndex(0);void 0!==t&&(t.slices.template.clickable=!0,t.labels.template.clickable=!0,t.slices.each((e=>{e.clickable=!0;})));}else e instanceof ey&&(e.xAxes.each((e=>ZL(e,!1))),e.yAxes.each((e=>ZL(e,!1))),e.events.enableType(fP));}(e):gj(e);break;case mg:gj(e);break;case fg:UD({chart:e,selectionSource:dg,clearOnlyVisibleSeries:!1,disposeStyleAndSelection:!1}),gj(e);}XL(e,n);}}function Fj(e,t){var i;const n=null===(i=e.svgContainer)||void 0===i?void 0:i.SVGContainer;void 0!==n&&(n.style.position=null!=t?t:"relative");}function Dj(e){return v(this,void 0,void 0,(function*(){const{chart:t,axesTypes:i,chartType:n,isRotated:r}=e;switch(n){case jb:!function(e,t){lE({chart:e,axesTypes:t});}(t,i);break;case Wb:!function(e){const{chart:t,axesTypes:i}=e;lE({chart:t,axesTypes:i});const n=t.xAxes.getIndex(0);if(void 0!==n){n.renderer.ticks.template.disabled=!0;const e=()=>WE(n);n.events.once(_P,e),t.chartContainer.events.on(bP,tP(e,uP.debounceTime));}}({chart:t,axesTypes:i});break;case Nb:case Bb:case zb:yield function(e){return v(this,void 0,void 0,(function*(){const{chart:t,chartType:i,axesTypes:n,isRotated:r}=e;yield zE(i,n),lE({chart:t,axesTypes:n,isRotated:r});}))}({chart:t,chartType:n,axesTypes:i,isRotated:r});break;case Rb:yield sj(t,i[0]);}}))}function Mj(e){return v(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,chartConfig:{axes:n},rotationChanged:r,axisLabelsBehaviorChanged:a,chartType:o,isRotated:s,data:l,timeIntervalInfo:u,guideTooltipFormatter:d,xAxisLabelFormatter:c,yAxisLabelFormatter:h,gaugeInnerLabelFormatter:p,commonStrings:m}=e;switch(o){case jb:yield function(e){return v(this,void 0,void 0,(function*(){yield pE(e);}))}({chart:t,axes:n,axisLabelsBehaviorChanged:a,guideTooltipFormatter:d,xAxisLabelFormatter:c,yAxisLabelFormatter:h,commonStrings:m});break;case Wb:void 0!==t.data&&(yield function(e){return v(this,void 0,void 0,(function*(){const{chart:t,axes:i,histogramBins:n,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:o,commonStrings:s}=e,l=function(e){let t=[];if(e.length>0){t=e.map((e=>e.minValue));const i=e[e.length-1].maxValue;t.push(i);}return t}(n),u=i[0];yield pE({chart:t,axes:i,guideTooltipFormatter:r,xAxisLabelFormatter:a,yAxisLabelFormatter:o,commonStrings:s});const d=t.xAxes.getIndex(0);void 0!==d&&(function(e,t){if(e.renderer.labels.template.disabled=!0,0!==t.length){e.strictMinMax=!0;const{0:i,[t.length-1]:n}=t;e.min=i,e.max=n;}else e.min=NaN,e.max=NaN,e.strictMinMax=!1;}(d,l),BL({valueAxis:d,axisConfig:u,ticks:l}),WE(d));}))}({chart:t,axes:n,histogramBins:t.data,guideTooltipFormatter:d,xAxisLabelFormatter:c,yAxisLabelFormatter:h,commonStrings:m}));break;case Nb:case Bb:case zb:yield function(e){var t,i,n,r,a;return v(this,void 0,void 0,(function*(){const{chart:o,chartConfig:s,rotationChanged:l,axisLabelsBehaviorChanged:u,isRotated:d,timeIntervalInfo:c,guideTooltipFormatter:h,xAxisLabelFormatter:p,yAxisLabelFormatter:m,commonStrings:f}=e,g=s.axes,y=qO(s.series[0]),v=nh(s.series[0]);zE(null!==(t=ih(s.series))&&void 0!==t?t:Nb,[g[0].valueFormat,g[1].valueFormat]),yield pE({chart:o,axes:g,rotationChanged:l,axisLabelsBehaviorChanged:u,isRotated:d,timeIntervalInfo:c,guideTooltipFormatter:h,xAxisLabelFormatter:p,yAxisLabelFormatter:m,commonStrings:f});const b=!0===d?o.yAxes.getIndex(0):o.xAxes.getIndex(0);if(void 0!==b){b instanceof Kg&&(b.dataFields.category=`${y}`);const e=b.renderer;e.grid.template.location=0,e.cellStartLocation=.1,e.cellEndLocation=.9;let t=!0===d;!0===(null!==(a=null===(r=null===(n=null===(i=s.series[0].query)||void 0===i?void 0:i.orderByFields)||void 0===n?void 0:n[0])||void 0===r?void 0:r.includes(ex.Descending))&&void 0!==a&&a)&&b instanceof Ug&&(t=!1===t),e.inversed=t;}(!0===d?o.xAxes.getIndex(0):o.yAxes.getIndex(0)).calculateTotals=v===Qb;}))}({chart:t,chartConfig:i,rotationChanged:r,axisLabelsBehaviorChanged:a,isRotated:s,timeIntervalInfo:u,guideTooltipFormatter:d,xAxisLabelFormatter:c,yAxisLabelFormatter:h,commonStrings:m});break;case Rb:yield lj({chart:t,chartConfig:i,data:(null!=l?l:t.data).dataItems,axisValueFormatter:c,gaugeInnerLabelFormatter:p});}}))}function Lj(e){return v(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,hideLoaderHandle:n,options:r,commonStrings:a}=e,{selectionTheme:o,ignoreSmoothRenderingLimit:s}=null!=r?r:{};let l,u,d;for(let e=t.series.length-1;e>=0;e-=1)t.series.removeIndex(e).dispose();const c=[];for(const e of i.series)switch(d=ih([e]),d){case Nb:l=[t.xAxes.getIndex(0),t.yAxes.getIndex(0)],u=LM({seriesConfig:e,axisPair:l,hideLoaderHandle:n,selectionTheme:o}),cE(u),t.series.push(u);break;case Bb:l=[t.xAxes.getIndex(0),t.yAxes.getIndex(0)],u=jE({chart:t,numberOfChartSeries:i.series.length,seriesConfig:e,axisPair:l,selectionTheme:o,ignoreSmoothRenderingLimit:s,hideLoaderHandle:n}),cE(u),t.series.push(u);break;case jb:l=[t.xAxes.getIndex(0),t.yAxes.getIndex(0)],c.push(yE({chart:t,seriesConfig:e,axisPair:l,selectionTheme:o,ignoreSmoothRenderingLimit:s,hideLoaderHandle:n})),t.bulletsContainer.zIndex=1,t.seriesContainer.zIndex=2;break;case Wb:l=[t.xAxes.getIndex(0),t.yAxes.getIndex(0)],c.push(rL({seriesConfig:e,axisPair:l,selectionTheme:o,hideLoaderHandle:n,commonStrings:a}));break;case Vb:u=kE({seriesConfig:e,hideLoaderHandle:n,selectionTheme:o}),t.series.push(u);}if(c.length>0){const e=yield Promise.all(c);t.series.pushAll(e.flat());}uM(t);}))}function Ej(e){return v(this,void 0,void 0,(function*(){const{chart:t,chartConfig:i,chartConfig:{series:n,axes:r},rotationChanged:a,chartData:o,newSeries:s,queryObject:l,options:u,dataWasUpdated:d,sortChanged:c,groupOfSlicesWasUpdated:h,commonStrings:p}=e,m=t.series.values,f=new Map;let g=new Map,y={};const v=i.series.length,b=JO(i),x=Oh(l),C=yield bh(l,null==u?void 0:u.usePopupTemplateFieldsInfo),S=ih(i.series);if(S===Nb||S===Bb||S===zb){const e=Th(i.series),t=function(e){const{chartConfig:t,dataSource:i,numberOfSeries:n,queryObject:r,queryType:a}=e,o=new Map;let s={};if(i.type===ix){const e=vh(r);if(!1===e.isTable){s=mh(e.renderer);for(let i=0;i<n;i+=1)dF({series:t.series[i],layer:e,queryType:a,mapRendererColorToSeries:o});}}return {rendererInfo:s,mapRendererColorToSeries:o}}({chartConfig:i,dataSource:i.dataSource,numberOfSeries:v,queryObject:l,queryType:e});y=t.rendererInfo,g=t.mapRendererColorToSeries;}for(const[e,S]of n.entries()){switch(ih([S])){case Nb:yield EM({seriesConfig:S,series:m[e],newSeries:s,numberOfSeries:v,seriesIndex:e,dataSource:i.dataSource,queryObject:l,axes:r,rotationChanged:a,sortChanged:c,options:u,dataWasUpdated:d,inlineDisplayLabelField:b,seriesSymbolMapForEvent:f,rendererInfo:y,mapRendererColorToSeries:g,subtypeInfo:x,fieldList:C,commonStrings:p});break;case Bb:yield BE({seriesConfig:S,series:m[e],newSeries:s,numberOfSeries:v,seriesIndex:e,dataSource:i.dataSource,queryObject:l,axes:r,rotationChanged:a,options:u,dataWasUpdated:d,sortChanged:c,inlineDisplayLabelField:b,seriesSymbolMapForEvent:f,rendererInfo:y,subtypeInfo:x,fieldList:C,mapRendererColorToSeries:g,commonStrings:p});break;case jb:yield bE({seriesConfig:S,dataSource:i.dataSource,chartSeries:m,axes:r,chartData:o,queryObject:l,options:u,dataWasUpdated:d,tooltipFormatter:null==u?void 0:u.tooltipFormatter,dataLabelFormatter:null==u?void 0:u.dataLabelFormatter,commonStrings:p});break;case Wb:yield oL({seriesConfig:S,chartSeries:m,axes:r,dataSource:i.dataSource,chartData:o,queryObject:l,options:u,dataWasUpdated:d,tooltipFormatter:null==u?void 0:u.tooltipFormatter,dataLabelFormatter:null==u?void 0:u.dataLabelFormatter,commonStrings:p});break;case Vb:EE({chart:t,seriesConfig:S,pieSeries:m[e],newSeries:s,options:u,queryObject:l,dataWasUpdated:d,sortChanged:c,groupOfSlicesWasUpdated:h,tooltipFormatter:null==u?void 0:u.tooltipFormatter,dataLabelFormatter:null==u?void 0:u.dataLabelFormatter,commonStrings:p});}}t instanceof ey&&1===m.length&&(m[0].hiddenInLegend=!0);}))}function jj(e){var t,i,n,r,a;return v(this,void 0,void 0,(function*(){const{chartConfig:o,chart:s,options:l,globalOptions:u,queryObject:d,commonStrings:c}=e;let h,p,m,f;const g=Hk(s);g.showLoader(!0!==(null==l?void 0:l.hideLoaderAnimation));const y=ih(o.series),{valid:v,invalidType:b,data:x,count:C,binnedServerData:S,queryConfig:_}=yield Tj({chartConfig:o,queryObject:d,abortKey:XO(s),options:l});Vk({data:x,seriesConfig:o.series,htmlContainer:s.htmlContainer}),KA(s.uid,{elementCount:C,initialized:v,binnedServerData:S,queryConfig:_,timeIntervalInfo:y===Bb?null==x?void 0:x.timeIntervalInfo:void 0});const P=jh({seriesType:y,fetchedData:x});if(!1===v)yield _E({chart:s,invalidType:b,elementCount:C,seriesCount:o.series.length,options:l}),g.hideLoader();else {let e;void 0!==P&&(s.data=P),s instanceof wy&&(eM({chart:s,seriesConfig:o.series,commonStrings:c}),e=yield ME({chart:s,chartConfig:o,queryObject:d,labelUpdateNeeded:!0}));const v=yield Aj({chart:s,data:x,chartConfig:o,queryObject:d,options:l});f=v.newValidationStatus;const b=v.alteredConfig;if(s instanceof wy&&FE({chart:s,slicesConfigChanged:!0,newChartConfig:b,pieSlicesSymbols:e}),!1!==(null==f?void 0:f.valid)){const{title:e,subTitle:o,footer:f,dataSource:v,series:C,background:S}=b;h=function(e){const t=dk(uP.headerContainer,e),i=bk(uP.title,t),n=bk(uP.subtitle,t);var r;return HA({chart:e,label:i,labelType:EA}),HA({chart:e,label:n,labelType:jA}),r=t,r.toBack(),{headerContainer:t,title:i,subTitle:n}}(s),Sk(h,{title:e,subTitle:o}),p=function(e){const t=dk(uP.footerContainer,e),i=bk(uP.footer,t);return HA({chart:e,label:i,labelType:VA}),{footerContainer:t,footer:i}}(s),_k(p,f),m=OM(s),function(e){if(e instanceof gy==1){const{paddingTop:t,paddingRight:i,paddingBottom:n,paddingLeft:r}=uP.gauge;e.padding(t,i,n,r);}else {const{paddingMinSize:t,marginMinSize:i,chartPaddingMinSize:n,chartContainer:r}=uP;e.padding(n,n,n,n),e.chartAndLegendContainer.margin(i,i,i,i),e.chartAndLegendContainer.padding(t,t,t,t),e.chartContainer.margin(i,i,i,i),e.chartContainer.padding(r.paddingTop,t,t,t);}}(s);const _=HO({config:b});let P;y!==Nb&&y!==Bb&&y!==zb&&y!==Vb||(P=Th(C)),KA(s.uid,{config:b,isRotated:_,isNonAggregatedChart:P===Hd&&v.type!==tx}),void 0!==b.axes&&(yield Dj({chart:s,axesTypes:[b.axes[0].valueFormat,null===(t=b.axes[1])||void 0===t?void 0:t.valueFormat],chartType:y,isRotated:_}),yield Mj({chart:s,chartConfig:b,chartType:y,isRotated:_,axisLabelsBehaviorChanged:[!0,!0],data:x,timeIntervalInfo:y===Bb?null==x?void 0:x.timeIntervalInfo:void 0,guideTooltipFormatter:null==l?void 0:l.guideTooltipFormatter,xAxisLabelFormatter:null==l?void 0:l.xAxisLabelFormatter,yAxisLabelFormatter:null==l?void 0:l.yAxisLabelFormatter,gaugeInnerLabelFormatter:null==l?void 0:l.gaugeInnerLabelFormatter,commonStrings:c})),yield Lj({chart:s,chartConfig:b,hideLoaderHandle:g.hideLoader,commonStrings:c,options:l}),yield Ej({chart:s,chartConfig:b,rotationChanged:!1,queryObject:d,chartData:x,newSeries:C,groupOfSlicesWasUpdated:!0,dataWasUpdated:!0,options:l,commonStrings:c}),kM({legendElements:m,seriesConfig:C,webChartLegend:b.legend,seriesType:y,disableTogglingLegendItems:null==l?void 0:l.disableTogglingLegendItems,pieChartLegendValueLabelFormatter:null==l?void 0:l.pieChartLegendValueLabelFormatter}),dj(s),function(e){e.background.fill=rk(uP.backgroundColor);}(s),uj(s,S),cj({chart:s,scrollbarXVisible:null===(n=null===(i=b.axes)||void 0===i?void 0:i[0])||void 0===n?void 0:n.scrollbarVisible,scrollbarYVisible:null===(a=null===(r=b.axes)||void 0===r?void 0:r[1])||void 0===a?void 0:a.scrollbarVisible}),$L(s),YL(s,null==b?void 0:b.cursorCrosshair),kj(s,null==l?void 0:l.actionMode);const w=fd();s.dateFormatter.intlLocales=w.formatLocale,function(e,t){!0===t&&(e.tapToActivate=!0,e.tapTimeout=3e3,e.responsive.enabled=!0);}(s,null==u?void 0:u.enableResponsiveFeatures),s instanceof gy!=!0&&!0!==Gk(s.series)||(g.hideLoader(),Bk(s.htmlContainer)),xj(s,b);}}return {chartElements:void 0!==h&&void 0!==p&&void 0!==m?{headerElements:h,footerElements:p,legendElements:m,loaderHandle:g}:void 0,validationStatus:f}}))}function Vj(e){e.series.each((t=>{t.events.on(dP,(()=>{!0===Gk(e.series)&&tE(e);}));}));}function Rj(e){void 0!==e.modal&&(e.modal.classPrefix="modal",Fj(e,"static"),e.modal.events.on(wP,(()=>{Fj(e,"relative"),function(e){var t;const i=null===(t=e.svgContainer)||void 0===t?void 0:t.SVGContainer;void 0!==i&&(i.style.display="flex");}(e);})),e.modal.events.on(IP,(()=>{Fj(e,"static");})));}function Bj(e){return v(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a}=e,{createMessage:o}=null!=r?r:{},s=yield yj();void 0===t&&(yield DA("divNode"));const l=ho(t,ey);yield Oj(l),Rj(l),l.events.on(PP,(()=>l.zoomOutButton.deepInvalidate()));const u=yield SE({chart:l,chartConfig:i,queryObject:n,createMessage:o});let d;return !0===u.valid&&(l instanceof ey&&(l.maskBullets=!1),d=(yield jj({chartConfig:i,chart:l,queryObject:n,options:r,globalOptions:a,commonStrings:s})).chartElements,KA(l.uid,{config:w_(i)}),Vj(l),mj(l),function(e){if(ZO(e)){e.zoomOutButton.hoverable=!0;const t=t=>v(this,void 0,void 0,(function*(){if(!0===IF(e)){const i={x:t.svgPoint.x,y:t.svgPoint.y,width:0,height:0},n=wF(t);yield pj({chart:e,cursorSelectionRectangle:i,multiSelect:n,mode:"hit"});}}));e.events.on(pP,t),e.events.on(mP,t);}}(l)),Rk(u,l.htmlContainer),{chart:l,chartElements:d}}))}function Nj(e){return v(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a}=e;void 0===t&&(yield DA("divNode"));const o=yield yj(),s=ho(t,wy);yield Oj(s),Rj(s);const l=yield SE({chart:s,chartConfig:i,queryObject:n,createMessage:null==r?void 0:r.createMessage});let u;return !0===l.valid&&(u=(yield jj({chartConfig:i,chart:s,queryObject:n,options:r,globalOptions:a,commonStrings:o})).chartElements,KA(s.uid,{config:w_(i),filterBySelection:null==r?void 0:r.filterBySelection}),Sj(s)),Rk(l,t),{chart:s,chartElements:u}}))}function Wj(e){var t;return v(this,void 0,void 0,(function*(){const{chartContainer:i,chartConfig:n,queryObject:r,options:a,globalOptions:o}=e;void 0===i&&(yield DA("divNode"));const s=ho(i,gy);yield Oj(s),Rj(s),s.maskBullets=!1;let l,u=yield SE({chart:s,chartConfig:n,queryObject:r,createMessage:null==a?void 0:a.createMessage});if(!0===u.valid){const e=uP.gauge,i=!0===Number.isFinite(null==n?void 0:n.innerRadius)?null==n?void 0:n.innerRadius:e.innerRadius,d=!0===Number.isFinite(null==n?void 0:n.startAngle)?null==n?void 0:n.startAngle:e.startAngle,c=!0===Number.isFinite(null==n?void 0:n.endAngle)?null==n?void 0:n.endAngle:e.endAngle;s.radius=A(e.radius),s.innerRadius=A(i),s.startAngle=d,s.endAngle=c;const h=yield jj({chartConfig:n,chart:s,queryObject:r,options:a,globalOptions:o});l=h.chartElements,u=null!==(t=h.validationStatus)&&void 0!==t?t:u,KA(s.uid,{config:w_(n)});}return Vj(s),Rk(u,s.htmlContainer),{chart:s,chartElements:l}}))}function zj(e){var t,i,n,r,a,o,s;return v(this,void 0,void 0,(function*(){const{chart:l,chartElements:u,newConfig:d,options:c,queryObject:h,forceDataUpdate:p,commonStrings:m}=e,{createMessage:f,chartLimits:g}=null!=c?c:{};CE(l);const y=yield SE({chart:l,chartConfig:d,queryObject:h,createMessage:f});if(!0===y.valid&&void 0!==d){u.loaderHandle.showLoader(!0!==(null==c?void 0:c.hideLoaderAnimation));const e=YA(l.uid,"config"),f=null==e?void 0:e.series,{dataSource:y}=d,b=d.series,x=ih(b),C=HO({config:d});KA(l.uid,{config:w_(d),isRotated:C});const{dataUpdateNeeded:S,updateNeededDetails:_}=RO({forceDataUpdate:p,options:c,oldConfig:e,newConfig:d,filterBySelection:YA(l.uid,"filterBySelection"),timeIntervalInfo:YA(l.uid,"timeIntervalInfo"),currentSelectionDataItems:YA(l.uid,"currentSelectionDataItems"),currentSelectionOIDs:YA(l.uid,"currentSelectionDataItems"),currentSelectionIndexes:YA(l.uid,"currentSelectionDataItems")});KA(l.uid,{filterBySelection:null==c?void 0:c.filterBySelection}),kj(l,null==c?void 0:c.actionMode);const{xOrYChanged:P,numberOfSeriesChanged:w}=_.common,I=function(e,t){return HO({config:e})!==HO({config:t})}(e,d),T=$O(f,b),A=function(e){const{oldConfig:t,newConfig:i,dataUpdateNeeded:n,rotationChanged:r}=e;return !0===n||!0===r?[!0,!0]:[t.horizontalAxisLabelsBehavior!==i.horizontalAxisLabelsBehavior,t.verticalAxisLabelsBehavior!==i.verticalAxisLabelsBehavior]}({oldConfig:e,newConfig:d,dataUpdateNeeded:S,rotationChanged:I});let O,k,F=x!==Nb&&x!==Bb&&x!==zb&&x!==Wb;const D=Th(b);if(KA(l.uid,{isNonAggregatedChart:D===Hd&&y.type!==tx}),!0===S){!0!==p&&!0!=(!0===(v=_).lineChart.timeIntervalUnitChanged||!0===v.lineChart.newTimeBinningWillBeCalculated||!0===v.common.dataForFilterBySelectionChanged||!0===v.common.filterBySelectionChanged||!0===v.common.configFiltersChanged||!0===v.common.numberOfSeriesChanged||!0===v.common.queryChanged||!0===v.common.xOrYChanged)||KA(l.uid,{binnedServerData:void 0});const{count:e,valid:t,invalidType:i,data:n,binnedServerData:r,queryConfig:a}=yield Tj({chartConfig:d,queryObject:h,abortKey:XO(l),currentSelectionDataItems:YA(l.uid,"currentSelectionDataItems"),binnedServerData:YA(l.uid,"binnedServerData"),options:c});KA(l.uid,{elementCount:e,initialized:t,binnedServerData:r,queryConfig:a,timeIntervalInfo:x===Bb?null==n?void 0:n.timeIntervalInfo:void 0}),F=t,!0===F?(CE(l),O=n,k=jh({seriesType:x,fetchedData:O})):(yield _E({chart:l,invalidType:i,elementCount:e,seriesCount:b.length,options:c}),u.loaderHandle.hideLoader());}else if(x===Nb||x===Bb||x===zb){const e=YA(l.uid,"elementCount");if(void 0!==e&&(F=ah({count:e,seriesCount:d.series.length,seriesType:x,chartLimits:g})),!0===F){const e=function(e,t){const i=[],n=new Map,r=new Map;return e.forEach(((e,t)=>r.set(e.id,t))),t.forEach(((e,t)=>{var a;let o=r.get(e.id);void 0!==o&&(o=null!==(a=n.get(o))&&void 0!==a?a:o,o!==t&&(i.push([o,t]),n.set(t,o)));})),i}(f,b);e.length>0&&(!function(e,t){for(let i=0;i<t.length;i+=1){const n=t[i][0],r=t[i][1],a=e.length;n>=0&&n<a&&r>=0&&r<a&&e.swap(t[i][0],t[i][1]);}}(l.series,e),l.feedLegend()),!0===T&&(kD({arrayToSort:l.data,chartConfig:d,orderByFieldsConfig:null===(i=null===(t=b[0])||void 0===t?void 0:t.query)||void 0===i?void 0:i.orderByFields}),l.validateData());}else {let t;switch(x){case Nb:case zb:t=yp;break;case Bb:t=vp;}yield _E({chart:l,invalidType:t,elementCount:e,seriesCount:b.length,options:c}),u.loaderHandle.hideLoader();}O={dataItems:l.data,timeIntervalInfo:YA(l.uid,"timeIntervalInfo")};}!0!==S&&!0!==T||Vk({data:O,seriesConfig:d.series,htmlContainer:l.htmlContainer}),!1!==S&&!0!==F||(void 0!==k&&(l.data=k),void 0!==d.axes&&(yield Mj({chart:l,chartConfig:d,rotationChanged:I,axisLabelsBehaviorChanged:A,chartType:x,isRotated:C,timeIntervalInfo:null!==(n=null==O?void 0:O.timeIntervalInfo)&&void 0!==n?n:YA(l.uid,"timeIntervalInfo"),xAxisLabelFormatter:null==c?void 0:c.xAxisLabelFormatter,yAxisLabelFormatter:null==c?void 0:c.yAxisLabelFormatter,commonStrings:m})),void 0!==l.series&&0!==l.series.length&&!0!==P&&!0!==w&&!0!==I||(!0===I&&l.invalidateData(),yield Lj({chart:l,chartConfig:d,hideLoaderHandle:u.loaderHandle.hideLoader,commonStrings:m,options:c})),yield Ej({chart:l,chartConfig:d,rotationChanged:I,queryObject:h,chartData:O,newSeries:b,options:c,dataWasUpdated:S,sortChanged:T,timeIntervalInfo:x===Bb?null==O?void 0:O.timeIntervalInfo:void 0,commonStrings:m}),Sk(u.headerElements,{title:d.title,subTitle:d.subTitle}),_k(u.footerElements,d.footer),kM({legendElements:u.legendElements,seriesConfig:d.series,webChartLegend:d.legend,seriesType:x,disableTogglingLegendItems:null==c?void 0:c.disableTogglingLegendItems}),uj(l,d.background),cj({chart:l,scrollbarXVisible:null===(a=null===(r=d.axes)||void 0===r?void 0:r[0])||void 0===a?void 0:a.scrollbarVisible,scrollbarYVisible:null===(s=null===(o=d.axes)||void 0===o?void 0:o[1])||void 0===s?void 0:s.scrollbarVisible})),!0===Gk(l.series)&&(u.loaderHandle.hideLoader(),Bk(l.htmlContainer));}var v;Rk(y,l.htmlContainer),YL(l,null==d?void 0:d.cursorCrosshair);const b=function(e){return e instanceof gy==0&&void 0===e.cursor&&$L(e),e.cursor}(l);b.behavior!==WL&&b.behavior!==NL&&b.behavior!==zL&&b.behavior!==qL||tE(l),xj(l,d);}))}function Hj(e){var t,i,n,r;return v(this,void 0,void 0,(function*(){const{chart:a,chartElements:o,newConfig:s,queryObject:l,forceDataUpdate:u,options:d,commonStrings:c}=e;CE(a);let h=yield SE({chart:a,chartConfig:s,queryObject:l,createMessage:null==d?void 0:d.createMessage});if(!0===h.valid&&void 0!==s){o.loaderHandle.showLoader(!0!==(null==d?void 0:d.hideLoaderAnimation)),GD(a);const e=YA(a.uid,"config"),f=null==e?void 0:e.series,g=null==s?void 0:s.series,{dataUpdateNeeded:y}=RO({forceDataUpdate:u,oldConfig:e,newConfig:s,options:d,filterBySelection:YA(a.uid,"filterBySelection"),currentSelectionDataItems:YA(a.uid,"currentSelectionDataItems"),currentSelectionOIDs:YA(a.uid,"currentSelectionDataItems"),currentSelectionIndexes:YA(a.uid,"currentSelectionDataItems")}),v=!0===$O(f,g);KA(a.uid,{filterBySelection:null==d?void 0:d.filterBySelection,config:w_(s)});let b,x,C=!0,S=!1;if(!0===y){const{count:e,valid:t,invalidType:i,data:n,queryConfig:r}=yield Tj({chartConfig:s,currentSelectionDataItems:YA(a.uid,"currentSelectionDataItems"),options:d,queryObject:l,abortKey:XO(a)});b=n,KA(a.uid,{elementCount:e,queryConfig:r,initialized:t}),C=t,x=jh({seriesType:Vb,fetchedData:b}),!0===C?void 0!==x&&!0==(p=a.data,m=x,!1===rP(p.filter((e=>!1===QD(e))),m))&&(a.data=x,S=!0):(yield _E({chart:a,invalidType:i,elementCount:e,seriesCount:g.length,options:d}),o.loaderHandle.hideLoader());}if(!1===S||!0===C){const e=function(e,t){var i,n,r,a;return (null===(n=null===(i=e[0])||void 0===i?void 0:i.sliceGrouping)||void 0===n?void 0:n.percentageThreshold)!==(null===(a=null===(r=t[0])||void 0===r?void 0:r.sliceGrouping)||void 0===a?void 0:a.percentageThreshold)}(f,g);!0!==S&&!0!==e||eM({chart:a,seriesConfig:g,commonStrings:c}),!0!==v&&!0!==e||(kD({arrayToSort:null!=x?x:a.data,chartConfig:s,orderByFieldsConfig:null===(i=null===(t=g[0])||void 0===t?void 0:t.query)||void 0===i?void 0:i.orderByFields}),a.validateData());let u=!0===VO(f,g);const p=yield ME({chart:a,chartConfig:s,queryObject:l,labelUpdateNeeded:!0===S||!0===u});!0!==S&&!0!==v||Vk({data:{dataItems:a.data},seriesConfig:s.series,htmlContainer:a.htmlContainer});const m=yield Aj({chart:a,data:{dataItems:a.data},chartConfig:s,queryObject:l,options:d,currentValidationStatus:h});h=null!==(n=m.newValidationStatus)&&void 0!==n?n:h;const y=m.alteredConfig;u=!0===u||!0===VO(s.series,y.series),FE({chart:a,slicesConfigChanged:u,newChartConfig:y,pieSlicesSymbols:p}),yield Ej({chart:a,queryObject:l,chartConfig:y,options:d,dataWasUpdated:S,sortChanged:v,chartData:b,groupOfSlicesWasUpdated:e,newSeries:g,commonStrings:c}),Sk(o.headerElements,{title:y.title,subTitle:y.subTitle}),_k(o.footerElements,y.footer),kM({legendElements:o.legendElements,seriesConfig:y.series,webChartLegend:y.legend,disableTogglingLegendItems:null==d?void 0:d.disableTogglingLegendItems,pieChartLegendValueLabelFormatter:null==d?void 0:d.pieChartLegendValueLabelFormatter}),uj(a,y.background),null===(r=a.series.getIndex(0))||void 0===r||r.events.once(SP,(()=>{kj(a,null==d?void 0:d.actionMode);})),bj(a,y);}!0===Gk(a.series)&&(o.loaderHandle.hideLoader(),Bk(a.htmlContainer));}var p,m;Rk(h,a.htmlContainer);}))}function Gj(e){return v(this,void 0,void 0,(function*(){const{chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a}=e;var o;let s;nn.commercialLicense=!1!==(null==a?void 0:a.hideLicenceWatermark),nn.queue=!1!==(null==a?void 0:a.queueChartCreation),nn.autoDispose=!0===(null==a?void 0:a.autoDisposeChart),!0===(null==a?void 0:a.useAnimatedCharts)?(o=Rv,-1===St.themes.indexOf(o)&&St.themes.push(o)):function(e){Te(St.themes,e);}(Rv);switch(ih(null==i?void 0:i.series)){case Vb:s=yield Nj({chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a});break;case Rb:s=yield Wj({chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a});break;default:s=yield Bj({chartContainer:t,chartConfig:i,queryObject:n,options:r,globalOptions:a});}return s}))}function Uj(e){var t;return v(this,void 0,void 0,(function*(){const{chartContainer:i,chartConfig:n,options:r,globalOptions:a}=e,{layer:o,view:s,inlineData:l}=null!=r?r:{};let u,d=n;void 0!==d&&!1===ph(d)&&(d=Kf({chartConfig:d,layer:o,inlineData:l})),d=yield sg(d,o),(null===(t=null==d?void 0:d.dataSource)||void 0===t?void 0:t.type)!==ix&&void 0===o||(u=yield gh({chartConfig:d,layer:o,view:s}));const c=yield Gj({chartContainer:i,chartConfig:d,queryObject:u,options:r,globalOptions:a}),{chart:h,chartElements:p}=c,m=!1===vj(i);function f(e){return v(this,void 0,void 0,(function*(){const{newConfig:t,forceDataUpdate:i,updateOptions:n,updateGlobalOptions:r}=e;let{commonStrings:a}=e;a=null!=a?a:yield yj();const o=YA(h.uid,"initialized"),s=YA(h.uid,"config");let l;const d=null==s?void 0:s.series;void 0!==d&&(l=ih(d));const c=null==t?void 0:t.series,m=void 0!==c?ih(c):void 0;if(!0===h.isDisposed()||void 0===p||!1===o||l!==m)throw new Xh(Kh);switch(l){case Nb:case Bb:case zb:case jb:case Wb:yield zj({chart:h,chartElements:p,queryObject:u,newConfig:t,forceDataUpdate:i,options:n,globalOptions:r,commonStrings:a});break;case Vb:yield Hj({chart:h,chartElements:p,queryObject:u,forceDataUpdate:i,newConfig:t,options:n,globalOptions:r,commonStrings:a});break;case Rb:yield function(e){var t;return v(this,void 0,void 0,(function*(){const{chart:i,chartElements:n,newConfig:r,queryObject:a,forceDataUpdate:o,options:s}=e;CE(i);let l=yield SE({chart:i,chartConfig:r,queryObject:a,createMessage:null==s?void 0:s.createMessage});if(!0===l.valid&&void 0!==r){n.loaderHandle.showLoader(!0!==(null==s?void 0:s.hideLoaderAnimation));const e=YA(i.uid,"config"),u=ih(r.series),{dataUpdateNeeded:d}=RO({forceDataUpdate:o,oldConfig:e,newConfig:r});let c;if(!0===d){const{count:e,valid:t,invalidType:o,data:l,queryConfig:u}=yield Tj({chartConfig:r,queryObject:a,options:s,abortKey:XO(i)});c=l,void 0!==(null==c?void 0:c.dataItems)&&(i.data=null==c?void 0:c.dataItems),Vk({data:{dataItems:i.data},seriesConfig:r.series,htmlContainer:i.htmlContainer}),KA(i.uid,{elementCount:e,queryConfig:u,initialized:t}),!1===t&&(yield _E({chart:i,invalidType:o,elementCount:e,seriesCount:1,options:s}),n.loaderHandle.hideLoader());}const h=yield Aj({chart:i,data:{dataItems:i.data},chartConfig:r,queryObject:a,options:s,currentValidationStatus:l});l=null!==(t=h.newValidationStatus)&&void 0!==t?t:l;const p=h.alteredConfig;if(!1!==l.valid){void 0!==p.axes&&(yield Mj({chart:i,chartConfig:p,chartType:u,data:c,xAxisLabelFormatter:null==s?void 0:s.xAxisLabelFormatter,gaugeInnerLabelFormatter:null==s?void 0:s.gaugeInnerLabelFormatter}));const e=uP.gauge,t=!0===Number.isFinite(null==p?void 0:p.innerRadius)?null==p?void 0:p.innerRadius:e.innerRadius,r=!0===Number.isFinite(null==p?void 0:p.startAngle)?null==p?void 0:p.startAngle:e.startAngle,a=!0===Number.isFinite(null==p?void 0:p.endAngle)?null==p?void 0:p.endAngle:e.endAngle;i.innerRadius=A(t),i.startAngle=r,i.endAngle=a,Sk(n.headerElements,{title:p.title,subTitle:p.subTitle}),_k(n.footerElements,p.footer),uj(i,p.background),KA(i.uid,{config:w_(p)}),n.loaderHandle.hideLoader(),Bk(i.htmlContainer);}}Rk(l,i.htmlContainer);}))}({chart:h,chartElements:p,newConfig:t,queryObject:u,forceDataUpdate:i,options:n,globalOptions:r});}}))}return KA(h.uid,{chartWasCreatedWhileHidden:m,queryObject:u,filterBySelection:null==r?void 0:r.filterBySelection,options:r}),function(e,t){if(void 0!==e&&void 0!==t&&void 0!==window.IntersectionObserver){const i=new IntersectionObserver((t=>{t[0].intersectionRatio>0&&(!0===YA(e.uid,"chartWasCreatedWhileHidden")?e.events.once(SP,(()=>{e.reinit();})):!0===YA(e.uid,"chartWasUpdatedWhileHidden")&&e.reinit(),KA(e.uid,{chartWasUpdatedWhileHidden:!1,chartWasCreatedWhileHidden:!1}));}),{root:null});i.observe(t);}}(h,i),yield PE({chart:h,chartConfig:d,options:r}),{update:function(e){return v(this,void 0,void 0,(function*(){const{newChartConfig:t,updateOptions:n,updateGlobalOptions:r}=e,{layer:a,view:o,dataUpdated:s,inlineData:l}=null!=n?n:{},d=yield yj(),c=!1===vj(i);KA(h.uid,{chartWasUpdatedWhileHidden:c,options:n});let p=t;void 0!==p&&!1===ph(p)&&(p=Kf({chartConfig:p,layer:a,inlineData:l})),p=yield sg(p,a);const m=yh(u);yield function(e){var t;return v(this,void 0,void 0,(function*(){const{layerUpdate:i,newConfig:n,viewUpdate:r}=e;void 0===i&&(null===(t=null==n?void 0:n.dataSource)||void 0===t?void 0:t.type)!==ix||(u=yield gh({layer:i,view:r,chartConfig:n}),KA(h.uid,{queryObject:u}));}))}({layerUpdate:a,newConfig:p,viewUpdate:o});const g=yh(u),y=!0===s||m!==g;yield f({newConfig:p,updateOptions:n,forceDataUpdate:y,updateGlobalOptions:r,commonStrings:d}),h.interactionsEnabled=-1===navigator.userAgent.search("Firefox")||!0!==(null==n?void 0:n.disableInteractions),yield PE({chart:h,chartConfig:p,options:n});}))},dispose:function(){qh.delete(XO(h)),!0!==h.isDisposed()&&(!function(e){var t,i,n,r,a,o,s,l,u,d,c,h;e instanceof Ig&&e.series.each((e=>{var t;UA(e.uid),e instanceof ay&&UA(null===(t=KO(e))||void 0===t?void 0:t.uid),e.bullets.each((e=>{UA(e.uid);})),e instanceof $y&&e.columns.template.children.each((e=>{UA(e.uid);}));})),e instanceof ey&&(UA(null!==(i=null===(t=null==e?void 0:e.xAxes.getIndex(0))||void 0===t?void 0:t.uid)&&void 0!==i?i:""),UA(null!==(r=null===(n=null==e?void 0:e.yAxes.getIndex(0))||void 0===n?void 0:n.uid)&&void 0!==r?r:""),null===(a=e.xAxes.getIndex(0))||void 0===a||a.axisRanges.each((e=>{var t;UA(null===(t=e.label)||void 0===t?void 0:t.uid);})),null===(o=e.yAxes.getIndex(0))||void 0===o||o.axisRanges.each((e=>{var t;UA(null===(t=e.label)||void 0===t?void 0:t.uid);}))),e instanceof gy&&e.radarContainer.children.each((e=>{UA(e.uid);})),e instanceof wy&&(null===(s=e.series.getIndex(0))||void 0===s||s.slices.each((e=>{UA(e.uid);}))),"cursor"in e&&UA(null===(l=null==e?void 0:e.cursor)||void 0===l?void 0:l.uid),"legend"in e&&(UA(null===(u=null==e?void 0:e.legend)||void 0===u?void 0:u.uid),UA(null===(h=null===(c=null===(d=null==e?void 0:e.legend)||void 0===d?void 0:d.valueLabels)||void 0===c?void 0:c.template)||void 0===h?void 0:h.uid)),UA(null==e?void 0:e.uid);}(h),void 0!==p&&(p.loaderHandle.hideLoader(),c.chartElements=void 0),h.dispose());},notify:function(e,t,i){var n;void 0!==h.modal&&!0!==h.isDisposed()&&(h.modal.closable=null!==(n=null==i?void 0:i.closable)&&void 0!==n&&n,void 0!==e?h.openModal(e,t):h.closeModal());},resetZoom:function(){tE(h);},clearSelection:()=>UD({chart:h}),switchSelection:function(){return v(this,void 0,void 0,(function*(){if(ZO(h)&&(h instanceof ey||h instanceof wy)){const e=YA(h.uid,"actionMode");e!==cg&&e!==fg&&(yield fj(h));}}))},setActionMode:e=>kj(h,e)}}))}nn.classNamePrefix="arcgis-charts-";

'use strict';

function reusify (Constructor) {
  var head = new Constructor();
  var tail = head;

  function get () {
    var current = head;

    if (current.next) {
      head = current.next;
    } else {
      head = new Constructor();
      tail = head;
    }

    current.next = null;

    return current
  }

  function release (obj) {
    tail.next = obj;
    tail = obj;
  }

  return {
    get: get,
    release: release
  }
}

var reusify_1 = reusify;

'use strict';

/* eslint-disable no-var */



function fastqueue (context, worker, concurrency) {
  if (typeof context === 'function') {
    concurrency = worker;
    worker = context;
    context = null;
  }

  if (concurrency < 1) {
    throw new Error('fastqueue concurrency must be greater than 1')
  }

  var cache = reusify_1(Task);
  var queueHead = null;
  var queueTail = null;
  var _running = 0;
  var errorHandler = null;

  var self = {
    push: push,
    drain: noop,
    saturated: noop,
    pause: pause,
    paused: false,
    concurrency: concurrency,
    running: running,
    resume: resume,
    idle: idle,
    length: length,
    getQueue: getQueue,
    unshift: unshift,
    empty: noop,
    kill: kill,
    killAndDrain: killAndDrain,
    error: error
  };

  return self

  function running () {
    return _running
  }

  function pause () {
    self.paused = true;
  }

  function length () {
    var current = queueHead;
    var counter = 0;

    while (current) {
      current = current.next;
      counter++;
    }

    return counter
  }

  function getQueue () {
    var current = queueHead;
    var tasks = [];

    while (current) {
      tasks.push(current.value);
      current = current.next;
    }

    return tasks
  }

  function resume () {
    if (!self.paused) return
    self.paused = false;
    for (var i = 0; i < self.concurrency; i++) {
      _running++;
      release();
    }
  }

  function idle () {
    return _running === 0 && self.length() === 0
  }

  function push (value, done) {
    var current = cache.get();

    current.context = context;
    current.release = release;
    current.value = value;
    current.callback = done || noop;
    current.errorHandler = errorHandler;

    if (_running === self.concurrency || self.paused) {
      if (queueTail) {
        queueTail.next = current;
        queueTail = current;
      } else {
        queueHead = current;
        queueTail = current;
        self.saturated();
      }
    } else {
      _running++;
      worker.call(context, current.value, current.worked);
    }
  }

  function unshift (value, done) {
    var current = cache.get();

    current.context = context;
    current.release = release;
    current.value = value;
    current.callback = done || noop;

    if (_running === self.concurrency || self.paused) {
      if (queueHead) {
        current.next = queueHead;
        queueHead = current;
      } else {
        queueHead = current;
        queueTail = current;
        self.saturated();
      }
    } else {
      _running++;
      worker.call(context, current.value, current.worked);
    }
  }

  function release (holder) {
    if (holder) {
      cache.release(holder);
    }
    var next = queueHead;
    if (next) {
      if (!self.paused) {
        if (queueTail === queueHead) {
          queueTail = null;
        }
        queueHead = next.next;
        next.next = null;
        worker.call(context, next.value, next.worked);
        if (queueTail === null) {
          self.empty();
        }
      } else {
        _running--;
      }
    } else if (--_running === 0) {
      self.drain();
    }
  }

  function kill () {
    queueHead = null;
    queueTail = null;
    self.drain = noop;
  }

  function killAndDrain () {
    queueHead = null;
    queueTail = null;
    self.drain();
    self.drain = noop;
  }

  function error (handler) {
    errorHandler = handler;
  }
}

function noop () {}

function Task () {
  this.value = null;
  this.callback = noop;
  this.next = null;
  this.release = noop;
  this.context = null;
  this.errorHandler = null;

  var self = this;

  this.worked = function worked (err, result) {
    var callback = self.callback;
    var errorHandler = self.errorHandler;
    var val = self.value;
    self.value = null;
    self.callback = noop;
    if (self.errorHandler) {
      errorHandler(err, val);
    }
    callback.call(self.context, err, result);
    self.release(self);
  };
}

function queueAsPromised (context, worker, concurrency) {
  if (typeof context === 'function') {
    concurrency = worker;
    worker = context;
    context = null;
  }

  function asyncWrapper (arg, cb) {
    worker.call(this, arg)
      .then(function (res) {
        cb(null, res);
      }, cb);
  }

  var queue = fastqueue(context, asyncWrapper, concurrency);

  var pushCb = queue.push;
  var unshiftCb = queue.unshift;

  queue.push = push;
  queue.unshift = unshift;
  queue.drained = drained;

  return queue

  function push (value) {
    var p = new Promise(function (resolve, reject) {
      pushCb(value, function (err, result) {
        if (err) {
          reject(err);
          return
        }
        resolve(result);
      });
    });

    // Let's fork the promise chain to
    // make the error bubble up to the user but
    // not lead to a unhandledRejection
    p.catch(noop);

    return p
  }

  function unshift (value) {
    var p = new Promise(function (resolve, reject) {
      unshiftCb(value, function (err, result) {
        if (err) {
          reject(err);
          return
        }
        resolve(result);
      });
    });

    // Let's fork the promise chain to
    // make the error bubble up to the user but
    // not lead to a unhandledRejection
    p.catch(noop);

    return p
  }

  function drained () {
    var previousDrain = queue.drain;

    var p = new Promise(function (resolve) {
      queue.drain = function () {
        previousDrain();
        resolve();
      };
    });

    return p
  }
}

var queue = fastqueue;
var promise = queueAsPromised;
queue.promise = promise;

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
const ArcgisChartsNotifyPanel = ({ message, heading, options }) => {
  var _a, _b, _c, _d;
  const alertComponent = (h$n("calcite-alert", { icon: (_a = options === null || options === void 0 ? void 0 : options.icon) !== null && _a !== void 0 ? _a : "exclamationMarkTriangle", open: (options === null || options === void 0 ? void 0 : options.active) === true, autoClose: (_b = options === null || options === void 0 ? void 0 : options.autoClose) !== null && _b !== void 0 ? _b : false, autoCloseDuration: (_c = options === null || options === void 0 ? void 0 : options.duration) !== null && _c !== void 0 ? _c : "medium", scale: "m", kind: (_d = options === null || options === void 0 ? void 0 : options.kind) !== null && _d !== void 0 ? _d : "danger", "aria-hidden": (options === null || options === void 0 ? void 0 : options.active) !== true, dir: "ltr", role: "alertdialog", label: "arcgis charts notify panel" // needed for accessibility
  }, heading !== undefined ? h$n("div", { slot: "title" }, heading) : null, message !== undefined ? h$n("div", { slot: "message" }, message) : null));
  return alertComponent;
};

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
const maximumNumberOfSimultaneousUpdates = 1;

const arcgisChartsLineChartCss = ".hide{display:none}.show{display:block}.notifyPanel{flex:0 1 auto}.lineSeries{flex-grow:1}.lineSeries>div{justify-content:center;align-items:center}.lineSeries .arcgis-charts-modal-inside{padding:1em;padding-left:0}.lineSeries .arcgis-charts-modal-inside ol{padding-left:2em}.lineSeries .arcgis-charts-modal-curtain{width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:2001;background-color:white;opacity:0.5;opacity:1}.lineSeries .arcgis-charts-modal-content{background:rgba(255, 255, 255, 0.8);color:black;display:inline-block;position:absolute;top:0px;left:0px;max-width:90%;max-height:90%;overflow:auto;z-index:2002;position:absolute;max-width:90%;max-height:90%;width:auto !important;height:auto !important;margin:auto !important;inset:auto !important;left:auto !important;top:auto !important}.lineSeries .arcgis-charts-modal-header{display:block;width:100%;min-height:1.8em;background:rgba(0, 0, 0, 0.05)}.lineSeries .arcgis-charts-modal-close{display:block;position:absolute;top:0.3em;right:0.3em;background:url(\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=\") center center/80% no-repeat rgba(100, 100, 100, 0.1);width:1.2em;height:1.2em;cursor:pointer}.lineSeries .arcgis-charts-modal-title{font-weight:bold;font-size:110%;padding:0.5em 1.2em 0.5em 1em}:host{width:var(--arcgis-charts-line-chart-width, var(--arcgis-charts-default-width));height:var(--arcgis-charts-line-chart-height, var(--arcgis-charts-default-height));display:flex;flex-direction:row}";

const ArcGISChartsLineChart = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.arcgisChartsDataProcessError = createEvent(this, "arcgisChartsDataProcessError", 7);
    this.arcgisChartsDataProcessComplete = createEvent(this, "arcgisChartsDataProcessComplete", 7);
    this.arcgisChartsLegendItemVisibilityChange = createEvent(this, "arcgisChartsLegendItemVisibilityChange", 7);
    this.arcgisChartsUpdateComplete = createEvent(this, "arcgisChartsUpdateComplete", 7);
    this.arcgisChartsSeriesColorChange = createEvent(this, "arcgisChartsSeriesColorChange", 7);
    this.arcgisChartsAxesMinMaxChange = createEvent(this, "arcgisChartsAxesMinMaxChange", 7);
    this.arcgisChartsSelectionComplete = createEvent(this, "arcgisChartsSelectionComplete", 7);
    this.arcgisChartsNoRenderPropChange = createEvent(this, "arcgisChartsNoRenderPropChange", 7);
    /**
     * Property to be used to skip the next round of update
     * @category Private
     */
    this.skipNextUpdate = false;
    /**
     * List of props which should not trigger a render when changed
     * @category Private
     */
    this.noRenderProps = ["rotation", "legendPosition", "legendVisibility", "view"];
    /**
     * List of props which should trigger a data update
     * @category Private
     */
    this.dataUpdateNeededProps = ["forceDataUpdate", "runtimeDataFilters", "inlineData", "returnFeaturesExtent"];
    /**
     * List of all the properties updated since the last update. Useful when multiple properties are updated
     * within the same time frame, while some of them require some extra logic to be applied.
     * @category Private
     */
    this.updatedProps = new Set();
    this.config = undefined;
    this.inlineData = undefined;
    this.rotation = undefined;
    this.actionMode = undefined;
    this.legendPosition = undefined;
    this.legendVisibility = undefined;
    this.view = undefined;
    this.layer = undefined;
    this.selectionData = undefined;
    this.returnSelectionOIDs = undefined;
    this.returnSelectionIndexes = undefined;
    this.returnFeaturesExtent = undefined;
    this.filterBySelection = undefined;
    this.disableInteractions = undefined;
    this.queueChartCreation = undefined;
    this.useAnimatedCharts = undefined;
    this.hideLicenceWatermark = undefined;
    this.enableResponsiveFeatures = undefined;
    this.autoDisposeChart = undefined;
    this.placeholder = undefined;
    this.tooltipFormatter = undefined;
    this.dataLabelFormatter = undefined;
    this.guideTooltipFormatter = undefined;
    this.xAxisLabelFormatter = undefined;
    this.yAxisLabelFormatter = undefined;
    this.setTimeBinningInfoWhenNotProvided = undefined;
    this.selectionTheme = undefined;
    this.chartLimits = undefined;
    this.ignoreSmoothRenderingLimit = undefined;
    this.noDataOptions = undefined;
    this.disableTogglingLegendItems = undefined;
    this.hideLoaderAnimation = undefined;
    this.runtimeDataFilters = undefined;
    this.usePopupTemplateFieldsInfo = undefined;
    this.showNotifyPanel = false;
  }
  /**
   * Listener on event coming from the chart container indicating the chart data has been processed
   * emitting an event carrying the data
   * @param event The event carrying the chart data processed by the core
   * @category Custom-event handler
   */
  handleChartOutputDataChange(event) {
    // every time the data is processed we check whether it's empty so we can display a message on the chart (see componentDidUpdate())
    this.arcgisChartsDataProcessComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating a legend item visibility has been changed
   * emitting an event carrying the item id and its new visibility
   * @param event The event carrying the item id and its new visibility
   * @category Custom-event handler
   */
  handleLegendItemVisibilityChanged(event) {
    this.arcgisChartsLegendItemVisibilityChange.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating a chart is updated
   * @param event The event carrying the ValidationStatus
   * @category Custom-event handler
   */
  handleUpdateCompleted(event) {
    this.arcgisChartsUpdateComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating the chart series color
   * have been assigned
   * @param event The event carrying the series colors
   * @category Custom-event handler
   */
  handleSeriesColorsChange(event) {
    this.arcgisChartsSeriesColorChange.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container
   * on selection of one or multiple markers
   * @param event The event carrying the selected elements
   * @category Custom-event handler
   */
  handleSelection(event) {
    this.arcgisChartsSelectionComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container
   * when more elements than the authorized limit have been selected.
   * @category Custom-event handler
   */
  handleTooManySelectedElements() {
    // TODO t9n these messages. Only English is available for now
    this.notifyHeading = this.strings.tooManySelectedElements.title;
    this.notifyMessage = this.strings.tooManySelectedElements.message;
    this.notifyOptions = {
      kind: "warning",
      autoClose: true,
      duration: "fast",
      active: true
    };
    this.showNotifyPanel = true;
  }
  /**
   * Listener on event coming from the closure of a calcite-alert.
   * The handler helps keeping in sync the boolean `showNotifyPanel` with the panel's state.
   * @param event
   * @category Custom-event handler
   */
  handleAlertClosed(event) {
    // If the calcite-alert (notify panel) from this component is getting closed, we flag it
    if (event.target === this.el) {
      // we don't want the component to re-render so we skip the next update
      this.skipNextUpdate = true;
      this.showNotifyPanel = false;
    }
  }
  /**
   * Listener on event coming from the chart container indicating the chart axes
   * min and max values have been computed
   * @param event The event carrying the axes min and max
   * @category Custom-event handler
   */
  handleAxesMinMaxChange(event) {
    this.arcgisChartsAxesMinMaxChange.emit(event.detail);
  }
  /**
   * Called every time the view prop is updated.
   * Add a listener to it to keep the chart in sync.
   * @category Watch handler
   */
  async viewChange(newView, oldView) {
    await this.addExtentChangeListener();
    // The "view" property is flagged as a non-render prop to avoid an unnecessary update when the
    // view is assigned to the component (the update will happen through the view listeners), so we
    // only need to explicitly ask for a refresh when the view is removed from the component
    if (oldView !== undefined && newView === undefined) {
      await this.refresh();
    }
  }
  /**
   * Called every time the layer prop is updated.
   * Adds listeners to it to keep the chart in sync.
   * @category Watch handler
   */
  async layerChange() {
    await this.addLayerListeners();
  }
  /**
   * Called every time the rotation property is updated
   * @param newRotation The new rotation value for the chart
   * @category Watch handler
   */
  rotationChange(newRotation) {
    this.config = Ss$1(newRotation, this.config);
  }
  /**
   * Called every time the position of the legend is updated
   * @param newLegendPosition The new position of the legend
   * @category Watch handler
   */
  legendPositionChange(newLegendPosition) {
    this.config = updateLegendPosition(newLegendPosition, this.config);
  }
  /**
   * Called every time the visibility of the legend is updated
   * @param newLegendVisibility The new visibility of the legend
   * @category Watch handler
   */
  legendVisibilityChange(newLegendVisibility) {
    this.config = updateLegendVisibility(newLegendVisibility, this.config);
  }
  /**
   * Notify method allows passing external messages to the chart component.
   * It can be used to pass validation or information messages.
   * In a situation where a config update is overriding your notification modal,
   * consider waiting for the `arcgisChartsUpdateComplete` event.
   * @category Public
   */
  async notify(message, heading, options) {
    if (this.chart !== undefined) {
      this.chart.notify(message, heading, options);
    }
    return Promise.resolve(undefined);
  }
  /**
   * Triggers an alert to display an error message.
   * @category Public
   * @param errorMessage
   */
  async errorAlert(errorMessage) {
    this.notifyHeading = this.strings.errorHeading;
    this.notifyMessage = errorMessage;
    this.notifyOptions = {
      kind: "danger",
      autoClose: true,
      active: true
    };
    this.showNotifyPanel = true;
  }
  /**
   * Resets the chart zoom to bring it back to full extent
   * @category Public
   */
  async resetZoom() {
    if (this.chart !== undefined)
      this.chart.resetZoom();
    return Promise.resolve(undefined);
  }
  /**
   * Switches the selection on the chart.
   * @category Public
   */
  async switchSelection() {
    // for now we don't allow the switch selection when the filter by selection is on
    if (this.chart !== undefined && this.filterBySelection !== true)
      await this.chart.switchSelection();
  }
  /**
   * Clears all selection on the chart.
   * @category Public
   */
  async clearSelection() {
    if (this.chart !== undefined) {
      this.chart.clearSelection();
      // to handle the full data reset we call the componentDidUpdate to trigger a chart update
      if (this.filterBySelection === true) {
        await this.refresh();
      }
    }
  }
  /**
   * Re-render the chart.
   * @param props.updateData Indicates whether to fetch new data. Default: true.
   * @param props.updateExtent Indicates whether the view's extent is to update. Default: false.
   * @param props.resetAxesBounds Option to reset the axes bounds along with the refresh.
   * @category Public
   */
  async refresh(props) {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;
    const { updateData = true, resetAxesBounds = false, updateExtent = false } = props !== null && props !== void 0 ? props : {};
    ;
    this.viewExtentUpdated = updateExtent;
    if (updateData === true)
      this.dataUpdateIsNeeded();
    // Resetting the axes bounds
    if (resetAxesBounds === true) {
      (_c = (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.axes) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? true : delete _c.minimum;
      (_f = (_e = (_d = this.config) === null || _d === void 0 ? void 0 : _d.axes) === null || _e === void 0 ? void 0 : _e[0]) === null || _f === void 0 ? true : delete _f.maximum;
      (_j = (_h = (_g = this.config) === null || _g === void 0 ? void 0 : _g.axes) === null || _h === void 0 ? void 0 : _h[1]) === null || _j === void 0 ? true : delete _j.minimum;
      (_m = (_l = (_k = this.config) === null || _k === void 0 ? void 0 : _k.axes) === null || _l === void 0 ? void 0 : _l[1]) === null || _m === void 0 ? true : delete _m.maximum;
    }
    await this.componentDidUpdate();
    // reset the boolean for the next update 
    this.viewExtentUpdated = false;
  }
  /**
   * Prevents render for noRenderProps
   * @category Lifecycle
   */
  componentShouldUpdate(...args) {
    const [value, , propName] = args;
    // Flagging the property. This list will be used when the chart update is actually called.
    this.updatedProps.add(propName);
    const isNoRenderProp = this.noRenderProps.includes(propName);
    if (isNoRenderProp === true) {
      this.arcgisChartsNoRenderPropChange.emit({ propName, value });
    }
    const shouldUpdate = this.skipNextUpdate === false && isNoRenderProp === false;
    this.skipNextUpdate = false;
    return shouldUpdate;
  }
  /**
   * @category Lifecycle
   */
  async componentWillLoad() {
    ({ strings: this.strings } = await Ia$1(this.el, getAssetPath(`.`)));
    // We define the function that will be called to update the chart. We use the external library fastq to queue the updates
    // to make sure only one update is executed at a time
    this.debouncedChartUpdate = promise(async () => {
      if (this.chart !== undefined) {
        const updatedProps = Array.from(this.updatedProps);
        // if one of the properties updated require a data update, we flag it
        // multiple properties can be updated within the same time frame, which will trigger only one Stencil lifecycle
        const dataUpdateNeeded = updatedProps.some((updatedProp) => this.dataUpdateNeededProps.includes(updatedProp));
        // clearing the list for the next update
        this.updatedProps.clear();
        return await this.chart.update({
          newChartConfig: this.config,
          updateOptions: gatherComponentOptions({ component: this, dataUpdated: dataUpdateNeeded, viewExtentUpdated: this.viewExtentUpdated }),
          updateGlobalOptions: gatherComponentGlobalOptions(this)
        });
      }
    }, maximumNumberOfSimultaneousUpdates);
  }
  /**
   * @category Lifecycle
   */
  async componentDidLoad() {
    if (this.chartRef !== undefined) {
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async componentDidUpdate() {
    var _a;
    // If this.chartCreationProcessing is still running we need to wait for it to be done before updating the chart
    if (this.chart === undefined && this.chartCreationProcessing !== undefined)
      await this.chartCreationProcessing;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the update to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.LineSeries], this.config);
    if (this.config !== undefined && this.chart !== undefined && this.showNotifyPanel === false) {
      try {
        const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
        // Calling for the chart update if the data source is valid and the debounce function exists
        if (isValidDataSource(this.inlineData, dataSource) && this.debouncedChartUpdate !== undefined) {
          await this.debouncedChartUpdate.push({});
        }
      }
      catch (e) {
        if (this.chartRef !== undefined && this.config !== undefined) {
          if (e.name === ml$1.ChartDisposed) {
            this.chart.dispose();
            this.chartRef.innerHTML = "";
            await this.createChartInstance(false);
          }
          else {
            this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
            if (e.name === ml$1.QueryFeaturesError) {
              // sending an event if a query failed.
              // We don't automatically recreate the chart in that scenario as it would lead to the same result.
              this.arcgisChartsDataProcessError.emit(e.details);
            }
          }
        }
      }
    }
    else if (this.chart === undefined &&
      this.chartCreationProcessing === undefined &&
      this.showNotifyPanel === false) {
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async disconnectedCallback() {
    if (this.chart !== undefined) {
      this.removeLayerListeners();
      this.removeExtentChangeListener();
      this.chart.dispose();
    }
  }
  /**
   * @category Lifecycle
   */
  render() {
    var _a;
    const notifyPanel = this.showNotifyPanel === true ? (h$n(ArcgisChartsNotifyPanel, { heading: this.notifyHeading, message: this.notifyMessage, options: this.notifyOptions })) : null;
    // TODO: implement stronger way to know when to keep the chart visible
    const chartStyles = this.showNotifyPanel === true && ((_a = this.notifyOptions) === null || _a === void 0 ? void 0 : _a.kind) === "danger"
      ? "hide"
      : `${WebChartTypes.LineSeries} show`;
    const notifyStyles = this.showNotifyPanel === true ? "show notifyPanel" : "hide";
    return (h$n(Host, null, h$n("slot", { name: Slot.actionBar }), h$n("div", { class: chartStyles, ref: (el) => {
        this.chartRef = el;
      } }), h$n("div", { class: notifyStyles }, notifyPanel)));
  }
  /**
   * Util function that can be used to trigger a data update next time the chart is updated
   * @category Private
   */
  dataUpdateIsNeeded() {
    this.updatedProps.add("forceDataUpdate");
  }
  /**
   * Adds the listener to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  async addLayerListeners() {
    // removing existing listeners before adding new ones
    this.removeLayerListeners();
    this.layerFilterListener = await addLayerFilterListener({
      layer: this.layer,
      component: this
    });
    this.layerRendererListener = await addLayerRendererListener({
      layer: this.layer,
      component: this
    });
  }
  /**
   * Adds a listener to listen to the view's extent change
   * @category Private
   */
  async addExtentChangeListener() {
    // removing existing listeners before adding new ones
    this.removeExtentChangeListener();
    this.extentChangeListener = await addExtentChangeListener({
      view: this.view,
      layer: this.layer,
      component: this
    });
  }
  /**
   * Removes the listeners added to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  removeLayerListeners() {
    if (this.layerFilterListener !== undefined)
      this.layerFilterListener.remove();
    if (this.layerRendererListener !== undefined)
      this.layerRendererListener.remove();
  }
  /**
   * Removes the listener added to listen to the view's extent change
   * @category Private
   */
  removeExtentChangeListener() {
    if (this.extentChangeListener !== undefined)
      this.extentChangeListener.remove();
  }
  /**
   * If the chart config version is newer than the current one, display a message in a popup.
   * @category Private
   */
  checkForIncompatibleChartVersion() {
    var _a;
    const chartVersion = (_a = this.config) === null || _a === void 0 ? void 0 : _a.version;
    if (pp$1(chartVersion).versionStatus === WebChartVersionStatus.Newer) {
      this.notifyHeading = this.strings.incompatibleChartVersion.title;
      this.notifyMessage = Ca$1(this.strings.incompatibleChartVersion.message, {
        chartVersion: chartVersion !== null && chartVersion !== void 0 ? chartVersion : ""
      });
      this.notifyOptions = {
        kind: "warning",
        autoClose: true,
        active: true
      };
      this.showNotifyPanel = true;
    }
  }
  /**
   * creates arcgis chart instance
   * @param firstCreation Indicates whether it's the first time the component is created
   * @category Private
   */
  async createChartInstance(firstCreation = true) {
    var _a, _b;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the creation to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.LineSeries], this.config);
    this.checkForIncompatibleChartVersion();
    this.updatedProps.clear();
    try {
      const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
      if (isValidDataSource(this.inlineData, dataSource)) {
        this.chartCreationProcessing = Uj({
          chartContainer: this.chartRef,
          chartConfig: this.config,
          options: gatherComponentOptions({ component: this }),
          globalOptions: gatherComponentGlobalOptions(this)
        });
      }
      this.chart = await this.chartCreationProcessing;
      // after creating the chart we add listeners on the feature layer and view
      // only adding them if it's the first component creation. `createChartInstance()` can be called
      // when an update failed, and in that case we don't need to add again the listeners given the view
      // or layer didn't change
      if (firstCreation === true) {
        await this.addLayerListeners();
        await this.addExtentChangeListener();
      }
    }
    catch (e) {
      // sending an event if a query failed
      if (e.name === ml$1.QueryFeaturesError) {
        this.arcgisChartsDataProcessError.emit(e.details);
      }
      // displaying the error
      this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
      // disposing the chart
      (_b = this.chart) === null || _b === void 0 ? void 0 : _b.dispose();
      this.chartCreationProcessing = undefined;
      this.chart = undefined;
    }
  }
  static get assetsDirs() { return ["t9n"]; }
  get el() { return getElement(this); }
  static get watchers() { return {
    "view": ["viewChange"],
    "layer": ["layerChange"],
    "rotation": ["rotationChange"],
    "legendPosition": ["legendPositionChange"],
    "legendVisibility": ["legendVisibilityChange"]
  }; }
};
ArcGISChartsLineChart.style = arcgisChartsLineChartCss;

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
/**
 * Indicates whether a data update is needed if we want to update the color match information on the chart.
 */
function isDataUpdateNeededToUpdateColorMatch(props) {
  var _a;
  const { chartConfig, setTimeBinningInfoWhenNotProvided, rendererType } = props;
  let dataUpdateNeeded = false;
  const { series } = chartConfig;
  const seriesType = os$1(series);
  const queryType = Bs$1(series);
  const isTimeBinningSeries = Ks$1({
    seriesConfig: series[0],
    xAxisValueFormatType: (_a = chartConfig.axes) === null || _a === void 0 ? void 0 : _a[0].valueFormat.type,
    setTimeBinningInfoWhenNotProvided
  });
  // the non aggregated charts get the renderer information while fetching the data. Hence we force a data
  // update for them, while the other charts can apply a simple update to refresh their style
  // The 2nd part of the condition below (no aggregation + 1 series + no time binning) needs to be in sync with
  // the from `mapQueryResults()` which is in charge of computing the renderer color.
  dataUpdateNeeded =
    seriesType === WebChartTypes.ScatterSeries ||
      ((seriesType === WebChartTypes.BarSeries ||
        seriesType === WebChartTypes.LineSeries ||
        seriesType === WebChartTypes.PieSeries ||
        seriesType === WebChartTypes.ComboLineAndBarSeries) &&
        rendererType !== RESTRendererType.PieChart &&
        queryType === Mo$1.NoAggregation &&
        series.length === 1 &&
        isTimeBinningSeries === false);
  return dataUpdateNeeded;
}
/**
 * Adds a listener on the feature layer, so every time the definition expression (filter) is modified we update
 * the chart.
 * @param props.layer The feature layer
 * @param props.view The view
 * @param props.component The chart component
 */
async function addLayerFilterListener(props) {
  const { layer, component } = props;
  let newListener;
  if (layer !== undefined) {
    // add a watch handler on the "definitionExpression" property of the Feature Layer
    newListener = await l$l(() => layer.definitionExpression, async () => {
      // refreshing the component will trigger a data update
      await component.refresh({ updateData: true, resetAxesBounds: true });
    });
  }
  return newListener;
}
/**
 * Adds a listener on the feature layer, so every time the renderer is modified we update the chart.
 * @param props.layer The feature layer
 * @param props.view The view
 * @param props.component The chart component
 */
async function addLayerRendererListener(props) {
  const { layer, component } = props;
  let newListener;
  if (layer !== undefined) {
    const { rendererType } = Fs$1(layer.renderer);
    // Adding another watch to update the chart when the layer's symbology changes
    // Note: listening to the global "renderer" property will work as long as MapViewer replaces the whole renderer
    // object every time a modification is done on it. If they start updating individual properties on it rather than updating
    // the whole object, we'll need to set listeners on all the sub-properties that can be modified.
    newListener = await l$l(() => layer.renderer, async () => {
      var _a;
      // only updating the chart if it's in color match mode
      if (((_a = component.config) === null || _a === void 0 ? void 0 : _a.series[0].colorType) === WebChartColoringPatterns.Match) {
        // some charts require to fetch new data in order to update the color match info
        const forceDataUpdate = isDataUpdateNeededToUpdateColorMatch({
          chartConfig: component.config,
          setTimeBinningInfoWhenNotProvided: component instanceof ArcGISChartsLineChart ? component.setTimeBinningInfoWhenNotProvided : undefined,
          rendererType
        });
        // refreshing the component will trigger a data update
        await component.refresh({ updateData: forceDataUpdate });
      }
    });
  }
  return newListener;
}
/**
 * Adds a listener on the feature layer view, so every time the view's extent is modified we update
 * the chart.
 * @param props.layer The feature layer
 * @param props.view The view
 * @param props.component The chart component
 */
async function addExtentChangeListener(props) {
  const { view, layer, component } = props;
  let extentChangeListener;
  // adding a new callback when the view and config are defined
  if (view !== undefined && component.config !== undefined) {
    // fetching the FLV
    const layerView = (await js$1({
      chartConfig: component.config,
      view,
      layer
    }));
    // waiting for the flv to refresh a first time
    await j$c(() => layerView.updating === false);
    let previousExtent = "";
    const updateCallback = async () => {
      // waiting for the FLV to be done updating (especially necessary on heavier layers)
      if (layerView.updating === true)
        await j$c(() => layerView.updating === false);
      const { extent } = view;
      const { xmin, xmax, ymin, ymax } = extent;
      const newExtent = `${xmin}${xmax}${ymin}${ymax}`;
      // if the extent changed, we refresh the chart
      if (previousExtent !== newExtent) {
        previousExtent = newExtent;
        // refreshing the component will trigger a data update
        await component.refresh({ updateData: true, resetAxesBounds: true, updateExtent: true });
      }
    };
    // triggering the callback every time the view gets stationary (meaning the user is done zooming/panning)
    extentChangeListener = f$k(() => view.stationary === true, updateCallback);
    // calling the callback a first time so the chart filters the data when the filter by extent is enabled for the first time
    await updateCallback();
  }
  return extentChangeListener;
}

const arcgisChartsGaugeCss = ".hide{display:none}.show{display:block}.notifyPanel{flex:0 1 auto}.gaugeSeries{flex-grow:1}.gaugeSeries>div{justify-content:center;align-items:center}.gaugeSeries .arcgis-charts-modal-inside{padding:1em;padding-left:0}.gaugeSeries .arcgis-charts-modal-inside ol{padding-left:2em}.gaugeSeries .arcgis-charts-modal-curtain{width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:2001;background-color:white;opacity:0.5;opacity:1}.gaugeSeries .arcgis-charts-modal-content{background:rgba(255, 255, 255, 0.8);color:black;display:inline-block;position:absolute;top:0px;left:0px;max-width:90%;max-height:90%;overflow:auto;z-index:2002;position:absolute;max-width:90%;max-height:90%;width:auto !important;height:auto !important;margin:auto !important;inset:auto !important;left:auto !important;top:auto !important}.gaugeSeries .arcgis-charts-modal-header{display:block;width:100%;min-height:1.8em;background:rgba(0, 0, 0, 0.05)}.gaugeSeries .arcgis-charts-modal-close{display:block;position:absolute;top:0.3em;right:0.3em;background:url(\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=\") center center/80% no-repeat rgba(100, 100, 100, 0.1);width:1.2em;height:1.2em;cursor:pointer}.gaugeSeries .arcgis-charts-modal-title{font-weight:bold;font-size:110%;padding:0.5em 1.2em 0.5em 1em}:host{width:var(--arcgis-charts-gauge-width, var(--arcgis-charts-default-width));height:var(--arcgis-charts-gauge-height, var(--arcgis-charts-default-height));display:flex;flex-direction:row}";

const ArcGISChartsGauge = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.arcgisChartsDataProcessError = createEvent(this, "arcgisChartsDataProcessError", 7);
    this.arcgisChartsDataProcessComplete = createEvent(this, "arcgisChartsDataProcessComplete", 7);
    this.arcgisChartsUpdateComplete = createEvent(this, "arcgisChartsUpdateComplete", 7);
    /**
     * Property to be used to skip the next round of update
     * @category Private
     */
    this.skipNextUpdate = false;
    /**
     * List of props which should not trigger a render when changed
     * @category Private
     */
    this.noRenderProps = ["view", "featureIndex"];
    /**
     * List of props which should trigger a data update
     * @category Private
     */
    this.dataUpdateNeededProps = ["forceDataUpdate", "runtimeDataFilters", "inlineData"];
    /**
     * List of all the properties updated since the last update. Useful when multiple properties are updated
     * within the same time frame, while some of them require some extra logic to be applied.
     * @category Private
     */
    this.updatedProps = new Set();
    this.config = undefined;
    this.inlineData = undefined;
    this.view = undefined;
    this.layer = undefined;
    this.queueChartCreation = undefined;
    this.useAnimatedCharts = undefined;
    this.hideLicenceWatermark = undefined;
    this.enableResponsiveFeatures = undefined;
    this.autoDisposeChart = undefined;
    this.featureIndex = undefined;
    this.placeholder = undefined;
    this.chartLimits = undefined;
    this.axisLabelFormatter = undefined;
    this.gaugeInnerLabelFormatter = undefined;
    this.noDataOptions = undefined;
    this.hideLoaderAnimation = undefined;
    this.runtimeDataFilters = undefined;
    this.chartWillRender = undefined;
    this.usePopupTemplateFieldsInfo = undefined;
    this.showNotifyPanel = false;
  }
  /**
   * Listener on event coming from the chart container indicating the chart data has been processed
   * emitting an event carrying the data
   * @param event The event carrying the chart data processed by the core
   * @category Custom-event handler
   */
  handleChartOutputDataChange(event) {
    // every time the data is processed we check whether it's empty so we can display a message on the chart (see componentDidUpdate())
    this.arcgisChartsDataProcessComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating a chart is updated
   * @param event The event carrying the ValidationStatus
   * @category Custom-event handler
   */
  handleUpdateCompleted(event) {
    this.arcgisChartsUpdateComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the closure of a calcite-alert.
   * The handler helps keeping in sync the boolean `showNotifyPanel` with the panel's state.
   * @param event
   * @category Custom-event handler
   */
  handleAlertClosed(event) {
    // If the calcite-alert (notify panel) from this component is getting closed, we flag it
    if (event.target === this.el) {
      // we don't want the component to re-render so we skip the next update
      this.skipNextUpdate = true;
      this.showNotifyPanel = false;
    }
  }
  /**
   * Called every time the view prop is updated.
   * Add a listener to it to keep the chart in sync.
   * @category Watch handler
   */
  async viewChange(newView, oldView) {
    await this.addExtentChangeListener();
    // The "view" property is flagged as a non-render prop to avoid an unnecessary update when the
    // view is assigned to the component (the update will happen through the view listeners), so we
    // only need to explicitly ask for a refresh when the view is removed from the component
    if (oldView !== undefined && newView === undefined) {
      await this.refresh();
    }
  }
  /**
   * Called every time the layer prop is updated.
   * Adds listeners to it to keep the chart in sync.
   * @category Watch handler
   */
  async layerChange() {
    await this.addLayerListeners();
  }
  /**
   * Called every time the feature index is updated.
   * @param newFeatureIndex The new gauge feature index to render
   * @category Watch handler
   */
  featureIndexChange(newFeatureIndex, oldFeatureIndex) {
    // when users switch from a statistic gauge to a gauge by feature, make sure the chart updates its data
    if (oldFeatureIndex === undefined && newFeatureIndex !== undefined) {
      this.dataUpdateIsNeeded();
    }
    this.config = this.updateFeatureIndex(newFeatureIndex, this.config);
  }
  /**
   * Notify method allows passing external messages to the chart component.
   * It can be used to pass validation or information messages.
   * In a situation where a config update is overriding your notification modal,
   * consider waiting for the `arcgisChartsUpdateComplete` event.
   * @category Public
   */
  async notify(message, heading, options) {
    if (this.chart !== undefined) {
      this.chart.notify(message, heading, options);
    }
    return Promise.resolve(undefined);
  }
  /**
   * Triggers an alert to display an error message.
   * @category Public
   * @param errorMessage
   */
  async errorAlert(errorMessage) {
    this.notifyHeading = this.strings.errorHeading;
    this.notifyMessage = errorMessage;
    this.notifyOptions = {
      kind: "danger",
      autoClose: true,
      active: true
    };
    this.showNotifyPanel = true;
  }
  /**
   * Re-render the chart.
   * @param props.updateData Indicates whether to fetch new data. Default: true.
   * @param props.updateExtent Indicates whether the view's extent is to update. Default: false.
   * @category Public
   */
  async refresh(props) {
    const { updateData = true, updateExtent = false } = props !== null && props !== void 0 ? props : {};
    ;
    this.viewExtentUpdated = updateExtent;
    if (updateData === true)
      this.dataUpdateIsNeeded();
    await this.componentDidUpdate();
    // reset the boolean for the next update 
    this.viewExtentUpdated = false;
  }
  /**
   * @category Lifecycle
   */
  async componentWillLoad() {
    ({ strings: this.strings } = await Ia$1(this.el, getAssetPath(`.`)));
    // We define the function that will be called to update the chart. We use the external library fastq to queue the updates
    // to make sure only one update is executed at a time
    this.debouncedChartUpdate = promise(async () => {
      if (this.chart !== undefined) {
        const updatedProps = Array.from(this.updatedProps);
        // if one of the properties updated require a data update, we flag it
        // multiple properties can be updated within the same time frame, which will trigger only one Stencil lifecycle
        const dataUpdateNeeded = updatedProps.some((updatedProp) => this.dataUpdateNeededProps.includes(updatedProp));
        // clearing the list for the next update
        this.updatedProps.clear();
        return await this.chart.update({
          newChartConfig: this.config,
          updateOptions: gatherComponentOptions({ component: this, dataUpdated: dataUpdateNeeded, viewExtentUpdated: this.viewExtentUpdated }),
          updateGlobalOptions: gatherComponentGlobalOptions(this)
        });
      }
    }, maximumNumberOfSimultaneousUpdates);
  }
  /**
   * Prevents render for noRenderProps
   * @category Lifecycle
   */
  componentShouldUpdate(...args) {
    const [, , propName] = args;
    // Flagging the property. This list will be used when the chart update is actually called.
    this.updatedProps.add(propName);
    const shouldUpdate = this.skipNextUpdate === false && this.noRenderProps.includes(propName) === false;
    this.skipNextUpdate = false;
    return shouldUpdate;
  }
  /**
   * @category Lifecycle
   */
  async componentDidLoad() {
    if (this.chartRef !== undefined) {
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async componentDidUpdate() {
    var _a;
    // If this.chartCreationProcessing is still running we need to wait for it to be done before updating the chart
    if (this.chart === undefined && this.chartCreationProcessing !== undefined)
      await this.chartCreationProcessing;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the update to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.GaugeSeries], this.config);
    if (this.config !== undefined && this.chart !== undefined && this.showNotifyPanel === false) {
      try {
        const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
        // Calling for the chart update if the data source is valid and the debounce function exists
        if (isValidDataSource(this.inlineData, dataSource) && this.debouncedChartUpdate !== undefined) {
          await this.debouncedChartUpdate.push({});
        }
      }
      catch (e) {
        if (this.chartRef !== undefined && this.config !== undefined) {
          if (e.name === ml$1.ChartDisposed) {
            this.chart.dispose();
            this.chartRef.innerHTML = "";
            await this.createChartInstance(false);
          }
          else {
            this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
            if (e.name === ml$1.QueryFeaturesError) {
              // sending an event if a query failed.
              // We don't automatically recreate the chart in that scenario as it would lead to the same result.
              this.arcgisChartsDataProcessError.emit(e.details);
            }
          }
        }
      }
    }
    else if (this.chart === undefined && this.chartCreationProcessing === undefined && this.showNotifyPanel === false) {
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async disconnectedCallback() {
    if (this.chart !== undefined) {
      this.removeLayerListeners();
      this.removeExtentChangeListener();
      this.chart.dispose();
    }
  }
  /**
   * @category Lifecycle
   */
  render() {
    var _a;
    const notifyPanel = this.showNotifyPanel === true ? (h$n(ArcgisChartsNotifyPanel, { heading: this.notifyHeading, message: this.notifyMessage, options: this.notifyOptions })) : null;
    // TODO: implement stronger way to know when to keep the chart visible
    const chartStyles = this.showNotifyPanel === true && ((_a = this.notifyOptions) === null || _a === void 0 ? void 0 : _a.kind) === "danger"
      ? "hide"
      : `${WebChartTypes.GaugeSeries} show`;
    const notifyStyles = this.showNotifyPanel === true ? "show notifyPanel" : "hide";
    return (h$n(Host, null, h$n("slot", { name: Slot.actionBar }), h$n("div", { class: chartStyles, ref: (el) => {
        this.chartRef = el;
      } }), h$n("div", { class: notifyStyles }, notifyPanel)));
  }
  /**
   * Util function that can be used to trigger a data update next time the chart is updated
   * @category Private
   */
  dataUpdateIsNeeded() {
    this.updatedProps.add("forceDataUpdate");
  }
  /**
   * Adds the listener to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  async addLayerListeners() {
    // removing existing listeners before adding new ones
    this.removeLayerListeners();
    this.layerFilterListener = await addLayerFilterListener({
      layer: this.layer,
      component: this
    });
    this.layerRendererListener = await addLayerRendererListener({
      layer: this.layer,
      component: this
    });
  }
  /**
   * Adds a listener to listen to the view's extent change
   * @category Private
   */
  async addExtentChangeListener() {
    // removing existing listeners before adding new ones
    this.removeExtentChangeListener();
    this.extentChangeListener = await addExtentChangeListener({
      view: this.view,
      layer: this.layer,
      component: this
    });
  }
  /**
   * Removes the listeners added to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  removeLayerListeners() {
    if (this.layerFilterListener !== undefined)
      this.layerFilterListener.remove();
    if (this.layerRendererListener !== undefined)
      this.layerRendererListener.remove();
  }
  /**
   * Removes the listener added to listen to the view's extent change
   * @category Private
   */
  removeExtentChangeListener() {
    if (this.extentChangeListener !== undefined)
      this.extentChangeListener.remove();
  }
  /**
   * If the chart config version is newer than the current one, display a message in a popup.
   * @category Private
   */
  checkForIncompatibleChartVersion() {
    var _a;
    const chartVersion = (_a = this.config) === null || _a === void 0 ? void 0 : _a.version;
    if (pp$1(chartVersion).versionStatus === WebChartVersionStatus.Newer) {
      this.notifyHeading = this.strings.incompatibleChartVersion.title;
      this.notifyMessage = Ca$1(this.strings.incompatibleChartVersion.message, {
        chartVersion: chartVersion !== null && chartVersion !== void 0 ? chartVersion : ""
      });
      this.notifyOptions = {
        kind: "warning",
        autoClose: true,
        active: true
      };
      this.showNotifyPanel = true;
    }
  }
  /**
   * creates arcgis chart instance
   * @param firstCreation Indicates whether it's the first time the component is created
   * @category Private
   */
  async createChartInstance(firstCreation = true) {
    var _a, _b;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the creation to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.GaugeSeries], this.config);
    this.checkForIncompatibleChartVersion();
    this.updatedProps.clear();
    try {
      const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
      if (isValidDataSource(this.inlineData, dataSource)) {
        this.chartCreationProcessing = Uj({
          chartContainer: this.chartRef,
          chartConfig: this.config,
          options: gatherComponentOptions({ component: this }),
          globalOptions: gatherComponentGlobalOptions(this)
        });
      }
      this.chart = await this.chartCreationProcessing;
      // after creating the chart we add listeners on the feature layer and view
      // only adding them if it's the first component creation. `createChartInstance()` can be called
      // when an update failed, and in that case we don't need to add again the listeners given the view
      // or layer didn't change
      if (firstCreation === true) {
        await this.addLayerListeners();
        await this.addExtentChangeListener();
      }
    }
    catch (e) {
      // sending an event if a query failed
      if (e.name === ml$1.QueryFeaturesError) {
        this.arcgisChartsDataProcessError.emit(e.details);
      }
      // displaying the error
      this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
      // disposing the chart
      (_b = this.chart) === null || _b === void 0 ? void 0 : _b.dispose();
      this.chartCreationProcessing = undefined;
      this.chart = undefined;
    }
  }
  /**
   * update the gauge config with the new index
   * @param newFeatureIndex the new feature index
   * @param config the config to modify
   * @category Private
   */
  updateFeatureIndex(newFeatureIndex, config) {
    let updatedConfig;
    if (config !== undefined) {
      updatedConfig = Object.assign({}, config);
      if ((updatedConfig === null || updatedConfig === void 0 ? void 0 : updatedConfig.series) !== undefined)
        updatedConfig.series[0].featureIndex = newFeatureIndex;
    }
    return updatedConfig;
  }
  static get assetsDirs() { return ["t9n"]; }
  get el() { return getElement(this); }
  static get watchers() { return {
    "view": ["viewChange"],
    "layer": ["layerChange"],
    "featureIndex": ["featureIndexChange"]
  }; }
};
ArcGISChartsGauge.style = arcgisChartsGaugeCss;

const arcgisChartsPieChartCss = ".hide{display:none}.show{display:block}.notifyPanel{flex:0 1 auto}.pieSeries{flex-grow:1}.pieSeries>div{justify-content:center;align-items:center}.pieSeries .arcgis-charts-modal-inside{padding:1em;padding-left:0}.pieSeries .arcgis-charts-modal-inside ol{padding-left:2em}.pieSeries .arcgis-charts-modal-curtain{width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:2001;background-color:white;opacity:0.5;opacity:1}.pieSeries .arcgis-charts-modal-content{background:rgba(255, 255, 255, 0.8);color:black;display:inline-block;position:absolute;top:0px;left:0px;max-width:90%;max-height:90%;overflow:auto;z-index:2002;position:absolute;max-width:90%;max-height:90%;width:auto !important;height:auto !important;margin:auto !important;inset:auto !important;left:auto !important;top:auto !important}.pieSeries .arcgis-charts-modal-header{display:block;width:100%;min-height:1.8em;background:rgba(0, 0, 0, 0.05)}.pieSeries .arcgis-charts-modal-close{display:block;position:absolute;top:0.3em;right:0.3em;background:url(\"data:image/svg+xml;charset=utf-8;base64,PHN2ZyBoZWlnaHQ9IjUxMiIgdmVyc2lvbj0iMSIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ0NS4yIDEwOS4ybC00Mi40LTQyLjRMMjU2IDIxMy42IDEwOS4yIDY2LjhsLTQyLjQgNDIuNEwyMTMuNiAyNTYgNjYuOCA0MDIuOGw0Mi40IDQyLjRMMjU2IDI5OC40bDE0Ni44IDE0Ni44IDQyLjQtNDIuNEwyOTguNCAyNTYiLz48L3N2Zz4=\") center center/80% no-repeat rgba(100, 100, 100, 0.1);width:1.2em;height:1.2em;cursor:pointer}.pieSeries .arcgis-charts-modal-title{font-weight:bold;font-size:110%;padding:0.5em 1.2em 0.5em 1em}:host{width:var(--arcgis-charts-pie-chart-width, var(--arcgis-charts-default-width));height:var(--arcgis-charts-pie-chart-height, var(--arcgis-charts-default-height));display:flex;flex-direction:row;overflow-y:hidden}";

const ArcGISChartsPieChart = class {
  constructor(hostRef) {
    registerInstance(this, hostRef);
    this.arcgisChartsDataProcessError = createEvent(this, "arcgisChartsDataProcessError", 7);
    this.arcgisChartsDataProcessComplete = createEvent(this, "arcgisChartsDataProcessComplete", 7);
    this.arcgisChartsLegendItemVisibilityChange = createEvent(this, "arcgisChartsLegendItemVisibilityChange", 7);
    this.arcgisChartsUpdateComplete = createEvent(this, "arcgisChartsUpdateComplete", 7);
    this.arcgisChartsSeriesColorChange = createEvent(this, "arcgisChartsSeriesColorChange", 7);
    this.arcgisChartsSelectionComplete = createEvent(this, "arcgisChartsSelectionComplete", 7);
    /**
     * Property to be used to skip the next round of update
     * @category Private
     */
    this.skipNextUpdate = false;
    /**
     * List of props which should not trigger a render when changed
     * @category Private
     */
    this.noRenderProps = ["legendPosition", "legendVisibility", "view"];
    /**
     * List of props which should trigger a data update
     * @category Private
     */
    this.dataUpdateNeededProps = ["forceDataUpdate", "runtimeDataFilters", "inlineData", "returnFeaturesExtent"];
    /**
     * List of all the properties updated since the last update. Useful when multiple properties are updated
     * within the same time frame, while some of them require some extra logic to be applied.
     * @category Private
     */
    this.updatedProps = new Set();
    this.config = undefined;
    this.inlineData = undefined;
    this.actionMode = undefined;
    this.legendPosition = undefined;
    this.legendVisibility = undefined;
    this.view = undefined;
    this.layer = undefined;
    this.selectionData = undefined;
    this.returnSelectionOIDs = undefined;
    this.returnSelectionIndexes = undefined;
    this.returnFeaturesExtent = undefined;
    this.filterBySelection = undefined;
    this.disableInteractions = undefined;
    this.queueChartCreation = undefined;
    this.useAnimatedCharts = undefined;
    this.hideLicenceWatermark = undefined;
    this.enableResponsiveFeatures = undefined;
    this.autoDisposeChart = undefined;
    this.placeholder = undefined;
    this.tooltipFormatter = undefined;
    this.dataLabelFormatter = undefined;
    this.legendValueLabelFormatter = undefined;
    this.selectionTheme = undefined;
    this.chartLimits = undefined;
    this.noDataOptions = undefined;
    this.disableTogglingLegendItems = undefined;
    this.hideLoaderAnimation = undefined;
    this.runtimeDataFilters = undefined;
    this.chartWillRender = undefined;
    this.usePopupTemplateFieldsInfo = undefined;
    this.showNotifyPanel = false;
  }
  /**
   * Listener on event coming from the chart container indicating the chart data has been processed
   * emitting an event carrying the data
   * @param event The event carrying the chart data processed by the core
   * @category Custom-event handler
   */
  handleChartOutputDataChange(event) {
    // every time the data is processed we check whether it's empty so we can display a message on the chart (see componentDidUpdate())
    this.arcgisChartsDataProcessComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating a legend item visibility has been changed
   * emitting an event carrying the item id and its new visibility
   * @param event The event carrying the item id and its new visibility
   * @category Custom-event handler
   */
  handleLegendItemVisibilityChanged(event) {
    this.arcgisChartsLegendItemVisibilityChange.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating a chart is updated
   * @param event The event carrying the ValidationStatus
   * @category Custom-event handler
   */
  handleUpdateCompleted(event) {
    this.arcgisChartsUpdateComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container indicating the series slice symbols
   * have been assigned
   * @param event The event carrying the slice symbols
   * @category Custom-event handler
   */
  handleSeriesColorsChange(event) {
    this.arcgisChartsSeriesColorChange.emit(event.detail);
  }
  /**
   * Listener on event coming from the chart container
   * on selection of one or multiple slices
   * @param event The event carrying the selected elements
   * @category Custom-event handler
   */
  handleSelection(event) {
    this.arcgisChartsSelectionComplete.emit(event.detail);
  }
  /**
   * Listener on event coming from the closure of a calcite-alert.
   * The handler helps keeping in sync the boolean `showNotifyPanel` with the panel's state.
   * @param event
   * @category Custom-event handler
   */
  handleAlertClosed(event) {
    // If the calcite-alert (notify panel) from this component is getting closed, we flag it
    if (event.target === this.el) {
      // we don't want the component to re-render so we skip the next update
      this.skipNextUpdate = true;
      this.showNotifyPanel = false;
    }
  }
  /**
   * Called every time the view prop is updated.
   * Add a listener to it to keep the chart in sync.
   * @category Watch handler
   */
  async viewChange(newView, oldView) {
    await this.addExtentChangeListener();
    // The "view" property is flagged as a non-render prop to avoid an unnecessary update when the
    // view is assigned to the component (the update will happen through the view listeners), so we
    // only need to explicitly ask for a refresh when the view is removed from the component
    if (oldView !== undefined && newView === undefined) {
      await this.refresh();
    }
  }
  /**
   * Called every time the layer prop is updated.
   * Adds listeners to it to keep the chart in sync.
   * @category Watch handler
   */
  async layerChange() {
    await this.addLayerListeners();
  }
  /**
   * Called every time the position of the legend is updated
   * @param newLegendPosition The new position of the legend
   * @category Watch handler
   */
  legendPositionChange(newLegendPosition) {
    this.config = updateLegendPosition(newLegendPosition, this.config);
  }
  /**
   * Called every time the visibility of the legend is updated
   * @param newLegendVisibility The new visibility of the legend
   * @category Watch handler
   */
  legendVisibilityChange(newLegendVisibility) {
    this.config = updateLegendVisibility(newLegendVisibility, this.config);
  }
  /**
   * Notify method allows passing external messages to the chart component.
   * It can be used to pass validation or information messages.
   * In a situation where a config update is overriding your notification modal,
   * consider waiting for the `arcgisChartsUpdateComplete` event.
   * @category Public
   */
  async notify(message, heading, options) {
    if (this.chart !== undefined) {
      this.chart.notify(message, heading, options);
    }
    return Promise.resolve(undefined);
  }
  /**
   * Triggers an alert to display an error message.
   * @category Public
   * @param errorMessage
   */
  async errorAlert(errorMessage) {
    this.notifyHeading = this.strings.errorHeading;
    this.notifyMessage = errorMessage;
    this.notifyOptions = {
      kind: "danger",
      autoClose: true,
      active: true
    };
    this.showNotifyPanel = true;
  }
  /**
   * Switches the selection on the chart.
   * @category Public
   */
  async switchSelection() {
    // for now we don't allow the switch selection when the filter by selection is on
    if (this.chart !== undefined && this.filterBySelection !== true)
      await this.chart.switchSelection();
  }
  /**
   * Clears all selection on the chart.
   * @category Public
   */
  async clearSelection() {
    if (this.chart !== undefined) {
      this.chart.clearSelection();
      // to handle the full data reset we call the componentDidUpdate to trigger a chart update
      if (this.filterBySelection === true) {
        await this.refresh();
      }
    }
  }
  /**
   * Re-render the chart.
   * @param props.updateData Indicates whether to fetch new data. Default: true.
   * @param props.updateExtent Indicates whether the view's extent is to update. Default: false.
   * @category Public
   */
  async refresh(props) {
    const { updateData = true, updateExtent = false } = props !== null && props !== void 0 ? props : {};
    ;
    this.viewExtentUpdated = updateExtent;
    if (updateData === true)
      this.dataUpdateIsNeeded();
    await this.componentDidUpdate();
    // reset the boolean for the next update 
    this.viewExtentUpdated = false;
  }
  /**
   * Prevents render for noRenderProps
   * @category Lifecycle
   */
  componentShouldUpdate(...args) {
    const [, , propName] = args;
    // Flagging the property. This list will be used when the chart update is actually called.
    this.updatedProps.add(propName);
    const shouldUpdate = this.skipNextUpdate === false && this.noRenderProps.includes(propName) === false;
    this.skipNextUpdate = false;
    return shouldUpdate;
  }
  /**
   * @category Lifecycle
   */
  async componentWillLoad() {
    ({ strings: this.strings } = await Ia$1(this.el, getAssetPath(`.`)));
    // We define the function that will be called to update the chart. We use the external library fastq to queue the updates
    // to make sure only one update is executed at a time
    this.debouncedChartUpdate = promise(async () => {
      if (this.chart !== undefined) {
        const updatedProps = Array.from(this.updatedProps);
        // if one of the properties updated require a data update, we flag it
        // multiple properties can be updated within the same time frame, which will trigger only one Stencil lifecycle
        const dataUpdateNeeded = updatedProps.some((updatedProp) => this.dataUpdateNeededProps.includes(updatedProp));
        // clearing the list for the next update
        this.updatedProps.clear();
        return await this.chart.update({
          newChartConfig: this.config,
          updateOptions: gatherComponentOptions({ component: this, dataUpdated: dataUpdateNeeded, viewExtentUpdated: this.viewExtentUpdated }),
          updateGlobalOptions: gatherComponentGlobalOptions(this)
        });
      }
    }, maximumNumberOfSimultaneousUpdates);
  }
  /**
   * @category Lifecycle
   */
  async componentDidLoad() {
    if (this.chartRef !== undefined) {
      // TODO: use options to add view and FeatureLayer
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async componentDidUpdate() {
    var _a;
    // If this.chartCreationProcessing is still running we need to wait for it to be done before updating the chart
    if (this.chart === undefined && this.chartCreationProcessing !== undefined)
      await this.chartCreationProcessing;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the update to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.PieSeries], this.config);
    if (this.config !== undefined && this.chart !== undefined && this.showNotifyPanel === false) {
      try {
        const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
        // Calling for the chart update if the data source is valid and the debounce function exists
        if (isValidDataSource(this.inlineData, dataSource) && this.debouncedChartUpdate !== undefined) {
          await this.debouncedChartUpdate.push({});
        }
      }
      catch (e) {
        if (this.chartRef !== undefined && this.config !== undefined) {
          if (e.name === ml$1.ChartDisposed) {
            this.chart.dispose();
            this.chartRef.innerHTML = "";
            await this.createChartInstance(false);
          }
          else {
            this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
            if (e.name === ml$1.QueryFeaturesError) {
              // sending an event if a query failed.
              // We don't automatically recreate the chart in that scenario as it would lead to the same result.
              this.arcgisChartsDataProcessError.emit(e.details);
            }
          }
        }
      }
    }
    else if (this.chart === undefined &&
      this.chartCreationProcessing === undefined &&
      this.showNotifyPanel === false) {
      await this.createChartInstance();
    }
  }
  /**
   * @category Lifecycle
   */
  async disconnectedCallback() {
    if (this.chart !== undefined) {
      this.removeLayerListeners();
      this.removeExtentChangeListener();
      this.chart.dispose();
    }
  }
  /**
   * @category Lifecycle
   */
  render() {
    var _a;
    const notifyPanel = this.showNotifyPanel === true ? (h$n(ArcgisChartsNotifyPanel, { heading: this.notifyHeading, message: this.notifyMessage, options: this.notifyOptions })) : null;
    // TODO: implement stronger way to know when to keep the chart visible
    const chartStyles = this.showNotifyPanel === true && ((_a = this.notifyOptions) === null || _a === void 0 ? void 0 : _a.kind) === "danger"
      ? "hide"
      : `${WebChartTypes.PieSeries} show`;
    const notifyStyles = this.showNotifyPanel === true ? "show notifyPanel" : "hide";
    return (h$n(Host, null, h$n("slot", { name: Slot.actionBar }), h$n("div", { class: chartStyles, ref: (el) => {
        this.chartRef = el;
      } }), h$n("div", { class: notifyStyles }, notifyPanel)));
  }
  /**
   * Util function that can be used to trigger a data update next time the chart is updated
   * @category Private
   */
  dataUpdateIsNeeded() {
    this.updatedProps.add("forceDataUpdate");
  }
  /**
   * Adds the listener to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  async addLayerListeners() {
    // removing existing listeners before adding new ones
    this.removeLayerListeners();
    this.layerFilterListener = await addLayerFilterListener({
      layer: this.layer,
      component: this
    });
    this.layerRendererListener = await addLayerRendererListener({
      layer: this.layer,
      component: this
    });
  }
  /**
   * Adds a listener to listen to the view's extent change
   * @category Private
   */
  async addExtentChangeListener() {
    // removing existing listeners before adding new ones
    this.removeExtentChangeListener();
    this.extentChangeListener = await addExtentChangeListener({
      view: this.view,
      layer: this.layer,
      component: this
    });
  }
  /**
   * Removes the listeners added to listen to the layer definitionExpression and renderer changes
   * @category Private
   */
  removeLayerListeners() {
    if (this.layerFilterListener !== undefined)
      this.layerFilterListener.remove();
    if (this.layerRendererListener !== undefined)
      this.layerRendererListener.remove();
  }
  /**
   * Removes the listener added to listen to the view's extent change
   * @category Private
   */
  removeExtentChangeListener() {
    if (this.extentChangeListener !== undefined)
      this.extentChangeListener.remove();
  }
  /**
   * If the chart config version is newer than the current one, display a message in a popup.
   * @category Private
   */
  checkForIncompatibleChartVersion() {
    var _a;
    const chartVersion = (_a = this.config) === null || _a === void 0 ? void 0 : _a.version;
    if (pp$1(chartVersion).versionStatus === WebChartVersionStatus.Newer) {
      this.notifyHeading = this.strings.incompatibleChartVersion.title;
      this.notifyMessage = Ca$1(this.strings.incompatibleChartVersion.message, {
        chartVersion: chartVersion !== null && chartVersion !== void 0 ? chartVersion : ""
      });
      this.notifyOptions = {
        kind: "warning",
        autoClose: true,
        active: true
      };
      this.showNotifyPanel = true;
    }
  }
  /**
   * creates arcgis chart instance
   * @param firstCreation Indicates whether it's the first time the component is created
   * @category Private
   */
  async createChartInstance(firstCreation = true) {
    var _a, _b;
    // Controlling the series type to display a console error if the type is not the expected one
    // We still proceed to the creation to let the config validator deal with the invalid config
    await vp$1([WebChartTypes.PieSeries], this.config);
    this.checkForIncompatibleChartVersion();
    this.updatedProps.clear();
    try {
      const dataSource = (_a = this.config) === null || _a === void 0 ? void 0 : _a.dataSource;
      if (isValidDataSource(this.inlineData, dataSource)) {
        this.chartCreationProcessing = Uj({
          chartContainer: this.chartRef,
          chartConfig: this.config,
          options: gatherComponentOptions({ component: this }),
          globalOptions: gatherComponentGlobalOptions(this)
        });
      }
      this.chart = await this.chartCreationProcessing;
      // after creating the chart we add listeners on the feature layer and view
      // only adding them if it's the first component creation. `createChartInstance()` can be called
      // when an update failed, and in that case we don't need to add again the listeners given the view
      // or layer didn't change
      if (firstCreation === true) {
        await this.addLayerListeners();
        await this.addExtentChangeListener();
      }
    }
    catch (e) {
      // sending an event if a query failed
      if (e.name === ml$1.QueryFeaturesError) {
        this.arcgisChartsDataProcessError.emit(e.details);
      }
      // displaying the error
      this.errorAlert(e === null || e === void 0 ? void 0 : e.message);
      // disposing the chart
      (_b = this.chart) === null || _b === void 0 ? void 0 : _b.dispose();
      this.chartCreationProcessing = undefined;
      this.chart = undefined;
    }
  }
  static get assetsDirs() { return ["t9n"]; }
  get el() { return getElement(this); }
  static get watchers() { return {
    "view": ["viewChange"],
    "layer": ["layerChange"],
    "legendPosition": ["legendPositionChange"],
    "legendVisibility": ["legendVisibilityChange"]
  }; }
};
ArcGISChartsPieChart.style = arcgisChartsPieChartCss;

/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See LICENSE.md for details.
 * v1.0.0-beta.517
 */
/**
 * Updates the legend position for a given WebChart config.
 * Returns the updated config.
 * @param newLegendPosition
 * @param config
 */
function updateLegendPosition(newLegendPosition, config) {
  let updatedConfig;
  if (config !== undefined) {
    updatedConfig = Object.assign({}, config);
    if (updatedConfig.legend !== undefined)
      updatedConfig.legend.position = newLegendPosition;
  }
  return updatedConfig;
}
/**
 * Updates the legend visibility for a given WebChart config.
 * Returns the updated config.
 * @param visible
 * @param config
 */
function updateLegendVisibility(visible, config) {
  let updatedConfig;
  if (config !== undefined) {
    updatedConfig = Object.assign({}, config);
    if (updatedConfig.legend !== undefined)
      updatedConfig.legend.visible = visible;
  }
  return updatedConfig;
}
/**
 * Resets the axes bounds.
 * Returns the updated config.
 * @param config
 */
function resetAxesBounds(config) {
  var _a, _b, _c, _d, _e, _f, _g, _h;
  let updatedConfig;
  if (config !== undefined) {
    updatedConfig = Object.assign({}, config);
    (_b = (_a = updatedConfig.axes) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? true : delete _b.minimum;
    (_d = (_c = updatedConfig.axes) === null || _c === void 0 ? void 0 : _c[0]) === null || _d === void 0 ? true : delete _d.maximum;
    (_f = (_e = updatedConfig.axes) === null || _e === void 0 ? void 0 : _e[1]) === null || _f === void 0 ? true : delete _f.minimum;
    (_h = (_g = updatedConfig.axes) === null || _g === void 0 ? void 0 : _g[1]) === null || _h === void 0 ? true : delete _h.maximum;
  }
  return updatedConfig;
}
/**
 * Gathers the components' properties to build a GlobalOptions object to be used at creation or update
 * @param component The chart's component
 */
function gatherComponentGlobalOptions(component) {
  return {
    queueChartCreation: component.queueChartCreation,
    useAnimatedCharts: component.useAnimatedCharts,
    hideLicenceWatermark: component.hideLicenceWatermark,
    enableResponsiveFeatures: component.enableResponsiveFeatures,
    autoDisposeChart: component.autoDisposeChart
  };
}
/**
 * Feeds a ChartOptions object with optional properties from a component
 * @param props.chartOptions The ChartOptions object to complete
 * @param props.propertyNames The list of optional properties to add to the chart options
 * @param props.component The chart component
 * @returns
 */
function addOptionalChartOptions(props) {
  const { chartOptions, propertyNames, component } = props;
  let updatedChartOptions = chartOptions;
  // going through each property
  propertyNames.forEach((propertyName) => {
    // if the property exists on the component, we add it to the chart options
    if (propertyName in component) {
      updatedChartOptions = Object.assign(Object.assign({}, updatedChartOptions), { [propertyName]: component[propertyName] });
    }
  });
  return updatedChartOptions;
}
/**
 * Gathers the components' properties to build a ChartOptions object to be used at creation or update
 * @param props.component The chart component
 * @param props.dataUpdated The components' private property indicating whether the data was updated
 * @param props.viewExtentUpdated The components' private property indicating whether the extent was updated
 * @returns
 */
function gatherComponentOptions(props) {
  const { component, dataUpdated, viewExtentUpdated } = props;
  // adding the common properties to all the components
  // when a new property is added to all the components, it can be added to that list
  let chartOptions = {
    layer: component.layer,
    view: component.view,
    createMessage: component.placeholder,
    inlineData: component.inlineData,
    hideLoaderAnimation: component.hideLoaderAnimation,
    runtimeDataFilters: component.runtimeDataFilters,
    noDataOptions: component.noDataOptions,
    dataUpdated,
    viewExtentUpdated,
    usePopupTemplateFieldsInfo: component.usePopupTemplateFieldsInfo
  };
  // if a property is on some components and not others it can be added to this array
  const additionalProperties = [
    "chartLimits",
    "guideTooltipFormatter",
    "xAxisLabelFormatter",
    "yAxisLabelFormatter",
    "tooltipFormatter",
    "dataLabelFormatter",
    "selectionData",
    "filterBySelection",
    "disableInteractions",
    "actionMode",
    "selectionTheme",
    "gaugeInnerLabelFormatter",
    "setTimeBinningInfoWhenNotProvided",
    "ignoreSmoothRenderingLimit",
    "returnSelectionOIDs",
    "returnSelectionIndexes",
    "returnFeaturesExtent",
    "disableTogglingLegendItems"
  ];
  chartOptions = addOptionalChartOptions({
    chartOptions,
    component,
    propertyNames: additionalProperties
  });
  // adding properties that get their name transformed before being passed to the chart options
  if (component instanceof ArcGISChartsGauge) {
    chartOptions = Object.assign(Object.assign({}, chartOptions), { chartWillRender: component.chartWillRender, xAxisLabelFormatter: component.axisLabelFormatter });
  }
  else if (component instanceof ArcGISChartsPieChart) {
    chartOptions = Object.assign(Object.assign({}, chartOptions), { chartWillRender: component.chartWillRender, pieChartLegendValueLabelFormatter: component.legendValueLabelFormatter });
  }
  return chartOptions;
}
/**
 * Checks whether the provided data source is valid. The conditions are:
 * - data source is undefined
 * - OR data source is from feature layer type
 * - OR data source is from inline type and the data has been provided
 * @param inlineData The inline data provided as a prop to the component
 * @param dataSource The data source
 */
function isValidDataSource(inlineData, dataSource) {
  const validDataSource = dataSource === undefined ||
    (dataSource === null || dataSource === void 0 ? void 0 : dataSource.type) === WebChartDataSourceTypes.Layer ||
    ((inlineData === null || inlineData === void 0 ? void 0 : inlineData.inputData) !== undefined && (inlineData === null || inlineData === void 0 ? void 0 : inlineData.processed) !== undefined) ||
    ((dataSource === null || dataSource === void 0 ? void 0 : dataSource.data) !== undefined && (dataSource === null || dataSource === void 0 ? void 0 : dataSource.processed) !== undefined);
  return validDataSource;
}

export { ArcgisChartsNotifyPanel as A, lt$1 as B, dt$1 as C, DP as D, t$2 as E, FP as F, x$4 as G, c$7 as H, ut$1 as I, Rt$1 as R, Uj as U, WebChartTypes as W, X$2 as X, _$5 as _, updateLegendVisibility as a, gatherComponentGlobalOptions as b, addLayerFilterListener as c, addLayerRendererListener as d, addExtentChangeListener as e, WebChartVersionStatus as f, gatherComponentOptions as g, ArcGISChartsGauge as h, isValidDataSource as i, ArcGISChartsPieChart as j, ArcGISChartsLineChart as k, kP as l, maximumNumberOfSimultaneousUpdates as m, e$e as n, d$j as o, promise as p, l$h as q, resetAxesBounds as r, e$2 as s, t$l as t, updateLegendPosition as u, l$b as v, w$2 as w, _$4 as x, wt$1 as y, gt$1 as z };

//# sourceMappingURL=config-update-ae0c9c9e.js.map