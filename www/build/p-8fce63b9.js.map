{"version":3,"names":["a","o","r","e","i","t","Math","ceil","n","s","width","height","l","getContext","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","h","getImageData","c","Uint8Array","data","m","length","round","Float32Array","S","F","g","T","abs","max","min","d","f","M","sqrt"],"sources":["./node_modules/@arcgis/core/symbols/cim/rasterizingUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{packFloatRGBA as o}from\"../../core/floatRGBA.js\";import{nextPowerOfTwo as t}from\"../../core/mathUtils.js\";const a=o=>\"vertical\"===o||\"horizontal\"===o||\"cross\"===o||\"esriSFSCross\"===o||\"esriSFSVertical\"===o||\"esriSFSHorizontal\"===o;function r(o,r,e){const i=t(Math.ceil(e)),n=a(r)?8*i:16*i,s=2*i;o.width=n,o.height=n;const l=o.getContext(\"2d\");l.strokeStyle=\"#FFFFFF\",l.lineWidth=i,l.beginPath(),\"vertical\"!==r&&\"cross\"!==r&&\"esriSFSCross\"!==r&&\"esriSFSVertical\"!==r||(l.moveTo(n/2,-s),l.lineTo(n/2,n+s)),\"horizontal\"!==r&&\"cross\"!==r&&\"esriSFSCross\"!==r&&\"esriSFSHorizontal\"!==r||(l.moveTo(-s,n/2),l.lineTo(n+s,n/2)),\"forward-diagonal\"!==r&&\"diagonal-cross\"!==r&&\"esriSFSDiagonalCross\"!==r&&\"esriSFSForwardDiagonal\"!==r||(l.moveTo(-s,-s),l.lineTo(n+s,n+s),l.moveTo(n-s,-s),l.lineTo(n+s,s),l.moveTo(-s,n-s),l.lineTo(s,n+s)),\"backward-diagonal\"!==r&&\"diagonal-cross\"!==r&&\"esriSFSBackwardDiagonal\"!==r&&\"esriSFSDiagonalCross\"!==r||(l.moveTo(n+s,-s),l.lineTo(-s,n+s),l.moveTo(s,-s),l.lineTo(-s,s),l.moveTo(n+s,n-s),l.lineTo(n-s,n+s)),l.stroke();const h=l.getImageData(0,0,o.width,o.height),c=new Uint8Array(h.data);let m;for(let t=0;t<c.length;t+=4)m=c[t+3]/255,c[t]=c[t]*m,c[t+1]=c[t+1]*m,c[t+2]=c[t+2]*m;return[c,o.width,o.height]}function e(t,a){const r=\"Butt\"===a,e=\"Square\"===a,i=!r&&!e;t.length%2==1&&(t=[...t,...t]);const n=15.5,s=2*n;let l=0;for(const o of t)l+=o;const h=Math.round(l*n),c=new Float32Array(h*s),m=.5*n;let S=0,F=0,g=.5,T=!0;for(const o of t){for(S=F,F+=o*n;g<=F;){let o=.5;for(;o<s;){const t=(o-.5)*h+g-.5,a=i?(o-n)*(o-n):Math.abs(o-n);c[t]=T?r?Math.max(Math.max(S+m-g,a),Math.max(g-F+m,a)):a:i?Math.min((g-S)*(g-S)+a,(g-F)*(g-F)+a):e?Math.min(Math.max(g-S,a),Math.max(F-g,a)):Math.min(Math.max(g-S+m,a),Math.max(F+m-g,a)),o++}g++}T=!T}const d=c.length,f=new Uint8Array(4*d);for(let M=0;M<d;++M){const t=(i?Math.sqrt(c[M]):c[M])/n;o(t,f,4*M)}return[f,h,s]}export{e as rasterizeDash,r as rasterizeSimpleFill};\n"],"mappings":"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"}