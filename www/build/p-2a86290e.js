import{l as p,n as t,ad as s,ae as i,h as r,bm as o}from"./p-b54724b6.js";import e from"./p-7dd25b16.js";import"./p-843f0c78.js";import"./p-07f12c16.js";import"./p-570a8a46.js";import"./p-13e550f5.js";import"./p-49f0006c.js";import"./p-541ec65c.js";import"./p-5f5f43c2.js";import"./p-6ffbaa7a.js";import"./p-fc9cd10b.js";import"./p-fdc41b20.js";import"./p-ecc7ed03.js";import"./p-05938a61.js";import"./p-8043ab9b.js";import"./p-faf4e331.js";import"./p-74887bd8.js";import"./p-cd4a8b9a.js";import"./p-cae2235f.js";import"./p-9a4094ba.js";import"./p-9f1a0adc.js";import"./p-1184cc61.js";import"./p-98e621d1.js";import"./p-1b31d781.js";import"./p-f7f8e6f9.js";import"./p-a779e49b.js";import"./p-7572c366.js";import"./p-832f907c.js";import"./p-5abe9c67.js";import"./p-0856fe30.js";import"./p-a5e3ec2a.js";import"./p-80be55a5.js";import"./p-b88ddb1e.js";import"./p-8dc3148c.js";import"./p-ca5fb53c.js";import"./p-e6a64715.js";import"./p-dc29c329.js";import"./p-d7fc78fa.js";import"./p-a3f0a5f3.js";import"./p-581eca80.js";import"./p-2a2efb66.js";import"./p-1701e549.js";import"./p-07a1e707.js";import"./p-8bc47c76.js";import"./p-c19b935f.js";import"./p-c8e3775b.js";import"./p-e75aa2b5.js";import"./p-f5f26b1f.js";import"./p-783b6965.js";import"./p-52a9dec5.js";import"./p-2d1dac84.js";import"./p-a379c2ce.js";import"./p-b6ec07fb.js";import"./p-b3dc802f.js";import"./p-29040467.js";import"./p-0e94eaa4.js";import"./p-795f7c81.js";import"./p-0fe6a545.js";import"./p-1fd43aa6.js";import"./p-33c0f331.js";import"./p-5b0b1d68.js";import"./p-4f76b2d1.js";import"./p-42c332a2.js";import"./p-38e70926.js";import"./p-db174923.js";import"./p-8eafbd05.js";import"./p-399020b7.js";import"./p-50b034e8.js";import"./p-6bb7b693.js";import"./p-de65627f.js";import"./p-791e5c7c.js";import"./p-015ba93b.js";import"./p-a25d6f7d.js";import"./p-cc8b27b8.js";import"./p-58405edc.js";import"./p-30bab7e4.js";import"./p-505c1a4d.js";import"./p-a3e88624.js";import"./p-6b09cddc.js";import"./p-52324761.js";import"./p-3faf3e32.js";function m(p,t){return!p.visible||0!==p.minScale&&t>p.minScale||0!==p.maxScale&&t<p.maxScale}let j=class extends e{initialize(){this.addHandles([s((()=>this.view.scale),(()=>this._update()),i)],"constructor")}isUpdating(){const p=this.layer.sublayers.some((p=>null!=p.renderer)),t=this._commandsQueue.updating,s=null!=this._updatingRequiredFieldsPromise,i=!this._proxy||!this._proxy.isReady,o=this._pipelineIsUpdating,e=null==this.tileRenderer||this.tileRenderer?.updating,m=p&&(t||s||i||o||e);return r("esri-2d-log-updating")&&console.log(`Updating FLV2D: ${m}\n  -> hasRenderer ${p}\n  -> hasPendingCommand ${t}\n  -> updatingRequiredFields ${s}\n  -> updatingProxy ${i}\n  -> updatingPipeline ${o}\n  -> updatingTileRenderer ${e}\n`),m}_injectOverrides(p){let t=super._injectOverrides(p);const s=this.view.scale,i=this.layer.sublayers.filter((p=>m(p,s))).map((p=>p.subtypeCode));if(!i.length)return t;t=null!=t?t:(new o).toJSON();const r=`NOT ${this.layer.subtypeField} IN (${i.join(",")})`;return t.where=t.where?`(${t.where}) AND (${r})`:r,t}_setLayersForFeature(p){const t=this.layer.fieldsIndex.get(this.layer.subtypeField),s=p.attributes[t.name],i=this.layer.sublayers.find((p=>p.subtypeCode===s));p.layer=p.sourceLayer=i}_createSchemaConfig(){const p={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((p=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:p.labelingInfo,labelsVisible:p.labelsVisible,renderer:p.renderer,subtypeCode:p.subtypeCode,orderBy:null})))},t=this.layer.sublayers.map((p=>p.subtypeCode)).join(","),s=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${t})`:"1=2";let i=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return i+=s,{...super._createSchemaConfig(),...p,definitionExpression:i}}};j=p([t("esri.views.2d.layers.SubtypeGroupLayerView2D")],j);const a=j;export default a;
//# sourceMappingURL=p-2a86290e.js.map