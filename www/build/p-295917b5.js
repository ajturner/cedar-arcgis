import{u as e}from"./p-25e77904.js";class n{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding=e.KTX2_ENCODING}}function o(e){return"encoded-mesh-texture"===e?.type}async function r(e){return new Promise(((n,o)=>{const r=new Blob([e]),t=new FileReader;t.onload=()=>{const e=t.result;n(JSON.parse(e))},t.onerror=e=>{o(e)},t.readAsText(r)}))}async function t(o,r){return r===e.KTX2_ENCODING?new n(o):new Promise(((e,n)=>{const t=new Blob([o],{type:r}),s=URL.createObjectURL(t),c=new Image,i=()=>{URL.revokeObjectURL(s),"decode"in c?c.decode().then((()=>e(c)),(()=>e(c))).then(u):(e(c),u())},d=e=>{URL.revokeObjectURL(s),n(e),u()},u=()=>{c.removeEventListener("load",i),c.removeEventListener("error",d)};c.addEventListener("load",i),c.addEventListener("error",d),c.src=s}))}export{n,t as o,r,o as t};
//# sourceMappingURL=p-295917b5.js.map