function e(e){return"function"==typeof e}function t(t,r,n,o){return e(t)?t(r,n,o):t}const r=" /-,\n";function n(e){let t=e.length;for(;t--;)if(!r.includes(e.charAt(t)))return!1;return!0}function o(e,t){const r=[];let o=0,i=-1;do{if(i=e.indexOf("[",o),i>=o){if(i>o){const t=e.substr(o,i-o);r.push([t,null,n(t)])}if(o=i+1,i=e.indexOf("]",o),i>=o){if(i>o){const n=t[e.substr(o,i-o)];n&&r.push([null,n,!1])}o=i+1}}}while(-1!==i);if(o<e.length-1){const t=e.substr(o);r.push([t,null,n(t)])}return r}function i(e,t,r){let n="",o=null;for(const r of t){const[t,i,c]=r;if(t)c?o=t:(o&&(n+=o,o=null),n+=t);else{const t=e.attributes[i];t&&(o&&(n+=o,o=null),n+=t)}}return a(n,r)}function c(e,t,r){const n=o(t,e);return e=>i(e,n,r)}function a(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function l(e,t,r,n,o,i,c=!0){const a=t/o,l=r/i,u=Math.ceil(a/2),s=Math.ceil(l/2);for(let r=0;r<i;r++)for(let f=0;f<o;f++){const M=4*(f+(c?i-r-1:r)*o);let C=0,m=0,I=0,b=0,h=0,d=0,S=0;const k=(r+.5)*l;for(let n=Math.floor(r*l);n<(r+1)*l;n++){const r=Math.abs(k-(n+.5))/s,o=(f+.5)*a,i=r*r;for(let r=Math.floor(f*a);r<(f+1)*a;r++){let c=Math.abs(o-(r+.5))/u;const a=Math.sqrt(i+c*c);a>=-1&&a<=1&&(C=2*a*a*a-3*a*a+1,C>0&&(c=4*(r+n*t),S+=C*e[c+3],I+=C,e[c+3]<255&&(C=C*e[c+3]/250),b+=C*e[c],h+=C*e[c+1],d+=C*e[c+2],m+=C))}}n[M]=b/m,n[M+1]=h/m,n[M+2]=d/m,n[M+3]=S/I}}function u(e){return e?{r:e[0],g:e[1],b:e[2],a:e[3]/255}:{r:0,g:0,b:0,a:0}}function s(e){return e.data?.symbol??null}function f(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function M(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function C(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const m=(e,t=0)=>null==e||isNaN(e)?t:e,I=e=>e.tintColor?u(e.tintColor):{r:255,g:255,b:255,a:1},b=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectOffset":case"CIMGeometricEffectDonut":return!0}return!1};function h(){return import("./p-6055feb8.js")}function d(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function S(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function k(e){let t="normal",r="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?r="bold":n.includes("light")&&(r="lighter")}return{style:t,weight:r}}function g(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function y(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=y(t);if(null!=e)return e}break;case"CIMTextSymbol":return y(e.symbol);case"CIMSolidFill":return e.color}}function P(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=P(e);if(null!=t)return t}break}case"CIMTextSymbol":return P(e.symbol);case"CIMSolidStroke":return e.color}}function p(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=p(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return p(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function w(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function L(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function A(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const x=e=>e.includes("data:image/svg+xml");export{A,x as F,L as G,h as I,p as L,M,y as P,k as S,l as a,m as b,c,b as d,e,s as f,S as g,d as h,o as i,g as k,i as l,C as m,I as p,a as s,t,u,P as w,w as x,f as y};
//# sourceMappingURL=p-ecc7ed03.js.map