import{E as e,S as r}from"./p-7dc0ec82.js";import{A as t,g as a,_ as n}from"./p-220b11a0.js";import"./p-98455486.js";import"./p-0e94eaa4.js";import"./p-13e550f5.js";import"./p-795f7c81.js";function s(e){if("line-marker"===e.type){return{type:"line-marker",color:e.color?.toJSON(),placement:e.placement,style:e.style}}return e.constructor.fromJSON(e.toJSON()).toJSON()}function i(e){return t(e)}function l(e,r,t=!1){if(!e)return null;switch(e.type){case"simple-fill":case"picture-fill":return o(e,r,t);case"simple-marker":case"picture-marker":return u(e,r,t);case"simple-line":return m(e,r,t);case"text":return p(e,r,t);case"label":return c(e,r,t);case"cim":return{type:"cim",rendererKey:r.vvFlags,data:e.data,maxVVSize:r.maxVVSize};case"CIMSymbolReference":return{type:"cim",rendererKey:r.vvFlags,data:e,maxVVSize:r.maxVVSize};case"web-style":return{...s(e),type:"web-style",hash:e.hash(),rendererKey:r.vvFlags,maxVVSize:r.maxVVSize};default:throw new Error(`symbol not supported ${e.type}`)}}function c(r,t,n){const s=r.toJSON(),l=a(e.LABEL,{...t,placement:s.labelPlacement});return{materialKey:n?i(l):l,hash:r.hash(),...s,labelPlacement:s.labelPlacement}}function o(r,t,l){const c=a(e.FILL,t),o=l?i(c):c,m=r.clone(),u=m.outline,p=n(t.symbologyType);p||(m.outline=null);const y={materialKey:o,hash:m.hash(),...s(m)};if(p)return y;const h=[];if(h.push(y),u){const r=a(e.LINE,{...t,isOutline:!0}),n={materialKey:l?i(r):r,hash:u.hash(),...s(u)};h.push(n)}return{type:"composite-symbol",layers:h,hash:h.reduce(((e,r)=>r.hash+e),"")}}function m(t,l,c){const o=n(l.symbologyType)?r.DEFAULT:l.symbologyType,m=a(e.LINE,{...l,symbologyType:o}),u=c?i(m):m,p=t.clone(),y=p.marker;p.marker=null;const h=[];if(h.push({materialKey:u,hash:p.hash(),...s(p)}),y){const r=a(e.MARKER,l),t=c?i(r):r;y.color=y.color??p.color,h.push({materialKey:t,hash:y.hash(),lineWidth:p.width,...s(y)})}return{type:"composite-symbol",layers:h,hash:h.reduce(((e,r)=>r.hash+e),"")}}function u(r,t,n){const l=a(e.MARKER,t),c=n?i(l):l,o=s(r);return{materialKey:c,hash:r.hash(),...o,angle:r.angle,maxVVSize:t.maxVVSize}}function p(r,t,n){const l=a(e.TEXT,t),c=n?i(l):l,o=s(r);return{materialKey:c,hash:r.hash(),...o,angle:r.angle,maxVVSize:t.maxVVSize}}export{l as createSymbolSchema};
//# sourceMappingURL=p-83c727f2.js.map