{"version":3,"names":["o","constructor","this","code","description","l","e","error","globalId","objectId","success","uniqueId","u","a","c","f","Set","d","i","r","s","clear","get","m","push","name","message","details","field","originalValue","sanitizedValue","add","editable","t","n","requiredFields","has","parseFloat","String","p","h","TypeError","simplify","async","g","import","y"],"sources":["./node_modules/@arcgis/core/layers/graphics/sources/support/sourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isValid as e}from\"../../../../geometry/support/spatialReferenceUtils.js\";import{validateFieldValue as t,validationErrorToString as n,isNumericField as i,isStringField as r,sanitizeNullFieldValue as s}from\"../../../support/fieldUtils.js\";class o{constructor(){this.code=null,this.description=null}}class l{constructor(e){this.error=new o,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=e}}function u(e){return new l(e)}class a{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new a(e)}const f=new Set;function d(e,i,r,s=!1,o){f.clear();for(const l in r){const a=e.get(l);if(!a)continue;const c=r[l],d=m(a,c);if(d!==c&&o&&o.push({name:\"invalid-value-type\",message:\"attribute value was converted to match the field type\",details:{field:a,originalValue:c,sanitizedValue:d}}),f.add(a.name),a&&(s||a.editable)){const e=t(a,d);if(e)return u(n(e,a,d));i[a.name]=d}}for(const t of e?.requiredFields??[])if(!f.has(t.name))return u(`missing required field \"${t.name}\"`);return null}function m(e,t){let n=t;return\"string\"==typeof t&&i(e)?n=parseFloat(t):null!=t&&r(e)&&\"string\"!=typeof t&&(n=String(t)),s(n)}let p;function h(t,n){if(!t||!e(n))return t;if(\"rings\"in t||\"paths\"in t){if(null==p)throw new TypeError(\"geometry engine not loaded\");return p.simplify(n,t)}return t}async function g(){return null==p&&(p=await import(\"../../../../geometry/geometryEngineJSON.js\")),p}async function y(t,n){!e(t)||\"esriGeometryPolygon\"!==n&&\"esriGeometryPolyline\"!==n||await g()}export{u as createFeatureEditErrorResult,c as createFeatureEditSuccessResult,y as loadGeometryEngineForSimplify,d as mixAttributes,h as simplify};\n"],"mappings":"2EAIoP,MAAMA,EAAEC,cAAcC,KAAKC,KAAK,KAAKD,KAAKE,YAAY,IAAI,EAAE,MAAMC,EAAEJ,YAAYK,GAAGJ,KAAKK,MAAM,IAAIP,EAAEE,KAAKM,SAAS,KAAKN,KAAKO,SAAS,KAAKP,KAAKQ,SAAS,EAAER,KAAKS,SAAS,KAAKT,KAAKK,MAAMH,YAAYE,CAAC,EAAE,SAASM,EAAEN,GAAG,OAAO,IAAID,EAAEC,EAAE,CAAC,MAAMO,EAAEZ,YAAYK,GAAGJ,KAAKM,SAAS,KAAKN,KAAKQ,SAAS,EAAER,KAAKO,SAASP,KAAKS,SAASL,CAAC,EAAE,SAASQ,EAAER,GAAG,OAAO,IAAIO,EAAEP,EAAE,CAAC,MAAMS,EAAE,IAAIC,IAAI,SAASC,EAAEX,EAAEY,EAAEC,EAAEC,GAAG,EAAEpB,GAAGe,EAAEM,QAAQ,IAAI,MAAMhB,KAAKc,EAAE,CAAC,MAAMN,EAAEP,EAAEgB,IAAIjB,GAAG,IAAIQ,EAAE,SAAS,MAAMC,EAAEK,EAAEd,GAAGY,EAAEM,EAAEV,EAAEC,GAAG,GAAGG,IAAIH,GAAGd,GAAGA,EAAEwB,KAAK,CAACC,KAAK,qBAAqBC,QAAQ,wDAAwDC,QAAQ,CAACC,MAAMf,EAAEgB,cAAcf,EAAEgB,eAAeb,KAAKF,EAAEgB,IAAIlB,EAAEY,MAAMZ,IAAIO,GAAGP,EAAEmB,UAAU,CAAC,MAAM1B,EAAE2B,EAAEpB,EAAEI,GAAG,GAAGX,EAAE,OAAOM,EAAEsB,EAAE5B,EAAEO,EAAEI,IAAIC,EAAEL,EAAEY,MAAMR,CAAC,CAAC,CAAC,IAAI,MAAMgB,KAAK3B,GAAG6B,gBAAgB,GAAG,IAAIpB,EAAEqB,IAAIH,EAAER,MAAM,OAAOb,EAAE,2BAA2BqB,EAAER,SAAS,OAAO,IAAI,CAAC,SAASF,EAAEjB,EAAE2B,GAAG,IAAIC,EAAED,EAAE,MAAM,iBAAiBA,GAAGf,EAAEZ,GAAG4B,EAAEG,WAAWJ,GAAG,MAAMA,GAAGd,EAAEb,IAAI,iBAAiB2B,IAAIC,EAAEI,OAAOL,IAAIb,EAAEc,EAAE,CAAC,IAAIK,EAAE,SAASC,EAAEP,EAAEC,GAAG,IAAID,IAAI3B,EAAE4B,GAAG,OAAOD,EAAE,GAAG,UAAUA,GAAG,UAAUA,EAAE,CAAC,GAAG,MAAMM,EAAE,MAAM,IAAIE,UAAU,8BAA8B,OAAOF,EAAEG,SAASR,EAAED,EAAE,CAAC,OAAOA,CAAC,CAACU,eAAeC,IAAI,OAAO,MAAML,IAAIA,QAAQM,OAAO,oBAA+CN,CAAC,CAACI,eAAeG,EAAEb,EAAEC,IAAI5B,EAAE2B,IAAI,wBAAwBC,GAAG,yBAAyBA,SAASU,GAAG,Q"}