import{f as n}from"./p-783b6965.js";import{n as e}from"./p-0c70c0e2.js";import{P as u,G as t,U as r,L as a,D as c,c as o}from"./p-13e550f5.js";import{T as s,b as i}from"./p-7099a764.js";function f(n,o,f="nearest",l=!1){const _=!(l&&"u8"===o.pixelType),m=_?r.FLOAT:r.UNSIGNED_BYTE,p=null==o.pixels||0===o.pixels.length?null:_?o.getAsRGBAFloat():o.getAsRGBA(),b=n.capabilities.textureFloat?.textureFloatLinear,k=new i;return k.width=o.width,k.height=o.height,k.internalFormat=n.type===e.WEBGL2&&_?u.RGBA32F:t.RGBA,k.samplingMode=!b||"bilinear"!==f&&"cubic"!==f?a.NEAREST:a.LINEAR,k.dataType=m,k.wrapMode=c.CLAMP_TO_EDGE,new s(n,k,p)}function l(n,o){const{spacing:f,offsets:l,coefficients:_,size:[m,p]}=o,b=f[0]>1,k=new i;k.width=b?4*m:m,k.height=p,k.internalFormat=n.type===e.WEBGL2?u.RGBA32F:t.RGBA,k.dataType=r.FLOAT,k.samplingMode=a.NEAREST,k.wrapMode=c.CLAMP_TO_EDGE;const w=new Float32Array(b?m*p*16:2*l.length);if(b&&null!=_)for(let n=0,e=0;n<_.length;n++)w[e++]=_[n],n%3==2&&(w[e++]=1);else for(let n=0;n<p;n++)for(let e=0;e<m;e++){const u=4*(n*m+e),t=2*(e*p+n);w[u]=l[t],w[u+1]=l[t+1],w[u+3]=-1===l[t]?0:1}return new s(n,k,w)}function _(n,e){const u=new i;return u.internalFormat=t.RGBA,u.width=e.length/4,u.height=1,u.samplingMode=a.NEAREST,u.wrapMode=c.CLAMP_TO_EDGE,new s(n,u,e)}function m(e,u,t,r=1,a=!0){return{u_flipY:a,u_applyTransform:!!e,u_opacity:r,u_transformSpacing:e?e.spacing:n,u_transformGridSize:e?e.size:n,u_targetImageSize:u,u_srcImageSize:t}}function p(n,e){return{u_colormapOffset:e||0,u_colormapMaxIndex:n?n.length/4-1:0}}function b(n,e){return{u_scale:n,u_offset:e}}function k(n){return{u_bandCount:n.bandCount,u_minOutput:n.outMin,u_maxOutput:n.outMax,u_minCutOff:n.minCutOff,u_maxCutOff:n.maxCutOff,u_factor:n.factor,u_useGamma:n.useGamma,u_gamma:n.gamma,u_gammaCorrection:n.gammaCorrection}}function w(n){return{u_hillshadeType:n.hillshadeType,u_sinZcosAs:n.sinZcosAs,u_sinZsinAs:n.sinZsinAs,u_cosZs:n.cosZs,u_weights:n.weights,u_factor:n.factor,u_minValue:n.minValue,u_maxValue:n.maxValue}}function g(n,e){const u=n.gl,t=e.glName,r=new Map;if(null==t)return r;const a=u.getProgramParameter(t,u.ACTIVE_UNIFORMS);let c;for(let n=0;n<a;n++)c=u.getActiveUniform(t,n),c&&r.set(c.name,{location:u.getUniformLocation(t,c.name),info:c});return r}function x(n,e,u){Object.keys(u).forEach((t=>{const r=e.get(t)||e.get(t+"[0]");r&&d(n,t,u[t],r)}))}function O(n,e,u,t){u.length===t.length&&(t.some((n=>null==n))||u.some((n=>null==n))||u.forEach(((u,r)=>{e.setUniform1i(u,r),n.bindTexture(t[r],r)})))}function d(n,e,u,t){if(null===t||null==u)return!1;const{info:r}=t;switch(r.type){case o.FLOAT:r.size>1?n.setUniform1fv(e,u):n.setUniform1f(e,u);break;case o.FLOAT_VEC2:n.setUniform2fv(e,u);break;case o.FLOAT_VEC3:n.setUniform3fv(e,u);break;case o.FLOAT_VEC4:n.setUniform4fv(e,u);break;case o.FLOAT_MAT3:n.setUniformMatrix3fv(e,u);break;case o.FLOAT_MAT4:n.setUniformMatrix4fv(e,u);break;case o.INT:r.size>1?n.setUniform1iv(e,u):n.setUniform1i(e,u);break;case o.BOOL:n.setUniform1i(e,u?1:0);break;case o.INT_VEC2:case o.BOOL_VEC2:n.setUniform2iv(e,u);break;case o.INT_VEC3:case o.BOOL_VEC3:n.setUniform3iv(e,u);break;case o.INT_VEC4:case o.BOOL_VEC4:n.setUniform4iv(e,u);break;default:return!1}return!0}export{k as A,x as E,O,w as T,m as _,f as c,b as g,g as h,_ as l,l as m,p};
//# sourceMappingURL=p-9db7bcde.js.map