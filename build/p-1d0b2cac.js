import{hD as t,hE as e,j as o}from"./p-98455486.js";import{t as n}from"./p-dfd7ee02.js";import{l as r}from"./p-9803a24d.js";import"./p-14843b2a.js";import"./p-ffb89da5.js";import"./p-da8336be.js";import"./p-1172b129.js";import"./p-e6a64715.js";import"./p-dc29c329.js";function s(t){const e=t.toJSON();return e.attachmentTypes&&(e.attachmentTypes=e.attachmentTypes.join(",")),e.keywords&&(e.keywords=e.keywords.join(",")),e.globalIds&&(e.globalIds=e.globalIds.join(",")),e.objectIds&&(e.objectIds=e.objectIds.join(",")),e.size&&(e.size=e.size.join(",")),e}function a(o,n){const s={};for(const a of n){const{parentObjectId:n,parentGlobalId:c,attachmentInfos:p}=a;for(const a of p){const{id:p}=a,m=t(e(`${o.path}/${n}/attachments/${p}`)),f=r.fromJSON(a);f.set({url:m,parentObjectId:n,parentGlobalId:c}),s[n]?s[n].push(f):s[n]=[f]}}return s}function c(t,e,r){let a={query:n({...t.query,f:"json",...s(e)})};return r&&(a={...r,...a,query:{...r.query,...a.query}}),o(t.path+"/queryAttachments",a).then((t=>t.data.attachmentGroups))}async function p(t,e,n){const{objectIds:r}=e,s=[];for(const e of r)s.push(o(t.path+"/"+e+"/attachments",n));return Promise.all(s).then((t=>r.map(((e,o)=>({parentObjectId:e,attachmentInfos:t[o].data.attachmentInfos})))))}export{c as executeAttachmentQuery,p as fetchAttachments,a as processAttachmentQueryResult};
//# sourceMappingURL=p-1d0b2cac.js.map