{"version":3,"names":["r","s","constructor","t","i","a","n","m","super","this","bitmap","e","coordScale","once","ready","destroy","beforeRender","afterRender","stencilRef","_createTransforms","dvs","tileMat3","setTransform","transforms","onAttach","stage","onDetach","requiresDedicatedFBO","children","some","blendFunction","createTile","_tileInfoView","getTileBounds","getTileResolution","level","o","tileInfo","size","prepareRenderPasses","registerRenderPass","name","brushes","target","map","drawPhase","MAP","doRender","visible"],"sources":["./node_modules/@arcgis/core/views/2d/engine/BitmapTile.js","./node_modules/@arcgis/core/views/2d/engine/BitmapTileContainer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{c as t}from\"../../../chunks/mat3f32.js\";import{Bitmap as e}from\"./Bitmap.js\";import{TiledDisplayObject as s}from\"./webgl/TiledDisplayObject.js\";class r extends s{constructor(t,s,r,i,a,n,m=null){super(t,s,r,i,a,n),this.bitmap=new e(m),this.bitmap.coordScale=[a,n],this.bitmap.once(\"isReady\",(()=>this.ready()))}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){super.beforeRender(t),this.bitmap.beforeRender(t)}afterRender(t){super.afterRender(t),this.bitmap.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{dvs:t(),tileMat3:t()}}setTransform(t){super.setTransform(t),this.bitmap.transforms.dvs=this.transforms.dvs}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}export{r as BitmapTile};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{create as e}from\"../../../geometry/support/aaBoundingRect.js\";import{BitmapTile as i}from\"./BitmapTile.js\";import{brushes as r}from\"./brushes.js\";import{WGLDrawPhase as t}from\"./webgl/enums.js\";import s from\"./webgl/TileContainer.js\";class n extends s{get requiresDedicatedFBO(){return this.children.some((e=>\"additive\"===e.bitmap.blendFunction))}createTile(r){const t=this._tileInfoView.getTileBounds(e(),r),s=this._tileInfoView.getTileResolution(r.level),[n,o]=this._tileInfoView.tileInfo.size;return new i(r,s,t[0],t[3],n,o)}prepareRenderPasses(e){const i=e.registerRenderPass({name:\"bitmap (tile)\",brushes:[r.bitmap],target:()=>this.children.map((e=>e.bitmap)),drawPhase:t.MAP});return[...super.prepareRenderPasses(e),i]}doRender(e){this.visible&&e.drawPhase===t.MAP&&super.doRender(e)}}export{n as BitmapTileContainer};\n"],"mappings":"wPAIuJ,MAAMA,UAAUC,EAAEC,YAAYC,EAAEF,EAAED,EAAEI,EAAEC,EAAEC,EAAEC,EAAE,MAAMC,MAAML,EAAEF,EAAED,EAAEI,EAAEC,EAAEC,GAAGG,KAAKC,OAAO,IAAIC,EAAEJ,GAAGE,KAAKC,OAAOE,WAAW,CAACP,EAAEC,GAAGG,KAAKC,OAAOG,KAAK,WAAS,IAAMJ,KAAKK,SAAS,CAACC,UAAUP,MAAMO,UAAUN,KAAKC,OAAOK,SAAS,CAACC,aAAab,GAAGK,MAAMQ,aAAab,GAAGM,KAAKC,OAAOM,aAAab,EAAE,CAACc,YAAYd,GAAGK,MAAMS,YAAYd,GAAGM,KAAKC,OAAOO,YAAYd,EAAE,CAAKe,eAAWf,GAAGM,KAAKC,OAAOQ,WAAWf,CAAC,CAAKe,iBAAa,OAAOT,KAAKC,OAAOQ,UAAU,CAACC,oBAAoB,MAAM,CAACC,IAAIjB,IAAIkB,SAASlB,IAAI,CAACmB,aAAanB,GAAGK,MAAMc,aAAanB,GAAGM,KAAKC,OAAOa,WAAWH,IAAIX,KAAKc,WAAWH,GAAG,CAACI,WAAWf,KAAKC,OAAOe,MAAMhB,KAAKgB,KAAK,CAACC,WAAWjB,KAAKC,SAASD,KAAKC,OAAOe,MAAM,KAAK,ECArjB,MAAMnB,UAAUL,EAAM0B,2BAAuB,OAAOlB,KAAKmB,SAASC,MAAMlB,GAAG,aAAaA,EAAED,OAAOoB,eAAe,CAACC,WAAW/B,GAAG,MAAMG,EAAEM,KAAKuB,cAAcC,cAActB,IAAIX,GAAGC,EAAEQ,KAAKuB,cAAcE,kBAAkBlC,EAAEmC,QAAQ7B,EAAE8B,GAAG3B,KAAKuB,cAAcK,SAASC,KAAK,OAAO,IAAIlC,EAAEJ,EAAEC,EAAEE,EAAE,GAAGA,EAAE,GAAGG,EAAE8B,EAAE,CAACG,oBAAoB5B,GAAG,MAAMP,EAAEO,EAAE6B,mBAAmB,CAACC,KAAK,gBAAgBC,QAAQ,CAAC1C,EAAEU,QAAQiC,OAAO,IAAIlC,KAAKmB,SAASgB,KAAKjC,GAAGA,EAAED,SAASmC,UAAU1C,EAAE2C,MAAM,MAAM,IAAItC,MAAM+B,oBAAoB5B,GAAGP,EAAE,CAAC2C,SAASpC,GAAGF,KAAKuC,SAASrC,EAAEkC,YAAY1C,EAAE2C,KAAKtC,MAAMuC,SAASpC,EAAE,S"}