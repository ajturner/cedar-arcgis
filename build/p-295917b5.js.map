{"version":3,"names":["n","constructor","this","data","type","encoding","e","KTX2_ENCODING","t","async","r","Promise","Blob","o","FileReader","onload","result","JSON","parse","onerror","readAsText","s","URL","createObjectURL","c","Image","d","revokeObjectURL","decode","then","a","i","removeEventListener","addEventListener","src"],"sources":["./node_modules/@arcgis/core/views/3d/glTF/internal/resourceUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{TextureEncodingMimeType as e}from\"../../webgl-engine/lib/basicInterfaces.js\";class n{constructor(n){this.data=n,this.type=\"encoded-mesh-texture\",this.encoding=e.KTX2_ENCODING}}function t(e){return\"encoded-mesh-texture\"===e?.type}async function r(e){return new Promise(((n,t)=>{const r=new Blob([e]),o=new FileReader;o.onload=()=>{const e=o.result;n(JSON.parse(e))},o.onerror=e=>{t(e)},o.readAsText(r)}))}async function o(t,r){return r===e.KTX2_ENCODING?new n(t):new Promise(((e,n)=>{const o=new Blob([t],{type:r}),s=URL.createObjectURL(o),c=new Image,d=()=>{URL.revokeObjectURL(s),\"decode\"in c?c.decode().then((()=>e(c)),(()=>e(c))).then(a):(e(c),a())},i=e=>{URL.revokeObjectURL(s),n(e),a()},a=()=>{c.removeEventListener(\"load\",d),c.removeEventListener(\"error\",i)};c.addEventListener(\"load\",d),c.addEventListener(\"error\",i),c.src=s}))}export{n as EncodedMeshTexture,o as imageFromBinaryData,t as isEncodedMeshTexture,r as jsonFromBinaryData};\n"],"mappings":"oCAIoF,MAAMA,EAAEC,YAAYD,GAAGE,KAAKC,KAAKH,EAAEE,KAAKE,KAAK,uBAAuBF,KAAKG,SAASC,EAAEC,aAAa,EAAE,SAASC,EAAEF,GAAG,MAAM,yBAAyBA,GAAGF,IAAI,CAACK,eAAeC,EAAEJ,GAAG,OAAO,IAAIK,SAAO,CAAGX,EAAEQ,KAAK,MAAME,EAAE,IAAIE,KAAK,CAACN,IAAIO,EAAE,IAAIC,WAAWD,EAAEE,OAAO,KAAK,MAAMT,EAAEO,EAAEG,OAAOhB,EAAEiB,KAAKC,MAAMZ,GAAE,EAAGO,EAAEM,QAAQb,IAAIE,EAAEF,EAAC,EAAGO,EAAEO,WAAWV,EAAG,GAAE,CAACD,eAAeI,EAAEL,EAAEE,GAAG,OAAOA,IAAIJ,EAAEC,cAAc,IAAIP,EAAEQ,GAAG,IAAIG,SAAO,CAAGL,EAAEN,KAAK,MAAMa,EAAE,IAAID,KAAK,CAACJ,GAAG,CAACJ,KAAKM,IAAIW,EAAEC,IAAIC,gBAAgBV,GAAGW,EAAE,IAAIC,MAAMC,EAAE,KAAKJ,IAAIK,gBAAgBN,GAAG,WAAWG,EAAEA,EAAEI,SAASC,MAAI,IAAMvB,EAAEkB,KAAE,IAAOlB,EAAEkB,KAAKK,KAAKC,IAAIxB,EAAEkB,GAAGM,IAAG,EAAGC,EAAEzB,IAAIgB,IAAIK,gBAAgBN,GAAGrB,EAAEM,GAAGwB,GAAC,EAAIA,EAAE,KAAKN,EAAEQ,oBAAoB,OAAON,GAAGF,EAAEQ,oBAAoB,QAAQD,EAAC,EAAGP,EAAES,iBAAiB,OAAOP,GAAGF,EAAES,iBAAiB,QAAQF,GAAGP,EAAEU,IAAIb,CAAE,GAAE,Q"}