{"version":3,"names":["i","o","constructor","t","super","this","getCollections","initialize","own","s","_refresh","destroy","removeAll","_processCollection","splice","length","_createNewInstance","itemFilterFunction","e","indexOf","reorder","add","getChildrenFunction","Array","isArray","prototype","r","n"],"sources":["./node_modules/@arcgis/core/core/CollectionFlattener.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import o from\"./Collection.js\";import\"./Error.js\";import\"./Logger.js\";import\"./accessorSupport/watch.js\";import{autorun as s}from\"./accessorSupport/trackingUtils.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as r}from\"./accessorSupport/decorators/subclass.js\";let i=class extends o{constructor(t){super(t),this.getCollections=null}initialize(){this.own(s((()=>this._refresh())))}destroy(){this.getCollections=null}_refresh(){const t=null!=this.getCollections?this.getCollections():null;if(null==t)return void this.removeAll();let o=0;for(const s of t)null!=s&&(o=this._processCollection(o,s));this.splice(o,this.length)}_createNewInstance(t){return new o(t)}_processCollection(t,o){if(!o)return t;const s=this.itemFilterFunction??(t=>!!t);for(const e of o)if(e){if(s(e)){const o=this.indexOf(e,t);o>=0?o!==t&&this.reorder(e,t):this.add(e,t),++t}if(this.getChildrenFunction){const o=this.getChildrenFunction(e);if(Array.isArray(o))for(const s of o)t=this._processCollection(t,s);else t=this._processCollection(t,o)}}return t}};t([e()],i.prototype,\"getCollections\",void 0),t([e()],i.prototype,\"getChildrenFunction\",void 0),t([e()],i.prototype,\"itemFilterFunction\",void 0),i=t([r(\"esri.core.CollectionFlattener\")],i);const n=i;export{n as default};\n"],"mappings":"iEAIyV,IAAIA,EAAE,cAAcC,EAAEC,YAAYC,GAAGC,MAAMD,GAAGE,KAAKC,eAAe,IAAI,CAACC,aAAaF,KAAKG,IAAIC,GAAC,IAAMJ,KAAKK,aAAa,CAACC,UAAUN,KAAKC,eAAe,IAAI,CAACI,WAAW,MAAMP,EAAE,MAAME,KAAKC,eAAeD,KAAKC,iBAAiB,KAAK,GAAG,MAAMH,EAAE,YAAYE,KAAKO,YAAY,IAAIX,EAAE,EAAE,IAAI,MAAMQ,KAAKN,EAAE,MAAMM,IAAIR,EAAEI,KAAKQ,mBAAmBZ,EAAEQ,IAAIJ,KAAKS,OAAOb,EAAEI,KAAKU,OAAO,CAACC,mBAAmBb,GAAG,OAAO,IAAIF,EAAEE,EAAE,CAACU,mBAAmBV,EAAEF,GAAG,IAAIA,EAAE,OAAOE,EAAE,MAAMM,EAAEJ,KAAKY,oBAAkB,CAAGd,KAAKA,GAAG,IAAI,MAAMe,KAAKjB,EAAE,GAAGiB,EAAE,CAAC,GAAGT,EAAES,GAAG,CAAC,MAAMjB,EAAEI,KAAKc,QAAQD,EAAEf,GAAGF,GAAG,EAAEA,IAAIE,GAAGE,KAAKe,QAAQF,EAAEf,GAAGE,KAAKgB,IAAIH,EAAEf,KAAKA,CAAC,CAAC,GAAGE,KAAKiB,oBAAoB,CAAC,MAAMrB,EAAEI,KAAKiB,oBAAoBJ,GAAG,GAAGK,MAAMC,QAAQvB,GAAG,IAAI,MAAMQ,KAAKR,EAAEE,EAAEE,KAAKQ,mBAAmBV,EAAEM,QAAQN,EAAEE,KAAKQ,mBAAmBV,EAAEF,EAAE,CAAC,CAAC,OAAOE,CAAC,GAAGA,EAAE,CAACe,KAAKlB,EAAEyB,UAAU,sBAAsB,GAAGtB,EAAE,CAACe,KAAKlB,EAAEyB,UAAU,2BAA2B,GAAGtB,EAAE,CAACe,KAAKlB,EAAEyB,UAAU,0BAA0B,GAAGzB,EAAEG,EAAE,CAACuB,EAAE,kCAAkC1B,GAAQ,MAAC2B,EAAE3B,S"}