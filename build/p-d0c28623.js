import{ac as p,ad as t,M as s,V as i,hp as o,t as r,hq as m,k as a,n as j}from"./p-98455486.js";import{f as e,d as c}from"./p-f7917469.js";import{i as b}from"./p-71431ad3.js";import{o as f}from"./p-bd7f9fc7.js";import"./p-5572f01a.js";import"./p-07f12c16.js";import"./p-1abe3c64.js";import"./p-13e550f5.js";import"./p-7099a764.js";import"./p-0c70c0e2.js";import"./p-d46be2b1.js";import"./p-fc9cd10b.js";import"./p-4f27d9ab.js";import"./p-ecc7ed03.js";import"./p-c5929b55.js";import"./p-8043ab9b.js";import"./p-4cbc7b66.js";import"./p-3a9bb31c.js";import"./p-f5452a6b.js";import"./p-8b2bb530.js";import"./p-9a4094ba.js";import"./p-9f1a0adc.js";import"./p-a9fef357.js";import"./p-0d2202fd.js";import"./p-f33b44a5.js";import"./p-e91d9d8d.js";import"./p-e22a21a4.js";import"./p-958a5da8.js";import"./p-fcbd27c0.js";import"./p-5abe9c67.js";import"./p-66f65b6a.js";import"./p-14843b2a.js";import"./p-ffb89da5.js";import"./p-dfd7ee02.js";import"./p-da8336be.js";import"./p-1172b129.js";import"./p-e6a64715.js";import"./p-dc29c329.js";import"./p-0fdabe4a.js";import"./p-8399f9e1.js";import"./p-9803a24d.js";import"./p-b15bfa44.js";import"./p-baa730bb.js";import"./p-e1758a64.js";import"./p-ec443a8b.js";import"./p-f4b056c3.js";import"./p-6133cc0f.js";import"./p-e75aa2b5.js";import"./p-f5f26b1f.js";import"./p-783b6965.js";import"./p-b8afab55.js";import"./p-2d1dac84.js";import"./p-c782b111.js";import"./p-7dc0ec82.js";import"./p-0e94eaa4.js";import"./p-795f7c81.js";import"./p-4a6353a7.js";import"./p-238fbe63.js";import"./p-af5dfb20.js";import"./p-cc77f67d.js";import"./p-ed1a11ab.js";import"./p-908b7a05.js";import"./p-620ed352.js";import"./p-220b11a0.js";import"./p-4f76b2d1.js";import"./p-42c332a2.js";import"./p-38e70926.js";import"./p-69ec1c26.js";import"./p-83c727f2.js";import"./p-2b6b8db8.js";import"./p-50b034e8.js";import"./p-6bb7b693.js";import"./p-de65627f.js";import"./p-a3c11f30.js";import"./p-a18c7841.js";import"./p-1382d09e.js";import"./p-b4b7d6a0.js";import"./p-b0610ac0.js";import"./p-073c3089.js";import"./p-c6ce33a2.js";import"./p-eda79132.js";import"./p-5977fcaf.js";import"./p-eeca6bc1.js";import"./p-21ae9bf7.js";import"./p-aedab47c.js";import"./p-f705ab94.js";import"./p-3c3976eb.js";import"./p-623dbe5e.js";let h=class extends(e(c)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}async hitTest(p,t){if(!this.graphicsViews.length)return null;const s=this.layer;return this.graphicsViews.reverse().map((t=>{const i=this._popupTemplates.get(t),o=t.hitTest(p);for(const p of o)p.layer=s,p.sourceLayer=s,p.popupTemplate=i;return o})).flat().map((t=>({type:"graphic",graphic:t,layer:s,mapPoint:p})))}update(p){if(this.graphicsViews)for(const t of this.graphicsViews)t.processUpdate(p)}attach(){this.addAttachHandles([p((()=>this.layer?.featureCollections),(p=>{this._clear();for(const{popupInfo:t,featureSet:m,layerDefinition:a}of p){const p=s.fromJSON(m),j=new i(p.features),e=a.drawingInfo,c=t?o.fromJSON(t):null,h=r(e.renderer),d=new f({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:j,renderer:h,container:new b(this.view.featuresTilingScheme)});this._graphicsViewMap[p.geometryType]=d,this._popupTemplates.set(d,c),"polygon"!==p.geometryType||this.layer.polygonSymbol?"polyline"!==p.geometryType||this.layer.lineSymbol?"point"!==p.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=h.symbol):this.layer.lineSymbol=h.symbol:this.layer.polygonSymbol=h.symbol,this.graphicsViews.push(d),this.container.addChild(d.container)}}),t),p((()=>this.layer?.polygonSymbol),(p=>{this._graphicsViewMap.polygon.renderer=new m({symbol:p})}),t),p((()=>this.layer?.lineSymbol),(p=>{this._graphicsViewMap.polyline.renderer=new m({symbol:p})}),t),p((()=>this.layer?.pointSymbol),(p=>{this._graphicsViewMap.point.renderer=new m({symbol:p})}),t)])}detach(){this._clear()}moveStart(){}moveEnd(){}viewChange(){for(const p of this.graphicsViews)p.viewChange()}_clear(){this.container.removeAllChildren();for(const p of this.graphicsViews)p.destroy();this._graphicsViewMap={},this._popupTemplates.clear(),this.graphicsViews.length=0}};h=a([j("esri.views.2d.layers.GeoRSSLayerView2D")],h);const d=h;export default d;
//# sourceMappingURL=p-d0c28623.js.map