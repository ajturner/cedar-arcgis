import{h as e}from"./p-98455486.js";import{T as s}from"./p-7dc0ec82.js";import{i as r,f as t,p as a}from"./p-ed1a11ab.js";const i=(e,s)=>e.key.level-s.key.level!=0?e.key.level-s.key.level:e.key.row-s.key.row!=0?e.key.row-s.key.row:e.key.col-s.key.col;class n extends r{constructor(e){super(),this._tileInfoView=e}get requiresDedicatedFBO(){return!1}renderChildren(e){this.sortChildren(i),this.setStencilReference(e),super.renderChildren(e)}createRenderParams(e){const{state:s}=e,r=super.createRenderParams(e);return r.requiredLevel=this._tileInfoView.getClosestInfoForScale(s.scale).level,r.displayLevel=this._tileInfoView.tileInfo.scaleToZoom(s.scale),r}prepareRenderPasses(r){const i=super.prepareRenderPasses(r);return i.push(r.registerRenderPass({name:"stencil",brushes:[t],drawPhase:s.DEBUG|s.MAP|s.HIGHLIGHT,target:()=>this.getStencilTarget()})),e("esri-tiles-debug")&&i.push(r.registerRenderPass({name:"tileInfo",brushes:[a],drawPhase:s.DEBUG,target:()=>this.children})),i}getStencilTarget(){return this.children}setStencilReference(e){let s=1;for(const e of this.children)e.stencilRef=s++}}export{n as i};
//# sourceMappingURL=p-1382d09e.js.map